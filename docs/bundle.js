(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var i=e.g.document;if(!t&&i&&(i.currentScript&&"SCRIPT"===i.currentScript.tagName.toUpperCase()&&(t=i.currentScript.src),!t)){var o=i.getElementsByTagName("script");if(o.length)for(var s=o.length-1;s>-1&&(!t||!/^http(s?):/.test(t));)t=o[s--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();class t{constructor(){this.keys={up:!1,down:!1,left:!1,right:!1}}setKey(e,t){this.keys.hasOwnProperty(e)&&(this.keys[e]=t)}getInputDirection(){let e=0,t=0;return this.keys.up&&(t-=1),this.keys.down&&(t+=1),this.keys.left&&(e-=1),this.keys.right&&(e+=1),{x:e,y:t}}}const i={LOADING:"LOADING",MENU:"MENU",PLAYING:"PLAYING",ASKING_QUESTION:"ASKING_QUESTION",SELECTING_FLOOR:"SELECTING_FLOOR",TRANSITIONING:"TRANSITIONING",GAME_OVER:"GAME_OVER"},o=[{question:"Który język programowania jest znany ze swojej wszechstronności i używany zarówno w backendzie (Node.js), jak i frontendzie?",options:["Python","Java","JavaScript","C#"],correctAnswer:2},{question:"Co oznacza skrót HTML?",options:["HyperText Markup Language","High Transfer Machine Language","Hyperlink and Text Management Language","Home Tool Markup Language"],correctAnswer:0},{question:"Która struktura danych działa na zasadzie LIFO (Last-In, First-Out)?",options:["Kolejka (Queue)","Stos (Stack)","Lista (List)","Drzewo (Tree)"],correctAnswer:1},{question:"Jak nazywa się proces znajdowania i naprawiania błędów w kodzie?",options:["Kompilacja","Testowanie","Debugowanie","Refaktoryzacja"],correctAnswer:2},{question:"Który paradygmat programowania opiera się na koncepcji 'obiektów', które mogą zawierać dane i kod?",options:["Programowanie funkcyjne","Programowanie proceduralne","Programowanie obiektowe","Programowanie logiczne"],correctAnswer:2},{question:"Co oznacza CSS?",options:["Cascading Style Sheets","Computer Style Syntax","Creative Styling System","Colorful Style Scripts"],correctAnswer:0},{question:"Który operator w JavaScript służy do ścisłego porównania (wartość i typ)?",options:["==","=","===","!="],correctAnswer:2},{question:"Jak nazywa się popularny system kontroli wersji używany przez programistów?",options:["Subversion (SVN)","Git","Mercurial","CVS"],correctAnswer:1},{question:"Który typ pętli w większości języków programowania jest najbardziej odpowiedni do iteracji po elementach tablicy, gdy nie znamy ich liczby?",options:["for","while","do...while","foreach (lub for...of)"],correctAnswer:3},{question:"Co to jest API?",options:["Advanced Programming Interface","Application Programming Interface","Automated Program Interaction","Algorithmic Processing Input"],correctAnswer:1}];class s{static scoreElement=null;static targetElement=null;static controlsContainer=null;static questionOverlay=null;static questionTextElement=null;static answerButtonsContainer=null;static floorSelectionPanel=null;static floorButtonsContainer=null;static flashMessageContainer=null;static loadingOverlayElement=null;static gameOverScreenElement=null;static gameOverTitleElement=null;static creatorNamesListElement=null;static classInfoElement=null;static returnToMenuButtonElement=null;static gameplayManagerInstance=null;static flashMessageTimeouts={};static setGameplayManager(e){e?(this.gameplayManagerInstance=e,console.log("[UIManager] GameplayManager instance registered successfully with UIManager.")):console.error("[UIManager] Attempted to set GameplayManager instance to null or undefined!")}static initializeUI(e){console.log("[UIManager] Initializing base UI elements (controls, panels)..."),e||console.error("[UIManager] InputManager is required for initializeUI to create controls."),this.createControls(e),this.createQuestionUI(),this.createFloorSelectionUI(),this.ensureFlashMessageContainer(),this.createGameOverScreen(),this.gameplayManagerInstance||console.warn("[UIManager] WARNING: GameplayManager instance is NOT SET at the end of initializeUI. Ensure Game.js calls UIManager.setGameplayManager() *before* UIManager.initializeUI()."),console.log("[UIManager] Base UI element initialization complete.")}static createControls(e){this.controlsContainer=document.getElementById("controls-container"),this.controlsContainer||(this.controlsContainer=document.createElement("div"),this.controlsContainer.id="controls-container",this.controlsContainer.classList.add("controls-container"),document.body.appendChild(this.controlsContainer)),this.controlsContainer.innerHTML="",[{direction:"up",icon:"↑",gridArea:"up"},{direction:"left",icon:"←",gridArea:"left"},{direction:"right",icon:"→",gridArea:"right"},{direction:"down",icon:"↓",gridArea:"down"}].forEach((({direction:t,icon:i,gridArea:o})=>{const s=document.createElement("button");if(s.className=`control-btn ${t}`,s.textContent=i,s.style.gridArea=o,s.dataset.direction=t,e){const i=i=>{e.setKey(t,!0),s.classList.add("active"),i.preventDefault()},o=i=>{e.keys[t]&&e.setKey(t,!1),s.classList.remove("active"),i.preventDefault()};s.addEventListener("touchstart",i,{passive:!1}),s.addEventListener("touchend",o,{passive:!1}),s.addEventListener("touchcancel",o,{passive:!1}),s.addEventListener("mousedown",i),s.addEventListener("mouseup",o),s.addEventListener("mouseleave",o)}this.controlsContainer.appendChild(s)}));const t=document.getElementById("score-display");if(t)this.scoreElement=t.querySelector("#score-value"),this.targetElement=t.querySelector("#score-target"),this.scoreElement&&(this.scoreElement.textContent="0"),this.targetElement&&(this.targetElement.textContent="?");else{const e=document.createElement("div");e.id="score-display",e.classList.add("score-display"),e.innerHTML='Books: <span id="score-value">0</span> / <span id="score-target">?</span>',document.body.appendChild(e),this.scoreElement=e.querySelector("#score-value"),this.targetElement=e.querySelector("#score-target")}}static createQuestionUI(){this.questionOverlay=document.getElementById("question-overlay"),this.questionOverlay||(this.questionOverlay=document.createElement("div"),this.questionOverlay.id="question-overlay",this.questionOverlay.classList.add("ui-panel"),this.questionOverlay.innerHTML='\n        <div id="blackboard-content">\n          <h2>Question</h2>\n          <div id="question-box">\n            <p id="question-text"></p>\n            <div id="answer-buttons"></div>\n          </div>\n        </div>',document.body.appendChild(this.questionOverlay)),this.questionTextElement=this.questionOverlay.querySelector("#question-text"),this.answerButtonsContainer=this.questionOverlay.querySelector("#answer-buttons"),this.questionTextElement&&this.answerButtonsContainer||console.error("[UIManager] Failed to find/create child elements of question UI!")}static createFloorSelectionUI(){this.floorSelectionPanel=document.getElementById("floor-selection-ui"),this.floorSelectionPanel||(this.floorSelectionPanel=document.createElement("div"),this.floorSelectionPanel.id="floor-selection-ui",this.floorSelectionPanel.classList.add("ui-panel"),this.floorSelectionPanel.innerHTML='\n        <h2>Select Floor</h2>\n        <div id="floor-buttons-container"></div>',document.body.appendChild(this.floorSelectionPanel)),this.floorButtonsContainer=this.floorSelectionPanel.querySelector("#floor-buttons-container"),this.floorButtonsContainer||console.error("[UIManager] Failed to find/create floor buttons container!")}static ensureFlashMessageContainer(){return this.flashMessageContainer=document.getElementById("flash-message-container"),this.flashMessageContainer||(this.flashMessageContainer=document.createElement("div"),this.flashMessageContainer.id="flash-message-container",document.body.appendChild(this.flashMessageContainer)),this.flashMessageContainer}static flashMessage(e,t="info",i=3e3){const o=this.ensureFlashMessageContainer();if(!o)return void console.error("[UIManager] Flash message container not found or creatable.");const s=document.createElement("div");s.textContent=e,s.className="flash-message",s.classList.add(`flash-${t}`);const a=`flash-${Date.now()}-${Math.random().toString(36).substr(2,5)}`;s.id=a,o.appendChild(s),requestAnimationFrame((()=>{s.classList.add("visible")})),clearTimeout(this.flashMessageTimeouts[a]),this.flashMessageTimeouts[a]=setTimeout((()=>{s.classList.remove("visible");const e=e=>{"opacity"!==e.propertyName&&"transform"!==e.propertyName||(s.parentNode&&s.parentNode.removeChild(s),delete this.flashMessageTimeouts[a])};s.addEventListener("transitionend",e,{once:!0}),setTimeout((()=>{s.parentNode&&(s.removeEventListener("transitionend",e),s.parentNode.removeChild(s)),delete this.flashMessageTimeouts[a]}),500)}),i)}static getLoadingOverlay(){if(!this.loadingOverlayElement&&(this.loadingOverlayElement=document.getElementById("loading-overlay"),!this.loadingOverlayElement)){this.loadingOverlayElement=document.createElement("div"),this.loadingOverlayElement.id="loading-overlay",this.loadingOverlayElement.className="loading-overlay";const e=document.createElement("p");e.textContent="Loading...",this.loadingOverlayElement.appendChild(e),document.body.appendChild(this.loadingOverlayElement),console.log("[UIManager] Loading overlay created and appended to body.")}return this.loadingOverlayElement}static createGameOverScreen(){this.gameOverScreenElement=document.getElementById("game-over-screen"),this.gameOverScreenElement?(this.gameOverTitleElement=this.gameOverScreenElement.querySelector("#game-over-title"),this.creatorNamesListElement=this.gameOverScreenElement.querySelector("#creator-names"),this.classInfoElement=this.gameOverScreenElement.querySelector("#class-info"),this.returnToMenuButtonElement=this.gameOverScreenElement.querySelector("#return-to-menu-button"),this.gameOverTitleElement&&this.creatorNamesListElement&&this.classInfoElement&&this.returnToMenuButtonElement?(this.returnToMenuButtonElement.addEventListener("click",(()=>{window.location.reload()})),console.log("[UIManager] Game Over screen elements initialized.")):console.error("[UIManager] Failed to find one or more child elements of the game over screen!")):console.error("[UIManager] CRITICAL: #game-over-screen element not found in HTML!")}static showGameOverScreen(e,t=[],i=""){(this.gameOverScreenElement&&this.gameOverTitleElement&&this.creatorNamesListElement&&this.classInfoElement||(console.error("[UIManager] Game Over Screen not fully initialized. Cannot show."),this.createGameOverScreen(),this.gameOverScreenElement))&&(e?(this.gameOverTitleElement.textContent="Congratulations! You Escaped!",this.gameOverTitleElement.className="win-title"):(this.gameOverTitleElement.textContent="Game Over",this.gameOverTitleElement.className="lose-title"),this.creatorNamesListElement.innerHTML="",t.forEach((e=>{const t=document.createElement("li");t.textContent=e,this.creatorNamesListElement.appendChild(t)})),this.classInfoElement.textContent=i,this.gameOverScreenElement.classList.add("visible"),this.hideGameUI(),this.hideQuestion(),this.hideFloorSelectionUI())}static hideGameOverScreen(){this.gameOverScreenElement&&this.gameOverScreenElement.classList.remove("visible")}static showQuestion(e){if(this.questionOverlay&&this.questionTextElement&&this.answerButtonsContainer||(console.error("[UIManager] Question UI not ready."),this.createQuestionUI(),this.questionOverlay&&this.questionTextElement&&this.answerButtonsContainer))if(e){if(!this.gameplayManagerInstance||"function"!=typeof this.gameplayManagerInstance.handleAnswer)return console.error("[UIManager] CRITICAL: GameplayManager or its handleAnswer method is not set or invalid!"),this.flashMessage("Error: Game interaction system failed (Q).","error",5e3),void this.hideQuestion();this.questionTextElement.textContent=e.question,this.answerButtonsContainer.innerHTML="",e.options.forEach(((e,t)=>{const i=document.createElement("button");i.textContent=e,i.dataset.index=t,i.classList.add("answer-button"),i.addEventListener("click",(e=>{const t=parseInt(e.target.dataset.index,10);this.gameplayManagerInstance.handleAnswer(t)})),this.answerButtonsContainer.appendChild(i)})),this.questionOverlay.classList.add("visible")}else console.error("[UIManager] Cannot show question - no questionData provided.")}static hideQuestion(){this.questionOverlay&&(this.questionOverlay.classList.remove("visible"),this.questionTextElement&&(this.questionTextElement.textContent=""),this.answerButtonsContainer&&(this.answerButtonsContainer.innerHTML=""))}static showFloorSelectionUI(e,t,i){if(this.floorSelectionPanel&&this.floorButtonsContainer||(console.error("[UIManager] Floor selection UI not ready."),this.createFloorSelectionUI(),this.floorSelectionPanel&&this.floorButtonsContainer)){if(!this.gameplayManagerInstance||"function"!=typeof this.gameplayManagerInstance.handleFloorSelection)return console.error("[UIManager] CRITICAL: GameplayManager or its handleFloorSelection method is not set or invalid!"),this.flashMessage("Error: Game interaction system failed (F).","error",5e3),void this.hideFloorSelectionUI();this.floorButtonsContainer.innerHTML="";for(let o=e;o<=t;o++){const e=document.createElement("button");e.textContent=`Floor ${o}`,e.classList.add("floor-button"),e.dataset.floor=o,o===i?(e.disabled=!0,e.classList.add("current")):e.addEventListener("click",(()=>{this.gameplayManagerInstance.handleFloorSelection(o)})),this.floorButtonsContainer.appendChild(e)}this.floorSelectionPanel.classList.add("visible")}}static hideFloorSelectionUI(){this.floorSelectionPanel&&this.floorSelectionPanel.classList.remove("visible")}static updateScore(e,t){this.scoreElement||(this.scoreElement=document.getElementById("score-value")),this.targetElement||(this.targetElement=document.getElementById("score-target")),this.scoreElement&&(this.scoreElement.textContent=e),this.targetElement&&(this.targetElement.textContent=t)}static showGameUI(){const e=document.getElementById("game-canvas")||document.getElementById("gameCanvas"),t=document.getElementById("menu-container"),i=document.getElementById("score-display");e?e.style.display="block":console.warn("[UIManager] Canvas element not found to show."),t&&!t.classList.contains("hidden")&&"none"!==t.style.display&&(console.warn("[UIManager] Menu container was not hidden. Hiding it now via style.display."),t.style.display="none"),this.controlsContainer?this.controlsContainer.classList.add("visible"):console.warn("[UIManager] Controls container not found to show."),i?i.classList.add("visible"):console.warn("[UIManager] Score display not found to show."),this.hideQuestion(),this.hideFloorSelectionUI(),this.hideGameOverScreen()}static hideGameUI(){const e=document.getElementById("game-canvas")||document.getElementById("gameCanvas"),t=document.getElementById("score-display");e&&(e.style.display="none"),this.controlsContainer&&this.controlsContainer.classList.remove("visible"),t&&t.classList.remove("visible")}}class a{static Direction={DOWN:0,RIGHT:1,UP:2,LEFT:3};constructor(e,t,i={}){this.ctx=e,this.sprite=new Image,this.frameSize=i.frameSize||32,this.frameCount=i.frameCount||4,this.scale=i.scale||2,this.renderSize=this.frameSize*this.scale,this.speed=i.speed||3,this.animationSpeed=i.animationSpeed||150,this.collisionBoxWidthRatio=i.collisionBoxWidthRatio||.4,this.collisionBoxHeightRatio=i.collisionBoxHeightRatio||.2,this.collisionBoxFeetOffsetRatio=i.collisionBoxFeetOffsetRatio||.4,this.x=0,this.y=0,this.currentDirection=a.Direction.DOWN,this.currentFrame=0,this.isMoving=!1,this.lastFrameTime=0,this.sprite.onload=()=>{console.log(`[Character] Sprite loaded successfully: ${t}`)},this.sprite.onerror=()=>{console.error(`[Character] Failed to load sprite: ${t}`)},this.sprite.src=t}updateAnimation(e){if(!this.isMoving)return this.currentFrame=0,void(this.lastFrameTime=e);this.lastFrameTime||(this.lastFrameTime=e),e-this.lastFrameTime>this.animationSpeed&&(this.currentFrame=(this.currentFrame+1)%this.frameCount,this.lastFrameTime=e)}getCollisionBox(e,t){const i=this.renderSize*this.collisionBoxWidthRatio,o=this.renderSize*this.collisionBoxHeightRatio,s=i/2,a=this.renderSize*this.collisionBoxFeetOffsetRatio;return{top:t+a-o/2,bottom:t+a+o/2,left:e-s,right:e+s,width:i,height:o}}draw(e,t){if(!this.sprite.complete||0===this.sprite.naturalHeight)return;const i=this.currentFrame*this.frameSize,o=this.currentDirection*this.frameSize,s=Math.floor(this.x-this.renderSize/2+e),a=Math.floor(this.y-this.renderSize/2+t);try{this.ctx.drawImage(this.sprite,i,o,this.frameSize,this.frameSize,s,a,this.renderSize,this.renderSize)}catch(e){console.error("[Character] Error drawing sprite:",e)}}}class n{constructor(e,t,i,o){this.x=e,this.y=t,this.id=i,this.tileSize=o,this.size=.6*o,this.collected=!1,this.isCollected=!1}draw(e,t,i,o){const s=Math.floor(this.x+t-this.size/2),a=Math.floor(this.y+i-this.size/2);o?e.drawImage(o,s,a,this.size,this.size):(e.fillStyle="#8d6e63",e.fillRect(s,a,this.size,this.size),e.strokeStyle="#5d4037",e.strokeRect(s,a,this.size,this.size),e.fillStyle="#eee",e.font=.6*this.size+"px Arial",e.textAlign="center",e.textBaseline="middle",e.fillText("?",s+this.size/2,a+this.size/2+2))}}function r(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}function l(e){let t=3735928559^e;return t=Math.imul(t^t>>>16,2246822507),t=Math.imul(t^t>>>13,3266489909),(t^=t>>>16)>>>0}function c(e,t){if(!e||"string"!=typeof e||e.length<7)return e;let i=parseInt(e.slice(1,3),16),o=parseInt(e.slice(3,5),16),s=parseInt(e.slice(5,7),16);return i=Math.min(255,Math.max(0,Math.round(i*t))),o=Math.min(255,Math.max(0,Math.round(o*t))),s=Math.min(255,Math.max(0,Math.round(s*t))),`#${i.toString(16).padStart(2,"0")}${o.toString(16).padStart(2,"0")}${s.toString(16).padStart(2,"0")}`}class h{constructor(e){this.tileSize=e,this.tileColors={},this.baseWallColor="#1c1e22",this.baseCorridorColor="#a0a0a0",this.baseRoomFloorColor="#c0c0c0",this.liftColor="#707080",this.errorColor="#ff00ff"}resetColorCache(){this.tileColors={}}getTileColor(e,t,i,o){const s=`${e},${t}`;if(this.tileColors[s])return this.tileColors[s];let a;switch(i){case 0:a=this.baseWallColor;break;case 1:a=this.baseCorridorColor;break;case 2:a=this.baseRoomFloorColor;break;case 3:a=this.liftColor;break;default:a=this.errorColor}return this.tileColors[s]=a,a}draw(e,t,i=null){const{map:o,rooms:s,books:a,liftPosition:n,offsetX:r,offsetY:l,cols:c,rows:h}=t,d=Math.floor(r),u=Math.floor(l),m=Math.max(0,Math.floor(-d/this.tileSize)-1),g=Math.min(c,Math.ceil((-d+e.canvas.width)/this.tileSize)+1),f=Math.max(0,Math.floor(-u/this.tileSize)-1),p=Math.min(h,Math.ceil((-u+e.canvas.height)/this.tileSize)+1);e.save(),this.drawBaseTiles(e,o,s,d,u,c,h,f,p,m,g),this.drawRoomDetails(e,o,s,n,d,u,c,h,f,p,m,g),this.drawLiftDetails(e,n,d,u),this.drawBooks(e,a,d,u,i),e.restore()}drawBaseTiles(e,t,i,o,s,a,n,r,l,c,h){e.save(),e.shadowColor="transparent";const d="#383838",u="#606060",m="#757575";for(let g=r;g<l;g++)for(let r=c;r<h;r++){const l=t[g]?.[r];if(void 0===l)continue;const c=Math.floor(r*this.tileSize+o),h=Math.floor(g*this.tileSize+s),f=this.getTileColor(g,r,l,i);if(e.fillStyle=f,e.fillRect(c,h,this.tileSize,this.tileSize),0===l){e.fillStyle="rgba(0,0,0,0.06)";for(let t=0;t<5;t++)e.fillRect(c+Math.random()*this.tileSize,h+Math.random()*this.tileSize,1,1);const i=2;g>0&&0!==t[g-1]?.[r]&&(e.fillStyle=m,e.fillRect(c,h,this.tileSize,i)),g<n-1&&0!==t[g+1]?.[r]&&(e.fillStyle=d,e.fillRect(c,h+this.tileSize-i,this.tileSize,i)),r>0&&0!==t[g]?.[r-1]&&(e.fillStyle=u,e.fillRect(c,h+i,i,this.tileSize-i)),r<a-1&&0!==t[g]?.[r+1]&&(e.fillStyle=d,e.fillRect(c+this.tileSize-i,h+i,i,this.tileSize-i)),g>0&&r>0&&0!==t[g-1]?.[r]&&0!==t[g]?.[r-1]&&0!==t[g-1]?.[r-1]&&(e.fillStyle=u,e.fillRect(c,h,i,i)),g>0&&r<a-1&&0!==t[g-1]?.[r]&&0!==t[g]?.[r+1]&&0!==t[g-1]?.[r+1]&&(e.fillStyle=m,e.fillRect(c+this.tileSize-i,h,i,i))}else if(1===l){e.fillStyle="rgba(255,255,255,0.03)";for(let t=0;t<3;t++)e.fillRect(c+Math.random()*this.tileSize,h+Math.random()*this.tileSize,1,1)}}e.restore()}drawRoomDetails(e,t,i,o,s,a,n,r,h,d,u,m){e.save(),e.shadowColor="transparent";for(const o of i){if(o.col+o.width<u||o.col>m||o.row+o.height<h||o.row>d)continue;const i=Math.floor(o.col*this.tileSize+s),n=Math.floor(o.row*this.tileSize+a),r=o.width*this.tileSize,g=o.height*this.tileSize;let f=this.baseRoomFloorColor;const p="number"==typeof this.floorNumber?this.floorNumber:0;let y=l(o.id)+100*p;switch(o.type){case"classroom":f=c("#a0c8e0",.9+l(y)%11/100);break;case"office":f=c("#f0e8c0",.9+l(y+1)%11/100);break;case"library":f=c("#d8c0a8",.9+l(y+2)%11/100);break;case"gym":f=c("#b0d0b0",.9+l(y+3)%11/100);break;case"lab":f=c("#e0e0ff",.9+l(y+4)%11/100);break;case"storage":f=c("#b0a090",.9+l(y+5)%11/100);break;case"utility":f=c("#b0b0b0",.9+l(y+6)%11/100)}for(let i=Math.max(o.row,h);i<Math.min(o.row+o.height,d);i++)for(let n=Math.max(o.col,u);n<Math.min(o.col+o.width,m);n++){const r=t[i]?.[n];if(2===r){const t=Math.floor(n*this.tileSize+s),r=Math.floor(i*this.tileSize+a),h=.98+(l(5e3*i+3*n+y)%11-5)/100;e.fillStyle=c(f,h),e.fillRect(t,r,this.tileSize,this.tileSize),"lab"===o.type&&(e.strokeStyle="rgba(0,0,0,0.08)",e.lineWidth=1,e.strokeRect(t+.5,r+.5,this.tileSize-1,this.tileSize-1))}}this.drawRoomDecorations(e,o,i,n,r,g)}e.restore()}drawLiftDetails(e,t,i,o){if(!t)return;const s=Math.floor(t.tileX*this.tileSize+i),a=Math.floor(t.tileY*this.tileSize+o);if(s+this.tileSize<0||s>e.canvas.width||a+this.tileSize<0||a>e.canvas.height)return;e.save(),e.shadowColor="transparent",e.strokeStyle="#d0d0d0",e.lineWidth=1,e.strokeRect(s+.5,a+.5,this.tileSize-1,this.tileSize-1),e.strokeStyle="#404040",e.strokeRect(s+1.5,a+1.5,this.tileSize-3,this.tileSize-3);const n=.15*this.tileSize,r=s+.8*this.tileSize,l=a+.5*this.tileSize;e.fillStyle="#444",e.beginPath(),e.arc(r,l,n,0,2*Math.PI),e.fill(),e.fillStyle="#ff4444",e.beginPath(),e.arc(r,l,.8*n,0,2*Math.PI),e.fill(),e.fillStyle="rgba(255, 255, 255, 0.5)",e.beginPath(),e.arc(r-.2*n,l-.2*n,.3*n,0,2*Math.PI),e.fill(),e.restore()}drawRoomDecorations(e,t,i,o,s,a){const n=this.tileSize,r=.2*n,l=.1*n;e.lineWidth=1,e.strokeStyle="#444";const c=(t,s,a,n,r,l=!0)=>{e.fillStyle=r;const c=Math.floor(i+t),h=Math.floor(o+s),d=Math.floor(a),u=Math.floor(n);e.fillRect(c,h,d,u),l&&e.strokeRect(c+.5,h+.5,d-1,u-1)},h=(t,s,a,n,r=!0)=>{e.fillStyle=n;const l=Math.floor(i+t),c=Math.floor(o+s);e.beginPath(),e.arc(l,c,Math.floor(a),0,2*Math.PI),e.fill(),r&&e.stroke()};switch(t.type){case"classroom":e.strokeStyle="#5d4037";const t=.6*n,d=.4*n,u=.25*n,m=1*n,g=.9*n;c(.25*s,r,.5*s,.2*n,"#333",!0),c(.25*s+2,r+2,.5*s-4,.2*n-4,"#4CAF50",!1);for(let e=0;;e++){const i=r+.5*n+e*g;if(i+d+u>a-r)break;for(let e=0;;e++){const o=r+e*m;if(o+t>s-r)break;c(o,i,t,d,"#8B4513"),c(o+.1*t,i+d+l,.8*t,u,"#6a4a3a")}}break;case"office":e.strokeStyle="#5d4037";const f=Math.min(.6*s,2.5*n),p=Math.min(.4*a,1.2*n);c(r,r,f,p,"#a0522d"),c(r+f+l,r+.1*p,.6*n,.6*n,"#444");const y=.8*n;c(s-r-y,r,y,a-2*r,"#6B4F41"),c(r+l,r+l,.5*n,.4*n,"#333"),c(r+l+.1*n,r+l+.4*n+2,.3*n,.1*n,"#555");break;case"library":e.strokeStyle="#402a10";const M=.6*n,w=1.5*n;for(let t=r;t<s-r-M;t+=w){c(t,r,M,a-2*r,"#654321"),e.strokeStyle="rgba(0,0,0,0.3)";for(let s=r+.5*n;s<a-r;s+=.7*n)e.beginPath(),e.moveTo(i+t,o+s),e.lineTo(i+t+M,o+s),e.stroke();e.strokeStyle="#402a10"}if(s>1.5*w){const e=M+r+(s-2*M-2*r-1.5*n)/2;e>M+r&&(c(e,.3*a,1.5*n,.4*a,"#966F33"),c(e+.2*n,.3*a-.3*n,.5*n,.25*n,"#6a4a3a"),c(e+.2*n,.3*a+.4*a+l,.5*n,.25*n,"#6a4a3a"))}break;case"gym":e.strokeStyle="#555",c(r,r,.4*s,.3*a,"#778899"),c(s-r-.3*s,a-r-.4*a,.3*s,.4*a,"#778899"),c(.6*s,r,.8*n,1.8*n,"#333"),c(.6*s+.1*n,r+.1*n,.6*n,1.6*n,"#555",!1),c(r,.5*a,1.5*n,.4*n,"#8B4513"),c(s-r-.5*n,r,.5*n,1.5*n,"#444"),h(s-r-.25*n,r+.3*n,.15*n,"#666"),h(s-r-.25*n,r+.7*n,.15*n,"#666"),h(s-r-.25*n,r+1.1*n,.15*n,"#666");break;case"lab":e.strokeStyle="#668";const S=.8*n;c(r,r,s-2*r,S,"#d0d0d8"),c(r,a-r-S,s-2*r,S,"#d0d0d8"),c(r+.2*n,r+.1*n,.5*n,.5*n,"#4a90e2"),c(r+1*n,r+.1*n,.3*n,.6*n,"#f5a623"),h(s-2*r-.4*n,r+.5*S,.2*n,"#e04040",!0),c(.4*s,r+S+l,n,a-2*r-2*S-2*l,"#a0a0b0");break;case"storage":e.strokeStyle="#4d4030";const v=s-2*r,C=.5*n;c(r,r,v,C,"#9e9e9e"),c(r,a-r-C,v,C,"#9e9e9e");const b=.6*n;c(r+.2*n,r+C+l,b,b,"#bf8f6f"),c(r+1*n,r+C+l,b,b,"#bf8f6f"),c(s-r-1.5*b,r+C+3*l,1.2*b,.8*b,"#bf8f6f"),c(s-r-n,a-r-n,.8*n,.8*n,"#6a4a3a");break;default:e.strokeStyle="#5d4037",c(.1*s,.15*a,.3*s,.25*a,"#A0522D"),c(.6*s,.5*a,.3*s,.4*a,"#A0522D"),c(s-r-.5*n,r,.5*n,a-2*r,"#777"),e.strokeStyle="#555",e.lineWidth=3,e.beginPath(),e.moveTo(i+r,o+.8*a),e.lineTo(i+s-r,o+.8*a),e.stroke(),e.beginPath(),e.moveTo(i+.7*s,o+r),e.lineTo(i+.7*s,o+a-r),e.stroke(),e.lineWidth=1}}drawBooks(e,t,i,o,s){if(!t||0===t.length)return;const a=.6*this.tileSize;for(const n of t)if(!n.isCollected&&!n.collected){const t=n.size||a,r=Math.floor(n.x+i-t/2),l=Math.floor(n.y+o-t/2);r+t>0&&r<e.canvas.width&&l+t>0&&l<e.canvas.height&&("function"==typeof n.draw?n.draw(e,i,o,s):s?e.drawImage(s,r,l,t,t):(e.fillStyle="#8d6e63",e.fillRect(r,l,t,t),e.strokeStyle="#5d4037",e.lineWidth=1,e.strokeRect(r+.5,l+.5,t-1,t-1)))}}}let d=null;const u={minRoomSize:5,maxRoomSize:10,corridorThickness:1,numRooms:12,maxRoomAttempts:200,roomTypeWeights:{classroom:50,office:25,library:15,gym:0,utility:10}};function m(e,t,i,o,s){const{centerTileX:a,centerTileY:n}=t,{centerTileX:r,centerTileY:l}=i;Math.random()<.5?(g(e,n,a,r,o,s),f(e,r,n,l,o,s)):(f(e,a,n,l,o,s),g(e,l,a,r,o,s))}function g(e,t,i,o,s,a){if(t<0||t>=a)return;const n=Math.max(0,Math.min(i,o)),r=Math.min(s-1,Math.max(i,o));for(let i=n;i<=r;i++)0===e[t]?.[i]&&(e[t][i]=1)}function f(e,t,i,o,s,a){if(t<0||t>=s)return;const n=Math.max(0,Math.min(i,o)),r=Math.min(a-1,Math.max(i,o));for(let i=n;i<=r;i++)0===e[i]?.[t]&&(e[i][t]=1)}function p(e,t,i,o,s){const a=(e,t,i,o,s)=>{if(e<0||e>=o||t<0||t>=s)return!1;const a=i[t]?.[e];return 1===a||2===a||3===a};let n=0;const r=[{dx:0,dy:-1},{dx:0,dy:1},{dx:-1,dy:0},{dx:1,dy:0}];let l=[!1,!1,!1,!1];for(let c=0;c<r.length;c++)a(e+r[c].dx,t+r[c].dy,i,o,s)&&(n++,l[c]=!0);let c=!1;if(2===n){const[e,t,i,o]=l;(e&&t&&!i&&!o||i&&o&&!e&&!t)&&(c=!0)}return{openSides:n,isChokepoint:c}}function y(e,t,i,o,s){console.log(`  [MapGen Connect] Trying to connect wall at tile(${t}, ${i}) to walkable area...`);const a=[[0,-1],[0,1],[-1,0],[1,0]];let n=!1,r=null;for(const[o,s]of a){const a=t+o,l=i+s,c=e[l]?.[a];if(1===c||2===c||3===c){n=!0,r={x:a,y:l};break}}if(n)return console.log(`  [MapGen Connect] Target(${t}, ${i}) is adjacent to walkable at (${r.x}, ${r.y}). Setting target to Corridor.`),e[i][t]=1,!0;console.log("  [MapGen Connect] Target not adjacent. Searching nearest walkable (Corridor/Floor) via BFS...");const l=[[t,i,0]],c=new Set([`${t},${i}`]),h=[0,1,2,3],d=[1,2];let u=null,m=1/0;for(;l.length>0;){const[t,i,n]=l.shift();if(!(n>=m))for(const[r,g]of a){const a=t+r,f=i+g,p=`${a},${f}`;if(a>=0&&a<o&&f>=0&&f<s&&!c.has(p)){const t=e[f]?.[a];c.add(p),d.includes(t)?n+1<m&&(m=n+1,u={x:a,y:f,dist:m},console.log(`    [BFS] Found potential target at (${a}, ${f}), dist ${m}`)):h.includes(t)&&n+1<m&&l.push([a,f,n+1])}}}return u?(console.log(`  [MapGen Connect] Found closest walkable at tile(${u.x}, ${u.y}) distance ${u.dist}. Carving path...`),g(e,i,t,u.x,o,s),f(e,u.x,i,u.y,o,s),console.log("  [MapGen Connect] Carved path attempt finished."),1===e[i][t]||2===e[i][t]?(console.log(`    [Verify] Target tile (${t},${i}) is now walkable (Type: ${e[i][t]})`),!0):(console.warn(`  [MapGen Connect] Carving done, but target tile(${t}, ${i}) is still WALL (Value: ${e[i][t]}). Setting manually.`),e[i][t]=1,!0)):(console.error(`  [MapGen Connect] FAILED to find ANY nearby walkable (Corridor/Floor) via BFS from wall at tile(${t}, ${i}). Cannot connect.`),!1)}function M(e,t,i,o){if(!t)return!1;const{tileX:s,tileY:a}=t;if(a<0||a>=o||s<0||s>=i||3!==e[a]?.[s])return console.error(`[MapValidation Reachability] Invalid lift position provided: (${s}, ${a})`),!1;const{reachable:n}=function(e,t,i,o,s,a){const n=[[t,i]],r=new Set([`${t},${i}`]),l=[[0,-1],[0,1],[-1,0],[1,0]];let c=!1;for(e[i];n.length>0;){const[t,i]=n.shift();for(const[h,d]of l){const l=t+h,u=i+d,m=`${l},${u}`;if(l>=0&&l<o&&u>=0&&u<s&&!r.has(m)){const t=e[u]?.[l];r.add(m),a.includes(t)&&(n.push([l,u]),1!==t&&2!==t||(c=!0))}}}return{reachable:c}}(e,s,a,i,o,[1,2,3]);return n||console.error(`[MapValidation Reachability] FAILED. Lift at tile(${s}, ${a}) is isolated from corridors/rooms.`),n}class w{constructor(e,t,i,o,s){this.tileSize=32,this.cols=40,this.rows=30,this.width=this.cols*this.tileSize,this.height=this.rows*this.tileSize,this.offsetX=0,this.offsetY=0,this.floorNumber=i,this.minFloor=o,this.maxFloor=s,this.map=null,this.rooms=[],this.books=[],this.liftPosition=null,this.renderer=new h(this.tileSize);const a={minRoomSize:5,maxRoomSize:10,corridorThickness:1,numRooms:12,maxRoomAttempts:200,booksPerMap:5,roomTypeWeights:{classroom:50,office:25,library:15,lab:10,storage:5,utility:10}};try{const e={cols:this.cols,rows:this.rows,floorNumber:this.floorNumber,minFloor:this.minFloor,maxFloor:this.maxFloor,tileSize:this.tileSize,generationParams:a},{map:t,rooms:i,liftPosition:o}=function(e){const{cols:t,rows:i,floorNumber:o,minFloor:s,tileSize:a,generationParams:n}=e,l={...u,...n};l.roomTypeWeights.gym=o===s?60:0,o===s&&(d=null,console.log(`[MapGen Floor ${o}] Reset consistent lift coords for the first floor.`)),console.log(`[MapGen Floor ${o}] Starting map generation (${t}x${i})...`);const c=Array.from({length:i},(()=>Array(t).fill(0))),h=[];let g=null;!function(e,t,i,o,s){const{minRoomSize:a,maxRoomSize:n,numRooms:l,maxRoomAttempts:c,roomTypeWeights:h}=s;let d=0;const u=[];let m=0;for(const e in h){const t=h[e];if(t>0){m+=t;for(let i=0;i<t;i++)u.push(e)}}for(0===u.length&&(u.push("utility"),console.warn("[MapGen Rooms] No room type weights provided or all are zero. Defaulting to 'utility'."));t.length<l&&d<c;){d++;const s=r(a,n),l=r(a,n),c=r(1,i-s-1),h=r(1,o-l-1),m={col:c,row:h,width:s,height:l,type:u[r(0,u.length-1)],id:`room_${t.length+1}`,centerTileX:Math.floor(c+s/2),centerTileY:Math.floor(h+l/2),connected:!1};let g=!1;const f=2;for(const e of t)if(m.col<e.col+e.width+f&&m.col+m.width+f>e.col&&m.row<e.row+e.height+f&&m.row+m.height+f>e.row){g=!0;break}if(!g){t.push(m);for(let t=m.row;t<m.row+m.height;t++)for(let s=m.col;s<m.col+m.width;s++)t>=0&&t<o&&s>=0&&s<i&&(e[t][s]=2)}}t.length<l?console.warn(`[MapGen Rooms] Placed only ${t.length}/${l} rooms after ${d} attempts.`):console.log(`[MapGen Rooms] Placed ${t.length} rooms after ${d} attempts.`)}(c,h,t,i,l),h.length<2&&o!==s?console.warn(`[MapGen Floor ${o}] Placed only ${h.length} rooms. Expect limited connectivity.`):h.length>=2&&function(e,t,i,o){if(t.length<2)return;console.log(`[MapGen Connect] Connecting ${t.length} rooms (improved)...`);const s=new Set([t[0].id]);let a=t.slice(1);for(;a.length>0;){let n=1/0,r=null,l=null,c=-1;for(let e=0;e<a.length;e++){const i=a[e];for(const o of t)if(s.has(o.id)){const t=i.centerTileX-o.centerTileX,s=i.centerTileY-o.centerTileY,a=t*t+s*s;a<n&&(n=a,r=i,l=o.id,c=e)}}if(!r||null===l){console.error("[MapGen Connect] Could not find next pair of rooms to connect. Breaking loop. Remaining unconnected:",a.map((e=>e.id)));break}{const n=t.find((e=>e.id===l));if(!n){console.error(`[MapGen Connect] Error: Could not find connected room with ID ${l}. Skipping connection.`),a.splice(c,1);continue}m(e,n,r,i,o),s.add(r.id),a.splice(c,1)}}console.log(`[MapGen Connect] Finished connecting rooms. Connected count: ${s.size}`)}(c,h,t,i);try{const e=function(e,t,i,o,s,a,n,r){let l=n,c=null;if(o!==s||l){if(!l&&o>s)throw new Error(`[MapGen Lift] Missing consistent coordinates for floor ${o}.`)}else console.log(`[MapGen Floor ${o}] Finding initial lift placement location...`),l=function(e,t,i,o){const s=Math.floor(t/2),a=Math.floor(i/2);let n=null;if(console.log("  [MapGen FindLift V3] Searching for optimal lift spot INSIDE a room..."),!o||0===o.length)return console.warn("  [MapGen FindLift V3] No rooms available to place a lift in. Fallback will be used by caller."),null;for(const r of o){const o=r.col+1,l=r.col+r.width-2,c=r.row+1,h=r.row+r.height-2;if(!(o>l||c>h))for(let d=c;d<=h;d++)for(let c=o;c<=l;c++){let o=0;o-=((c-s)*(c-s)+(d-a)*(d-a))/30;const l=p(c,d,e,t,i);if(l.openSides<1)continue;l.isChokepoint&&(o-=700),o+=120*l.openSides;let h=0,u=0;const m=[{dx:0,dy:-1},{dx:0,dy:1},{dx:-1,dy:0},{dx:1,dy:0}];for(const o of m){const s=c+o.dx,a=d+o.dy;if(a>=0&&a<i&&s>=0&&s<t){const o=e[a]?.[s];if(1===o||2===o){u++;const o=p(s,a,e,t,i);1===o.openSides&&(h=Math.max(h,3e4)),o.isChokepoint&&(h=Math.max(h,500))}}}0===u&&l.openSides<2||(o-=h,(null===n||o>n.score)&&(n={tileX:c,tileY:d,score:o,debug_room:r.id}))}}return n?(console.log(`  [MapGen FindLift V3] Selected best spot IN ROOM (${n.debug_room}) at tile(${n.tileX}, ${n.tileY}). Score: ${n.score.toFixed(0)}.`),{tileX:n.tileX,tileY:n.tileY}):(console.warn("[MapGen FindLift V3] No suitable IN-ROOM location found with internal tiles. Fallback will be used by caller."),null)}(e,t,i,r),l||(console.warn(`[MapGen Floor ${o}] No ideal IN-ROOM lift location found. Forcing placement near center.`),l={tileX:Math.floor(t/2),tileY:Math.floor(i/2)}),console.log(`[MapGen Floor ${o}] Established consistent lift coords at tile(${l.tileX}, ${l.tileY})`),c=l;const{tileX:h,tileY:d}=l;if(d<0||d>=i||h<0||h>=t){const e=Math.max(1,Math.min(t-2,h)),s=Math.max(1,Math.min(i-2,d));throw console.error(`[MapGen Lift] Coords (${h}, ${d}) are outside map bounds on floor ${o}. Adjusted to (${e},${s})`),l={tileX:e,tileY:s},new Error(`[MapGen Lift] Coords (${l.tileX}, ${l.tileY}) are outside map bounds on floor ${o}.`)}0===e[d][h]?(console.warn(`[MapGen Floor ${o}] Lift location tile(${h}, ${d}) is a wall (likely fallback). Forcing connection...`),y(e,h,d,t,i)?(console.log("  [MapGen Lift Connect] Connection attempt finished for wall at lift location."),0===e[d][h]&&(console.warn(`  [MapGen Lift Connect] Force connection completed, but target tile (${h},${d}) remained WALL. Setting to CORRIDOR.`),e[d][h]=1)):console.error(`[MapGen Lift Connect] FAILED to connect wall at lift location tile(${h}, ${d}). Lift might be isolated.`)):console.log(`  [MapGen Lift] Lift location tile(${h}, ${d}) is already walkable (Type: ${e[d][h]}).`),e[d][h]=3;const u={x:(h+.5)*a,y:(d+.5)*a,tileX:h,tileY:d};return console.log(`[MapGen Floor ${o}] Placed/Confirmed lift at tile(${h}, ${d}). World: (${u.x.toFixed(1)}, ${u.y.toFixed(1)})`),{position:u,coords:c||l}}(c,t,i,o,s,a,d,h);g=e.position,e.coords&&(d=e.coords)}catch(e){throw console.error(`[MapGen Floor ${o}] CRITICAL: Lift placement failed:`,e),new Error(`Lift placement failed on floor ${o}: ${e.message}`)}if(function(e,t,i){console.log("  [MapGen] Ensuring map borders are walls.");for(let o=0;o<t;o++)void 0!==e[0]?.[o]&&(e[0][o]=0),void 0!==e[i-1]?.[o]&&(e[i-1][o]=0);for(let o=0;o<i;o++)void 0!==e[o]?.[0]&&(e[o][0]=0),void 0!==e[o]?.[t-1]&&(e[o][t-1]=0)}(c,t,i),g&&!M(c,g,t,i)){if(console.warn(`[MapValidation Floor ${o}] Lift at tile(${g.tileX}, ${g.tileY}) initially unreachable. Attempting final force connection.`),!y(c,g.tileX,g.tileY,t,i)||!M(c,g,t,i)){const e=`CRITICAL: Placed lift at tile(${g.tileX}, ${g.tileY}) is UNREACHABLE even after force connect! Generation failed.`;throw console.error(`[MapGen Floor ${o}] ${e}`),new Error(`Lift is unreachable on floor ${o}. Cannot proceed.`)}console.log(`[MapValidation Floor ${o}] Lift connection successful after second attempt.`)}else{if(!g)throw new Error(`Map generated without a valid lift position on floor ${o}.`);console.log(`[MapValidation Floor ${o}] Lift at tile(${g.tileX}, ${g.tileY}) is reachable.`)}return console.log(`[MapGen Floor ${o}] Map generation completed successfully.`),{map:c,rooms:h,liftPosition:g}}(e);this.map=t,this.rooms=i,this.liftPosition=o,this.renderer.resetColorCache(),this.placeBooksReliably(a.booksPerMap),3===this.floorNumber&&console.log(`[ProcMap F${this.floorNumber}] Init complete. Lift at tile (${o?.tileX}, ${o?.tileY}).`)}catch(e){throw console.error(`[ProcMap F${this.floorNumber}] CRITICAL ERROR during map generation or setup:`,e),e}}placeBooksReliably(e){this.books=[];const t=[],i=new Set;for(let e=0;e<this.rows;e++)for(let i=0;i<this.cols;i++){const o=this.map[e]?.[i],s=this.liftPosition&&e===this.liftPosition.tileY&&i===this.liftPosition.tileX;1!==o&&2!==o||s||t.push({r:e,c:i})}let o=0;for(;o<e&&t.length>0;){const e=Math.floor(Math.random()*t.length),{r:s,c:a}=t.splice(e,1)[0],r=`${a},${s}`;if((1===this.map[s]?.[a]||2===this.map[s]?.[a])&&!i.has(r)){const e=(a+.5)*this.tileSize,t=(s+.5)*this.tileSize,l=`book_f${this.floorNumber}_${o+1}`;this.books.push(new n(e,t,l,this.tileSize)),i.add(r),o++}}}isWalkable(e,t){if(!this.map)return!1;const i=Math.floor(e/this.tileSize),o=Math.floor(t/this.tileSize);if(i<0||i>=this.cols||o<0||o>=this.rows)return!1;const s=this.map[o]?.[i];return 1===s||2===s||3===s}findRandomInitialSpawnPosition(){if(!this.map)return;const e=[];for(let t=1;t<this.rows-1;t++)for(let i=1;i<this.cols-1;i++){const o=this.map[t]?.[i],s=this.liftPosition&&t===this.liftPosition.tileY&&i===this.liftPosition.tileX;1!==o&&2!==o||s||this.isTileOpenEnough(i,t,3,!0)&&e.push({r:t,c:i})}if(0===e.length)for(let t=0;t<this.rows;t++)for(let i=0;i<this.cols;i++){const o=this.map[t]?.[i],s=this.liftPosition&&t===this.liftPosition.tileY&&i===this.liftPosition.tileX;1!==o&&2!==o||s||this.isTileOpenEnough(i,t,2,!0)&&e.push({r:t,c:i})}if(0===e.length)for(let t=0;t<this.rows;t++)for(let i=0;i<this.cols;i++){const o=this.map[t]?.[i],s=this.liftPosition&&t===this.liftPosition.tileY&&i===this.liftPosition.tileX;1!==o&&2!==o||s||e.push({r:t,c:i})}if(0===e.length)return void console.error(`[ProcMap F${this.floorNumber} RandomSpawn] CRITICAL: No suitable spawn tiles found!`);const{r:t,c:i}=e[Math.floor(Math.random()*e.length)];return{x:(i+.5)*this.tileSize,y:(t+.5)*this.tileSize}}isTileOpenEnough(e,t,i=2,o=!1){if(this.floorNumber,!this.map)return!1;let s=0;const a=[[0,-1,"N"],[0,1,"S"],[-1,0,"W"],[1,0,"E"]],n=[!1,!1,!1,!1];for(let i=0;i<a.length;i++){const[o,r,l]=a[i],c=e+o,h=t+r;let d=0;c>=0&&c<this.cols&&h>=0&&h<this.rows&&(d=this.map[h]?.[c],1!==d&&2!==d&&3!==d||(s++,n[i]=!0))}if(s<i)return!1;if(o&&2===s){if(n[0]&&n[1]&&!n[2]&&!n[3])return!1;if(n[2]&&n[3]&&!n[0]&&!n[1])return!1}return!0}findNearestWalkableTile(e,t,i=8,o=!1,s=!1){if(this.floorNumber,!this.map)return null;const a=Math.floor(e/this.tileSize),n=Math.floor(t/this.tileSize),r=[1,2];if(a>=0&&a<this.cols&&n>=0&&n<this.rows){const e=this.map[n][a];if(r.includes(e)&&(!o||3!==e)){const e=2;if(this.isTileOpenEnough(a,n,e,s))return{x:(a+.5)*this.tileSize,y:(n+.5)*this.tileSize}}}for(let e=1;e<=i;e++){const t=2;for(let i=-e;i<=e;i++)for(let l=-e;l<=e;l++){if(Math.abs(l)<e&&Math.abs(i)<e)continue;const c=a+l,h=n+i;if(c<0||c>=this.cols||h<0||h>=this.rows)continue;const d=this.map[h]?.[c];if(r.includes(d)&&(!o||3!==d)&&this.isTileOpenEnough(c,h,t,s))return{x:(c+.5)*this.tileSize,y:(h+.5)*this.tileSize}}}const l=[[a,n]],c=new Set([`${a},${n}`]),h=[[0,-1],[0,1],[-1,0],[1,0]],d=[1,2,3];for(;l.length>0;){const[e,t]=l.shift();for(const[i,a]of h){const n=e+i,h=t+a,u=`${n},${h}`;if(n>=0&&n<this.cols&&h>=0&&h<this.rows&&!c.has(u)){const e=this.map[h]?.[n];if(c.add(u),r.includes(e)&&(!o||3!==e)&&this.isTileOpenEnough(n,h,2,s))return{x:(n+.5)*this.tileSize,y:(h+.5)*this.tileSize};d.includes(e)&&l.push([n,h])}}}return null}getSpawnPointInRoomOfLift(e,t,i=2){this.floorNumber;let o=null,s=null,a=null;const n=[{dx:0,dy:-1},{dx:0,dy:1},{dx:-1,dy:0},{dx:1,dy:0}];for(const i of n){const n=e+i.dx,r=t+i.dy;if(n>=0&&n<this.cols&&r>=0&&r<this.rows&&2===this.map[r]?.[n])for(const e of this.rooms)if(n>=e.x&&n<e.x+e.width&&r>=e.y&&r<e.y+e.height){o=e,s={x:n,y:r},a={dx:i.dx,dy:i.dy};break}if(o)break}if(!o)for(const i of n){const r=e+i.dx,l=t+i.dy;if(!(r<0||r>=this.cols||l<0||l>=this.rows||1!==this.map[l]?.[r])){for(const e of n){if(e.dx===-i.dx&&e.dy===-i.dy)continue;const t=r+e.dx,n=l+e.dy;if(t>=0&&t<this.cols&&n>=0&&n<this.rows&&2===this.map[n]?.[t])for(const i of this.rooms)if(t>=i.x&&t<i.x+i.width&&n>=i.y&&n<i.y+i.height){o=i,s={x:t,y:n},a={dx:e.dx,dy:e.dy};break}if(o)break}if(o)break}}if(!o||!s||!a)return null;const r=a.dx,l=a.dy;for(let e=i-1;e>=0;e--){const t=s.x+r*e,i=s.y+l*e;if(t>=o.x&&t<o.x+o.width&&i>=o.y&&i<o.y+o.height&&2===this.map[i]?.[t]){const e=t+r,s=i+l,a=e>=o.x&&e<o.x+o.width&&s>=o.y&&s<o.y+o.height&&2===this.map[s]?.[e];if(this.isTileOpenEnough(t,i,2,!0)&&a)return{x:(t+.5)*this.tileSize,y:(i+.5)*this.tileSize}}}return this.isTileOpenEnough(s.x,s.y,2,!0)?{x:(s.x+.5)*this.tileSize,y:(s.y+.5)*this.tileSize}:null}findNearbyUnansweredBook(e,t,i=.8*this.tileSize){if(!this.books||0===this.books.length)return null;let o=null,s=i*i;for(const i of this.books)if(!i.isCollected){const a=i.x-e,n=i.y-t,r=a*a+n*n;r<s&&(s=r,o=i)}return o}markBookAsCollected(e){if(!e||!this.books)return!1;const t=this.books.find((t=>t.id===e.id));return!(!t||t.isCollected||(t.isCollected=!0,0))}findNearbyLift(e,t,i=.7*this.tileSize){if(!this.liftPosition)return null;const o=e-this.liftPosition.x,s=t-this.liftPosition.y;return o*o+s*s<i*i?this.liftPosition:null}getLiftPosition(){return this.liftPosition}draw(e,t=null){if(!this.map||!this.renderer)return;const i={map:this.map,rooms:this.rooms,books:this.books,liftPosition:this.liftPosition,offsetX:this.offsetX,offsetY:this.offsetY,cols:this.cols,rows:this.rows,tileSize:this.tileSize};this.renderer.draw(e,i,t)}logMapGrid(){if(!this.map)return void console.log(`[ProcMap F${this.floorNumber}] Map grid not available.`);console.log(`--- Map Grid Floor ${this.floorNumber} (${this.cols}x${this.rows}) ---`);let e="   ";for(let t=0;t<this.cols;t++)e+=t%10==0?Math.floor(t/10):" ";console.log(e),e="   ";for(let t=0;t<this.cols;t++)e+=t%10;console.log(e);for(let e=0;e<this.rows;e++){const t=e.toString().padStart(2," "),i=this.map[e].map((e=>{switch(e){case 0:return"#";case 1:return".";case 2:return" ";case 3:return"L";default:return"?"}})).join("");console.log(`${t} ${i}`)}this.liftPosition?(console.log(`Lift actual tile type in map[${this.liftPosition.tileY}][${this.liftPosition.tileX}]: ${this.map[this.liftPosition.tileY]?.[this.liftPosition.tileX]}`),console.log(`Lift reported at tile: (${this.liftPosition.tileX}, ${this.liftPosition.tileY})`)):console.log("Lift position not set."),console.log(`--- End Map Grid Floor ${this.floorNumber} ---`)}}class S{constructor(e=1,t=3){e>=t?(console.warn(`Level constructor: minFloor (${e}) must be less than maxFloor (${t}). Using defaults 1 and 3.`),this.minFloor=1,this.maxFloor=3):(this.minFloor=e,this.maxFloor=t),this.currentFloor=this.minFloor,this.currentMap=null,this.tileSize=32}async loadFloor(e,t,i){if(e<this.minFloor||e>this.maxFloor){const t=`Attempted to load invalid floor: ${e}. Allowed range: [${this.minFloor}-${this.maxFloor}]`;throw console.error(`[Level] ${t}`),new Error(t)}console.log(`[Level] Loading floor ${e}...`),this.currentFloor=e;try{if(this.currentMap=new w(t,i,this.currentFloor,this.minFloor,this.maxFloor),!(this.currentMap.tileSize&&this.currentMap.map&&this.currentMap.books&&this.currentMap.getLiftPosition()))throw new Error("[Level] ProceduralMap instance is missing essential properties after creation (tileSize, map, books, or liftPosition).");this.tileSize=this.currentMap.tileSize;const o=this.currentMap.getLiftPosition();console.log(`  [Level] Map generated for floor ${this.currentFloor}. TileSize: ${this.tileSize}. Lift at tile(${o.tileX}, ${o.tileY}).`),console.log(`[Level] Floor ${e} loaded successfully. Map size: ${this.currentMap.cols}x${this.currentMap.rows}. ${this.currentMap.books.length} books placed.`)}catch(t){throw console.error(`[Level] CRITICAL FAILURE loading floor ${e}: Failed to create or validate ProceduralMap:`,t),this.currentMap=null,new Error(`Map generation/validation failed for floor ${e}. ${t.message||t}`)}return Promise.resolve()}getCurrentBooks(){return this.currentMap?this.currentMap.books:[]}}class v{constructor(e){this.game=e,this.canvas=null,this.ctx=null}initializeCanvas(){if(this.canvas=document.getElementById("game-canvas"),!this.canvas)throw new Error("[Renderer] Canvas 'game-canvas' not found!");if(this.ctx=this.canvas.getContext("2d"),!this.ctx)throw new Error("[Renderer] Failed to get 2D context.");return this.ctx.imageSmoothingEnabled=!1,this.resizeCanvas(),console.log("[Renderer] Canvas initialized."),{canvas:this.canvas,ctx:this.ctx}}resizeCanvas(){this.canvas&&(this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.game.character&&this.game.level?.currentMap&&this.centerCameraOnCharacter(),console.log(`[Renderer] Canvas resized to ${this.canvas.width}x${this.canvas.height}`))}centerCameraOnCharacter(){const{character:e,level:t,canvas:i}=this.game;e&&t?.currentMap&&i&&(t.currentMap.offsetX=Math.floor(i.width/2-e.x),t.currentMap.offsetY=Math.floor(i.height/2-e.y))}drawFrame(){if(!this.ctx||!this.canvas)return;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);const e=this.game.level?.currentMap,t=this.game.character;e&&e.draw(this.ctx,this.game.bookImage),t&&e&&t.draw(e.offsetX,e.offsetY)}drawWinScreen(){this.ctx&&this.canvas&&(this.ctx.fillStyle="rgba(0, 0, 0, 0.8)",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillStyle="lime",this.ctx.font='clamp(32px, 8vw, 48px) "Press Start 2P", cursive, Arial, sans-serif',this.ctx.fillText("ZWYCIĘSTWO!",this.canvas.width/2,this.canvas.height/2-80),this.ctx.fillStyle="white",this.ctx.font="clamp(24px, 5vw, 32px) Arial, sans-serif",this.ctx.fillText(`Zebrano wszystkie ${this.game.targetBooksToWin} książki!`,this.canvas.width/2,this.canvas.height/2),this.ctx.font="clamp(18px, 4vw, 24px) Arial, sans-serif",this.ctx.fillText("Uniwersytet uratowany!",this.canvas.width/2,this.canvas.height/2+60),this.ctx.font="clamp(14px, 3vw, 18px) Arial, sans-serif",this.ctx.fillStyle="#ccc",this.ctx.fillText("(Odśwież stronę, aby zagrać ponownie)",this.canvas.width/2,this.canvas.height-50))}}class C{constructor(e){this.game=e,this.handleAnswer=this.handleAnswer.bind(this),this.handleFloorSelection=this.handleFloorSelection.bind(this)}update(e){this.game.gameState===i.PLAYING&&this.updatePlayingState(e)}updatePlayingState(e){const t=this.game.character;if(!this.game.level?.currentMap||!t||!this.game.inputManager)return;const{moved:o}=this.handleMovement();t&&"function"==typeof t.updateAnimation&&t.updateAnimation(e),o||this.game.gameState!==i.PLAYING||this.handleInteractions()}handleMovement(){const e=this.game.character,t=this.game.level.currentMap,i=this.game.inputManager;if(!e||!t||!i)return{moved:!1};const o=i.getInputDirection();let s=o.x*e.speed,n=o.y*e.speed,r=0,l=0,c=!1;if(0!==s||0!==n){const t=0!==s&&!this.checkCollision(e.x+s,e.y),i=0!==n&&!this.checkCollision(e.x,e.y+n);t&&(r=s),i&&(l=n),0!==s&&0!==n&&this.checkCollision(e.x+s,e.y+n)&&(t&&!i?l=0:i&&!t?r=0:t||i||(r=0,l=0)),0===r&&0===l||(e.x+=r,e.y+=l,c=!0,Math.abs(r)>=Math.abs(l)?0!==r&&(e.currentDirection=r>0?a.Direction.RIGHT:a.Direction.LEFT):0!==l&&(e.currentDirection=l>0?a.Direction.DOWN:a.Direction.UP))}return e.isMoving=c,{moved:c}}checkCollision(e,t){const i=this.game.level?.currentMap,o=this.game.character;if(!i||!o)return!0;const s=o.getCollisionBox(e,t),a=[{x:s.left,y:s.top},{x:s.right,y:s.top},{x:s.left,y:s.bottom},{x:s.right,y:s.bottom},{x:e,y:s.top},{x:e,y:s.bottom},{x:s.left,y:t+o.renderSize*o.collisionBoxFeetOffsetRatio},{x:s.right,y:t+o.renderSize*o.collisionBoxFeetOffsetRatio}];for(const e of a)if(!i.isWalkable(e.x,e.y))return!0;return!1}handleInteractions(){const e=this.game.level?.currentMap,t=this.game.character;if(!e||!t||this.game.gameState!==i.PLAYING)return;const o=e.findNearbyUnansweredBook(t.x,t.y);o?this.initiateQuestion(o):this.game.liftCooldownActive||e.findNearbyLift(t.x,t.y)&&this.initiateFloorSelection()}initiateQuestion(e){if(this.game.gameState!==i.PLAYING)return;if(this.game.setGameState(i.ASKING_QUESTION),this.game.character&&(this.game.character.isMoving=!1),this.game.currentBookTarget=e,0===this.game.availableQuestions.length&&(this.game.availableQuestions=[...o],0===this.game.availableQuestions.length))return s.flashMessage("Błąd: Brak dostępnych pytań!","error"),this.game.setGameState(i.PLAYING),void(this.game.currentBookTarget=null);const t=Math.floor(Math.random()*this.game.availableQuestions.length);this.game.currentQuestionData=this.game.availableQuestions.splice(t,1)[0],s.showQuestion(this.game.currentQuestionData)}handleAnswer(e){const{gameState:t,currentQuestionData:o,currentBookTarget:a,level:n}=this.game;if(t!==i.ASKING_QUESTION||!o||!a)return s.hideQuestion(),this.game.currentBookTarget=null,this.game.currentQuestionData=null,void(this.game.gameState!==i.GAME_OVER&&this.game.setGameState(i.PLAYING));if(e===o.correctAnswer){s.flashMessage("Prawidłowo!","success",1500);const e=n?.currentMap?.markBookAsCollected(a);if(e){if(this.game.totalBooksCollectedGlobally++,s.updateScore(this.game.totalBooksCollectedGlobally,this.game.targetBooksToWin),this.game.totalBooksCollectedGlobally>=this.game.targetBooksToWin)return s.hideQuestion(),void this.game._setGameOver(!0)}else s.flashMessage("Błąd zbierania książki!","error")}else s.flashMessage("Nieprawidłowa odpowiedź!","error"),this.game.availableQuestions.push(o);s.hideQuestion(),this.game.currentBookTarget=null,this.game.currentQuestionData=null,this.game.gameState!==i.GAME_OVER&&this.game.setGameState(i.PLAYING)}initiateFloorSelection(){this.game.gameState!==i.PLAYING||this.game.liftCooldownActive||(this.game.setGameState(i.SELECTING_FLOOR),this.game.character&&(this.game.character.isMoving=!1),s.showFloorSelectionUI(this.game.level.minFloor,this.game.level.maxFloor,this.game.level.currentFloor))}handleFloorSelection(e){this.game.gameState===i.SELECTING_FLOOR?(s.hideFloorSelectionUI(),e===this.game.level.currentFloor||e<this.game.level.minFloor||e>this.game.level.maxFloor?this.game.setGameState(i.PLAYING):this.handleLiftTransition(e).catch((e=>{this.game._handleFatalError(`Błąd przejścia na piętro: ${e.message}`)}))):s.hideFloorSelectionUI()}async handleLiftTransition(e){const t=this.game,o=3===t.level?.currentFloor||3===e;if(o&&console.log(`[GameplayManager F${e} handleLiftTransition] Starting transition. Cooldown: ${t.liftCooldownActive}`),t.gameState===i.SELECTING_FLOOR&&!t.liftCooldownActive){t.setGameState(i.TRANSITIONING),t.character&&(t.character.isMoving=!1),s.hideQuestion(),s.hideFloorSelectionUI(),t.liftCooldownActive=!0,s.flashMessage(`Przejście na piętro ${e}...`,"info",1800);try{await t.level.loadFloor(e,t.canvas.width,t.canvas.height);const i=t.level.currentMap;if(!i)throw new Error(`Map object is null for floor ${e}.`);const s=i.getLiftPosition();if(!s)throw new Error(`No lift position data on loaded floor ${e}!`);o&&console.log(`  [GM F${e} LiftTransition] Lift tile: (${s.tileX},${s.tileY}), World:(${s.x.toFixed(1)},${s.y.toFixed(1)})`);let n=null;if(n=i.getSpawnPointInRoomOfLift(s.tileX,s.tileY,2),o&&console.log(`  [GM F${e} LiftTransition] From getSpawnPointInRoomOfLift:`,n?{x:n.x.toFixed(1),y:n.y.toFixed(1)}:null),n||(o&&console.warn(`  [GM F${e} LiftTransition] getSpawnPointInRoomOfLift failed. Using findNearestWalkableTile...`),n=i.findNearestWalkableTile(s.x,s.y,5,!0,!0),o&&console.log(`  [GM F${e} LiftTransition] From findNearestWalkableTile:`,n?{x:n.x.toFixed(1),y:n.y.toFixed(1)}:null)),!n){o&&console.error(`  [GM F${e} LiftTransition] All spawn methods failed. Using random spawn...`);const t=i.findRandomInitialSpawnPosition();if(!t)throw new Error(`EMERGENCY SPAWN FAILED on floor ${e}!`);n=t,o&&console.log(`  [GM F${e} LiftTransition] From emergencySpawn:`,n?{x:n.x.toFixed(1),y:n.y.toFixed(1)}:null)}t.character.x=n.x,t.character.y=n.y,o&&console.log(`  [GM F${e} LiftTransition] Final landing: (${t.character.x.toFixed(1)}, ${t.character.y.toFixed(1)})`),t.character.currentDirection=a.Direction.DOWN,t.character.isMoving=!1,t.renderer?.centerCameraOnCharacter(),this.ensureCharacterIsOnWalkableTile(!1),t.startLiftCooldownTimer()}catch(o){console.error(`[GM F${e} LiftTransition] Error during transition:`,o),t.liftCooldownActive=!1,t.gameState!==i.GAME_OVER&&t.setGameState(i.PLAYING),t._handleFatalError(`Transition error to floor ${e}: ${o.message||o}`)}}}ensureCharacterIsOnWalkableTile(e=!1){const t=this.game.character,i=this.game.level?.currentMap;if(!t||!i)return;const o=Math.floor(t.x/i.tileSize),s=Math.floor(t.y/i.tileSize),a=o>=0&&o<i.cols&&s>=0&&s<i.rows?i.map[s]?.[o]:0,n=i.isWalkable(t.x,t.y)&&(!(3===a)||e),r=this.checkCollision(t.x,t.y);if(r||!n){const e=3===this.game.level?.currentFloor;e&&console.warn(`[GameplayManager F${this.game.level.currentFloor} AntiStuck] Char at (${t.x.toFixed(1)},${t.y.toFixed(1)}) -> tile (${o},${s}) needs nudge. Colliding:${r}, SafeStand:${n}`);const a=i.findNearestWalkableTile(t.x,t.y,8,!0,!0);if(a)e&&console.log(`  [AntiStuck] Nudging to safe spot: (${a.x.toFixed(1)},${a.y.toFixed(1)})`),t.x=a.x,t.y=a.y,this.game.renderer?.centerCameraOnCharacter();else{e&&console.error("  [AntiStuck] CRITICAL: Could not find any safe spot to nudge. Trying random.");const o=i.findRandomInitialSpawnPosition();o?(e&&console.warn(`  [AntiStuck] Emergency nudge to random: (${o.x.toFixed(1)},${o.y.toFixed(1)})`),t.x=o.x,t.y=o.y,this.game.renderer?.centerCameraOnCharacter()):(e&&console.error("  [AntiStuck] EVEN RANDOM SPAWN FAILED! Game might be broken."),this.game._handleFatalError("Anti-Stuck system failed critically."))}}}}const b={track1:e.p+"assets/audio/back126c4c9e8849503fadb12.mp3",track2:e.p+"assets/audio/back2ddba92be3cd8ac98633a.mp3",track3:e.p+"assets/audio/back381530afe1194de9f2bb1.mp3"},E=["track1","track2","track3"];class I{constructor(){this.musicVolume=.5,this.currentMusicElement=null,this.currentTrackKey=null,this.isMusicPlaying=!1;const e=localStorage.getItem("musicVolume");null!==e&&(this.musicVolume=parseFloat(e)),this.audioElements={},this._preloadTracks()}_preloadTracks(){console.log("[AudioManager] Preloading tracks from imported sources...");for(const e in b)if(b.hasOwnProperty(e)){const t=b[e],i=new Audio(t);i.preload="auto",this.audioElements[e]=i,console.log(`  Preloaded ${e} from ${t}`)}}setMusicVolume(e){this.musicVolume=Math.max(0,Math.min(1,e)),this.currentMusicElement&&(this.currentMusicElement.volume=this.musicVolume),localStorage.setItem("musicVolume",this.musicVolume.toString()),console.log(`[AudioManager] Music volume set to: ${this.musicVolume}`)}getMusicVolume(){return this.musicVolume}playMusic(e,t=!0){if(!this.audioElements[e]){if(console.warn(`[AudioManager] Track "${e}" not found or not preloaded.`),!b[e])return void console.error(`[AudioManager] Source for track "${e}" not defined in MUSIC_SOURCES.`);this.audioElements[e]=new Audio(b[e])}this.isMusicPlaying&&this.currentTrackKey===e||(this.stopMusic(),this.currentMusicElement=this.audioElements[e],this.currentMusicElement.volume=this.musicVolume,this.currentMusicElement.loop=t,this.currentTrackKey=e,this.currentMusicElement.play().then((()=>{this.isMusicPlaying=!0,console.log(`[AudioManager] Playing music: ${e} (Volume: ${this.currentMusicElement.volume})`)})).catch((t=>{console.error(`[AudioManager] Error playing "${e}":`,t),console.error(`  Playback failure details: userInteracted (check Menu.js), document.hasFocus(): ${document.hasFocus()}`),this.isMusicPlaying=!1,this.currentMusicElement=null,this.currentTrackKey=null})))}stopMusic(){this.currentMusicElement&&(this.currentMusicElement.pause(),this.currentMusicElement.currentTime=0,this.isMusicPlaying=!1,console.log(`[AudioManager] Stopped music: ${this.currentTrackKey}`))}changeTrackForFloor(e){const t=Math.max(0,e-1)%E.length,i=E[t];i?(console.log(`[AudioManager] Floor ${e} -> Music track: ${i}`),this.playMusic(i)):console.warn(`[AudioManager] No track found for floor index ${t}.`)}startInitialMusic(e=1){console.log("[AudioManager] Attempting to start initial music..."),this.changeTrackForFloor(e)}}const x=e.p+"assets/images/character_red9229918d5325fcdf2e6e.png",L=e.p+"assets/images/character_blue7b9b140f7eb486e8a968.png",k=e.p+"assets/images/character_yellowff53afbc44f903d97313.png",$=e.p+"assets/images/character_green007c77c97eef8cbb1e94.png",F=e.p+"assets/images/booka54431ef16a38389c12e.png";class T{static CREATOR_NAMES=["Rafał","Dima","Venia","Kacper"];static CLASS_ATTENDING_INFO="Attending: WCY22IJ1S1 / Programowanie Aplikacji Desktopowych";constructor(e){console.log(`[Game] Initializing with character: ${e}`),this.characterColor=e,this._gameState=i.LOADING,this.isRunning=!1,this.totalBooksCollectedGlobally=0,this.targetBooksToWin=15,this.availableQuestions=[],this.currentBookTarget=null,this.currentQuestionData=null,this.liftCooldownActive=!1,this.liftCooldownTimer=null,this.canvas=null,this.ctx=null,this.character=null,this.level=null,this.inputManager=null,this.renderer=null,this.gameplayManager=null,this.audioManager=null,this.sprites={red:x,blue:L,yellow:k,green:$},this.bookImage=null,this.gameLoop=this.gameLoop.bind(this),this._handleFatalError=this._handleFatalError.bind(this),this._boundKeyDownHandler=null,this._boundKeyUpHandler=null;try{this._initializeCoreComponents(),this.audioManager=new I,console.log("[Game] AudioManager created."),this.gameplayManager=new C(this),console.log("[Game] GameplayManager created."),this.renderer=new v(this);const{canvas:e,ctx:t}=this.renderer.initializeCanvas();this.canvas=e,this.ctx=t,console.log("[Game] Renderer and Canvas initialized."),this._initializeUIManager(),console.log("[Game] UIManager setup initiated."),this._addEventListeners(),this._loadAssetsAndThenStartLogic().then((()=>{console.log("[Game] Async loading and game logic start sequence completed.")})).catch((e=>{console.error("[Game] Unhandled error from _loadAssetsAndThenStartLogic in constructor:",e);const t=s.getLoadingOverlay();t&&t.classList.remove("visible")}))}catch(e){console.error("[Game] Synchronous core initialization failed:",e),alert(`Critical initialization error: ${e.message}. Game cannot start.`),this._handleFatalError(`Initialization error: ${e.message}`,!1)}}get gameState(){return this._gameState}setGameState(e){this._gameState!==e&&(console.log(`[Game State] ${this._gameState} -> ${e}`),this._gameState=e)}_initializeCoreComponents(){this.inputManager=new t,this.level=new S(1,3)}_initializeUIManager(){if(!this.gameplayManager)throw new Error("[Game] GameplayManager is NOT defined when _initializeUIManager is called!");if(!this.inputManager)throw new Error("[Game] InputManager is NOT defined when _initializeUIManager is called!");s.setGameplayManager(this.gameplayManager),s.initializeUI(this.inputManager)}_addEventListeners(){window.addEventListener("resize",(()=>this.renderer?.resizeCanvas()))}async _loadAssetsAndThenStartLogic(){const e=s.getLoadingOverlay();try{this.setGameState(i.LOADING),await this._loadAssets(),await this._startGameLogic(),e&&e.classList.remove("visible")}catch(t){throw console.error("[Game] Asset loading or game logic start failed:",t),e&&e.classList.remove("visible"),this._handleFatalError(`Asset/Start Logic Error: ${t.message}`),t}}async _loadAssets(){console.log("[Game] Loading assets...");const e=[],t=this.sprites[this.characterColor]||this.sprites.red;if(!this.ctx)throw new Error("Canvas context not available for Character creation.");this.character=new a(this.ctx,t,{speed:3,frameSize:32,scale:2,animationSpeed:150,frameCount:4}),e.push(new Promise(((e,i)=>{this.character.sprite.onload=()=>{console.log(`  [Assets] Character sprite loaded: ${t}`),e()},this.character.sprite.onerror=e=>i(new Error(`Failed to load character sprite: ${t}. Details: ${e}`))}))),F?(this.bookImage=new Image,this.bookImage.src=F,e.push(new Promise((e=>{this.bookImage.onload=()=>{console.log(`  [Assets] Book image loaded: ${F}`),e()},this.bookImage.onerror=()=>{console.warn(` [Assets] Failed to load book image: ${F}. Using fallback rendering.`),this.bookImage=null,e()}})))):(console.warn("[Assets] No book sprite path provided. Book will use fallback rendering."),this.bookImage=null),await Promise.all(e),console.log("[Game] All assets loaded successfully.")}async _startGameLogic(){if(console.log("[Game] Starting core game logic..."),!(this.level&&this.character&&this.canvas&&this.renderer&&this.gameplayManager&&this.audioManager))throw new Error("Cannot start game - essential components are missing.");this.setGameState(i.LOADING_LEVEL);try{await this.level.loadFloor(this.level.minFloor,this.canvas.width,this.canvas.height);const e=this.level.currentMap;if(!e)throw new Error("Failed to load initial map. Map object is null.");const t=e.findRandomInitialSpawnPosition();if(!t)throw new Error("Failed to find a valid starting position on the map!");this.character.x=t.x,this.character.y=t.y,this.character.currentDirection=a.Direction.DOWN,this.character.isMoving=!1,this.gameplayManager.ensureCharacterIsOnWalkableTile(!1),this.totalBooksCollectedGlobally=0,this.availableQuestions=[...o],this.liftCooldownActive=!1,clearTimeout(this.liftCooldownTimer),this.liftCooldownTimer=null,this.currentBookTarget=null,this.currentQuestionData=null,this.renderer.centerCameraOnCharacter(),s.updateScore(this.totalBooksCollectedGlobally,this.targetBooksToWin),s.showGameUI(),this._boundKeyDownHandler=this.handleKeyDown.bind(this),this._boundKeyUpHandler=this.handleKeyUp.bind(this),window.addEventListener("keydown",this._boundKeyDownHandler),window.addEventListener("keyup",this._boundKeyUpHandler),this.audioManager.startInitialMusic(this.level.currentFloor),console.log(`[Game] Initial music started for floor ${this.level.currentFloor}`),this.setGameState(i.PLAYING),this.isRunning||(this.isRunning=!0,requestAnimationFrame(this.gameLoop),console.log("[Game] Game logic started. Loop is running."))}catch(e){throw console.error("[Game] Error during _startGameLogic:",e),this._handleFatalError(`Level start process error: ${e.message}`),e}}_setGameOver(e=!0){this.gameState!==i.GAME_OVER&&(this.setGameState(i.GAME_OVER),this.isRunning=!1,this.character&&(this.character.isMoving=!1),clearTimeout(this.liftCooldownTimer),this.audioManager&&this.audioManager.stopMusic(),this._boundKeyDownHandler&&window.removeEventListener("keydown",this._boundKeyDownHandler),this._boundKeyUpHandler&&window.removeEventListener("keyup",this._boundKeyUpHandler),this._boundKeyDownHandler=null,this._boundKeyUpHandler=null,s.showGameOverScreen(e,T.CREATOR_NAMES,T.CLASS_ATTENDING_INFO),console.log(`[Game] Game Over. Win: ${e}`))}stopGame(){console.log("[Game] Explicit stopGame requested."),this._setGameOver(!1),console.log("[Game] Game stopped.")}_handleFatalError(e,t=!0){console.error("[Game] FATAL ERROR:",e),t&&this.gameState!==i.GAME_OVER&&(s.flashMessageContainer&&s.flashMessage?s.flashMessage(`FATAL ERROR: ${e}`,"error",15e3):alert(`FATAL ERROR: ${e}`)),this.gameState!==i.GAME_OVER&&this._setGameOver(!1)}handleKeyDown(e){if(this.gameState!==i.PLAYING||!this.inputManager)return;let t=!1;const o=e.key.toLowerCase();["arrowup","w"].includes(o)?(this.inputManager.setKey("up",!0),t=!0):["arrowdown","s"].includes(o)?(this.inputManager.setKey("down",!0),t=!0):["arrowleft","a"].includes(o)?(this.inputManager.setKey("left",!0),t=!0):["arrowright","d"].includes(o)&&(this.inputManager.setKey("right",!0),t=!0),t&&e.preventDefault()}handleKeyUp(e){if(!this.inputManager)return;const t=e.key.toLowerCase();["arrowup","w"].includes(t)?this.inputManager.setKey("up",!1):["arrowdown","s"].includes(t)?this.inputManager.setKey("down",!1):["arrowleft","a"].includes(t)?this.inputManager.setKey("left",!1):["arrowright","d"].includes(t)&&this.inputManager.setKey("right",!1)}gameLoop(e){this.isRunning&&this.gameState!==i.GAME_OVER&&(this.gameplayManager?.update(e),this.renderer?.centerCameraOnCharacter(),this.renderer?.drawFrame(),requestAnimationFrame(this.gameLoop))}startLiftCooldownTimer(){clearTimeout(this.liftCooldownTimer),console.log("[Game] Starting lift cooldown timer: 2000ms."),this.liftCooldownTimer=setTimeout((()=>{this.liftCooldownActive=!1,this.liftCooldownTimer=null,this.gameState===i.TRANSITIONING?(this.setGameState(i.PLAYING),s.flashMessage(`Arrived at floor ${this.level?.currentFloor}`,"success",1500)):console.warn(`[GameTimer] Lift cooldown ended, but game state is ${this.gameState}. No state change applied.`)}),2e3)}}let G=null;class A{constructor(e){this.characterImageSources=e,this.selectedCharacter=null,this.userInteracted=!1,this.overlay=null,this.audioManagerInstance=null,console.log("[Menu] Constructor called. Initializing elements..."),this.initializeElements(),this.characterPanel?this.setupCharacterImages():console.error("[Menu Constructor] CRITICAL: this.characterPanel is null AFTER initializeElements. Cannot setup images."),console.log("[Menu] Adding event listeners..."),this.addEventListeners(),console.log("[Menu] Instance created.")}setAudioManager(e){this.audioManagerInstance=e,console.log("[Menu] AudioManager instance received."),this.musicVolume&&this.audioManagerInstance&&(this.musicVolume.value=100*this.audioManagerInstance.getMusicVolume())}initializeElements(){this.menuContainer=document.querySelector(".menu-container"),this.menuContainer||console.error("[Menu Init] CRITICAL: .menu-container not found!"),this.settingsButton=document.querySelector(".settings-button"),this.playButton=document.querySelector(".play-button"),this.characterButton=document.querySelector(".character-button"),this.playButton?this.playButton.disabled=!0:console.warn("[Menu Init] .play-button not found."),this.characterButton||console.warn("[Menu Init] .character-button not found."),this.settingsPanel=document.querySelector(".settings-panel"),this.settingsPanel?(this.settingsPanel.parentNode!==document.body&&document.body.appendChild(this.settingsPanel),this.musicVolume=this.settingsPanel.querySelector("#music-volume"),this.sfxVolume=this.settingsPanel.querySelector("#sfx-volume"),this.closeSettingsButton=this.settingsPanel.querySelector(".panel-close-button"),this.musicVolume&&this.audioManagerInstance&&(this.musicVolume.value=100*this.audioManagerInstance.getMusicVolume())):console.warn("[Menu Init] .settings-panel not found."),this.characterPanel=document.querySelector(".character-panel"),this.characterPanel?(this.characterPanel.parentNode!==document.body&&document.body.appendChild(this.characterPanel),this.characterGrid=this.characterPanel.querySelector(".character-grid"),this.closeCharacterPanelButton=this.characterPanel.querySelector(".panel-close-button")):console.error("[Menu Init] CRITICAL: .character-panel not found during initialization!"),this.selectedCharacterDisplay=document.createElement("div"),this.selectedCharacterDisplay.className="selected-character-display";const e=this.menuContainer?this.menuContainer.querySelector(".main-menu-buttons"):null;this.playButton&&this.playButton.parentNode?this.playButton.parentNode.insertBefore(this.selectedCharacterDisplay,this.playButton):e?e.insertBefore(this.selectedCharacterDisplay,e.children[1]||null):this.menuContainer?this.menuContainer.appendChild(this.selectedCharacterDisplay):console.error("[Menu Init] Cannot append selectedCharacterDisplay: no suitable parent found."),this.updateSelectedCharacterDisplay()}setupCharacterImages(){if(!this.characterPanel)return;if(!this.characterImageSources)return;const e=this.characterPanel.querySelectorAll(".character-card");0!==e.length&&e.forEach((e=>{const t=e.dataset.character,i=e.querySelector(".character-preview img");i&&this.characterImageSources[t]&&(i.src=this.characterImageSources[t])}))}handleFirstInteraction(){this.userInteracted||(this.userInteracted=!0,console.log("[Menu] First user interaction detected."))}addEventListeners(){const e=(e,t,i)=>{e&&e.addEventListener(t,(e=>{this.handleFirstInteraction(),i.call(this,e)}))};e(this.settingsButton,"click",this.toggleSettings),e(this.playButton,"click",this.startGame),e(this.characterButton,"click",this.openCharacterModal),this.closeSettingsButton&&this.closeSettingsButton.addEventListener("click",(()=>this.closeSettings())),this.closeCharacterPanelButton&&this.closeCharacterPanelButton.addEventListener("click",(()=>this.closeCharacterModal())),this.musicVolume&&this.musicVolume.addEventListener("input",(e=>{if(this.audioManagerInstance){const t=parseFloat(e.target.value)/100;this.audioManagerInstance.setMusicVolume(t),console.log(`[Menu] Music volume changed via slider to: ${t}`)}else console.warn("[Menu] Music volume slider changed, but AudioManager not available.")})),this.sfxVolume,this.characterGrid&&this.characterGrid.addEventListener("click",(e=>{const t=e.target.closest(".character-card");t&&this.characterPanel&&this.characterPanel.classList.contains("visible")&&(this.handleFirstInteraction(),this.selectCharacter(t))}))}openCharacterModal(){this.characterPanel&&this.characterGrid&&(this.characterPanel.classList.add("visible"),this.settingsPanel?.classList.contains("visible")&&this.closeSettings(),this.overlay||(this.overlay=document.createElement("div"),this.overlay.className="character-modal-overlay",this.overlay.addEventListener("click",(e=>{e.target===this.overlay&&this.closeCharacterModal()})),document.body.appendChild(this.overlay)),this.overlay.classList.add("visible"))}closeCharacterModal(){this.characterPanel&&this.characterPanel.classList.remove("visible"),this.overlay&&this.overlay.classList.remove("visible")}selectCharacter(e){if(!this.characterGrid||!e?.dataset?.character)return;const t=e.dataset.character;this.characterGrid.querySelectorAll(".character-card").forEach((e=>e.classList.remove("selected"))),e.classList.add("selected"),this.selectedCharacter=t,this.playButton&&(this.playButton.disabled=!1),this.updateSelectedCharacterDisplay(),this.closeCharacterModal()}updateSelectedCharacterDisplay(){if(this.selectedCharacterDisplay)if(this.selectedCharacter&&this.characterImageSources&&this.characterImageSources[this.selectedCharacter]){const e=this.selectedCharacter,t=this.characterImageSources[e];let i=e.charAt(0).toUpperCase()+e.slice(1)+" Student";if(this.characterGrid){const t=this.characterGrid.querySelector(`.character-card[data-character="${e}"] h3`);t&&(i=t.textContent)}this.selectedCharacterDisplay.innerHTML=`<img src="${t}" alt="${i}" style="width:32px;height:32px;vertical-align:middle;margin-right:8px; border-radius:50%; object-fit:cover; background-color: #444;"> <span style="font-weight:bold;">${i}</span>`}else this.selectedCharacterDisplay.innerHTML='<span style="color:#aaa;">No character selected</span>'}toggleSettings(){this.settingsPanel&&(this.settingsPanel.classList.contains("visible")?this.closeSettings():this.openSettings())}openSettings(){this.settingsPanel&&(this.settingsPanel.classList.add("visible"),this.characterPanel?.classList.contains("visible")&&this.closeCharacterModal(),this.musicVolume&&this.audioManagerInstance&&(this.musicVolume.value=100*this.audioManagerInstance.getMusicVolume()))}closeSettings(){this.settingsPanel&&this.settingsPanel.classList.contains("visible")&&this.settingsPanel.classList.remove("visible")}async startGame(){if(!this.selectedCharacter)return void s.flashMessage("Please select a character first!","warning",2500);const e=s.getLoadingOverlay();if(e&&e.classList.add("visible"),!this.menuContainer)return void(e&&e.classList.remove("visible"));this.menuContainer.style.display="none";const t=document.getElementById("game-canvas");if(!t)return console.error("[Menu] CRITICAL: #game-canvas not found!"),this.menuContainer&&(this.menuContainer.style.display="flex"),void(e&&e.classList.remove("visible"));t.style.display="block";try{G&&"function"==typeof G.stopGame&&G.stopGame(),G=new T(this.selectedCharacter),G&&G.audioManager?this.setAudioManager(G.audioManager):console.warn("[Menu startGame] Failed to get AudioManager from new Game instance to set it in Menu.")}catch(i){console.error("[Menu] Critical error during game initialization:",i),s.flashMessage(`Game Start Failed: ${i.message}`,"error",1e4),this.menuContainer&&(this.menuContainer.style.display="flex"),t&&(t.style.display="none"),e&&e.classList.remove("visible"),G=null}}}document.addEventListener("DOMContentLoaded",(()=>{console.log("[main.js] DOMContentLoaded. Initializing Menu..."),new A({red:x,blue:L,yellow:k,green:$})}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNwRCtuQixFQUFzQixJQUN4QixDQUNGLEVDNVVGM3NCLFNBQVM2RSxpQkFBaUIsb0JBQW9CLEtBQzVDakMsUUFBUUMsSUFBSSxvREFTWixJQUFJK3BCLEVBUDBCLENBQzVCaEMsSUFBSyxFQUNMQyxLQUFNLEVBQ05DLE9BQVEsRUFDUkMsTUFBTyxHQUdzQixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGVudC1nYW1lL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3N0dWRlbnQtZ2FtZS93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL3N0dWRlbnQtZ2FtZS93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9zdHVkZW50LWdhbWUvLi9qcy9Db3JlL0lucHV0TWFuYWdlci5qcyIsIndlYnBhY2s6Ly9zdHVkZW50LWdhbWUvLi9qcy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vc3R1ZGVudC1nYW1lLy4vanMvVUkvVUlNYW5hZ2VyLmpzIiwid2VicGFjazovL3N0dWRlbnQtZ2FtZS8uL2pzL0NvcmUvQ2hhcmFjdGVyLmpzIiwid2VicGFjazovL3N0dWRlbnQtZ2FtZS8uL2pzL21hcC9Cb29rLmpzIiwid2VicGFjazovL3N0dWRlbnQtZ2FtZS8uL2pzL3V0aWxzL21hcC5qcyIsIndlYnBhY2s6Ly9zdHVkZW50LWdhbWUvLi9qcy9tYXAvTWFwUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vc3R1ZGVudC1nYW1lLy4vanMvbWFwL01hcEdlbi5qcyIsIndlYnBhY2s6Ly9zdHVkZW50LWdhbWUvLi9qcy9tYXAvUHJvY2VkdXJhbE1hcC5qcyIsIndlYnBhY2s6Ly9zdHVkZW50LWdhbWUvLi9qcy9Db3JlL0xldmVsLmpzIiwid2VicGFjazovL3N0dWRlbnQtZ2FtZS8uL2pzL0NvcmUvR2FtZVJlbmRlcmVyLmpzIiwid2VicGFjazovL3N0dWRlbnQtZ2FtZS8uL2pzL0NvcmUvR2FtZXBsYXlNYW5hZ2VyLmpzIiwid2VicGFjazovL3N0dWRlbnQtZ2FtZS8uL2pzL2F1ZGlvL0F1ZGlvTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9zdHVkZW50LWdhbWUvLi9qcy9Db3JlL0dhbWUuanMiLCJ3ZWJwYWNrOi8vc3R1ZGVudC1nYW1lLy4vanMvVUkvTWVudS5qcyIsIndlYnBhY2s6Ly9zdHVkZW50LWdhbWUvLi9qcy9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdCAmJiBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PT0gJ1NDUklQVCcpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmM7XG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkge1xuXHRcdFx0dmFyIGkgPSBzY3JpcHRzLmxlbmd0aCAtIDE7XG5cdFx0XHR3aGlsZSAoaSA+IC0xICYmICghc2NyaXB0VXJsIHx8ICEvXmh0dHAocz8pOi8udGVzdChzY3JpcHRVcmwpKSkgc2NyaXB0VXJsID0gc2NyaXB0c1tpLS1dLnNyYztcblx0XHR9XG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvXmJsb2I6LywgXCJcIikucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsIi8vIHNyYy9jb3JlL0lucHV0TWFuYWdlci5qc1xyXG5leHBvcnQgY2xhc3MgSW5wdXRNYW5hZ2VyIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMua2V5cyA9IHtcclxuICAgICAgdXA6IGZhbHNlLFxyXG4gICAgICBkb3duOiBmYWxzZSxcclxuICAgICAgbGVmdDogZmFsc2UsXHJcbiAgICAgIHJpZ2h0OiBmYWxzZSxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzZXRLZXkoa2V5LCBpc1ByZXNzZWQpIHtcclxuICAgIGlmICh0aGlzLmtleXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICB0aGlzLmtleXNba2V5XSA9IGlzUHJlc3NlZDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldElucHV0RGlyZWN0aW9uKCkge1xyXG4gICAgbGV0IHggPSAwO1xyXG4gICAgbGV0IHkgPSAwO1xyXG4gICAgaWYgKHRoaXMua2V5cy51cCkgeSAtPSAxO1xyXG4gICAgaWYgKHRoaXMua2V5cy5kb3duKSB5ICs9IDE7XHJcbiAgICBpZiAodGhpcy5rZXlzLmxlZnQpIHggLT0gMTtcclxuICAgIGlmICh0aGlzLmtleXMucmlnaHQpIHggKz0gMTtcclxuICAgIHJldHVybiB7IHgsIHkgfTtcclxuICB9XHJcbn1cclxuIiwiLy8gc3JjL3V0aWxzL2NvbnN0YW50cy5qc1xyXG5cclxuLy8gRGVmaW5pY2plIHR5cMOzdyBrYWZlbGvDs3cgbWFweVxyXG5leHBvcnQgY29uc3QgVElMRV9XQUxMID0gMDsgLy8gxZpjaWFuYVxyXG5leHBvcnQgY29uc3QgVElMRV9DT1JSSURPUiA9IDE7IC8vIEtvcnl0YXJ6XHJcbmV4cG9ydCBjb25zdCBUSUxFX1JPT01fRkxPT1IgPSAyOyAvLyBQb2TFgm9nYSBwb2tvanVcclxuZXhwb3J0IGNvbnN0IFRJTEVfTElGVCA9IDM7IC8vIFdpbmRhXHJcbi8vIE1vxbxuYSBkb2RhxIcgd2nEmWNlaiB0eXDDs3csIG5wLiBUSUxFX0RPT1IsIFRJTEVfV0lORE9XIGl0cC5cclxuXHJcbi8vIFN0YW55IGdyeVxyXG5leHBvcnQgY29uc3QgR2FtZVN0YXRlID0ge1xyXG4gIExPQURJTkc6ICdMT0FESU5HJywgLy8gxYFhZG93YW5pZSB6YXNvYsOzdywgZ2VuZXJvd2FuaWUgcG96aW9tdVxyXG4gIE1FTlU6ICdNRU5VJywgLy8gTWVudSBnxYLDs3duZSAod3liw7NyIHBvc3RhY2kpXHJcbiAgUExBWUlORzogJ1BMQVlJTkcnLCAvLyBHxYLDs3duYSByb3pncnl3a2FcclxuICBBU0tJTkdfUVVFU1RJT046ICdBU0tJTkdfUVVFU1RJT04nLCAvLyBXecWbd2lldGxhbmllIHB5dGFuaWFcclxuICBTRUxFQ1RJTkdfRkxPT1I6ICdTRUxFQ1RJTkdfRkxPT1InLCAvLyBXecWbd2lldGxhbmllIFVJIHd5Ym9ydSBwacSZdHJhXHJcbiAgVFJBTlNJVElPTklORzogJ1RSQU5TSVRJT05JTkcnLCAvLyBBbmltYWNqYS9vY3pla2l3YW5pZSBuYSBwcnplasWbY2llIHdpbmR5XHJcbiAgR0FNRV9PVkVSOiAnR0FNRV9PVkVSJywgLy8gS29uaWVjIGdyeSAod3lncmFuYSBsdWIgcHJ6ZWdyYW5hKVxyXG59O1xyXG5cclxuLy8gUGFyYW1ldHJ5IHJvemdyeXdraVxyXG5leHBvcnQgY29uc3QgVEFSR0VUX0JPT0tTX1RPX1dJTiA9IDE1OyAvLyBMaWN6YmEga3NpxIXFvGVrIGRvIHplYnJhbmlhLCBhYnkgd3lncmHEhyAoZ2xvYmFsbmllKVxyXG5leHBvcnQgY29uc3QgTElGVF9DT09MRE9XTl9NUyA9IDIwMDA7IC8vIEN6YXMgb2Rub3dpZW5pYSB3aW5keSB3IG1pbGlzZWt1bmRhY2ggKDIgc2VrdW5keSlcclxuZXhwb3J0IGNvbnN0IExJRlRfSU5URVJBQ1RJT05fUkFESVVTX01VTFRJUExJRVIgPSAwLjc7IC8vIE1ub8W8bmlrIHByb21pZW5pYSBpbnRlcmFrY2ppIHogd2luZMSFICh3emdsxJlkZW0gdGlsZVNpemUpXHJcblxyXG4vLyBTemFuc2EgbmEgcG9qYXdpZW5pZSBzacSZIHNpxYJvd25pIG5hIHBpZXJ3c3p5bSBwacSZdHJ6ZSAoMC4wIGRvIDEuMClcclxuZXhwb3J0IGNvbnN0IEdZTV9DSEFOQ0VfT05fRklSU1RfRkxPT1IgPSAwLjY7IC8vIDYwJSBzemFuc3lcclxuXHJcbi8vIFB5dGFuaWEgaSBvZHBvd2llZHppXHJcbmV4cG9ydCBjb25zdCBxdWVzdGlvbnMgPSBbXHJcbiAge1xyXG4gICAgcXVlc3Rpb246XHJcbiAgICAgICdLdMOzcnkgasSZenlrIHByb2dyYW1vd2FuaWEgamVzdCB6bmFueSB6ZSBzd29qZWogd3N6ZWNoc3Ryb25ub8WbY2kgaSB1xbx5d2FueSB6YXLDs3dubyB3IGJhY2tlbmR6aWUgKE5vZGUuanMpLCBqYWsgaSBmcm9udGVuZHppZT8nLFxyXG4gICAgb3B0aW9uczogWydQeXRob24nLCAnSmF2YScsICdKYXZhU2NyaXB0JywgJ0MjJ10sXHJcbiAgICBjb3JyZWN0QW5zd2VyOiAyLCAvLyBJbmRla3MgcG9wcmF3bmVqIG9kcG93aWVkemkgKEphdmFTY3JpcHQpXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjogJ0NvIG96bmFjemEgc2tyw7N0IEhUTUw/JyxcclxuICAgIG9wdGlvbnM6IFtcclxuICAgICAgJ0h5cGVyVGV4dCBNYXJrdXAgTGFuZ3VhZ2UnLFxyXG4gICAgICAnSGlnaCBUcmFuc2ZlciBNYWNoaW5lIExhbmd1YWdlJyxcclxuICAgICAgJ0h5cGVybGluayBhbmQgVGV4dCBNYW5hZ2VtZW50IExhbmd1YWdlJyxcclxuICAgICAgJ0hvbWUgVG9vbCBNYXJrdXAgTGFuZ3VhZ2UnLFxyXG4gICAgXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDAsXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjogJ0t0w7NyYSBzdHJ1a3R1cmEgZGFueWNoIGR6aWHFgmEgbmEgemFzYWR6aWUgTElGTyAoTGFzdC1JbiwgRmlyc3QtT3V0KT8nLFxyXG4gICAgb3B0aW9uczogWydLb2xlamthIChRdWV1ZSknLCAnU3RvcyAoU3RhY2spJywgJ0xpc3RhIChMaXN0KScsICdEcnpld28gKFRyZWUpJ10sXHJcbiAgICBjb3JyZWN0QW5zd2VyOiAxLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcXVlc3Rpb246ICdKYWsgbmF6eXdhIHNpxJkgcHJvY2VzIHpuYWpkb3dhbmlhIGkgbmFwcmF3aWFuaWEgYsWCxJlkw7N3IHcga29kemllPycsXHJcbiAgICBvcHRpb25zOiBbJ0tvbXBpbGFjamEnLCAnVGVzdG93YW5pZScsICdEZWJ1Z293YW5pZScsICdSZWZha3Rvcnl6YWNqYSddLFxyXG4gICAgY29ycmVjdEFuc3dlcjogMixcclxuICB9LFxyXG4gIHtcclxuICAgIHF1ZXN0aW9uOlxyXG4gICAgICBcIkt0w7NyeSBwYXJhZHlnbWF0IHByb2dyYW1vd2FuaWEgb3BpZXJhIHNpxJkgbmEga29uY2VwY2ppICdvYmlla3TDs3cnLCBrdMOzcmUgbW9nxIUgemF3aWVyYcSHIGRhbmUgaSBrb2Q/XCIsXHJcbiAgICBvcHRpb25zOiBbXHJcbiAgICAgICdQcm9ncmFtb3dhbmllIGZ1bmtjeWpuZScsXHJcbiAgICAgICdQcm9ncmFtb3dhbmllIHByb2NlZHVyYWxuZScsXHJcbiAgICAgICdQcm9ncmFtb3dhbmllIG9iaWVrdG93ZScsXHJcbiAgICAgICdQcm9ncmFtb3dhbmllIGxvZ2ljem5lJyxcclxuICAgIF0sXHJcbiAgICBjb3JyZWN0QW5zd2VyOiAyLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcXVlc3Rpb246ICdDbyBvem5hY3phIENTUz8nLFxyXG4gICAgb3B0aW9uczogW1xyXG4gICAgICAnQ2FzY2FkaW5nIFN0eWxlIFNoZWV0cycsXHJcbiAgICAgICdDb21wdXRlciBTdHlsZSBTeW50YXgnLFxyXG4gICAgICAnQ3JlYXRpdmUgU3R5bGluZyBTeXN0ZW0nLFxyXG4gICAgICAnQ29sb3JmdWwgU3R5bGUgU2NyaXB0cycsXHJcbiAgICBdLFxyXG4gICAgY29ycmVjdEFuc3dlcjogMCxcclxuICB9LFxyXG4gIHtcclxuICAgIHF1ZXN0aW9uOiAnS3TDs3J5IG9wZXJhdG9yIHcgSmF2YVNjcmlwdCBzxYJ1xbx5IGRvIMWbY2lzxYJlZ28gcG9yw7N3bmFuaWEgKHdhcnRvxZvEhyBpIHR5cCk/JyxcclxuICAgIG9wdGlvbnM6IFsnPT0nLCAnPScsICc9PT0nLCAnIT0nXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjogJ0phayBuYXp5d2Egc2nEmSBwb3B1bGFybnkgc3lzdGVtIGtvbnRyb2xpIHdlcnNqaSB1xbx5d2FueSBwcnpleiBwcm9ncmFtaXN0w7N3PycsXHJcbiAgICBvcHRpb25zOiBbJ1N1YnZlcnNpb24gKFNWTiknLCAnR2l0JywgJ01lcmN1cmlhbCcsICdDVlMnXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDEsXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjpcclxuICAgICAgJ0t0w7NyeSB0eXAgcMSZdGxpIHcgd2nEmWtzem/Fm2NpIGrEmXp5a8OzdyBwcm9ncmFtb3dhbmlhIGplc3QgbmFqYmFyZHppZWogb2Rwb3dpZWRuaSBkbyBpdGVyYWNqaSBwbyBlbGVtZW50YWNoIHRhYmxpY3ksIGdkeSBuaWUgem5hbXkgaWNoIGxpY3pieT8nLFxyXG4gICAgb3B0aW9uczogWydmb3InLCAnd2hpbGUnLCAnZG8uLi53aGlsZScsICdmb3JlYWNoIChsdWIgZm9yLi4ub2YpJ10sXHJcbiAgICBjb3JyZWN0QW5zd2VyOiAzLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcXVlc3Rpb246ICdDbyB0byBqZXN0IEFQST8nLFxyXG4gICAgb3B0aW9uczogW1xyXG4gICAgICAnQWR2YW5jZWQgUHJvZ3JhbW1pbmcgSW50ZXJmYWNlJyxcclxuICAgICAgJ0FwcGxpY2F0aW9uIFByb2dyYW1taW5nIEludGVyZmFjZScsXHJcbiAgICAgICdBdXRvbWF0ZWQgUHJvZ3JhbSBJbnRlcmFjdGlvbicsXHJcbiAgICAgICdBbGdvcml0aG1pYyBQcm9jZXNzaW5nIElucHV0JyxcclxuICAgIF0sXHJcbiAgICBjb3JyZWN0QW5zd2VyOiAxLFxyXG4gIH0sXHJcbiAgLy8gRG9kYWogd2nEmWNlaiBweXRhxYQgdHV0YWpcclxuXTtcclxuIiwiLy8gc3JjL1VJL1VJTWFuYWdlci5qc1xyXG5pbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnOyAvLyDQoNCw0YHQutC+0LzQvNC10L3RgtC40YDRg9C50YLQtSwg0LXRgdC70Lgg0L3Rg9C20L3QviDQtNC70Y8g0LvQvtCz0LjQutC4INCy0L3Rg9GC0YDQuCBVSU1hbmFnZXJcclxuXHJcbmV4cG9ydCBjbGFzcyBVSU1hbmFnZXIge1xyXG4gIHN0YXRpYyBzY29yZUVsZW1lbnQgPSBudWxsO1xyXG4gIHN0YXRpYyB0YXJnZXRFbGVtZW50ID0gbnVsbDtcclxuICBzdGF0aWMgY29udHJvbHNDb250YWluZXIgPSBudWxsO1xyXG4gIHN0YXRpYyBxdWVzdGlvbk92ZXJsYXkgPSBudWxsO1xyXG4gIHN0YXRpYyBxdWVzdGlvblRleHRFbGVtZW50ID0gbnVsbDtcclxuICBzdGF0aWMgYW5zd2VyQnV0dG9uc0NvbnRhaW5lciA9IG51bGw7XHJcbiAgc3RhdGljIGZsb29yU2VsZWN0aW9uUGFuZWwgPSBudWxsO1xyXG4gIHN0YXRpYyBmbG9vckJ1dHRvbnNDb250YWluZXIgPSBudWxsO1xyXG4gIHN0YXRpYyBmbGFzaE1lc3NhZ2VDb250YWluZXIgPSBudWxsO1xyXG4gIHN0YXRpYyBsb2FkaW5nT3ZlcmxheUVsZW1lbnQgPSBudWxsOyAvLyDQlNC70Y8g0LrRjdGI0LjRgNC+0LLQsNC90LjRjyDRjdC70LXQvNC10L3RgtCwXHJcblxyXG4gIC8vINCt0LvQtdC80LXQvdGC0Ysg0LTQu9GPINGN0LrRgNCw0L3QsCBHYW1lIE92ZXJcclxuICBzdGF0aWMgZ2FtZU92ZXJTY3JlZW5FbGVtZW50ID0gbnVsbDtcclxuICBzdGF0aWMgZ2FtZU92ZXJUaXRsZUVsZW1lbnQgPSBudWxsO1xyXG4gIHN0YXRpYyBjcmVhdG9yTmFtZXNMaXN0RWxlbWVudCA9IG51bGw7XHJcbiAgc3RhdGljIGNsYXNzSW5mb0VsZW1lbnQgPSBudWxsO1xyXG4gIHN0YXRpYyByZXR1cm5Ub01lbnVCdXR0b25FbGVtZW50ID0gbnVsbDtcclxuXHJcbiAgc3RhdGljIGdhbWVwbGF5TWFuYWdlckluc3RhbmNlID0gbnVsbDsgLy8g0KHRgdGL0LvQutCwINC90LAgR2FtZXBsYXlNYW5hZ2VyXHJcbiAgc3RhdGljIGZsYXNoTWVzc2FnZVRpbWVvdXRzID0ge307XHJcblxyXG4gIC8qKlxyXG4gICAqINCS0YvQt9GL0LLQsNC10YLRgdGPINC40LcgR2FtZS5qcyDQtNC70Y8g0YDQtdCz0LjRgdGC0YDQsNGG0LjQuCDRjdC60LfQtdC80L/Qu9GP0YDQsCBHYW1lcGxheU1hbmFnZXIuXHJcbiAgICovXHJcbiAgc3RhdGljIHNldEdhbWVwbGF5TWFuYWdlcihtYW5hZ2VyKSB7XHJcbiAgICBpZiAoIW1hbmFnZXIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignW1VJTWFuYWdlcl0gQXR0ZW1wdGVkIHRvIHNldCBHYW1lcGxheU1hbmFnZXIgaW5zdGFuY2UgdG8gbnVsbCBvciB1bmRlZmluZWQhJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuZ2FtZXBsYXlNYW5hZ2VySW5zdGFuY2UgPSBtYW5hZ2VyO1xyXG4gICAgY29uc29sZS5sb2coJ1tVSU1hbmFnZXJdIEdhbWVwbGF5TWFuYWdlciBpbnN0YW5jZSByZWdpc3RlcmVkIHN1Y2Nlc3NmdWxseSB3aXRoIFVJTWFuYWdlci4nKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqINCY0L3QuNGG0LjQsNC70LjQt9C40YDRg9C10YIg0LHQsNC30L7QstGL0LUg0Y3Qu9C10LzQtdC90YLRiyBVSS5cclxuICAgKiBHYW1lLmpzINC00L7Qu9C20LXQvSDQstGL0LfQstCw0YLRjCBzZXRHYW1lcGxheU1hbmFnZXIg0J/QldCg0JXQlCDRjdGC0LjQvCDQvNC10YLQvtC00L7QvC5cclxuICAgKi9cclxuICBzdGF0aWMgaW5pdGlhbGl6ZVVJKGlucHV0TWFuYWdlcikge1xyXG4gICAgY29uc29sZS5sb2coJ1tVSU1hbmFnZXJdIEluaXRpYWxpemluZyBiYXNlIFVJIGVsZW1lbnRzIChjb250cm9scywgcGFuZWxzKS4uLicpO1xyXG4gICAgaWYgKCFpbnB1dE1hbmFnZXIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignW1VJTWFuYWdlcl0gSW5wdXRNYW5hZ2VyIGlzIHJlcXVpcmVkIGZvciBpbml0aWFsaXplVUkgdG8gY3JlYXRlIGNvbnRyb2xzLicpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5jcmVhdGVDb250cm9scyhpbnB1dE1hbmFnZXIpO1xyXG4gICAgdGhpcy5jcmVhdGVRdWVzdGlvblVJKCk7XHJcbiAgICB0aGlzLmNyZWF0ZUZsb29yU2VsZWN0aW9uVUkoKTtcclxuICAgIHRoaXMuZW5zdXJlRmxhc2hNZXNzYWdlQ29udGFpbmVyKCk7XHJcbiAgICB0aGlzLmNyZWF0ZUdhbWVPdmVyU2NyZWVuKCk7IC8vINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPINGN0LrRgNCw0L3QsCBHYW1lIE92ZXJcclxuXHJcbiAgICBpZiAoIXRoaXMuZ2FtZXBsYXlNYW5hZ2VySW5zdGFuY2UpIHtcclxuICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgICdbVUlNYW5hZ2VyXSBXQVJOSU5HOiBHYW1lcGxheU1hbmFnZXIgaW5zdGFuY2UgaXMgTk9UIFNFVCBhdCB0aGUgZW5kIG9mIGluaXRpYWxpemVVSS4gJyArXHJcbiAgICAgICAgICAnRW5zdXJlIEdhbWUuanMgY2FsbHMgVUlNYW5hZ2VyLnNldEdhbWVwbGF5TWFuYWdlcigpICpiZWZvcmUqIFVJTWFuYWdlci5pbml0aWFsaXplVUkoKS4nXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZygnW1VJTWFuYWdlcl0gQmFzZSBVSSBlbGVtZW50IGluaXRpYWxpemF0aW9uIGNvbXBsZXRlLicpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGNyZWF0ZUNvbnRyb2xzKGlucHV0TWFuYWdlcikge1xyXG4gICAgdGhpcy5jb250cm9sc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250cm9scy1jb250YWluZXInKTtcclxuICAgIGlmICghdGhpcy5jb250cm9sc0NvbnRhaW5lcikge1xyXG4gICAgICB0aGlzLmNvbnRyb2xzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHRoaXMuY29udHJvbHNDb250YWluZXIuaWQgPSAnY29udHJvbHMtY29udGFpbmVyJztcclxuICAgICAgdGhpcy5jb250cm9sc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdjb250cm9scy1jb250YWluZXInKTtcclxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmNvbnRyb2xzQ29udGFpbmVyKTtcclxuICAgIH1cclxuICAgIHRoaXMuY29udHJvbHNDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XHJcblxyXG4gICAgY29uc3QgYXJyb3dzID0gW1xyXG4gICAgICB7IGRpcmVjdGlvbjogJ3VwJywgaWNvbjogJ+KGkScsIGdyaWRBcmVhOiAndXAnIH0sXHJcbiAgICAgIHsgZGlyZWN0aW9uOiAnbGVmdCcsIGljb246ICfihpAnLCBncmlkQXJlYTogJ2xlZnQnIH0sXHJcbiAgICAgIHsgZGlyZWN0aW9uOiAncmlnaHQnLCBpY29uOiAn4oaSJywgZ3JpZEFyZWE6ICdyaWdodCcgfSxcclxuICAgICAgeyBkaXJlY3Rpb246ICdkb3duJywgaWNvbjogJ+KGkycsIGdyaWRBcmVhOiAnZG93bicgfSxcclxuICAgIF07XHJcblxyXG4gICAgYXJyb3dzLmZvckVhY2goKHsgZGlyZWN0aW9uLCBpY29uLCBncmlkQXJlYSB9KSA9PiB7XHJcbiAgICAgIGNvbnN0IGJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICBidG4uY2xhc3NOYW1lID0gYGNvbnRyb2wtYnRuICR7ZGlyZWN0aW9ufWA7XHJcbiAgICAgIGJ0bi50ZXh0Q29udGVudCA9IGljb247XHJcbiAgICAgIGJ0bi5zdHlsZS5ncmlkQXJlYSA9IGdyaWRBcmVhO1xyXG4gICAgICBidG4uZGF0YXNldC5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XHJcblxyXG4gICAgICBpZiAoaW5wdXRNYW5hZ2VyKSB7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRQcmVzcyA9IChlKSA9PiB7XHJcbiAgICAgICAgICBpbnB1dE1hbmFnZXIuc2V0S2V5KGRpcmVjdGlvbiwgdHJ1ZSk7XHJcbiAgICAgICAgICBidG4uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBlbmRQcmVzcyA9IChlKSA9PiB7XHJcbiAgICAgICAgICBpZiAoaW5wdXRNYW5hZ2VyLmtleXNbZGlyZWN0aW9uXSkge1xyXG4gICAgICAgICAgICBpbnB1dE1hbmFnZXIuc2V0S2V5KGRpcmVjdGlvbiwgZmFsc2UpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBzdGFydFByZXNzLCB7IHBhc3NpdmU6IGZhbHNlIH0pO1xyXG4gICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGVuZFByZXNzLCB7IHBhc3NpdmU6IGZhbHNlIH0pO1xyXG4gICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIGVuZFByZXNzLCB7IHBhc3NpdmU6IGZhbHNlIH0pO1xyXG4gICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBzdGFydFByZXNzKTtcclxuICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGVuZFByZXNzKTtcclxuICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGVuZFByZXNzKTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmNvbnRyb2xzQ29udGFpbmVyLmFwcGVuZENoaWxkKGJ0bik7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBzY29yZURpc3BsYXlDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NvcmUtZGlzcGxheScpO1xyXG4gICAgaWYgKCFzY29yZURpc3BsYXlDb250YWluZXIpIHtcclxuICAgICAgY29uc3Qgc2NvcmVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgc2NvcmVEaXYuaWQgPSAnc2NvcmUtZGlzcGxheSc7XHJcbiAgICAgIHNjb3JlRGl2LmNsYXNzTGlzdC5hZGQoJ3Njb3JlLWRpc3BsYXknKTtcclxuICAgICAgc2NvcmVEaXYuaW5uZXJIVE1MID0gYEJvb2tzOiA8c3BhbiBpZD1cInNjb3JlLXZhbHVlXCI+MDwvc3Bhbj4gLyA8c3BhbiBpZD1cInNjb3JlLXRhcmdldFwiPj88L3NwYW4+YDtcclxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY29yZURpdik7XHJcbiAgICAgIHRoaXMuc2NvcmVFbGVtZW50ID0gc2NvcmVEaXYucXVlcnlTZWxlY3RvcignI3Njb3JlLXZhbHVlJyk7XHJcbiAgICAgIHRoaXMudGFyZ2V0RWxlbWVudCA9IHNjb3JlRGl2LnF1ZXJ5U2VsZWN0b3IoJyNzY29yZS10YXJnZXQnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2NvcmVFbGVtZW50ID0gc2NvcmVEaXNwbGF5Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNzY29yZS12YWx1ZScpO1xyXG4gICAgICB0aGlzLnRhcmdldEVsZW1lbnQgPSBzY29yZURpc3BsYXlDb250YWluZXIucXVlcnlTZWxlY3RvcignI3Njb3JlLXRhcmdldCcpO1xyXG4gICAgICBpZiAodGhpcy5zY29yZUVsZW1lbnQpIHRoaXMuc2NvcmVFbGVtZW50LnRleHRDb250ZW50ID0gJzAnO1xyXG4gICAgICBpZiAodGhpcy50YXJnZXRFbGVtZW50KSB0aGlzLnRhcmdldEVsZW1lbnQudGV4dENvbnRlbnQgPSAnPyc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgY3JlYXRlUXVlc3Rpb25VSSgpIHtcclxuICAgIHRoaXMucXVlc3Rpb25PdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3F1ZXN0aW9uLW92ZXJsYXknKTtcclxuICAgIGlmICghdGhpcy5xdWVzdGlvbk92ZXJsYXkpIHtcclxuICAgICAgdGhpcy5xdWVzdGlvbk92ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgdGhpcy5xdWVzdGlvbk92ZXJsYXkuaWQgPSAncXVlc3Rpb24tb3ZlcmxheSc7XHJcbiAgICAgIHRoaXMucXVlc3Rpb25PdmVybGF5LmNsYXNzTGlzdC5hZGQoJ3VpLXBhbmVsJyk7XHJcbiAgICAgIHRoaXMucXVlc3Rpb25PdmVybGF5LmlubmVySFRNTCA9IGBcclxuICAgICAgICA8ZGl2IGlkPVwiYmxhY2tib2FyZC1jb250ZW50XCI+XHJcbiAgICAgICAgICA8aDI+UXVlc3Rpb248L2gyPlxyXG4gICAgICAgICAgPGRpdiBpZD1cInF1ZXN0aW9uLWJveFwiPlxyXG4gICAgICAgICAgICA8cCBpZD1cInF1ZXN0aW9uLXRleHRcIj48L3A+XHJcbiAgICAgICAgICAgIDxkaXYgaWQ9XCJhbnN3ZXItYnV0dG9uc1wiPjwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+YDtcclxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnF1ZXN0aW9uT3ZlcmxheSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnF1ZXN0aW9uVGV4dEVsZW1lbnQgPSB0aGlzLnF1ZXN0aW9uT3ZlcmxheS5xdWVyeVNlbGVjdG9yKCcjcXVlc3Rpb24tdGV4dCcpO1xyXG4gICAgdGhpcy5hbnN3ZXJCdXR0b25zQ29udGFpbmVyID0gdGhpcy5xdWVzdGlvbk92ZXJsYXkucXVlcnlTZWxlY3RvcignI2Fuc3dlci1idXR0b25zJyk7XHJcbiAgICBpZiAoIXRoaXMucXVlc3Rpb25UZXh0RWxlbWVudCB8fCAhdGhpcy5hbnN3ZXJCdXR0b25zQ29udGFpbmVyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tVSU1hbmFnZXJdIEZhaWxlZCB0byBmaW5kL2NyZWF0ZSBjaGlsZCBlbGVtZW50cyBvZiBxdWVzdGlvbiBVSSEnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXRpYyBjcmVhdGVGbG9vclNlbGVjdGlvblVJKCkge1xyXG4gICAgdGhpcy5mbG9vclNlbGVjdGlvblBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zsb29yLXNlbGVjdGlvbi11aScpO1xyXG4gICAgaWYgKCF0aGlzLmZsb29yU2VsZWN0aW9uUGFuZWwpIHtcclxuICAgICAgdGhpcy5mbG9vclNlbGVjdGlvblBhbmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHRoaXMuZmxvb3JTZWxlY3Rpb25QYW5lbC5pZCA9ICdmbG9vci1zZWxlY3Rpb24tdWknO1xyXG4gICAgICB0aGlzLmZsb29yU2VsZWN0aW9uUGFuZWwuY2xhc3NMaXN0LmFkZCgndWktcGFuZWwnKTtcclxuICAgICAgdGhpcy5mbG9vclNlbGVjdGlvblBhbmVsLmlubmVySFRNTCA9IGBcclxuICAgICAgICA8aDI+U2VsZWN0IEZsb29yPC9oMj5cclxuICAgICAgICA8ZGl2IGlkPVwiZmxvb3ItYnV0dG9ucy1jb250YWluZXJcIj48L2Rpdj5gO1xyXG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZmxvb3JTZWxlY3Rpb25QYW5lbCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmZsb29yQnV0dG9uc0NvbnRhaW5lciA9IHRoaXMuZmxvb3JTZWxlY3Rpb25QYW5lbC5xdWVyeVNlbGVjdG9yKCcjZmxvb3ItYnV0dG9ucy1jb250YWluZXInKTtcclxuICAgIGlmICghdGhpcy5mbG9vckJ1dHRvbnNDb250YWluZXIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignW1VJTWFuYWdlcl0gRmFpbGVkIHRvIGZpbmQvY3JlYXRlIGZsb29yIGJ1dHRvbnMgY29udGFpbmVyIScpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGVuc3VyZUZsYXNoTWVzc2FnZUNvbnRhaW5lcigpIHtcclxuICAgIHRoaXMuZmxhc2hNZXNzYWdlQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZsYXNoLW1lc3NhZ2UtY29udGFpbmVyJyk7XHJcbiAgICBpZiAoIXRoaXMuZmxhc2hNZXNzYWdlQ29udGFpbmVyKSB7XHJcbiAgICAgIHRoaXMuZmxhc2hNZXNzYWdlQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHRoaXMuZmxhc2hNZXNzYWdlQ29udGFpbmVyLmlkID0gJ2ZsYXNoLW1lc3NhZ2UtY29udGFpbmVyJztcclxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmZsYXNoTWVzc2FnZUNvbnRhaW5lcik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy5mbGFzaE1lc3NhZ2VDb250YWluZXI7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZmxhc2hNZXNzYWdlKG1lc3NhZ2UsIHR5cGUgPSAnaW5mbycsIGR1cmF0aW9uID0gMzAwMCkge1xyXG4gICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5lbnN1cmVGbGFzaE1lc3NhZ2VDb250YWluZXIoKTtcclxuICAgIGlmICghY29udGFpbmVyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tVSU1hbmFnZXJdIEZsYXNoIG1lc3NhZ2UgY29udGFpbmVyIG5vdCBmb3VuZCBvciBjcmVhdGFibGUuJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IG1lc3NhZ2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBtZXNzYWdlRWxlbWVudC50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XHJcbiAgICBtZXNzYWdlRWxlbWVudC5jbGFzc05hbWUgPSAnZmxhc2gtbWVzc2FnZSc7XHJcbiAgICBtZXNzYWdlRWxlbWVudC5jbGFzc0xpc3QuYWRkKGBmbGFzaC0ke3R5cGV9YCk7XHJcbiAgICBjb25zdCBtZXNzYWdlSWQgPSBgZmxhc2gtJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA1KX1gO1xyXG4gICAgbWVzc2FnZUVsZW1lbnQuaWQgPSBtZXNzYWdlSWQ7XHJcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQobWVzc2FnZUVsZW1lbnQpO1xyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgbWVzc2FnZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xyXG4gICAgfSk7XHJcbiAgICBjbGVhclRpbWVvdXQodGhpcy5mbGFzaE1lc3NhZ2VUaW1lb3V0c1ttZXNzYWdlSWRdKTtcclxuICAgIGNvbnN0IHJlbW92ZUVsZW1lbnQgPSAoKSA9PiB7XHJcbiAgICAgIG1lc3NhZ2VFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcclxuICAgICAgY29uc3QgaGFuZGxlVHJhbnNpdGlvbkVuZCA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIGlmIChldmVudC5wcm9wZXJ0eU5hbWUgPT09ICdvcGFjaXR5JyB8fCBldmVudC5wcm9wZXJ0eU5hbWUgPT09ICd0cmFuc2Zvcm0nKSB7XHJcbiAgICAgICAgICBpZiAobWVzc2FnZUVsZW1lbnQucGFyZW50Tm9kZSkgbWVzc2FnZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChtZXNzYWdlRWxlbWVudCk7XHJcbiAgICAgICAgICBkZWxldGUgdGhpcy5mbGFzaE1lc3NhZ2VUaW1lb3V0c1ttZXNzYWdlSWRdO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgICAgbWVzc2FnZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGhhbmRsZVRyYW5zaXRpb25FbmQsIHsgb25jZTogdHJ1ZSB9KTtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKG1lc3NhZ2VFbGVtZW50LnBhcmVudE5vZGUpIHtcclxuICAgICAgICAgIG1lc3NhZ2VFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBoYW5kbGVUcmFuc2l0aW9uRW5kKTtcclxuICAgICAgICAgIG1lc3NhZ2VFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobWVzc2FnZUVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkZWxldGUgdGhpcy5mbGFzaE1lc3NhZ2VUaW1lb3V0c1ttZXNzYWdlSWRdO1xyXG4gICAgICB9LCA1MDApO1xyXG4gICAgfTtcclxuICAgIHRoaXMuZmxhc2hNZXNzYWdlVGltZW91dHNbbWVzc2FnZUlkXSA9IHNldFRpbWVvdXQocmVtb3ZlRWxlbWVudCwgZHVyYXRpb24pO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldExvYWRpbmdPdmVybGF5KCkge1xyXG4gICAgaWYgKCF0aGlzLmxvYWRpbmdPdmVybGF5RWxlbWVudCkge1xyXG4gICAgICB0aGlzLmxvYWRpbmdPdmVybGF5RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkaW5nLW92ZXJsYXknKTtcclxuICAgICAgaWYgKCF0aGlzLmxvYWRpbmdPdmVybGF5RWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMubG9hZGluZ092ZXJsYXlFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgdGhpcy5sb2FkaW5nT3ZlcmxheUVsZW1lbnQuaWQgPSAnbG9hZGluZy1vdmVybGF5JztcclxuICAgICAgICB0aGlzLmxvYWRpbmdPdmVybGF5RWxlbWVudC5jbGFzc05hbWUgPSAnbG9hZGluZy1vdmVybGF5JztcclxuICAgICAgICBjb25zdCBsb2FkaW5nVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuICAgICAgICBsb2FkaW5nVGV4dC50ZXh0Q29udGVudCA9ICdMb2FkaW5nLi4uJztcclxuICAgICAgICB0aGlzLmxvYWRpbmdPdmVybGF5RWxlbWVudC5hcHBlbmRDaGlsZChsb2FkaW5nVGV4dCk7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmxvYWRpbmdPdmVybGF5RWxlbWVudCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1tVSU1hbmFnZXJdIExvYWRpbmcgb3ZlcmxheSBjcmVhdGVkIGFuZCBhcHBlbmRlZCB0byBib2R5LicpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy5sb2FkaW5nT3ZlcmxheUVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgY3JlYXRlR2FtZU92ZXJTY3JlZW4oKSB7XHJcbiAgICB0aGlzLmdhbWVPdmVyU2NyZWVuRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lLW92ZXItc2NyZWVuJyk7XHJcbiAgICBpZiAoIXRoaXMuZ2FtZU92ZXJTY3JlZW5FbGVtZW50KSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tVSU1hbmFnZXJdIENSSVRJQ0FMOiAjZ2FtZS1vdmVyLXNjcmVlbiBlbGVtZW50IG5vdCBmb3VuZCBpbiBIVE1MIScpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB0aGlzLmdhbWVPdmVyVGl0bGVFbGVtZW50ID0gdGhpcy5nYW1lT3ZlclNjcmVlbkVsZW1lbnQucXVlcnlTZWxlY3RvcignI2dhbWUtb3Zlci10aXRsZScpO1xyXG4gICAgdGhpcy5jcmVhdG9yTmFtZXNMaXN0RWxlbWVudCA9IHRoaXMuZ2FtZU92ZXJTY3JlZW5FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjcmVhdG9yLW5hbWVzJyk7XHJcbiAgICB0aGlzLmNsYXNzSW5mb0VsZW1lbnQgPSB0aGlzLmdhbWVPdmVyU2NyZWVuRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcjY2xhc3MtaW5mbycpO1xyXG4gICAgdGhpcy5yZXR1cm5Ub01lbnVCdXR0b25FbGVtZW50ID1cclxuICAgICAgdGhpcy5nYW1lT3ZlclNjcmVlbkVsZW1lbnQucXVlcnlTZWxlY3RvcignI3JldHVybi10by1tZW51LWJ1dHRvbicpO1xyXG5cclxuICAgIGlmIChcclxuICAgICAgIXRoaXMuZ2FtZU92ZXJUaXRsZUVsZW1lbnQgfHxcclxuICAgICAgIXRoaXMuY3JlYXRvck5hbWVzTGlzdEVsZW1lbnQgfHxcclxuICAgICAgIXRoaXMuY2xhc3NJbmZvRWxlbWVudCB8fFxyXG4gICAgICAhdGhpcy5yZXR1cm5Ub01lbnVCdXR0b25FbGVtZW50XHJcbiAgICApIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAnW1VJTWFuYWdlcl0gRmFpbGVkIHRvIGZpbmQgb25lIG9yIG1vcmUgY2hpbGQgZWxlbWVudHMgb2YgdGhlIGdhbWUgb3ZlciBzY3JlZW4hJ1xyXG4gICAgICApO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5yZXR1cm5Ub01lbnVCdXR0b25FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICB9KTtcclxuICAgIGNvbnNvbGUubG9nKCdbVUlNYW5hZ2VyXSBHYW1lIE92ZXIgc2NyZWVuIGVsZW1lbnRzIGluaXRpYWxpemVkLicpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHNob3dHYW1lT3ZlclNjcmVlbihpc1dpbiwgY3JlYXRvcnMgPSBbXSwgY2xhc3NJbmZvVGV4dCA9ICcnKSB7XHJcbiAgICBpZiAoXHJcbiAgICAgICF0aGlzLmdhbWVPdmVyU2NyZWVuRWxlbWVudCB8fFxyXG4gICAgICAhdGhpcy5nYW1lT3ZlclRpdGxlRWxlbWVudCB8fFxyXG4gICAgICAhdGhpcy5jcmVhdG9yTmFtZXNMaXN0RWxlbWVudCB8fFxyXG4gICAgICAhdGhpcy5jbGFzc0luZm9FbGVtZW50XHJcbiAgICApIHtcclxuICAgICAgY29uc29sZS5lcnJvcignW1VJTWFuYWdlcl0gR2FtZSBPdmVyIFNjcmVlbiBub3QgZnVsbHkgaW5pdGlhbGl6ZWQuIENhbm5vdCBzaG93LicpO1xyXG4gICAgICB0aGlzLmNyZWF0ZUdhbWVPdmVyU2NyZWVuKCk7XHJcbiAgICAgIGlmICghdGhpcy5nYW1lT3ZlclNjcmVlbkVsZW1lbnQpIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNXaW4pIHtcclxuICAgICAgdGhpcy5nYW1lT3ZlclRpdGxlRWxlbWVudC50ZXh0Q29udGVudCA9ICdDb25ncmF0dWxhdGlvbnMhIFlvdSBFc2NhcGVkISc7XHJcbiAgICAgIHRoaXMuZ2FtZU92ZXJUaXRsZUVsZW1lbnQuY2xhc3NOYW1lID0gJ3dpbi10aXRsZSc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmdhbWVPdmVyVGl0bGVFbGVtZW50LnRleHRDb250ZW50ID0gJ0dhbWUgT3Zlcic7XHJcbiAgICAgIHRoaXMuZ2FtZU92ZXJUaXRsZUVsZW1lbnQuY2xhc3NOYW1lID0gJ2xvc2UtdGl0bGUnO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY3JlYXRvck5hbWVzTGlzdEVsZW1lbnQuaW5uZXJIVE1MID0gJyc7XHJcbiAgICBjcmVhdG9ycy5mb3JFYWNoKChuYW1lKSA9PiB7XHJcbiAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcclxuICAgICAgbGkudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgICB0aGlzLmNyZWF0b3JOYW1lc0xpc3RFbGVtZW50LmFwcGVuZENoaWxkKGxpKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuY2xhc3NJbmZvRWxlbWVudC50ZXh0Q29udGVudCA9IGNsYXNzSW5mb1RleHQ7XHJcblxyXG4gICAgdGhpcy5nYW1lT3ZlclNjcmVlbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xyXG4gICAgLy8g0K3RgtC4IFVJINGD0LbQtSDQtNC+0LvQttC90Ysg0LHRi9GC0Ywg0YHQutGA0YvRgtGLINGH0LXRgNC10LcgaGlkZUdhbWVVSSwg0L3QviDQtNC70Y8g0L3QsNC00LXQttC90L7RgdGC0Lg6XHJcbiAgICB0aGlzLmhpZGVHYW1lVUkoKTtcclxuICAgIHRoaXMuaGlkZVF1ZXN0aW9uKCk7XHJcbiAgICB0aGlzLmhpZGVGbG9vclNlbGVjdGlvblVJKCk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgaGlkZUdhbWVPdmVyU2NyZWVuKCkge1xyXG4gICAgaWYgKHRoaXMuZ2FtZU92ZXJTY3JlZW5FbGVtZW50KSB7XHJcbiAgICAgIHRoaXMuZ2FtZU92ZXJTY3JlZW5FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXRpYyBzaG93UXVlc3Rpb24ocXVlc3Rpb25EYXRhKSB7XHJcbiAgICBpZiAoIXRoaXMucXVlc3Rpb25PdmVybGF5IHx8ICF0aGlzLnF1ZXN0aW9uVGV4dEVsZW1lbnQgfHwgIXRoaXMuYW5zd2VyQnV0dG9uc0NvbnRhaW5lcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbVUlNYW5hZ2VyXSBRdWVzdGlvbiBVSSBub3QgcmVhZHkuJyk7XHJcbiAgICAgIHRoaXMuY3JlYXRlUXVlc3Rpb25VSSgpO1xyXG4gICAgICBpZiAoIXRoaXMucXVlc3Rpb25PdmVybGF5IHx8ICF0aGlzLnF1ZXN0aW9uVGV4dEVsZW1lbnQgfHwgIXRoaXMuYW5zd2VyQnV0dG9uc0NvbnRhaW5lcilcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoIXF1ZXN0aW9uRGF0YSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbVUlNYW5hZ2VyXSBDYW5ub3Qgc2hvdyBxdWVzdGlvbiAtIG5vIHF1ZXN0aW9uRGF0YSBwcm92aWRlZC4nKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKFxyXG4gICAgICAhdGhpcy5nYW1lcGxheU1hbmFnZXJJbnN0YW5jZSB8fFxyXG4gICAgICB0eXBlb2YgdGhpcy5nYW1lcGxheU1hbmFnZXJJbnN0YW5jZS5oYW5kbGVBbnN3ZXIgIT09ICdmdW5jdGlvbidcclxuICAgICkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICdbVUlNYW5hZ2VyXSBDUklUSUNBTDogR2FtZXBsYXlNYW5hZ2VyIG9yIGl0cyBoYW5kbGVBbnN3ZXIgbWV0aG9kIGlzIG5vdCBzZXQgb3IgaW52YWxpZCEnXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuZmxhc2hNZXNzYWdlKCdFcnJvcjogR2FtZSBpbnRlcmFjdGlvbiBzeXN0ZW0gZmFpbGVkIChRKS4nLCAnZXJyb3InLCA1MDAwKTtcclxuICAgICAgdGhpcy5oaWRlUXVlc3Rpb24oKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucXVlc3Rpb25UZXh0RWxlbWVudC50ZXh0Q29udGVudCA9IHF1ZXN0aW9uRGF0YS5xdWVzdGlvbjtcclxuICAgIHRoaXMuYW5zd2VyQnV0dG9uc0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcclxuXHJcbiAgICBxdWVzdGlvbkRhdGEub3B0aW9ucy5mb3JFYWNoKChvcHRpb25UZXh0LCBpbmRleCkgPT4ge1xyXG4gICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgICAgYnV0dG9uLnRleHRDb250ZW50ID0gb3B0aW9uVGV4dDtcclxuICAgICAgYnV0dG9uLmRhdGFzZXQuaW5kZXggPSBpbmRleDtcclxuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2Fuc3dlci1idXR0b24nKTtcclxuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCBzZWxlY3RlZEluZGV4ID0gcGFyc2VJbnQoZS50YXJnZXQuZGF0YXNldC5pbmRleCwgMTApO1xyXG4gICAgICAgIHRoaXMuZ2FtZXBsYXlNYW5hZ2VySW5zdGFuY2UuaGFuZGxlQW5zd2VyKHNlbGVjdGVkSW5kZXgpO1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5hbnN3ZXJCdXR0b25zQ29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbik7XHJcbiAgICB9KTtcclxuICAgIHRoaXMucXVlc3Rpb25PdmVybGF5LmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBoaWRlUXVlc3Rpb24oKSB7XHJcbiAgICBpZiAodGhpcy5xdWVzdGlvbk92ZXJsYXkpIHtcclxuICAgICAgdGhpcy5xdWVzdGlvbk92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xyXG4gICAgICBpZiAodGhpcy5xdWVzdGlvblRleHRFbGVtZW50KSB0aGlzLnF1ZXN0aW9uVGV4dEVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcclxuICAgICAgaWYgKHRoaXMuYW5zd2VyQnV0dG9uc0NvbnRhaW5lcikgdGhpcy5hbnN3ZXJCdXR0b25zQ29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIHNob3dGbG9vclNlbGVjdGlvblVJKG1pbkZsb29yLCBtYXhGbG9vciwgY3VycmVudEZsb29yKSB7XHJcbiAgICBpZiAoIXRoaXMuZmxvb3JTZWxlY3Rpb25QYW5lbCB8fCAhdGhpcy5mbG9vckJ1dHRvbnNDb250YWluZXIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignW1VJTWFuYWdlcl0gRmxvb3Igc2VsZWN0aW9uIFVJIG5vdCByZWFkeS4nKTtcclxuICAgICAgdGhpcy5jcmVhdGVGbG9vclNlbGVjdGlvblVJKCk7XHJcbiAgICAgIGlmICghdGhpcy5mbG9vclNlbGVjdGlvblBhbmVsIHx8ICF0aGlzLmZsb29yQnV0dG9uc0NvbnRhaW5lcikgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKFxyXG4gICAgICAhdGhpcy5nYW1lcGxheU1hbmFnZXJJbnN0YW5jZSB8fFxyXG4gICAgICB0eXBlb2YgdGhpcy5nYW1lcGxheU1hbmFnZXJJbnN0YW5jZS5oYW5kbGVGbG9vclNlbGVjdGlvbiAhPT0gJ2Z1bmN0aW9uJ1xyXG4gICAgKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgJ1tVSU1hbmFnZXJdIENSSVRJQ0FMOiBHYW1lcGxheU1hbmFnZXIgb3IgaXRzIGhhbmRsZUZsb29yU2VsZWN0aW9uIG1ldGhvZCBpcyBub3Qgc2V0IG9yIGludmFsaWQhJ1xyXG4gICAgICApO1xyXG4gICAgICB0aGlzLmZsYXNoTWVzc2FnZSgnRXJyb3I6IEdhbWUgaW50ZXJhY3Rpb24gc3lzdGVtIGZhaWxlZCAoRikuJywgJ2Vycm9yJywgNTAwMCk7XHJcbiAgICAgIHRoaXMuaGlkZUZsb29yU2VsZWN0aW9uVUkoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZmxvb3JCdXR0b25zQ29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xyXG4gICAgZm9yIChsZXQgZmxvb3IgPSBtaW5GbG9vcjsgZmxvb3IgPD0gbWF4Rmxvb3I7IGZsb29yKyspIHtcclxuICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9IGBGbG9vciAke2Zsb29yfWA7XHJcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdmbG9vci1idXR0b24nKTtcclxuICAgICAgYnV0dG9uLmRhdGFzZXQuZmxvb3IgPSBmbG9vcjtcclxuICAgICAgaWYgKGZsb29yID09PSBjdXJyZW50Rmxvb3IpIHtcclxuICAgICAgICBidXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdjdXJyZW50Jyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5nYW1lcGxheU1hbmFnZXJJbnN0YW5jZS5oYW5kbGVGbG9vclNlbGVjdGlvbihmbG9vcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5mbG9vckJ1dHRvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcclxuICAgIH1cclxuICAgIHRoaXMuZmxvb3JTZWxlY3Rpb25QYW5lbC5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgaGlkZUZsb29yU2VsZWN0aW9uVUkoKSB7XHJcbiAgICBpZiAodGhpcy5mbG9vclNlbGVjdGlvblBhbmVsKSB7XHJcbiAgICAgIHRoaXMuZmxvb3JTZWxlY3Rpb25QYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgdXBkYXRlU2NvcmUoc2NvcmUsIHRhcmdldCkge1xyXG4gICAgaWYgKCF0aGlzLnNjb3JlRWxlbWVudCkgdGhpcy5zY29yZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NvcmUtdmFsdWUnKTtcclxuICAgIGlmICghdGhpcy50YXJnZXRFbGVtZW50KSB0aGlzLnRhcmdldEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NvcmUtdGFyZ2V0Jyk7XHJcbiAgICBpZiAodGhpcy5zY29yZUVsZW1lbnQpIHRoaXMuc2NvcmVFbGVtZW50LnRleHRDb250ZW50ID0gc2NvcmU7XHJcbiAgICBpZiAodGhpcy50YXJnZXRFbGVtZW50KSB0aGlzLnRhcmdldEVsZW1lbnQudGV4dENvbnRlbnQgPSB0YXJnZXQ7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgc2hvd0dhbWVVSSgpIHtcclxuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lLWNhbnZhcycpIHx8IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lQ2FudmFzJyk7XHJcbiAgICBjb25zdCBtZW51Q29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnUtY29udGFpbmVyJyk7XHJcbiAgICBjb25zdCBzY29yZURpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NvcmUtZGlzcGxheScpO1xyXG5cclxuICAgIGlmIChjYW52YXMpIGNhbnZhcy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgIGVsc2UgY29uc29sZS53YXJuKCdbVUlNYW5hZ2VyXSBDYW52YXMgZWxlbWVudCBub3QgZm91bmQgdG8gc2hvdy4nKTtcclxuXHJcbiAgICBpZiAoXHJcbiAgICAgIG1lbnVDb250YWluZXIgJiZcclxuICAgICAgIW1lbnVDb250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKSAmJlxyXG4gICAgICBtZW51Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgIT09ICdub25lJ1xyXG4gICAgKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignW1VJTWFuYWdlcl0gTWVudSBjb250YWluZXIgd2FzIG5vdCBoaWRkZW4uIEhpZGluZyBpdCBub3cgdmlhIHN0eWxlLmRpc3BsYXkuJyk7XHJcbiAgICAgIG1lbnVDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJzsgLy8g0JHQvtC70LXQtSDQvdCw0LTQtdC20L3Ri9C5INGB0L/QvtGB0L7QsSDRgdC60YDRi9GC0YxcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5jb250cm9sc0NvbnRhaW5lcikgdGhpcy5jb250cm9sc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XHJcbiAgICBlbHNlIGNvbnNvbGUud2FybignW1VJTWFuYWdlcl0gQ29udHJvbHMgY29udGFpbmVyIG5vdCBmb3VuZCB0byBzaG93LicpO1xyXG5cclxuICAgIGlmIChzY29yZURpc3BsYXkpIHNjb3JlRGlzcGxheS5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XHJcbiAgICBlbHNlIGNvbnNvbGUud2FybignW1VJTWFuYWdlcl0gU2NvcmUgZGlzcGxheSBub3QgZm91bmQgdG8gc2hvdy4nKTtcclxuXHJcbiAgICB0aGlzLmhpZGVRdWVzdGlvbigpO1xyXG4gICAgdGhpcy5oaWRlRmxvb3JTZWxlY3Rpb25VSSgpO1xyXG4gICAgdGhpcy5oaWRlR2FtZU92ZXJTY3JlZW4oKTsgLy8g0KPQsdC10LTQuNC80YHRjywg0YfRgtC+INGN0LrRgNCw0L0gR2FtZSBPdmVyINGB0LrRgNGL0YJcclxuICB9XHJcblxyXG4gIHN0YXRpYyBoaWRlR2FtZVVJKCkge1xyXG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWUtY2FudmFzJykgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWVDYW52YXMnKTtcclxuICAgIGNvbnN0IHNjb3JlRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY29yZS1kaXNwbGF5Jyk7XHJcblxyXG4gICAgaWYgKGNhbnZhcykgY2FudmFzLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICBpZiAodGhpcy5jb250cm9sc0NvbnRhaW5lcikgdGhpcy5jb250cm9sc0NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XHJcbiAgICBpZiAoc2NvcmVEaXNwbGF5KSBzY29yZURpc3BsYXkuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xyXG5cclxuICAgIC8vINCd0LUg0YHQutGA0YvQstCw0LXQvCDQvtCy0LXRgNC70LXQuCDQstC+0L/RgNC+0YHQvtCyL9GN0YLQsNC20LXQuS9HYW1lIE92ZXIg0L7RgtGB0Y7QtNCwLFxyXG4gICAgLy8g0YIu0LouINC+0L3QuCDQvNC+0LPRg9GCINCx0YvRgtGMINC/0L7QutCw0LfQsNC90YsgKtC/0L7RgdC70LUqINGB0LrRgNGL0YLQuNGPINC+0YHQvdC+0LLQvdC+0LPQviDQuNCz0YDQvtCy0L7Qs9C+IFVJLlxyXG4gICAgLy8g0JjRhSDRgdC60YDRi9GC0LjQtSDQtNC+0LvQttC90L4g0YPQv9GA0LDQstC70Y/RgtGM0YHRjyDQutC+0L3QutGA0LXRgtC90YvQvNC4INGB0L7RgdGC0L7Rj9C90LjRj9C80Lgg0LjQs9GA0YsuXHJcbiAgfVxyXG59XHJcbiIsIi8vIHNyYy9jb3JlL0NoYXJhY3Rlci5qc1xyXG5cclxuZXhwb3J0IGNsYXNzIENoYXJhY3RlciB7XHJcbiAgLyoqIFN0YXRpYyBvYmplY3QgZm9yIGRpcmVjdGlvbiBjb25zdGFudHMgKi9cclxuICBzdGF0aWMgRGlyZWN0aW9uID0ge1xyXG4gICAgRE9XTjogMCxcclxuICAgIFJJR0hUOiAxLFxyXG4gICAgVVA6IDIsXHJcbiAgICBMRUZUOiAzLFxyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZXMgYSBuZXcgQ2hhcmFjdGVyIGluc3RhbmNlLlxyXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggLSBUaGUgcmVuZGVyaW5nIGNvbnRleHQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNwcml0ZVVybCAtIFVSTCBvZiB0aGUgY2hhcmFjdGVyJ3Mgc3ByaXRlIHNoZWV0LlxyXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gQ29uZmlndXJhdGlvbiBvcHRpb25zLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5mcmFtZVNpemU9MzJdIC0gU2l6ZSBvZiBvbmUgZnJhbWUgaW4gdGhlIHNwcml0ZSBzaGVldCAocGl4ZWxzKS5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZnJhbWVDb3VudD00XSAtIE51bWJlciBvZiBmcmFtZXMgcGVyIGFuaW1hdGlvbiBjeWNsZSAocGVyIGRpcmVjdGlvbikuXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNjYWxlPTJdIC0gU2NhbGluZyBmYWN0b3IgZm9yIHJlbmRlcmluZy5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3BlZWQ9M10gLSBNb3ZlbWVudCBzcGVlZCBpbiBwaXhlbHMgcGVyIHVwZGF0ZS5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYW5pbWF0aW9uU3BlZWQ9MTUwXSAtIE1pbGxpc2Vjb25kcyBwZXIgYW5pbWF0aW9uIGZyYW1lLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25Cb3hXaWR0aFJhdGlvPTAuNF0gLSBXaWR0aCBvZiBjb2xsaXNpb24gYm94IHJlbGF0aXZlIHRvIHJlbmRlclNpemUuXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkJveEhlaWdodFJhdGlvPTAuMl0gLSBIZWlnaHQgb2YgY29sbGlzaW9uIGJveCByZWxhdGl2ZSB0byByZW5kZXJTaXplLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25Cb3hGZWV0T2Zmc2V0UmF0aW89MC40XSAtIFZlcnRpY2FsIG9mZnNldCBvZiBjb2xsaXNpb24gYm94IGNlbnRlciBmcm9tIGNoYXJhY3RlciBjZW50ZXIgKHRvd2FyZHMgZmVldCksIHJlbGF0aXZlIHRvIHJlbmRlclNpemUuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoY3R4LCBzcHJpdGVVcmwsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgdGhpcy5jdHggPSBjdHg7XHJcbiAgICB0aGlzLnNwcml0ZSA9IG5ldyBJbWFnZSgpO1xyXG5cclxuICAgIC8vIENvbmZpZ3VyYXRpb24gd2l0aCBkZWZhdWx0c1xyXG4gICAgdGhpcy5mcmFtZVNpemUgPSBvcHRpb25zLmZyYW1lU2l6ZSB8fCAzMjtcclxuICAgIHRoaXMuZnJhbWVDb3VudCA9IG9wdGlvbnMuZnJhbWVDb3VudCB8fCA0OyAvLyBOdW1iZXIgb2YgZnJhbWVzIHBlciBkaXJlY3Rpb25cclxuICAgIHRoaXMuc2NhbGUgPSBvcHRpb25zLnNjYWxlIHx8IDI7XHJcbiAgICB0aGlzLnJlbmRlclNpemUgPSB0aGlzLmZyYW1lU2l6ZSAqIHRoaXMuc2NhbGU7XHJcbiAgICB0aGlzLnNwZWVkID0gb3B0aW9ucy5zcGVlZCB8fCAzO1xyXG4gICAgdGhpcy5hbmltYXRpb25TcGVlZCA9IG9wdGlvbnMuYW5pbWF0aW9uU3BlZWQgfHwgMTUwOyAvLyBtcyBwZXIgZnJhbWVcclxuXHJcbiAgICAvLyBDb2xsaXNpb24gQm94IENvbmZpZ3VyYXRpb25cclxuICAgIHRoaXMuY29sbGlzaW9uQm94V2lkdGhSYXRpbyA9IG9wdGlvbnMuY29sbGlzaW9uQm94V2lkdGhSYXRpbyB8fCAwLjQ7XHJcbiAgICB0aGlzLmNvbGxpc2lvbkJveEhlaWdodFJhdGlvID0gb3B0aW9ucy5jb2xsaXNpb25Cb3hIZWlnaHRSYXRpbyB8fCAwLjI7XHJcbiAgICB0aGlzLmNvbGxpc2lvbkJveEZlZXRPZmZzZXRSYXRpbyA9IG9wdGlvbnMuY29sbGlzaW9uQm94RmVldE9mZnNldFJhdGlvIHx8IDAuNDtcclxuXHJcbiAgICAvLyBTdGF0ZVxyXG4gICAgdGhpcy54ID0gMDsgLy8gV29ybGQgWCBjb29yZGluYXRlXHJcbiAgICB0aGlzLnkgPSAwOyAvLyBXb3JsZCBZIGNvb3JkaW5hdGVcclxuICAgIHRoaXMuY3VycmVudERpcmVjdGlvbiA9IENoYXJhY3Rlci5EaXJlY3Rpb24uRE9XTjsgLy8gU3RhcnQgZmFjaW5nIGRvd25cclxuICAgIHRoaXMuY3VycmVudEZyYW1lID0gMDsgLy8gQ3VycmVudCBhbmltYXRpb24gZnJhbWUgaW5kZXhcclxuICAgIHRoaXMuaXNNb3ZpbmcgPSBmYWxzZTsgLy8gSXMgdGhlIGNoYXJhY3RlciBjdXJyZW50bHkgbW92aW5nP1xyXG4gICAgdGhpcy5sYXN0RnJhbWVUaW1lID0gMDsgLy8gVGltZXN0YW1wIG9mIHRoZSBsYXN0IGZyYW1lIHVwZGF0ZVxyXG5cclxuICAgIC8vIExvYWQgc3ByaXRlIGFuZCBhZGQgaGFuZGxlcnNcclxuICAgIHRoaXMuc3ByaXRlLm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coYFtDaGFyYWN0ZXJdIFNwcml0ZSBsb2FkZWQgc3VjY2Vzc2Z1bGx5OiAke3Nwcml0ZVVybH1gKTtcclxuICAgIH07XHJcbiAgICB0aGlzLnNwcml0ZS5vbmVycm9yID0gKCkgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBbQ2hhcmFjdGVyXSBGYWlsZWQgdG8gbG9hZCBzcHJpdGU6ICR7c3ByaXRlVXJsfWApO1xyXG4gICAgfTtcclxuICAgIHRoaXMuc3ByaXRlLnNyYyA9IHNwcml0ZVVybDsgLy8gU3RhcnQgbG9hZGluZ1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlcyB0aGUgY2hhcmFjdGVyJ3MgYW5pbWF0aW9uIGZyYW1lIGJhc2VkIG9uIG1vdmVtZW50IHN0YXRlIGFuZCB0aW1lLlxyXG4gICAqIFNob3VsZCBiZSBjYWxsZWQgaW4gdGhlIGdhbWUncyB1cGRhdGUgbG9vcC5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gdGltZXN0YW1wIC0gVGhlIGN1cnJlbnQgaGlnaC1yZXNvbHV0aW9uIHRpbWVzdGFtcCAoZS5nLiwgZnJvbSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUpLlxyXG4gICAqL1xyXG4gIHVwZGF0ZUFuaW1hdGlvbih0aW1lc3RhbXApIHtcclxuICAgIGlmICghdGhpcy5pc01vdmluZykge1xyXG4gICAgICB0aGlzLmN1cnJlbnRGcmFtZSA9IDA7XHJcbiAgICAgIHRoaXMubGFzdEZyYW1lVGltZSA9IHRpbWVzdGFtcDtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKCF0aGlzLmxhc3RGcmFtZVRpbWUpIHtcclxuICAgICAgdGhpcy5sYXN0RnJhbWVUaW1lID0gdGltZXN0YW1wO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZWxhcHNlZCA9IHRpbWVzdGFtcCAtIHRoaXMubGFzdEZyYW1lVGltZTtcclxuICAgIGlmIChlbGFwc2VkID4gdGhpcy5hbmltYXRpb25TcGVlZCkge1xyXG4gICAgICB0aGlzLmN1cnJlbnRGcmFtZSA9ICh0aGlzLmN1cnJlbnRGcmFtZSArIDEpICUgdGhpcy5mcmFtZUNvdW50O1xyXG4gICAgICB0aGlzLmxhc3RGcmFtZVRpbWUgPSB0aW1lc3RhbXA7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDYWxjdWxhdGVzIHRoZSBjb2xsaXNpb24gYm91bmRpbmcgYm94IGJhc2VkIG9uIGEgcG90ZW50aWFsIHBvc2l0aW9uLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwb3NYIC0gVGhlIHBvdGVudGlhbCBYIGNvb3JkaW5hdGUgZm9yIHRoZSBjb2xsaXNpb24gY2hlY2suXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBvc1kgLSBUaGUgcG90ZW50aWFsIFkgY29vcmRpbmF0ZSBmb3IgdGhlIGNvbGxpc2lvbiBjaGVjay5cclxuICAgKiBAcmV0dXJucyB7e3RvcDogbnVtYmVyLCBib3R0b206IG51bWJlciwgbGVmdDogbnVtYmVyLCByaWdodDogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcn19IFRoZSBjb2xsaXNpb24gYm94IHByb3BlcnRpZXMuXHJcbiAgICovXHJcbiAgZ2V0Q29sbGlzaW9uQm94KHBvc1gsIHBvc1kpIHtcclxuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5yZW5kZXJTaXplICogdGhpcy5jb2xsaXNpb25Cb3hXaWR0aFJhdGlvO1xyXG4gICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5yZW5kZXJTaXplICogdGhpcy5jb2xsaXNpb25Cb3hIZWlnaHRSYXRpbztcclxuICAgIGNvbnN0IGhhbGZXaWR0aCA9IHdpZHRoIC8gMjtcclxuICAgIGNvbnN0IGZlZXRPZmZzZXRZID0gdGhpcy5yZW5kZXJTaXplICogdGhpcy5jb2xsaXNpb25Cb3hGZWV0T2Zmc2V0UmF0aW87XHJcbiAgICBjb25zdCB0b3AgPSBwb3NZICsgZmVldE9mZnNldFkgLSBoZWlnaHQgLyAyO1xyXG4gICAgY29uc3QgYm90dG9tID0gcG9zWSArIGZlZXRPZmZzZXRZICsgaGVpZ2h0IC8gMjtcclxuICAgIGNvbnN0IGxlZnQgPSBwb3NYIC0gaGFsZldpZHRoO1xyXG4gICAgY29uc3QgcmlnaHQgPSBwb3NYICsgaGFsZldpZHRoO1xyXG4gICAgcmV0dXJuIHsgdG9wLCBib3R0b20sIGxlZnQsIHJpZ2h0LCB3aWR0aCwgaGVpZ2h0IH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEcmF3cyB0aGUgY2hhcmFjdGVyIG9udG8gdGhlIGNhbnZhcyBhdCBpdHMgY3VycmVudCBwb3NpdGlvbixcclxuICAgKiBjb25zaWRlcmluZyB0aGUgY2FtZXJhIG9mZnNldC5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0WCAtIFRoZSBjYW1lcmEncyBYIG9mZnNldC5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0WSAtIFRoZSBjYW1lcmEncyBZIG9mZnNldC5cclxuICAgKi9cclxuICBkcmF3KG9mZnNldFgsIG9mZnNldFkpIHtcclxuICAgIGlmICghdGhpcy5zcHJpdGUuY29tcGxldGUgfHwgdGhpcy5zcHJpdGUubmF0dXJhbEhlaWdodCA9PT0gMCkge1xyXG4gICAgICByZXR1cm47IC8vIERvbid0IGRyYXcgaWYgc3ByaXRlIGlzbid0IHJlYWR5XHJcbiAgICB9XHJcbiAgICBjb25zdCBmcmFtZVggPSB0aGlzLmN1cnJlbnRGcmFtZSAqIHRoaXMuZnJhbWVTaXplO1xyXG4gICAgY29uc3QgZnJhbWVZID0gdGhpcy5jdXJyZW50RGlyZWN0aW9uICogdGhpcy5mcmFtZVNpemU7XHJcbiAgICBjb25zdCBzY3JlZW5YID0gTWF0aC5mbG9vcih0aGlzLnggLSB0aGlzLnJlbmRlclNpemUgLyAyICsgb2Zmc2V0WCk7XHJcbiAgICBjb25zdCBzY3JlZW5ZID0gTWF0aC5mbG9vcih0aGlzLnkgLSB0aGlzLnJlbmRlclNpemUgLyAyICsgb2Zmc2V0WSk7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgdGhpcy5jdHguZHJhd0ltYWdlKFxyXG4gICAgICAgIHRoaXMuc3ByaXRlLFxyXG4gICAgICAgIGZyYW1lWCxcclxuICAgICAgICBmcmFtZVksXHJcbiAgICAgICAgdGhpcy5mcmFtZVNpemUsXHJcbiAgICAgICAgdGhpcy5mcmFtZVNpemUsIC8vIFNvdXJjZSByZWN0XHJcbiAgICAgICAgc2NyZWVuWCxcclxuICAgICAgICBzY3JlZW5ZLFxyXG4gICAgICAgIHRoaXMucmVuZGVyU2l6ZSxcclxuICAgICAgICB0aGlzLnJlbmRlclNpemUgLy8gRGVzdCByZWN0XHJcbiAgICAgICk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tDaGFyYWN0ZXJdIEVycm9yIGRyYXdpbmcgc3ByaXRlOicsIGUpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCIvLyBzcmMvbWFwL0Jvb2suanNcclxuZXhwb3J0IGNsYXNzIEJvb2sge1xyXG4gIGNvbnN0cnVjdG9yKHgsIHksIGlkLCB0aWxlU2l6ZSkge1xyXG4gICAgdGhpcy54ID0geDtcclxuICAgIHRoaXMueSA9IHk7XHJcbiAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICB0aGlzLnRpbGVTaXplID0gdGlsZVNpemU7XHJcbiAgICB0aGlzLnNpemUgPSB0aWxlU2l6ZSAqIDAuNjtcclxuICAgIHRoaXMuY29sbGVjdGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmlzQ29sbGVjdGVkID0gZmFsc2U7XHJcbiAgfVxyXG4gIGRyYXcoY3R4LCBvZmZzZXRYLCBvZmZzZXRZLCBib29rSW1hZ2UpIHtcclxuICAgIGNvbnN0IHNjcmVlblggPSBNYXRoLmZsb29yKHRoaXMueCArIG9mZnNldFggLSB0aGlzLnNpemUgLyAyKTtcclxuICAgIGNvbnN0IHNjcmVlblkgPSBNYXRoLmZsb29yKHRoaXMueSArIG9mZnNldFkgLSB0aGlzLnNpemUgLyAyKTtcclxuICAgIGlmIChib29rSW1hZ2UpIHtcclxuICAgICAgY3R4LmRyYXdJbWFnZShib29rSW1hZ2UsIHNjcmVlblgsIHNjcmVlblksIHRoaXMuc2l6ZSwgdGhpcy5zaXplKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzhkNmU2Myc7XHJcbiAgICAgIGN0eC5maWxsUmVjdChzY3JlZW5YLCBzY3JlZW5ZLCB0aGlzLnNpemUsIHRoaXMuc2l6ZSk7XHJcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjNWQ0MDM3JztcclxuICAgICAgY3R4LnN0cm9rZVJlY3Qoc2NyZWVuWCwgc2NyZWVuWSwgdGhpcy5zaXplLCB0aGlzLnNpemUpO1xyXG4gICAgICBjdHguZmlsbFN0eWxlID0gJyNlZWUnO1xyXG4gICAgICBjdHguZm9udCA9IGAke3RoaXMuc2l6ZSAqIDAuNn1weCBBcmlhbGA7XHJcbiAgICAgIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcclxuICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xyXG4gICAgICBjdHguZmlsbFRleHQoJz8nLCBzY3JlZW5YICsgdGhpcy5zaXplIC8gMiwgc2NyZWVuWSArIHRoaXMuc2l6ZSAvIDIgKyAyKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiLy8gc3JjL3V0aWxzL21hcC5qc1xyXG5pbXBvcnQgeyBUSUxFX0NPUlJJRE9SLCBUSUxFX1JPT01fRkxPT1IsIFRJTEVfTElGVCB9IGZyb20gJy4vY29uc3RhbnRzLmpzJzsgLy8gUG90cnplYm5lIGRvIEJGU1xyXG5cclxuLyoqXHJcbiAqIEdlbmVydWplIGxvc293xIUgbGljemLEmSBjYcWCa293aXTEhSB6IHByemVkemlhxYJ1IFttaW4sIG1heF0gKHfFgsSFY3puaWUpLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gbWluIERvbG5hIGdyYW5pY2EuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXggR8Ozcm5hIGdyYW5pY2EuXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IExvc293YSBsaWN6YmEgY2HFgmtvd2l0YS5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByYW5kb21JbnQobWluLCBtYXgpIHtcclxuICBtaW4gPSBNYXRoLmNlaWwobWluKTtcclxuICBtYXggPSBNYXRoLmZsb29yKG1heCk7XHJcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBQcm9zdGEgKG5pZWtyeXB0b2dyYWZpY3puYSkgZnVua2NqYSBoYXNodWrEhWNhLlxyXG4gKiBVxbx5d2FuYSBkbyB1enlza2FuaWEgcHNldWRvbG9zb3dlaiwgYWxlIGRldGVybWluaXN0eWN6bmVqIHdhcnRvxZtjaSB6IGxpY3pieSAoa29vcmR5bmF0w7N3KS5cclxuICogQHBhcmFtIHtudW1iZXJ9IHNlZWQgWmlhcm5vIChucC4gc2tvbWJpbm93YW5lIGtvb3JkeW5hdHkpLlxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBCZXp6bmFrb3dhIDMyLWJpdG93YSBsaWN6YmEgY2HFgmtvd2l0YS5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzaW1wbGVIYXNoKHNlZWQpIHtcclxuICBsZXQgaCA9IHNlZWQgXiAweGRlYWRiZWVmOyAvLyBYT1IgeiB3YXJ0b8WbY2nEhSBwb2N6xIV0a293xIVcclxuICBoID0gTWF0aC5pbXVsKGggXiAoaCA+Pj4gMTYpLCAyMjQ2ODIyNTA3KTtcclxuICBoID0gTWF0aC5pbXVsKGggXiAoaCA+Pj4gMTMpLCAzMjY2NDg5OTA5KTtcclxuICByZXR1cm4gKGggXj0gaCA+Pj4gMTYpID4+PiAwOyAvLyBLb253ZXJzamEgZG8gbGljemJ5IGJleiB6bmFrdSAzMi1iaXRvd2VqXHJcbn1cclxuXHJcbi8vIC0tLSBGdW5rY2plIGtvbG9yw7N3IC0tLVxyXG5cclxuLyoqXHJcbiAqIEdlbmVydWplIGxvc293eSBvZGNpZcWEIHN6YXJvxZtjaSB3IHphZGFueW0gemFrcmVzaWUgamFzbm/Fm2NpICgwLTI1NSkuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5CcmlnaHRuZXNzIE1pbmltYWxuYSBqYXNub8WbxIcuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhCcmlnaHRuZXNzIE1ha3N5bWFsbmEgamFzbm/Fm8SHLlxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBLb2xvciB3IGZvcm1hY2llIHJnYigpLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbUdyYXkobWluQnJpZ2h0bmVzcywgbWF4QnJpZ2h0bmVzcykge1xyXG4gIGNvbnN0IGJyaWdodG5lc3MgPSByYW5kb21JbnQobWluQnJpZ2h0bmVzcywgbWF4QnJpZ2h0bmVzcyk7XHJcbiAgcmV0dXJuIGByZ2IoJHticmlnaHRuZXNzfSwke2JyaWdodG5lc3N9LCR7YnJpZ2h0bmVzc30pYDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdlbmVydWplIGxvc293eSBvZGNpZcWEIHN6YXJvxZtjaSBkbGEga29yeXRhcnp5LlxyXG4gKiBAcGFyYW0ge251bWJlcn0gbWluQnJpZ2h0bmVzcyBNaW5pbWFsbmEgamFzbm/Fm8SHLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4QnJpZ2h0bmVzcyBNYWtzeW1hbG5hIGphc25vxZvEhy5cclxuICogQHJldHVybnMge3N0cmluZ30gS29sb3IgdyBmb3JtYWNpZSByZ2IoKS5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByYW5kb21Db3JyaWRvckdyYXkobWluQnJpZ2h0bmVzcywgbWF4QnJpZ2h0bmVzcykge1xyXG4gIC8vIE1vxbxuYSB1xbx5xIcgdGVqIHNhbWVqIGxvZ2lraSBjbyByYW5kb21HcmF5IGx1YiB1Y3p5bmnEhyBqZSBuaWVjbyBjaWVwbGVqc3p5bWkvY2jFgm9kbmllanN6eW1pXHJcbiAgY29uc3QgYnJpZ2h0bmVzcyA9IHJhbmRvbUludChtaW5CcmlnaHRuZXNzLCBtYXhCcmlnaHRuZXNzKTtcclxuICByZXR1cm4gYHJnYigke2JyaWdodG5lc3N9LCR7YnJpZ2h0bmVzc30sJHticmlnaHRuZXNzfSlgO1xyXG59XHJcblxyXG4vKipcclxuICogRG9zdG9zb3d1amUgamFzbm/Fm8SHIGtvbG9ydSBIRVggKG5wLiAnI1JSR0dCQicpLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gaGV4Q29sb3IgS29sb3IgdyBmb3JtYWNpZSBIRVguXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBmYWN0b3IgV3Nww7PFgmN6eW5uaWsgamFzbm/Fm2NpICgxLjAgPSBiZXogem1pYW4sIDwxIGNpZW1uaWVqLCA+MSBqYcWbbmllaikuXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IE5vd3kga29sb3IgdyBmb3JtYWNpZSBIRVguXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gYWRqdXN0Q29sb3JCcmlnaHRuZXNzKGhleENvbG9yLCBmYWN0b3IpIHtcclxuICBpZiAoIWhleENvbG9yIHx8IHR5cGVvZiBoZXhDb2xvciAhPT0gJ3N0cmluZycgfHwgaGV4Q29sb3IubGVuZ3RoIDwgNykgcmV0dXJuIGhleENvbG9yOyAvLyBad3LDs8SHLCBqZcWbbGkga29sb3IgamVzdCBuaWVwcmF3aWTFgm93eVxyXG5cclxuICBsZXQgciA9IHBhcnNlSW50KGhleENvbG9yLnNsaWNlKDEsIDMpLCAxNik7XHJcbiAgbGV0IGcgPSBwYXJzZUludChoZXhDb2xvci5zbGljZSgzLCA1KSwgMTYpO1xyXG4gIGxldCBiID0gcGFyc2VJbnQoaGV4Q29sb3Iuc2xpY2UoNSwgNyksIDE2KTtcclxuXHJcbiAgciA9IE1hdGgubWluKDI1NSwgTWF0aC5tYXgoMCwgTWF0aC5yb3VuZChyICogZmFjdG9yKSkpO1xyXG4gIGcgPSBNYXRoLm1pbigyNTUsIE1hdGgubWF4KDAsIE1hdGgucm91bmQoZyAqIGZhY3RvcikpKTtcclxuICBiID0gTWF0aC5taW4oMjU1LCBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKGIgKiBmYWN0b3IpKSk7XHJcblxyXG4gIGNvbnN0IHJIZXggPSByLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gIGNvbnN0IGdIZXggPSBnLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gIGNvbnN0IGJIZXggPSBiLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpO1xyXG5cclxuICByZXR1cm4gYCMke3JIZXh9JHtnSGV4fSR7YkhleH1gO1xyXG59XHJcblxyXG4vKipcclxuICogV3lrb251amUgYWxnb3J5dG0gcHJ6ZXN6dWtpd2FuaWEgd3N6ZXJ6IChCRlMpIG5hIHNpYXRjZSBtYXB5LlxyXG4gKiBNb8W8ZSBiecSHIHXFvHl3YW55IGRvIHpuYWpkb3dhbmlhIMWbY2llxbxraSBsdWIgc3ByYXdkemFuaWEgb3NpxIVnYWxub8WbY2kuXHJcbiAqIEBwYXJhbSB7bnVtYmVyW11bXX0gbWFwR3JpZCBTaWF0a2EgbWFweSAoMkQgYXJyYXkgeiB3YXJ0b8WbY2lhbWkga2FmZWxrw7N3KS5cclxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0WCBQb2N6xIV0a293YSB3c3DDs8WCcnrEmWRuYSBYIGthZmVsa2EuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFkgUG9jesSFdGtvd2Egd3Nww7PFgnJ6xJlkbmEgWSBrYWZlbGthLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gY29scyBMaWN6YmEga29sdW1uIHcgbWFwR3JpZC5cclxuICogQHBhcmFtIHtudW1iZXJ9IHJvd3MgTGljemJhIHJ6xJlkw7N3IHcgbWFwR3JpZC5cclxuICogQHBhcmFtIHtudW1iZXJbXX0gd2Fsa2FibGVUaWxlVmFsdWVzIFRhYmxpY2Egd2FydG/Fm2NpIGthZmVsa8OzdyB1d2HFvGFueWNoIHphIHByemVjaG9kbmllIGRsYSB0ZWdvIEJGUy5cclxuICogQHJldHVybnMge3tyZWFjaGFibGU6IGJvb2xlYW59fSBPYmlla3Qgd3NrYXp1asSFY3ksIGN6eSBCRlMgb3NpxIVnbsSFxYIgb2tyZcWbbG9ueSBjZWwgKHcgdHltIHByenlwYWRrdSwgY3p5IHogcHVua3R1IHN0YXJ0b3dlZ28gbW/FvG5hIGRvasWbxIcgZG8ga29yeXRhcnphL3Bva29qdSkuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcGVyZm9ybUJGUyhtYXBHcmlkLCBzdGFydFgsIHN0YXJ0WSwgY29scywgcm93cywgd2Fsa2FibGVUaWxlVmFsdWVzKSB7XHJcbiAgY29uc3QgcXVldWUgPSBbW3N0YXJ0WCwgc3RhcnRZXV07XHJcbiAgY29uc3QgdmlzaXRlZCA9IG5ldyBTZXQoW2Ake3N0YXJ0WH0sJHtzdGFydFl9YF0pO1xyXG4gIGNvbnN0IGRpcmVjdGlvbnMgPSBbXHJcbiAgICBbMCwgLTFdLCAvLyBHw7NyYVxyXG4gICAgWzAsIDFdLCAvLyBEw7PFglxyXG4gICAgWy0xLCAwXSwgLy8gTGV3b1xyXG4gICAgWzEsIDBdLCAvLyBQcmF3b1xyXG4gIF07XHJcbiAgbGV0IHJlYWNoYWJsZSA9IGZhbHNlOyAvLyBGbGFnYSwgY3p5IEJGUyBkb3RhcsWCIGRvIGthZmVsa8OzdyBrb3J5dGFyemEvcG9rb2p1IChqZcWbbGkgc3p1a2FubyBvZCB3aW5keSlcclxuXHJcbiAgLy8gU3ByYXdkemVuaWUgcHVua3R1IHN0YXJ0b3dlZ28gKGplxZtsaSBzenVrYW15IG9zacSFZ2Fsbm/Fm2NpIHogd2luZHkpXHJcbiAgY29uc3Qgc3RhcnRUaWxlVmFsdWUgPSBtYXBHcmlkW3N0YXJ0WV0/LltzdGFydFhdO1xyXG4gIC8vIEN6eSBwdW5rdCBzdGFydG93eSAobnAuIHdpbmRhKSBqZXN0IGp1xbwgbmEgYmV6cGllY3pueW0gdGVyZW5pZSAoZGxhIGNlbHUgc3ByYXdkemVuaWEgb3NpxIVnYWxub8WbY2kpP1xyXG4gIC8vIFcgdHltIGtvbmtyZXRueW0gdcW8eWNpdSAoc3ByYXdkemVuaWUgd2luZHkpIGludGVyZXN1amUgbmFzLCBjenkgeiB3aW5keSBtb8W8bmEgZG90cnplxIcgZG8gS09SWVRBUlpBL1BPS09KVS5cclxuICAvLyBTYW1vIHN0YW5pZSBuYSB3aW5kemllIG5pZSBvem5hY3phIG9zacSFZ2Fsbm/Fm2NpIGJlenBpZWN6bmVqIHN0cmVmeS5cclxuICAvLyBTcHJhd2R6aW15IHPEhXNpYWTDs3cgd2luZHkuXHJcblxyXG4gIHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICBjb25zdCBbY3VyclgsIGN1cnJZXSA9IHF1ZXVlLnNoaWZ0KCk7XHJcblxyXG4gICAgZm9yIChjb25zdCBbZHgsIGR5XSBvZiBkaXJlY3Rpb25zKSB7XHJcbiAgICAgIGNvbnN0IG5leHRYID0gY3VyclggKyBkeDtcclxuICAgICAgY29uc3QgbmV4dFkgPSBjdXJyWSArIGR5O1xyXG4gICAgICBjb25zdCBrZXkgPSBgJHtuZXh0WH0sJHtuZXh0WX1gO1xyXG5cclxuICAgICAgLy8gU3ByYXdkemVuaWUgZ3JhbmljIGkgY3p5IGp1xbwgb2R3aWVkem9uZVxyXG4gICAgICBpZiAobmV4dFggPj0gMCAmJiBuZXh0WCA8IGNvbHMgJiYgbmV4dFkgPj0gMCAmJiBuZXh0WSA8IHJvd3MgJiYgIXZpc2l0ZWQuaGFzKGtleSkpIHtcclxuICAgICAgICBjb25zdCB0aWxlVmFsdWUgPSBtYXBHcmlkW25leHRZXT8uW25leHRYXTtcclxuICAgICAgICB2aXNpdGVkLmFkZChrZXkpOyAvLyBPZHdpZWR6YW15IG5pZXphbGXFvG5pZSBvZCB0eXB1XHJcblxyXG4gICAgICAgIC8vIEN6eSB0ZW4ga2FmZWxlayBqZXN0IHByemVjaG9kbmkgRExBIFRFR08gQkZTP1xyXG4gICAgICAgIGlmICh3YWxrYWJsZVRpbGVWYWx1ZXMuaW5jbHVkZXModGlsZVZhbHVlKSkge1xyXG4gICAgICAgICAgcXVldWUucHVzaChbbmV4dFgsIG5leHRZXSk7XHJcblxyXG4gICAgICAgICAgLy8gQ3p5IHRlbiBrYWZlbGVrIGplc3QgS09SWVRBUlpFTSBsdWIgUE9ExYFPR8SEIFBPS09KVT9cclxuICAgICAgICAgIC8vIEplxZtsaSB0YWssIHRvIHpuYWxlxbpsacWbbXkgYmV6cGllY3puxIUgc3RyZWbEmSBvc2nEhWdhbG7EhSB6IHB1bmt0dSBzdGFydG93ZWdvLlxyXG4gICAgICAgICAgaWYgKHRpbGVWYWx1ZSA9PT0gVElMRV9DT1JSSURPUiB8fCB0aWxlVmFsdWUgPT09IFRJTEVfUk9PTV9GTE9PUikge1xyXG4gICAgICAgICAgICByZWFjaGFibGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAvLyBNb8W8bmEgYnkgdHUgemFrb8WEY3p5xIcgcMSZdGzEmSwgamXFm2xpIGludGVyZXN1amUgbmFzIHR5bGtvIENaWSBqZXN0IG9zacSFZ2FsbmVcclxuICAgICAgICAgICAgLy8gcmV0dXJuIHsgcmVhY2hhYmxlOiB0cnVlIH07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vIFp3csOzxIcgd3luaWsgQkZTIC0gdyB0eW0gcHJ6eXBhZGt1LCBmbGFnxJkgb3NpxIVnYWxub8WbY2kgYmV6cGllY3puZWogc3RyZWZ5XHJcbiAgcmV0dXJuIHsgcmVhY2hhYmxlIH07XHJcbn1cclxuXHJcbi8vIC4uLiAoaW5uZSBuYXJ6xJlkemlhIG1hcHksIGplxZtsaSBpc3RuaWVqxIUpXHJcbiIsIi8vIHNyYy9tYXAvbWFwUmVuZGVyZXIuanNcclxuXHJcbmltcG9ydCB7IFRJTEVfV0FMTCwgVElMRV9DT1JSSURPUiwgVElMRV9ST09NX0ZMT09SLCBUSUxFX0xJRlQgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xyXG4vLyBSZW1vdmVkIHVudXNlZCByYW5kb21HcmF5LCByYW5kb21Db3JyaWRvckdyYXkgaW1wb3J0c1xyXG5pbXBvcnQgeyBhZGp1c3RDb2xvckJyaWdodG5lc3MsIHNpbXBsZUhhc2ggfSBmcm9tICcuLi91dGlscy9tYXAuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1hcFJlbmRlcmVyIHtcclxuICBjb25zdHJ1Y3Rvcih0aWxlU2l6ZSkge1xyXG4gICAgdGhpcy50aWxlU2l6ZSA9IHRpbGVTaXplO1xyXG4gICAgLy8gQ2FjaGUgaXMgbGVzcyBjcml0aWNhbCBub3cgZm9yIGJhc2UgdGlsZXMgYnV0IHN0aWxsIHVzZWZ1bCBmb3Igcm9vbSBmbG9vcnMvb3RoZXIgZWxlbWVudHNcclxuICAgIHRoaXMudGlsZUNvbG9ycyA9IHt9O1xyXG4gICAgdGhpcy5iYXNlV2FsbENvbG9yID0gJyMxYzFlMjInOyAvLyBTaW5nbGUsIGNvbnNpc3RlbnQgd2FsbCBjb2xvclxyXG4gICAgdGhpcy5iYXNlQ29ycmlkb3JDb2xvciA9ICcjYTBhMGEwJzsgLy8gU2luZ2xlLCBjb25zaXN0ZW50IGNvcnJpZG9yIGNvbG9yXHJcbiAgICB0aGlzLmJhc2VSb29tRmxvb3JDb2xvciA9ICcjYzBjMGMwJzsgLy8gRGVmYXVsdCByb29tIGZsb29yIChvdmVyd3JpdHRlbiBieSBkcmF3Um9vbURldGFpbHMpXHJcbiAgICB0aGlzLmxpZnRDb2xvciA9ICcjNzA3MDgwJzsgLy8gQ29uc2lzdGVudCBsaWZ0IGNvbG9yXHJcbiAgICB0aGlzLmVycm9yQ29sb3IgPSAnI2ZmMDBmZic7IC8vIEVycm9yIGNvbG9yXHJcbiAgfVxyXG5cclxuICAvLyBSZXNldCBjb2xvciBjYWNoZSB3aGVuIGEgbmV3IG1hcCBpcyBkcmF3biAoY2FsbGVkIGJ5IFByb2NlZHVyYWxNYXApXHJcbiAgcmVzZXRDb2xvckNhY2hlKCkge1xyXG4gICAgdGhpcy50aWxlQ29sb3JzID0ge307XHJcbiAgfVxyXG5cclxuICAvKiogR2V0IG9yIGdlbmVyYXRlIHRoZSBjb2xvciBmb3IgYSBzcGVjaWZpYyB0aWxlICovXHJcbiAgZ2V0VGlsZUNvbG9yKHIsIGMsIHRpbGVWYWx1ZSwgcm9vbXMpIHtcclxuICAgIC8vIE5PVEU6IFdlIHN0aWxsIHVzZSB0aGUgY2FjaGUga2V5LCBtYWlubHkgdXNlZnVsIGlmIHJvb21zIG5lZWQgc3BlY2lmaWNcclxuICAgIC8vIHRpbGUgY29sb3JzIG5vdCBoYW5kbGVkIGJ5IGRyYXdSb29tRGV0YWlscyBsYXRlciwgb3IgaWYgd2UgYWRkIG1vcmUgY29tcGxleCBsb2dpYy5cclxuICAgIC8vIEZvciB0aGUgYmFzZSB0aWxlcyBtb2RpZmllZCBiZWxvdywgaXQncyBsZXNzIGVzc2VudGlhbC5cclxuICAgIGNvbnN0IGtleSA9IGAke3J9LCR7Y31gO1xyXG4gICAgaWYgKHRoaXMudGlsZUNvbG9yc1trZXldKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnRpbGVDb2xvcnNba2V5XTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgY29sb3I7XHJcblxyXG4gICAgLy8gLS0tIFJFTU9WRUQgcGVyLXRpbGUgaGFzaC92YXJpYXRpb24gZm9yIGJhc2UgdHlwZXMgLS0tXHJcbiAgICAvLyBjb25zdCBoYXNoID0gc2ltcGxlSGFzaChyICogMTAwMCArIGMpO1xyXG4gICAgLy8gY29uc3QgdmFyaWF0aW9uID0gKChoYXNoICUgMjEpIC0gMTApIC8gMTAwO1xyXG5cclxuICAgIHN3aXRjaCAodGlsZVZhbHVlKSB7XHJcbiAgICAgIGNhc2UgVElMRV9XQUxMOlxyXG4gICAgICAgIC8vIFVzZSB0aGUgc2luZ2xlLCBjb25zaXN0ZW50IGJhc2UgY29sb3IgZGlyZWN0bHlcclxuICAgICAgICBjb2xvciA9IHRoaXMuYmFzZVdhbGxDb2xvcjtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBUSUxFX0NPUlJJRE9SOlxyXG4gICAgICAgIC8vIFVzZSB0aGUgc2luZ2xlLCBjb25zaXN0ZW50IGJhc2UgY29sb3IgZGlyZWN0bHlcclxuICAgICAgICBjb2xvciA9IHRoaXMuYmFzZUNvcnJpZG9yQ29sb3I7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgVElMRV9ST09NX0ZMT09SOlxyXG4gICAgICAgIC8vIFVzZSB0aGUgY29uc2lzdGVudCBiYXNlIHJvb20gZmxvb3IgY29sb3IuXHJcbiAgICAgICAgLy8gVGhpcyB3aWxsIGJlIG92ZXJ3cml0dGVuIGJ5IGRyYXdSb29tRGV0YWlscyBmb3IgYWN0dWFsIHJvb20gdGlsZXMuXHJcbiAgICAgICAgLy8gSXQgc2VydmVzIGFzIHRoZSBjb2xvciBpZiBhIFRJTEVfUk9PTV9GTE9PUiBzb21laG93IGV4aXN0cyBvdXRzaWRlIGEgZGVmaW5lZCByb29tLlxyXG4gICAgICAgIGNvbG9yID0gdGhpcy5iYXNlUm9vbUZsb29yQ29sb3I7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgVElMRV9MSUZUOlxyXG4gICAgICAgIC8vIFVzZSB0aGUgY29uc2lzdGVudCBsaWZ0IGNvbG9yXHJcbiAgICAgICAgY29sb3IgPSB0aGlzLmxpZnRDb2xvcjtcclxuICAgICAgICBicmVhaztcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICBjb2xvciA9IHRoaXMuZXJyb3JDb2xvcjsgLy8gRXJyb3IgY29sb3JcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuXHJcbiAgICAvLyBTdGlsbCBjYWNoZSB0aGUgcmVzdWx0XHJcbiAgICB0aGlzLnRpbGVDb2xvcnNba2V5XSA9IGNvbG9yO1xyXG4gICAgcmV0dXJuIGNvbG9yO1xyXG4gIH1cclxuXHJcbiAgLyoqIE1haW4gZHJhd2luZyBmdW5jdGlvbiAqL1xyXG4gIGRyYXcoY3R4LCBtYXBEYXRhLCBib29rSW1hZ2UgPSBudWxsKSB7XHJcbiAgICBjb25zdCB7IG1hcCwgcm9vbXMsIGJvb2tzLCBsaWZ0UG9zaXRpb24sIG9mZnNldFgsIG9mZnNldFksIGNvbHMsIHJvd3MgfSA9IG1hcERhdGE7XHJcblxyXG4gICAgLy8gUm91bmQgb2Zmc2V0cyBmb3Igc2hhcnBuZXNzXHJcbiAgICBjb25zdCBjdXJyZW50T2Zmc2V0WCA9IE1hdGguZmxvb3Iob2Zmc2V0WCk7XHJcbiAgICBjb25zdCBjdXJyZW50T2Zmc2V0WSA9IE1hdGguZmxvb3Iob2Zmc2V0WSk7XHJcblxyXG4gICAgLy8gRGV0ZXJtaW5lIHZpc2libGUgdGlsZXMgd2l0aCBhIHNtYWxsIGJ1ZmZlclxyXG4gICAgY29uc3Qgc3RhcnRDb2wgPSBNYXRoLm1heCgwLCBNYXRoLmZsb29yKC1jdXJyZW50T2Zmc2V0WCAvIHRoaXMudGlsZVNpemUpIC0gMSk7XHJcbiAgICBjb25zdCBlbmRDb2wgPSBNYXRoLm1pbihcclxuICAgICAgY29scyxcclxuICAgICAgTWF0aC5jZWlsKCgtY3VycmVudE9mZnNldFggKyBjdHguY2FudmFzLndpZHRoKSAvIHRoaXMudGlsZVNpemUpICsgMVxyXG4gICAgKTtcclxuICAgIGNvbnN0IHN0YXJ0Um93ID0gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcigtY3VycmVudE9mZnNldFkgLyB0aGlzLnRpbGVTaXplKSAtIDEpO1xyXG4gICAgY29uc3QgZW5kUm93ID0gTWF0aC5taW4oXHJcbiAgICAgIHJvd3MsXHJcbiAgICAgIE1hdGguY2VpbCgoLWN1cnJlbnRPZmZzZXRZICsgY3R4LmNhbnZhcy5oZWlnaHQpIC8gdGhpcy50aWxlU2l6ZSkgKyAxXHJcbiAgICApO1xyXG5cclxuICAgIGN0eC5zYXZlKCk7IC8vIFNhdmUgY29udGV4dCBzdGF0ZVxyXG5cclxuICAgIC8vIDEuIERyYXcgYmFzZSB0aWxlcyAod2FsbHMsIGNvcnJpZG9ycywgZGVmYXVsdCBmbG9vciwgbGlmdCBiYXNlKVxyXG4gICAgLy8gICAgVGhlc2Ugd2lsbCBub3cgdXNlIHRoZSBjb25zaXN0ZW50IGNvbG9ycyBmcm9tIGdldFRpbGVDb2xvci5cclxuICAgIHRoaXMuZHJhd0Jhc2VUaWxlcyhcclxuICAgICAgY3R4LFxyXG4gICAgICBtYXAsXHJcbiAgICAgIHJvb21zLFxyXG4gICAgICBjdXJyZW50T2Zmc2V0WCxcclxuICAgICAgY3VycmVudE9mZnNldFksXHJcbiAgICAgIGNvbHMsXHJcbiAgICAgIHJvd3MsXHJcbiAgICAgIHN0YXJ0Um93LFxyXG4gICAgICBlbmRSb3csXHJcbiAgICAgIHN0YXJ0Q29sLFxyXG4gICAgICBlbmRDb2xcclxuICAgICk7XHJcblxyXG4gICAgLy8gMi4gRHJhdyBzcGVjaWZpYyByb29tIGZsb29ycyBhbmQgZGVjb3JhdGlvbnNcclxuICAgIC8vICAgIFRoaXMgZnVuY3Rpb24gV0lMTCBhcHBseSBzcGVjaWZpYyBjb2xvcnMgYmFzZWQgb24gcm9vbSB0eXBlLFxyXG4gICAgLy8gICAgYW5kIHN1YnRsZSBwZXItdGlsZSB2YXJpYXRpb25zIFdJVEhJTiB0aGUgcm9vbSBmbG9vci5cclxuICAgIHRoaXMuZHJhd1Jvb21EZXRhaWxzKFxyXG4gICAgICBjdHgsXHJcbiAgICAgIG1hcCxcclxuICAgICAgcm9vbXMsXHJcbiAgICAgIGxpZnRQb3NpdGlvbixcclxuICAgICAgY3VycmVudE9mZnNldFgsXHJcbiAgICAgIGN1cnJlbnRPZmZzZXRZLFxyXG4gICAgICBjb2xzLFxyXG4gICAgICByb3dzLFxyXG4gICAgICBzdGFydFJvdyxcclxuICAgICAgZW5kUm93LFxyXG4gICAgICBzdGFydENvbCxcclxuICAgICAgZW5kQ29sXHJcbiAgICApO1xyXG5cclxuICAgIC8vIDMuIERyYXcgbGlmdCBkZXRhaWxzIChvdmVybGF5aW5nIHJvb20gZmxvb3JzIGlmIG5lZWRlZClcclxuICAgIHRoaXMuZHJhd0xpZnREZXRhaWxzKGN0eCwgbGlmdFBvc2l0aW9uLCBjdXJyZW50T2Zmc2V0WCwgY3VycmVudE9mZnNldFkpO1xyXG5cclxuICAgIC8vIDQuIERyYXcgYm9va3NcclxuICAgIHRoaXMuZHJhd0Jvb2tzKGN0eCwgYm9va3MsIGN1cnJlbnRPZmZzZXRYLCBjdXJyZW50T2Zmc2V0WSwgYm9va0ltYWdlKTtcclxuXHJcbiAgICBjdHgucmVzdG9yZSgpOyAvLyBSZXN0b3JlIGNvbnRleHQgc3RhdGVcclxuICB9XHJcblxyXG4gIC8qKiBEcmF3IGJhc2UgdGlsZXMgKi9cclxuICBkcmF3QmFzZVRpbGVzKGN0eCwgbWFwLCByb29tcywgb2Zmc2V0WCwgb2Zmc2V0WSwgY29scywgcm93cywgc3RhcnRSb3csIGVuZFJvdywgc3RhcnRDb2wsIGVuZENvbCkge1xyXG4gICAgY3R4LnNhdmUoKTtcclxuICAgIGN0eC5zaGFkb3dDb2xvciA9ICd0cmFuc3BhcmVudCc7XHJcblxyXG4gICAgY29uc3Qgd2FsbEVkZ2VDb2xvckRhcmsgPSAnIzM4MzgzOCc7XHJcbiAgICBjb25zdCB3YWxsRWRnZUNvbG9yTGlnaHQgPSAnIzYwNjA2MCc7XHJcbiAgICBjb25zdCB3YWxsVG9wRWRnZUNvbG9yID0gJyM3NTc1NzUnO1xyXG5cclxuICAgIGZvciAobGV0IHIgPSBzdGFydFJvdzsgciA8IGVuZFJvdzsgcisrKSB7XHJcbiAgICAgIGZvciAobGV0IGMgPSBzdGFydENvbDsgYyA8IGVuZENvbDsgYysrKSB7XHJcbiAgICAgICAgY29uc3QgdGlsZVZhbHVlID0gbWFwW3JdPy5bY107XHJcbiAgICAgICAgaWYgKHRpbGVWYWx1ZSA9PT0gdW5kZWZpbmVkKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2NyZWVuWCA9IE1hdGguZmxvb3IoYyAqIHRoaXMudGlsZVNpemUgKyBvZmZzZXRYKTtcclxuICAgICAgICBjb25zdCBzY3JlZW5ZID0gTWF0aC5mbG9vcihyICogdGhpcy50aWxlU2l6ZSArIG9mZnNldFkpO1xyXG4gICAgICAgIC8vIEdldCB0aGUgY29sb3IgLSBub3cgY29uc2lzdGVudCBmb3Igd2FsbHMvY29ycmlkb3JzL2RlZmF1bHQgZmxvb3IvbGlmdFxyXG4gICAgICAgIGNvbnN0IGNvbG9yID0gdGhpcy5nZXRUaWxlQ29sb3IociwgYywgdGlsZVZhbHVlLCByb29tcyk7XHJcblxyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBjb2xvcjtcclxuICAgICAgICBjdHguZmlsbFJlY3Qoc2NyZWVuWCwgc2NyZWVuWSwgdGhpcy50aWxlU2l6ZSwgdGhpcy50aWxlU2l6ZSk7XHJcblxyXG4gICAgICAgIC8vIC0tLSBXYWxsIEVkZ2VzIGFuZCBOb2lzZSAoU3RpbGwgQXBwbGllZCBmb3IgRGV0YWlsKSAtLS1cclxuICAgICAgICBpZiAodGlsZVZhbHVlID09PSBUSUxFX1dBTEwpIHtcclxuICAgICAgICAgIC8vIE5vaXNlIHRleHR1cmUgKGFwcGxpZWQgT04gVE9QIG9mIHRoZSBjb25zaXN0ZW50IGJhc2UgY29sb3IpXHJcbiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwwLDAsMC4wNiknO1xyXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcclxuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KFxyXG4gICAgICAgICAgICAgIHNjcmVlblggKyBNYXRoLnJhbmRvbSgpICogdGhpcy50aWxlU2l6ZSxcclxuICAgICAgICAgICAgICBzY3JlZW5ZICsgTWF0aC5yYW5kb20oKSAqIHRoaXMudGlsZVNpemUsXHJcbiAgICAgICAgICAgICAgMSxcclxuICAgICAgICAgICAgICAxXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gRWRnZSByZW5kZXJpbmcgKGFwcGxpZWQgT04gVE9QKVxyXG4gICAgICAgICAgY29uc3QgZWRnZVNpemUgPSAyO1xyXG4gICAgICAgICAgaWYgKHIgPiAwICYmIG1hcFtyIC0gMV0/LltjXSAhPT0gVElMRV9XQUxMKSB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB3YWxsVG9wRWRnZUNvbG9yO1xyXG4gICAgICAgICAgICBjdHguZmlsbFJlY3Qoc2NyZWVuWCwgc2NyZWVuWSwgdGhpcy50aWxlU2l6ZSwgZWRnZVNpemUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHIgPCByb3dzIC0gMSAmJiBtYXBbciArIDFdPy5bY10gIT09IFRJTEVfV0FMTCkge1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gd2FsbEVkZ2VDb2xvckRhcms7XHJcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdChzY3JlZW5YLCBzY3JlZW5ZICsgdGhpcy50aWxlU2l6ZSAtIGVkZ2VTaXplLCB0aGlzLnRpbGVTaXplLCBlZGdlU2l6ZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoYyA+IDAgJiYgbWFwW3JdPy5bYyAtIDFdICE9PSBUSUxFX1dBTEwpIHtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHdhbGxFZGdlQ29sb3JMaWdodDtcclxuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KHNjcmVlblgsIHNjcmVlblkgKyBlZGdlU2l6ZSwgZWRnZVNpemUsIHRoaXMudGlsZVNpemUgLSBlZGdlU2l6ZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoYyA8IGNvbHMgLSAxICYmIG1hcFtyXT8uW2MgKyAxXSAhPT0gVElMRV9XQUxMKSB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB3YWxsRWRnZUNvbG9yRGFyaztcclxuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KFxyXG4gICAgICAgICAgICAgIHNjcmVlblggKyB0aGlzLnRpbGVTaXplIC0gZWRnZVNpemUsXHJcbiAgICAgICAgICAgICAgc2NyZWVuWSArIGVkZ2VTaXplLFxyXG4gICAgICAgICAgICAgIGVkZ2VTaXplLFxyXG4gICAgICAgICAgICAgIHRoaXMudGlsZVNpemUgLSBlZGdlU2l6ZVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLy8gQ29ybmVyIGxvZ2ljIChyZW1haW5zIHRoZSBzYW1lKVxyXG4gICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICByID4gMCAmJlxyXG4gICAgICAgICAgICBjID4gMCAmJlxyXG4gICAgICAgICAgICBtYXBbciAtIDFdPy5bY10gIT09IFRJTEVfV0FMTCAmJlxyXG4gICAgICAgICAgICBtYXBbcl0/LltjIC0gMV0gIT09IFRJTEVfV0FMTCAmJlxyXG4gICAgICAgICAgICBtYXBbciAtIDFdPy5bYyAtIDFdICE9PSBUSUxFX1dBTExcclxuICAgICAgICAgICkge1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gd2FsbEVkZ2VDb2xvckxpZ2h0O1xyXG4gICAgICAgICAgICBjdHguZmlsbFJlY3Qoc2NyZWVuWCwgc2NyZWVuWSwgZWRnZVNpemUsIGVkZ2VTaXplKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgciA+IDAgJiZcclxuICAgICAgICAgICAgYyA8IGNvbHMgLSAxICYmXHJcbiAgICAgICAgICAgIG1hcFtyIC0gMV0/LltjXSAhPT0gVElMRV9XQUxMICYmXHJcbiAgICAgICAgICAgIG1hcFtyXT8uW2MgKyAxXSAhPT0gVElMRV9XQUxMICYmXHJcbiAgICAgICAgICAgIG1hcFtyIC0gMV0/LltjICsgMV0gIT09IFRJTEVfV0FMTFxyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB3YWxsVG9wRWRnZUNvbG9yO1xyXG4gICAgICAgICAgICBjdHguZmlsbFJlY3Qoc2NyZWVuWCArIHRoaXMudGlsZVNpemUgLSBlZGdlU2l6ZSwgc2NyZWVuWSwgZWRnZVNpemUsIGVkZ2VTaXplKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC8vIC4uLiBwb3RlbnRpYWxseSBvdGhlciBjb3JuZXJzXHJcbiAgICAgICAgfSBlbHNlIGlmICh0aWxlVmFsdWUgPT09IFRJTEVfQ09SUklET1IpIHtcclxuICAgICAgICAgIC8vIENvcnJpZG9yIE5vaXNlIChhcHBsaWVkIE9OIFRPUCBvZiB0aGUgY29uc2lzdGVudCBiYXNlIGNvbG9yKVxyXG4gICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwyNTUsMjU1LDAuMDMpJztcclxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdChcclxuICAgICAgICAgICAgICBzY3JlZW5YICsgTWF0aC5yYW5kb20oKSAqIHRoaXMudGlsZVNpemUsXHJcbiAgICAgICAgICAgICAgc2NyZWVuWSArIE1hdGgucmFuZG9tKCkgKiB0aGlzLnRpbGVTaXplLFxyXG4gICAgICAgICAgICAgIDEsXHJcbiAgICAgICAgICAgICAgMVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBOT1RFOiBObyBzcGVjaWFsIGRyYXdpbmcgbmVlZGVkIGhlcmUgZm9yIFRJTEVfUk9PTV9GTE9PUiBvciBUSUxFX0xJRlRcclxuICAgICAgICAvLyBhcyBkcmF3Um9vbURldGFpbHMgYW5kIGRyYXdMaWZ0RGV0YWlscyBoYW5kbGUgdGhlaXIgc3BlY2lmaWNzLlxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBjdHgucmVzdG9yZSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqIERyYXcgc3BlY2lmaWMgcm9vbSBmbG9vcnMgYW5kIGRlY29yYXRpb25zICovXHJcbiAgZHJhd1Jvb21EZXRhaWxzKFxyXG4gICAgY3R4LFxyXG4gICAgbWFwLFxyXG4gICAgcm9vbXMsXHJcbiAgICBsaWZ0UG9zaXRpb24sXHJcbiAgICBvZmZzZXRYLFxyXG4gICAgb2Zmc2V0WSxcclxuICAgIGNvbHMsXHJcbiAgICByb3dzLFxyXG4gICAgc3RhcnRSb3csXHJcbiAgICBlbmRSb3csXHJcbiAgICBzdGFydENvbCxcclxuICAgIGVuZENvbFxyXG4gICkge1xyXG4gICAgY3R4LnNhdmUoKTtcclxuICAgIGN0eC5zaGFkb3dDb2xvciA9ICd0cmFuc3BhcmVudCc7XHJcblxyXG4gICAgZm9yIChjb25zdCByb29tIG9mIHJvb21zKSB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICByb29tLmNvbCArIHJvb20ud2lkdGggPCBzdGFydENvbCB8fFxyXG4gICAgICAgIHJvb20uY29sID4gZW5kQ29sIHx8XHJcbiAgICAgICAgcm9vbS5yb3cgKyByb29tLmhlaWdodCA8IHN0YXJ0Um93IHx8XHJcbiAgICAgICAgcm9vbS5yb3cgPiBlbmRSb3dcclxuICAgICAgKVxyXG4gICAgICAgIGNvbnRpbnVlO1xyXG5cclxuICAgICAgY29uc3Qgcm9vbVNjcmVlblggPSBNYXRoLmZsb29yKHJvb20uY29sICogdGhpcy50aWxlU2l6ZSArIG9mZnNldFgpO1xyXG4gICAgICBjb25zdCByb29tU2NyZWVuWSA9IE1hdGguZmxvb3Iocm9vbS5yb3cgKiB0aGlzLnRpbGVTaXplICsgb2Zmc2V0WSk7XHJcbiAgICAgIGNvbnN0IHJvb21TY3JlZW5XID0gcm9vbS53aWR0aCAqIHRoaXMudGlsZVNpemU7XHJcbiAgICAgIGNvbnN0IHJvb21TY3JlZW5IID0gcm9vbS5oZWlnaHQgKiB0aGlzLnRpbGVTaXplO1xyXG5cclxuICAgICAgLy8gLS0tIERldGVybWluZSBGbG9vciBDb2xvciBCYXNlZCBvbiBSb29tIFR5cGUgKFRoaXMgbG9naWMgcmVtYWlucykgLS0tXHJcbiAgICAgIGxldCBmbG9vckNvbG9yID0gdGhpcy5iYXNlUm9vbUZsb29yQ29sb3I7IC8vIFN0YXJ0IHdpdGggZGVmYXVsdFxyXG4gICAgICAvLyBVc2UgYSBzZWVkIHRoYXQgY2hhbmdlcyBwZXIgcm9vbSBidXQgaXMgY29uc2lzdGVudCBmb3IgdGhhdCByb29tXHJcbiAgICAgIC8vIEFkZGVkIGZsb29yTnVtYmVyIGRlcGVuZGVuY3kgaWYgYXZhaWxhYmxlIGluIGB0aGlzYCwgb3RoZXJ3aXNlIHVzZSByb29tLmlkXHJcbiAgICAgIGNvbnN0IGZsb29yTnVtID0gdHlwZW9mIHRoaXMuZmxvb3JOdW1iZXIgPT09ICdudW1iZXInID8gdGhpcy5mbG9vck51bWJlciA6IDA7XHJcbiAgICAgIGxldCByb29tU2VlZCA9IHNpbXBsZUhhc2gocm9vbS5pZCkgKyBmbG9vck51bSAqIDEwMDsgLy8gVXNlIGhhc2ggb2YgSUQgZm9yIG1vcmUgdmFyaWF0aW9uXHJcblxyXG4gICAgICBzd2l0Y2ggKHJvb20udHlwZSkge1xyXG4gICAgICAgIGNhc2UgJ2NsYXNzcm9vbSc6XHJcbiAgICAgICAgICBmbG9vckNvbG9yID0gYWRqdXN0Q29sb3JCcmlnaHRuZXNzKCcjYTBjOGUwJywgMC45ICsgKHNpbXBsZUhhc2gocm9vbVNlZWQpICUgMTEpIC8gMTAwKTtcclxuICAgICAgICAgIGJyZWFrOyAvLyBCbHVpc2hcclxuICAgICAgICBjYXNlICdvZmZpY2UnOlxyXG4gICAgICAgICAgZmxvb3JDb2xvciA9IGFkanVzdENvbG9yQnJpZ2h0bmVzcyhcclxuICAgICAgICAgICAgJyNmMGU4YzAnLFxyXG4gICAgICAgICAgICAwLjkgKyAoc2ltcGxlSGFzaChyb29tU2VlZCArIDEpICUgMTEpIC8gMTAwXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgYnJlYWs7IC8vIEJlaWdlXHJcbiAgICAgICAgY2FzZSAnbGlicmFyeSc6XHJcbiAgICAgICAgICBmbG9vckNvbG9yID0gYWRqdXN0Q29sb3JCcmlnaHRuZXNzKFxyXG4gICAgICAgICAgICAnI2Q4YzBhOCcsXHJcbiAgICAgICAgICAgIDAuOSArIChzaW1wbGVIYXNoKHJvb21TZWVkICsgMikgJSAxMSkgLyAxMDBcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBicmVhazsgLy8gV29vZGVuXHJcbiAgICAgICAgY2FzZSAnZ3ltJzpcclxuICAgICAgICAgIGZsb29yQ29sb3IgPSBhZGp1c3RDb2xvckJyaWdodG5lc3MoXHJcbiAgICAgICAgICAgICcjYjBkMGIwJyxcclxuICAgICAgICAgICAgMC45ICsgKHNpbXBsZUhhc2gocm9vbVNlZWQgKyAzKSAlIDExKSAvIDEwMFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGJyZWFrOyAvLyBHcmVlbmlzaFxyXG4gICAgICAgIGNhc2UgJ2xhYic6XHJcbiAgICAgICAgICBmbG9vckNvbG9yID0gYWRqdXN0Q29sb3JCcmlnaHRuZXNzKFxyXG4gICAgICAgICAgICAnI2UwZTBmZicsXHJcbiAgICAgICAgICAgIDAuOSArIChzaW1wbGVIYXNoKHJvb21TZWVkICsgNCkgJSAxMSkgLyAxMDBcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBicmVhazsgLy8gTGlnaHQgYmx1ZS1wdXJwbGVcclxuICAgICAgICBjYXNlICdzdG9yYWdlJzpcclxuICAgICAgICAgIGZsb29yQ29sb3IgPSBhZGp1c3RDb2xvckJyaWdodG5lc3MoXHJcbiAgICAgICAgICAgICcjYjBhMDkwJyxcclxuICAgICAgICAgICAgMC45ICsgKHNpbXBsZUhhc2gocm9vbVNlZWQgKyA1KSAlIDExKSAvIDEwMFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGJyZWFrOyAvLyBHcmF5LWJyb3duXHJcbiAgICAgICAgY2FzZSAndXRpbGl0eSc6XHJcbiAgICAgICAgICBmbG9vckNvbG9yID0gYWRqdXN0Q29sb3JCcmlnaHRuZXNzKFxyXG4gICAgICAgICAgICAnI2IwYjBiMCcsXHJcbiAgICAgICAgICAgIDAuOSArIChzaW1wbGVIYXNoKHJvb21TZWVkICsgNikgJSAxMSkgLyAxMDBcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBicmVhazsgLy8gR3JheSBjb25jcmV0ZVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyAtLS0gRHJhdyBSb29tIEZsb29yIChUaWxlIGJ5IFRpbGUgd2l0aGluIFZpc2libGUgQXJlYSkgLS0tXHJcbiAgICAgIGZvciAoXHJcbiAgICAgICAgbGV0IHIgPSBNYXRoLm1heChyb29tLnJvdywgc3RhcnRSb3cpO1xyXG4gICAgICAgIHIgPCBNYXRoLm1pbihyb29tLnJvdyArIHJvb20uaGVpZ2h0LCBlbmRSb3cpO1xyXG4gICAgICAgIHIrK1xyXG4gICAgICApIHtcclxuICAgICAgICBmb3IgKFxyXG4gICAgICAgICAgbGV0IGMgPSBNYXRoLm1heChyb29tLmNvbCwgc3RhcnRDb2wpO1xyXG4gICAgICAgICAgYyA8IE1hdGgubWluKHJvb20uY29sICsgcm9vbS53aWR0aCwgZW5kQ29sKTtcclxuICAgICAgICAgIGMrK1xyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgY29uc3QgdGlsZVZhbHVlID0gbWFwW3JdPy5bY107XHJcbiAgICAgICAgICAvLyBPbmx5IGRyYXcgaWYgaXQncyBhY3R1YWxseSBhIFRJTEVfUk9PTV9GTE9PUlxyXG4gICAgICAgICAgaWYgKHRpbGVWYWx1ZSA9PT0gVElMRV9ST09NX0ZMT09SKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNjcmVlblggPSBNYXRoLmZsb29yKGMgKiB0aGlzLnRpbGVTaXplICsgb2Zmc2V0WCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHNjcmVlblkgPSBNYXRoLmZsb29yKHIgKiB0aGlzLnRpbGVTaXplICsgb2Zmc2V0WSk7XHJcblxyXG4gICAgICAgICAgICAvLyAtLS0gU3VidGxlIFBlci1UaWxlIFZhcmlhdGlvbiBXSVRISU4gUm9vbSBGbG9vciAoS2VwdCBmb3IgdGV4dHVyZSkgLS0tXHJcbiAgICAgICAgICAgIGNvbnN0IHRpbGVIYXNoID0gc2ltcGxlSGFzaChyICogNTAwMCArIGMgKiAzICsgcm9vbVNlZWQpOyAvLyBJbmNsdWRlIHJvb21TZWVkXHJcbiAgICAgICAgICAgIGNvbnN0IHZhcmlhdGlvbiA9ICgodGlsZUhhc2ggJSAxMSkgLSA1KSAvIDEwMDsgLy8gVmFyaWF0aW9uIC0wLjA1IHRvICswLjA1XHJcbiAgICAgICAgICAgIGNvbnN0IGJyaWdodG5lc3NGYWN0b3IgPSAwLjk4ICsgdmFyaWF0aW9uO1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gYWRqdXN0Q29sb3JCcmlnaHRuZXNzKGZsb29yQ29sb3IsIGJyaWdodG5lc3NGYWN0b3IpO1xyXG4gICAgICAgICAgICAvLyAtLS0gRW5kIFBlci1UaWxlIFZhcmlhdGlvbiAtLS1cclxuXHJcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdChzY3JlZW5YLCBzY3JlZW5ZLCB0aGlzLnRpbGVTaXplLCB0aGlzLnRpbGVTaXplKTtcclxuXHJcbiAgICAgICAgICAgIC8vIE9wdGlvbmFsIGZsb29yIHRleHR1cmUgKHJlbWFpbnMgdGhlIHNhbWUpXHJcbiAgICAgICAgICAgIGlmIChyb29tLnR5cGUgPT09ICdsYWInKSB7XHJcbiAgICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJ3JnYmEoMCwwLDAsMC4wOCknO1xyXG4gICAgICAgICAgICAgIGN0eC5saW5lV2lkdGggPSAxO1xyXG4gICAgICAgICAgICAgIGN0eC5zdHJva2VSZWN0KHNjcmVlblggKyAwLjUsIHNjcmVlblkgKyAwLjUsIHRoaXMudGlsZVNpemUgLSAxLCB0aGlzLnRpbGVTaXplIC0gMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIC0tLSBEcmF3IERlY29yYXRpb25zIChyZW1haW5zIHRoZSBzYW1lKSAtLS1cclxuICAgICAgdGhpcy5kcmF3Um9vbURlY29yYXRpb25zKGN0eCwgcm9vbSwgcm9vbVNjcmVlblgsIHJvb21TY3JlZW5ZLCByb29tU2NyZWVuVywgcm9vbVNjcmVlbkgpO1xyXG4gICAgfVxyXG4gICAgY3R4LnJlc3RvcmUoKTtcclxuICB9XHJcblxyXG4gIC8vIC0tLSBkcmF3TGlmdERldGFpbHMsIGRyYXdSb29tRGVjb3JhdGlvbnMsIGRyYXdCb29rcyByZW1haW4gdW5jaGFuZ2VkIC0tLVxyXG4gIC8vIC4uLiAoa2VlcCB0aGUgZXhpc3RpbmcgY29kZSBmb3IgdGhlc2UgbWV0aG9kcykgLi4uXHJcbiAgLyoqIE5hcnlzdWogZGV0YWxlIHdpbmR5IChwcnp5Y2lzaywga29udHVyKSAqL1xyXG4gIGRyYXdMaWZ0RGV0YWlscyhjdHgsIGxpZnRQb3NpdGlvbiwgb2Zmc2V0WCwgb2Zmc2V0WSkge1xyXG4gICAgaWYgKCFsaWZ0UG9zaXRpb24pIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBzY3JlZW5YID0gTWF0aC5mbG9vcihsaWZ0UG9zaXRpb24udGlsZVggKiB0aGlzLnRpbGVTaXplICsgb2Zmc2V0WCk7XHJcbiAgICBjb25zdCBzY3JlZW5ZID0gTWF0aC5mbG9vcihsaWZ0UG9zaXRpb24udGlsZVkgKiB0aGlzLnRpbGVTaXplICsgb2Zmc2V0WSk7XHJcblxyXG4gICAgLy8gU3ByYXdkxbosIGN6eSB3aW5kYSBqZXN0IHdpZG9jem5hIHByemVkIHJ5c293YW5pZW0gZGV0YWxpXHJcbiAgICBpZiAoXHJcbiAgICAgIHNjcmVlblggKyB0aGlzLnRpbGVTaXplIDwgMCB8fFxyXG4gICAgICBzY3JlZW5YID4gY3R4LmNhbnZhcy53aWR0aCB8fFxyXG4gICAgICBzY3JlZW5ZICsgdGhpcy50aWxlU2l6ZSA8IDAgfHxcclxuICAgICAgc2NyZWVuWSA+IGN0eC5jYW52YXMuaGVpZ2h0XHJcbiAgICApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGN0eC5zYXZlKCk7XHJcbiAgICBjdHguc2hhZG93Q29sb3IgPSAndHJhbnNwYXJlbnQnOyAvLyBCcmFrIGNpZW5pYSBkbGEgZGV0YWxpIHdpbmR5XHJcblxyXG4gICAgLy8gV3lyYcW6bmllanN6YSByYW1rYSB3aW5keVxyXG4gICAgY3R4LnN0cm9rZVN0eWxlID0gJyNkMGQwZDAnOyAvLyBKYXNuYSByYW1rYVxyXG4gICAgY3R4LmxpbmVXaWR0aCA9IDE7XHJcbiAgICBjdHguc3Ryb2tlUmVjdChzY3JlZW5YICsgMC41LCBzY3JlZW5ZICsgMC41LCB0aGlzLnRpbGVTaXplIC0gMSwgdGhpcy50aWxlU2l6ZSAtIDEpO1xyXG4gICAgY3R4LnN0cm9rZVN0eWxlID0gJyM0MDQwNDAnOyAvLyBDaWVtbnkgd2V3bsSZdHJ6bnkgY2llxYRcclxuICAgIGN0eC5zdHJva2VSZWN0KHNjcmVlblggKyAxLjUsIHNjcmVlblkgKyAxLjUsIHRoaXMudGlsZVNpemUgLSAzLCB0aGlzLnRpbGVTaXplIC0gMyk7XHJcblxyXG4gICAgLy8gVWxlcHN6b255IHByenljaXNrXHJcbiAgICBjb25zdCBidXR0b25SYWRpdXMgPSB0aGlzLnRpbGVTaXplICogMC4xNTsgLy8gVHJvY2jEmSB3acSZa3N6eVxyXG4gICAgY29uc3QgYnV0dG9uWCA9IHNjcmVlblggKyB0aGlzLnRpbGVTaXplICogMC44O1xyXG4gICAgY29uc3QgYnV0dG9uWSA9IHNjcmVlblkgKyB0aGlzLnRpbGVTaXplICogMC41O1xyXG5cclxuICAgIC8vIFBvZHN0YXdhIHByenljaXNrdSAoY2llbW5pZWpzemEpXHJcbiAgICBjdHguZmlsbFN0eWxlID0gJyM0NDQnO1xyXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgY3R4LmFyYyhidXR0b25YLCBidXR0b25ZLCBidXR0b25SYWRpdXMsIDAsIE1hdGguUEkgKiAyKTtcclxuICAgIGN0eC5maWxsKCk7XHJcblxyXG4gICAgLy8gU2FtIHByenljaXNrIChjemVyd29ueSlcclxuICAgIGN0eC5maWxsU3R5bGUgPSAnI2ZmNDQ0NCc7XHJcbiAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICBjdHguYXJjKGJ1dHRvblgsIGJ1dHRvblksIGJ1dHRvblJhZGl1cyAqIDAuOCwgMCwgTWF0aC5QSSAqIDIpO1xyXG4gICAgY3R4LmZpbGwoKTtcclxuXHJcbiAgICAvLyBPZGJsYXNrIG5hIHByenljaXNrdVxyXG4gICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSknO1xyXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgY3R4LmFyYyhcclxuICAgICAgYnV0dG9uWCAtIGJ1dHRvblJhZGl1cyAqIDAuMixcclxuICAgICAgYnV0dG9uWSAtIGJ1dHRvblJhZGl1cyAqIDAuMixcclxuICAgICAgYnV0dG9uUmFkaXVzICogMC4zLFxyXG4gICAgICAwLFxyXG4gICAgICBNYXRoLlBJICogMlxyXG4gICAgKTtcclxuICAgIGN0eC5maWxsKCk7XHJcblxyXG4gICAgY3R4LnJlc3RvcmUoKTtcclxuICB9XHJcblxyXG4gIC8qKiBOYXJ5c3VqIGRla29yYWNqZSBkbGEga29ua3JldG5lZ28gcG9rb2p1ICovXHJcbiAgZHJhd1Jvb21EZWNvcmF0aW9ucyhjdHgsIHJvb20sIHgsIHksIHcsIGgpIHtcclxuICAgIC8vIHgsIHkgdG8gbGV3eSBnw7NybnkgcsOzZyBwb2tvanUgbmEgZWtyYW5pZVxyXG4gICAgLy8gdywgaCB0byBzemVyb2tvxZvEhyBpIHd5c29rb8WbxIcgcG9rb2p1IG5hIGVrcmFuaWVcclxuICAgIGNvbnN0IHRzID0gdGhpcy50aWxlU2l6ZTtcclxuICAgIGNvbnN0IG1hcmdpbiA9IHRzICogMC4yOyAvLyBNbmllanN6eSBtYXJnaW5lc1xyXG4gICAgY29uc3Qgb2JqTWFyZ2luID0gdHMgKiAwLjE7IC8vIE9kc3TEmXAgbWnEmWR6eSBvYmlla3RhbWlcclxuICAgIGN0eC5saW5lV2lkdGggPSAxO1xyXG4gICAgY3R4LnN0cm9rZVN0eWxlID0gJyM0NDQnOyAvLyBDaWVtbmllanN6YSBkb215xZtsbmEgb2J3w7Nka2FcclxuXHJcbiAgICAvLyA9PT0gRlVOS0NKRSBQT01PQ05JQ1pFIERPIFJZU09XQU5JQSA9PT1cclxuICAgIGNvbnN0IGRyYXdSZWN0ID0gKHJ4LCByeSwgcncsIHJoLCBjb2xvciwgb3V0bGluZSA9IHRydWUpID0+IHtcclxuICAgICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yO1xyXG4gICAgICBjb25zdCBzY3JlZW5YID0gTWF0aC5mbG9vcih4ICsgcngpO1xyXG4gICAgICBjb25zdCBzY3JlZW5ZID0gTWF0aC5mbG9vcih5ICsgcnkpO1xyXG4gICAgICBjb25zdCBzY3JlZW5XID0gTWF0aC5mbG9vcihydyk7XHJcbiAgICAgIGNvbnN0IHNjcmVlbkggPSBNYXRoLmZsb29yKHJoKTtcclxuICAgICAgY3R4LmZpbGxSZWN0KHNjcmVlblgsIHNjcmVlblksIHNjcmVlblcsIHNjcmVlbkgpO1xyXG4gICAgICBpZiAob3V0bGluZSkge1xyXG4gICAgICAgIGN0eC5zdHJva2VSZWN0KHNjcmVlblggKyAwLjUsIHNjcmVlblkgKyAwLjUsIHNjcmVlblcgLSAxLCBzY3JlZW5IIC0gMSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBkcmF3Q2lyY2xlID0gKGN4LCBjeSwgcmFkaXVzLCBjb2xvciwgb3V0bGluZSA9IHRydWUpID0+IHtcclxuICAgICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yO1xyXG4gICAgICBjb25zdCBzY3JlZW5YID0gTWF0aC5mbG9vcih4ICsgY3gpO1xyXG4gICAgICBjb25zdCBzY3JlZW5ZID0gTWF0aC5mbG9vcih5ICsgY3kpO1xyXG4gICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgIGN0eC5hcmMoc2NyZWVuWCwgc2NyZWVuWSwgTWF0aC5mbG9vcihyYWRpdXMpLCAwLCBNYXRoLlBJICogMik7XHJcbiAgICAgIGN0eC5maWxsKCk7XHJcbiAgICAgIGlmIChvdXRsaW5lKSB7XHJcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgc3dpdGNoIChyb29tLnR5cGUpIHtcclxuICAgICAgY2FzZSAnY2xhc3Nyb29tJzogLy8gU2FsYSBsZWtjeWpuYVxyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjNWQ0MDM3JzsgLy8gQnLEhXpvd2Egb2J3w7Nka2EgZGxhIG1lYmxpXHJcbiAgICAgICAgY29uc3QgZGVza1cgPSB0cyAqIDAuNixcclxuICAgICAgICAgIGRlc2tIID0gdHMgKiAwLjQsXHJcbiAgICAgICAgICBjaGFpckggPSB0cyAqIDAuMjU7XHJcbiAgICAgICAgY29uc3Qgc3BhY2VYID0gdHMgKiAxLjAsXHJcbiAgICAgICAgICBzcGFjZVkgPSB0cyAqIDAuOTtcclxuICAgICAgICAvLyBUYWJsaWNhIG5hIGfDs3JuZWogxZtjaWFuaWVcclxuICAgICAgICBkcmF3UmVjdCh3ICogMC4yNSwgbWFyZ2luLCB3ICogMC41LCB0cyAqIDAuMiwgJyMzMzMnLCB0cnVlKTtcclxuICAgICAgICBkcmF3UmVjdCh3ICogMC4yNSArIDIsIG1hcmdpbiArIDIsIHcgKiAwLjUgLSA0LCB0cyAqIDAuMiAtIDQsICcjNENBRjUwJywgZmFsc2UpOyAvLyBaaWVsb25hIHBvd2llcnpjaG5pYVxyXG5cclxuICAgICAgICAvLyDFgWF3a2kgaSBrcnplc8WCYSB3IHJ6xJlkYWNoXHJcbiAgICAgICAgZm9yIChsZXQgciA9IDA7IDsgcisrKSB7XHJcbiAgICAgICAgICBjb25zdCByb3dZID0gbWFyZ2luICsgdHMgKiAwLjUgKyByICogc3BhY2VZO1xyXG4gICAgICAgICAgaWYgKHJvd1kgKyBkZXNrSCArIGNoYWlySCA+IGggLSBtYXJnaW4pIGJyZWFrOyAvLyBTcHJhd2R6ZW5pZSBjenkgem1pZcWbY2kgc2nEmSByesSFZFxyXG4gICAgICAgICAgZm9yIChsZXQgYyA9IDA7IDsgYysrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbFggPSBtYXJnaW4gKyBjICogc3BhY2VYO1xyXG4gICAgICAgICAgICBpZiAoY29sWCArIGRlc2tXID4gdyAtIG1hcmdpbikgYnJlYWs7IC8vIFNwcmF3ZHplbmllIGN6eSB6bWllxZtjaSBzacSZIGtvbHVtbmFcclxuICAgICAgICAgICAgLy8gxYFhd2thXHJcbiAgICAgICAgICAgIGRyYXdSZWN0KGNvbFgsIHJvd1ksIGRlc2tXLCBkZXNrSCwgJyM4QjQ1MTMnKTtcclxuICAgICAgICAgICAgLy8gS3J6ZXPFgm8gcG9uacW8ZWpcclxuICAgICAgICAgICAgZHJhd1JlY3QoY29sWCArIGRlc2tXICogMC4xLCByb3dZICsgZGVza0ggKyBvYmpNYXJnaW4sIGRlc2tXICogMC44LCBjaGFpckgsICcjNmE0YTNhJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnb2ZmaWNlJzogLy8gQml1cm9cclxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnIzVkNDAzNyc7XHJcbiAgICAgICAgLy8gQml1cmtvXHJcbiAgICAgICAgY29uc3QgdGFibGVXID0gTWF0aC5taW4odyAqIDAuNiwgdHMgKiAyLjUpO1xyXG4gICAgICAgIGNvbnN0IHRhYmxlSCA9IE1hdGgubWluKGggKiAwLjQsIHRzICogMS4yKTtcclxuICAgICAgICBkcmF3UmVjdChtYXJnaW4sIG1hcmdpbiwgdGFibGVXLCB0YWJsZUgsICcjYTA1MjJkJyk7XHJcbiAgICAgICAgLy8gS3J6ZXPFgm8gYml1cm93ZVxyXG4gICAgICAgIGRyYXdSZWN0KG1hcmdpbiArIHRhYmxlVyArIG9iak1hcmdpbiwgbWFyZ2luICsgdGFibGVIICogMC4xLCB0cyAqIDAuNiwgdHMgKiAwLjYsICcjNDQ0Jyk7XHJcbiAgICAgICAgLy8gU3phZmEgbmEgYWt0YVxyXG4gICAgICAgIGNvbnN0IGNhYmluZXRXID0gdHMgKiAwLjg7XHJcbiAgICAgICAgZHJhd1JlY3QodyAtIG1hcmdpbiAtIGNhYmluZXRXLCBtYXJnaW4sIGNhYmluZXRXLCBoIC0gbWFyZ2luICogMiwgJyM2QjRGNDEnKTtcclxuICAgICAgICAvLyBLb21wdXRlciBuYSBiaXVya3UgKHN5bWJvbGljem5pZSlcclxuICAgICAgICBkcmF3UmVjdChtYXJnaW4gKyBvYmpNYXJnaW4sIG1hcmdpbiArIG9iak1hcmdpbiwgdHMgKiAwLjUsIHRzICogMC40LCAnIzMzMycpOyAvLyBNb25pdG9yXHJcbiAgICAgICAgZHJhd1JlY3QoXHJcbiAgICAgICAgICBtYXJnaW4gKyBvYmpNYXJnaW4gKyB0cyAqIDAuMSxcclxuICAgICAgICAgIG1hcmdpbiArIG9iak1hcmdpbiArIHRzICogMC40ICsgMixcclxuICAgICAgICAgIHRzICogMC4zLFxyXG4gICAgICAgICAgdHMgKiAwLjEsXHJcbiAgICAgICAgICAnIzU1NSdcclxuICAgICAgICApOyAvLyBLbGF3aWF0dXJhXHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdsaWJyYXJ5JzogLy8gQmlibGlvdGVrYVxyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjNDAyYTEwJzsgLy8gQ2llbW5pZWpzemEgb2J3w7Nka2EgZGxhIHJlZ2HFgsOzd1xyXG4gICAgICAgIGNvbnN0IHNoZWxmVyA9IHRzICogMC42O1xyXG4gICAgICAgIGNvbnN0IHNoZWxmU3BhY2luZyA9IHRzICogMS41O1xyXG4gICAgICAgIC8vIFJlZ2HFgnkgdyBwaW9uaWVcclxuICAgICAgICBmb3IgKGxldCBzeCA9IG1hcmdpbjsgc3ggPCB3IC0gbWFyZ2luIC0gc2hlbGZXOyBzeCArPSBzaGVsZlNwYWNpbmcpIHtcclxuICAgICAgICAgIGRyYXdSZWN0KHN4LCBtYXJnaW4sIHNoZWxmVywgaCAtIG1hcmdpbiAqIDIsICcjNjU0MzIxJyk7XHJcbiAgICAgICAgICAvLyBMaW5pZSBww7PFgmVrXHJcbiAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAncmdiYSgwLDAsMCwwLjMpJztcclxuICAgICAgICAgIGZvciAobGV0IHNoZWxmWSA9IG1hcmdpbiArIHRzICogMC41OyBzaGVsZlkgPCBoIC0gbWFyZ2luOyBzaGVsZlkgKz0gdHMgKiAwLjcpIHtcclxuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICBjdHgubW92ZVRvKHggKyBzeCwgeSArIHNoZWxmWSk7XHJcbiAgICAgICAgICAgIGN0eC5saW5lVG8oeCArIHN4ICsgc2hlbGZXLCB5ICsgc2hlbGZZKTtcclxuICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJyM0MDJhMTAnOyAvLyBQcnp5d3LDs8SHIGfFgsOzd255IGtvbG9yIG9id8OzZGtpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFN0w7PFgiBkbyBjenl0YW5pYSAoamXFm2xpIGplc3QgbWllanNjZSlcclxuICAgICAgICBpZiAodyA+IHNoZWxmU3BhY2luZyAqIDEuNSkge1xyXG4gICAgICAgICAgY29uc3QgdGFibGVMaWJYID0gc2hlbGZXICsgbWFyZ2luICsgKHcgLSBzaGVsZlcgKiAyIC0gbWFyZ2luICogMiAtIHRzICogMS41KSAvIDI7IC8vIFd5xZtyb2RrdWogc3TDs8WCIG1pxJlkenkgcmVnYcWCYW1pXHJcbiAgICAgICAgICBpZiAodGFibGVMaWJYID4gc2hlbGZXICsgbWFyZ2luKSB7XHJcbiAgICAgICAgICAgIC8vIFVwZXduaWogc2nEmSwgxbxlIGplc3QgbWllanNjZVxyXG4gICAgICAgICAgICBkcmF3UmVjdCh0YWJsZUxpYlgsIGggKiAwLjMsIHRzICogMS41LCBoICogMC40LCAnIzk2NkYzMycpO1xyXG4gICAgICAgICAgICAvLyBLcnplc8WCYSBwcnp5IHN0b2xlXHJcbiAgICAgICAgICAgIGRyYXdSZWN0KHRhYmxlTGliWCArIHRzICogMC4yLCBoICogMC4zIC0gdHMgKiAwLjMsIHRzICogMC41LCB0cyAqIDAuMjUsICcjNmE0YTNhJyk7XHJcbiAgICAgICAgICAgIGRyYXdSZWN0KFxyXG4gICAgICAgICAgICAgIHRhYmxlTGliWCArIHRzICogMC4yLFxyXG4gICAgICAgICAgICAgIGggKiAwLjMgKyBoICogMC40ICsgb2JqTWFyZ2luLFxyXG4gICAgICAgICAgICAgIHRzICogMC41LFxyXG4gICAgICAgICAgICAgIHRzICogMC4yNSxcclxuICAgICAgICAgICAgICAnIzZhNGEzYSdcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdneW0nOiAvLyBTacWCb3duaWFcclxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnIzU1NSc7XHJcbiAgICAgICAgLy8gTWF0eSBkbyDEh3dpY3plxYRcclxuICAgICAgICBkcmF3UmVjdChtYXJnaW4sIG1hcmdpbiwgdyAqIDAuNCwgaCAqIDAuMywgJyM3Nzg4OTknKTtcclxuICAgICAgICBkcmF3UmVjdCh3IC0gbWFyZ2luIC0gdyAqIDAuMywgaCAtIG1hcmdpbiAtIGggKiAwLjQsIHcgKiAwLjMsIGggKiAwLjQsICcjNzc4ODk5Jyk7XHJcbiAgICAgICAgLy8gQmllxbxuaWEgKHN5bWJvbGljem5pZSlcclxuICAgICAgICBkcmF3UmVjdCh3ICogMC42LCBtYXJnaW4sIHRzICogMC44LCB0cyAqIDEuOCwgJyMzMzMnKTtcclxuICAgICAgICBkcmF3UmVjdCh3ICogMC42ICsgdHMgKiAwLjEsIG1hcmdpbiArIHRzICogMC4xLCB0cyAqIDAuNiwgdHMgKiAxLjYsICcjNTU1JywgZmFsc2UpO1xyXG4gICAgICAgIC8vIMWBYXdlY3prYVxyXG4gICAgICAgIGRyYXdSZWN0KG1hcmdpbiwgaCAqIDAuNSwgdHMgKiAxLjUsIHRzICogMC40LCAnIzhCNDUxMycpO1xyXG4gICAgICAgIC8vIFN0b2phayB6IGNpxJnFvGFya2FtaVxyXG4gICAgICAgIGRyYXdSZWN0KHcgLSBtYXJnaW4gLSB0cyAqIDAuNSwgbWFyZ2luLCB0cyAqIDAuNSwgdHMgKiAxLjUsICcjNDQ0Jyk7XHJcbiAgICAgICAgZHJhd0NpcmNsZSh3IC0gbWFyZ2luIC0gdHMgKiAwLjI1LCBtYXJnaW4gKyB0cyAqIDAuMywgdHMgKiAwLjE1LCAnIzY2NicpO1xyXG4gICAgICAgIGRyYXdDaXJjbGUodyAtIG1hcmdpbiAtIHRzICogMC4yNSwgbWFyZ2luICsgdHMgKiAwLjcsIHRzICogMC4xNSwgJyM2NjYnKTtcclxuICAgICAgICBkcmF3Q2lyY2xlKHcgLSBtYXJnaW4gLSB0cyAqIDAuMjUsIG1hcmdpbiArIHRzICogMS4xLCB0cyAqIDAuMTUsICcjNjY2Jyk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdsYWInOiAvLyBMYWJvcmF0b3JpdW1cclxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnIzY2OCc7XHJcbiAgICAgICAgLy8gU3RvxYJ5IGxhYm9yYXRvcnlqbmUgKGTFgnVnaWUpXHJcbiAgICAgICAgY29uc3QgbGFiVGFibGVIID0gdHMgKiAwLjg7XHJcbiAgICAgICAgZHJhd1JlY3QobWFyZ2luLCBtYXJnaW4sIHcgLSBtYXJnaW4gKiAyLCBsYWJUYWJsZUgsICcjZDBkMGQ4Jyk7IC8vIEphc25vc3phcnkgc3TDs8WCXHJcbiAgICAgICAgZHJhd1JlY3QobWFyZ2luLCBoIC0gbWFyZ2luIC0gbGFiVGFibGVILCB3IC0gbWFyZ2luICogMiwgbGFiVGFibGVILCAnI2QwZDBkOCcpO1xyXG4gICAgICAgIC8vIFNwcnrEmXQgbmEgc3RvxYJhY2hcclxuICAgICAgICBkcmF3UmVjdChtYXJnaW4gKyB0cyAqIDAuMiwgbWFyZ2luICsgdHMgKiAwLjEsIHRzICogMC41LCB0cyAqIDAuNSwgJyM0YTkwZTInKTsgLy8gQ2/FmyBuaWViaWVza2llZ29cclxuICAgICAgICBkcmF3UmVjdChtYXJnaW4gKyB0cyAqIDEuMCwgbWFyZ2luICsgdHMgKiAwLjEsIHRzICogMC4zLCB0cyAqIDAuNiwgJyNmNWE2MjMnKTsgLy8gQ2/FmyBwb21hcmHFhGN6b3dlZ29cclxuICAgICAgICBkcmF3Q2lyY2xlKHcgLSBtYXJnaW4gKiAyIC0gdHMgKiAwLjQsIG1hcmdpbiArIGxhYlRhYmxlSCAqIDAuNSwgdHMgKiAwLjIsICcjZTA0MDQwJywgdHJ1ZSk7IC8vIENvxZsgY3plcndvbmVnbyBva3LEhWfFgmVnb1xyXG4gICAgICAgIC8vIFN6YWZrYSB6IG9kY3p5bm5pa2FtaVxyXG4gICAgICAgIGRyYXdSZWN0KFxyXG4gICAgICAgICAgdyAqIDAuNCxcclxuICAgICAgICAgIG1hcmdpbiArIGxhYlRhYmxlSCArIG9iak1hcmdpbixcclxuICAgICAgICAgIHRzLFxyXG4gICAgICAgICAgaCAtIG1hcmdpbiAqIDIgLSBsYWJUYWJsZUggKiAyIC0gb2JqTWFyZ2luICogMixcclxuICAgICAgICAgICcjYTBhMGIwJ1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdzdG9yYWdlJzogLy8gTWFnYXp5blxyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjNGQ0MDMwJztcclxuICAgICAgICAvLyBQw7PFgmtpL3JlZ2HFgnkgbWV0YWxvd2VcclxuICAgICAgICBjb25zdCBtZXRhbFNoZWxmVyA9IHcgLSBtYXJnaW4gKiAyO1xyXG4gICAgICAgIGNvbnN0IG1ldGFsU2hlbGZIID0gdHMgKiAwLjU7XHJcbiAgICAgICAgZHJhd1JlY3QobWFyZ2luLCBtYXJnaW4sIG1ldGFsU2hlbGZXLCBtZXRhbFNoZWxmSCwgJyM5ZTllOWUnKTtcclxuICAgICAgICBkcmF3UmVjdChtYXJnaW4sIGggLSBtYXJnaW4gLSBtZXRhbFNoZWxmSCwgbWV0YWxTaGVsZlcsIG1ldGFsU2hlbGZILCAnIzllOWU5ZScpO1xyXG4gICAgICAgIC8vIFB1ZMWCYVxyXG4gICAgICAgIGNvbnN0IGJveFNpemUgPSB0cyAqIDAuNjtcclxuICAgICAgICBkcmF3UmVjdChtYXJnaW4gKyB0cyAqIDAuMiwgbWFyZ2luICsgbWV0YWxTaGVsZkggKyBvYmpNYXJnaW4sIGJveFNpemUsIGJveFNpemUsICcjYmY4ZjZmJyk7XHJcbiAgICAgICAgZHJhd1JlY3QobWFyZ2luICsgdHMgKiAxLjAsIG1hcmdpbiArIG1ldGFsU2hlbGZIICsgb2JqTWFyZ2luLCBib3hTaXplLCBib3hTaXplLCAnI2JmOGY2ZicpO1xyXG4gICAgICAgIGRyYXdSZWN0KFxyXG4gICAgICAgICAgdyAtIG1hcmdpbiAtIGJveFNpemUgKiAxLjUsXHJcbiAgICAgICAgICBtYXJnaW4gKyBtZXRhbFNoZWxmSCArIG9iak1hcmdpbiAqIDMsXHJcbiAgICAgICAgICBib3hTaXplICogMS4yLFxyXG4gICAgICAgICAgYm94U2l6ZSAqIDAuOCxcclxuICAgICAgICAgICcjYmY4ZjZmJ1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgLy8gU3RhcmUgYml1cmtvIHcgcm9ndVxyXG4gICAgICAgIGRyYXdSZWN0KHcgLSBtYXJnaW4gLSB0cywgaCAtIG1hcmdpbiAtIHRzLCB0cyAqIDAuOCwgdHMgKiAwLjgsICcjNmE0YTNhJyk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICd1dGlsaXR5JzogLy8gUG9taWVzemN6ZW5pZSBnb3Nwb2RhcmN6ZVxyXG4gICAgICBkZWZhdWx0OiAvLyBEb215xZtsbmUsIGplxZtsaSB0eXAgbmllem5hbnlcclxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnIzVkNDAzNyc7XHJcbiAgICAgICAgLy8gU2tyenlua2kvdXJ6xIVkemVuaWFcclxuICAgICAgICBkcmF3UmVjdCh3ICogMC4xLCBoICogMC4xNSwgdyAqIDAuMywgaCAqIDAuMjUsICcjQTA1MjJEJyk7XHJcbiAgICAgICAgZHJhd1JlY3QodyAqIDAuNiwgaCAqIDAuNSwgdyAqIDAuMywgaCAqIDAuNCwgJyNBMDUyMkQnKTtcclxuICAgICAgICAvLyBTemFmYSBtZXRhbG93YVxyXG4gICAgICAgIGRyYXdSZWN0KHcgLSBtYXJnaW4gLSB0cyAqIDAuNSwgbWFyZ2luLCB0cyAqIDAuNSwgaCAtIG1hcmdpbiAqIDIsICcjNzc3Jyk7XHJcbiAgICAgICAgLy8gUnVyeS9rYWJsZSAoc3ltYm9saWN6bmllKVxyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjNTU1JztcclxuICAgICAgICBjdHgubGluZVdpZHRoID0gMztcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4Lm1vdmVUbyh4ICsgbWFyZ2luLCB5ICsgaCAqIDAuOCk7XHJcbiAgICAgICAgY3R4LmxpbmVUbyh4ICsgdyAtIG1hcmdpbiwgeSArIGggKiAwLjgpO1xyXG4gICAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4Lm1vdmVUbyh4ICsgdyAqIDAuNywgeSArIG1hcmdpbik7XHJcbiAgICAgICAgY3R4LmxpbmVUbyh4ICsgdyAqIDAuNywgeSArIGggLSBtYXJnaW4pO1xyXG4gICAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgICAgICBjdHgubGluZVdpZHRoID0gMTsgLy8gUHJ6eXdyw7PEhyBncnVib8WbxIcgbGluaWlcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKiBOYXJ5c3VqIGtzacSFxbxraSAqL1xyXG4gIGRyYXdCb29rcyhjdHgsIGJvb2tzLCBvZmZzZXRYLCBvZmZzZXRZLCBib29rSW1hZ2UpIHtcclxuICAgIGlmICghYm9va3MgfHwgYm9va3MubGVuZ3RoID09PSAwKSByZXR1cm47XHJcbiAgICBjb25zdCBkZWZhdWx0Qm9va1NpemUgPSB0aGlzLnRpbGVTaXplICogMC42O1xyXG5cclxuICAgIGZvciAoY29uc3QgYm9vayBvZiBib29rcykge1xyXG4gICAgICBjb25zdCBpc0NvbGxlY3RlZCA9IGJvb2suaXNDb2xsZWN0ZWQgfHwgYm9vay5jb2xsZWN0ZWQ7IC8vIEhhbmRsZSBib3RoIHBvdGVudGlhbCBwcm9wZXJ0aWVzXHJcbiAgICAgIGlmICghaXNDb2xsZWN0ZWQpIHtcclxuICAgICAgICBjb25zdCBib29rU2l6ZSA9IGJvb2suc2l6ZSB8fCBkZWZhdWx0Qm9va1NpemU7XHJcbiAgICAgICAgLy8gUm91bmQgZHJhd2luZyBjb29yZGluYXRlc1xyXG4gICAgICAgIGNvbnN0IHNjcmVlblggPSBNYXRoLmZsb29yKGJvb2sueCArIG9mZnNldFggLSBib29rU2l6ZSAvIDIpO1xyXG4gICAgICAgIGNvbnN0IHNjcmVlblkgPSBNYXRoLmZsb29yKGJvb2sueSArIG9mZnNldFkgLSBib29rU2l6ZSAvIDIpO1xyXG5cclxuICAgICAgICAvLyBCYXNpYyB2aXNpYmlsaXR5IGNoZWNrXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgc2NyZWVuWCArIGJvb2tTaXplID4gMCAmJlxyXG4gICAgICAgICAgc2NyZWVuWCA8IGN0eC5jYW52YXMud2lkdGggJiZcclxuICAgICAgICAgIHNjcmVlblkgKyBib29rU2l6ZSA+IDAgJiZcclxuICAgICAgICAgIHNjcmVlblkgPCBjdHguY2FudmFzLmhlaWdodFxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgLy8gUHJlZmVyIGJvb2sncyBvd24gZHJhdyBtZXRob2QgaWYgYXZhaWxhYmxlXHJcbiAgICAgICAgICBpZiAodHlwZW9mIGJvb2suZHJhdyA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAvLyBQYXNzIHJvdW5kZWQgY29vcmRpbmF0ZXMgYW5kIHNpemVcclxuICAgICAgICAgICAgYm9vay5kcmF3KGN0eCwgb2Zmc2V0WCwgb2Zmc2V0WSwgYm9va0ltYWdlKTsgLy8gYm9vay5kcmF3IHNob3VsZCBoYW5kbGUgaXRzIG93biByb3VuZGluZyBpZiBuZWVkZWQgaW50ZXJuYWxseVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gRmFsbGJhY2sgZHJhd2luZ1xyXG4gICAgICAgICAgICBpZiAoYm9va0ltYWdlKSB7XHJcbiAgICAgICAgICAgICAgLy8gRHJhdyB3aXRoIHJvdW5kZWQgY29vcmRpbmF0ZXNcclxuICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKGJvb2tJbWFnZSwgc2NyZWVuWCwgc2NyZWVuWSwgYm9va1NpemUsIGJvb2tTaXplKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyM4ZDZlNjMnOyAvLyBCcm93biBib29rIGNvbG9yXHJcbiAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KHNjcmVlblgsIHNjcmVlblksIGJvb2tTaXplLCBib29rU2l6ZSk7XHJcbiAgICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJyM1ZDQwMzcnOyAvLyBEYXJrZXIgb3V0bGluZVxyXG4gICAgICAgICAgICAgIGN0eC5saW5lV2lkdGggPSAxO1xyXG4gICAgICAgICAgICAgIGN0eC5zdHJva2VSZWN0KHNjcmVlblggKyAwLjUsIHNjcmVlblkgKyAwLjUsIGJvb2tTaXplIC0gMSwgYm9va1NpemUgLSAxKTsgLy8gRHJhdyBib3JkZXIgbW9yZSBjbGVhcmx5XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn0gLy8gRW5kIGNsYXNzIE1hcFJlbmRlcmVyXHJcbiIsIi8vIHNyYy9tYXAvbWFwR2VuZXJhdG9yLmpzXHJcblxyXG5pbXBvcnQge1xyXG4gIFRJTEVfV0FMTCxcclxuICBUSUxFX0NPUlJJRE9SLFxyXG4gIFRJTEVfUk9PTV9GTE9PUixcclxuICBUSUxFX0xJRlQsXHJcbiAgR1lNX0NIQU5DRV9PTl9GSVJTVF9GTE9PUixcclxufSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xyXG5pbXBvcnQgeyByYW5kb21JbnQsIHBlcmZvcm1CRlMgfSBmcm9tICcuLi91dGlscy9tYXAuanMnOyAvLyBBc3N1bWluZyBwZXJmb3JtQkZTIGlzIGluIG1hcC5qc1xyXG5cclxuLy8gLS0tIE1vZHVsZS1sZXZlbCBzdGF0ZSBmb3IgbGlmdCBjb25zaXN0ZW5jeSAtLS1cclxubGV0IGNvbnNpc3RlbnRMaWZ0Q29vcmRzID0gbnVsbDtcclxuXHJcbi8vIC0tLSBHZW5lcmF0aW9uIFBhcmFtZXRlcnMgKERlZmF1bHRzKSAtLS1cclxuY29uc3QgREVGQVVMVF9HRU5fUEFSQU1TID0ge1xyXG4gIG1pblJvb21TaXplOiA1LFxyXG4gIG1heFJvb21TaXplOiAxMCxcclxuICBjb3JyaWRvclRoaWNrbmVzczogMSwgLy8gQ3VycmVudGx5IGhhcmRjb2RlZCB0byAxIGluIGNhcnZpbmcgZnVuY3NcclxuICBudW1Sb29tczogMTIsXHJcbiAgbWF4Um9vbUF0dGVtcHRzOiAyMDAsXHJcbiAgcm9vbVR5cGVXZWlnaHRzOiB7XHJcbiAgICBjbGFzc3Jvb206IDUwLFxyXG4gICAgb2ZmaWNlOiAyNSxcclxuICAgIGxpYnJhcnk6IDE1LFxyXG4gICAgZ3ltOiAwLCAvLyBCYXNlIHdlaWdodCwgYWRqdXN0ZWQgYmFzZWQgb24gZmxvb3JcclxuICAgIHV0aWxpdHk6IDEwLFxyXG4gIH0sXHJcbn07XHJcblxyXG4vLyAtLS0gQ29yZSBHZW5lcmF0aW9uIEZ1bmN0aW9uIC0tLVxyXG4vLyBJbiBnZW5lcmF0ZUxldmVsRGF0YSwgbWFrZSBzdXJlIHRvIHBhc3MgYHJvb21zYCB0byBgX3BsYWNlTGlmdGBcclxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlTGV2ZWxEYXRhKGNvbmZpZykge1xyXG4gIGNvbnN0IHsgY29scywgcm93cywgZmxvb3JOdW1iZXIsIG1pbkZsb29yLCB0aWxlU2l6ZSwgZ2VuZXJhdGlvblBhcmFtczogdXNlclBhcmFtcyB9ID0gY29uZmlnO1xyXG4gIGNvbnN0IGdlblBhcmFtcyA9IHsgLi4uREVGQVVMVF9HRU5fUEFSQU1TLCAuLi51c2VyUGFyYW1zIH07XHJcblxyXG4gIGdlblBhcmFtcy5yb29tVHlwZVdlaWdodHMuZ3ltID0gZmxvb3JOdW1iZXIgPT09IG1pbkZsb29yID8gR1lNX0NIQU5DRV9PTl9GSVJTVF9GTE9PUiAqIDEwMCA6IDA7XHJcblxyXG4gIGlmIChmbG9vck51bWJlciA9PT0gbWluRmxvb3IpIHtcclxuICAgIGNvbnNpc3RlbnRMaWZ0Q29vcmRzID0gbnVsbDtcclxuICAgIGNvbnNvbGUubG9nKGBbTWFwR2VuIEZsb29yICR7Zmxvb3JOdW1iZXJ9XSBSZXNldCBjb25zaXN0ZW50IGxpZnQgY29vcmRzIGZvciB0aGUgZmlyc3QgZmxvb3IuYCk7XHJcbiAgfVxyXG5cclxuICBjb25zb2xlLmxvZyhgW01hcEdlbiBGbG9vciAke2Zsb29yTnVtYmVyfV0gU3RhcnRpbmcgbWFwIGdlbmVyYXRpb24gKCR7Y29sc314JHtyb3dzfSkuLi5gKTtcclxuICBjb25zdCBtYXAgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiByb3dzIH0sICgpID0+IEFycmF5KGNvbHMpLmZpbGwoVElMRV9XQUxMKSk7XHJcbiAgY29uc3Qgcm9vbXMgPSBbXTsgLy8gVGhpcyBpcyB0aGUgYHJvb21zTGlzdGBcclxuICBsZXQgbGlmdFBvc2l0aW9uID0gbnVsbDtcclxuXHJcbiAgX3BsYWNlUm9vbXMobWFwLCByb29tcywgY29scywgcm93cywgZ2VuUGFyYW1zKTsgLy8gcm9vbXMgaXMgcG9wdWxhdGVkIGhlcmVcclxuXHJcbiAgaWYgKHJvb21zLmxlbmd0aCA8IDIgJiYgZmxvb3JOdW1iZXIgIT09IG1pbkZsb29yKSB7XHJcbiAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgIGBbTWFwR2VuIEZsb29yICR7Zmxvb3JOdW1iZXJ9XSBQbGFjZWQgb25seSAke3Jvb21zLmxlbmd0aH0gcm9vbXMuIEV4cGVjdCBsaW1pdGVkIGNvbm5lY3Rpdml0eS5gXHJcbiAgICApO1xyXG4gIH0gZWxzZSBpZiAocm9vbXMubGVuZ3RoID49IDIpIHtcclxuICAgIF9jb25uZWN0Um9vbXNCZXR0ZXIobWFwLCByb29tcywgY29scywgcm93cyk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgcGxhY2VkTGlmdERhdGEgPSBfcGxhY2VMaWZ0KFxyXG4gICAgICBtYXAsXHJcbiAgICAgIGNvbHMsXHJcbiAgICAgIHJvd3MsXHJcbiAgICAgIGZsb29yTnVtYmVyLFxyXG4gICAgICBtaW5GbG9vcixcclxuICAgICAgdGlsZVNpemUsXHJcbiAgICAgIGNvbnNpc3RlbnRMaWZ0Q29vcmRzLFxyXG4gICAgICByb29tcyAvLyBQQVNTIFRIRSBHRU5FUkFURUQgUk9PTVMgTElTVCBIRVJFXHJcbiAgICApO1xyXG4gICAgbGlmdFBvc2l0aW9uID0gcGxhY2VkTGlmdERhdGEucG9zaXRpb247XHJcbiAgICBpZiAocGxhY2VkTGlmdERhdGEuY29vcmRzKSB7XHJcbiAgICAgIGNvbnNpc3RlbnRMaWZ0Q29vcmRzID0gcGxhY2VkTGlmdERhdGEuY29vcmRzO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKGBbTWFwR2VuIEZsb29yICR7Zmxvb3JOdW1iZXJ9XSBDUklUSUNBTDogTGlmdCBwbGFjZW1lbnQgZmFpbGVkOmAsIGVycm9yKTtcclxuICAgIHRocm93IG5ldyBFcnJvcihgTGlmdCBwbGFjZW1lbnQgZmFpbGVkIG9uIGZsb29yICR7Zmxvb3JOdW1iZXJ9OiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgfVxyXG5cclxuICBfZW5zdXJlTWFwQm9yZGVycyhtYXAsIGNvbHMsIHJvd3MpO1xyXG5cclxuICBpZiAobGlmdFBvc2l0aW9uICYmICFfaXNMaWZ0UmVhY2hhYmxlKG1hcCwgbGlmdFBvc2l0aW9uLCBjb2xzLCByb3dzKSkge1xyXG4gICAgY29uc29sZS53YXJuKFxyXG4gICAgICBgW01hcFZhbGlkYXRpb24gRmxvb3IgJHtmbG9vck51bWJlcn1dIExpZnQgYXQgdGlsZSgke2xpZnRQb3NpdGlvbi50aWxlWH0sICR7bGlmdFBvc2l0aW9uLnRpbGVZfSkgaW5pdGlhbGx5IHVucmVhY2hhYmxlLiBBdHRlbXB0aW5nIGZpbmFsIGZvcmNlIGNvbm5lY3Rpb24uYFxyXG4gICAgKTtcclxuICAgIGNvbnN0IGNvbm5lY3RlZCA9IF9mb3JjZUNvbm5lY3Rpb25Ub1BvaW50KFxyXG4gICAgICBtYXAsXHJcbiAgICAgIGxpZnRQb3NpdGlvbi50aWxlWCxcclxuICAgICAgbGlmdFBvc2l0aW9uLnRpbGVZLFxyXG4gICAgICBjb2xzLFxyXG4gICAgICByb3dzXHJcbiAgICApO1xyXG4gICAgaWYgKCFjb25uZWN0ZWQgfHwgIV9pc0xpZnRSZWFjaGFibGUobWFwLCBsaWZ0UG9zaXRpb24sIGNvbHMsIHJvd3MpKSB7XHJcbiAgICAgIGNvbnN0IGVycm9yTXNnID0gYENSSVRJQ0FMOiBQbGFjZWQgbGlmdCBhdCB0aWxlKCR7bGlmdFBvc2l0aW9uLnRpbGVYfSwgJHtsaWZ0UG9zaXRpb24udGlsZVl9KSBpcyBVTlJFQUNIQUJMRSBldmVuIGFmdGVyIGZvcmNlIGNvbm5lY3QhIEdlbmVyYXRpb24gZmFpbGVkLmA7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFtNYXBHZW4gRmxvb3IgJHtmbG9vck51bWJlcn1dICR7ZXJyb3JNc2d9YCk7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTGlmdCBpcyB1bnJlYWNoYWJsZSBvbiBmbG9vciAke2Zsb29yTnVtYmVyfS4gQ2Fubm90IHByb2NlZWQuYCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICBgW01hcFZhbGlkYXRpb24gRmxvb3IgJHtmbG9vck51bWJlcn1dIExpZnQgY29ubmVjdGlvbiBzdWNjZXNzZnVsIGFmdGVyIHNlY29uZCBhdHRlbXB0LmBcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9IGVsc2UgaWYgKGxpZnRQb3NpdGlvbikge1xyXG4gICAgY29uc29sZS5sb2coXHJcbiAgICAgIGBbTWFwVmFsaWRhdGlvbiBGbG9vciAke2Zsb29yTnVtYmVyfV0gTGlmdCBhdCB0aWxlKCR7bGlmdFBvc2l0aW9uLnRpbGVYfSwgJHtsaWZ0UG9zaXRpb24udGlsZVl9KSBpcyByZWFjaGFibGUuYFxyXG4gICAgKTtcclxuICB9IGVsc2Uge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBNYXAgZ2VuZXJhdGVkIHdpdGhvdXQgYSB2YWxpZCBsaWZ0IHBvc2l0aW9uIG9uIGZsb29yICR7Zmxvb3JOdW1iZXJ9LmApO1xyXG4gIH1cclxuXHJcbiAgY29uc29sZS5sb2coYFtNYXBHZW4gRmxvb3IgJHtmbG9vck51bWJlcn1dIE1hcCBnZW5lcmF0aW9uIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkuYCk7XHJcbiAgcmV0dXJuIHsgbWFwLCByb29tcywgbGlmdFBvc2l0aW9uIH07XHJcbn1cclxuXHJcbi8vIC0tLSBIZWxwZXI6IFBsYWNlIFJvb21zIC0tLVxyXG5mdW5jdGlvbiBfcGxhY2VSb29tcyhtYXAsIHJvb21zLCBjb2xzLCByb3dzLCBnZW5QYXJhbXMpIHtcclxuICBjb25zdCB7IG1pblJvb21TaXplLCBtYXhSb29tU2l6ZSwgbnVtUm9vbXMsIG1heFJvb21BdHRlbXB0cywgcm9vbVR5cGVXZWlnaHRzIH0gPSBnZW5QYXJhbXM7XHJcbiAgbGV0IHJvb21BdHRlbXB0cyA9IDA7XHJcblxyXG4gIGNvbnN0IHdlaWdodGVkVHlwZXMgPSBbXTtcclxuICBsZXQgdG90YWxXZWlnaHQgPSAwO1xyXG4gIGZvciAoY29uc3QgdHlwZSBpbiByb29tVHlwZVdlaWdodHMpIHtcclxuICAgIGNvbnN0IHdlaWdodCA9IHJvb21UeXBlV2VpZ2h0c1t0eXBlXTtcclxuICAgIGlmICh3ZWlnaHQgPiAwKSB7XHJcbiAgICAgIHRvdGFsV2VpZ2h0ICs9IHdlaWdodDtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3ZWlnaHQ7IGkrKykge1xyXG4gICAgICAgIHdlaWdodGVkVHlwZXMucHVzaCh0eXBlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICAvLyBFbnN1cmUgd2VpZ2h0ZWRUeXBlcyBpcyBub3QgZW1wdHkgaWYgYWxsIHdlaWdodHMgYXJlIDAgKGVkZ2UgY2FzZSlcclxuICBpZiAod2VpZ2h0ZWRUeXBlcy5sZW5ndGggPT09IDApIHtcclxuICAgIHdlaWdodGVkVHlwZXMucHVzaCgndXRpbGl0eScpOyAvLyBEZWZhdWx0IGZhbGxiYWNrXHJcbiAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgIFwiW01hcEdlbiBSb29tc10gTm8gcm9vbSB0eXBlIHdlaWdodHMgcHJvdmlkZWQgb3IgYWxsIGFyZSB6ZXJvLiBEZWZhdWx0aW5nIHRvICd1dGlsaXR5Jy5cIlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHdoaWxlIChyb29tcy5sZW5ndGggPCBudW1Sb29tcyAmJiByb29tQXR0ZW1wdHMgPCBtYXhSb29tQXR0ZW1wdHMpIHtcclxuICAgIHJvb21BdHRlbXB0cysrO1xyXG4gICAgY29uc3Qgcm9vbVdpZHRoID0gcmFuZG9tSW50KG1pblJvb21TaXplLCBtYXhSb29tU2l6ZSk7XHJcbiAgICBjb25zdCByb29tSGVpZ2h0ID0gcmFuZG9tSW50KG1pblJvb21TaXplLCBtYXhSb29tU2l6ZSk7XHJcbiAgICAvLyBFbnN1cmUgcm9vbSBmaXRzIHdpdGhpbiBtYXAgYm91bmRhcmllcyAobGVhdmluZyAxLXRpbGUgYm9yZGVyKVxyXG4gICAgY29uc3Qgcm9vbUNvbCA9IHJhbmRvbUludCgxLCBjb2xzIC0gcm9vbVdpZHRoIC0gMSk7XHJcbiAgICBjb25zdCByb29tUm93ID0gcmFuZG9tSW50KDEsIHJvd3MgLSByb29tSGVpZ2h0IC0gMSk7XHJcblxyXG4gICAgY29uc3Qgcm9vbVR5cGUgPSB3ZWlnaHRlZFR5cGVzW3JhbmRvbUludCgwLCB3ZWlnaHRlZFR5cGVzLmxlbmd0aCAtIDEpXTtcclxuXHJcbiAgICBjb25zdCBuZXdSb29tID0ge1xyXG4gICAgICBjb2w6IHJvb21Db2wsXHJcbiAgICAgIHJvdzogcm9vbVJvdyxcclxuICAgICAgd2lkdGg6IHJvb21XaWR0aCxcclxuICAgICAgaGVpZ2h0OiByb29tSGVpZ2h0LFxyXG4gICAgICB0eXBlOiByb29tVHlwZSxcclxuICAgICAgaWQ6IGByb29tXyR7cm9vbXMubGVuZ3RoICsgMX1gLFxyXG4gICAgICBjZW50ZXJUaWxlWDogTWF0aC5mbG9vcihyb29tQ29sICsgcm9vbVdpZHRoIC8gMiksXHJcbiAgICAgIGNlbnRlclRpbGVZOiBNYXRoLmZsb29yKHJvb21Sb3cgKyByb29tSGVpZ2h0IC8gMiksXHJcbiAgICAgIGNvbm5lY3RlZDogZmFsc2UsXHJcbiAgICB9O1xyXG5cclxuICAgIGxldCBvdmVybGFwcyA9IGZhbHNlO1xyXG4gICAgY29uc3QgYnVmZmVyID0gMjsgLy8gS2VlcCBhIGJ1ZmZlciBiZXR3ZWVuIHJvb21zXHJcbiAgICBmb3IgKGNvbnN0IGV4aXN0aW5nUm9vbSBvZiByb29tcykge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgbmV3Um9vbS5jb2wgPCBleGlzdGluZ1Jvb20uY29sICsgZXhpc3RpbmdSb29tLndpZHRoICsgYnVmZmVyICYmXHJcbiAgICAgICAgbmV3Um9vbS5jb2wgKyBuZXdSb29tLndpZHRoICsgYnVmZmVyID4gZXhpc3RpbmdSb29tLmNvbCAmJlxyXG4gICAgICAgIG5ld1Jvb20ucm93IDwgZXhpc3RpbmdSb29tLnJvdyArIGV4aXN0aW5nUm9vbS5oZWlnaHQgKyBidWZmZXIgJiZcclxuICAgICAgICBuZXdSb29tLnJvdyArIG5ld1Jvb20uaGVpZ2h0ICsgYnVmZmVyID4gZXhpc3RpbmdSb29tLnJvd1xyXG4gICAgICApIHtcclxuICAgICAgICBvdmVybGFwcyA9IHRydWU7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoIW92ZXJsYXBzKSB7XHJcbiAgICAgIHJvb21zLnB1c2gobmV3Um9vbSk7XHJcbiAgICAgIC8vIENhcnZlIHJvb20gZmxvb3JcclxuICAgICAgZm9yIChsZXQgciA9IG5ld1Jvb20ucm93OyByIDwgbmV3Um9vbS5yb3cgKyBuZXdSb29tLmhlaWdodDsgcisrKSB7XHJcbiAgICAgICAgZm9yIChsZXQgYyA9IG5ld1Jvb20uY29sOyBjIDwgbmV3Um9vbS5jb2wgKyBuZXdSb29tLndpZHRoOyBjKyspIHtcclxuICAgICAgICAgIC8vIERvdWJsZSBjaGVjayBib3VuZHMganVzdCBpbiBjYXNlIGNhbGN1bGF0aW9uIHdhcyBvZmZcclxuICAgICAgICAgIGlmIChyID49IDAgJiYgciA8IHJvd3MgJiYgYyA+PSAwICYmIGMgPCBjb2xzKSB7XHJcbiAgICAgICAgICAgIG1hcFtyXVtjXSA9IFRJTEVfUk9PTV9GTE9PUjtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgaWYgKHJvb21zLmxlbmd0aCA8IG51bVJvb21zKSB7XHJcbiAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgIGBbTWFwR2VuIFJvb21zXSBQbGFjZWQgb25seSAke3Jvb21zLmxlbmd0aH0vJHtudW1Sb29tc30gcm9vbXMgYWZ0ZXIgJHtyb29tQXR0ZW1wdHN9IGF0dGVtcHRzLmBcclxuICAgICk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnNvbGUubG9nKGBbTWFwR2VuIFJvb21zXSBQbGFjZWQgJHtyb29tcy5sZW5ndGh9IHJvb21zIGFmdGVyICR7cm9vbUF0dGVtcHRzfSBhdHRlbXB0cy5gKTtcclxuICB9XHJcbn1cclxuXHJcbi8vIC0tLSBIZWxwZXI6IENvbm5lY3QgUm9vbXMgLS0tXHJcbmZ1bmN0aW9uIF9jb25uZWN0Um9vbXNCZXR0ZXIobWFwLCByb29tcywgY29scywgcm93cykge1xyXG4gIGlmIChyb29tcy5sZW5ndGggPCAyKSByZXR1cm47XHJcbiAgY29uc29sZS5sb2coYFtNYXBHZW4gQ29ubmVjdF0gQ29ubmVjdGluZyAke3Jvb21zLmxlbmd0aH0gcm9vbXMgKGltcHJvdmVkKS4uLmApO1xyXG5cclxuICAvLyBVc2UgYSBTZXQgZm9yIGZhc3RlciBjaGVja2luZyBvZiBjb25uZWN0ZWQgc3RhdHVzXHJcbiAgY29uc3QgY29ubmVjdGVkU2V0ID0gbmV3IFNldChbcm9vbXNbMF0uaWRdKTtcclxuICBsZXQgdW5jb25uZWN0ZWRSb29tcyA9IHJvb21zLnNsaWNlKDEpOyAvLyBTdGFydCB3aXRoIGFsbCBidXQgdGhlIGZpcnN0XHJcblxyXG4gIHdoaWxlICh1bmNvbm5lY3RlZFJvb21zLmxlbmd0aCA+IDApIHtcclxuICAgIGxldCBiZXN0RGlzdGFuY2VTcSA9IEluZmluaXR5O1xyXG4gICAgbGV0IGJlc3RVbmNvbm5lY3RlZFJvb20gPSBudWxsO1xyXG4gICAgbGV0IGJlc3RDb25uZWN0ZWRSb29tSWQgPSBudWxsOyAvLyBTdG9yZSBJRCBvZiB0aGUgY29ubmVjdGVkIHJvb21cclxuICAgIGxldCBiZXN0VW5jb25uZWN0ZWRJbmRleCA9IC0xO1xyXG5cclxuICAgIC8vIEZpbmQgdGhlIHVuY29ubmVjdGVkIHJvb20gY2xvc2VzdCB0byBBTlkgY29ubmVjdGVkIHJvb21cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdW5jb25uZWN0ZWRSb29tcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCByb29tVSA9IHVuY29ubmVjdGVkUm9vbXNbaV07XHJcbiAgICAgIGZvciAoY29uc3Qgcm9vbUMgb2Ygcm9vbXMpIHtcclxuICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggQUxMIHJvb21zXHJcbiAgICAgICAgaWYgKGNvbm5lY3RlZFNldC5oYXMocm9vbUMuaWQpKSB7XHJcbiAgICAgICAgICAvLyBDaGVjayBpZiByb29tQyBpcyBjb25uZWN0ZWRcclxuICAgICAgICAgIGNvbnN0IGR4ID0gcm9vbVUuY2VudGVyVGlsZVggLSByb29tQy5jZW50ZXJUaWxlWDtcclxuICAgICAgICAgIGNvbnN0IGR5ID0gcm9vbVUuY2VudGVyVGlsZVkgLSByb29tQy5jZW50ZXJUaWxlWTtcclxuICAgICAgICAgIGNvbnN0IGRpc3RTcSA9IGR4ICogZHggKyBkeSAqIGR5O1xyXG4gICAgICAgICAgaWYgKGRpc3RTcSA8IGJlc3REaXN0YW5jZVNxKSB7XHJcbiAgICAgICAgICAgIGJlc3REaXN0YW5jZVNxID0gZGlzdFNxO1xyXG4gICAgICAgICAgICBiZXN0VW5jb25uZWN0ZWRSb29tID0gcm9vbVU7XHJcbiAgICAgICAgICAgIGJlc3RDb25uZWN0ZWRSb29tSWQgPSByb29tQy5pZDtcclxuICAgICAgICAgICAgYmVzdFVuY29ubmVjdGVkSW5kZXggPSBpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChiZXN0VW5jb25uZWN0ZWRSb29tICYmIGJlc3RDb25uZWN0ZWRSb29tSWQgIT09IG51bGwpIHtcclxuICAgICAgLy8gRmluZCB0aGUgYWN0dWFsIGNvbm5lY3RlZCByb29tIG9iamVjdCB1c2luZyB0aGUgSURcclxuICAgICAgY29uc3QgYmVzdENvbm5lY3RlZFJvb20gPSByb29tcy5maW5kKChyKSA9PiByLmlkID09PSBiZXN0Q29ubmVjdGVkUm9vbUlkKTtcclxuICAgICAgaWYgKCFiZXN0Q29ubmVjdGVkUm9vbSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgICBgW01hcEdlbiBDb25uZWN0XSBFcnJvcjogQ291bGQgbm90IGZpbmQgY29ubmVjdGVkIHJvb20gd2l0aCBJRCAke2Jlc3RDb25uZWN0ZWRSb29tSWR9LiBTa2lwcGluZyBjb25uZWN0aW9uLmBcclxuICAgICAgICApO1xyXG4gICAgICAgIC8vIFJlbW92ZSB0aGUgcHJvYmxlbWF0aWMgdW5jb25uZWN0ZWQgcm9vbSB0byBhdm9pZCBpbmZpbml0ZSBsb29wXHJcbiAgICAgICAgdW5jb25uZWN0ZWRSb29tcy5zcGxpY2UoYmVzdFVuY29ubmVjdGVkSW5kZXgsIDEpO1xyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBfY2FydmVDb3JyaWRvckJldHdlZW4obWFwLCBiZXN0Q29ubmVjdGVkUm9vbSwgYmVzdFVuY29ubmVjdGVkUm9vbSwgY29scywgcm93cyk7XHJcbiAgICAgIGNvbm5lY3RlZFNldC5hZGQoYmVzdFVuY29ubmVjdGVkUm9vbS5pZCk7IC8vIEFkZCB0aGUgbmV3bHkgY29ubmVjdGVkIHJvb20gSUQgdG8gdGhlIHNldFxyXG4gICAgICB1bmNvbm5lY3RlZFJvb21zLnNwbGljZShiZXN0VW5jb25uZWN0ZWRJbmRleCwgMSk7IC8vIFJlbW92ZSBmcm9tIHVuY29ubmVjdGVkIGxpc3RcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgJ1tNYXBHZW4gQ29ubmVjdF0gQ291bGQgbm90IGZpbmQgbmV4dCBwYWlyIG9mIHJvb21zIHRvIGNvbm5lY3QuIEJyZWFraW5nIGxvb3AuIFJlbWFpbmluZyB1bmNvbm5lY3RlZDonLFxyXG4gICAgICAgIHVuY29ubmVjdGVkUm9vbXMubWFwKChyKSA9PiByLmlkKVxyXG4gICAgICApO1xyXG4gICAgICBicmVhazsgLy8gQXZvaWQgaW5maW5pdGUgbG9vcCBpZiBzb21ldGhpbmcgd2VudCB3cm9uZ1xyXG4gICAgfVxyXG4gIH1cclxuICBjb25zb2xlLmxvZyhgW01hcEdlbiBDb25uZWN0XSBGaW5pc2hlZCBjb25uZWN0aW5nIHJvb21zLiBDb25uZWN0ZWQgY291bnQ6ICR7Y29ubmVjdGVkU2V0LnNpemV9YCk7XHJcbn1cclxuXHJcbi8vIC0tLSBIZWxwZXI6IENhcnZlIENvcnJpZG9ycyAtLS1cclxuZnVuY3Rpb24gX2NhcnZlQ29ycmlkb3JCZXR3ZWVuKG1hcCwgcm9vbUEsIHJvb21CLCBjb2xzLCByb3dzKSB7XHJcbiAgY29uc3QgeyBjZW50ZXJUaWxlWDogYXgsIGNlbnRlclRpbGVZOiBheSB9ID0gcm9vbUE7XHJcbiAgY29uc3QgeyBjZW50ZXJUaWxlWDogYngsIGNlbnRlclRpbGVZOiBieSB9ID0gcm9vbUI7XHJcbiAgLy8gUmFuZG9tbHkgY2hvb3NlIEwtc2hhcGUgZGlyZWN0aW9uIChIb3Jpem9udGFsIHRoZW4gVmVydGljYWwsIG9yIFZlcnRpY2FsIHRoZW4gSG9yaXpvbnRhbClcclxuICBpZiAoTWF0aC5yYW5kb20oKSA8IDAuNSkge1xyXG4gICAgLy8gSCB0aGVuIFZcclxuICAgIF9jYXJ2ZUhvcml6b250YWxDb3JyaWRvcihtYXAsIGF5LCBheCwgYngsIGNvbHMsIHJvd3MpO1xyXG4gICAgX2NhcnZlVmVydGljYWxDb3JyaWRvcihtYXAsIGJ4LCBheSwgYnksIGNvbHMsIHJvd3MpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBWIHRoZW4gSFxyXG4gICAgX2NhcnZlVmVydGljYWxDb3JyaWRvcihtYXAsIGF4LCBheSwgYnksIGNvbHMsIHJvd3MpO1xyXG4gICAgX2NhcnZlSG9yaXpvbnRhbENvcnJpZG9yKG1hcCwgYnksIGF4LCBieCwgY29scywgcm93cyk7XHJcbiAgfVxyXG59XHJcbmZ1bmN0aW9uIF9jYXJ2ZUhvcml6b250YWxDb3JyaWRvcihtYXAsIHIsIGMxLCBjMiwgY29scywgcm93cykge1xyXG4gIC8vIEVuc3VyZSByb3cgaXMgdmFsaWRcclxuICBpZiAociA8IDAgfHwgciA+PSByb3dzKSByZXR1cm47XHJcbiAgY29uc3Qgc3RhcnRDb2wgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihjMSwgYzIpKTsgLy8gQ2xhbXAgdG8gbWFwIGJvdW5kc1xyXG4gIGNvbnN0IGVuZENvbCA9IE1hdGgubWluKGNvbHMgLSAxLCBNYXRoLm1heChjMSwgYzIpKTsgLy8gQ2xhbXAgdG8gbWFwIGJvdW5kc1xyXG4gIGZvciAobGV0IGMgPSBzdGFydENvbDsgYyA8PSBlbmRDb2w7IGMrKykge1xyXG4gICAgLy8gT25seSBjYXJ2ZSBpZiBpdCdzIGN1cnJlbnRseSBhIHdhbGxcclxuICAgIGlmIChtYXBbcl0/LltjXSA9PT0gVElMRV9XQUxMKSB7XHJcbiAgICAgIG1hcFtyXVtjXSA9IFRJTEVfQ09SUklET1I7XHJcbiAgICB9XHJcbiAgICAvLyBPcHRpb25hbDogQWxzbyBjYXJ2ZSBhZGphY2VudCB2ZXJ0aWNhbCB0aWxlcyBmb3IgdGhpY2tuZXNzID4gMVxyXG4gICAgLy8gaWYgKHRoaWNrbmVzcyA+IDEgJiYgcisxIDwgcm93cyAmJiBtYXBbcisxXT8uW2NdID09PSBUSUxFX1dBTEwpIG1hcFtyKzFdW2NdID0gVElMRV9DT1JSSURPUjtcclxuICB9XHJcbn1cclxuZnVuY3Rpb24gX2NhcnZlVmVydGljYWxDb3JyaWRvcihtYXAsIGMsIHIxLCByMiwgY29scywgcm93cykge1xyXG4gIC8vIEVuc3VyZSBjb2wgaXMgdmFsaWRcclxuICBpZiAoYyA8IDAgfHwgYyA+PSBjb2xzKSByZXR1cm47XHJcbiAgY29uc3Qgc3RhcnRSb3cgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihyMSwgcjIpKTsgLy8gQ2xhbXAgdG8gbWFwIGJvdW5kc1xyXG4gIGNvbnN0IGVuZFJvdyA9IE1hdGgubWluKHJvd3MgLSAxLCBNYXRoLm1heChyMSwgcjIpKTsgLy8gQ2xhbXAgdG8gbWFwIGJvdW5kc1xyXG4gIGZvciAobGV0IHIgPSBzdGFydFJvdzsgciA8PSBlbmRSb3c7IHIrKykge1xyXG4gICAgLy8gT25seSBjYXJ2ZSBpZiBpdCdzIGN1cnJlbnRseSBhIHdhbGxcclxuICAgIGlmIChtYXBbcl0/LltjXSA9PT0gVElMRV9XQUxMKSB7XHJcbiAgICAgIG1hcFtyXVtjXSA9IFRJTEVfQ09SUklET1I7XHJcbiAgICB9XHJcbiAgICAvLyBPcHRpb25hbDogQWxzbyBjYXJ2ZSBhZGphY2VudCBob3Jpem9udGFsIHRpbGVzIGZvciB0aGlja25lc3MgPiAxXHJcbiAgICAvLyBpZiAodGhpY2tuZXNzID4gMSAmJiBjKzEgPCBjb2xzICYmIG1hcFtyXT8uW2MrMV0gPT09IFRJTEVfV0FMTCkgbWFwW3JdW2MrMV0gPSBUSUxFX0NPUlJJRE9SO1xyXG4gIH1cclxufVxyXG5cclxuLy8gLS0tIE5FVyBIRUxQRVI6IEdldCBUaWxlIE9wZW5uZXNzIERldGFpbHMgLS0tXHJcbmZ1bmN0aW9uIF9nZXRUaWxlT3Blbm5lc3NEZXRhaWxzKHRpbGVYLCB0aWxlWSwgbWFwLCBjb2xzLCByb3dzKSB7XHJcbiAgLy8gTG9jYWwgd2Fsa2FibGUgZGVmaW5pdGlvbiBmb3IgdGhpcyBoZWxwZXJcclxuICBjb25zdCBpc1RpbGVXYWxrYWJsZSA9ICh4LCB5LCBjdXJyZW50TWFwLCBtYXBDb2xzLCBtYXBSb3dzKSA9PiB7XHJcbiAgICBpZiAoeCA8IDAgfHwgeCA+PSBtYXBDb2xzIHx8IHkgPCAwIHx8IHkgPj0gbWFwUm93cykgcmV0dXJuIGZhbHNlO1xyXG4gICAgY29uc3QgdGlsZVZhbCA9IGN1cnJlbnRNYXBbeV0/Llt4XTtcclxuICAgIHJldHVybiB0aWxlVmFsID09PSBUSUxFX0NPUlJJRE9SIHx8IHRpbGVWYWwgPT09IFRJTEVfUk9PTV9GTE9PUiB8fCB0aWxlVmFsID09PSBUSUxFX0xJRlQ7XHJcbiAgfTtcclxuXHJcbiAgbGV0IG9wZW5TaWRlcyA9IDA7XHJcbiAgLy8gT3JkZXI6IE4sIFMsIFcsIEVcclxuICBjb25zdCBuZWlnaGJvckRlbHRhcyA9IFtcclxuICAgIHsgZHg6IDAsIGR5OiAtMSB9LFxyXG4gICAgeyBkeDogMCwgZHk6IDEgfSxcclxuICAgIHsgZHg6IC0xLCBkeTogMCB9LFxyXG4gICAgeyBkeDogMSwgZHk6IDAgfSxcclxuICBdO1xyXG4gIGxldCB3YWxrYWJsZU5laWdoYm9yRmxhZ3MgPSBbZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2VdOyAvLyBOLCBTLCBXLCBFXHJcblxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbmVpZ2hib3JEZWx0YXMubGVuZ3RoOyBpKyspIHtcclxuICAgIGNvbnN0IG54ID0gdGlsZVggKyBuZWlnaGJvckRlbHRhc1tpXS5keDtcclxuICAgIGNvbnN0IG55ID0gdGlsZVkgKyBuZWlnaGJvckRlbHRhc1tpXS5keTtcclxuICAgIGlmIChpc1RpbGVXYWxrYWJsZShueCwgbnksIG1hcCwgY29scywgcm93cykpIHtcclxuICAgICAgb3BlblNpZGVzKys7XHJcbiAgICAgIHdhbGthYmxlTmVpZ2hib3JGbGFnc1tpXSA9IHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBsZXQgaXNDaG9rZXBvaW50ID0gZmFsc2U7XHJcbiAgaWYgKG9wZW5TaWRlcyA9PT0gMikge1xyXG4gICAgY29uc3QgW04sIFMsIFcsIEVdID0gd2Fsa2FibGVOZWlnaGJvckZsYWdzO1xyXG4gICAgLy8gVmVydGljYWwgY2hva2Vwb2ludCAoTiZTIG9wZW4sIFcmRSBjbG9zZWQpIE9SIEhvcml6b250YWwgY2hva2Vwb2ludCAoVyZFIG9wZW4sIE4mUyBjbG9zZWQpXHJcbiAgICBpZiAoKE4gJiYgUyAmJiAhVyAmJiAhRSkgfHwgKFcgJiYgRSAmJiAhTiAmJiAhUykpIHtcclxuICAgICAgaXNDaG9rZXBvaW50ID0gdHJ1ZTtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHsgb3BlblNpZGVzLCBpc0Nob2tlcG9pbnQgfTtcclxufVxyXG5cclxuLy8gLS0tIEhlbHBlcjogUGxhY2UgTGlmdCAtLS1cclxuLy8gVGFrZXMgY3VycmVudCBgbGlmdENvb3Jkc2AgYW5kIHJldHVybnMgdGhlIHVzZWQvZm91bmQgY29vcmRzIGFuZCBwb3NpdGlvblxyXG4vLyBNb2RpZnkgX3BsYWNlTGlmdCB0byBwYXNzIHRoZSByb29tcyBsaXN0IHRvIF9maW5kTGlmdFBsYWNlbWVudExvY2F0aW9uXHJcbmZ1bmN0aW9uIF9wbGFjZUxpZnQoXHJcbiAgbWFwLFxyXG4gIGNvbHMsXHJcbiAgcm93cyxcclxuICBmbG9vck51bWJlcixcclxuICBtaW5GbG9vcixcclxuICB0aWxlU2l6ZSxcclxuICBjdXJyZW50Q29uc2lzdGVudENvb3JkcyxcclxuICByb29tc0xpc3RcclxuKSB7XHJcbiAgLy8gQWRkZWQgcm9vbXNMaXN0XHJcbiAgbGV0IGNvb3Jkc1RvVXNlID0gY3VycmVudENvbnNpc3RlbnRDb29yZHM7XHJcbiAgbGV0IG5ld2x5Rm91bmRDb29yZHMgPSBudWxsO1xyXG5cclxuICAvLyBGaW5kIGNvb3JkcyBvbmx5IG9uIHRoZSBmaXJzdCBmbG9vciBpZiBub3QgYWxyZWFkeSBzZXRcclxuICBpZiAoZmxvb3JOdW1iZXIgPT09IG1pbkZsb29yICYmICFjb29yZHNUb1VzZSkge1xyXG4gICAgY29uc29sZS5sb2coYFtNYXBHZW4gRmxvb3IgJHtmbG9vck51bWJlcn1dIEZpbmRpbmcgaW5pdGlhbCBsaWZ0IHBsYWNlbWVudCBsb2NhdGlvbi4uLmApO1xyXG4gICAgY29vcmRzVG9Vc2UgPSBfZmluZExpZnRQbGFjZW1lbnRMb2NhdGlvbihtYXAsIGNvbHMsIHJvd3MsIHJvb21zTGlzdCk7IC8vIFBBU1Mgcm9vbXNMaXN0XHJcbiAgICBpZiAoIWNvb3Jkc1RvVXNlKSB7XHJcbiAgICAgIC8vIEZhbGxiYWNrOiBpZiBubyBnb29kIHJvb20gc3BvdCwgdHJ5IHRoZSBwcmV2aW91cyBnZW5lcmFsIGZpbmQgbG9naWMgKHdoaWNoIGluY2x1ZGVzIGNvcnJpZG9ycylcclxuICAgICAgLy8gRm9yIHNpbXBsaWNpdHkgaGVyZSwgd2UnbGwganVzdCBnbyB0byB0aGUgY2VudGVyLiBBIG1vcmUgcm9idXN0IGZhbGxiYWNrIGNvdWxkIGJlIHRvIGNhbGxcclxuICAgICAgLy8gYSB2ZXJzaW9uIG9mIF9maW5kTGlmdFBsYWNlbWVudExvY2F0aW9uIHRoYXQgKmRvZXMqIGNvbnNpZGVyIGNvcnJpZG9ycy5cclxuICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgIGBbTWFwR2VuIEZsb29yICR7Zmxvb3JOdW1iZXJ9XSBObyBpZGVhbCBJTi1ST09NIGxpZnQgbG9jYXRpb24gZm91bmQuIEZvcmNpbmcgcGxhY2VtZW50IG5lYXIgY2VudGVyLmBcclxuICAgICAgKTtcclxuICAgICAgY29vcmRzVG9Vc2UgPSB7IHRpbGVYOiBNYXRoLmZsb29yKGNvbHMgLyAyKSwgdGlsZVk6IE1hdGguZmxvb3Iocm93cyAvIDIpIH07XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZyhcclxuICAgICAgYFtNYXBHZW4gRmxvb3IgJHtmbG9vck51bWJlcn1dIEVzdGFibGlzaGVkIGNvbnNpc3RlbnQgbGlmdCBjb29yZHMgYXQgdGlsZSgke2Nvb3Jkc1RvVXNlLnRpbGVYfSwgJHtjb29yZHNUb1VzZS50aWxlWX0pYFxyXG4gICAgKTtcclxuICAgIG5ld2x5Rm91bmRDb29yZHMgPSBjb29yZHNUb1VzZTtcclxuICB9IGVsc2UgaWYgKCFjb29yZHNUb1VzZSAmJiBmbG9vck51bWJlciA+IG1pbkZsb29yKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFtNYXBHZW4gTGlmdF0gTWlzc2luZyBjb25zaXN0ZW50IGNvb3JkaW5hdGVzIGZvciBmbG9vciAke2Zsb29yTnVtYmVyfS5gKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHsgdGlsZVgsIHRpbGVZIH0gPSBjb29yZHNUb1VzZTtcclxuXHJcbiAgLy8gQmFzaWMgYm91bmRzIGNoZWNrIGZvciBzYWZldHlcclxuICBpZiAodGlsZVkgPCAwIHx8IHRpbGVZID49IHJvd3MgfHwgdGlsZVggPCAwIHx8IHRpbGVYID49IGNvbHMpIHtcclxuICAgIC8vIFRoaXMgbWlnaHQgaGFwcGVuIGlmIHRoZSBmYWxsYmFjayBjb29yZHMgYXJlIGJhZCBvbiBhIHZlcnkgc21hbGwgbWFwXHJcbiAgICBjb25zdCBzYWZlRmFsbGJhY2tYID0gTWF0aC5tYXgoMSwgTWF0aC5taW4oY29scyAtIDIsIHRpbGVYKSk7XHJcbiAgICBjb25zdCBzYWZlRmFsbGJhY2tZID0gTWF0aC5tYXgoMSwgTWF0aC5taW4ocm93cyAtIDIsIHRpbGVZKSk7XHJcbiAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICBgW01hcEdlbiBMaWZ0XSBDb29yZHMgKCR7dGlsZVh9LCAke3RpbGVZfSkgYXJlIG91dHNpZGUgbWFwIGJvdW5kcyBvbiBmbG9vciAke2Zsb29yTnVtYmVyfS4gQWRqdXN0ZWQgdG8gKCR7c2FmZUZhbGxiYWNrWH0sJHtzYWZlRmFsbGJhY2tZfSlgXHJcbiAgICApO1xyXG4gICAgY29vcmRzVG9Vc2UgPSB7IHRpbGVYOiBzYWZlRmFsbGJhY2tYLCB0aWxlWTogc2FmZUZhbGxiYWNrWSB9O1xyXG4gICAgLy8gUmUtYXNzaWduIHRpbGVYLCB0aWxlWSBmb3IgdGhlIHJlc3Qgb2YgdGhlIGZ1bmN0aW9uXHJcbiAgICAvLyBUaGlzIGlzIGEgYml0IGhhY2t5OyBpZGVhbGx5LCB0aGUgcHJpbWFyeSBmaW5kIGxvZ2ljIG9yIGl0cyBmYWxsYmFjayBzaG91bGQgYWx3YXlzIHJldHVybiB2YWxpZCBjb29yZHMuXHJcbiAgICAvLyBIb3dldmVyLCBpZiBgY29uc2lzdGVudExpZnRDb29yZHNgIHdlcmUgc29tZWhvdyBpbnZhbGlkIGZyb20gYSBwcmV2aW91cyBmbG9vciwgdGhpcyBjb3VsZCBiZSBhbiBpc3N1ZS5cclxuICAgIC8vIEZvciBub3csIHdlJ2xsIGFzc3VtZSBgX2ZpbmRMaWZ0UGxhY2VtZW50TG9jYXRpb25gIG9yIGl0cyBkaXJlY3QgZmFsbGJhY2sgaXMgcm9idXN0IGVub3VnaC5cclxuICAgIC8vIFRoZSBvcmlnaW5hbCBlcnJvciB0aHJvdyBpcyBiZXR0ZXIgaWYgd2UgZXhwZWN0IGBjb29yZHNUb1VzZWAgdG8gYWx3YXlzIGJlIHZhbGlkIGZyb20gZ2VuZXJhdGlvbi5cclxuICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgYFtNYXBHZW4gTGlmdF0gQ29vcmRzICgke2Nvb3Jkc1RvVXNlLnRpbGVYfSwgJHtjb29yZHNUb1VzZS50aWxlWX0pIGFyZSBvdXRzaWRlIG1hcCBib3VuZHMgb24gZmxvb3IgJHtmbG9vck51bWJlcn0uYFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8vIENoZWNrIGlmIHRoZSBjaG9zZW4gc3BvdCBpcyBhIHdhbGw7IGlmIHNvLCBhdHRlbXB0IGNvbm5lY3Rpb25cclxuICAvLyBUaGlzIGlzIGNydWNpYWwgaWYgdGhlIGZhbGxiYWNrIChjZW50ZXIgb2YgbWFwKSB3YXMgdXNlZC5cclxuICBpZiAobWFwW3RpbGVZXVt0aWxlWF0gPT09IFRJTEVfV0FMTCkge1xyXG4gICAgY29uc29sZS53YXJuKFxyXG4gICAgICBgW01hcEdlbiBGbG9vciAke2Zsb29yTnVtYmVyfV0gTGlmdCBsb2NhdGlvbiB0aWxlKCR7dGlsZVh9LCAke3RpbGVZfSkgaXMgYSB3YWxsIChsaWtlbHkgZmFsbGJhY2spLiBGb3JjaW5nIGNvbm5lY3Rpb24uLi5gXHJcbiAgICApO1xyXG4gICAgY29uc3QgY29ubmVjdGVkID0gX2ZvcmNlQ29ubmVjdGlvblRvUG9pbnQobWFwLCB0aWxlWCwgdGlsZVksIGNvbHMsIHJvd3MpO1xyXG4gICAgaWYgKCFjb25uZWN0ZWQpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICBgW01hcEdlbiBMaWZ0IENvbm5lY3RdIEZBSUxFRCB0byBjb25uZWN0IHdhbGwgYXQgbGlmdCBsb2NhdGlvbiB0aWxlKCR7dGlsZVh9LCAke3RpbGVZfSkuIExpZnQgbWlnaHQgYmUgaXNvbGF0ZWQuYFxyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS5sb2coYCAgW01hcEdlbiBMaWZ0IENvbm5lY3RdIENvbm5lY3Rpb24gYXR0ZW1wdCBmaW5pc2hlZCBmb3Igd2FsbCBhdCBsaWZ0IGxvY2F0aW9uLmApO1xyXG4gICAgICBpZiAobWFwW3RpbGVZXVt0aWxlWF0gPT09IFRJTEVfV0FMTCkge1xyXG4gICAgICAgIC8vIERvdWJsZSBjaGVjayBhZnRlciBjb25uZWN0aW9uXHJcbiAgICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgICAgYCAgW01hcEdlbiBMaWZ0IENvbm5lY3RdIEZvcmNlIGNvbm5lY3Rpb24gY29tcGxldGVkLCBidXQgdGFyZ2V0IHRpbGUgKCR7dGlsZVh9LCR7dGlsZVl9KSByZW1haW5lZCBXQUxMLiBTZXR0aW5nIHRvIENPUlJJRE9SLmBcclxuICAgICAgICApO1xyXG4gICAgICAgIG1hcFt0aWxlWV1bdGlsZVhdID0gVElMRV9DT1JSSURPUjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICBjb25zb2xlLmxvZyhcclxuICAgICAgYCAgW01hcEdlbiBMaWZ0XSBMaWZ0IGxvY2F0aW9uIHRpbGUoJHt0aWxlWH0sICR7dGlsZVl9KSBpcyBhbHJlYWR5IHdhbGthYmxlIChUeXBlOiAke21hcFt0aWxlWV1bdGlsZVhdfSkuYFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8vIFBsYWNlIHRoZSBsaWZ0IHRpbGVcclxuICBtYXBbdGlsZVldW3RpbGVYXSA9IFRJTEVfTElGVDtcclxuXHJcbiAgY29uc3QgbGlmdFdvcmxkUG9zID0ge1xyXG4gICAgeDogKHRpbGVYICsgMC41KSAqIHRpbGVTaXplLFxyXG4gICAgeTogKHRpbGVZICsgMC41KSAqIHRpbGVTaXplLFxyXG4gICAgdGlsZVg6IHRpbGVYLFxyXG4gICAgdGlsZVk6IHRpbGVZLFxyXG4gIH07XHJcblxyXG4gIGNvbnNvbGUubG9nKFxyXG4gICAgYFtNYXBHZW4gRmxvb3IgJHtmbG9vck51bWJlcn1dIFBsYWNlZC9Db25maXJtZWQgbGlmdCBhdCB0aWxlKCR7dGlsZVh9LCAke3RpbGVZfSkuIFdvcmxkOiAoJHtsaWZ0V29ybGRQb3MueC50b0ZpeGVkKFxyXG4gICAgICAxXHJcbiAgICApfSwgJHtsaWZ0V29ybGRQb3MueS50b0ZpeGVkKDEpfSlgXHJcbiAgKTtcclxuXHJcbiAgcmV0dXJuIHsgcG9zaXRpb246IGxpZnRXb3JsZFBvcywgY29vcmRzOiBuZXdseUZvdW5kQ29vcmRzIHx8IGNvb3Jkc1RvVXNlIH07XHJcbn1cclxuXHJcbi8vIC0tLSBNT0RJRklFRCBIZWxwZXI6IEZpbmQgTGlmdCBMb2NhdGlvbiAoRm9yIEZpcnN0IEZsb29yKSAtLS1cclxuZnVuY3Rpb24gX2ZpbmRMaWZ0UGxhY2VtZW50TG9jYXRpb24obWFwLCBjb2xzLCByb3dzLCByb29tc0xpc3QpIHtcclxuICAvLyBBZGRlZCByb29tc0xpc3QgcGFyYW1ldGVyXHJcbiAgY29uc3QgY2VudGVyWCA9IE1hdGguZmxvb3IoY29scyAvIDIpO1xyXG4gIGNvbnN0IGNlbnRlclkgPSBNYXRoLmZsb29yKHJvd3MgLyAyKTtcclxuXHJcbiAgbGV0IGJlc3RTcG90Q2FuZGlkYXRlID0gbnVsbDtcclxuXHJcbiAgY29uc29sZS5sb2coYCAgW01hcEdlbiBGaW5kTGlmdCBWM10gU2VhcmNoaW5nIGZvciBvcHRpbWFsIGxpZnQgc3BvdCBJTlNJREUgYSByb29tLi4uYCk7XHJcblxyXG4gIGlmICghcm9vbXNMaXN0IHx8IHJvb21zTGlzdC5sZW5ndGggPT09IDApIHtcclxuICAgIGNvbnNvbGUud2FybihcclxuICAgICAgYCAgW01hcEdlbiBGaW5kTGlmdCBWM10gTm8gcm9vbXMgYXZhaWxhYmxlIHRvIHBsYWNlIGEgbGlmdCBpbi4gRmFsbGJhY2sgd2lsbCBiZSB1c2VkIGJ5IGNhbGxlci5gXHJcbiAgICApO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICBmb3IgKGNvbnN0IHJvb20gb2Ygcm9vbXNMaXN0KSB7XHJcbiAgICAvLyBJdGVyYXRlIFwiaW50ZXJuYWxcIiBmbG9vciB0aWxlcyBvZiB0aGUgcm9vbS5cclxuICAgIC8vIEludGVybmFsIHRpbGVzIGFyZSBhdCBsZWFzdCAxIHRpbGUgYXdheSBmcm9tIHRoZSByb29tJ3MgYm91bmRpbmcgd2FsbHMuXHJcbiAgICAvLyBSZXF1aXJlcyByb29tIHRvIGJlIGF0IGxlYXN0IDN4MyBpbiBzaXplIHRvIGhhdmUgYW55IGludGVybmFsIHRpbGVzLlxyXG4gICAgLy8gKG1pblJvb21TaXplIGlzIDUsIHNvIGEgNXg1IHJvb20gaGFzIGEgM3gzIGludGVybmFsIGFyZWEpXHJcbiAgICBjb25zdCBzdGFydEludGVybmFsQ29sID0gcm9vbS5jb2wgKyAxO1xyXG4gICAgY29uc3QgZW5kSW50ZXJuYWxDb2wgPSByb29tLmNvbCArIHJvb20ud2lkdGggLSAyO1xyXG4gICAgY29uc3Qgc3RhcnRJbnRlcm5hbFJvdyA9IHJvb20ucm93ICsgMTtcclxuICAgIGNvbnN0IGVuZEludGVybmFsUm93ID0gcm9vbS5yb3cgKyByb29tLmhlaWdodCAtIDI7XHJcblxyXG4gICAgaWYgKHN0YXJ0SW50ZXJuYWxDb2wgPiBlbmRJbnRlcm5hbENvbCB8fCBzdGFydEludGVybmFsUm93ID4gZW5kSW50ZXJuYWxSb3cpIHtcclxuICAgICAgLy8gUm9vbSBpcyB0b28gc21hbGwgKGUuZy4sIDJ4TiBvciBOeDIpIHRvIGhhdmUgXCJpbnRlcm5hbFwiIHRpbGVzIGJ5IHRoaXMgZGVmaW5pdGlvbi5cclxuICAgICAgLy8gV2UgY291bGQgaXRlcmF0ZSBhbGwgcm9vbS5jb2wgdG8gcm9vbS5jb2wgKyByb29tLndpZHRoIC0xIGV0Yy4gaWYgd2Ugd2FudCB0byBpbmNsdWRlIGVkZ2VzLlxyXG4gICAgICAvLyBGb3Igbm93LCBzdGlja2luZyB0byBcImludGVybmFsXCIgZm9yIGJldHRlciBwbGFjZW1lbnQuXHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKGAgICAgW0ZpbmRMaWZ0IFYzXSBSb29tICR7cm9vbS5pZH0gKCR7cm9vbS53aWR0aH14JHtyb29tLmhlaWdodH0pIHRvbyBzbWFsbCBmb3IgaW50ZXJuYWwgdGlsZXMuIFNraXBwaW5nLmApO1xyXG4gICAgICBjb250aW51ZTtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCByID0gc3RhcnRJbnRlcm5hbFJvdzsgciA8PSBlbmRJbnRlcm5hbFJvdzsgcisrKSB7XHJcbiAgICAgIGZvciAobGV0IGMgPSBzdGFydEludGVybmFsQ29sOyBjIDw9IGVuZEludGVybmFsQ29sOyBjKyspIHtcclxuICAgICAgICAvLyBCeSBkZWZpbml0aW9uLCBtYXBbcl1bY10gc2hvdWxkIGJlIFRJTEVfUk9PTV9GTE9PUiBoZXJlLlxyXG5cclxuICAgICAgICBsZXQgY3VycmVudFNjb3JlID0gMDtcclxuICAgICAgICBjb25zdCBkaXN0U3EgPSAoYyAtIGNlbnRlclgpICogKGMgLSBjZW50ZXJYKSArIChyIC0gY2VudGVyWSkgKiAociAtIGNlbnRlclkpO1xyXG4gICAgICAgIGN1cnJlbnRTY29yZSAtPSBkaXN0U3EgLyAzMDsgLy8gUHJveGltaXR5IGJvbnVzXHJcblxyXG4gICAgICAgIGNvbnN0IGRldGFpbHNTZWxmID0gX2dldFRpbGVPcGVubmVzc0RldGFpbHMoYywgciwgbWFwLCBjb2xzLCByb3dzKTtcclxuXHJcbiAgICAgICAgaWYgKGRldGFpbHNTZWxmLm9wZW5TaWRlcyA8IDEpIHtcclxuICAgICAgICAgIC8vIFNob3VsZCBoYXZlIGF0IGxlYXN0IDEgY29ubmVjdGlvbiBpZiBpdCdzIGEgdmFsaWQgaW50ZXJuYWwgcm9vbSB0aWxlLlxyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZGV0YWlsc1NlbGYuaXNDaG9rZXBvaW50KSB7XHJcbiAgICAgICAgICBjdXJyZW50U2NvcmUgLT0gNzAwOyAvLyBQZW5hbGl6ZSBpZiBsaWZ0IHRpbGUgaXRzZWxmIHdvdWxkIGZvcm0gYSBjaG9rZXBvaW50XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGN1cnJlbnRTY29yZSArPSBkZXRhaWxzU2VsZi5vcGVuU2lkZXMgKiAxMjA7IC8vIE1vcmUgb3BlbiBzaWRlcyBmb3IgdGhlIGxpZnQgdGlsZSBhcmUgZ29vZC5cclxuXHJcbiAgICAgICAgbGV0IHdvcnN0QWNjZXNzUGVuYWx0eUZyb21OZWlnaGJvcnMgPSAwO1xyXG4gICAgICAgIGxldCBudW1BY3R1YWxBY2Nlc3NQb2ludHMgPSAwO1xyXG4gICAgICAgIGNvbnN0IG5laWdoYm9yRGVsdGFzID0gW1xyXG4gICAgICAgICAgeyBkeDogMCwgZHk6IC0xIH0sXHJcbiAgICAgICAgICB7IGR4OiAwLCBkeTogMSB9LFxyXG4gICAgICAgICAgeyBkeDogLTEsIGR5OiAwIH0sXHJcbiAgICAgICAgICB7IGR4OiAxLCBkeTogMCB9LFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgZGVsdGEgb2YgbmVpZ2hib3JEZWx0YXMpIHtcclxuICAgICAgICAgIGNvbnN0IG5jQWNjZXNzID0gYyArIGRlbHRhLmR4O1xyXG4gICAgICAgICAgY29uc3QgbnJBY2Nlc3MgPSByICsgZGVsdGEuZHk7XHJcblxyXG4gICAgICAgICAgaWYgKG5yQWNjZXNzID49IDAgJiYgbnJBY2Nlc3MgPCByb3dzICYmIG5jQWNjZXNzID49IDAgJiYgbmNBY2Nlc3MgPCBjb2xzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFjY2Vzc1RpbGVUeXBlID0gbWFwW25yQWNjZXNzXT8uW25jQWNjZXNzXTtcclxuICAgICAgICAgICAgaWYgKGFjY2Vzc1RpbGVUeXBlID09PSBUSUxFX0NPUlJJRE9SIHx8IGFjY2Vzc1RpbGVUeXBlID09PSBUSUxFX1JPT01fRkxPT1IpIHtcclxuICAgICAgICAgICAgICBudW1BY3R1YWxBY2Nlc3NQb2ludHMrKztcclxuICAgICAgICAgICAgICBjb25zdCBkZXRhaWxzQWNjZXNzVGlsZSA9IF9nZXRUaWxlT3Blbm5lc3NEZXRhaWxzKFxyXG4gICAgICAgICAgICAgICAgbmNBY2Nlc3MsXHJcbiAgICAgICAgICAgICAgICBuckFjY2VzcyxcclxuICAgICAgICAgICAgICAgIG1hcCxcclxuICAgICAgICAgICAgICAgIGNvbHMsXHJcbiAgICAgICAgICAgICAgICByb3dzXHJcbiAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKGRldGFpbHNBY2Nlc3NUaWxlLm9wZW5TaWRlcyA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgLy8gQWNjZXNzIHRpbGUgb25seSBsZWFkcyB0byBvdXIgY2FuZGlkYXRlIChpdCdzIGEgc3R1YilcclxuICAgICAgICAgICAgICAgIHdvcnN0QWNjZXNzUGVuYWx0eUZyb21OZWlnaGJvcnMgPSBNYXRoLm1heCh3b3JzdEFjY2Vzc1BlbmFsdHlGcm9tTmVpZ2hib3JzLCAzMDAwMCk7IC8vIE1hc3NpdmUgcGVuYWx0eVxyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgaWYgKGRldGFpbHNBY2Nlc3NUaWxlLmlzQ2hva2Vwb2ludCkge1xyXG4gICAgICAgICAgICAgICAgd29yc3RBY2Nlc3NQZW5hbHR5RnJvbU5laWdoYm9ycyA9IE1hdGgubWF4KHdvcnN0QWNjZXNzUGVuYWx0eUZyb21OZWlnaGJvcnMsIDUwMCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiB0aGUgbGlmdCBjYW5kaWRhdGUgaXMgaW4gdGhlIG1pZGRsZSBvZiBhIHJvb20sIG51bUFjdHVhbEFjY2Vzc1BvaW50cyBtaWdodCBiZSBsb3dcclxuICAgICAgICAvLyBpZiBpdCdzIHN1cnJvdW5kZWQgYnkgb3RoZXIgVElMRV9ST09NX0ZMT09SIG9mIHRoZSAqc2FtZSogcm9vbS5cclxuICAgICAgICAvLyBkZXRhaWxzU2VsZi5vcGVuU2lkZXMgaXMgYSBiZXR0ZXIgbWVhc3VyZSBvZiBpdHMgXCJlbWJlZGRuZXNzXCIgaW4gdGhpcyBjYXNlLlxyXG4gICAgICAgIC8vIFRoZSBjcml0aWNhbCBwYXJ0IGlzIHRoYXQgYHdvcnN0QWNjZXNzUGVuYWx0eUZyb21OZWlnaGJvcnNgIGNhdGNoZXMgYmFkICpleHRlcm5hbCogYWNjZXNzLlxyXG4gICAgICAgIGlmIChudW1BY3R1YWxBY2Nlc3NQb2ludHMgPT09IDAgJiYgZGV0YWlsc1NlbGYub3BlblNpZGVzIDwgMikge1xyXG4gICAgICAgICAgLy8gSWYgaXQgaGFzIG5vIGRpcmVjdCBjb3JyaWRvci9vdGhlciByb29tIGFjY2VzcyBBTkQgaXMgYWxzbyB2ZXJ5IGNsb3NlZCBvZmYgaXRzZWxmXHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGN1cnJlbnRTY29yZSAtPSB3b3JzdEFjY2Vzc1BlbmFsdHlGcm9tTmVpZ2hib3JzO1xyXG5cclxuICAgICAgICBpZiAoYmVzdFNwb3RDYW5kaWRhdGUgPT09IG51bGwgfHwgY3VycmVudFNjb3JlID4gYmVzdFNwb3RDYW5kaWRhdGUuc2NvcmUpIHtcclxuICAgICAgICAgIGJlc3RTcG90Q2FuZGlkYXRlID0ge1xyXG4gICAgICAgICAgICB0aWxlWDogYyxcclxuICAgICAgICAgICAgdGlsZVk6IHIsXHJcbiAgICAgICAgICAgIHNjb3JlOiBjdXJyZW50U2NvcmUsXHJcbiAgICAgICAgICAgIGRlYnVnX3Jvb206IHJvb20uaWQsXHJcbiAgICAgICAgICAgIC8vIEFkZCBvdGhlciBkZWJ1ZyBmaWVsZHMgZnJvbSBwcmV2aW91cyB2ZXJzaW9uIGlmIG5lZWRlZFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlmIChiZXN0U3BvdENhbmRpZGF0ZSkge1xyXG4gICAgY29uc29sZS5sb2coXHJcbiAgICAgIGAgIFtNYXBHZW4gRmluZExpZnQgVjNdIFNlbGVjdGVkIGJlc3Qgc3BvdCBJTiBST09NICgke2Jlc3RTcG90Q2FuZGlkYXRlLmRlYnVnX3Jvb219KSBhdCB0aWxlKCR7YmVzdFNwb3RDYW5kaWRhdGUudGlsZVh9LCAke2Jlc3RTcG90Q2FuZGlkYXRlLnRpbGVZfSkuIGAgK1xyXG4gICAgICAgIGBTY29yZTogJHtiZXN0U3BvdENhbmRpZGF0ZS5zY29yZS50b0ZpeGVkKDApfS5gXHJcbiAgICApO1xyXG4gICAgcmV0dXJuIHsgdGlsZVg6IGJlc3RTcG90Q2FuZGlkYXRlLnRpbGVYLCB0aWxlWTogYmVzdFNwb3RDYW5kaWRhdGUudGlsZVkgfTtcclxuICB9XHJcblxyXG4gIGNvbnNvbGUud2FybihcclxuICAgICdbTWFwR2VuIEZpbmRMaWZ0IFYzXSBObyBzdWl0YWJsZSBJTi1ST09NIGxvY2F0aW9uIGZvdW5kIHdpdGggaW50ZXJuYWwgdGlsZXMuIEZhbGxiYWNrIHdpbGwgYmUgdXNlZCBieSBjYWxsZXIuJ1xyXG4gICk7XHJcbiAgcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcbi8vIC0tLSBIZWxwZXI6IEZvcmNlIENvbm5lY3Rpb24gLS0tXHJcbmZ1bmN0aW9uIF9mb3JjZUNvbm5lY3Rpb25Ub1BvaW50KG1hcCwgdGFyZ2V0WCwgdGFyZ2V0WSwgY29scywgcm93cykge1xyXG4gIGNvbnNvbGUubG9nKFxyXG4gICAgYCAgW01hcEdlbiBDb25uZWN0XSBUcnlpbmcgdG8gY29ubmVjdCB3YWxsIGF0IHRpbGUoJHt0YXJnZXRYfSwgJHt0YXJnZXRZfSkgdG8gd2Fsa2FibGUgYXJlYS4uLmBcclxuICApO1xyXG4gIGNvbnN0IGRpcmVjdGlvbnMgPSBbXHJcbiAgICBbMCwgLTFdLFxyXG4gICAgWzAsIDFdLFxyXG4gICAgWy0xLCAwXSxcclxuICAgIFsxLCAwXSxcclxuICBdO1xyXG4gIGxldCBpc0FkamFjZW50VG9XYWxrYWJsZSA9IGZhbHNlO1xyXG4gIGxldCBhZGphY2VudFdhbGthYmxlQ29vcmQgPSBudWxsO1xyXG5cclxuICAvLyAxLiBDaGVjayBpZiBhbHJlYWR5IGFkamFjZW50IHRvIGEgd2Fsa2FibGUgdGlsZVxyXG4gIGZvciAoY29uc3QgW2R4LCBkeV0gb2YgZGlyZWN0aW9ucykge1xyXG4gICAgY29uc3QgbnggPSB0YXJnZXRYICsgZHg7XHJcbiAgICBjb25zdCBueSA9IHRhcmdldFkgKyBkeTtcclxuICAgIGNvbnN0IG5laWdoYm9yVGlsZSA9IG1hcFtueV0/LltueF07XHJcbiAgICBpZiAoXHJcbiAgICAgIG5laWdoYm9yVGlsZSA9PT0gVElMRV9DT1JSSURPUiB8fFxyXG4gICAgICBuZWlnaGJvclRpbGUgPT09IFRJTEVfUk9PTV9GTE9PUiB8fFxyXG4gICAgICBuZWlnaGJvclRpbGUgPT09IFRJTEVfTElGVFxyXG4gICAgKSB7XHJcbiAgICAgIGlzQWRqYWNlbnRUb1dhbGthYmxlID0gdHJ1ZTtcclxuICAgICAgYWRqYWNlbnRXYWxrYWJsZUNvb3JkID0geyB4OiBueCwgeTogbnkgfTtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpZiAoaXNBZGphY2VudFRvV2Fsa2FibGUpIHtcclxuICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICBgICBbTWFwR2VuIENvbm5lY3RdIFRhcmdldCgke3RhcmdldFh9LCAke3RhcmdldFl9KSBpcyBhZGphY2VudCB0byB3YWxrYWJsZSBhdCAoJHthZGphY2VudFdhbGthYmxlQ29vcmQueH0sICR7YWRqYWNlbnRXYWxrYWJsZUNvb3JkLnl9KS4gU2V0dGluZyB0YXJnZXQgdG8gQ29ycmlkb3IuYFxyXG4gICAgKTtcclxuICAgIC8vIE1ha2UgdGhlIHRhcmdldCB0aWxlIGl0c2VsZiB3YWxrYWJsZSAoQ29ycmlkb3IgaXMgYSBzYWZlIGJldClcclxuICAgIG1hcFt0YXJnZXRZXVt0YXJnZXRYXSA9IFRJTEVfQ09SUklET1I7XHJcbiAgICByZXR1cm4gdHJ1ZTsgLy8gQ29ubmVjdGlvbiBpcyB0cml2aWFsXHJcbiAgfVxyXG5cclxuICAvLyAyLiBJZiBub3QgYWRqYWNlbnQsIGZpbmQgdGhlIG5lYXJlc3Qgd2Fsa2FibGUgdGlsZSAoQ29ycmlkb3Igb3IgRmxvb3IpIHVzaW5nIEJGU1xyXG4gIGNvbnNvbGUubG9nKFxyXG4gICAgYCAgW01hcEdlbiBDb25uZWN0XSBUYXJnZXQgbm90IGFkamFjZW50LiBTZWFyY2hpbmcgbmVhcmVzdCB3YWxrYWJsZSAoQ29ycmlkb3IvRmxvb3IpIHZpYSBCRlMuLi5gXHJcbiAgKTtcclxuICBjb25zdCBxdWV1ZSA9IFtbdGFyZ2V0WCwgdGFyZ2V0WSwgMF1dOyAvLyB4LCB5LCBkaXN0YW5jZVxyXG4gIGNvbnN0IHZpc2l0ZWQgPSBuZXcgU2V0KFtgJHt0YXJnZXRYfSwke3RhcmdldFl9YF0pO1xyXG4gIGNvbnN0IGJmc1BhdGhhYmxlID0gW1RJTEVfV0FMTCwgVElMRV9DT1JSSURPUiwgVElMRV9ST09NX0ZMT09SLCBUSUxFX0xJRlRdOyAvLyBDYW4gcGF0aCB0aHJvdWdoIGFueXRoaW5nXHJcbiAgY29uc3QgdGFyZ2V0V2Fsa2FibGUgPSBbVElMRV9DT1JSSURPUiwgVElMRV9ST09NX0ZMT09SXTtcclxuICBsZXQgY2xvc2VzdFdhbGthYmxlID0gbnVsbDtcclxuICBsZXQgbWluRm91bmREaXN0ID0gSW5maW5pdHk7XHJcblxyXG4gIHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICBjb25zdCBbY3VyclgsIGN1cnJZLCBkaXN0XSA9IHF1ZXVlLnNoaWZ0KCk7XHJcblxyXG4gICAgLy8gSWYgd2UgYWxyZWFkeSBmb3VuZCAqYSogd2Fsa2FibGUgdGlsZSwgZG9uJ3QgZXhwbG9yZSBwYXRocyBsb25nZXIgdGhhbiB0aGF0XHJcbiAgICBpZiAoZGlzdCA+PSBtaW5Gb3VuZERpc3QpIGNvbnRpbnVlO1xyXG5cclxuICAgIGZvciAoY29uc3QgW2R4LCBkeV0gb2YgZGlyZWN0aW9ucykge1xyXG4gICAgICBjb25zdCBuZXh0WCA9IGN1cnJYICsgZHg7XHJcbiAgICAgIGNvbnN0IG5leHRZID0gY3VyclkgKyBkeTtcclxuICAgICAgY29uc3Qga2V5ID0gYCR7bmV4dFh9LCR7bmV4dFl9YDtcclxuXHJcbiAgICAgIGlmIChuZXh0WCA+PSAwICYmIG5leHRYIDwgY29scyAmJiBuZXh0WSA+PSAwICYmIG5leHRZIDwgcm93cyAmJiAhdmlzaXRlZC5oYXMoa2V5KSkge1xyXG4gICAgICAgIGNvbnN0IHRpbGVWYWx1ZSA9IG1hcFtuZXh0WV0/LltuZXh0WF07XHJcbiAgICAgICAgdmlzaXRlZC5hZGQoa2V5KTtcclxuXHJcbiAgICAgICAgLy8gRm91bmQgYSB0YXJnZXQgd2Fsa2FibGUgdGlsZT9cclxuICAgICAgICBpZiAodGFyZ2V0V2Fsa2FibGUuaW5jbHVkZXModGlsZVZhbHVlKSkge1xyXG4gICAgICAgICAgaWYgKGRpc3QgKyAxIDwgbWluRm91bmREaXN0KSB7XHJcbiAgICAgICAgICAgIC8vIEZvdW5kIGEgY2xvc2VyIG9uZVxyXG4gICAgICAgICAgICBtaW5Gb3VuZERpc3QgPSBkaXN0ICsgMTtcclxuICAgICAgICAgICAgY2xvc2VzdFdhbGthYmxlID0geyB4OiBuZXh0WCwgeTogbmV4dFksIGRpc3Q6IG1pbkZvdW5kRGlzdCB9O1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICAgICAgICBgICAgIFtCRlNdIEZvdW5kIHBvdGVudGlhbCB0YXJnZXQgYXQgKCR7bmV4dFh9LCAke25leHRZfSksIGRpc3QgJHttaW5Gb3VuZERpc3R9YFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLy8gRG9uJ3QgcHVzaCB0aGlzIHRhcmdldCBvbnRvIHF1ZXVlLCB3ZSBzdG9wIHNlYXJjaGluZyBmcm9tIGhlcmVcclxuICAgICAgICB9IGVsc2UgaWYgKGJmc1BhdGhhYmxlLmluY2x1ZGVzKHRpbGVWYWx1ZSkpIHtcclxuICAgICAgICAgIC8vIENhbiBjb250aW51ZSBzZWFyY2hpbmcgZnJvbSB0aGlzIG5laWdoYm9yIGlmIGl0J3MgcGF0aGFibGUgYW5kIGNsb3NlciB0aGFuIGN1cnJlbnQgYmVzdFxyXG4gICAgICAgICAgaWYgKGRpc3QgKyAxIDwgbWluRm91bmREaXN0KSB7XHJcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goW25leHRYLCBuZXh0WSwgZGlzdCArIDFdKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIDMuIENhcnZlIHBhdGggaWYgYSB3YWxrYWJsZSB0aWxlIHdhcyBmb3VuZFxyXG4gIGlmIChjbG9zZXN0V2Fsa2FibGUpIHtcclxuICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICBgICBbTWFwR2VuIENvbm5lY3RdIEZvdW5kIGNsb3Nlc3Qgd2Fsa2FibGUgYXQgdGlsZSgke2Nsb3Nlc3RXYWxrYWJsZS54fSwgJHtjbG9zZXN0V2Fsa2FibGUueX0pIGRpc3RhbmNlICR7Y2xvc2VzdFdhbGthYmxlLmRpc3R9LiBDYXJ2aW5nIHBhdGguLi5gXHJcbiAgICApO1xyXG4gICAgLy8gU2ltcGxlIEwtc2hhcGVkIGNhcnZpbmcgZnJvbSB0YXJnZXQgdG8gY2xvc2VzdCB3YWxrYWJsZVxyXG4gICAgX2NhcnZlSG9yaXpvbnRhbENvcnJpZG9yKG1hcCwgdGFyZ2V0WSwgdGFyZ2V0WCwgY2xvc2VzdFdhbGthYmxlLngsIGNvbHMsIHJvd3MpO1xyXG4gICAgX2NhcnZlVmVydGljYWxDb3JyaWRvcihtYXAsIGNsb3Nlc3RXYWxrYWJsZS54LCB0YXJnZXRZLCBjbG9zZXN0V2Fsa2FibGUueSwgY29scywgcm93cyk7XHJcbiAgICBjb25zb2xlLmxvZyhgICBbTWFwR2VuIENvbm5lY3RdIENhcnZlZCBwYXRoIGF0dGVtcHQgZmluaXNoZWQuYCk7XHJcblxyXG4gICAgLy8gVmVyaWZ5IHRoZSB0YXJnZXQgdGlsZSBpdHNlbGYgYmVjYW1lIHdhbGthYmxlIChzaG91bGQgYmUgY29ycmlkb3Igbm93KVxyXG4gICAgaWYgKG1hcFt0YXJnZXRZXVt0YXJnZXRYXSA9PT0gVElMRV9DT1JSSURPUiB8fCBtYXBbdGFyZ2V0WV1bdGFyZ2V0WF0gPT09IFRJTEVfUk9PTV9GTE9PUikge1xyXG4gICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICBgICAgIFtWZXJpZnldIFRhcmdldCB0aWxlICgke3RhcmdldFh9LCR7dGFyZ2V0WX0pIGlzIG5vdyB3YWxrYWJsZSAoVHlwZTogJHttYXBbdGFyZ2V0WV1bdGFyZ2V0WF19KWBcclxuICAgICAgKTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgYCAgW01hcEdlbiBDb25uZWN0XSBDYXJ2aW5nIGRvbmUsIGJ1dCB0YXJnZXQgdGlsZSgke3RhcmdldFh9LCAke3RhcmdldFl9KSBpcyBzdGlsbCBXQUxMIChWYWx1ZTogJHttYXBbdGFyZ2V0WV1bdGFyZ2V0WF19KS4gU2V0dGluZyBtYW51YWxseS5gXHJcbiAgICAgICk7XHJcbiAgICAgIC8vIEZvcmNlIGl0IGp1c3QgaW4gY2FzZSBjYXJ2aW5nIGxvZ2ljIGhhZCBhbiBlZGdlIGNhc2VcclxuICAgICAgbWFwW3RhcmdldFldW3RhcmdldFhdID0gVElMRV9DT1JSSURPUjtcclxuICAgICAgcmV0dXJuIHRydWU7IC8vIEFzc3VtZSBzdWNjZXNzIGlmIHdlIGZvdW5kIGEgcGF0aCBhbmQgZm9yY2VkIHRoZSB0aWxlXHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgIGAgIFtNYXBHZW4gQ29ubmVjdF0gRkFJTEVEIHRvIGZpbmQgQU5ZIG5lYXJieSB3YWxrYWJsZSAoQ29ycmlkb3IvRmxvb3IpIHZpYSBCRlMgZnJvbSB3YWxsIGF0IHRpbGUoJHt0YXJnZXRYfSwgJHt0YXJnZXRZfSkuIENhbm5vdCBjb25uZWN0LmBcclxuICAgICk7XHJcbiAgICByZXR1cm4gZmFsc2U7IC8vIENvbm5lY3Rpb24gZmFpbGVkXHJcbiAgfVxyXG59XHJcblxyXG4vLyAtLS0gSGVscGVyOiBDaGVjayBMaWZ0IFJlYWNoYWJpbGl0eSAtLS1cclxuZnVuY3Rpb24gX2lzTGlmdFJlYWNoYWJsZShtYXAsIGxpZnRQb3NpdGlvbiwgY29scywgcm93cykge1xyXG4gIGlmICghbGlmdFBvc2l0aW9uKSByZXR1cm4gZmFsc2U7XHJcbiAgY29uc3QgeyB0aWxlWCwgdGlsZVkgfSA9IGxpZnRQb3NpdGlvbjtcclxuICBpZiAoXHJcbiAgICB0aWxlWSA8IDAgfHxcclxuICAgIHRpbGVZID49IHJvd3MgfHxcclxuICAgIHRpbGVYIDwgMCB8fFxyXG4gICAgdGlsZVggPj0gY29scyB8fFxyXG4gICAgbWFwW3RpbGVZXT8uW3RpbGVYXSAhPT0gVElMRV9MSUZUXHJcbiAgKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICBgW01hcFZhbGlkYXRpb24gUmVhY2hhYmlsaXR5XSBJbnZhbGlkIGxpZnQgcG9zaXRpb24gcHJvdmlkZWQ6ICgke3RpbGVYfSwgJHt0aWxlWX0pYFxyXG4gICAgKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8vIFVzZSBCRlMgdXRpbGl0eSBmdW5jdGlvbiB0byBjaGVjayByZWFjaGFiaWxpdHkgZnJvbSB0aGUgbGlmdCB0aWxlXHJcbiAgLy8gV2UgbmVlZCB0byBrbm93IGlmIHRoZSBsaWZ0IGNhbiByZWFjaCAqYW55KiBUSUxFX0NPUlJJRE9SIG9yIFRJTEVfUk9PTV9GTE9PUlxyXG4gIGNvbnN0IHdhbGthYmxlRm9yTGlmdFNlYXJjaCA9IFtUSUxFX0NPUlJJRE9SLCBUSUxFX1JPT01fRkxPT1IsIFRJTEVfTElGVF07IC8vIEJGUyBjYW4gdHJhdmVyc2UgdGhlc2VcclxuICBjb25zdCB0YXJnZXRUaWxlcyA9IFtUSUxFX0NPUlJJRE9SLCBUSUxFX1JPT01fRkxPT1JdOyAvLyBTdWNjZXNzIGlmIEJGUyBmaW5kcyBvbmUgb2YgdGhlc2VcclxuXHJcbiAgY29uc3QgeyByZWFjaGFibGUgfSA9IHBlcmZvcm1CRlMoXHJcbiAgICBtYXAsXHJcbiAgICB0aWxlWCxcclxuICAgIHRpbGVZLFxyXG4gICAgY29scyxcclxuICAgIHJvd3MsXHJcbiAgICB3YWxrYWJsZUZvckxpZnRTZWFyY2gsXHJcbiAgICB0YXJnZXRUaWxlc1xyXG4gICk7XHJcblxyXG4gIGlmICghcmVhY2hhYmxlKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICBgW01hcFZhbGlkYXRpb24gUmVhY2hhYmlsaXR5XSBGQUlMRUQuIExpZnQgYXQgdGlsZSgke3RpbGVYfSwgJHt0aWxlWX0pIGlzIGlzb2xhdGVkIGZyb20gY29ycmlkb3JzL3Jvb21zLmBcclxuICAgICk7XHJcbiAgfVxyXG4gIHJldHVybiByZWFjaGFibGU7XHJcbn1cclxuXHJcbi8vIC0tLSBIZWxwZXI6IEVuc3VyZSBCb3JkZXJzIC0tLVxyXG5mdW5jdGlvbiBfZW5zdXJlTWFwQm9yZGVycyhtYXAsIGNvbHMsIHJvd3MpIHtcclxuICBjb25zb2xlLmxvZygnICBbTWFwR2VuXSBFbnN1cmluZyBtYXAgYm9yZGVycyBhcmUgd2FsbHMuJyk7XHJcbiAgLy8gVG9wIGFuZCBCb3R0b20gYm9yZGVyc1xyXG4gIGZvciAobGV0IGMgPSAwOyBjIDwgY29sczsgYysrKSB7XHJcbiAgICBpZiAobWFwWzBdPy5bY10gIT09IHVuZGVmaW5lZCkgbWFwWzBdW2NdID0gVElMRV9XQUxMO1xyXG4gICAgaWYgKG1hcFtyb3dzIC0gMV0/LltjXSAhPT0gdW5kZWZpbmVkKSBtYXBbcm93cyAtIDFdW2NdID0gVElMRV9XQUxMO1xyXG4gIH1cclxuICAvLyBMZWZ0IGFuZCBSaWdodCBib3JkZXJzXHJcbiAgZm9yIChsZXQgciA9IDA7IHIgPCByb3dzOyByKyspIHtcclxuICAgIGlmIChtYXBbcl0/LlswXSAhPT0gdW5kZWZpbmVkKSBtYXBbcl1bMF0gPSBUSUxFX1dBTEw7XHJcbiAgICBpZiAobWFwW3JdPy5bY29scyAtIDFdICE9PSB1bmRlZmluZWQpIG1hcFtyXVtjb2xzIC0gMV0gPSBUSUxFX1dBTEw7XHJcbiAgfVxyXG59XHJcblxyXG4vLyAtLS0gRGVidWcgSGVscGVyIC0tLVxyXG4vLyAoT3B0aW9uYWwsIHVuY29tbWVudCB0aGUgY2FsbCBpbiBnZW5lcmF0ZUxldmVsRGF0YSB0byB1c2Ugd2hlbiBkZWJ1Z2dpbmcgcmVhY2hhYmlsaXR5KVxyXG5mdW5jdGlvbiBsb2dNYXBHcmlkRm9yRGVidWcobWFwLCBjb2xzLCByb3dzKSB7XHJcbiAgY29uc29sZS5sb2coJy0tLSBERUJVRyBNQVAgR1JJRCAtLS0nKTtcclxuICBmb3IgKGxldCB5ID0gMDsgeSA8IHJvd3M7IHkrKykge1xyXG4gICAgY29uc3Qgcm93U3RyaW5nID0gbWFwW3ldXHJcbiAgICAgIC5tYXAoKHRpbGUpID0+IHtcclxuICAgICAgICBzd2l0Y2ggKHRpbGUpIHtcclxuICAgICAgICAgIGNhc2UgVElMRV9XQUxMOlxyXG4gICAgICAgICAgICByZXR1cm4gJyMnO1xyXG4gICAgICAgICAgY2FzZSBUSUxFX0NPUlJJRE9SOlxyXG4gICAgICAgICAgICByZXR1cm4gJy4nO1xyXG4gICAgICAgICAgY2FzZSBUSUxFX1JPT01fRkxPT1I6XHJcbiAgICAgICAgICAgIHJldHVybiAnICc7XHJcbiAgICAgICAgICBjYXNlIFRJTEVfTElGVDpcclxuICAgICAgICAgICAgcmV0dXJuICdMJztcclxuICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIHJldHVybiAnPyc7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAuam9pbignJyk7XHJcbiAgICBjb25zb2xlLmxvZyhyb3dTdHJpbmcpO1xyXG4gIH1cclxuICBjb25zb2xlLmxvZygnLS0tIEVORCBERUJVRyBNQVAgR1JJRCAtLS0nKTtcclxufVxyXG4iLCIvLyBzcmMvbWFwL1Byb2NlZHVyYWxNYXAuanNcclxuaW1wb3J0IHsgQm9vayB9IGZyb20gJy4vQm9vay5qcyc7XHJcbmltcG9ydCB7IE1hcFJlbmRlcmVyIH0gZnJvbSAnLi9NYXBSZW5kZXJlci5qcyc7XHJcbmltcG9ydCB7IHJhbmRvbUludCB9IGZyb20gJy4uL3V0aWxzL21hcC5qcyc7IC8vINCj0LHQtdC00LjRgtC10YHRjCwg0YfRgtC+INGN0YLQvtGCINGE0LDQudC7INC4INGE0YPQvdC60YbQuNGPINGB0YPRidC10YHRgtCy0YPRjtGCXHJcbmltcG9ydCB7IGdlbmVyYXRlTGV2ZWxEYXRhIH0gZnJvbSAnLi9NYXBHZW4uanMnO1xyXG5pbXBvcnQge1xyXG4gIFRJTEVfV0FMTCxcclxuICBUSUxFX0NPUlJJRE9SLFxyXG4gIFRJTEVfUk9PTV9GTE9PUixcclxuICBUSUxFX0xJRlQsXHJcbiAgTElGVF9JTlRFUkFDVElPTl9SQURJVVNfTVVMVElQTElFUixcclxuICAvLyBHWU1fQ0hBTkNFX09OX0ZJUlNUX0ZMT09SLCAvLyDQldGB0LvQuCDQuNGB0L/QvtC70YzQt9GD0LXRgtGB0Y8g0LIgTWFwR2VuLmpzXHJcbn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcclxuXHJcbmNvbnN0IERFQlVHX0ZMT09SID0gMzsgLy8g0KPRgdGC0LDQvdC+0LLQuNGC0LUg0L3QsCDQvdC+0LzQtdGAINGN0YLQsNC20LAg0LTQu9GPINC+0YLQu9Cw0LTQutC4INC40LvQuCBudWxsLzAg0LTQu9GPINC+0YLQutC70Y7Rh9C10L3QuNGPXHJcblxyXG5leHBvcnQgY2xhc3MgUHJvY2VkdXJhbE1hcCB7XHJcbiAgY29uc3RydWN0b3IoY2FudmFzV2lkdGgsIGNhbnZhc0hlaWdodCwgZmxvb3JOdW1iZXIsIG1pbkZsb29yLCBtYXhGbG9vcikge1xyXG4gICAgdGhpcy50aWxlU2l6ZSA9IDMyO1xyXG4gICAgdGhpcy5jb2xzID0gNDA7XHJcbiAgICB0aGlzLnJvd3MgPSAzMDtcclxuICAgIHRoaXMud2lkdGggPSB0aGlzLmNvbHMgKiB0aGlzLnRpbGVTaXplO1xyXG4gICAgdGhpcy5oZWlnaHQgPSB0aGlzLnJvd3MgKiB0aGlzLnRpbGVTaXplO1xyXG4gICAgdGhpcy5vZmZzZXRYID0gMDtcclxuICAgIHRoaXMub2Zmc2V0WSA9IDA7XHJcblxyXG4gICAgdGhpcy5mbG9vck51bWJlciA9IGZsb29yTnVtYmVyO1xyXG4gICAgdGhpcy5taW5GbG9vciA9IG1pbkZsb29yO1xyXG4gICAgdGhpcy5tYXhGbG9vciA9IG1heEZsb29yO1xyXG5cclxuICAgIHRoaXMubWFwID0gbnVsbDtcclxuICAgIHRoaXMucm9vbXMgPSBbXTtcclxuICAgIHRoaXMuYm9va3MgPSBbXTtcclxuICAgIHRoaXMubGlmdFBvc2l0aW9uID0gbnVsbDsgLy8ge3gsIHksIHRpbGVYLCB0aWxlWX1cclxuXHJcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IE1hcFJlbmRlcmVyKHRoaXMudGlsZVNpemUpO1xyXG5cclxuICAgIGNvbnN0IGdlbmVyYXRpb25QYXJhbXMgPSB7XHJcbiAgICAgIG1pblJvb21TaXplOiA1LFxyXG4gICAgICBtYXhSb29tU2l6ZTogMTAsXHJcbiAgICAgIGNvcnJpZG9yVGhpY2tuZXNzOiAxLFxyXG4gICAgICBudW1Sb29tczogMTIsXHJcbiAgICAgIG1heFJvb21BdHRlbXB0czogMjAwLFxyXG4gICAgICBib29rc1Blck1hcDogNSwgLy8g0JrQvtC70LjRh9C10YHRgtCy0L4g0LrQvdC40LMg0L3QsCDQutCw0YDRgtGDXHJcbiAgICAgIHJvb21UeXBlV2VpZ2h0czoge1xyXG4gICAgICAgIC8vINCS0LXRgdCwINC00LvRjyDRgtC40L/QvtCyINC60L7QvNC90LDRglxyXG4gICAgICAgIGNsYXNzcm9vbTogNTAsXHJcbiAgICAgICAgb2ZmaWNlOiAyNSxcclxuICAgICAgICBsaWJyYXJ5OiAxNSxcclxuICAgICAgICBsYWI6IDEwLFxyXG4gICAgICAgIHN0b3JhZ2U6IDUsXHJcbiAgICAgICAgdXRpbGl0eTogMTAsXHJcbiAgICAgIH0sXHJcbiAgICB9O1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGdlbmVyYXRpb25Db25maWcgPSB7XHJcbiAgICAgICAgY29sczogdGhpcy5jb2xzLFxyXG4gICAgICAgIHJvd3M6IHRoaXMucm93cyxcclxuICAgICAgICBmbG9vck51bWJlcjogdGhpcy5mbG9vck51bWJlcixcclxuICAgICAgICBtaW5GbG9vcjogdGhpcy5taW5GbG9vcixcclxuICAgICAgICBtYXhGbG9vcjogdGhpcy5tYXhGbG9vcixcclxuICAgICAgICB0aWxlU2l6ZTogdGhpcy50aWxlU2l6ZSxcclxuICAgICAgICBnZW5lcmF0aW9uUGFyYW1zOiBnZW5lcmF0aW9uUGFyYW1zLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgeyBtYXAsIHJvb21zLCBsaWZ0UG9zaXRpb24gfSA9IGdlbmVyYXRlTGV2ZWxEYXRhKGdlbmVyYXRpb25Db25maWcpO1xyXG5cclxuICAgICAgdGhpcy5tYXAgPSBtYXA7XHJcbiAgICAgIHRoaXMucm9vbXMgPSByb29tcztcclxuICAgICAgdGhpcy5saWZ0UG9zaXRpb24gPSBsaWZ0UG9zaXRpb247IC8vINCh0L7QtNC10YDQttC40YIge3gsIHksIHRpbGVYLCB0aWxlWX1cclxuXHJcbiAgICAgIHRoaXMucmVuZGVyZXIucmVzZXRDb2xvckNhY2hlKCk7XHJcbiAgICAgIHRoaXMucGxhY2VCb29rc1JlbGlhYmx5KGdlbmVyYXRpb25QYXJhbXMuYm9va3NQZXJNYXApO1xyXG5cclxuICAgICAgaWYgKHRoaXMuZmxvb3JOdW1iZXIgPT09IERFQlVHX0ZMT09SKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgICBgW1Byb2NNYXAgRiR7dGhpcy5mbG9vck51bWJlcn1dIEluaXQgY29tcGxldGUuIExpZnQgYXQgdGlsZSAoJHtsaWZ0UG9zaXRpb24/LnRpbGVYfSwgJHtsaWZ0UG9zaXRpb24/LnRpbGVZfSkuYFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgLy8gdGhpcy5sb2dNYXBHcmlkKCk7IC8vINCc0L7QttC90L4g0YDQsNGB0LrQvtC80LzQtdC90YLQuNGA0L7QstCw0YLRjCDQtNC70Y8g0LLRi9Cy0L7QtNCwINGB0LXRgtC60Lgg0YHRgNCw0LfRgyDQv9C+0YHQu9C1INCz0LXQvdC10YDQsNGG0LjQuFxyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgIGBbUHJvY01hcCBGJHt0aGlzLmZsb29yTnVtYmVyfV0gQ1JJVElDQUwgRVJST1IgZHVyaW5nIG1hcCBnZW5lcmF0aW9uIG9yIHNldHVwOmAsXHJcbiAgICAgICAgZXJyb3JcclxuICAgICAgKTtcclxuICAgICAgdGhyb3cgZXJyb3I7IC8vINCf0LXRgNC10LHRgNCw0YHRi9Cy0LDQtdC8INC+0YjQuNCx0LrRgywg0YfRgtC+0LHRiyBHYW1lLmpzINC80L7QsyDQtdC1INC+0LHRgNCw0LHQvtGC0LDRgtGMXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwbGFjZUJvb2tzUmVsaWFibHkoYm9va3NQZXJNYXApIHtcclxuICAgIHRoaXMuYm9va3MgPSBbXTsgLy8g0J7Rh9C40YnQsNC10Lwg0L/RgNC10LTRi9C00YPRidC40LUg0LrQvdC40LPQuFxyXG4gICAgY29uc3QgcG90ZW50aWFsTG9jYXRpb25zID0gW107XHJcbiAgICBjb25zdCBwbGFjZWRDb29yZHMgPSBuZXcgU2V0KCk7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhgW1Byb2NNYXAgRiR7dGhpcy5mbG9vck51bWJlcn1dIFBsYWNpbmcgdXAgdG8gJHtib29rc1Blck1hcH0gYm9va3MuLi5gKTtcclxuXHJcbiAgICBmb3IgKGxldCByID0gMDsgciA8IHRoaXMucm93czsgcisrKSB7XHJcbiAgICAgIGZvciAobGV0IGMgPSAwOyBjIDwgdGhpcy5jb2xzOyBjKyspIHtcclxuICAgICAgICBjb25zdCB0aWxlVmFsdWUgPSB0aGlzLm1hcFtyXT8uW2NdO1xyXG4gICAgICAgIGNvbnN0IGlzTGlmdFRpbGUgPVxyXG4gICAgICAgICAgdGhpcy5saWZ0UG9zaXRpb24gJiYgciA9PT0gdGhpcy5saWZ0UG9zaXRpb24udGlsZVkgJiYgYyA9PT0gdGhpcy5saWZ0UG9zaXRpb24udGlsZVg7XHJcbiAgICAgICAgLy8g0JrQvdC40LPQuCDQvNC+0LbQvdC+INGA0LDQt9C80LXRidCw0YLRjCDQsiDQutC+0YDQuNC00L7RgNCw0YUg0LjQu9C4INC90LAg0L/QvtC70YMg0LrQvtC80L3QsNGCLCDQvdC+INC90LUg0L3QsCDQutC70LXRgtC60LUg0LvQuNGE0YLQsFxyXG4gICAgICAgIGlmICgodGlsZVZhbHVlID09PSBUSUxFX0NPUlJJRE9SIHx8IHRpbGVWYWx1ZSA9PT0gVElMRV9ST09NX0ZMT09SKSAmJiAhaXNMaWZ0VGlsZSkge1xyXG4gICAgICAgICAgcG90ZW50aWFsTG9jYXRpb25zLnB1c2goeyByLCBjIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGxldCBib29rc1BsYWNlZCA9IDA7XHJcbiAgICB3aGlsZSAoYm9va3NQbGFjZWQgPCBib29rc1Blck1hcCAmJiBwb3RlbnRpYWxMb2NhdGlvbnMubGVuZ3RoID4gMCkge1xyXG4gICAgICBjb25zdCByYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBvdGVudGlhbExvY2F0aW9ucy5sZW5ndGgpO1xyXG4gICAgICBjb25zdCB7IHIsIGMgfSA9IHBvdGVudGlhbExvY2F0aW9ucy5zcGxpY2UocmFuZG9tSW5kZXgsIDEpWzBdOyAvLyDQo9C00LDQu9GP0LXQvCDQstGL0LHRgNCw0L3QvdGD0Y4g0LvQvtC60LDRhtC40Y5cclxuICAgICAgY29uc3QgY29vcmRLZXkgPSBgJHtjfSwke3J9YDtcclxuXHJcbiAgICAgIGlmIChcclxuICAgICAgICAodGhpcy5tYXBbcl0/LltjXSA9PT0gVElMRV9DT1JSSURPUiB8fCB0aGlzLm1hcFtyXT8uW2NdID09PSBUSUxFX1JPT01fRkxPT1IpICYmXHJcbiAgICAgICAgIXBsYWNlZENvb3Jkcy5oYXMoY29vcmRLZXkpXHJcbiAgICAgICkge1xyXG4gICAgICAgIGNvbnN0IGJvb2tXb3JsZFggPSAoYyArIDAuNSkgKiB0aGlzLnRpbGVTaXplO1xyXG4gICAgICAgIGNvbnN0IGJvb2tXb3JsZFkgPSAociArIDAuNSkgKiB0aGlzLnRpbGVTaXplO1xyXG4gICAgICAgIGNvbnN0IGJvb2tJZCA9IGBib29rX2Yke3RoaXMuZmxvb3JOdW1iZXJ9XyR7Ym9va3NQbGFjZWQgKyAxfWA7IC8vINCj0L3QuNC60LDQu9GM0L3Ri9C5IElEXHJcbiAgICAgICAgdGhpcy5ib29rcy5wdXNoKG5ldyBCb29rKGJvb2tXb3JsZFgsIGJvb2tXb3JsZFksIGJvb2tJZCwgdGhpcy50aWxlU2l6ZSkpO1xyXG4gICAgICAgIHBsYWNlZENvb3Jkcy5hZGQoY29vcmRLZXkpO1xyXG4gICAgICAgIGJvb2tzUGxhY2VkKys7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIGlmIChib29rc1BsYWNlZCA8IGJvb2tzUGVyTWFwKSBjb25zb2xlLndhcm4oYFtQcm9jTWFwIEYke3RoaXMuZmxvb3JOdW1iZXJ9XSBQbGFjZWQgb25seSAke2Jvb2tzUGxhY2VkfS8ke2Jvb2tzUGVyTWFwfSBib29rcy5gKTtcclxuICB9XHJcblxyXG4gIGlzV2Fsa2FibGUod29ybGRYLCB3b3JsZFkpIHtcclxuICAgIGlmICghdGhpcy5tYXApIHJldHVybiBmYWxzZTtcclxuICAgIGNvbnN0IHRpbGVYID0gTWF0aC5mbG9vcih3b3JsZFggLyB0aGlzLnRpbGVTaXplKTtcclxuICAgIGNvbnN0IHRpbGVZID0gTWF0aC5mbG9vcih3b3JsZFkgLyB0aGlzLnRpbGVTaXplKTtcclxuXHJcbiAgICBpZiAodGlsZVggPCAwIHx8IHRpbGVYID49IHRoaXMuY29scyB8fCB0aWxlWSA8IDAgfHwgdGlsZVkgPj0gdGhpcy5yb3dzKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTsgLy8g0JfQsCDQv9GA0LXQtNC10LvQsNC80Lgg0LrQsNGA0YLRi1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHRpbGVWYWx1ZSA9IHRoaXMubWFwW3RpbGVZXT8uW3RpbGVYXTtcclxuICAgIC8vINCb0LjRhNGCINGB0YfQuNGC0LDQtdGC0YHRjyDQv9GA0L7RhdC+0LTQuNC80YvQvCDQtNC70Y8g0L/RgNC+0LLQtdGA0LrQuCDRgdGC0L7Qu9C60L3QvtCy0LXQvdC40LkgKNC/0LXRgNGB0L7QvdCw0LYg0LzQvtC20LXRgiDQvdCwINC90LXQs9C+INC30LDQudGC0LgpXHJcbiAgICByZXR1cm4gdGlsZVZhbHVlID09PSBUSUxFX0NPUlJJRE9SIHx8IHRpbGVWYWx1ZSA9PT0gVElMRV9ST09NX0ZMT09SIHx8IHRpbGVWYWx1ZSA9PT0gVElMRV9MSUZUO1xyXG4gIH1cclxuXHJcbiAgZmluZFJhbmRvbUluaXRpYWxTcGF3blBvc2l0aW9uKCkge1xyXG4gICAgaWYgKCF0aGlzLm1hcCkgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIGNvbnN0IHN1aXRhYmxlVGlsZXMgPSBbXTtcclxuICAgIC8vINCh0L3QsNGH0LDQu9CwINC40YnQtdC8INCx0L7Qu9C10LUgXCLQvtGC0LrRgNGL0YLRi9C1XCIg0LzQtdGB0YLQsFxyXG4gICAgZm9yIChsZXQgciA9IDE7IHIgPCB0aGlzLnJvd3MgLSAxOyByKyspIHtcclxuICAgICAgLy8g0JjQt9Cx0LXQs9Cw0LXQvCDQutGA0LDQtdCyINC00LvRjyDQv9C10YDQstC+0Lkg0L/QvtC/0YvRgtC60LhcclxuICAgICAgZm9yIChsZXQgYyA9IDE7IGMgPCB0aGlzLmNvbHMgLSAxOyBjKyspIHtcclxuICAgICAgICBjb25zdCB0aWxlVmFsdWUgPSB0aGlzLm1hcFtyXT8uW2NdO1xyXG4gICAgICAgIGNvbnN0IGlzTGlmdCA9XHJcbiAgICAgICAgICB0aGlzLmxpZnRQb3NpdGlvbiAmJiByID09PSB0aGlzLmxpZnRQb3NpdGlvbi50aWxlWSAmJiBjID09PSB0aGlzLmxpZnRQb3NpdGlvbi50aWxlWDtcclxuICAgICAgICBpZiAoKHRpbGVWYWx1ZSA9PT0gVElMRV9DT1JSSURPUiB8fCB0aWxlVmFsdWUgPT09IFRJTEVfUk9PTV9GTE9PUikgJiYgIWlzTGlmdCkge1xyXG4gICAgICAgICAgaWYgKHRoaXMuaXNUaWxlT3BlbkVub3VnaChjLCByLCAzLCB0cnVlKSkge1xyXG4gICAgICAgICAgICAvLyDQotGA0LXQsdGD0LXQvCAzINC+0YLQutGA0YvRgtGL0YUg0YHRgtC+0YDQvtC90YssINC40LfQsdC10LPQsNC10Lwg0YPQt9C60LjRhSDQv9GA0L7RhdC+0LTQvtCyXHJcbiAgICAgICAgICAgIHN1aXRhYmxlVGlsZXMucHVzaCh7IHIsIGMgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyDQldGB0LvQuCDQvdC1INC90LDRiNC70Lgg0LjQtNC10LDQu9GM0L3Ri9GFLCDQuNGJ0LXQvCDRgSAyINC+0YLQutGA0YvRgtGL0LzQuCDRgdGC0L7RgNC+0L3QsNC80LhcclxuICAgIGlmIChzdWl0YWJsZVRpbGVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBmb3IgKGxldCByID0gMDsgciA8IHRoaXMucm93czsgcisrKSB7XHJcbiAgICAgICAgZm9yIChsZXQgYyA9IDA7IGMgPCB0aGlzLmNvbHM7IGMrKykge1xyXG4gICAgICAgICAgY29uc3QgdGlsZVZhbHVlID0gdGhpcy5tYXBbcl0/LltjXTtcclxuICAgICAgICAgIGNvbnN0IGlzTGlmdCA9XHJcbiAgICAgICAgICAgIHRoaXMubGlmdFBvc2l0aW9uICYmIHIgPT09IHRoaXMubGlmdFBvc2l0aW9uLnRpbGVZICYmIGMgPT09IHRoaXMubGlmdFBvc2l0aW9uLnRpbGVYO1xyXG4gICAgICAgICAgaWYgKCh0aWxlVmFsdWUgPT09IFRJTEVfQ09SUklET1IgfHwgdGlsZVZhbHVlID09PSBUSUxFX1JPT01fRkxPT1IpICYmICFpc0xpZnQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNUaWxlT3BlbkVub3VnaChjLCByLCAyLCB0cnVlKSkge1xyXG4gICAgICAgICAgICAgIC8vIDIg0L7RgtC60YDRi9GC0YvRhSDRgdGC0L7RgNC+0L3Riywg0LjQt9Cx0LXQs9Cw0LXQvCDRg9C30LrQuNGFINC/0YDQvtGF0L7QtNC+0LJcclxuICAgICAgICAgICAgICBzdWl0YWJsZVRpbGVzLnB1c2goeyByLCBjIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyDQmtGA0LDQudC90LjQuSDRgdC70YPRh9Cw0Lk6INC70Y7QsdCw0Y8g0L/RgNC+0YXQvtC00LjQvNCw0Y8g0L3QtSDQu9C40YTRgtC+0LLQsNGPINC60LvQtdGC0LrQsFxyXG4gICAgaWYgKHN1aXRhYmxlVGlsZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIC8vIGNvbnNvbGUud2FybihgW1Byb2NNYXAgRiR7dGhpcy5mbG9vck51bWJlcn0gUmFuZG9tU3Bhd25dIE5vIGlkZWFsIHNwb3RzLiBVc2luZyBhbnkgdmFsaWQgbm9uLWxpZnQgZmxvb3IvY29ycmlkb3IuYCk7XHJcbiAgICAgIGZvciAobGV0IHIgPSAwOyByIDwgdGhpcy5yb3dzOyByKyspIHtcclxuICAgICAgICBmb3IgKGxldCBjID0gMDsgYyA8IHRoaXMuY29sczsgYysrKSB7XHJcbiAgICAgICAgICBjb25zdCB0aWxlVmFsdWUgPSB0aGlzLm1hcFtyXT8uW2NdO1xyXG4gICAgICAgICAgY29uc3QgaXNMaWZ0ID1cclxuICAgICAgICAgICAgdGhpcy5saWZ0UG9zaXRpb24gJiYgciA9PT0gdGhpcy5saWZ0UG9zaXRpb24udGlsZVkgJiYgYyA9PT0gdGhpcy5saWZ0UG9zaXRpb24udGlsZVg7XHJcbiAgICAgICAgICBpZiAoKHRpbGVWYWx1ZSA9PT0gVElMRV9DT1JSSURPUiB8fCB0aWxlVmFsdWUgPT09IFRJTEVfUk9PTV9GTE9PUikgJiYgIWlzTGlmdCkge1xyXG4gICAgICAgICAgICBzdWl0YWJsZVRpbGVzLnB1c2goeyByLCBjIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChzdWl0YWJsZVRpbGVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgIGBbUHJvY01hcCBGJHt0aGlzLmZsb29yTnVtYmVyfSBSYW5kb21TcGF3bl0gQ1JJVElDQUw6IE5vIHN1aXRhYmxlIHNwYXduIHRpbGVzIGZvdW5kIWBcclxuICAgICAgKTtcclxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IHIsIGMgfSA9IHN1aXRhYmxlVGlsZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogc3VpdGFibGVUaWxlcy5sZW5ndGgpXTtcclxuICAgIHJldHVybiB7IHg6IChjICsgMC41KSAqIHRoaXMudGlsZVNpemUsIHk6IChyICsgMC41KSAqIHRoaXMudGlsZVNpemUgfTtcclxuICB9XHJcblxyXG4gIGlzVGlsZU9wZW5Fbm91Z2godGlsZVgsIHRpbGVZLCBtaW5PcGVuU2lkZXMgPSAyLCBhdm9pZE9uZVRpbGVXaWRlUGFzc2FnZXMgPSBmYWxzZSkge1xyXG4gICAgY29uc3QgaXNEZWJ1Z0N1cnJlbnRDYWxsID0gdGhpcy5mbG9vck51bWJlciA9PT0gREVCVUdfRkxPT1I7IC8vINCb0L7Qs9C40YDRg9C10Lwg0YLQvtC70YzQutC+INC00LvRjyDQvtGC0LvQsNC00L7Rh9C90L7Qs9C+INGN0YLQsNC20LBcclxuICAgIC8vIGlmIChpc0RlYnVnQ3VycmVudENhbGwpIGNvbnNvbGUubG9nKGBbUHJvY01hcCBGJHt0aGlzLmZsb29yTnVtYmVyfSBpc1RpbGVPcGVuRW5vdWdoXSBDaGVja2luZyAoJHt0aWxlWH0sJHt0aWxlWX0pIHdpdGggbWluT3BlblNpZGVzPSR7bWluT3BlblNpZGVzfSwgYXZvaWROYXJyb3c9JHthdm9pZE9uZVRpbGVXaWRlUGFzc2FnZXN9YCk7XHJcblxyXG4gICAgaWYgKCF0aGlzLm1hcCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgbGV0IG9wZW5TaWRlc0NvdW50ID0gMDtcclxuICAgIC8vIGR4LCBkeSwgbGFiZWxcclxuICAgIGNvbnN0IGRpcmVjdGlvbnMgPSBbXHJcbiAgICAgIFswLCAtMSwgJ04nXSxcclxuICAgICAgWzAsIDEsICdTJ10sXHJcbiAgICAgIFstMSwgMCwgJ1cnXSxcclxuICAgICAgWzEsIDAsICdFJ10sXHJcbiAgICBdO1xyXG4gICAgY29uc3QgaXNPcGVuU2lkZSA9IFtmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZV07IC8vIE4sIFMsIFcsIEVcclxuICAgIC8vIGxldCBuZWlnaGJvckRlYnVnID0ge307IC8vINCg0LDRgdC60L7QvNC80LXQvdGC0LjRgNGD0LnRgtC1INC00LvRjyDQtNC10YLQsNC70YzQvdC+0LPQviDQu9C+0LPQsCDRgdC+0YHQtdC00LXQuVxyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGlyZWN0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBbZHgsIGR5LCBkaXJMYWJlbF0gPSBkaXJlY3Rpb25zW2ldO1xyXG4gICAgICBjb25zdCBuZWlnaGJvclggPSB0aWxlWCArIGR4O1xyXG4gICAgICBjb25zdCBuZWlnaGJvclkgPSB0aWxlWSArIGR5O1xyXG4gICAgICBsZXQgbmVpZ2hib3JUaWxlVmFsdWUgPSBUSUxFX1dBTEw7IC8vINCf0L4g0YPQvNC+0LvRh9Cw0L3QuNGOINGB0YLQtdC90LAsINC10YHQu9C4INC30LAg0L/RgNC10LTQtdC70LDQvNC4XHJcblxyXG4gICAgICBpZiAobmVpZ2hib3JYID49IDAgJiYgbmVpZ2hib3JYIDwgdGhpcy5jb2xzICYmIG5laWdoYm9yWSA+PSAwICYmIG5laWdoYm9yWSA8IHRoaXMucm93cykge1xyXG4gICAgICAgIG5laWdoYm9yVGlsZVZhbHVlID0gdGhpcy5tYXBbbmVpZ2hib3JZXT8uW25laWdoYm9yWF07XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgbmVpZ2hib3JUaWxlVmFsdWUgPT09IFRJTEVfQ09SUklET1IgfHxcclxuICAgICAgICAgIG5laWdoYm9yVGlsZVZhbHVlID09PSBUSUxFX1JPT01fRkxPT1IgfHxcclxuICAgICAgICAgIG5laWdoYm9yVGlsZVZhbHVlID09PSBUSUxFX0xJRlRcclxuICAgICAgICApIHtcclxuICAgICAgICAgIG9wZW5TaWRlc0NvdW50Kys7XHJcbiAgICAgICAgICBpc09wZW5TaWRlW2ldID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgLy8gaWYgKGlzRGVidWdDdXJyZW50Q2FsbCkgbmVpZ2hib3JEZWJ1Z1tkaXJMYWJlbF0gPSBgKCR7bmVpZ2hib3JYfSwke25laWdoYm9yWX0pIFR5cGU6JHtuZWlnaGJvclRpbGVWYWx1ZX0gKE9wZW46JHtpc09wZW5TaWRlW2ldfSlgO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGlmIChpc0RlYnVnQ3VycmVudENhbGwpIGNvbnNvbGUubG9nKGAgIFtpc1RpbGVPcGVuRW5vdWdoXSBOZWlnaGJvcnMgZm9yICgke3RpbGVYfSwke3RpbGVZfSk6ICR7SlNPTi5zdHJpbmdpZnkobmVpZ2hib3JEZWJ1Zyl9IC0+IG9wZW5TaWRlc0NvdW50OiAke29wZW5TaWRlc0NvdW50fWApO1xyXG5cclxuICAgIGlmIChvcGVuU2lkZXNDb3VudCA8IG1pbk9wZW5TaWRlcykge1xyXG4gICAgICAvLyBpZiAoaXNEZWJ1Z0N1cnJlbnRDYWxsKSBjb25zb2xlLmxvZyhgICBbaXNUaWxlT3BlbkVub3VnaF0gUkVTVUxUIGZvciAoJHt0aWxlWH0sJHt0aWxlWX0pOiBmYWxzZSAob3BlblNpZGVzQ291bnQgJHtvcGVuU2lkZXNDb3VudH0gPCBtaW5PcGVuU2lkZXMgJHttaW5PcGVuU2lkZXN9KWApO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGF2b2lkT25lVGlsZVdpZGVQYXNzYWdlcyAmJiBvcGVuU2lkZXNDb3VudCA9PT0gMikge1xyXG4gICAgICAvLyDQn9GA0L7QstC10YDQutCwINC90LAg0L/RgNC+0YXQvtC0INGI0LjRgNC40L3QvtC5INCyIDEg0LrQu9C10YLQutGDICjQvtGC0LrRgNGL0YLRiyDRgtC+0LvRjNC60L4g0L/RgNC+0YLQuNCy0L7Qv9C+0LvQvtC20L3Ri9C1INGB0YLQvtGA0L7QvdGLKVxyXG4gICAgICBpZiAoaXNPcGVuU2lkZVswXSAmJiBpc09wZW5TaWRlWzFdICYmICFpc09wZW5TaWRlWzJdICYmICFpc09wZW5TaWRlWzNdKSB7XHJcbiAgICAgICAgLy8g0KHQtdCy0LXRgCDQuCDQrtCzINC+0YLQutGA0YvRgtGLLCDQl9Cw0L/QsNC0INC4INCS0L7RgdGC0L7QuiDQt9Cw0LrRgNGL0YLRi1xyXG4gICAgICAgIC8vIGlmIChpc0RlYnVnQ3VycmVudENhbGwpIGNvbnNvbGUubG9nKGAgIFtpc1RpbGVPcGVuRW5vdWdoXSBSRVNVTFQgZm9yICgke3RpbGVYfSwke3RpbGVZfSk6IGZhbHNlICh2ZXJ0aWNhbCAxLXRpbGUgcGFzc2FnZSlgKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGlzT3BlblNpZGVbMl0gJiYgaXNPcGVuU2lkZVszXSAmJiAhaXNPcGVuU2lkZVswXSAmJiAhaXNPcGVuU2lkZVsxXSkge1xyXG4gICAgICAgIC8vINCX0LDQv9Cw0LQg0Lgg0JLQvtGB0YLQvtC6INC+0YLQutGA0YvRgtGLLCDQodC10LLQtdGAINC4INCu0LMg0LfQsNC60YDRi9GC0YtcclxuICAgICAgICAvLyBpZiAoaXNEZWJ1Z0N1cnJlbnRDYWxsKSBjb25zb2xlLmxvZyhgICBbaXNUaWxlT3BlbkVub3VnaF0gUkVTVUxUIGZvciAoJHt0aWxlWH0sJHt0aWxlWX0pOiBmYWxzZSAoaG9yaXpvbnRhbCAxLXRpbGUgcGFzc2FnZSlgKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIGlmIChpc0RlYnVnQ3VycmVudENhbGwpIGNvbnNvbGUubG9nKGAgIFtpc1RpbGVPcGVuRW5vdWdoXSBSRVNVTFQgZm9yICgke3RpbGVYfSwke3RpbGVZfSk6IHRydWVgKTtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgZmluZE5lYXJlc3RXYWxrYWJsZVRpbGUoXHJcbiAgICB0YXJnZXRXb3JsZFgsXHJcbiAgICB0YXJnZXRXb3JsZFksXHJcbiAgICBtYXhSYWRpdXMgPSA4LFxyXG4gICAgZXhjbHVkZUxpZnQgPSBmYWxzZSxcclxuICAgIGF2b2lkT25lVGlsZVdpZGVQYXNzYWdlcyA9IGZhbHNlXHJcbiAgKSB7XHJcbiAgICBjb25zdCBpc0RlYnVnQ3VycmVudENhbGwgPSB0aGlzLmZsb29yTnVtYmVyID09PSBERUJVR19GTE9PUjtcclxuICAgIC8vIGlmIChpc0RlYnVnQ3VycmVudENhbGwpIGNvbnNvbGUubG9nKGBbUHJvY01hcCBGJHt0aGlzLmZsb29yTnVtYmVyfSBmaW5kTmVhcmVzdFdhbGthYmxlVGlsZV0gVGFyZ2V0V29ybGQ6KCR7dGFyZ2V0V29ybGRYLnRvRml4ZWQoMSl9LCR7dGFyZ2V0V29ybGRZLnRvRml4ZWQoMSl9KSwgbWF4Ujoke21heFJhZGl1c30sIGV4Y2x1ZGVMaWZ0OiR7ZXhjbHVkZUxpZnR9LCBhdm9pZE5hcnJvdzoke2F2b2lkT25lVGlsZVdpZGVQYXNzYWdlc31gKTtcclxuXHJcbiAgICBpZiAoIXRoaXMubWFwKSByZXR1cm4gbnVsbDtcclxuICAgIGNvbnN0IHRhcmdldFRpbGVYID0gTWF0aC5mbG9vcih0YXJnZXRXb3JsZFggLyB0aGlzLnRpbGVTaXplKTtcclxuICAgIGNvbnN0IHRhcmdldFRpbGVZID0gTWF0aC5mbG9vcih0YXJnZXRXb3JsZFkgLyB0aGlzLnRpbGVTaXplKTtcclxuICAgIC8vIGlmIChpc0RlYnVnQ3VycmVudENhbGwpIGNvbnNvbGUubG9nKGAgIFtmaW5kTmVhcmVzdF0gVGFyZ2V0VGlsZTogKCR7dGFyZ2V0VGlsZVh9LCR7dGFyZ2V0VGlsZVl9KWApO1xyXG5cclxuICAgIGNvbnN0IHRhcmdldFNhZmVUaWxlcyA9IFtUSUxFX0NPUlJJRE9SLCBUSUxFX1JPT01fRkxPT1JdOyAvLyDQmtGD0LTQsCDRhdC+0YLQuNC8INC/0L7Qv9Cw0YHRgtGMXHJcblxyXG4gICAgLy8gMS4g0J/RgNC+0LLQtdGA0Y/QtdC8INGB0LDQvNGDINGG0LXQu9C10LLRg9GOINC60LvQtdGC0LrRg1xyXG4gICAgaWYgKFxyXG4gICAgICB0YXJnZXRUaWxlWCA+PSAwICYmXHJcbiAgICAgIHRhcmdldFRpbGVYIDwgdGhpcy5jb2xzICYmXHJcbiAgICAgIHRhcmdldFRpbGVZID49IDAgJiZcclxuICAgICAgdGFyZ2V0VGlsZVkgPCB0aGlzLnJvd3NcclxuICAgICkge1xyXG4gICAgICBjb25zdCBzdGFydFRpbGVWYWx1ZSA9IHRoaXMubWFwW3RhcmdldFRpbGVZXVt0YXJnZXRUaWxlWF07XHJcbiAgICAgIGlmIChcclxuICAgICAgICB0YXJnZXRTYWZlVGlsZXMuaW5jbHVkZXMoc3RhcnRUaWxlVmFsdWUpICYmXHJcbiAgICAgICAgKCFleGNsdWRlTGlmdCB8fCBzdGFydFRpbGVWYWx1ZSAhPT0gVElMRV9MSUZUKVxyXG4gICAgICApIHtcclxuICAgICAgICAvLyDQldGB0LvQuCDRhtC10LvRjCAtINC70LjRhNGCINC4INC80Ysg0LXQs9C+INC90LUg0LjRgdC60LvRjtGH0LDQtdC8LCDRgtC+INGC0YDQtdCx0L7QstCw0L3QuNGPINC6IFwi0L7RgtC60YDRi9GC0L7RgdGC0LhcIiDQvNC+0LPRg9GCINCx0YvRgtGMINC90LjQttC1LCDRgi7Qui4g0Y3RgtC+INC00LvRjyBwYXRoZmluZGluZywg0LAg0L3QtSDRgdC/0LDQstC90LBcclxuICAgICAgICBjb25zdCBtaW5TaWRlc0ZvckluaXRpYWwgPSAyO1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIHRoaXMuaXNUaWxlT3BlbkVub3VnaChcclxuICAgICAgICAgICAgdGFyZ2V0VGlsZVgsXHJcbiAgICAgICAgICAgIHRhcmdldFRpbGVZLFxyXG4gICAgICAgICAgICBtaW5TaWRlc0ZvckluaXRpYWwsXHJcbiAgICAgICAgICAgIGF2b2lkT25lVGlsZVdpZGVQYXNzYWdlc1xyXG4gICAgICAgICAgKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgLy8gaWYgKGlzRGVidWdDdXJyZW50Q2FsbCkgY29uc29sZS5sb2coYCAgW2ZpbmROZWFyZXN0XSBTVUNDRVNTOiBUYXJnZXQgdGlsZSAoJHt0YXJnZXRUaWxlWH0sJHt0YXJnZXRUaWxlWX0pIGlzIHN1aXRhYmxlLmApO1xyXG4gICAgICAgICAgcmV0dXJuIHsgeDogKHRhcmdldFRpbGVYICsgMC41KSAqIHRoaXMudGlsZVNpemUsIHk6ICh0YXJnZXRUaWxlWSArIDAuNSkgKiB0aGlzLnRpbGVTaXplIH07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gMi4g0KDQsNC00LjQsNC70YzQvdGL0Lkg0L/QvtC40YHQulxyXG4gICAgZm9yIChsZXQgcmFkaXVzID0gMTsgcmFkaXVzIDw9IG1heFJhZGl1czsgcmFkaXVzKyspIHtcclxuICAgICAgLy8g0JXRgdC70Lgg0LjQt9Cx0LXQs9Cw0LXQvCDRg9C30LrQuNGFINC/0YDQvtGF0L7QtNC+0LIsINC00LvRjyDQsdC70LjQttCw0LnRiNC40YUg0YHQvtGB0LXQtNC10LkgKHJhZGl1cz0xKSDRgtGA0LXQsdGD0LXQvCDQsdC+0LvRjNGI0LUg0L7RgtC60YDRi9GC0YvRhSDRgdGC0L7RgNC+0L1cclxuICAgICAgY29uc3QgY3VycmVudFJhZGl1c01pbk9wZW5TaWRlcyA9IDI7XHJcbiAgICAgIC8vIGlmIChpc0RlYnVnQ3VycmVudENhbGwgJiYgcmFkaXVzID09PSAxKSBjb25zb2xlLmxvZyhgICBbZmluZE5lYXJlc3RdIFJhZGlhbCBzZWFyY2ggKHJhZGl1cyAxKSwgbWluT3BlblNpZGVzIGZvciBjaGVjazogJHtjdXJyZW50UmFkaXVzTWluT3BlblNpZGVzfWApO1xyXG5cclxuICAgICAgZm9yIChsZXQgZHkgPSAtcmFkaXVzOyBkeSA8PSByYWRpdXM7IGR5KyspIHtcclxuICAgICAgICBmb3IgKGxldCBkeCA9IC1yYWRpdXM7IGR4IDw9IHJhZGl1czsgZHgrKykge1xyXG4gICAgICAgICAgaWYgKE1hdGguYWJzKGR4KSA8IHJhZGl1cyAmJiBNYXRoLmFicyhkeSkgPCByYWRpdXMpIGNvbnRpbnVlOyAvLyDQotC+0LvRjNC60L4g0LPRgNCw0L3QuNGG0LAg0YLQtdC60YPRidC10LPQviDRgNCw0LTQuNGD0YHQsFxyXG4gICAgICAgICAgY29uc3QgY2hlY2tYID0gdGFyZ2V0VGlsZVggKyBkeDtcclxuICAgICAgICAgIGNvbnN0IGNoZWNrWSA9IHRhcmdldFRpbGVZICsgZHk7XHJcblxyXG4gICAgICAgICAgaWYgKGNoZWNrWCA8IDAgfHwgY2hlY2tYID49IHRoaXMuY29scyB8fCBjaGVja1kgPCAwIHx8IGNoZWNrWSA+PSB0aGlzLnJvd3MpIGNvbnRpbnVlOyAvLyDQkiDQv9GA0LXQtNC10LvQsNGFINC60LDRgNGC0YtcclxuXHJcbiAgICAgICAgICBjb25zdCB0aWxlVmFsdWUgPSB0aGlzLm1hcFtjaGVja1ldPy5bY2hlY2tYXTtcclxuICAgICAgICAgIGlmICh0YXJnZXRTYWZlVGlsZXMuaW5jbHVkZXModGlsZVZhbHVlKSAmJiAoIWV4Y2x1ZGVMaWZ0IHx8IHRpbGVWYWx1ZSAhPT0gVElMRV9MSUZUKSkge1xyXG4gICAgICAgICAgICAvLyDQn9C+0LTRhdC+0LTQuNGCINC70Lgg0YLQuNC/INGC0LDQudC70LBcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgIHRoaXMuaXNUaWxlT3BlbkVub3VnaChcclxuICAgICAgICAgICAgICAgIGNoZWNrWCxcclxuICAgICAgICAgICAgICAgIGNoZWNrWSxcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRSYWRpdXNNaW5PcGVuU2lkZXMsXHJcbiAgICAgICAgICAgICAgICBhdm9pZE9uZVRpbGVXaWRlUGFzc2FnZXNcclxuICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgIC8vIGlmIChpc0RlYnVnQ3VycmVudENhbGwpIGNvbnNvbGUubG9nKGAgIFtmaW5kTmVhcmVzdF0gU1VDQ0VTUzogUmFkaWFsIGZvdW5kICgke2NoZWNrWH0sJHtjaGVja1l9KSBhdCByYWRpdXMgJHtyYWRpdXN9LmApO1xyXG4gICAgICAgICAgICAgIHJldHVybiB7IHg6IChjaGVja1ggKyAwLjUpICogdGhpcy50aWxlU2l6ZSwgeTogKGNoZWNrWSArIDAuNSkgKiB0aGlzLnRpbGVTaXplIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyAzLiDQn9C+0LjRgdC6IEJGUyAo0LfQsNC/0LDRgdC90L7QuSDQstCw0YDQuNCw0L3RgilcclxuICAgIC8vIGlmIChpc0RlYnVnQ3VycmVudENhbGwpIGNvbnNvbGUud2FybihgICBbZmluZE5lYXJlc3RdIFJhZGlhbCBzZWFyY2ggZmFpbGVkIGZvciB0YXJnZXQgKCR7dGFyZ2V0VGlsZVh9LCR7dGFyZ2V0VGlsZVl9KS4gU3RhcnRpbmcgQkZTLi4uYCk7XHJcbiAgICBjb25zdCBiZnNNaW5PcGVuU2lkZXMgPSAyOyAvLyDQlNC70Y8gQkZTINGB0YLQsNC90LTQsNGA0YLQvdGL0LUgMiDRgdGC0L7RgNC+0L3Riywg0L3QviDRgSDQv9GA0L7QstC10YDQutC+0LkgYXZvaWRPbmVUaWxlV2lkZVBhc3NhZ2VzXHJcbiAgICBjb25zdCBxdWV1ZSA9IFtbdGFyZ2V0VGlsZVgsIHRhcmdldFRpbGVZXV07XHJcbiAgICBjb25zdCB2aXNpdGVkID0gbmV3IFNldChbYCR7dGFyZ2V0VGlsZVh9LCR7dGFyZ2V0VGlsZVl9YF0pO1xyXG4gICAgY29uc3QgZGlyZWN0aW9ucyA9IFtcclxuICAgICAgWzAsIC0xXSxcclxuICAgICAgWzAsIDFdLFxyXG4gICAgICBbLTEsIDBdLFxyXG4gICAgICBbMSwgMF0sXHJcbiAgICBdOyAvLyBOLCBTLCBXLCBFXHJcbiAgICAvLyDQlNC70Y8g0L/Rg9GC0LggQkZTINC80L7QttC90L4g0L/RgNC+0YXQvtC00LjRgtGMINGH0LXRgNC10Lcg0LvQuNGE0YIsINC00LDQttC1INC10YHQu9C4IGV4Y2x1ZGVMaWZ0PXRydWUgKNC80Ysg0L3QtSDRhdC+0YLQuNC8INC90LAg0L3QtdC8INCe0KHQotCQ0J3QntCS0JjQotCs0KHQrylcclxuICAgIGNvbnN0IGJmc1dhbGthYmxlUGF0aFRpbGVzID0gW1RJTEVfQ09SUklET1IsIFRJTEVfUk9PTV9GTE9PUiwgVElMRV9MSUZUXTtcclxuXHJcbiAgICB3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xyXG4gICAgICBjb25zdCBbY3VyclgsIGN1cnJZXSA9IHF1ZXVlLnNoaWZ0KCk7XHJcbiAgICAgIGZvciAoY29uc3QgW2R4LCBkeV0gb2YgZGlyZWN0aW9ucykge1xyXG4gICAgICAgIGNvbnN0IG5leHRYID0gY3VyclggKyBkeDtcclxuICAgICAgICBjb25zdCBuZXh0WSA9IGN1cnJZICsgZHk7XHJcbiAgICAgICAgY29uc3Qga2V5ID0gYCR7bmV4dFh9LCR7bmV4dFl9YDtcclxuXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgbmV4dFggPj0gMCAmJlxyXG4gICAgICAgICAgbmV4dFggPCB0aGlzLmNvbHMgJiZcclxuICAgICAgICAgIG5leHRZID49IDAgJiZcclxuICAgICAgICAgIG5leHRZIDwgdGhpcy5yb3dzICYmXHJcbiAgICAgICAgICAhdmlzaXRlZC5oYXMoa2V5KVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgY29uc3QgdGlsZVZhbHVlID0gdGhpcy5tYXBbbmV4dFldPy5bbmV4dFhdO1xyXG4gICAgICAgICAgdmlzaXRlZC5hZGQoa2V5KTtcclxuXHJcbiAgICAgICAgICBpZiAodGFyZ2V0U2FmZVRpbGVzLmluY2x1ZGVzKHRpbGVWYWx1ZSkgJiYgKCFleGNsdWRlTGlmdCB8fCB0aWxlVmFsdWUgIT09IFRJTEVfTElGVCkpIHtcclxuICAgICAgICAgICAgLy8g0J3QsNGI0LvQuCDQv9C+0LTRhdC+0LTRj9GJ0LjQuSDRgtC40L8g0YLQsNC50LvQsFxyXG4gICAgICAgICAgICBpZiAodGhpcy5pc1RpbGVPcGVuRW5vdWdoKG5leHRYLCBuZXh0WSwgYmZzTWluT3BlblNpZGVzLCBhdm9pZE9uZVRpbGVXaWRlUGFzc2FnZXMpKSB7XHJcbiAgICAgICAgICAgICAgLy8g0Jgg0L7QvSDQtNC+0YHRgtCw0YLQvtGH0L3QviDQvtGC0LrRgNGL0YJcclxuICAgICAgICAgICAgICAvLyBpZiAoaXNEZWJ1Z0N1cnJlbnRDYWxsKSBjb25zb2xlLmxvZyhgICBbZmluZE5lYXJlc3RdIFNVQ0NFU1M6IEJGUyBmb3VuZCAoJHtuZXh0WH0sJHtuZXh0WX0pLmApO1xyXG4gICAgICAgICAgICAgIHJldHVybiB7IHg6IChuZXh0WCArIDAuNSkgKiB0aGlzLnRpbGVTaXplLCB5OiAobmV4dFkgKyAwLjUpICogdGhpcy50aWxlU2l6ZSB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAvLyDQldGB0LvQuCDRgtCw0LnQuyDQv9GA0L7RhdC+0LTQuNC8INC00LvRjyBCRlMsINC00L7QsdCw0LLQu9GP0LXQvCDQsiDQvtGH0LXRgNC10LTRjFxyXG4gICAgICAgICAgaWYgKGJmc1dhbGthYmxlUGF0aFRpbGVzLmluY2x1ZGVzKHRpbGVWYWx1ZSkpIHtcclxuICAgICAgICAgICAgcXVldWUucHVzaChbbmV4dFgsIG5leHRZXSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gaWYgKGlzRGVidWdDdXJyZW50Q2FsbCkgY29uc29sZS5lcnJvcihgICBbZmluZE5lYXJlc3RdIEZBSUxVUkU6IE5vIHN1aXRhYmxlIHRpbGUgZm91bmQgZm9yIHRhcmdldCAoJHt0YXJnZXRUaWxlWH0sJHt0YXJnZXRUaWxlWX0pIGFmdGVyIGFsbCBzZWFyY2hlcy5gKTtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgZ2V0U3Bhd25Qb2ludEluUm9vbU9mTGlmdChsaWZ0VGlsZVgsIGxpZnRUaWxlWSwgcHJlZmVycmVkRGlzdGFuY2UgPSAyKSB7XHJcbiAgICBjb25zdCBpc0RlYnVnQ3VycmVudENhbGwgPSB0aGlzLmZsb29yTnVtYmVyID09PSBERUJVR19GTE9PUjtcclxuICAgIC8vIGlmIChpc0RlYnVnQ3VycmVudENhbGwpIGNvbnNvbGUubG9nKGBbUHJvY01hcCBGJHt0aGlzLmZsb29yTnVtYmVyfSBnZXRTcGF3blBvaW50SW5Sb29tT2ZMaWZ0XSBDYWxsZWQgZm9yIGxpZnQgYXQgKCR7bGlmdFRpbGVYfSwgJHtsaWZ0VGlsZVl9KSwgcHJlZmVycmVkRGlzdDogJHtwcmVmZXJyZWREaXN0YW5jZX1gKTtcclxuXHJcbiAgICBsZXQgYXNzb2NpYXRlZFJvb20gPSBudWxsO1xyXG4gICAgbGV0IGVudHJ5UG9pbnRUb1Jvb20gPSBudWxsOyAvLyB7eCwgeX0gLSDQutC70LXRgtC60LAg0L/QvtC70LAg0LrQvtC80L3QsNGC0YssINC/0YDQuNC80YvQutCw0Y7RidCw0Y8g0Log0LvQuNGE0YLRgy/QutC+0YDQuNC00L7RgNGDINC70LjRhNGC0LBcclxuICAgIGxldCBkaXJlY3Rpb25Gcm9tU291cmNlVG9FbnRyeVBvaW50ID0gbnVsbDsgLy8ge2R4LCBkeX0gLSDQvdCw0L/RgNCw0LLQu9C10L3QuNC1INC+0YIg0LjRgdGC0L7Rh9C90LjQutCwICjQu9C40YTRgiDQuNC70Lgg0LrQvtGA0LjQtNC+0YAg0YMg0LvQuNGE0YLQsCkg0LogZW50cnlQb2ludFRvUm9vbVxyXG5cclxuICAgIGNvbnN0IGNoZWNrTmVpZ2hib3JzID0gW1xyXG4gICAgICB7IGR4OiAwLCBkeTogLTEgfSxcclxuICAgICAgeyBkeDogMCwgZHk6IDEgfSxcclxuICAgICAgeyBkeDogLTEsIGR5OiAwIH0sXHJcbiAgICAgIHsgZHg6IDEsIGR5OiAwIH0sXHJcbiAgICBdOyAvLyBOLCBTLCBXLCBFXHJcblxyXG4gICAgLy8g0K3RgtCw0L8gMTog0JvQuNGE0YIg0L3QsNC/0YDRj9C80YPRjiDQv9GA0LjQvNGL0LrQsNC10YIg0Log0LrQvtC80L3QsNGC0LU/XHJcbiAgICAvLyDQmtC70LXRgtC60LAg0LvQuNGE0YLQsCBsaWZ0VGlsZVgsIGxpZnRUaWxlWSDQnNCe0JbQldCiINCx0YvRgtGMIFRJTEVfQ09SUklET1Ig0LIgdGhpcy5tYXAsINC10YHQu9C4INC/0YPRgtGMINCx0YvQuyDQv9GA0L7Qu9C+0LbQtdC9INC6INC90LXQuS5cclxuICAgIGZvciAoY29uc3QgbiBvZiBjaGVja05laWdoYm9ycykge1xyXG4gICAgICBjb25zdCBhZGpYID0gbGlmdFRpbGVYICsgbi5keDsgLy8g0KHQvtGB0LXQtCDQutC70LXRgtC60Lgg0LvQuNGE0YLQsFxyXG4gICAgICBjb25zdCBhZGpZID0gbGlmdFRpbGVZICsgbi5keTtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIGFkalggPj0gMCAmJlxyXG4gICAgICAgIGFkalggPCB0aGlzLmNvbHMgJiZcclxuICAgICAgICBhZGpZID49IDAgJiZcclxuICAgICAgICBhZGpZIDwgdGhpcy5yb3dzICYmXHJcbiAgICAgICAgdGhpcy5tYXBbYWRqWV0/LlthZGpYXSA9PT0gVElMRV9ST09NX0ZMT09SXHJcbiAgICAgICkge1xyXG4gICAgICAgIGZvciAoY29uc3Qgcm9vbSBvZiB0aGlzLnJvb21zKSB7XHJcbiAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIGFkalggPj0gcm9vbS54ICYmXHJcbiAgICAgICAgICAgIGFkalggPCByb29tLnggKyByb29tLndpZHRoICYmXHJcbiAgICAgICAgICAgIGFkalkgPj0gcm9vbS55ICYmXHJcbiAgICAgICAgICAgIGFkalkgPCByb29tLnkgKyByb29tLmhlaWdodFxyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGFzc29jaWF0ZWRSb29tID0gcm9vbTtcclxuICAgICAgICAgICAgZW50cnlQb2ludFRvUm9vbSA9IHsgeDogYWRqWCwgeTogYWRqWSB9OyAvLyDQrdGC0L4g0Lgg0LXRgdGC0Ywg0YLQvtGH0LrQsCDQstGF0L7QtNCwINCyINC60L7QvNC90LDRgtGDXHJcbiAgICAgICAgICAgIGRpcmVjdGlvbkZyb21Tb3VyY2VUb0VudHJ5UG9pbnQgPSB7IGR4OiBuLmR4LCBkeTogbi5keSB9OyAvLyDQndCw0L/RgNCw0LLQu9C10L3QuNC1INC+0YIg0LvQuNGE0YLQsCDQuiDRjdGC0L7QuSDRgtC+0YfQutC1XHJcbiAgICAgICAgICAgIC8vIGlmIChpc0RlYnVnQ3VycmVudENhbGwpIGNvbnNvbGUubG9nKGAgIFtnZXRTcGF3blBvaW50SW5Sb29tT2ZMaWZ0XSBMaWZ0ICgke2xpZnRUaWxlWH0sJHtsaWZ0VGlsZVl9KSBkaXJlY3RseSBhZGphY2VudCB0byByb29tIGZsb29yIGF0ICgke2Fkalh9LCR7YWRqWX0pLiBSb29tIElEOiAke3Jvb20uaWQgfHwgJ04vQSd9YCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAoYXNzb2NpYXRlZFJvb20pIGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIC8vINCt0YLQsNC/IDI6INCV0YHQu9C4INC90LUg0L3QsNC/0YDRj9C80YPRjiwg0YLQviDRh9C10YDQtdC3INC+0LTQvdGDINC60LvQtdGC0LrRgyDQutC+0YDQuNC00L7RgNCwP1xyXG4gICAgaWYgKCFhc3NvY2lhdGVkUm9vbSkge1xyXG4gICAgICAvLyBpZiAoaXNEZWJ1Z0N1cnJlbnRDYWxsKSBjb25zb2xlLmxvZyhgICBbZ2V0U3Bhd25Qb2ludEluUm9vbU9mTGlmdF0gTGlmdCBub3QgZGlyZWN0bHkgYWRqYWNlbnQuIENoZWNraW5nIG5laWdoYm9ycyBvZiBuZWlnaGJvcnMgKHZpYSAxIGNvcnJpZG9yIHRpbGUpLi4uYCk7XHJcbiAgICAgIGZvciAoY29uc3Qgbk91dGVyIG9mIGNoZWNrTmVpZ2hib3JzKSB7XHJcbiAgICAgICAgLy8gbk91dGVyIC0g0L3QsNC/0YDQsNCy0LvQtdC90LjQtSDQuiDQstC+0LfQvNC+0LbQvdC+0Lkg0LrQu9C10YLQutC1INC60L7RgNC40LTQvtGA0LAg0YDRj9C00L7QvCDRgSDQu9C40YTRgtC+0LxcclxuICAgICAgICBjb25zdCBjb3JyaWRvclggPSBsaWZ0VGlsZVggKyBuT3V0ZXIuZHg7XHJcbiAgICAgICAgY29uc3QgY29ycmlkb3JZID0gbGlmdFRpbGVZICsgbk91dGVyLmR5O1xyXG5cclxuICAgICAgICAvLyDQn9GA0L7QstC10YDRj9C10LwsINGH0YLQviDRjdGC0LAg0L/RgNC+0LzQtdC20YPRgtC+0YfQvdCw0Y8g0LrQu9C10YLQutCwIC0g0LrQvtGA0LjQtNC+0YBcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICBjb3JyaWRvclggPCAwIHx8XHJcbiAgICAgICAgICBjb3JyaWRvclggPj0gdGhpcy5jb2xzIHx8XHJcbiAgICAgICAgICBjb3JyaWRvclkgPCAwIHx8XHJcbiAgICAgICAgICBjb3JyaWRvclkgPj0gdGhpcy5yb3dzIHx8XHJcbiAgICAgICAgICB0aGlzLm1hcFtjb3JyaWRvclldPy5bY29ycmlkb3JYXSAhPT0gVElMRV9DT1JSSURPUlxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IG5Jbm5lciBvZiBjaGVja05laWdoYm9ycykge1xyXG4gICAgICAgICAgLy8gbklubmVyIC0g0L3QsNC/0YDQsNCy0LvQtdC90LjQtSDQvtGCINC60LvQtdGC0LrQuCDQutC+0YDQuNC00L7RgNCwINC6INCy0L7Qt9C80L7QttC90L7QuSDQutC+0LzQvdCw0YLQtVxyXG4gICAgICAgICAgLy8g0J3QtSDRgdC80L7RgtGA0LjQvCDQvtCx0YDQsNGC0L3QviDQvdCwINC40YHRhdC+0LTQvdGD0Y4g0LrQu9C10YLQutGDINC70LjRhNGC0LBcclxuICAgICAgICAgIGlmIChuSW5uZXIuZHggPT09IC1uT3V0ZXIuZHggJiYgbklubmVyLmR5ID09PSAtbk91dGVyLmR5KSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICBjb25zdCBwb3RlbnRpYWxSb29tWCA9IGNvcnJpZG9yWCArIG5Jbm5lci5keDtcclxuICAgICAgICAgIGNvbnN0IHBvdGVudGlhbFJvb21ZID0gY29ycmlkb3JZICsgbklubmVyLmR5O1xyXG5cclxuICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgcG90ZW50aWFsUm9vbVggPj0gMCAmJlxyXG4gICAgICAgICAgICBwb3RlbnRpYWxSb29tWCA8IHRoaXMuY29scyAmJlxyXG4gICAgICAgICAgICBwb3RlbnRpYWxSb29tWSA+PSAwICYmXHJcbiAgICAgICAgICAgIHBvdGVudGlhbFJvb21ZIDwgdGhpcy5yb3dzICYmXHJcbiAgICAgICAgICAgIHRoaXMubWFwW3BvdGVudGlhbFJvb21ZXT8uW3BvdGVudGlhbFJvb21YXSA9PT0gVElMRV9ST09NX0ZMT09SXHJcbiAgICAgICAgICApIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCByb29tIG9mIHRoaXMucm9vbXMpIHtcclxuICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICBwb3RlbnRpYWxSb29tWCA+PSByb29tLnggJiZcclxuICAgICAgICAgICAgICAgIHBvdGVudGlhbFJvb21YIDwgcm9vbS54ICsgcm9vbS53aWR0aCAmJlxyXG4gICAgICAgICAgICAgICAgcG90ZW50aWFsUm9vbVkgPj0gcm9vbS55ICYmXHJcbiAgICAgICAgICAgICAgICBwb3RlbnRpYWxSb29tWSA8IHJvb20ueSArIHJvb20uaGVpZ2h0XHJcbiAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICBhc3NvY2lhdGVkUm9vbSA9IHJvb207XHJcbiAgICAgICAgICAgICAgICBlbnRyeVBvaW50VG9Sb29tID0geyB4OiBwb3RlbnRpYWxSb29tWCwgeTogcG90ZW50aWFsUm9vbVkgfTsgLy8g0K3RgtC+INGC0L7Rh9C60LAg0LLRhdC+0LTQsCDQsiDQutC+0LzQvdCw0YLRg1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uRnJvbVNvdXJjZVRvRW50cnlQb2ludCA9IHsgZHg6IG5Jbm5lci5keCwgZHk6IG5Jbm5lci5keSB9OyAvLyDQndCw0L/RgNCw0LLQu9C10L3QuNC1INC+0YIg0LrQvtGA0LjQtNC+0YDQsCDQuiDRjdGC0L7QuSDRgtC+0YfQutC1XHJcbiAgICAgICAgICAgICAgICAvLyBpZiAoaXNEZWJ1Z0N1cnJlbnRDYWxsKSBjb25zb2xlLmxvZyhgICBbZ2V0U3Bhd25Qb2ludEluUm9vbU9mTGlmdF0gTGlmdCBuZWFyIHJvb20gdmlhIGNvcnJpZG9yICgke2NvcnJpZG9yWH0sJHtjb3JyaWRvcll9KS4gRW50cnkgdG8gcm9vbSBhdCAoJHtwb3RlbnRpYWxSb29tWH0sJHtwb3RlbnRpYWxSb29tWX0pLiBSb29tIElEOiAke3Jvb20uaWQgfHwgJ04vQSd9YCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChhc3NvY2lhdGVkUm9vbSkgYnJlYWs7IC8vINCd0LDRiNC70Lgg0LrQvtC80L3QsNGC0YMg0YfQtdGA0LXQtyBuSW5uZXJcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFzc29jaWF0ZWRSb29tKSBicmVhazsgLy8g0J3QsNGI0LvQuCDQutC+0LzQvdCw0YLRgyDRh9C10YDQtdC3IG5PdXRlclxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFhc3NvY2lhdGVkUm9vbSB8fCAhZW50cnlQb2ludFRvUm9vbSB8fCAhZGlyZWN0aW9uRnJvbVNvdXJjZVRvRW50cnlQb2ludCkge1xyXG4gICAgICAvLyAgIGlmIChpc0RlYnVnQ3VycmVudENhbGwpIGNvbnNvbGUud2FybihgICBbZ2V0U3Bhd25Qb2ludEluUm9vbU9mTGlmdF0gQ291bGQgbm90IGZpbmQgYW4gYXNzb2NpYXRlZCByb29tIG9yIGVudHJ5IHBvaW50IGZvciBsaWZ0IGF0ICgke2xpZnRUaWxlWH0sJHtsaWZ0VGlsZVl9KS5gKTtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0KLQtdC/0LXRgNGMIGRpcmVjdGlvbkZyb21Tb3VyY2VUb0VudHJ5UG9pbnQgLSDRjdGC0L4g0L3QsNC/0YDQsNCy0LvQtdC90LjQtSDQvtGCIFwi0LTQstC10YDQuFwiIChlbnRyeVBvaW50VG9Sb29tKSDQktCT0JvQo9CR0Kwg0LrQvtC80L3QsNGC0YsuXHJcbiAgICBjb25zdCBpbndhcmREeCA9IGRpcmVjdGlvbkZyb21Tb3VyY2VUb0VudHJ5UG9pbnQuZHg7XHJcbiAgICBjb25zdCBpbndhcmREeSA9IGRpcmVjdGlvbkZyb21Tb3VyY2VUb0VudHJ5UG9pbnQuZHk7XHJcblxyXG4gICAgLy8g0JjRidC10Lwg0YLQvtGH0LrRgyDQvdCwIChwcmVmZXJyZWREaXN0YW5jZSAtIDEpINGI0LDQs9C+0LIg0LLQs9C70YPQsdGMINC+0YIgZW50cnlQb2ludFRvUm9vbVxyXG4gICAgLy8gcHJlZmVycmVkRGlzdGFuY2UgPSAyIC0+IGRpc3QgPSAxICgxINGI0LDQsyDQvtGCINCy0YXQvtC00LApLCBkaXN0ID0gMCAo0YHQsNC8INCy0YXQvtC0KVxyXG4gICAgLy8gcHJlZmVycmVkRGlzdGFuY2UgPSAxIC0+IGRpc3QgPSAwICjRgdCw0Lwg0LLRhdC+0LQpXHJcbiAgICBmb3IgKGxldCBkaXN0T2Zmc2V0ID0gcHJlZmVycmVkRGlzdGFuY2UgLSAxOyBkaXN0T2Zmc2V0ID49IDA7IGRpc3RPZmZzZXQtLSkge1xyXG4gICAgICBjb25zdCBzcGF3bkNhbmRpZGF0ZVRpbGVYID0gZW50cnlQb2ludFRvUm9vbS54ICsgaW53YXJkRHggKiBkaXN0T2Zmc2V0O1xyXG4gICAgICBjb25zdCBzcGF3bkNhbmRpZGF0ZVRpbGVZID0gZW50cnlQb2ludFRvUm9vbS55ICsgaW53YXJkRHkgKiBkaXN0T2Zmc2V0O1xyXG4gICAgICAvLyBpZiAoaXNEZWJ1Z0N1cnJlbnRDYWxsKSBjb25zb2xlLmxvZyhgICBbZ2V0U3Bhd25Qb2ludEluUm9vbU9mTGlmdF0gVHJ5aW5nIGNhbmRpZGF0ZSAoJHtzcGF3bkNhbmRpZGF0ZVRpbGVYfSwke3NwYXduQ2FuZGlkYXRlVGlsZVl9KSBhdCBkaXN0T2Zmc2V0ICR7ZGlzdE9mZnNldH0gZnJvbSBlbnRyeSAke0pTT04uc3RyaW5naWZ5KGVudHJ5UG9pbnRUb1Jvb20pfWApO1xyXG5cclxuICAgICAgaWYgKFxyXG4gICAgICAgIHNwYXduQ2FuZGlkYXRlVGlsZVggPj0gYXNzb2NpYXRlZFJvb20ueCAmJlxyXG4gICAgICAgIHNwYXduQ2FuZGlkYXRlVGlsZVggPCBhc3NvY2lhdGVkUm9vbS54ICsgYXNzb2NpYXRlZFJvb20ud2lkdGggJiZcclxuICAgICAgICBzcGF3bkNhbmRpZGF0ZVRpbGVZID49IGFzc29jaWF0ZWRSb29tLnkgJiZcclxuICAgICAgICBzcGF3bkNhbmRpZGF0ZVRpbGVZIDwgYXNzb2NpYXRlZFJvb20ueSArIGFzc29jaWF0ZWRSb29tLmhlaWdodCAmJlxyXG4gICAgICAgIHRoaXMubWFwW3NwYXduQ2FuZGlkYXRlVGlsZVldPy5bc3Bhd25DYW5kaWRhdGVUaWxlWF0gPT09IFRJTEVfUk9PTV9GTE9PUlxyXG4gICAgICApIHtcclxuICAgICAgICAvLyDQn9GA0L7QstC10YDQutCwOiDQtdGB0YLRjCDQu9C4INC10YnQtSDQvtC00L3QsCDQutC70LXRgtC60LAg0L/QvtC70LAg0LrQvtC80L3QsNGC0Ysg0JfQkCDRjdGC0L7QuSDQutCw0L3QtNC40LTQsNGC0YHQutC+0Lkg0YLQvtGH0LrQvtC5ICjQsiDRgtC+0Lwg0LbQtSDQvdCw0L/RgNCw0LLQu9C10L3QuNC4IGlud2FyZClcclxuICAgICAgICAvLyDQrdGC0L4g0LPQsNGA0LDQvdGC0LjRgNGD0LXRgiwg0YfRgtC+INC80Ysg0L3QtSDRgdC/0LDQstC90LjQvNGB0Y8g0LLQv9C70L7RgtC90YPRjiDQuiBcItC00LDQu9GM0L3QtdC5XCIg0YHRgtC10L3QtSDQutC+0LzQvdCw0YLRiywg0LXRgdC70Lgg0LrQvtC80L3QsNGC0LAg0YPQt9C60LDRjy5cclxuICAgICAgICBjb25zdCBmdXJ0aGVySW5YID0gc3Bhd25DYW5kaWRhdGVUaWxlWCArIGlud2FyZER4O1xyXG4gICAgICAgIGNvbnN0IGZ1cnRoZXJJblkgPSBzcGF3bkNhbmRpZGF0ZVRpbGVZICsgaW53YXJkRHk7XHJcbiAgICAgICAgY29uc3QgaGFzU3BhY2VCZWhpbmQgPVxyXG4gICAgICAgICAgZnVydGhlckluWCA+PSBhc3NvY2lhdGVkUm9vbS54ICYmXHJcbiAgICAgICAgICBmdXJ0aGVySW5YIDwgYXNzb2NpYXRlZFJvb20ueCArIGFzc29jaWF0ZWRSb29tLndpZHRoICYmXHJcbiAgICAgICAgICBmdXJ0aGVySW5ZID49IGFzc29jaWF0ZWRSb29tLnkgJiZcclxuICAgICAgICAgIGZ1cnRoZXJJblkgPCBhc3NvY2lhdGVkUm9vbS55ICsgYXNzb2NpYXRlZFJvb20uaGVpZ2h0ICYmXHJcbiAgICAgICAgICB0aGlzLm1hcFtmdXJ0aGVySW5ZXT8uW2Z1cnRoZXJJblhdID09PSBUSUxFX1JPT01fRkxPT1I7XHJcblxyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIHRoaXMuaXNUaWxlT3BlbkVub3VnaChzcGF3bkNhbmRpZGF0ZVRpbGVYLCBzcGF3bkNhbmRpZGF0ZVRpbGVZLCAyLCB0cnVlKSAmJlxyXG4gICAgICAgICAgaGFzU3BhY2VCZWhpbmRcclxuICAgICAgICApIHtcclxuICAgICAgICAgIC8vICAgaWYgKGlzRGVidWdDdXJyZW50Q2FsbCkgY29uc29sZS5sb2coYCAgW2dldFNwYXduUG9pbnRJblJvb21PZkxpZnRdIFNVQ0NFU1M6IEZvdW5kIHN1aXRhYmxlIHNwYXduIHBvaW50IGluIHJvb206IFRpbGUgKCR7c3Bhd25DYW5kaWRhdGVUaWxlWH0sJHtzcGF3bkNhbmRpZGF0ZVRpbGVZfSkuIEhhcyBzcGFjZSBiZWhpbmQ6ICR7aGFzU3BhY2VCZWhpbmR9YCk7XHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB4OiAoc3Bhd25DYW5kaWRhdGVUaWxlWCArIDAuNSkgKiB0aGlzLnRpbGVTaXplLFxyXG4gICAgICAgICAgICB5OiAoc3Bhd25DYW5kaWRhdGVUaWxlWSArIDAuNSkgKiB0aGlzLnRpbGVTaXplLFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gaWYgKGlzRGVidWdDdXJyZW50Q2FsbCkgY29uc29sZS5sb2coYCAgW2dldFNwYXduUG9pbnRJblJvb21PZkxpZnRdIENhbmRpZGF0ZSAoJHtzcGF3bkNhbmRpZGF0ZVRpbGVYfSwke3NwYXduQ2FuZGlkYXRlVGlsZVl9KSBub3Qgc3VpdGFibGUuIE9wZW5Fbm91Z2g6ICR7dGhpcy5pc1RpbGVPcGVuRW5vdWdoKHNwYXduQ2FuZGlkYXRlVGlsZVgsIHNwYXduQ2FuZGlkYXRlVGlsZVksIDIsIHRydWUpfSwgSGFzU3BhY2VCZWhpbmQ6ICR7aGFzU3BhY2VCZWhpbmR9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGlmIChpc0RlYnVnQ3VycmVudENhbGwpIGNvbnNvbGUubG9nKGAgIFtnZXRTcGF3blBvaW50SW5Sb29tT2ZMaWZ0XSBDYW5kaWRhdGUgKCR7c3Bhd25DYW5kaWRhdGVUaWxlWH0sJHtzcGF3bkNhbmRpZGF0ZVRpbGVZfSkgaXMgbm90IHZhbGlkIHJvb20gZmxvb3Igb3Igb3V0IG9mIHJvb20gYm91bmRzLmApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0JXRgdC70Lgg0L3QtSDQvdCw0YjQu9C4INC40LTQtdCw0LvRjNC90YPRjiDRgtC+0YfQutGDINGBINC/0YDQvtGB0YLRgNCw0L3RgdGC0LLQvtC8INC30LAg0YHQv9C40L3QvtC5LCDQv9GA0L7QsdGD0LXQvCDRgdCw0LwgZW50cnlQb2ludFRvUm9vbSAo0LXRgdC70Lgg0L7QvSDQv9C+0LTRhdC+0LTQuNGCKVxyXG4gICAgaWYgKHRoaXMuaXNUaWxlT3BlbkVub3VnaChlbnRyeVBvaW50VG9Sb29tLngsIGVudHJ5UG9pbnRUb1Jvb20ueSwgMiwgdHJ1ZSkpIHtcclxuICAgICAgLy8gaWYgKGlzRGVidWdDdXJyZW50Q2FsbCkgY29uc29sZS5sb2coYCAgW2dldFNwYXduUG9pbnRJblJvb21PZkxpZnRdIEZhbGxiYWNrOiBVc2luZyBlbnRyeSBwb2ludCB0byByb29tICgke2VudHJ5UG9pbnRUb1Jvb20ueH0sJHtlbnRyeVBvaW50VG9Sb29tLnl9KSBhcyBpdCdzIG9wZW4gZW5vdWdoLmApO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHg6IChlbnRyeVBvaW50VG9Sb29tLnggKyAwLjUpICogdGhpcy50aWxlU2l6ZSxcclxuICAgICAgICB5OiAoZW50cnlQb2ludFRvUm9vbS55ICsgMC41KSAqIHRoaXMudGlsZVNpemUsXHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gaWYgKGlzRGVidWdDdXJyZW50Q2FsbCkgY29uc29sZS53YXJuKGAgIFtnZXRTcGF3blBvaW50SW5Sb29tT2ZMaWZ0XSBGQUlMVVJFOiBDb3VsZCBub3QgZmluZCBhbnkgc3VpdGFibGUgc3Bhd24gcG9pbnQgaW5zaWRlIHJvb20gZm9yIGxpZnQgYXQgKCR7bGlmdFRpbGVYfSwke2xpZnRUaWxlWX0pLmApO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICBmaW5kTmVhcmJ5VW5hbnN3ZXJlZEJvb2sod29ybGRYLCB3b3JsZFksIHJhZGl1cyA9IHRoaXMudGlsZVNpemUgKiAwLjgpIHtcclxuICAgIGlmICghdGhpcy5ib29rcyB8fCB0aGlzLmJvb2tzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XHJcbiAgICBsZXQgY2xvc2VzdEJvb2sgPSBudWxsO1xyXG4gICAgbGV0IG1pbkRpc3RhbmNlU3EgPSByYWRpdXMgKiByYWRpdXM7XHJcblxyXG4gICAgZm9yIChjb25zdCBib29rIG9mIHRoaXMuYm9va3MpIHtcclxuICAgICAgaWYgKCFib29rLmlzQ29sbGVjdGVkKSB7XHJcbiAgICAgICAgLy8g0J/RgNC10LTQv9C+0LvQsNCz0LDQtdC8LCDRh9GC0L4g0YMgQm9vayDQtdGB0YLRjCDRgdCy0L7QudGB0YLQstC+IGlzQ29sbGVjdGVkXHJcbiAgICAgICAgY29uc3QgZHggPSBib29rLnggLSB3b3JsZFg7XHJcbiAgICAgICAgY29uc3QgZHkgPSBib29rLnkgLSB3b3JsZFk7XHJcbiAgICAgICAgY29uc3QgZGlzdGFuY2VTcSA9IGR4ICogZHggKyBkeSAqIGR5O1xyXG4gICAgICAgIGlmIChkaXN0YW5jZVNxIDwgbWluRGlzdGFuY2VTcSkge1xyXG4gICAgICAgICAgbWluRGlzdGFuY2VTcSA9IGRpc3RhbmNlU3E7XHJcbiAgICAgICAgICBjbG9zZXN0Qm9vayA9IGJvb2s7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY2xvc2VzdEJvb2s7XHJcbiAgfVxyXG5cclxuICBtYXJrQm9va0FzQ29sbGVjdGVkKGJvb2tUb0NvbGxlY3QpIHtcclxuICAgIGlmICghYm9va1RvQ29sbGVjdCB8fCAhdGhpcy5ib29rcykgcmV0dXJuIGZhbHNlO1xyXG4gICAgY29uc3QgYm9vayA9IHRoaXMuYm9va3MuZmluZCgoYikgPT4gYi5pZCA9PT0gYm9va1RvQ29sbGVjdC5pZCk7IC8vINCY0YnQtdC8INC/0L4gSURcclxuICAgIGlmIChib29rICYmICFib29rLmlzQ29sbGVjdGVkKSB7XHJcbiAgICAgIGJvb2suaXNDb2xsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAvLyBjb25zb2xlLmxvZyhgW1Byb2NNYXAgRiR7dGhpcy5mbG9vck51bWJlcn1dIEJvb2sgJHtib29rLmlkfSBtYXJrZWQgYXMgY29sbGVjdGVkLmApO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIGZpbmROZWFyYnlMaWZ0KHdvcmxkWCwgd29ybGRZLCByYWRpdXMgPSB0aGlzLnRpbGVTaXplICogTElGVF9JTlRFUkFDVElPTl9SQURJVVNfTVVMVElQTElFUikge1xyXG4gICAgaWYgKCF0aGlzLmxpZnRQb3NpdGlvbikgcmV0dXJuIG51bGw7XHJcbiAgICAvLyDQoNCw0YHRgdGC0L7Rj9C90LjQtSDQvtGCINGG0LXQvdGC0YDQsCDQv9C10YDRgdC+0L3QsNC20LAg0LTQviDRhtC10L3RgtGA0LAg0LrQu9C10YLQutC4INC70LjRhNGC0LBcclxuICAgIGNvbnN0IGR4ID0gd29ybGRYIC0gdGhpcy5saWZ0UG9zaXRpb24ueDsgLy8gbGlmdFBvc2l0aW9uLnggLSDQvNC40YDQvtCy0YvQtSDQutC+0L7RgNC00LjQvdCw0YLRi1xyXG4gICAgY29uc3QgZHkgPSB3b3JsZFkgLSB0aGlzLmxpZnRQb3NpdGlvbi55O1xyXG4gICAgY29uc3QgZGlzdGFuY2VTcSA9IGR4ICogZHggKyBkeSAqIGR5O1xyXG4gICAgcmV0dXJuIGRpc3RhbmNlU3EgPCByYWRpdXMgKiByYWRpdXMgPyB0aGlzLmxpZnRQb3NpdGlvbiA6IG51bGw7XHJcbiAgfVxyXG5cclxuICBnZXRMaWZ0UG9zaXRpb24oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5saWZ0UG9zaXRpb247IC8vINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCIHt4LCB5LCB0aWxlWCwgdGlsZVl9XHJcbiAgfVxyXG5cclxuICBkcmF3KGN0eCwgYm9va0ltYWdlID0gbnVsbCkge1xyXG4gICAgaWYgKCF0aGlzLm1hcCB8fCAhdGhpcy5yZW5kZXJlcikgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IG1hcERhdGEgPSB7XHJcbiAgICAgIG1hcDogdGhpcy5tYXAsXHJcbiAgICAgIHJvb21zOiB0aGlzLnJvb21zLFxyXG4gICAgICBib29rczogdGhpcy5ib29rcywgLy8g0J/QtdGA0LXQtNCw0LXQvCDQsNC60YLRg9Cw0LvRjNC90YvQuSDQvNCw0YHRgdC40LIg0LrQvdC40LNcclxuICAgICAgbGlmdFBvc2l0aW9uOiB0aGlzLmxpZnRQb3NpdGlvbiwgLy8g0J/QtdGA0LXQtNCw0LXQvCB0aWxlWCwgdGlsZVkg0Lgg0LzQuNGA0L7QstGL0LUgeCx5INC70LjRhNGC0LBcclxuICAgICAgb2Zmc2V0WDogdGhpcy5vZmZzZXRYLFxyXG4gICAgICBvZmZzZXRZOiB0aGlzLm9mZnNldFksXHJcbiAgICAgIGNvbHM6IHRoaXMuY29scyxcclxuICAgICAgcm93czogdGhpcy5yb3dzLFxyXG4gICAgICB0aWxlU2l6ZTogdGhpcy50aWxlU2l6ZSxcclxuICAgIH07XHJcbiAgICB0aGlzLnJlbmRlcmVyLmRyYXcoY3R4LCBtYXBEYXRhLCBib29rSW1hZ2UpOyAvLyBib29rSW1hZ2UgLSDRjdGC0L4g0YHQv9GA0LDQudGCINC00LvRjyDQutC90LjQs1xyXG4gIH1cclxuXHJcbiAgbG9nTWFwR3JpZCgpIHtcclxuICAgIGlmICghdGhpcy5tYXApIHtcclxuICAgICAgY29uc29sZS5sb2coYFtQcm9jTWFwIEYke3RoaXMuZmxvb3JOdW1iZXJ9XSBNYXAgZ3JpZCBub3QgYXZhaWxhYmxlLmApO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZyhgLS0tIE1hcCBHcmlkIEZsb29yICR7dGhpcy5mbG9vck51bWJlcn0gKCR7dGhpcy5jb2xzfXgke3RoaXMucm93c30pIC0tLWApO1xyXG4gICAgbGV0IGhlYWRlciA9ICcgICAnOyAvLyDQlNC70Y8g0L3QvtC80LXRgNC+0LIg0YHRgtC+0LvQsdGG0L7QslxyXG4gICAgZm9yIChsZXQgYyA9IDA7IGMgPCB0aGlzLmNvbHM7IGMrKykgaGVhZGVyICs9IGMgJSAxMCA9PT0gMCA/IE1hdGguZmxvb3IoYyAvIDEwKSA6ICcgJztcclxuICAgIGNvbnNvbGUubG9nKGhlYWRlcik7XHJcbiAgICBoZWFkZXIgPSAnICAgJztcclxuICAgIGZvciAobGV0IGMgPSAwOyBjIDwgdGhpcy5jb2xzOyBjKyspIGhlYWRlciArPSBjICUgMTA7XHJcbiAgICBjb25zb2xlLmxvZyhoZWFkZXIpO1xyXG5cclxuICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGhpcy5yb3dzOyB5KyspIHtcclxuICAgICAgY29uc3Qgcm93TnVtID0geS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcgJyk7XHJcbiAgICAgIGNvbnN0IHJvd1N0cmluZyA9IHRoaXMubWFwW3ldXHJcbiAgICAgICAgLm1hcCgodGlsZSkgPT4ge1xyXG4gICAgICAgICAgc3dpdGNoICh0aWxlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgVElMRV9XQUxMOlxyXG4gICAgICAgICAgICAgIHJldHVybiAnIyc7IC8vINCh0YLQtdC90LBcclxuICAgICAgICAgICAgY2FzZSBUSUxFX0NPUlJJRE9SOlxyXG4gICAgICAgICAgICAgIHJldHVybiAnLic7IC8vINCa0L7RgNC40LTQvtGAXHJcbiAgICAgICAgICAgIGNhc2UgVElMRV9ST09NX0ZMT09SOlxyXG4gICAgICAgICAgICAgIHJldHVybiAnICc7IC8vINCf0L7QuyDQutC+0LzQvdCw0YLRi1xyXG4gICAgICAgICAgICBjYXNlIFRJTEVfTElGVDpcclxuICAgICAgICAgICAgICByZXR1cm4gJ0wnOyAvLyDQm9C40YTRgiAo0YXQvtGC0Y8g0L7QvSDQvNC+0LbQtdGCINCx0YvRgtGMINC/0LXRgNC10LfQsNC/0LjRgdCw0L0g0LrQvtGA0LjQtNC+0YDQvtC8INCyIHRoaXMubWFwKVxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgIHJldHVybiAnPyc7IC8vINCd0LXQuNC30LLQtdGB0YLQvdGL0Lkg0YLQsNC50LtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5qb2luKCcnKTtcclxuICAgICAgY29uc29sZS5sb2coYCR7cm93TnVtfSAke3Jvd1N0cmluZ31gKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLmxpZnRQb3NpdGlvbikge1xyXG4gICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICBgTGlmdCBhY3R1YWwgdGlsZSB0eXBlIGluIG1hcFske3RoaXMubGlmdFBvc2l0aW9uLnRpbGVZfV1bJHt0aGlzLmxpZnRQb3NpdGlvbi50aWxlWH1dOiAke1xyXG4gICAgICAgICAgdGhpcy5tYXBbdGhpcy5saWZ0UG9zaXRpb24udGlsZVldPy5bdGhpcy5saWZ0UG9zaXRpb24udGlsZVhdXHJcbiAgICAgICAgfWBcclxuICAgICAgKTtcclxuICAgICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgYExpZnQgcmVwb3J0ZWQgYXQgdGlsZTogKCR7dGhpcy5saWZ0UG9zaXRpb24udGlsZVh9LCAke3RoaXMubGlmdFBvc2l0aW9uLnRpbGVZfSlgXHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmxvZygnTGlmdCBwb3NpdGlvbiBub3Qgc2V0LicpO1xyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coYC0tLSBFbmQgTWFwIEdyaWQgRmxvb3IgJHt0aGlzLmZsb29yTnVtYmVyfSAtLS1gKTtcclxuICB9XHJcbn1cclxuIiwiLy8gc3JjL2NvcmUvTGV2ZWwuanNcclxuaW1wb3J0IHsgUHJvY2VkdXJhbE1hcCB9IGZyb20gJy4uL21hcC9Qcm9jZWR1cmFsTWFwLmpzJztcclxuLy8gUmVtb3ZlZCBUUkFOU0lUSU9OX1pPTkVfUkFESVVTX01VTFRJUExJRVIgaW1wb3J0XHJcblxyXG4vKipcclxuICog0JrQu9Cw0YHRgSBMZXZlbCDRg9C/0YDQsNCy0LvRj9C10YIg0YLQtdC60YPRidC40Lwg0Y3RgtCw0LbQvtC8INC4INC30LDQs9GA0YPQt9C60L7QuSDQutCw0YDRgi5cclxuICog0JvQvtCz0LjQutCwINC30L7QvSDQv9C10YDQtdGF0L7QtNCwICh0cmFuc2l0aW9uIHpvbmVzKSDRg9C00LDQu9C10L3QsCwg0YIu0LouINC70LjRhNGCINGA0LDQsdC+0YLQsNC10YIg0LjQvdCw0YfQtS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBMZXZlbCB7XHJcbiAgLyoqXHJcbiAgICog0KHQvtC30LTQsNC10YIg0Y3QutC30LXQvNC/0LvRj9GAIExldmVsLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbbWluRmxvb3I9MV0gLSDQndC+0LzQtdGAINGB0LDQvNC+0LPQviDQvdC40LbQvdC10LPQviDRjdGC0LDQttCwLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbbWF4Rmxvb3I9M10gLSDQndC+0LzQtdGAINGB0LDQvNC+0LPQviDQstC10YDRhdC90LXQs9C+INGN0YLQsNC20LAuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IobWluRmxvb3IgPSAxLCBtYXhGbG9vciA9IDMpIHtcclxuICAgIGlmIChtaW5GbG9vciA+PSBtYXhGbG9vcikge1xyXG4gICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgYExldmVsIGNvbnN0cnVjdG9yOiBtaW5GbG9vciAoJHttaW5GbG9vcn0pIG11c3QgYmUgbGVzcyB0aGFuIG1heEZsb29yICgke21heEZsb29yfSkuIFVzaW5nIGRlZmF1bHRzIDEgYW5kIDMuYFxyXG4gICAgICApO1xyXG4gICAgICB0aGlzLm1pbkZsb29yID0gMTtcclxuICAgICAgdGhpcy5tYXhGbG9vciA9IDM7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLm1pbkZsb29yID0gbWluRmxvb3I7XHJcbiAgICAgIHRoaXMubWF4Rmxvb3IgPSBtYXhGbG9vcjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmN1cnJlbnRGbG9vciA9IHRoaXMubWluRmxvb3I7XHJcbiAgICB0aGlzLmN1cnJlbnRNYXAgPSBudWxsOyAvLyBJbnN0YW5jZSBvZiBQcm9jZWR1cmFsTWFwXHJcbiAgICAvLyB0aGlzLnRyYW5zaXRpb25ab25lcyA9IFtdOyAvLyBSRU1PVkVEIC0gTm8gbG9uZ2VyIG5lZWRlZCBmb3IgbGlmdHNcclxuICAgIHRoaXMudGlsZVNpemUgPSAzMjsgLy8gRGVmYXVsdCwgd2lsbCBiZSB1cGRhdGVkIGZyb20gbWFwXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDQkNGB0LjQvdGF0YDQvtC90L3QviDQt9Cw0LPRgNGD0LbQsNC10YIgKNCz0LXQvdC10YDQuNGA0YPQtdGCKSDQutCw0YDRgtGDINC00LvRjyDRg9C60LDQt9Cw0L3QvdC+0LPQviDRjdGC0LDQttCwLlxyXG4gICAqIEFzc3VtZXMgUHJvY2VkdXJhbE1hcCBjb25zdHJ1Y3RvciBoYW5kbGVzIGdlbmVyYXRpb24sIGxpZnQgcGxhY2VtZW50LFxyXG4gICAqIGFuZCB0aHJvd3Mgb24gY3JpdGljYWwgZmFpbHVyZSAoZS5nLiwgdW5yZWFjaGFibGUgbGlmdCkuXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGZsb29yTnVtYmVyIC0g0J3QvtC80LXRgCDRjdGC0LDQttCwINC00LvRjyDQt9Cw0LPRgNGD0LfQutC4LlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjYW52YXNXaWR0aCAtINCo0LjRgNC40L3QsCDQutCw0L3QstCw0YHQsC5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gY2FudmFzSGVpZ2h0IC0g0JLRi9GB0L7RgtCwINC60LDQvdCy0LDRgdCwLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSDQn9GA0L7QvNC40YEsINC60L7RgtC+0YDRi9C5INGA0LDQt9GA0LXRiNCw0LXRgtGB0Y8g0L/QvtGB0LvQtSDQt9Cw0LPRgNGD0LfQutC4INGN0YLQsNC20LAuXHJcbiAgICogQHRocm93cyB7RXJyb3J9IElmIFByb2NlZHVyYWxNYXAgZ2VuZXJhdGlvbiBvciB2YWxpZGF0aW9uIGZhaWxzLlxyXG4gICAqL1xyXG4gIGFzeW5jIGxvYWRGbG9vcihmbG9vck51bWJlciwgY2FudmFzV2lkdGgsIGNhbnZhc0hlaWdodCkge1xyXG4gICAgaWYgKGZsb29yTnVtYmVyIDwgdGhpcy5taW5GbG9vciB8fCBmbG9vck51bWJlciA+IHRoaXMubWF4Rmxvb3IpIHtcclxuICAgICAgY29uc3QgZXJyb3JNc2cgPSBgQXR0ZW1wdGVkIHRvIGxvYWQgaW52YWxpZCBmbG9vcjogJHtmbG9vck51bWJlcn0uIEFsbG93ZWQgcmFuZ2U6IFske3RoaXMubWluRmxvb3J9LSR7dGhpcy5tYXhGbG9vcn1dYDtcclxuICAgICAgY29uc29sZS5lcnJvcihgW0xldmVsXSAke2Vycm9yTXNnfWApO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNc2cpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKGBbTGV2ZWxdIExvYWRpbmcgZmxvb3IgJHtmbG9vck51bWJlcn0uLi5gKTtcclxuICAgIHRoaXMuY3VycmVudEZsb29yID0gZmxvb3JOdW1iZXI7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gUHJvY2VkdXJhbE1hcCBjb25zdHJ1Y3RvciBub3cgaGFuZGxlcyBnZW5lcmF0aW9uIEFORCB2YWxpZGF0aW9uIChsaWtlIGxpZnQgcmVhY2hhYmlsaXR5KS5cclxuICAgICAgLy8gSXQgd2lsbCB0aHJvdyBhbiBlcnJvciBpZiBnZW5lcmF0aW9uIGZhaWxzIGNyaXRpY2FsbHkuXHJcbiAgICAgIHRoaXMuY3VycmVudE1hcCA9IG5ldyBQcm9jZWR1cmFsTWFwKFxyXG4gICAgICAgIGNhbnZhc1dpZHRoLFxyXG4gICAgICAgIGNhbnZhc0hlaWdodCxcclxuICAgICAgICB0aGlzLmN1cnJlbnRGbG9vcixcclxuICAgICAgICB0aGlzLm1pbkZsb29yLFxyXG4gICAgICAgIHRoaXMubWF4Rmxvb3JcclxuICAgICAgKTtcclxuXHJcbiAgICAgIC8vIEJhc2ljIHZhbGlkYXRpb24gYWZ0ZXIgY3JlYXRpb24gKGVuc3VyZSBtYXAgb2JqZWN0IGxvb2tzIHJlYXNvbmFibGUpXHJcbiAgICAgIGlmIChcclxuICAgICAgICAhdGhpcy5jdXJyZW50TWFwLnRpbGVTaXplIHx8XHJcbiAgICAgICAgIXRoaXMuY3VycmVudE1hcC5tYXAgfHxcclxuICAgICAgICAhdGhpcy5jdXJyZW50TWFwLmJvb2tzIHx8IC8vIGJvb2tzIHNob3VsZCBleGlzdCAoZXZlbiBpZiBlbXB0eSlcclxuICAgICAgICAhdGhpcy5jdXJyZW50TWFwLmdldExpZnRQb3NpdGlvbigpIC8vIExpZnQgcG9zaXRpb24gTVVTVCBleGlzdCBhZnRlciBzdWNjZXNzZnVsIGdlbmVyYXRpb25cclxuICAgICAgKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgICAgJ1tMZXZlbF0gUHJvY2VkdXJhbE1hcCBpbnN0YW5jZSBpcyBtaXNzaW5nIGVzc2VudGlhbCBwcm9wZXJ0aWVzIGFmdGVyIGNyZWF0aW9uICh0aWxlU2l6ZSwgbWFwLCBib29rcywgb3IgbGlmdFBvc2l0aW9uKS4nXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy50aWxlU2l6ZSA9IHRoaXMuY3VycmVudE1hcC50aWxlU2l6ZTtcclxuICAgICAgY29uc3QgbGlmdFBvcyA9IHRoaXMuY3VycmVudE1hcC5nZXRMaWZ0UG9zaXRpb24oKTtcclxuICAgICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgYCAgW0xldmVsXSBNYXAgZ2VuZXJhdGVkIGZvciBmbG9vciAke3RoaXMuY3VycmVudEZsb29yfS4gVGlsZVNpemU6ICR7dGhpcy50aWxlU2l6ZX0uIExpZnQgYXQgdGlsZSgke2xpZnRQb3MudGlsZVh9LCAke2xpZnRQb3MudGlsZVl9KS5gXHJcbiAgICAgICk7XHJcblxyXG4gICAgICAvLyBSRU1PVkVEOiBjcmVhdGVUcmFuc2l0aW9uWm9uZXMoKSBjYWxsIGlzIG5vIGxvbmdlciBuZWVkZWQuXHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICBgW0xldmVsXSBGbG9vciAke2Zsb29yTnVtYmVyfSBsb2FkZWQgc3VjY2Vzc2Z1bGx5LiBNYXAgc2l6ZTogJHt0aGlzLmN1cnJlbnRNYXAuY29sc314JHt0aGlzLmN1cnJlbnRNYXAucm93c30uICR7dGhpcy5jdXJyZW50TWFwLmJvb2tzLmxlbmd0aH0gYm9va3MgcGxhY2VkLmBcclxuICAgICAgKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgYFtMZXZlbF0gQ1JJVElDQUwgRkFJTFVSRSBsb2FkaW5nIGZsb29yICR7Zmxvb3JOdW1iZXJ9OiBGYWlsZWQgdG8gY3JlYXRlIG9yIHZhbGlkYXRlIFByb2NlZHVyYWxNYXA6YCxcclxuICAgICAgICBlcnJvclxyXG4gICAgICApO1xyXG4gICAgICB0aGlzLmN1cnJlbnRNYXAgPSBudWxsOyAvLyBFbnN1cmUgc3RhdGUgaXMgY2xlYW4gb24gZmFpbHVyZVxyXG4gICAgICAvLyBSZXRocm93IHRoZSBlcnJvciBmb3IgR2FtZS5qcyB0byBoYW5kbGUgKGxpa2VseSBzaG93IGVycm9yIG1lc3NhZ2UgYW5kIHN0b3ApXHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgICBgTWFwIGdlbmVyYXRpb24vdmFsaWRhdGlvbiBmYWlsZWQgZm9yIGZsb29yICR7Zmxvb3JOdW1iZXJ9LiAke2Vycm9yLm1lc3NhZ2UgfHwgZXJyb3J9YFxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldHVybiBhIHJlc29sdmVkIHByb21pc2UgKGdlbmVyYXRpb24gaXRzZWxmIGlzIHN5bmNocm9ub3VzIHdpdGhpbiB0aGUgY29uc3RydWN0b3IpXHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgfVxyXG5cclxuICAvLyBSRU1PVkVEOiBjcmVhdGVUcmFuc2l0aW9uWm9uZXMoKSBtZXRob2QgaXMgb2Jzb2xldGUuXHJcblxyXG4gIC8vIFJFTU9WRUQ6IGdldEN1cnJlbnRUcmFuc2l0aW9uWm9uZSgpIG1ldGhvZCBpcyBvYnNvbGV0ZS4gTGlmdCBpbnRlcmFjdGlvbiBjaGVja2VkIGRpZmZlcmVudGx5LlxyXG5cclxuICAvKipcclxuICAgKiDQktC+0LfQstGA0LDRidCw0LXRgiDQvNCw0YHRgdC40LIg0L7QsdGK0LXQutGC0L7QsiDQutC90LjQsyDQvdCwINGC0LXQutGD0YnQtdC5INC60LDRgNGC0LUuXHJcbiAgICogQHJldHVybnMge0FycmF5PG9iamVjdD59INCc0LDRgdGB0LjQsiDQvtCx0YrQtdC60YLQvtCyINC60L3QuNCzLlxyXG4gICAqL1xyXG4gIGdldEN1cnJlbnRCb29rcygpIHtcclxuICAgIHJldHVybiB0aGlzLmN1cnJlbnRNYXAgPyB0aGlzLmN1cnJlbnRNYXAuYm9va3MgOiBbXTtcclxuICB9XHJcbn1cclxuIiwiLy8gc3JjL2NvcmUvR2FtZVJlbmRlcmVyLmpzXHJcbi8vIChObyBjaGFuZ2VzIG5lZWRlZCBmcm9tIHByZXZpb3VzIHByb3ZpZGVkIHZlcnNpb24sIGFzc3VtaW5nIGl0IHdhcyBjb3JyZWN0KVxyXG5pbXBvcnQgeyBDaGFyYWN0ZXIgfSBmcm9tICcuL0NoYXJhY3Rlci5qcyc7IC8vIE9wdGlvbmFsIGZvciB0eXBlIGNoZWNrc1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVSZW5kZXJlciB7XHJcbiAgY29uc3RydWN0b3IoZ2FtZSkge1xyXG4gICAgdGhpcy5nYW1lID0gZ2FtZTtcclxuICAgIHRoaXMuY2FudmFzID0gbnVsbDtcclxuICAgIHRoaXMuY3R4ID0gbnVsbDtcclxuICB9XHJcblxyXG4gIGluaXRpYWxpemVDYW52YXMoKSB7XHJcbiAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lLWNhbnZhcycpO1xyXG4gICAgaWYgKCF0aGlzLmNhbnZhcykgdGhyb3cgbmV3IEVycm9yKFwiW1JlbmRlcmVyXSBDYW52YXMgJ2dhbWUtY2FudmFzJyBub3QgZm91bmQhXCIpO1xyXG4gICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgaWYgKCF0aGlzLmN0eCkgdGhyb3cgbmV3IEVycm9yKCdbUmVuZGVyZXJdIEZhaWxlZCB0byBnZXQgMkQgY29udGV4dC4nKTtcclxuICAgIHRoaXMuY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5yZXNpemVDYW52YXMoKTtcclxuICAgIGNvbnNvbGUubG9nKCdbUmVuZGVyZXJdIENhbnZhcyBpbml0aWFsaXplZC4nKTtcclxuICAgIHJldHVybiB7IGNhbnZhczogdGhpcy5jYW52YXMsIGN0eDogdGhpcy5jdHggfTtcclxuICB9XHJcblxyXG4gIHJlc2l6ZUNhbnZhcygpIHtcclxuICAgIGlmICghdGhpcy5jYW52YXMpIHJldHVybjtcclxuICAgIHRoaXMuY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XHJcbiAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICBpZiAodGhpcy5nYW1lLmNoYXJhY3RlciAmJiB0aGlzLmdhbWUubGV2ZWw/LmN1cnJlbnRNYXApIHtcclxuICAgICAgdGhpcy5jZW50ZXJDYW1lcmFPbkNoYXJhY3RlcigpO1xyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coYFtSZW5kZXJlcl0gQ2FudmFzIHJlc2l6ZWQgdG8gJHt0aGlzLmNhbnZhcy53aWR0aH14JHt0aGlzLmNhbnZhcy5oZWlnaHR9YCk7XHJcbiAgfVxyXG5cclxuICBjZW50ZXJDYW1lcmFPbkNoYXJhY3RlcigpIHtcclxuICAgIGNvbnN0IHsgY2hhcmFjdGVyLCBsZXZlbCwgY2FudmFzIH0gPSB0aGlzLmdhbWU7XHJcbiAgICBpZiAoY2hhcmFjdGVyICYmIGxldmVsPy5jdXJyZW50TWFwICYmIGNhbnZhcykge1xyXG4gICAgICBsZXZlbC5jdXJyZW50TWFwLm9mZnNldFggPSBNYXRoLmZsb29yKGNhbnZhcy53aWR0aCAvIDIgLSBjaGFyYWN0ZXIueCk7XHJcbiAgICAgIGxldmVsLmN1cnJlbnRNYXAub2Zmc2V0WSA9IE1hdGguZmxvb3IoY2FudmFzLmhlaWdodCAvIDIgLSBjaGFyYWN0ZXIueSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBkcmF3RnJhbWUoKSB7XHJcbiAgICBpZiAoIXRoaXMuY3R4IHx8ICF0aGlzLmNhbnZhcykgcmV0dXJuO1xyXG4gICAgdGhpcy5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xyXG4gICAgY29uc3QgbWFwID0gdGhpcy5nYW1lLmxldmVsPy5jdXJyZW50TWFwO1xyXG4gICAgY29uc3QgY2hhciA9IHRoaXMuZ2FtZS5jaGFyYWN0ZXI7XHJcbiAgICBpZiAobWFwKSB7XHJcbiAgICAgIG1hcC5kcmF3KHRoaXMuY3R4LCB0aGlzLmdhbWUuYm9va0ltYWdlKTtcclxuICAgIH1cclxuICAgIGlmIChjaGFyICYmIG1hcCkge1xyXG4gICAgICBjaGFyLmRyYXcobWFwLm9mZnNldFgsIG1hcC5vZmZzZXRZKTtcclxuICAgIH1cclxuICAgIC8vIHRoaXMuZHJhd0RlYnVnSW5mbygpOyAvLyBPcHRpb25hbFxyXG4gIH1cclxuXHJcbiAgZHJhd1dpblNjcmVlbigpIHtcclxuICAgIGlmICghdGhpcy5jdHggfHwgIXRoaXMuY2FudmFzKSByZXR1cm47XHJcbiAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSAncmdiYSgwLCAwLCAwLCAwLjgpJztcclxuICAgIHRoaXMuY3R4LmZpbGxSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xyXG4gICAgdGhpcy5jdHgudGV4dEFsaWduID0gJ2NlbnRlcic7XHJcbiAgICB0aGlzLmN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcclxuICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9ICdsaW1lJztcclxuICAgIC8vIENvbnNpZGVyIHVzaW5nIGEgZm9udCBhdmFpbGFibGUgb24gbW9zdCBzeXN0ZW1zIG9yIGluY2x1ZGUgb25lIHZpYSBDU1MgQGZvbnQtZmFjZVxyXG4gICAgdGhpcy5jdHguZm9udCA9ICdjbGFtcCgzMnB4LCA4dncsIDQ4cHgpIFwiUHJlc3MgU3RhcnQgMlBcIiwgY3Vyc2l2ZSwgQXJpYWwsIHNhbnMtc2VyaWYnO1xyXG4gICAgdGhpcy5jdHguZmlsbFRleHQoJ1pXWUNJxJhTVFdPIScsIHRoaXMuY2FudmFzLndpZHRoIC8gMiwgdGhpcy5jYW52YXMuaGVpZ2h0IC8gMiAtIDgwKTsgLy8gVHJhbnNsYXRlZFxyXG4gICAgdGhpcy5jdHguZmlsbFN0eWxlID0gJ3doaXRlJztcclxuICAgIHRoaXMuY3R4LmZvbnQgPSAnY2xhbXAoMjRweCwgNXZ3LCAzMnB4KSBBcmlhbCwgc2Fucy1zZXJpZic7XHJcbiAgICB0aGlzLmN0eC5maWxsVGV4dChcclxuICAgICAgYFplYnJhbm8gd3N6eXN0a2llICR7dGhpcy5nYW1lLnRhcmdldEJvb2tzVG9XaW59IGtzacSFxbxraSFgLCAvLyBUcmFuc2xhdGVkXHJcbiAgICAgIHRoaXMuY2FudmFzLndpZHRoIC8gMixcclxuICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0IC8gMlxyXG4gICAgKTtcclxuICAgIHRoaXMuY3R4LmZvbnQgPSAnY2xhbXAoMThweCwgNHZ3LCAyNHB4KSBBcmlhbCwgc2Fucy1zZXJpZic7XHJcbiAgICB0aGlzLmN0eC5maWxsVGV4dCgnVW5pd2Vyc3l0ZXQgdXJhdG93YW55IScsIHRoaXMuY2FudmFzLndpZHRoIC8gMiwgdGhpcy5jYW52YXMuaGVpZ2h0IC8gMiArIDYwKTsgLy8gVHJhbnNsYXRlZFxyXG4gICAgdGhpcy5jdHguZm9udCA9ICdjbGFtcCgxNHB4LCAzdncsIDE4cHgpIEFyaWFsLCBzYW5zLXNlcmlmJztcclxuICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9ICcjY2NjJztcclxuICAgIHRoaXMuY3R4LmZpbGxUZXh0KFxyXG4gICAgICAnKE9kxZt3aWXFvCBzdHJvbsSZLCBhYnkgemFncmHEhyBwb25vd25pZSknLCAvLyBUcmFuc2xhdGVkXHJcbiAgICAgIHRoaXMuY2FudmFzLndpZHRoIC8gMixcclxuICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0IC0gNTBcclxuICAgICk7XHJcbiAgfVxyXG4gIC8vIGRyYXdEZWJ1Z0luZm8oKSB7IC4uLiB9IC8vIE9wdGlvbmFsIGRlYnVnIGRyYXdpbmdcclxufVxyXG4iLCIvLyBzcmMvY29yZS9HYW1lcGxheU1hbmFnZXIuanNcclxuaW1wb3J0IHtcclxuICBHYW1lU3RhdGUsXHJcbiAgTElGVF9DT09MRE9XTl9NUyxcclxuICBUSUxFX1dBTEwsXHJcbiAgVElMRV9DT1JSSURPUixcclxuICBUSUxFX1JPT01fRkxPT1IsXHJcbiAgVElMRV9MSUZULFxyXG4gIHF1ZXN0aW9ucyxcclxufSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xyXG5pbXBvcnQgeyBVSU1hbmFnZXIgfSBmcm9tICcuLi9VSS9VSU1hbmFnZXIuanMnO1xyXG5pbXBvcnQgeyBDaGFyYWN0ZXIgfSBmcm9tICcuL0NoYXJhY3Rlci5qcyc7IC8vINCj0LHQtdC00LjRgtC10YHRjCwg0YfRgtC+IENoYXJhY3RlciDQuNC80L/QvtGA0YLQuNGA0L7QstCw0L1cclxuXHJcbmNvbnN0IERFQlVHX0ZMT09SX0dNID0gMzsgLy8g0JTQu9GPINC70L7Qs9C+0LIgR2FtZXBsYXlNYW5hZ2VyXHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZXBsYXlNYW5hZ2VyIHtcclxuICBjb25zdHJ1Y3RvcihnYW1lKSB7XHJcbiAgICB0aGlzLmdhbWUgPSBnYW1lO1xyXG4gICAgdGhpcy5oYW5kbGVBbnN3ZXIgPSB0aGlzLmhhbmRsZUFuc3dlci5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5oYW5kbGVGbG9vclNlbGVjdGlvbiA9IHRoaXMuaGFuZGxlRmxvb3JTZWxlY3Rpb24uYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZSh0aW1lc3RhbXApIHtcclxuICAgIGlmICh0aGlzLmdhbWUuZ2FtZVN0YXRlID09PSBHYW1lU3RhdGUuUExBWUlORykge1xyXG4gICAgICB0aGlzLnVwZGF0ZVBsYXlpbmdTdGF0ZSh0aW1lc3RhbXApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdXBkYXRlUGxheWluZ1N0YXRlKHRpbWVzdGFtcCkge1xyXG4gICAgY29uc3QgY2hhciA9IHRoaXMuZ2FtZS5jaGFyYWN0ZXI7XHJcbiAgICBpZiAoIXRoaXMuZ2FtZS5sZXZlbD8uY3VycmVudE1hcCB8fCAhY2hhciB8fCAhdGhpcy5nYW1lLmlucHV0TWFuYWdlcikgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IHsgbW92ZWQgfSA9IHRoaXMuaGFuZGxlTW92ZW1lbnQoKTtcclxuXHJcbiAgICBpZiAoY2hhciAmJiB0eXBlb2YgY2hhci51cGRhdGVBbmltYXRpb24gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgY2hhci51cGRhdGVBbmltYXRpb24odGltZXN0YW1wKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIW1vdmVkICYmIHRoaXMuZ2FtZS5nYW1lU3RhdGUgPT09IEdhbWVTdGF0ZS5QTEFZSU5HKSB7XHJcbiAgICAgIHRoaXMuaGFuZGxlSW50ZXJhY3Rpb25zKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVNb3ZlbWVudCgpIHtcclxuICAgIGNvbnN0IGNoYXIgPSB0aGlzLmdhbWUuY2hhcmFjdGVyO1xyXG4gICAgY29uc3QgbWFwID0gdGhpcy5nYW1lLmxldmVsLmN1cnJlbnRNYXA7XHJcbiAgICBjb25zdCBpbnB1dCA9IHRoaXMuZ2FtZS5pbnB1dE1hbmFnZXI7XHJcbiAgICBpZiAoIWNoYXIgfHwgIW1hcCB8fCAhaW5wdXQpIHJldHVybiB7IG1vdmVkOiBmYWxzZSB9O1xyXG5cclxuICAgIGNvbnN0IGRpcmVjdGlvbiA9IGlucHV0LmdldElucHV0RGlyZWN0aW9uKCk7XHJcbiAgICBsZXQgZHggPSBkaXJlY3Rpb24ueCAqIGNoYXIuc3BlZWQ7XHJcbiAgICBsZXQgZHkgPSBkaXJlY3Rpb24ueSAqIGNoYXIuc3BlZWQ7XHJcblxyXG4gICAgY29uc3QgaW50ZW5kZWRNb3ZlID0gZHggIT09IDAgfHwgZHkgIT09IDA7XHJcbiAgICBsZXQgYWN0dWFsTW92ZVggPSAwO1xyXG4gICAgbGV0IGFjdHVhbE1vdmVZID0gMDtcclxuICAgIGxldCBtb3ZlZCA9IGZhbHNlO1xyXG5cclxuICAgIGlmIChpbnRlbmRlZE1vdmUpIHtcclxuICAgICAgY29uc3QgY2FuTW92ZVggPSBkeCAhPT0gMCAmJiAhdGhpcy5jaGVja0NvbGxpc2lvbihjaGFyLnggKyBkeCwgY2hhci55KTtcclxuICAgICAgY29uc3QgY2FuTW92ZVkgPSBkeSAhPT0gMCAmJiAhdGhpcy5jaGVja0NvbGxpc2lvbihjaGFyLngsIGNoYXIueSArIGR5KTtcclxuXHJcbiAgICAgIGlmIChjYW5Nb3ZlWCkgYWN0dWFsTW92ZVggPSBkeDtcclxuICAgICAgaWYgKGNhbk1vdmVZKSBhY3R1YWxNb3ZlWSA9IGR5O1xyXG5cclxuICAgICAgLy8g0KPQu9GD0YfRiNC10L3QvdCw0Y8g0L7QsdGA0LDQsdC+0YLQutCwINC00LjQsNCz0L7QvdCw0LvRjNC90L7QuSDQutC+0LvQu9C40LfQuNC4ICjRgdC60L7Qu9GM0LbQtdC90LjQtSlcclxuICAgICAgaWYgKGR4ICE9PSAwICYmIGR5ICE9PSAwKSB7XHJcbiAgICAgICAgLy8g0JXRgdC70Lgg0L/Ri9GC0LDQu9C40YHRjCDQtNCy0LjQs9Cw0YLRjNGB0Y8g0L/QviDQtNC40LDQs9C+0L3QsNC70LhcclxuICAgICAgICBpZiAodGhpcy5jaGVja0NvbGxpc2lvbihjaGFyLnggKyBkeCwgY2hhci55ICsgZHkpKSB7XHJcbiAgICAgICAgICAvLyDQmCDQtNC40LDQs9C+0L3QsNC70Ywg0LfQsNCx0LvQvtC60LjRgNC+0LLQsNC90LBcclxuICAgICAgICAgIGlmIChjYW5Nb3ZlWCAmJiAhY2FuTW92ZVkpIHtcclxuICAgICAgICAgICAgLy8g0JzQvtC20LXQvCDQv9C+IFgsINC90L4g0L3QtSDQv9C+IFkgKNC10YHQu9C4INCx0Ysg0LTQstC40LPQsNC70LjRgdGMINGC0L7Qu9GM0LrQviDQv9C+IFkpXHJcbiAgICAgICAgICAgIGFjdHVhbE1vdmVZID0gMDsgLy8g0JTQstC40LPQsNC10LzRgdGPINGC0L7Qu9GM0LrQviDQv9C+IFhcclxuICAgICAgICAgIH0gZWxzZSBpZiAoY2FuTW92ZVkgJiYgIWNhbk1vdmVYKSB7XHJcbiAgICAgICAgICAgIC8vINCc0L7QttC10Lwg0L/QviBZLCDQvdC+INC90LUg0L/QviBYXHJcbiAgICAgICAgICAgIGFjdHVhbE1vdmVYID0gMDsgLy8g0JTQstC40LPQsNC10LzRgdGPINGC0L7Qu9GM0LrQviDQv9C+IFlcclxuICAgICAgICAgIH0gZWxzZSBpZiAoIWNhbk1vdmVYICYmICFjYW5Nb3ZlWSkge1xyXG4gICAgICAgICAgICAvLyDQndC1INC80L7QttC10Lwg0L3QuCDQv9C+IFgsINC90Lgg0L/QviBZINC/0L4g0L7RgtC00LXQu9GM0L3QvtGB0YLQuFxyXG4gICAgICAgICAgICBhY3R1YWxNb3ZlWCA9IDA7XHJcbiAgICAgICAgICAgIGFjdHVhbE1vdmVZID0gMDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC8vINCV0YHQu9C4INC80L7QttC10Lwg0Lgg0L/QviBYINC4INC/0L4gWSDQvtGC0LTQtdC70YzQvdC+LCDQvdC+INC90LUg0L/QviDQtNC40LDQs9C+0L3QsNC70LgsINGC0L4gYWN0dWFsTW92ZVgg0LggYWN0dWFsTW92ZVkg0YPQttC1INGD0YHRgtCw0L3QvtCy0LvQtdC90Ysg0L/RgNCw0LLQuNC70YzQvdC+XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoYWN0dWFsTW92ZVggIT09IDAgfHwgYWN0dWFsTW92ZVkgIT09IDApIHtcclxuICAgICAgICBjaGFyLnggKz0gYWN0dWFsTW92ZVg7XHJcbiAgICAgICAgY2hhci55ICs9IGFjdHVhbE1vdmVZO1xyXG4gICAgICAgIG1vdmVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgaWYgKE1hdGguYWJzKGFjdHVhbE1vdmVYKSA+PSBNYXRoLmFicyhhY3R1YWxNb3ZlWSkpIHtcclxuICAgICAgICAgIGlmIChhY3R1YWxNb3ZlWCAhPT0gMClcclxuICAgICAgICAgICAgY2hhci5jdXJyZW50RGlyZWN0aW9uID1cclxuICAgICAgICAgICAgICBhY3R1YWxNb3ZlWCA+IDAgPyBDaGFyYWN0ZXIuRGlyZWN0aW9uLlJJR0hUIDogQ2hhcmFjdGVyLkRpcmVjdGlvbi5MRUZUO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZiAoYWN0dWFsTW92ZVkgIT09IDApXHJcbiAgICAgICAgICAgIGNoYXIuY3VycmVudERpcmVjdGlvbiA9XHJcbiAgICAgICAgICAgICAgYWN0dWFsTW92ZVkgPiAwID8gQ2hhcmFjdGVyLkRpcmVjdGlvbi5ET1dOIDogQ2hhcmFjdGVyLkRpcmVjdGlvbi5VUDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGNoYXIuaXNNb3ZpbmcgPSBtb3ZlZDtcclxuICAgIHJldHVybiB7IG1vdmVkIH07XHJcbiAgfVxyXG5cclxuICBjaGVja0NvbGxpc2lvbih0YXJnZXRYLCB0YXJnZXRZKSB7XHJcbiAgICBjb25zdCBtYXAgPSB0aGlzLmdhbWUubGV2ZWw/LmN1cnJlbnRNYXA7XHJcbiAgICBjb25zdCBjaGFyID0gdGhpcy5nYW1lLmNoYXJhY3RlcjtcclxuICAgIGlmICghbWFwIHx8ICFjaGFyKSByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICBjb25zdCBjb2xsaXNpb25Cb3ggPSBjaGFyLmdldENvbGxpc2lvbkJveCh0YXJnZXRYLCB0YXJnZXRZKTtcclxuICAgIC8vINCa0LvRjtGH0LXQstGL0LUg0YLQvtGH0LrQuCDQutC+0LvQu9Cw0LnQtNC10YDQsCDQtNC70Y8g0L/RgNC+0LLQtdGA0LrQuFxyXG4gICAgY29uc3QgcG9pbnRzVG9DaGVjayA9IFtcclxuICAgICAgeyB4OiBjb2xsaXNpb25Cb3gubGVmdCwgeTogY29sbGlzaW9uQm94LnRvcCB9LCAvLyDQm9C10LLRi9C5INCy0LXRgNGF0L3QuNC5XHJcbiAgICAgIHsgeDogY29sbGlzaW9uQm94LnJpZ2h0LCB5OiBjb2xsaXNpb25Cb3gudG9wIH0sIC8vINCf0YDQsNCy0YvQuSDQstC10YDRhdC90LjQuVxyXG4gICAgICB7IHg6IGNvbGxpc2lvbkJveC5sZWZ0LCB5OiBjb2xsaXNpb25Cb3guYm90dG9tIH0sIC8vINCb0LXQstGL0Lkg0L3QuNC20L3QuNC5XHJcbiAgICAgIHsgeDogY29sbGlzaW9uQm94LnJpZ2h0LCB5OiBjb2xsaXNpb25Cb3guYm90dG9tIH0sIC8vINCf0YDQsNCy0YvQuSDQvdC40LbQvdC40LlcclxuICAgICAgLy8g0JTQvtC/0L7Qu9C90LjRgtC10LvRjNC90YvQtSDRgtC+0YfQutC4INC00LvRjyDQsdC+0LvQtdC1INGC0L7Rh9C90L7QuSDQv9GA0L7QstC10YDQutC4LCDQvtGB0L7QsdC10L3QvdC+INC00LvRjyDRg9C30LrQuNGFINC/0YDQvtGF0L7QtNC+0LJcclxuICAgICAgeyB4OiB0YXJnZXRYLCB5OiBjb2xsaXNpb25Cb3gudG9wIH0sIC8vINCm0LXQvdGC0YAg0LLQtdGA0YXQvdC40LlcclxuICAgICAgeyB4OiB0YXJnZXRYLCB5OiBjb2xsaXNpb25Cb3guYm90dG9tIH0sIC8vINCm0LXQvdGC0YAg0L3QuNC20L3QuNC5XHJcbiAgICAgIHsgeDogY29sbGlzaW9uQm94LmxlZnQsIHk6IHRhcmdldFkgKyBjaGFyLnJlbmRlclNpemUgKiBjaGFyLmNvbGxpc2lvbkJveEZlZXRPZmZzZXRSYXRpbyB9LCAvLyDQodC10YDQtdC00LjQvdCwINC70LXQstC+0Lkg0YHRgtC+0YDQvtC90YsgKNC90LAg0YPRgNC+0LLQvdC1INC90L7QsylcclxuICAgICAgeyB4OiBjb2xsaXNpb25Cb3gucmlnaHQsIHk6IHRhcmdldFkgKyBjaGFyLnJlbmRlclNpemUgKiBjaGFyLmNvbGxpc2lvbkJveEZlZXRPZmZzZXRSYXRpbyB9LCAvLyDQodC10YDQtdC00LjQvdCwINC/0YDQsNCy0L7QuSDRgdGC0L7RgNC+0L3RiyAo0L3QsCDRg9GA0L7QstC90LUg0L3QvtCzKVxyXG4gICAgXTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IHBvaW50IG9mIHBvaW50c1RvQ2hlY2spIHtcclxuICAgICAgaWYgKCFtYXAuaXNXYWxrYWJsZShwb2ludC54LCBwb2ludC55KSkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGBDb2xsaXNpb24gYXQgd29ybGQgKCR7cG9pbnQueC50b0ZpeGVkKDEpfSwgJHtwb2ludC55LnRvRml4ZWQoMSl9KSAtPiB0aWxlIG5vdCB3YWxrYWJsZS5gKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlSW50ZXJhY3Rpb25zKCkge1xyXG4gICAgY29uc3QgbWFwID0gdGhpcy5nYW1lLmxldmVsPy5jdXJyZW50TWFwO1xyXG4gICAgY29uc3QgY2hhciA9IHRoaXMuZ2FtZS5jaGFyYWN0ZXI7XHJcbiAgICBpZiAoIW1hcCB8fCAhY2hhciB8fCB0aGlzLmdhbWUuZ2FtZVN0YXRlICE9PSBHYW1lU3RhdGUuUExBWUlORykgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IG5lYXJieUJvb2sgPSBtYXAuZmluZE5lYXJieVVuYW5zd2VyZWRCb29rKGNoYXIueCwgY2hhci55KTtcclxuICAgIGlmIChuZWFyYnlCb29rKSB7XHJcbiAgICAgIHRoaXMuaW5pdGlhdGVRdWVzdGlvbihuZWFyYnlCb29rKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghdGhpcy5nYW1lLmxpZnRDb29sZG93bkFjdGl2ZSkge1xyXG4gICAgICBjb25zdCBuZWFyYnlMaWZ0ID0gbWFwLmZpbmROZWFyYnlMaWZ0KGNoYXIueCwgY2hhci55KTtcclxuICAgICAgaWYgKG5lYXJieUxpZnQpIHtcclxuICAgICAgICB0aGlzLmluaXRpYXRlRmxvb3JTZWxlY3Rpb24oKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaW5pdGlhdGVRdWVzdGlvbihib29rKSB7XHJcbiAgICBpZiAodGhpcy5nYW1lLmdhbWVTdGF0ZSAhPT0gR2FtZVN0YXRlLlBMQVlJTkcpIHJldHVybjtcclxuXHJcbiAgICB0aGlzLmdhbWUuc2V0R2FtZVN0YXRlKEdhbWVTdGF0ZS5BU0tJTkdfUVVFU1RJT04pO1xyXG4gICAgaWYgKHRoaXMuZ2FtZS5jaGFyYWN0ZXIpIHRoaXMuZ2FtZS5jaGFyYWN0ZXIuaXNNb3ZpbmcgPSBmYWxzZTtcclxuICAgIHRoaXMuZ2FtZS5jdXJyZW50Qm9va1RhcmdldCA9IGJvb2s7XHJcblxyXG4gICAgaWYgKHRoaXMuZ2FtZS5hdmFpbGFibGVRdWVzdGlvbnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHRoaXMuZ2FtZS5hdmFpbGFibGVRdWVzdGlvbnMgPSBbLi4ucXVlc3Rpb25zXTtcclxuICAgICAgaWYgKHRoaXMuZ2FtZS5hdmFpbGFibGVRdWVzdGlvbnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgVUlNYW5hZ2VyLmZsYXNoTWVzc2FnZSgnQsWCxIVkOiBCcmFrIGRvc3TEmXBueWNoIHB5dGHFhCEnLCAnZXJyb3InKTtcclxuICAgICAgICB0aGlzLmdhbWUuc2V0R2FtZVN0YXRlKEdhbWVTdGF0ZS5QTEFZSU5HKTtcclxuICAgICAgICB0aGlzLmdhbWUuY3VycmVudEJvb2tUYXJnZXQgPSBudWxsO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHFJbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMuZ2FtZS5hdmFpbGFibGVRdWVzdGlvbnMubGVuZ3RoKTtcclxuICAgIHRoaXMuZ2FtZS5jdXJyZW50UXVlc3Rpb25EYXRhID0gdGhpcy5nYW1lLmF2YWlsYWJsZVF1ZXN0aW9ucy5zcGxpY2UocUluZGV4LCAxKVswXTtcclxuICAgIFVJTWFuYWdlci5zaG93UXVlc3Rpb24odGhpcy5nYW1lLmN1cnJlbnRRdWVzdGlvbkRhdGEpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlQW5zd2VyKHNlbGVjdGVkT3B0aW9uSW5kZXgpIHtcclxuICAgIGNvbnN0IHsgZ2FtZVN0YXRlLCBjdXJyZW50UXVlc3Rpb25EYXRhLCBjdXJyZW50Qm9va1RhcmdldCwgbGV2ZWwgfSA9IHRoaXMuZ2FtZTtcclxuXHJcbiAgICBpZiAoZ2FtZVN0YXRlICE9PSBHYW1lU3RhdGUuQVNLSU5HX1FVRVNUSU9OIHx8ICFjdXJyZW50UXVlc3Rpb25EYXRhIHx8ICFjdXJyZW50Qm9va1RhcmdldCkge1xyXG4gICAgICBVSU1hbmFnZXIuaGlkZVF1ZXN0aW9uKCk7XHJcbiAgICAgIHRoaXMuZ2FtZS5jdXJyZW50Qm9va1RhcmdldCA9IG51bGw7XHJcbiAgICAgIHRoaXMuZ2FtZS5jdXJyZW50UXVlc3Rpb25EYXRhID0gbnVsbDtcclxuICAgICAgaWYgKHRoaXMuZ2FtZS5nYW1lU3RhdGUgIT09IEdhbWVTdGF0ZS5HQU1FX09WRVIpIHRoaXMuZ2FtZS5zZXRHYW1lU3RhdGUoR2FtZVN0YXRlLlBMQVlJTkcpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaXNDb3JyZWN0ID0gc2VsZWN0ZWRPcHRpb25JbmRleCA9PT0gY3VycmVudFF1ZXN0aW9uRGF0YS5jb3JyZWN0QW5zd2VyO1xyXG4gICAgaWYgKGlzQ29ycmVjdCkge1xyXG4gICAgICBVSU1hbmFnZXIuZmxhc2hNZXNzYWdlKCdQcmF3aWTFgm93byEnLCAnc3VjY2VzcycsIDE1MDApO1xyXG4gICAgICBjb25zdCBjb2xsZWN0ZWQgPSBsZXZlbD8uY3VycmVudE1hcD8ubWFya0Jvb2tBc0NvbGxlY3RlZChjdXJyZW50Qm9va1RhcmdldCk7XHJcbiAgICAgIGlmIChjb2xsZWN0ZWQpIHtcclxuICAgICAgICB0aGlzLmdhbWUudG90YWxCb29rc0NvbGxlY3RlZEdsb2JhbGx5Kys7XHJcbiAgICAgICAgVUlNYW5hZ2VyLnVwZGF0ZVNjb3JlKHRoaXMuZ2FtZS50b3RhbEJvb2tzQ29sbGVjdGVkR2xvYmFsbHksIHRoaXMuZ2FtZS50YXJnZXRCb29rc1RvV2luKTtcclxuICAgICAgICBpZiAodGhpcy5nYW1lLnRvdGFsQm9va3NDb2xsZWN0ZWRHbG9iYWxseSA+PSB0aGlzLmdhbWUudGFyZ2V0Qm9va3NUb1dpbikge1xyXG4gICAgICAgICAgVUlNYW5hZ2VyLmhpZGVRdWVzdGlvbigpO1xyXG4gICAgICAgICAgdGhpcy5nYW1lLl9zZXRHYW1lT3Zlcih0cnVlKTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgVUlNYW5hZ2VyLmZsYXNoTWVzc2FnZSgnQsWCxIVkIHpiaWVyYW5pYSBrc2nEhcW8a2khJywgJ2Vycm9yJyk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIFVJTWFuYWdlci5mbGFzaE1lc3NhZ2UoJ05pZXByYXdpZMWCb3dhIG9kcG93aWVkxbohJywgJ2Vycm9yJyk7XHJcbiAgICAgIHRoaXMuZ2FtZS5hdmFpbGFibGVRdWVzdGlvbnMucHVzaChjdXJyZW50UXVlc3Rpb25EYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBVSU1hbmFnZXIuaGlkZVF1ZXN0aW9uKCk7XHJcbiAgICB0aGlzLmdhbWUuY3VycmVudEJvb2tUYXJnZXQgPSBudWxsO1xyXG4gICAgdGhpcy5nYW1lLmN1cnJlbnRRdWVzdGlvbkRhdGEgPSBudWxsO1xyXG4gICAgaWYgKHRoaXMuZ2FtZS5nYW1lU3RhdGUgIT09IEdhbWVTdGF0ZS5HQU1FX09WRVIpIHRoaXMuZ2FtZS5zZXRHYW1lU3RhdGUoR2FtZVN0YXRlLlBMQVlJTkcpO1xyXG4gIH1cclxuXHJcbiAgaW5pdGlhdGVGbG9vclNlbGVjdGlvbigpIHtcclxuICAgIGlmICh0aGlzLmdhbWUuZ2FtZVN0YXRlICE9PSBHYW1lU3RhdGUuUExBWUlORyB8fCB0aGlzLmdhbWUubGlmdENvb2xkb3duQWN0aXZlKSByZXR1cm47XHJcbiAgICB0aGlzLmdhbWUuc2V0R2FtZVN0YXRlKEdhbWVTdGF0ZS5TRUxFQ1RJTkdfRkxPT1IpO1xyXG4gICAgaWYgKHRoaXMuZ2FtZS5jaGFyYWN0ZXIpIHRoaXMuZ2FtZS5jaGFyYWN0ZXIuaXNNb3ZpbmcgPSBmYWxzZTtcclxuICAgIFVJTWFuYWdlci5zaG93Rmxvb3JTZWxlY3Rpb25VSShcclxuICAgICAgdGhpcy5nYW1lLmxldmVsLm1pbkZsb29yLFxyXG4gICAgICB0aGlzLmdhbWUubGV2ZWwubWF4Rmxvb3IsXHJcbiAgICAgIHRoaXMuZ2FtZS5sZXZlbC5jdXJyZW50Rmxvb3JcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVGbG9vclNlbGVjdGlvbihzZWxlY3RlZEZsb29yKSB7XHJcbiAgICBpZiAodGhpcy5nYW1lLmdhbWVTdGF0ZSAhPT0gR2FtZVN0YXRlLlNFTEVDVElOR19GTE9PUikge1xyXG4gICAgICBVSU1hbmFnZXIuaGlkZUZsb29yU2VsZWN0aW9uVUkoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgVUlNYW5hZ2VyLmhpZGVGbG9vclNlbGVjdGlvblVJKCk7XHJcbiAgICBpZiAoXHJcbiAgICAgIHNlbGVjdGVkRmxvb3IgPT09IHRoaXMuZ2FtZS5sZXZlbC5jdXJyZW50Rmxvb3IgfHxcclxuICAgICAgc2VsZWN0ZWRGbG9vciA8IHRoaXMuZ2FtZS5sZXZlbC5taW5GbG9vciB8fFxyXG4gICAgICBzZWxlY3RlZEZsb29yID4gdGhpcy5nYW1lLmxldmVsLm1heEZsb29yXHJcbiAgICApIHtcclxuICAgICAgdGhpcy5nYW1lLnNldEdhbWVTdGF0ZShHYW1lU3RhdGUuUExBWUlORyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuaGFuZGxlTGlmdFRyYW5zaXRpb24oc2VsZWN0ZWRGbG9vcikuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICB0aGlzLmdhbWUuX2hhbmRsZUZhdGFsRXJyb3IoYELFgsSFZCBwcnplasWbY2lhIG5hIHBpxJl0cm86ICR7ZXJyLm1lc3NhZ2V9YCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGhhbmRsZUxpZnRUcmFuc2l0aW9uKHRhcmdldEZsb29yKSB7XHJcbiAgICBjb25zdCBnYW1lID0gdGhpcy5nYW1lO1xyXG4gICAgY29uc3QgaXNEZWJ1ZyA9IGdhbWUubGV2ZWw/LmN1cnJlbnRGbG9vciA9PT0gREVCVUdfRkxPT1JfR00gfHwgdGFyZ2V0Rmxvb3IgPT09IERFQlVHX0ZMT09SX0dNO1xyXG5cclxuICAgIGlmIChpc0RlYnVnKVxyXG4gICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICBgW0dhbWVwbGF5TWFuYWdlciBGJHt0YXJnZXRGbG9vcn0gaGFuZGxlTGlmdFRyYW5zaXRpb25dIFN0YXJ0aW5nIHRyYW5zaXRpb24uIENvb2xkb3duOiAke2dhbWUubGlmdENvb2xkb3duQWN0aXZlfWBcclxuICAgICAgKTtcclxuICAgIGlmIChnYW1lLmdhbWVTdGF0ZSAhPT0gR2FtZVN0YXRlLlNFTEVDVElOR19GTE9PUiB8fCBnYW1lLmxpZnRDb29sZG93bkFjdGl2ZSkgcmV0dXJuO1xyXG5cclxuICAgIGdhbWUuc2V0R2FtZVN0YXRlKEdhbWVTdGF0ZS5UUkFOU0lUSU9OSU5HKTtcclxuICAgIGlmIChnYW1lLmNoYXJhY3RlcikgZ2FtZS5jaGFyYWN0ZXIuaXNNb3ZpbmcgPSBmYWxzZTtcclxuICAgIFVJTWFuYWdlci5oaWRlUXVlc3Rpb24oKTtcclxuICAgIFVJTWFuYWdlci5oaWRlRmxvb3JTZWxlY3Rpb25VSSgpO1xyXG4gICAgZ2FtZS5saWZ0Q29vbGRvd25BY3RpdmUgPSB0cnVlO1xyXG4gICAgVUlNYW5hZ2VyLmZsYXNoTWVzc2FnZShgUHJ6ZWrFm2NpZSBuYSBwacSZdHJvICR7dGFyZ2V0Rmxvb3J9Li4uYCwgJ2luZm8nLCBMSUZUX0NPT0xET1dOX01TIC0gMjAwKTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBnYW1lLmxldmVsLmxvYWRGbG9vcih0YXJnZXRGbG9vciwgZ2FtZS5jYW52YXMud2lkdGgsIGdhbWUuY2FudmFzLmhlaWdodCk7XHJcbiAgICAgIGNvbnN0IG5ld01hcCA9IGdhbWUubGV2ZWwuY3VycmVudE1hcDtcclxuICAgICAgaWYgKCFuZXdNYXApIHRocm93IG5ldyBFcnJvcihgTWFwIG9iamVjdCBpcyBudWxsIGZvciBmbG9vciAke3RhcmdldEZsb29yfS5gKTtcclxuXHJcbiAgICAgIGNvbnN0IGxpZnRQb3NEYXRhID0gbmV3TWFwLmdldExpZnRQb3NpdGlvbigpO1xyXG4gICAgICBpZiAoIWxpZnRQb3NEYXRhKSB0aHJvdyBuZXcgRXJyb3IoYE5vIGxpZnQgcG9zaXRpb24gZGF0YSBvbiBsb2FkZWQgZmxvb3IgJHt0YXJnZXRGbG9vcn0hYCk7XHJcbiAgICAgIGlmIChpc0RlYnVnKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgICAgYCAgW0dNIEYke3RhcmdldEZsb29yfSBMaWZ0VHJhbnNpdGlvbl0gTGlmdCB0aWxlOiAoJHtsaWZ0UG9zRGF0YS50aWxlWH0sJHtcclxuICAgICAgICAgICAgbGlmdFBvc0RhdGEudGlsZVlcclxuICAgICAgICAgIH0pLCBXb3JsZDooJHtsaWZ0UG9zRGF0YS54LnRvRml4ZWQoMSl9LCR7bGlmdFBvc0RhdGEueS50b0ZpeGVkKDEpfSlgXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgIGxldCBmaW5hbFNwYXduUG9zID0gbnVsbDtcclxuXHJcbiAgICAgIGZpbmFsU3Bhd25Qb3MgPSBuZXdNYXAuZ2V0U3Bhd25Qb2ludEluUm9vbU9mTGlmdChsaWZ0UG9zRGF0YS50aWxlWCwgbGlmdFBvc0RhdGEudGlsZVksIDIpO1xyXG4gICAgICBpZiAoaXNEZWJ1ZylcclxuICAgICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICAgIGAgIFtHTSBGJHt0YXJnZXRGbG9vcn0gTGlmdFRyYW5zaXRpb25dIEZyb20gZ2V0U3Bhd25Qb2ludEluUm9vbU9mTGlmdDpgLFxyXG4gICAgICAgICAgZmluYWxTcGF3blBvcyA/IHsgeDogZmluYWxTcGF3blBvcy54LnRvRml4ZWQoMSksIHk6IGZpbmFsU3Bhd25Qb3MueS50b0ZpeGVkKDEpIH0gOiBudWxsXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgIGlmICghZmluYWxTcGF3blBvcykge1xyXG4gICAgICAgIGlmIChpc0RlYnVnKVxyXG4gICAgICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgICAgICBgICBbR00gRiR7dGFyZ2V0Rmxvb3J9IExpZnRUcmFuc2l0aW9uXSBnZXRTcGF3blBvaW50SW5Sb29tT2ZMaWZ0IGZhaWxlZC4gVXNpbmcgZmluZE5lYXJlc3RXYWxrYWJsZVRpbGUuLi5gXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIGZpbmFsU3Bhd25Qb3MgPSBuZXdNYXAuZmluZE5lYXJlc3RXYWxrYWJsZVRpbGUobGlmdFBvc0RhdGEueCwgbGlmdFBvc0RhdGEueSwgNSwgdHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgaWYgKGlzRGVidWcpXHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICAgICAgYCAgW0dNIEYke3RhcmdldEZsb29yfSBMaWZ0VHJhbnNpdGlvbl0gRnJvbSBmaW5kTmVhcmVzdFdhbGthYmxlVGlsZTpgLFxyXG4gICAgICAgICAgICBmaW5hbFNwYXduUG9zID8geyB4OiBmaW5hbFNwYXduUG9zLngudG9GaXhlZCgxKSwgeTogZmluYWxTcGF3blBvcy55LnRvRml4ZWQoMSkgfSA6IG51bGxcclxuICAgICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghZmluYWxTcGF3blBvcykge1xyXG4gICAgICAgIGlmIChpc0RlYnVnKVxyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgICAgYCAgW0dNIEYke3RhcmdldEZsb29yfSBMaWZ0VHJhbnNpdGlvbl0gQWxsIHNwYXduIG1ldGhvZHMgZmFpbGVkLiBVc2luZyByYW5kb20gc3Bhd24uLi5gXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIGNvbnN0IGVtZXJnZW5jeVNwYXduID0gbmV3TWFwLmZpbmRSYW5kb21Jbml0aWFsU3Bhd25Qb3NpdGlvbigpO1xyXG4gICAgICAgIGlmICghZW1lcmdlbmN5U3Bhd24pIHRocm93IG5ldyBFcnJvcihgRU1FUkdFTkNZIFNQQVdOIEZBSUxFRCBvbiBmbG9vciAke3RhcmdldEZsb29yfSFgKTtcclxuICAgICAgICBmaW5hbFNwYXduUG9zID0gZW1lcmdlbmN5U3Bhd247XHJcbiAgICAgICAgaWYgKGlzRGVidWcpXHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICAgICAgYCAgW0dNIEYke3RhcmdldEZsb29yfSBMaWZ0VHJhbnNpdGlvbl0gRnJvbSBlbWVyZ2VuY3lTcGF3bjpgLFxyXG4gICAgICAgICAgICBmaW5hbFNwYXduUG9zID8geyB4OiBmaW5hbFNwYXduUG9zLngudG9GaXhlZCgxKSwgeTogZmluYWxTcGF3blBvcy55LnRvRml4ZWQoMSkgfSA6IG51bGxcclxuICAgICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGdhbWUuY2hhcmFjdGVyLnggPSBmaW5hbFNwYXduUG9zLng7XHJcbiAgICAgIGdhbWUuY2hhcmFjdGVyLnkgPSBmaW5hbFNwYXduUG9zLnk7XHJcbiAgICAgIGlmIChpc0RlYnVnKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgICAgYCAgW0dNIEYke3RhcmdldEZsb29yfSBMaWZ0VHJhbnNpdGlvbl0gRmluYWwgbGFuZGluZzogKCR7Z2FtZS5jaGFyYWN0ZXIueC50b0ZpeGVkKFxyXG4gICAgICAgICAgICAxXHJcbiAgICAgICAgICApfSwgJHtnYW1lLmNoYXJhY3Rlci55LnRvRml4ZWQoMSl9KWBcclxuICAgICAgICApO1xyXG5cclxuICAgICAgZ2FtZS5jaGFyYWN0ZXIuY3VycmVudERpcmVjdGlvbiA9IENoYXJhY3Rlci5EaXJlY3Rpb24uRE9XTjtcclxuICAgICAgZ2FtZS5jaGFyYWN0ZXIuaXNNb3ZpbmcgPSBmYWxzZTtcclxuICAgICAgZ2FtZS5yZW5kZXJlcj8uY2VudGVyQ2FtZXJhT25DaGFyYWN0ZXIoKTtcclxuICAgICAgdGhpcy5lbnN1cmVDaGFyYWN0ZXJJc09uV2Fsa2FibGVUaWxlKGZhbHNlKTsgLy8gPC0tLSDQlNCe0JHQkNCS0JvQldCd0J46INCf0YDQvtCy0LXRgNC60LAg0L/QvtGB0LvQtSDRgtC10LvQtdC/0L7RgNGC0LDRhtC40LhcclxuICAgICAgZ2FtZS5zdGFydExpZnRDb29sZG93blRpbWVyKCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBbR00gRiR7dGFyZ2V0Rmxvb3J9IExpZnRUcmFuc2l0aW9uXSBFcnJvciBkdXJpbmcgdHJhbnNpdGlvbjpgLCBlcnJvcik7XHJcbiAgICAgIGdhbWUubGlmdENvb2xkb3duQWN0aXZlID0gZmFsc2U7XHJcbiAgICAgIGlmIChnYW1lLmdhbWVTdGF0ZSAhPT0gR2FtZVN0YXRlLkdBTUVfT1ZFUikgZ2FtZS5zZXRHYW1lU3RhdGUoR2FtZVN0YXRlLlBMQVlJTkcpO1xyXG4gICAgICBnYW1lLl9oYW5kbGVGYXRhbEVycm9yKGBUcmFuc2l0aW9uIGVycm9yIHRvIGZsb29yICR7dGFyZ2V0Rmxvb3J9OiAke2Vycm9yLm1lc3NhZ2UgfHwgZXJyb3J9YCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBlbnN1cmVDaGFyYWN0ZXJJc09uV2Fsa2FibGVUaWxlKGFsbG93U3RhbmRpbmdPbkxpZnQgPSBmYWxzZSkge1xyXG4gICAgY29uc3QgY2hhciA9IHRoaXMuZ2FtZS5jaGFyYWN0ZXI7XHJcbiAgICBjb25zdCBtYXAgPSB0aGlzLmdhbWUubGV2ZWw/LmN1cnJlbnRNYXA7XHJcbiAgICBpZiAoIWNoYXIgfHwgIW1hcCkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGN1cnJlbnRUaWxlWCA9IE1hdGguZmxvb3IoY2hhci54IC8gbWFwLnRpbGVTaXplKTtcclxuICAgIGNvbnN0IGN1cnJlbnRUaWxlWSA9IE1hdGguZmxvb3IoY2hhci55IC8gbWFwLnRpbGVTaXplKTtcclxuICAgIGNvbnN0IGN1cnJlbnRUaWxlVmFsdWUgPVxyXG4gICAgICBjdXJyZW50VGlsZVggPj0gMCAmJiBjdXJyZW50VGlsZVggPCBtYXAuY29scyAmJiBjdXJyZW50VGlsZVkgPj0gMCAmJiBjdXJyZW50VGlsZVkgPCBtYXAucm93c1xyXG4gICAgICAgID8gbWFwLm1hcFtjdXJyZW50VGlsZVldPy5bY3VycmVudFRpbGVYXVxyXG4gICAgICAgIDogVElMRV9XQUxMO1xyXG5cclxuICAgIGNvbnN0IGlzQ2VudGVyVGlsZVdhbGthYmxlQnlNYXAgPSBtYXAuaXNXYWxrYWJsZShjaGFyLngsIGNoYXIueSk7XHJcbiAgICBjb25zdCBpc0xpZnQgPSBjdXJyZW50VGlsZVZhbHVlID09PSBUSUxFX0xJRlQ7XHJcbiAgICBjb25zdCBpc1NhZmVUb1N0YW5kSGVyZSA9IGlzQ2VudGVyVGlsZVdhbGthYmxlQnlNYXAgJiYgKCFpc0xpZnQgfHwgYWxsb3dTdGFuZGluZ09uTGlmdCk7XHJcbiAgICBjb25zdCBpc0NvbGxpZGluZ1dpdGhXYWxsID0gdGhpcy5jaGVja0NvbGxpc2lvbihjaGFyLngsIGNoYXIueSk7IC8vINCf0YDQvtCy0LXRgNGP0LXQvCDRgtC10LrRg9GJ0YPRjiDQv9C+0LfQuNGG0LjRjlxyXG4gICAgY29uc3QgbmVlZHNOdWRnZSA9IGlzQ29sbGlkaW5nV2l0aFdhbGwgfHwgIWlzU2FmZVRvU3RhbmRIZXJlO1xyXG5cclxuICAgIGlmIChuZWVkc051ZGdlKSB7XHJcbiAgICAgIGNvbnN0IGlzRGVidWcgPSB0aGlzLmdhbWUubGV2ZWw/LmN1cnJlbnRGbG9vciA9PT0gREVCVUdfRkxPT1JfR007XHJcbiAgICAgIGlmIChpc0RlYnVnKVxyXG4gICAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICAgIGBbR2FtZXBsYXlNYW5hZ2VyIEYke3RoaXMuZ2FtZS5sZXZlbC5jdXJyZW50Rmxvb3J9IEFudGlTdHVja10gQ2hhciBhdCAoJHtjaGFyLngudG9GaXhlZChcclxuICAgICAgICAgICAgMVxyXG4gICAgICAgICAgKX0sJHtjaGFyLnkudG9GaXhlZChcclxuICAgICAgICAgICAgMVxyXG4gICAgICAgICAgKX0pIC0+IHRpbGUgKCR7Y3VycmVudFRpbGVYfSwke2N1cnJlbnRUaWxlWX0pIG5lZWRzIG51ZGdlLiBDb2xsaWRpbmc6JHtpc0NvbGxpZGluZ1dpdGhXYWxsfSwgU2FmZVN0YW5kOiR7aXNTYWZlVG9TdGFuZEhlcmV9YFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICBjb25zdCBzYWZlU3BvdCA9IG1hcC5maW5kTmVhcmVzdFdhbGthYmxlVGlsZShjaGFyLngsIGNoYXIueSwgOCwgdHJ1ZSwgdHJ1ZSk7IC8vIGV4Y2x1ZGVMaWZ0PXRydWUsIGF2b2lkTmFycm93PXRydWVcclxuXHJcbiAgICAgIGlmIChzYWZlU3BvdCkge1xyXG4gICAgICAgIGlmIChpc0RlYnVnKVxyXG4gICAgICAgICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgICAgIGAgIFtBbnRpU3R1Y2tdIE51ZGdpbmcgdG8gc2FmZSBzcG90OiAoJHtzYWZlU3BvdC54LnRvRml4ZWQoMSl9LCR7c2FmZVNwb3QueS50b0ZpeGVkKFxyXG4gICAgICAgICAgICAgIDFcclxuICAgICAgICAgICAgKX0pYFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICBjaGFyLnggPSBzYWZlU3BvdC54O1xyXG4gICAgICAgIGNoYXIueSA9IHNhZmVTcG90Lnk7XHJcbiAgICAgICAgdGhpcy5nYW1lLnJlbmRlcmVyPy5jZW50ZXJDYW1lcmFPbkNoYXJhY3RlcigpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChpc0RlYnVnKVxyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgICAgYCAgW0FudGlTdHVja10gQ1JJVElDQUw6IENvdWxkIG5vdCBmaW5kIGFueSBzYWZlIHNwb3QgdG8gbnVkZ2UuIFRyeWluZyByYW5kb20uYFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICBjb25zdCBlbWVyZ2VuY3lTcG90ID0gbWFwLmZpbmRSYW5kb21Jbml0aWFsU3Bhd25Qb3NpdGlvbigpO1xyXG4gICAgICAgIGlmIChlbWVyZ2VuY3lTcG90KSB7XHJcbiAgICAgICAgICBpZiAoaXNEZWJ1ZylcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgICAgICAgIGAgIFtBbnRpU3R1Y2tdIEVtZXJnZW5jeSBudWRnZSB0byByYW5kb206ICgke2VtZXJnZW5jeVNwb3QueC50b0ZpeGVkKFxyXG4gICAgICAgICAgICAgICAgMVxyXG4gICAgICAgICAgICAgICl9LCR7ZW1lcmdlbmN5U3BvdC55LnRvRml4ZWQoMSl9KWBcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIGNoYXIueCA9IGVtZXJnZW5jeVNwb3QueDtcclxuICAgICAgICAgIGNoYXIueSA9IGVtZXJnZW5jeVNwb3QueTtcclxuICAgICAgICAgIHRoaXMuZ2FtZS5yZW5kZXJlcj8uY2VudGVyQ2FtZXJhT25DaGFyYWN0ZXIoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYgKGlzRGVidWcpXHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJyAgW0FudGlTdHVja10gRVZFTiBSQU5ET00gU1BBV04gRkFJTEVEISBHYW1lIG1pZ2h0IGJlIGJyb2tlbi4nKTtcclxuICAgICAgICAgIHRoaXMuZ2FtZS5faGFuZGxlRmF0YWxFcnJvcignQW50aS1TdHVjayBzeXN0ZW0gZmFpbGVkIGNyaXRpY2FsbHkuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIi8vIHNyYy9hdWRpby9BdWRpb01hbmFnZXIuanNcclxuXHJcbmltcG9ydCB0cmFjazFTcmMgZnJvbSAnLi4vLi4vYXNzZXRzL2F1ZGlvL2JhY2sxLm1wMyc7IC8vINCf0YDQuNC80LXRgCDQv9GD0YLQuCwg0L3QsNGB0YLRgNC+0LnRgtC1INC/0L7QtCDQstCw0YjRgyDRgdGC0YDRg9C60YLRg9GA0YNcclxuaW1wb3J0IHRyYWNrMlNyYyBmcm9tICcuLi8uLi9hc3NldHMvYXVkaW8vYmFjazIubXAzJztcclxuaW1wb3J0IHRyYWNrM1NyYyBmcm9tICcuLi8uLi9hc3NldHMvYXVkaW8vYmFjazMubXAzJztcclxuXHJcbmNvbnN0IERFRkFVTFRfTVVTSUNfVk9MVU1FID0gMC41O1xyXG5cclxuLy8g0JjRgdC/0L7Qu9GM0LfRg9C10Lwg0LjQvNC/0L7RgNGC0LjRgNC+0LLQsNC90L3Ri9C1INC40YHRhdC+0LTQvdC40LrQuFxyXG5jb25zdCBNVVNJQ19TT1VSQ0VTID0ge1xyXG4gIC8vINCf0LXRgNC10LjQvNC10L3QvtCy0LDQvdC+INC00LvRjyDRj9GB0L3QvtGB0YLQuFxyXG4gIHRyYWNrMTogdHJhY2sxU3JjLFxyXG4gIHRyYWNrMjogdHJhY2syU3JjLFxyXG4gIHRyYWNrMzogdHJhY2szU3JjLFxyXG59O1xyXG5cclxuLy8g0J/QvtGA0Y/QtNC+0LosINCyINC60L7RgtC+0YDQvtC8INGC0YDQtdC60Lgg0LHRg9C00YPRgiDQvNC10L3Rj9GC0YzRgdGPICjQvNC+0LbQvdC+INC40LfQvNC10L3QuNGC0Ywg0L3QsCDQtNGA0YPQs9GD0Y4g0LvQvtCz0LjQutGDKVxyXG5jb25zdCBUUkFDS19DWUNMRV9PUkRFUiA9IFsndHJhY2sxJywgJ3RyYWNrMicsICd0cmFjazMnXTtcclxuXHJcbmV4cG9ydCBjbGFzcyBBdWRpb01hbmFnZXIge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5tdXNpY1ZvbHVtZSA9IERFRkFVTFRfTVVTSUNfVk9MVU1FO1xyXG4gICAgdGhpcy5jdXJyZW50TXVzaWNFbGVtZW50ID0gbnVsbDtcclxuICAgIHRoaXMuY3VycmVudFRyYWNrS2V5ID0gbnVsbDtcclxuICAgIHRoaXMuaXNNdXNpY1BsYXlpbmcgPSBmYWxzZTtcclxuXHJcbiAgICBjb25zdCBzYXZlZFZvbHVtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdtdXNpY1ZvbHVtZScpO1xyXG4gICAgaWYgKHNhdmVkVm9sdW1lICE9PSBudWxsKSB7XHJcbiAgICAgIHRoaXMubXVzaWNWb2x1bWUgPSBwYXJzZUZsb2F0KHNhdmVkVm9sdW1lKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmF1ZGlvRWxlbWVudHMgPSB7fTtcclxuICAgIHRoaXMuX3ByZWxvYWRUcmFja3MoKTtcclxuICB9XHJcblxyXG4gIF9wcmVsb2FkVHJhY2tzKCkge1xyXG4gICAgY29uc29sZS5sb2coJ1tBdWRpb01hbmFnZXJdIFByZWxvYWRpbmcgdHJhY2tzIGZyb20gaW1wb3J0ZWQgc291cmNlcy4uLicpO1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gTVVTSUNfU09VUkNFUykge1xyXG4gICAgICBpZiAoTVVTSUNfU09VUkNFUy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgY29uc3QgYXVkaW9QYXRoID0gTVVTSUNfU09VUkNFU1trZXldOyAvLyDQmNGB0L/QvtC70YzQt9GD0LXQvCDQuNC80L/QvtGA0YLQuNGA0L7QstCw0L3QvdGL0Lkg0L/Rg9GC0YxcclxuICAgICAgICBjb25zdCBhdWRpbyA9IG5ldyBBdWRpbyhhdWRpb1BhdGgpO1xyXG4gICAgICAgIGF1ZGlvLnByZWxvYWQgPSAnYXV0byc7XHJcbiAgICAgICAgdGhpcy5hdWRpb0VsZW1lbnRzW2tleV0gPSBhdWRpbztcclxuICAgICAgICBjb25zb2xlLmxvZyhgICBQcmVsb2FkZWQgJHtrZXl9IGZyb20gJHthdWRpb1BhdGh9YCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldE11c2ljVm9sdW1lKHZvbHVtZSkge1xyXG4gICAgdGhpcy5tdXNpY1ZvbHVtZSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHZvbHVtZSkpOyAvLyDQntCz0YDQsNC90LjRh9C40LLQsNC10Lwg0L7RgiAwINC00L4gMVxyXG4gICAgaWYgKHRoaXMuY3VycmVudE11c2ljRWxlbWVudCkge1xyXG4gICAgICB0aGlzLmN1cnJlbnRNdXNpY0VsZW1lbnQudm9sdW1lID0gdGhpcy5tdXNpY1ZvbHVtZTtcclxuICAgIH1cclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdtdXNpY1ZvbHVtZScsIHRoaXMubXVzaWNWb2x1bWUudG9TdHJpbmcoKSk7IC8vINCh0L7RhdGA0LDQvdGP0LXQvCDQs9GA0L7QvNC60L7RgdGC0YxcclxuICAgIGNvbnNvbGUubG9nKGBbQXVkaW9NYW5hZ2VyXSBNdXNpYyB2b2x1bWUgc2V0IHRvOiAke3RoaXMubXVzaWNWb2x1bWV9YCk7XHJcbiAgfVxyXG5cclxuICBnZXRNdXNpY1ZvbHVtZSgpIHtcclxuICAgIHJldHVybiB0aGlzLm11c2ljVm9sdW1lO1xyXG4gIH1cclxuXHJcbiAgcGxheU11c2ljKHRyYWNrS2V5LCBsb29wID0gdHJ1ZSkge1xyXG4gICAgaWYgKCF0aGlzLmF1ZGlvRWxlbWVudHNbdHJhY2tLZXldKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihgW0F1ZGlvTWFuYWdlcl0gVHJhY2sgXCIke3RyYWNrS2V5fVwiIG5vdCBmb3VuZCBvciBub3QgcHJlbG9hZGVkLmApO1xyXG4gICAgICBpZiAoTVVTSUNfU09VUkNFU1t0cmFja0tleV0pIHtcclxuICAgICAgICAvLyDQn9GA0L7QstC10YDRj9C10Lwg0L3QsNC70LjRh9C40LUg0LIgTVVTSUNfU09VUkNFU1xyXG4gICAgICAgIHRoaXMuYXVkaW9FbGVtZW50c1t0cmFja0tleV0gPSBuZXcgQXVkaW8oTVVTSUNfU09VUkNFU1t0cmFja0tleV0pOyAvLyDQmNGB0L/QvtC70YzQt9GD0LXQvCDQuNC80L/QvtGA0YLQuNGA0L7QstCw0L3QvdGL0Lkg0L/Rg9GC0YxcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgYFtBdWRpb01hbmFnZXJdIFNvdXJjZSBmb3IgdHJhY2sgXCIke3RyYWNrS2V5fVwiIG5vdCBkZWZpbmVkIGluIE1VU0lDX1NPVVJDRVMuYFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuaXNNdXNpY1BsYXlpbmcgJiYgdGhpcy5jdXJyZW50VHJhY2tLZXkgPT09IHRyYWNrS2V5KSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuc3RvcE11c2ljKCk7XHJcblxyXG4gICAgdGhpcy5jdXJyZW50TXVzaWNFbGVtZW50ID0gdGhpcy5hdWRpb0VsZW1lbnRzW3RyYWNrS2V5XTtcclxuICAgIHRoaXMuY3VycmVudE11c2ljRWxlbWVudC52b2x1bWUgPSB0aGlzLm11c2ljVm9sdW1lO1xyXG4gICAgdGhpcy5jdXJyZW50TXVzaWNFbGVtZW50Lmxvb3AgPSBsb29wO1xyXG4gICAgdGhpcy5jdXJyZW50VHJhY2tLZXkgPSB0cmFja0tleTtcclxuXHJcbiAgICB0aGlzLmN1cnJlbnRNdXNpY0VsZW1lbnRcclxuICAgICAgLnBsYXkoKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5pc011c2ljUGxheWluZyA9IHRydWU7XHJcbiAgICAgICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgICBgW0F1ZGlvTWFuYWdlcl0gUGxheWluZyBtdXNpYzogJHt0cmFja0tleX0gKFZvbHVtZTogJHt0aGlzLmN1cnJlbnRNdXNpY0VsZW1lbnQudm9sdW1lfSlgXHJcbiAgICAgICAgKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFtBdWRpb01hbmFnZXJdIEVycm9yIHBsYXlpbmcgXCIke3RyYWNrS2V5fVwiOmAsIGVycm9yKTtcclxuICAgICAgICAvLyDQlNC+0LHQsNCy0YzRgtC1INCx0L7Qu9GM0YjQtSDQtNC10YLQsNC70LXQuSDQtNC70Y8g0L7RgtC70LDQtNC60Lgg0L/QvtC70LjRgtC40LrQuCDQsNCy0YLQvtCy0L7RgdC/0YDQvtC40LfQstC10LTQtdC90LjRj1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgICBgICBQbGF5YmFjayBmYWlsdXJlIGRldGFpbHM6IHVzZXJJbnRlcmFjdGVkIChjaGVjayBNZW51LmpzKSwgZG9jdW1lbnQuaGFzRm9jdXMoKTogJHtkb2N1bWVudC5oYXNGb2N1cygpfWBcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuaXNNdXNpY1BsYXlpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRNdXNpY0VsZW1lbnQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFRyYWNrS2V5ID0gbnVsbDtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBzdG9wTXVzaWMoKSB7XHJcbiAgICBpZiAodGhpcy5jdXJyZW50TXVzaWNFbGVtZW50KSB7XHJcbiAgICAgIHRoaXMuY3VycmVudE11c2ljRWxlbWVudC5wYXVzZSgpO1xyXG4gICAgICB0aGlzLmN1cnJlbnRNdXNpY0VsZW1lbnQuY3VycmVudFRpbWUgPSAwOyAvLyDQodCx0YDQvtGBINC90LAg0L3QsNGH0LDQu9C+XHJcbiAgICAgIHRoaXMuaXNNdXNpY1BsYXlpbmcgPSBmYWxzZTtcclxuICAgICAgY29uc29sZS5sb2coYFtBdWRpb01hbmFnZXJdIFN0b3BwZWQgbXVzaWM6ICR7dGhpcy5jdXJyZW50VHJhY2tLZXl9YCk7XHJcbiAgICAgIC8vINCd0LUg0L7Rh9C40YnQsNC10LwgY3VycmVudE11c2ljRWxlbWVudCDQuCBjdXJyZW50VHJhY2tLZXkg0LfQtNC10YHRjCDQv9C+0LvQvdC+0YHRgtGM0Y4sXHJcbiAgICAgIC8vINGH0YLQvtCx0Ysg0LzQvtC20L3QviDQsdGL0LvQviDQstC+0LfQvtCx0L3QvtCy0LjRgtGMLCDQtdGB0LvQuCDQvdGD0LbQvdC+LCDQvdC+INC00LvRjyDRgdC80LXQvdGLINGC0YDQtdC60LAg0Y3RgtC+INCe0JouXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDQktGL0LfRi9Cy0LDQtdGC0YHRjyDQv9GA0Lgg0YHQvNC10L3QtSDRjdGC0LDQttCwXHJcbiAgY2hhbmdlVHJhY2tGb3JGbG9vcihmbG9vck51bWJlcikge1xyXG4gICAgLy8g0J/RgNC+0YHRgtC+INGG0LjQutC70LjRh9C10YHQutC4INC80LXQvdGP0LXQvCDRgtGA0LXQutC4LiDQrdGC0LDQttC4INC+0LHRi9GH0L3QviAxLdC40L3QtNC10LrRgdC40YDQvtCy0LDQvdC90YvQtS5cclxuICAgIC8vIGZsb29yTnVtYmVyINC80L7QttC10YIg0LHRi9GC0Ywg0LvRjtCx0YvQvCwg0L/QvtGN0YLQvtC80YMg0LHQtdGA0LXQvCDQv9C+INC80L7QtNGD0LvRji5cclxuICAgIC8vINCY0YHQv9C+0LvRjNC30YPQtdC8IChmbG9vck51bWJlciAtIDEpINC10YHQu9C4INCy0LDRiNC4INGN0YLQsNC20Lgg0L3QsNGH0LjQvdCw0Y7RgtGB0Y8g0YEgMSwg0YfRgtC+0LHRiyDQuNC90LTQtdC60YEg0LHRi9C7INGBIDAuXHJcbiAgICAvLyDQldGB0LvQuCDRjdGC0LDQttC4INC80L7Qs9GD0YIg0LHRi9GC0YwgMCDQuNC70Lgg0L7RgtGA0LjRhtCw0YLQtdC70YzQvdGL0LzQuCwg0L3Rg9C20L3QsCDQtNGA0YPQs9Cw0Y8g0LvQvtCz0LjQutCwLlxyXG4gICAgLy8g0J/RgNC10LTQv9C+0LvQvtC20LjQvCwg0Y3RgtCw0LbQuCA+IDAuXHJcbiAgICBjb25zdCBhZGp1c3RlZEZsb29ySW5kZXggPSBNYXRoLm1heCgwLCBmbG9vck51bWJlciAtIDEpO1xyXG4gICAgY29uc3QgdHJhY2tJbmRleCA9IGFkanVzdGVkRmxvb3JJbmRleCAlIFRSQUNLX0NZQ0xFX09SREVSLmxlbmd0aDtcclxuICAgIGNvbnN0IG5ld1RyYWNrS2V5ID0gVFJBQ0tfQ1lDTEVfT1JERVJbdHJhY2tJbmRleF07XHJcblxyXG4gICAgaWYgKG5ld1RyYWNrS2V5KSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGBbQXVkaW9NYW5hZ2VyXSBGbG9vciAke2Zsb29yTnVtYmVyfSAtPiBNdXNpYyB0cmFjazogJHtuZXdUcmFja0tleX1gKTtcclxuICAgICAgdGhpcy5wbGF5TXVzaWMobmV3VHJhY2tLZXkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS53YXJuKGBbQXVkaW9NYW5hZ2VyXSBObyB0cmFjayBmb3VuZCBmb3IgZmxvb3IgaW5kZXggJHt0cmFja0luZGV4fS5gKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vINCc0LXRgtC+0LQg0LTQu9GPINC/0LXRgNCy0L7QvdCw0YfQsNC70YzQvdC+0LPQviDQt9Cw0L/Rg9GB0LrQsCDQvNGD0LfRi9C60LgsINC90LDQv9GA0LjQvNC10YAsINC/0YDQuCDRgdGC0LDRgNGC0LUg0LjQs9GA0YtcclxuICBzdGFydEluaXRpYWxNdXNpYyhpbml0aWFsRmxvb3IgPSAxKSB7XHJcbiAgICAvLyDQo9Cx0LXQtNC40LzRgdGPLCDRh9GC0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GMINCy0LfQsNC40LzQvtC00LXQudGB0YLQstC+0LLQsNC7INGB0L4g0YHRgtGA0LDQvdC40YbQtdC5LFxyXG4gICAgLy8g0L/RgNC10LbQtNC1INGH0LXQvCDQv9GL0YLQsNGC0YzRgdGPINCy0L7RgdC/0YDQvtC40LfQstC10YHRgtC4INC30LLRg9C6ICjQsdGA0LDRg9C30LXRgNGLINCx0LvQvtC60LjRgNGD0Y7RgiDQsNCy0YLQvtCy0L7RgdC/0YDQvtC40LfQstC10LTQtdC90LjQtSkuXHJcbiAgICAvLyDQrdGC0L7RgiDQvNC10YLQvtC0INC00L7Qu9C20LXQvSDQstGL0LfRi9Cy0LDRgtGM0YHRjyDQv9C+0YHQu9C1INC60LvQuNC60LAgXCJQbGF5XCIg0LIg0LPQu9Cw0LLQvdC+0Lwg0LzQtdC90Y4uXHJcbiAgICBjb25zb2xlLmxvZygnW0F1ZGlvTWFuYWdlcl0gQXR0ZW1wdGluZyB0byBzdGFydCBpbml0aWFsIG11c2ljLi4uJyk7XHJcbiAgICB0aGlzLmNoYW5nZVRyYWNrRm9yRmxvb3IoaW5pdGlhbEZsb29yKTtcclxuICB9XHJcbn1cclxuIiwiLy8gc3JjL2NvcmUvR2FtZS5qc1xyXG5pbXBvcnQgeyBJbnB1dE1hbmFnZXIgfSBmcm9tICcuL0lucHV0TWFuYWdlci5qcyc7XHJcbmltcG9ydCB7IFVJTWFuYWdlciB9IGZyb20gJy4uL1VJL1VJTWFuYWdlci5qcyc7XHJcbmltcG9ydCB7IENoYXJhY3RlciB9IGZyb20gJy4vQ2hhcmFjdGVyLmpzJztcclxuaW1wb3J0IHsgTGV2ZWwgfSBmcm9tICcuL0xldmVsLmpzJztcclxuaW1wb3J0IHtcclxuICBHYW1lU3RhdGUsXHJcbiAgcXVlc3Rpb25zLFxyXG4gIFRBUkdFVF9CT09LU19UT19XSU4sXHJcbiAgTElGVF9DT09MRE9XTl9NUyxcclxuICAvLyBUSUxFX1dBTEwsIC8vINCd0LUg0LjRgdC/0L7Qu9GM0LfRg9C10YLRgdGPINC90LDQv9GA0Y/QvNGD0Y4g0LfQtNC10YHRjCwg0LzQvtC20L3QviDRg9Cx0YDQsNGC0Ywg0LXRgdC70Lgg0L3QtdGCINC00YDRg9Cz0LjRhSDQuNGB0L/QvtC70YzQt9C+0LLQsNC90LjQuVxyXG59IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcyc7XHJcbmltcG9ydCB7IEdhbWVSZW5kZXJlciB9IGZyb20gJy4vR2FtZVJlbmRlcmVyLmpzJztcclxuaW1wb3J0IHsgR2FtZXBsYXlNYW5hZ2VyIH0gZnJvbSAnLi9HYW1lcGxheU1hbmFnZXIuanMnO1xyXG5pbXBvcnQgeyBBdWRpb01hbmFnZXIgfSBmcm9tICcuLi9hdWRpby9BdWRpb01hbmFnZXIuanMnO1xyXG5cclxuLy8g0JjQvNC/0L7RgNGC0Ysg0YDQtdGB0YPRgNGB0L7QslxyXG5pbXBvcnQgcmVkU3ByaXRlIGZyb20gJy4uLy4uL2Fzc2V0cy9pbWFnZXMvY2hhcmFjdGVyX3JlZC5wbmcnO1xyXG5pbXBvcnQgYmx1ZVNwcml0ZSBmcm9tICcuLi8uLi9hc3NldHMvaW1hZ2VzL2NoYXJhY3Rlcl9ibHVlLnBuZyc7XHJcbmltcG9ydCB5ZWxsb3dTcHJpdGUgZnJvbSAnLi4vLi4vYXNzZXRzL2ltYWdlcy9jaGFyYWN0ZXJfeWVsbG93LnBuZyc7XHJcbmltcG9ydCBncmVlblNwcml0ZSBmcm9tICcuLi8uLi9hc3NldHMvaW1hZ2VzL2NoYXJhY3Rlcl9ncmVlbi5wbmcnO1xyXG5pbXBvcnQgYm9va1Nwcml0ZSBmcm9tICcuLi8uLi9hc3NldHMvaW1hZ2VzL2Jvb2sucG5nJztcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lIHtcclxuICAvLyDQodGC0LDRgtC40YfQtdGB0LrQuNC1INGB0LLQvtC50YHRgtCy0LAg0LTQu9GPINC40L3RhNC+0YDQvNCw0YbQuNC4INC90LAg0Y3QutGA0LDQvdC1IEdhbWUgT3ZlclxyXG4gIHN0YXRpYyBDUkVBVE9SX05BTUVTID0gWydSYWZhxYInLCAnRGltYScsICdWZW5pYScsICdLYWNwZXInXTtcclxuICBzdGF0aWMgQ0xBU1NfQVRURU5ESU5HX0lORk8gPSAnQXR0ZW5kaW5nOiBXQ1kyMklKMVMxIC8gUHJvZ3JhbW93YW5pZSBBcGxpa2FjamkgRGVza3RvcG93eWNoJztcclxuXHJcbiAgY29uc3RydWN0b3IoY2hhcmFjdGVyQ29sb3IpIHtcclxuICAgIGNvbnNvbGUubG9nKGBbR2FtZV0gSW5pdGlhbGl6aW5nIHdpdGggY2hhcmFjdGVyOiAke2NoYXJhY3RlckNvbG9yfWApO1xyXG4gICAgdGhpcy5jaGFyYWN0ZXJDb2xvciA9IGNoYXJhY3RlckNvbG9yO1xyXG4gICAgdGhpcy5fZ2FtZVN0YXRlID0gR2FtZVN0YXRlLkxPQURJTkc7XHJcbiAgICB0aGlzLmlzUnVubmluZyA9IGZhbHNlO1xyXG5cclxuICAgIHRoaXMudG90YWxCb29rc0NvbGxlY3RlZEdsb2JhbGx5ID0gMDtcclxuICAgIHRoaXMudGFyZ2V0Qm9va3NUb1dpbiA9IFRBUkdFVF9CT09LU19UT19XSU47XHJcbiAgICB0aGlzLmF2YWlsYWJsZVF1ZXN0aW9ucyA9IFtdO1xyXG4gICAgdGhpcy5jdXJyZW50Qm9va1RhcmdldCA9IG51bGw7XHJcbiAgICB0aGlzLmN1cnJlbnRRdWVzdGlvbkRhdGEgPSBudWxsO1xyXG4gICAgdGhpcy5saWZ0Q29vbGRvd25BY3RpdmUgPSBmYWxzZTtcclxuICAgIHRoaXMubGlmdENvb2xkb3duVGltZXIgPSBudWxsO1xyXG5cclxuICAgIHRoaXMuY2FudmFzID0gbnVsbDtcclxuICAgIHRoaXMuY3R4ID0gbnVsbDtcclxuICAgIHRoaXMuY2hhcmFjdGVyID0gbnVsbDtcclxuICAgIHRoaXMubGV2ZWwgPSBudWxsO1xyXG4gICAgdGhpcy5pbnB1dE1hbmFnZXIgPSBudWxsO1xyXG4gICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XHJcbiAgICB0aGlzLmdhbWVwbGF5TWFuYWdlciA9IG51bGw7XHJcbiAgICB0aGlzLmF1ZGlvTWFuYWdlciA9IG51bGw7IC8vINCR0YPQtNC10YIg0LjQvdC40YbQuNCw0LvQuNC30LjRgNC+0LLQsNC9XHJcblxyXG4gICAgdGhpcy5zcHJpdGVzID0geyByZWQ6IHJlZFNwcml0ZSwgYmx1ZTogYmx1ZVNwcml0ZSwgeWVsbG93OiB5ZWxsb3dTcHJpdGUsIGdyZWVuOiBncmVlblNwcml0ZSB9O1xyXG4gICAgdGhpcy5ib29rSW1hZ2UgPSBudWxsO1xyXG5cclxuICAgIHRoaXMuZ2FtZUxvb3AgPSB0aGlzLmdhbWVMb29wLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLl9oYW5kbGVGYXRhbEVycm9yID0gdGhpcy5faGFuZGxlRmF0YWxFcnJvci5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5fYm91bmRLZXlEb3duSGFuZGxlciA9IG51bGw7XHJcbiAgICB0aGlzLl9ib3VuZEtleVVwSGFuZGxlciA9IG51bGw7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgdGhpcy5faW5pdGlhbGl6ZUNvcmVDb21wb25lbnRzKCk7XHJcblxyXG4gICAgICB0aGlzLmF1ZGlvTWFuYWdlciA9IG5ldyBBdWRpb01hbmFnZXIoKTtcclxuICAgICAgY29uc29sZS5sb2coJ1tHYW1lXSBBdWRpb01hbmFnZXIgY3JlYXRlZC4nKTtcclxuICAgICAgdGhpcy5nYW1lcGxheU1hbmFnZXIgPSBuZXcgR2FtZXBsYXlNYW5hZ2VyKHRoaXMpO1xyXG4gICAgICBjb25zb2xlLmxvZygnW0dhbWVdIEdhbWVwbGF5TWFuYWdlciBjcmVhdGVkLicpO1xyXG5cclxuICAgICAgdGhpcy5yZW5kZXJlciA9IG5ldyBHYW1lUmVuZGVyZXIodGhpcyk7XHJcbiAgICAgIGNvbnN0IHsgY2FudmFzLCBjdHggfSA9IHRoaXMucmVuZGVyZXIuaW5pdGlhbGl6ZUNhbnZhcygpO1xyXG4gICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgdGhpcy5jdHggPSBjdHg7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdbR2FtZV0gUmVuZGVyZXIgYW5kIENhbnZhcyBpbml0aWFsaXplZC4nKTtcclxuXHJcbiAgICAgIHRoaXMuX2luaXRpYWxpemVVSU1hbmFnZXIoKTtcclxuICAgICAgY29uc29sZS5sb2coJ1tHYW1lXSBVSU1hbmFnZXIgc2V0dXAgaW5pdGlhdGVkLicpO1xyXG5cclxuICAgICAgdGhpcy5fYWRkRXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICAgIHRoaXMuX2xvYWRBc3NldHNBbmRUaGVuU3RhcnRMb2dpYygpXHJcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ1tHYW1lXSBBc3luYyBsb2FkaW5nIGFuZCBnYW1lIGxvZ2ljIHN0YXJ0IHNlcXVlbmNlIGNvbXBsZXRlZC4nKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgICAgICdbR2FtZV0gVW5oYW5kbGVkIGVycm9yIGZyb20gX2xvYWRBc3NldHNBbmRUaGVuU3RhcnRMb2dpYyBpbiBjb25zdHJ1Y3RvcjonLFxyXG4gICAgICAgICAgICBlcnJvclxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGNvbnN0IGxvYWRpbmdPdmVybGF5ID0gVUlNYW5hZ2VyLmdldExvYWRpbmdPdmVybGF5KCk7IC8vINCY0YHQv9C+0LvRjNC30YPQtdC8IFVJTWFuYWdlclxyXG4gICAgICAgICAgaWYgKGxvYWRpbmdPdmVybGF5KSBsb2FkaW5nT3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbR2FtZV0gU3luY2hyb25vdXMgY29yZSBpbml0aWFsaXphdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgICBhbGVydChgQ3JpdGljYWwgaW5pdGlhbGl6YXRpb24gZXJyb3I6ICR7ZXJyb3IubWVzc2FnZX0uIEdhbWUgY2Fubm90IHN0YXJ0LmApO1xyXG4gICAgICB0aGlzLl9oYW5kbGVGYXRhbEVycm9yKGBJbml0aWFsaXphdGlvbiBlcnJvcjogJHtlcnJvci5tZXNzYWdlfWAsIGZhbHNlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldCBnYW1lU3RhdGUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fZ2FtZVN0YXRlO1xyXG4gIH1cclxuICBzZXRHYW1lU3RhdGUobmV3U3RhdGUpIHtcclxuICAgIGlmICh0aGlzLl9nYW1lU3RhdGUgIT09IG5ld1N0YXRlKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGBbR2FtZSBTdGF0ZV0gJHt0aGlzLl9nYW1lU3RhdGV9IC0+ICR7bmV3U3RhdGV9YCk7XHJcbiAgICAgIHRoaXMuX2dhbWVTdGF0ZSA9IG5ld1N0YXRlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2luaXRpYWxpemVDb3JlQ29tcG9uZW50cygpIHtcclxuICAgIHRoaXMuaW5wdXRNYW5hZ2VyID0gbmV3IElucHV0TWFuYWdlcigpO1xyXG4gICAgdGhpcy5sZXZlbCA9IG5ldyBMZXZlbCgxLCAzKTsgLy8g0J/RgNC40LzQtdGAOiDRjdGC0LDQttC4INC+0YIgMSDQtNC+IDNcclxuICB9XHJcblxyXG4gIF9pbml0aWFsaXplVUlNYW5hZ2VyKCkge1xyXG4gICAgaWYgKCF0aGlzLmdhbWVwbGF5TWFuYWdlcikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tHYW1lXSBHYW1lcGxheU1hbmFnZXIgaXMgTk9UIGRlZmluZWQgd2hlbiBfaW5pdGlhbGl6ZVVJTWFuYWdlciBpcyBjYWxsZWQhJyk7XHJcbiAgICB9XHJcbiAgICBpZiAoIXRoaXMuaW5wdXRNYW5hZ2VyKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignW0dhbWVdIElucHV0TWFuYWdlciBpcyBOT1QgZGVmaW5lZCB3aGVuIF9pbml0aWFsaXplVUlNYW5hZ2VyIGlzIGNhbGxlZCEnKTtcclxuICAgIH1cclxuICAgIFVJTWFuYWdlci5zZXRHYW1lcGxheU1hbmFnZXIodGhpcy5nYW1lcGxheU1hbmFnZXIpO1xyXG4gICAgVUlNYW5hZ2VyLmluaXRpYWxpemVVSSh0aGlzLmlucHV0TWFuYWdlcik7XHJcbiAgfVxyXG5cclxuICBfYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4gdGhpcy5yZW5kZXJlcj8ucmVzaXplQ2FudmFzKCkpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgX2xvYWRBc3NldHNBbmRUaGVuU3RhcnRMb2dpYygpIHtcclxuICAgIGNvbnN0IGxvYWRpbmdPdmVybGF5ID0gVUlNYW5hZ2VyLmdldExvYWRpbmdPdmVybGF5KCk7XHJcbiAgICB0cnkge1xyXG4gICAgICB0aGlzLnNldEdhbWVTdGF0ZShHYW1lU3RhdGUuTE9BRElORyk7XHJcblxyXG4gICAgICBhd2FpdCB0aGlzLl9sb2FkQXNzZXRzKCk7XHJcbiAgICAgIGF3YWl0IHRoaXMuX3N0YXJ0R2FtZUxvZ2ljKCk7XHJcblxyXG4gICAgICBpZiAobG9hZGluZ092ZXJsYXkpIGxvYWRpbmdPdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tHYW1lXSBBc3NldCBsb2FkaW5nIG9yIGdhbWUgbG9naWMgc3RhcnQgZmFpbGVkOicsIGVycm9yKTtcclxuICAgICAgaWYgKGxvYWRpbmdPdmVybGF5KSBsb2FkaW5nT3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZhdGFsRXJyb3IoYEFzc2V0L1N0YXJ0IExvZ2ljIEVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgX2xvYWRBc3NldHMoKSB7XHJcbiAgICBjb25zb2xlLmxvZygnW0dhbWVdIExvYWRpbmcgYXNzZXRzLi4uJyk7XHJcbiAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xyXG4gICAgY29uc3Qgc3ByaXRlUGF0aCA9IHRoaXMuc3ByaXRlc1t0aGlzLmNoYXJhY3RlckNvbG9yXSB8fCB0aGlzLnNwcml0ZXMucmVkO1xyXG5cclxuICAgIGlmICghdGhpcy5jdHgpIHRocm93IG5ldyBFcnJvcignQ2FudmFzIGNvbnRleHQgbm90IGF2YWlsYWJsZSBmb3IgQ2hhcmFjdGVyIGNyZWF0aW9uLicpO1xyXG4gICAgdGhpcy5jaGFyYWN0ZXIgPSBuZXcgQ2hhcmFjdGVyKHRoaXMuY3R4LCBzcHJpdGVQYXRoLCB7XHJcbiAgICAgIHNwZWVkOiAzLFxyXG4gICAgICBmcmFtZVNpemU6IDMyLFxyXG4gICAgICBzY2FsZTogMixcclxuICAgICAgYW5pbWF0aW9uU3BlZWQ6IDE1MCxcclxuICAgICAgZnJhbWVDb3VudDogNCxcclxuICAgIH0pO1xyXG4gICAgcHJvbWlzZXMucHVzaChcclxuICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIHRoaXMuY2hhcmFjdGVyLnNwcml0ZS5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhgICBbQXNzZXRzXSBDaGFyYWN0ZXIgc3ByaXRlIGxvYWRlZDogJHtzcHJpdGVQYXRofWApO1xyXG4gICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5jaGFyYWN0ZXIuc3ByaXRlLm9uZXJyb3IgPSAoZXJyKSA9PlxyXG4gICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgRmFpbGVkIHRvIGxvYWQgY2hhcmFjdGVyIHNwcml0ZTogJHtzcHJpdGVQYXRofS4gRGV0YWlsczogJHtlcnJ9YCkpO1xyXG4gICAgICB9KVxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAoYm9va1Nwcml0ZSkge1xyXG4gICAgICB0aGlzLmJvb2tJbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICB0aGlzLmJvb2tJbWFnZS5zcmMgPSBib29rU3ByaXRlO1xyXG4gICAgICBwcm9taXNlcy5wdXNoKFxyXG4gICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLmJvb2tJbWFnZS5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGAgIFtBc3NldHNdIEJvb2sgaW1hZ2UgbG9hZGVkOiAke2Jvb2tTcHJpdGV9YCk7XHJcbiAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICB0aGlzLmJvb2tJbWFnZS5vbmVycm9yID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICAgICAgYCBbQXNzZXRzXSBGYWlsZWQgdG8gbG9hZCBib29rIGltYWdlOiAke2Jvb2tTcHJpdGV9LiBVc2luZyBmYWxsYmFjayByZW5kZXJpbmcuYFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB0aGlzLmJvb2tJbWFnZSA9IG51bGw7XHJcbiAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignW0Fzc2V0c10gTm8gYm9vayBzcHJpdGUgcGF0aCBwcm92aWRlZC4gQm9vayB3aWxsIHVzZSBmYWxsYmFjayByZW5kZXJpbmcuJyk7XHJcbiAgICAgIHRoaXMuYm9va0ltYWdlID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XHJcbiAgICBjb25zb2xlLmxvZygnW0dhbWVdIEFsbCBhc3NldHMgbG9hZGVkIHN1Y2Nlc3NmdWxseS4nKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIF9zdGFydEdhbWVMb2dpYygpIHtcclxuICAgIGNvbnNvbGUubG9nKCdbR2FtZV0gU3RhcnRpbmcgY29yZSBnYW1lIGxvZ2ljLi4uJyk7XHJcbiAgICBpZiAoXHJcbiAgICAgICF0aGlzLmxldmVsIHx8XHJcbiAgICAgICF0aGlzLmNoYXJhY3RlciB8fFxyXG4gICAgICAhdGhpcy5jYW52YXMgfHxcclxuICAgICAgIXRoaXMucmVuZGVyZXIgfHxcclxuICAgICAgIXRoaXMuZ2FtZXBsYXlNYW5hZ2VyIHx8XHJcbiAgICAgICF0aGlzLmF1ZGlvTWFuYWdlclxyXG4gICAgKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHN0YXJ0IGdhbWUgLSBlc3NlbnRpYWwgY29tcG9uZW50cyBhcmUgbWlzc2luZy4nKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNldEdhbWVTdGF0ZShHYW1lU3RhdGUuTE9BRElOR19MRVZFTCk7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgdGhpcy5sZXZlbC5sb2FkRmxvb3IodGhpcy5sZXZlbC5taW5GbG9vciwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XHJcbiAgICAgIGNvbnN0IGN1cnJlbnRNYXAgPSB0aGlzLmxldmVsLmN1cnJlbnRNYXA7XHJcbiAgICAgIGlmICghY3VycmVudE1hcCkgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gbG9hZCBpbml0aWFsIG1hcC4gTWFwIG9iamVjdCBpcyBudWxsLicpO1xyXG5cclxuICAgICAgY29uc3Qgc3RhcnRQb3MgPSBjdXJyZW50TWFwLmZpbmRSYW5kb21Jbml0aWFsU3Bhd25Qb3NpdGlvbigpO1xyXG4gICAgICBpZiAoIXN0YXJ0UG9zKSB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmaW5kIGEgdmFsaWQgc3RhcnRpbmcgcG9zaXRpb24gb24gdGhlIG1hcCEnKTtcclxuICAgICAgdGhpcy5jaGFyYWN0ZXIueCA9IHN0YXJ0UG9zLng7XHJcbiAgICAgIHRoaXMuY2hhcmFjdGVyLnkgPSBzdGFydFBvcy55O1xyXG4gICAgICB0aGlzLmNoYXJhY3Rlci5jdXJyZW50RGlyZWN0aW9uID0gQ2hhcmFjdGVyLkRpcmVjdGlvbi5ET1dOO1xyXG4gICAgICB0aGlzLmNoYXJhY3Rlci5pc01vdmluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgdGhpcy5nYW1lcGxheU1hbmFnZXIuZW5zdXJlQ2hhcmFjdGVySXNPbldhbGthYmxlVGlsZShmYWxzZSk7XHJcblxyXG4gICAgICB0aGlzLnRvdGFsQm9va3NDb2xsZWN0ZWRHbG9iYWxseSA9IDA7XHJcbiAgICAgIHRoaXMuYXZhaWxhYmxlUXVlc3Rpb25zID0gWy4uLnF1ZXN0aW9uc107XHJcbiAgICAgIHRoaXMubGlmdENvb2xkb3duQWN0aXZlID0gZmFsc2U7XHJcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmxpZnRDb29sZG93blRpbWVyKTtcclxuICAgICAgdGhpcy5saWZ0Q29vbGRvd25UaW1lciA9IG51bGw7XHJcbiAgICAgIHRoaXMuY3VycmVudEJvb2tUYXJnZXQgPSBudWxsO1xyXG4gICAgICB0aGlzLmN1cnJlbnRRdWVzdGlvbkRhdGEgPSBudWxsO1xyXG5cclxuICAgICAgdGhpcy5yZW5kZXJlci5jZW50ZXJDYW1lcmFPbkNoYXJhY3RlcigpO1xyXG5cclxuICAgICAgVUlNYW5hZ2VyLnVwZGF0ZVNjb3JlKHRoaXMudG90YWxCb29rc0NvbGxlY3RlZEdsb2JhbGx5LCB0aGlzLnRhcmdldEJvb2tzVG9XaW4pO1xyXG4gICAgICBVSU1hbmFnZXIuc2hvd0dhbWVVSSgpO1xyXG5cclxuICAgICAgdGhpcy5fYm91bmRLZXlEb3duSGFuZGxlciA9IHRoaXMuaGFuZGxlS2V5RG93bi5iaW5kKHRoaXMpO1xyXG4gICAgICB0aGlzLl9ib3VuZEtleVVwSGFuZGxlciA9IHRoaXMuaGFuZGxlS2V5VXAuYmluZCh0aGlzKTtcclxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9ib3VuZEtleURvd25IYW5kbGVyKTtcclxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5fYm91bmRLZXlVcEhhbmRsZXIpO1xyXG5cclxuICAgICAgdGhpcy5hdWRpb01hbmFnZXIuc3RhcnRJbml0aWFsTXVzaWModGhpcy5sZXZlbC5jdXJyZW50Rmxvb3IpO1xyXG4gICAgICBjb25zb2xlLmxvZyhgW0dhbWVdIEluaXRpYWwgbXVzaWMgc3RhcnRlZCBmb3IgZmxvb3IgJHt0aGlzLmxldmVsLmN1cnJlbnRGbG9vcn1gKTtcclxuXHJcbiAgICAgIHRoaXMuc2V0R2FtZVN0YXRlKEdhbWVTdGF0ZS5QTEFZSU5HKTtcclxuICAgICAgaWYgKCF0aGlzLmlzUnVubmluZykge1xyXG4gICAgICAgIHRoaXMuaXNSdW5uaW5nID0gdHJ1ZTtcclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5nYW1lTG9vcCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1tHYW1lXSBHYW1lIGxvZ2ljIHN0YXJ0ZWQuIExvb3AgaXMgcnVubmluZy4nKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignW0dhbWVdIEVycm9yIGR1cmluZyBfc3RhcnRHYW1lTG9naWM6JywgZXJyb3IpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVGYXRhbEVycm9yKGBMZXZlbCBzdGFydCBwcm9jZXNzIGVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldEdhbWVPdmVyKHdpbiA9IHRydWUpIHtcclxuICAgIGlmICh0aGlzLmdhbWVTdGF0ZSA9PT0gR2FtZVN0YXRlLkdBTUVfT1ZFUikgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuc2V0R2FtZVN0YXRlKEdhbWVTdGF0ZS5HQU1FX09WRVIpO1xyXG4gICAgdGhpcy5pc1J1bm5pbmcgPSBmYWxzZTtcclxuICAgIGlmICh0aGlzLmNoYXJhY3RlcikgdGhpcy5jaGFyYWN0ZXIuaXNNb3ZpbmcgPSBmYWxzZTtcclxuICAgIGNsZWFyVGltZW91dCh0aGlzLmxpZnRDb29sZG93blRpbWVyKTtcclxuXHJcbiAgICBpZiAodGhpcy5hdWRpb01hbmFnZXIpIHtcclxuICAgICAgdGhpcy5hdWRpb01hbmFnZXIuc3RvcE11c2ljKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuX2JvdW5kS2V5RG93bkhhbmRsZXIpIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fYm91bmRLZXlEb3duSGFuZGxlcik7XHJcbiAgICBpZiAodGhpcy5fYm91bmRLZXlVcEhhbmRsZXIpIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX2JvdW5kS2V5VXBIYW5kbGVyKTtcclxuICAgIHRoaXMuX2JvdW5kS2V5RG93bkhhbmRsZXIgPSBudWxsO1xyXG4gICAgdGhpcy5fYm91bmRLZXlVcEhhbmRsZXIgPSBudWxsO1xyXG5cclxuICAgIC8vIFVJTWFuYWdlci5oaWRlR2FtZVVJKCk7IC8vINCS0YvQt9GL0LLQsNC10YLRgdGPINCy0L3Rg9GC0YDQuCBzaG93R2FtZU92ZXJTY3JlZW5cclxuICAgIC8vIFVJTWFuYWdlci5oaWRlUXVlc3Rpb24oKTsgLy8g0JLRi9C30YvQstCw0LXRgtGB0Y8g0LLQvdGD0YLRgNC4IHNob3dHYW1lT3ZlclNjcmVlblxyXG4gICAgLy8gVUlNYW5hZ2VyLmhpZGVGbG9vclNlbGVjdGlvblVJKCk7IC8vINCS0YvQt9GL0LLQsNC10YLRgdGPINCy0L3Rg9GC0YDQuCBzaG93R2FtZU92ZXJTY3JlZW5cclxuXHJcbiAgICBVSU1hbmFnZXIuc2hvd0dhbWVPdmVyU2NyZWVuKHdpbiwgR2FtZS5DUkVBVE9SX05BTUVTLCBHYW1lLkNMQVNTX0FUVEVORElOR19JTkZPKTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhgW0dhbWVdIEdhbWUgT3Zlci4gV2luOiAke3dpbn1gKTtcclxuICB9XHJcblxyXG4gIHN0b3BHYW1lKCkge1xyXG4gICAgY29uc29sZS5sb2coJ1tHYW1lXSBFeHBsaWNpdCBzdG9wR2FtZSByZXF1ZXN0ZWQuJyk7XHJcbiAgICB0aGlzLl9zZXRHYW1lT3ZlcihmYWxzZSk7XHJcbiAgICBjb25zb2xlLmxvZygnW0dhbWVdIEdhbWUgc3RvcHBlZC4nKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVGYXRhbEVycm9yKG1lc3NhZ2UsIHNob3dBbGVydCA9IHRydWUpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ1tHYW1lXSBGQVRBTCBFUlJPUjonLCBtZXNzYWdlKTtcclxuICAgIGlmIChzaG93QWxlcnQgJiYgdGhpcy5nYW1lU3RhdGUgIT09IEdhbWVTdGF0ZS5HQU1FX09WRVIpIHtcclxuICAgICAgaWYgKFVJTWFuYWdlci5mbGFzaE1lc3NhZ2VDb250YWluZXIgJiYgVUlNYW5hZ2VyLmZsYXNoTWVzc2FnZSkge1xyXG4gICAgICAgIFVJTWFuYWdlci5mbGFzaE1lc3NhZ2UoYEZBVEFMIEVSUk9SOiAke21lc3NhZ2V9YCwgJ2Vycm9yJywgMTUwMDApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFsZXJ0KGBGQVRBTCBFUlJPUjogJHttZXNzYWdlfWApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyDQo9Cx0LXQtNC40LzRgdGPLCDRh9GC0L4g0LjQs9GA0LAg0L/QtdGA0LXRhdC+0LTQuNGCINCyINGB0L7RgdGC0L7Rj9C90LjQtSBHQU1FX09WRVIg0Lgg0L/QvtC60LDQt9GL0LLQsNC10YIg0YHQvtC+0YLQstC10YLRgdGC0LLRg9GO0YnQuNC5INGN0LrRgNCw0L0uXHJcbiAgICBpZiAodGhpcy5nYW1lU3RhdGUgIT09IEdhbWVTdGF0ZS5HQU1FX09WRVIpIHtcclxuICAgICAgdGhpcy5fc2V0R2FtZU92ZXIoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlS2V5RG93bihlKSB7XHJcbiAgICBpZiAodGhpcy5nYW1lU3RhdGUgIT09IEdhbWVTdGF0ZS5QTEFZSU5HIHx8ICF0aGlzLmlucHV0TWFuYWdlcikgcmV0dXJuO1xyXG4gICAgbGV0IGtleUhhbmRsZWQgPSBmYWxzZTtcclxuICAgIGNvbnN0IGtleSA9IGUua2V5LnRvTG93ZXJDYXNlKCk7XHJcbiAgICBpZiAoWydhcnJvd3VwJywgJ3cnXS5pbmNsdWRlcyhrZXkpKSB7XHJcbiAgICAgIHRoaXMuaW5wdXRNYW5hZ2VyLnNldEtleSgndXAnLCB0cnVlKTtcclxuICAgICAga2V5SGFuZGxlZCA9IHRydWU7XHJcbiAgICB9IGVsc2UgaWYgKFsnYXJyb3dkb3duJywgJ3MnXS5pbmNsdWRlcyhrZXkpKSB7XHJcbiAgICAgIHRoaXMuaW5wdXRNYW5hZ2VyLnNldEtleSgnZG93bicsIHRydWUpO1xyXG4gICAgICBrZXlIYW5kbGVkID0gdHJ1ZTtcclxuICAgIH0gZWxzZSBpZiAoWydhcnJvd2xlZnQnLCAnYSddLmluY2x1ZGVzKGtleSkpIHtcclxuICAgICAgdGhpcy5pbnB1dE1hbmFnZXIuc2V0S2V5KCdsZWZ0JywgdHJ1ZSk7XHJcbiAgICAgIGtleUhhbmRsZWQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIGlmIChbJ2Fycm93cmlnaHQnLCAnZCddLmluY2x1ZGVzKGtleSkpIHtcclxuICAgICAgdGhpcy5pbnB1dE1hbmFnZXIuc2V0S2V5KCdyaWdodCcsIHRydWUpO1xyXG4gICAgICBrZXlIYW5kbGVkID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmIChrZXlIYW5kbGVkKSBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVLZXlVcChlKSB7XHJcbiAgICBpZiAoIXRoaXMuaW5wdXRNYW5hZ2VyKSByZXR1cm47XHJcbiAgICBjb25zdCBrZXkgPSBlLmtleS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgaWYgKFsnYXJyb3d1cCcsICd3J10uaW5jbHVkZXMoa2V5KSkgdGhpcy5pbnB1dE1hbmFnZXIuc2V0S2V5KCd1cCcsIGZhbHNlKTtcclxuICAgIGVsc2UgaWYgKFsnYXJyb3dkb3duJywgJ3MnXS5pbmNsdWRlcyhrZXkpKSB0aGlzLmlucHV0TWFuYWdlci5zZXRLZXkoJ2Rvd24nLCBmYWxzZSk7XHJcbiAgICBlbHNlIGlmIChbJ2Fycm93bGVmdCcsICdhJ10uaW5jbHVkZXMoa2V5KSkgdGhpcy5pbnB1dE1hbmFnZXIuc2V0S2V5KCdsZWZ0JywgZmFsc2UpO1xyXG4gICAgZWxzZSBpZiAoWydhcnJvd3JpZ2h0JywgJ2QnXS5pbmNsdWRlcyhrZXkpKSB0aGlzLmlucHV0TWFuYWdlci5zZXRLZXkoJ3JpZ2h0JywgZmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgZ2FtZUxvb3AodGltZXN0YW1wKSB7XHJcbiAgICBpZiAoIXRoaXMuaXNSdW5uaW5nIHx8IHRoaXMuZ2FtZVN0YXRlID09PSBHYW1lU3RhdGUuR0FNRV9PVkVSKSByZXR1cm47XHJcbiAgICB0aGlzLmdhbWVwbGF5TWFuYWdlcj8udXBkYXRlKHRpbWVzdGFtcCk7XHJcbiAgICB0aGlzLnJlbmRlcmVyPy5jZW50ZXJDYW1lcmFPbkNoYXJhY3RlcigpO1xyXG4gICAgdGhpcy5yZW5kZXJlcj8uZHJhd0ZyYW1lKCk7XHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5nYW1lTG9vcCk7XHJcbiAgfVxyXG5cclxuICBzdGFydExpZnRDb29sZG93blRpbWVyKCkge1xyXG4gICAgY2xlYXJUaW1lb3V0KHRoaXMubGlmdENvb2xkb3duVGltZXIpO1xyXG4gICAgY29uc29sZS5sb2coYFtHYW1lXSBTdGFydGluZyBsaWZ0IGNvb2xkb3duIHRpbWVyOiAke0xJRlRfQ09PTERPV05fTVN9bXMuYCk7XHJcbiAgICB0aGlzLmxpZnRDb29sZG93blRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHRoaXMubGlmdENvb2xkb3duQWN0aXZlID0gZmFsc2U7XHJcbiAgICAgIHRoaXMubGlmdENvb2xkb3duVGltZXIgPSBudWxsO1xyXG4gICAgICBpZiAodGhpcy5nYW1lU3RhdGUgPT09IEdhbWVTdGF0ZS5UUkFOU0lUSU9OSU5HKSB7XHJcbiAgICAgICAgdGhpcy5zZXRHYW1lU3RhdGUoR2FtZVN0YXRlLlBMQVlJTkcpO1xyXG4gICAgICAgIFVJTWFuYWdlci5mbGFzaE1lc3NhZ2UoYEFycml2ZWQgYXQgZmxvb3IgJHt0aGlzLmxldmVsPy5jdXJyZW50Rmxvb3J9YCwgJ3N1Y2Nlc3MnLCAxNTAwKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICBgW0dhbWVUaW1lcl0gTGlmdCBjb29sZG93biBlbmRlZCwgYnV0IGdhbWUgc3RhdGUgaXMgJHt0aGlzLmdhbWVTdGF0ZX0uIE5vIHN0YXRlIGNoYW5nZSBhcHBsaWVkLmBcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9LCBMSUZUX0NPT0xET1dOX01TKTtcclxuICB9XHJcbn1cclxuIiwiLy8gc3JjL1VJL01lbnUuanNcclxuaW1wb3J0IHsgR2FtZSB9IGZyb20gJy4uL0NvcmUvR2FtZS5qcyc7XHJcbmltcG9ydCB7IFVJTWFuYWdlciB9IGZyb20gJy4vVUlNYW5hZ2VyLmpzJztcclxuXHJcbmxldCBjdXJyZW50R2FtZUluc3RhbmNlID0gbnVsbDtcclxuXHJcbmNsYXNzIE1lbnUge1xyXG4gIGNvbnN0cnVjdG9yKGNoYXJhY3RlckltYWdlU291cmNlcykge1xyXG4gICAgdGhpcy5jaGFyYWN0ZXJJbWFnZVNvdXJjZXMgPSBjaGFyYWN0ZXJJbWFnZVNvdXJjZXM7XHJcbiAgICB0aGlzLnNlbGVjdGVkQ2hhcmFjdGVyID0gbnVsbDtcclxuICAgIHRoaXMudXNlckludGVyYWN0ZWQgPSBmYWxzZTtcclxuICAgIHRoaXMub3ZlcmxheSA9IG51bGw7XHJcbiAgICB0aGlzLmF1ZGlvTWFuYWdlckluc3RhbmNlID0gbnVsbDsgLy8gVG8gc3RvcmUgQXVkaW9NYW5hZ2VyXHJcblxyXG4gICAgY29uc29sZS5sb2coJ1tNZW51XSBDb25zdHJ1Y3RvciBjYWxsZWQuIEluaXRpYWxpemluZyBlbGVtZW50cy4uLicpO1xyXG4gICAgdGhpcy5pbml0aWFsaXplRWxlbWVudHMoKTtcclxuXHJcbiAgICBpZiAodGhpcy5jaGFyYWN0ZXJQYW5lbCkge1xyXG4gICAgICB0aGlzLnNldHVwQ2hhcmFjdGVySW1hZ2VzKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICdbTWVudSBDb25zdHJ1Y3Rvcl0gQ1JJVElDQUw6IHRoaXMuY2hhcmFjdGVyUGFuZWwgaXMgbnVsbCBBRlRFUiBpbml0aWFsaXplRWxlbWVudHMuIENhbm5vdCBzZXR1cCBpbWFnZXMuJ1xyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKCdbTWVudV0gQWRkaW5nIGV2ZW50IGxpc3RlbmVycy4uLicpO1xyXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpO1xyXG4gICAgY29uc29sZS5sb2coJ1tNZW51XSBJbnN0YW5jZSBjcmVhdGVkLicpO1xyXG4gIH1cclxuXHJcbiAgLy8gTWV0aG9kIHRvIGJlIGNhbGxlZCBmcm9tIEdhbWUuanMgdG8gcGFzcyBBdWRpb01hbmFnZXJcclxuICBzZXRBdWRpb01hbmFnZXIoYXVkaW9NYW5hZ2VyKSB7XHJcbiAgICB0aGlzLmF1ZGlvTWFuYWdlckluc3RhbmNlID0gYXVkaW9NYW5hZ2VyO1xyXG4gICAgY29uc29sZS5sb2coJ1tNZW51XSBBdWRpb01hbmFnZXIgaW5zdGFuY2UgcmVjZWl2ZWQuJyk7XHJcbiAgICAvLyBJbml0aWFsaXplIHZvbHVtZSBzbGlkZXIgdmFsdWUgaWYgQXVkaW9NYW5hZ2VyIGlzIG5vdyBhdmFpbGFibGVcclxuICAgIGlmICh0aGlzLm11c2ljVm9sdW1lICYmIHRoaXMuYXVkaW9NYW5hZ2VySW5zdGFuY2UpIHtcclxuICAgICAgLy8gVm9sdW1lIGZyb20gQXVkaW9NYW5hZ2VyIGlzIDAtMSwgc2xpZGVyIGlzIDAtMTAwXHJcbiAgICAgIHRoaXMubXVzaWNWb2x1bWUudmFsdWUgPSB0aGlzLmF1ZGlvTWFuYWdlckluc3RhbmNlLmdldE11c2ljVm9sdW1lKCkgKiAxMDA7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpbml0aWFsaXplRWxlbWVudHMoKSB7XHJcbiAgICB0aGlzLm1lbnVDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVudS1jb250YWluZXInKTtcclxuICAgIGlmICghdGhpcy5tZW51Q29udGFpbmVyKSBjb25zb2xlLmVycm9yKCdbTWVudSBJbml0XSBDUklUSUNBTDogLm1lbnUtY29udGFpbmVyIG5vdCBmb3VuZCEnKTtcclxuXHJcbiAgICB0aGlzLnNldHRpbmdzQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNldHRpbmdzLWJ1dHRvbicpO1xyXG4gICAgdGhpcy5wbGF5QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBsYXktYnV0dG9uJyk7XHJcbiAgICB0aGlzLmNoYXJhY3RlckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGFyYWN0ZXItYnV0dG9uJyk7XHJcblxyXG4gICAgaWYgKCF0aGlzLnBsYXlCdXR0b24pIGNvbnNvbGUud2FybignW01lbnUgSW5pdF0gLnBsYXktYnV0dG9uIG5vdCBmb3VuZC4nKTtcclxuICAgIGVsc2UgdGhpcy5wbGF5QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuXHJcbiAgICBpZiAoIXRoaXMuY2hhcmFjdGVyQnV0dG9uKSBjb25zb2xlLndhcm4oJ1tNZW51IEluaXRdIC5jaGFyYWN0ZXItYnV0dG9uIG5vdCBmb3VuZC4nKTtcclxuXHJcbiAgICB0aGlzLnNldHRpbmdzUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2V0dGluZ3MtcGFuZWwnKTtcclxuICAgIGlmICh0aGlzLnNldHRpbmdzUGFuZWwpIHtcclxuICAgICAgaWYgKHRoaXMuc2V0dGluZ3NQYW5lbC5wYXJlbnROb2RlICE9PSBkb2N1bWVudC5ib2R5KSB7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnNldHRpbmdzUGFuZWwpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMubXVzaWNWb2x1bWUgPSB0aGlzLnNldHRpbmdzUGFuZWwucXVlcnlTZWxlY3RvcignI211c2ljLXZvbHVtZScpOyAvLyBUaGlzIGlzIHRoZSBzbGlkZXJcclxuICAgICAgdGhpcy5zZnhWb2x1bWUgPSB0aGlzLnNldHRpbmdzUGFuZWwucXVlcnlTZWxlY3RvcignI3NmeC12b2x1bWUnKTtcclxuICAgICAgdGhpcy5jbG9zZVNldHRpbmdzQnV0dG9uID0gdGhpcy5zZXR0aW5nc1BhbmVsLnF1ZXJ5U2VsZWN0b3IoJy5wYW5lbC1jbG9zZS1idXR0b24nKTtcclxuXHJcbiAgICAgIC8vIEluaXRpYWxpemUgc2xpZGVyIHZhbHVlIGlmIGF1ZGlvTWFuYWdlckluc3RhbmNlIGlzIGFscmVhZHkgc29tZWhvdyBzZXRcclxuICAgICAgLy8gKHRob3VnaCB0eXBpY2FsbHkgaXQgd29uJ3QgYmUgYXQgdGhpcyBleGFjdCBwb2ludClcclxuICAgICAgaWYgKHRoaXMubXVzaWNWb2x1bWUgJiYgdGhpcy5hdWRpb01hbmFnZXJJbnN0YW5jZSkge1xyXG4gICAgICAgIHRoaXMubXVzaWNWb2x1bWUudmFsdWUgPSB0aGlzLmF1ZGlvTWFuYWdlckluc3RhbmNlLmdldE11c2ljVm9sdW1lKCkgKiAxMDA7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignW01lbnUgSW5pdF0gLnNldHRpbmdzLXBhbmVsIG5vdCBmb3VuZC4nKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmNoYXJhY3RlclBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXJhY3Rlci1wYW5lbCcpO1xyXG4gICAgaWYgKHRoaXMuY2hhcmFjdGVyUGFuZWwpIHtcclxuICAgICAgaWYgKHRoaXMuY2hhcmFjdGVyUGFuZWwucGFyZW50Tm9kZSAhPT0gZG9jdW1lbnQuYm9keSkge1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5jaGFyYWN0ZXJQYW5lbCk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5jaGFyYWN0ZXJHcmlkID0gdGhpcy5jaGFyYWN0ZXJQYW5lbC5xdWVyeVNlbGVjdG9yKCcuY2hhcmFjdGVyLWdyaWQnKTtcclxuICAgICAgdGhpcy5jbG9zZUNoYXJhY3RlclBhbmVsQnV0dG9uID0gdGhpcy5jaGFyYWN0ZXJQYW5lbC5xdWVyeVNlbGVjdG9yKCcucGFuZWwtY2xvc2UtYnV0dG9uJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbTWVudSBJbml0XSBDUklUSUNBTDogLmNoYXJhY3Rlci1wYW5lbCBub3QgZm91bmQgZHVyaW5nIGluaXRpYWxpemF0aW9uIScpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXJEaXNwbGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB0aGlzLnNlbGVjdGVkQ2hhcmFjdGVyRGlzcGxheS5jbGFzc05hbWUgPSAnc2VsZWN0ZWQtY2hhcmFjdGVyLWRpc3BsYXknO1xyXG5cclxuICAgIGNvbnN0IG1haW5NZW51QnV0dG9uc0NvbnRhaW5lciA9IHRoaXMubWVudUNvbnRhaW5lclxyXG4gICAgICA/IHRoaXMubWVudUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcubWFpbi1tZW51LWJ1dHRvbnMnKVxyXG4gICAgICA6IG51bGw7XHJcblxyXG4gICAgaWYgKHRoaXMucGxheUJ1dHRvbiAmJiB0aGlzLnBsYXlCdXR0b24ucGFyZW50Tm9kZSkge1xyXG4gICAgICB0aGlzLnBsYXlCdXR0b24ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5zZWxlY3RlZENoYXJhY3RlckRpc3BsYXksIHRoaXMucGxheUJ1dHRvbik7XHJcbiAgICB9IGVsc2UgaWYgKG1haW5NZW51QnV0dG9uc0NvbnRhaW5lcikge1xyXG4gICAgICBtYWluTWVudUJ1dHRvbnNDb250YWluZXIuaW5zZXJ0QmVmb3JlKFxyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXJEaXNwbGF5LFxyXG4gICAgICAgIG1haW5NZW51QnV0dG9uc0NvbnRhaW5lci5jaGlsZHJlblsxXSB8fCBudWxsXHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMubWVudUNvbnRhaW5lcikge1xyXG4gICAgICB0aGlzLm1lbnVDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5zZWxlY3RlZENoYXJhY3RlckRpc3BsYXkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAnW01lbnUgSW5pdF0gQ2Fubm90IGFwcGVuZCBzZWxlY3RlZENoYXJhY3RlckRpc3BsYXk6IG5vIHN1aXRhYmxlIHBhcmVudCBmb3VuZC4nXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnVwZGF0ZVNlbGVjdGVkQ2hhcmFjdGVyRGlzcGxheSgpO1xyXG4gIH1cclxuXHJcbiAgc2V0dXBDaGFyYWN0ZXJJbWFnZXMoKSB7XHJcbiAgICBpZiAoIXRoaXMuY2hhcmFjdGVyUGFuZWwpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKCF0aGlzLmNoYXJhY3RlckltYWdlU291cmNlcykge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY2hhcmFjdGVyQ2FyZHMgPSB0aGlzLmNoYXJhY3RlclBhbmVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGFyYWN0ZXItY2FyZCcpO1xyXG4gICAgaWYgKGNoYXJhY3RlckNhcmRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY2hhcmFjdGVyQ2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xyXG4gICAgICBjb25zdCBjaGFyYWN0ZXJLZXkgPSBjYXJkLmRhdGFzZXQuY2hhcmFjdGVyO1xyXG4gICAgICBjb25zdCBpbWdFbGVtZW50ID0gY2FyZC5xdWVyeVNlbGVjdG9yKCcuY2hhcmFjdGVyLXByZXZpZXcgaW1nJyk7XHJcblxyXG4gICAgICBpZiAoaW1nRWxlbWVudCAmJiB0aGlzLmNoYXJhY3RlckltYWdlU291cmNlc1tjaGFyYWN0ZXJLZXldKSB7XHJcbiAgICAgICAgaW1nRWxlbWVudC5zcmMgPSB0aGlzLmNoYXJhY3RlckltYWdlU291cmNlc1tjaGFyYWN0ZXJLZXldO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUZpcnN0SW50ZXJhY3Rpb24oKSB7XHJcbiAgICBpZiAoIXRoaXMudXNlckludGVyYWN0ZWQpIHtcclxuICAgICAgdGhpcy51c2VySW50ZXJhY3RlZCA9IHRydWU7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdbTWVudV0gRmlyc3QgdXNlciBpbnRlcmFjdGlvbiBkZXRlY3RlZC4nKTtcclxuICAgICAgLy8gTm8gbmVlZCB0byBleHBsaWNpdGx5IGluaXQgQXVkaW9NYW5hZ2VyIGhlcmUsIEdhbWUuanMgd2lsbCBoYW5kbGUgaXRcclxuICAgICAgLy8gd2hlbiBzdGFydEdhbWUgaXMgY2FsbGVkLlxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBjb25zdCBhZGRJbnRlcmFjdGl2ZUxpc3RlbmVyID0gKGVsZW1lbnQsIGV2ZW50VHlwZSwgaGFuZGxlckZuKSA9PiB7XHJcbiAgICAgIGlmIChlbGVtZW50KSB7XHJcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICB0aGlzLmhhbmRsZUZpcnN0SW50ZXJhY3Rpb24oKTtcclxuICAgICAgICAgIGhhbmRsZXJGbi5jYWxsKHRoaXMsIGV2ZW50KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBhZGRJbnRlcmFjdGl2ZUxpc3RlbmVyKHRoaXMuc2V0dGluZ3NCdXR0b24sICdjbGljaycsIHRoaXMudG9nZ2xlU2V0dGluZ3MpO1xyXG4gICAgYWRkSW50ZXJhY3RpdmVMaXN0ZW5lcih0aGlzLnBsYXlCdXR0b24sICdjbGljaycsIHRoaXMuc3RhcnRHYW1lKTtcclxuICAgIGFkZEludGVyYWN0aXZlTGlzdGVuZXIodGhpcy5jaGFyYWN0ZXJCdXR0b24sICdjbGljaycsIHRoaXMub3BlbkNoYXJhY3Rlck1vZGFsKTtcclxuXHJcbiAgICBpZiAodGhpcy5jbG9zZVNldHRpbmdzQnV0dG9uKSB7XHJcbiAgICAgIHRoaXMuY2xvc2VTZXR0aW5nc0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuY2xvc2VTZXR0aW5ncygpKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLmNsb3NlQ2hhcmFjdGVyUGFuZWxCdXR0b24pIHtcclxuICAgICAgdGhpcy5jbG9zZUNoYXJhY3RlclBhbmVsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5jbG9zZUNoYXJhY3Rlck1vZGFsKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLm11c2ljVm9sdW1lKSB7XHJcbiAgICAgIHRoaXMubXVzaWNWb2x1bWUuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZSkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmF1ZGlvTWFuYWdlckluc3RhbmNlKSB7XHJcbiAgICAgICAgICAvLyBTbGlkZXIgdmFsdWUgaXMgMC0xMDAsIEF1ZGlvTWFuYWdlciBleHBlY3RzIDAtMVxyXG4gICAgICAgICAgY29uc3QgbmV3Vm9sdW1lID0gcGFyc2VGbG9hdChlLnRhcmdldC52YWx1ZSkgLyAxMDA7XHJcbiAgICAgICAgICB0aGlzLmF1ZGlvTWFuYWdlckluc3RhbmNlLnNldE11c2ljVm9sdW1lKG5ld1ZvbHVtZSk7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhgW01lbnVdIE11c2ljIHZvbHVtZSBjaGFuZ2VkIHZpYSBzbGlkZXIgdG86ICR7bmV3Vm9sdW1lfWApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ1tNZW51XSBNdXNpYyB2b2x1bWUgc2xpZGVyIGNoYW5nZWQsIGJ1dCBBdWRpb01hbmFnZXIgbm90IGF2YWlsYWJsZS4nKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuc2Z4Vm9sdW1lKSB7XHJcbiAgICAgIC8vIFNGWCB2b2x1bWUgbGlzdGVuZXIgKGlmIHlvdSBpbXBsZW1lbnQgU0ZYIGxhdGVyKVxyXG4gICAgICAvLyB0aGlzLnNmeFZvbHVtZS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKSA9PiB7XHJcbiAgICAgIC8vICAgaWYgKHRoaXMuYXVkaW9NYW5hZ2VySW5zdGFuY2UgJiYgdHlwZW9mIHRoaXMuYXVkaW9NYW5hZ2VySW5zdGFuY2Uuc2V0U2Z4Vm9sdW1lID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIC8vICAgICB0aGlzLmF1ZGlvTWFuYWdlckluc3RhbmNlLnNldFNmeFZvbHVtZShwYXJzZUZsb2F0KGUudGFyZ2V0LnZhbHVlKSAvIDEwMCk7XHJcbiAgICAgIC8vICAgfVxyXG4gICAgICAvLyB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5jaGFyYWN0ZXJHcmlkKSB7XHJcbiAgICAgIHRoaXMuY2hhcmFjdGVyR3JpZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNsaWNrZWRDYXJkID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJy5jaGFyYWN0ZXItY2FyZCcpO1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIGNsaWNrZWRDYXJkICYmXHJcbiAgICAgICAgICB0aGlzLmNoYXJhY3RlclBhbmVsICYmXHJcbiAgICAgICAgICB0aGlzLmNoYXJhY3RlclBhbmVsLmNsYXNzTGlzdC5jb250YWlucygndmlzaWJsZScpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICB0aGlzLmhhbmRsZUZpcnN0SW50ZXJhY3Rpb24oKTtcclxuICAgICAgICAgIHRoaXMuc2VsZWN0Q2hhcmFjdGVyKGNsaWNrZWRDYXJkKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb3BlbkNoYXJhY3Rlck1vZGFsKCkge1xyXG4gICAgaWYgKCF0aGlzLmNoYXJhY3RlclBhbmVsIHx8ICF0aGlzLmNoYXJhY3RlckdyaWQpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy5jaGFyYWN0ZXJQYW5lbC5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XHJcblxyXG4gICAgaWYgKHRoaXMuc2V0dGluZ3NQYW5lbD8uY2xhc3NMaXN0LmNvbnRhaW5zKCd2aXNpYmxlJykpIHtcclxuICAgICAgdGhpcy5jbG9zZVNldHRpbmdzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCF0aGlzLm92ZXJsYXkpIHtcclxuICAgICAgdGhpcy5vdmVybGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHRoaXMub3ZlcmxheS5jbGFzc05hbWUgPSAnY2hhcmFjdGVyLW1vZGFsLW92ZXJsYXknO1xyXG4gICAgICB0aGlzLm92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGlmIChlLnRhcmdldCA9PT0gdGhpcy5vdmVybGF5KSB7XHJcbiAgICAgICAgICB0aGlzLmNsb3NlQ2hhcmFjdGVyTW9kYWwoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMub3ZlcmxheSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLm92ZXJsYXkuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2VDaGFyYWN0ZXJNb2RhbCgpIHtcclxuICAgIGlmICh0aGlzLmNoYXJhY3RlclBhbmVsKSB7XHJcbiAgICAgIHRoaXMuY2hhcmFjdGVyUGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMub3ZlcmxheSkge1xyXG4gICAgICB0aGlzLm92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2VsZWN0Q2hhcmFjdGVyKGNhcmRFbGVtZW50KSB7XHJcbiAgICBpZiAoIXRoaXMuY2hhcmFjdGVyR3JpZCB8fCAhY2FyZEVsZW1lbnQ/LmRhdGFzZXQ/LmNoYXJhY3Rlcikge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBzZWxlY3RlZENoYXJLZXkgPSBjYXJkRWxlbWVudC5kYXRhc2V0LmNoYXJhY3RlcjtcclxuXHJcbiAgICB0aGlzLmNoYXJhY3RlckdyaWRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGFyYWN0ZXItY2FyZCcpXHJcbiAgICAgIC5mb3JFYWNoKChjKSA9PiBjLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJykpO1xyXG4gICAgY2FyZEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcclxuICAgIHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXIgPSBzZWxlY3RlZENoYXJLZXk7XHJcblxyXG4gICAgaWYgKHRoaXMucGxheUJ1dHRvbikge1xyXG4gICAgICB0aGlzLnBsYXlCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnVwZGF0ZVNlbGVjdGVkQ2hhcmFjdGVyRGlzcGxheSgpO1xyXG4gICAgdGhpcy5jbG9zZUNoYXJhY3Rlck1vZGFsKCk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVTZWxlY3RlZENoYXJhY3RlckRpc3BsYXkoKSB7XHJcbiAgICBpZiAoIXRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXJEaXNwbGF5KSByZXR1cm47XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICB0aGlzLnNlbGVjdGVkQ2hhcmFjdGVyICYmXHJcbiAgICAgIHRoaXMuY2hhcmFjdGVySW1hZ2VTb3VyY2VzICYmXHJcbiAgICAgIHRoaXMuY2hhcmFjdGVySW1hZ2VTb3VyY2VzW3RoaXMuc2VsZWN0ZWRDaGFyYWN0ZXJdXHJcbiAgICApIHtcclxuICAgICAgY29uc3QgY2hhcmFjdGVyS2V5ID0gdGhpcy5zZWxlY3RlZENoYXJhY3RlcjtcclxuICAgICAgY29uc3QgaW1nU3JjID0gdGhpcy5jaGFyYWN0ZXJJbWFnZVNvdXJjZXNbY2hhcmFjdGVyS2V5XTtcclxuICAgICAgbGV0IGRpc3BsYXllZE5hbWUgPSBjaGFyYWN0ZXJLZXkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBjaGFyYWN0ZXJLZXkuc2xpY2UoMSkgKyAnIFN0dWRlbnQnO1xyXG5cclxuICAgICAgaWYgKHRoaXMuY2hhcmFjdGVyR3JpZCkge1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkQ2FyZEVsZW1lbnRIMyA9IHRoaXMuY2hhcmFjdGVyR3JpZC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgICAgYC5jaGFyYWN0ZXItY2FyZFtkYXRhLWNoYXJhY3Rlcj1cIiR7Y2hhcmFjdGVyS2V5fVwiXSBoM2BcclxuICAgICAgICApO1xyXG4gICAgICAgIGlmIChzZWxlY3RlZENhcmRFbGVtZW50SDMpIHtcclxuICAgICAgICAgIGRpc3BsYXllZE5hbWUgPSBzZWxlY3RlZENhcmRFbGVtZW50SDMudGV4dENvbnRlbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXJEaXNwbGF5LmlubmVySFRNTCA9IGA8aW1nIHNyYz1cIiR7aW1nU3JjfVwiIGFsdD1cIiR7ZGlzcGxheWVkTmFtZX1cIiBzdHlsZT1cIndpZHRoOjMycHg7aGVpZ2h0OjMycHg7dmVydGljYWwtYWxpZ246bWlkZGxlO21hcmdpbi1yaWdodDo4cHg7IGJvcmRlci1yYWRpdXM6NTAlOyBvYmplY3QtZml0OmNvdmVyOyBiYWNrZ3JvdW5kLWNvbG9yOiAjNDQ0O1wiPiA8c3BhbiBzdHlsZT1cImZvbnQtd2VpZ2h0OmJvbGQ7XCI+JHtkaXNwbGF5ZWROYW1lfTwvc3Bhbj5gO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zZWxlY3RlZENoYXJhY3RlckRpc3BsYXkuaW5uZXJIVE1MID1cclxuICAgICAgICAnPHNwYW4gc3R5bGU9XCJjb2xvcjojYWFhO1wiPk5vIGNoYXJhY3RlciBzZWxlY3RlZDwvc3Bhbj4nO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdG9nZ2xlU2V0dGluZ3MoKSB7XHJcbiAgICBpZiAoIXRoaXMuc2V0dGluZ3NQYW5lbCkgcmV0dXJuO1xyXG4gICAgY29uc3QgaXNWaXNpYmxlID0gdGhpcy5zZXR0aW5nc1BhbmVsLmNsYXNzTGlzdC5jb250YWlucygndmlzaWJsZScpO1xyXG4gICAgaWYgKGlzVmlzaWJsZSkge1xyXG4gICAgICB0aGlzLmNsb3NlU2V0dGluZ3MoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMub3BlblNldHRpbmdzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvcGVuU2V0dGluZ3MoKSB7XHJcbiAgICBpZiAodGhpcy5zZXR0aW5nc1BhbmVsKSB7XHJcbiAgICAgIHRoaXMuc2V0dGluZ3NQYW5lbC5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XHJcbiAgICAgIGlmICh0aGlzLmNoYXJhY3RlclBhbmVsPy5jbGFzc0xpc3QuY29udGFpbnMoJ3Zpc2libGUnKSkge1xyXG4gICAgICAgIHRoaXMuY2xvc2VDaGFyYWN0ZXJNb2RhbCgpO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIEVuc3VyZSBzbGlkZXIgcmVmbGVjdHMgY3VycmVudCB2b2x1bWUgd2hlbiBwYW5lbCBvcGVuc1xyXG4gICAgICBpZiAodGhpcy5tdXNpY1ZvbHVtZSAmJiB0aGlzLmF1ZGlvTWFuYWdlckluc3RhbmNlKSB7XHJcbiAgICAgICAgdGhpcy5tdXNpY1ZvbHVtZS52YWx1ZSA9IHRoaXMuYXVkaW9NYW5hZ2VySW5zdGFuY2UuZ2V0TXVzaWNWb2x1bWUoKSAqIDEwMDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY2xvc2VTZXR0aW5ncygpIHtcclxuICAgIGlmICh0aGlzLnNldHRpbmdzUGFuZWwgJiYgdGhpcy5zZXR0aW5nc1BhbmVsLmNsYXNzTGlzdC5jb250YWlucygndmlzaWJsZScpKSB7XHJcbiAgICAgIHRoaXMuc2V0dGluZ3NQYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBzdGFydEdhbWUoKSB7XHJcbiAgICBpZiAoIXRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXIpIHtcclxuICAgICAgVUlNYW5hZ2VyLmZsYXNoTWVzc2FnZSgnUGxlYXNlIHNlbGVjdCBhIGNoYXJhY3RlciBmaXJzdCEnLCAnd2FybmluZycsIDI1MDApO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbG9hZGluZ092ZXJsYXkgPSBVSU1hbmFnZXIuZ2V0TG9hZGluZ092ZXJsYXkoKTtcclxuICAgIGlmIChsb2FkaW5nT3ZlcmxheSkgbG9hZGluZ092ZXJsYXkuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xyXG5cclxuICAgIGlmICh0aGlzLm1lbnVDb250YWluZXIpIHtcclxuICAgICAgdGhpcy5tZW51Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAobG9hZGluZ092ZXJsYXkpIGxvYWRpbmdPdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGdhbWVDYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZS1jYW52YXMnKTtcclxuICAgIGlmIChnYW1lQ2FudmFzKSB7XHJcbiAgICAgIGdhbWVDYW52YXMuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbTWVudV0gQ1JJVElDQUw6ICNnYW1lLWNhbnZhcyBub3QgZm91bmQhJyk7XHJcbiAgICAgIGlmICh0aGlzLm1lbnVDb250YWluZXIpIHRoaXMubWVudUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xyXG4gICAgICBpZiAobG9hZGluZ092ZXJsYXkpIGxvYWRpbmdPdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGlmIChjdXJyZW50R2FtZUluc3RhbmNlICYmIHR5cGVvZiBjdXJyZW50R2FtZUluc3RhbmNlLnN0b3BHYW1lID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgY3VycmVudEdhbWVJbnN0YW5jZS5zdG9wR2FtZSgpO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIEdhbWUgY29uc3RydWN0b3Igd2lsbCBjcmVhdGUgQXVkaW9NYW5hZ2VyXHJcbiAgICAgIGN1cnJlbnRHYW1lSW5zdGFuY2UgPSBuZXcgR2FtZSh0aGlzLnNlbGVjdGVkQ2hhcmFjdGVyKTtcclxuXHJcbiAgICAgIC8vIFBhc3MgdGhlIEF1ZGlvTWFuYWdlciBmcm9tIHRoZSBuZXcgZ2FtZSBpbnN0YW5jZSB0byB0aGlzIE1lbnUgaW5zdGFuY2VcclxuICAgICAgaWYgKGN1cnJlbnRHYW1lSW5zdGFuY2UgJiYgY3VycmVudEdhbWVJbnN0YW5jZS5hdWRpb01hbmFnZXIpIHtcclxuICAgICAgICB0aGlzLnNldEF1ZGlvTWFuYWdlcihjdXJyZW50R2FtZUluc3RhbmNlLmF1ZGlvTWFuYWdlcik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgICAgJ1tNZW51IHN0YXJ0R2FtZV0gRmFpbGVkIHRvIGdldCBBdWRpb01hbmFnZXIgZnJvbSBuZXcgR2FtZSBpbnN0YW5jZSB0byBzZXQgaXQgaW4gTWVudS4nXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignW01lbnVdIENyaXRpY2FsIGVycm9yIGR1cmluZyBnYW1lIGluaXRpYWxpemF0aW9uOicsIGVycm9yKTtcclxuICAgICAgVUlNYW5hZ2VyLmZsYXNoTWVzc2FnZShgR2FtZSBTdGFydCBGYWlsZWQ6ICR7ZXJyb3IubWVzc2FnZX1gLCAnZXJyb3InLCAxMDAwMCk7XHJcbiAgICAgIGlmICh0aGlzLm1lbnVDb250YWluZXIpIHRoaXMubWVudUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xyXG4gICAgICBpZiAoZ2FtZUNhbnZhcykgZ2FtZUNhbnZhcy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICBpZiAobG9hZGluZ092ZXJsYXkpIGxvYWRpbmdPdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcclxuICAgICAgY3VycmVudEdhbWVJbnN0YW5jZSA9IG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbmV4cG9ydCB7IE1lbnUsIGN1cnJlbnRHYW1lSW5zdGFuY2UgfTsgLy8gRXhwb3J0IGN1cnJlbnRHYW1lSW5zdGFuY2UgaWYgbmVlZGVkIGV4dGVybmFsbHlcclxuIiwiLy8g0J/QoNCV0JTQn9Ce0JvQkNCT0JDQldCc0J7QlSDQoNCQ0KHQn9Ce0JvQntCW0JXQndCY0JU6IGpzL21haW4uanMgKNC10YHQu9C4IGVudHJ5INCyIHdlYnBhY2suY29uZmlnLmpzICcuL2pzL21haW4uanMnKVxyXG4vLyDQmNCb0Jggc3JjL21haW4uanMgKNC10YHQu9C4IGVudHJ5ICcuL3NyYy9tYWluLmpzJylcclxuXHJcbi8vINCV0YHQu9C4INGN0YLQvtGCINGE0LDQudC7INC90LDRhdC+0LTQuNGC0YHRjyDQsiAvanMsINCwINC/0LDQv9C60LAgL3NyYyDQvdCwINGC0L7QvCDQttC1INGD0YDQvtCy0L3QtTpcclxuaW1wb3J0IHsgTWVudSB9IGZyb20gJy4vVUkvTWVudS5qcyc7XHJcbmltcG9ydCAnLi4vY3NzL3N0eWxlcy5jc3MnO1xyXG5pbXBvcnQgcmVkU3R1ZGVudEltZyBmcm9tICcuLi9hc3NldHMvaW1hZ2VzL2NoYXJhY3Rlcl9yZWQucG5nJztcclxuaW1wb3J0IGJsdWVTdHVkZW50SW1nIGZyb20gJy4uL2Fzc2V0cy9pbWFnZXMvY2hhcmFjdGVyX2JsdWUucG5nJztcclxuaW1wb3J0IHllbGxvd1N0dWRlbnRJbWcgZnJvbSAnLi4vYXNzZXRzL2ltYWdlcy9jaGFyYWN0ZXJfeWVsbG93LnBuZyc7XHJcbmltcG9ydCBncmVlblN0dWRlbnRJbWcgZnJvbSAnLi4vYXNzZXRzL2ltYWdlcy9jaGFyYWN0ZXJfZ3JlZW4ucG5nJztcclxuXHJcbi8vINCV0YHQu9C4INGN0YLQvtGCINGE0LDQudC7INC90LDRhdC+0LTQuNGC0YHRjyDQsiAvc3JjICjQuCB3ZWJwYWNrIGVudHJ5INCx0YvQuyDQuNC30LzQtdC90LXQvSk6XHJcbi8qXHJcbmltcG9ydCB7IE1lbnUgfSBmcm9tICcuL1VJL01lbnUuanMnO1xyXG5pbXBvcnQgJy4uL2Nzcy9zdHlsZXMuY3NzJzsgLy8g0JLQvtC30LzQvtC20L3Qviwg0L/Rg9GC0Ywg0LogQ1NTINGC0L7QttC1INC90YPQttC90L4g0LHRg9C00LXRgiDQuNC30LzQtdC90LjRgtGMLCDQvdCw0L/RgNC40LzQtdGALCAnLi9jc3Mvc3R5bGVzLmNzcycg0LXRgdC70LggQ1NTINCyIHNyYy9jc3NcclxuaW1wb3J0IHJlZFN0dWRlbnRJbWcgZnJvbSAnLi9hc3NldHMvaW1hZ2VzL2NoYXJhY3Rlcl9yZWQucG5nJztcclxuaW1wb3J0IGJsdWVTdHVkZW50SW1nIGZyb20gJy4vYXNzZXRzL2ltYWdlcy9jaGFyYWN0ZXJfYmx1ZS5wbmcnO1xyXG5pbXBvcnQgeWVsbG93U3R1ZGVudEltZyBmcm9tICcuL2Fzc2V0cy9pbWFnZXMvY2hhcmFjdGVyX3llbGxvdy5wbmcnO1xyXG5pbXBvcnQgZ3JlZW5TdHVkZW50SW1nIGZyb20gJy4vYXNzZXRzL2ltYWdlcy9jaGFyYWN0ZXJfZ3JlZW4ucG5nJztcclxuKi9cclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XHJcbiAgY29uc29sZS5sb2coJ1ttYWluLmpzXSBET01Db250ZW50TG9hZGVkLiBJbml0aWFsaXppbmcgTWVudS4uLicpO1xyXG5cclxuICBjb25zdCBjaGFyYWN0ZXJJbWFnZVNvdXJjZXMgPSB7XHJcbiAgICByZWQ6IHJlZFN0dWRlbnRJbWcsXHJcbiAgICBibHVlOiBibHVlU3R1ZGVudEltZyxcclxuICAgIHllbGxvdzogeWVsbG93U3R1ZGVudEltZyxcclxuICAgIGdyZWVuOiBncmVlblN0dWRlbnRJbWcsXHJcbiAgfTtcclxuXHJcbiAgbmV3IE1lbnUoY2hhcmFjdGVySW1hZ2VTb3VyY2VzKTtcclxufSk7XHJcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZyIsImdsb2JhbFRoaXMiLCJ0aGlzIiwiRnVuY3Rpb24iLCJlIiwid2luZG93Iiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiZG9jdW1lbnQiLCJjdXJyZW50U2NyaXB0IiwidGFnTmFtZSIsInRvVXBwZXJDYXNlIiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwibGVuZ3RoIiwiaSIsInRlc3QiLCJFcnJvciIsInJlcGxhY2UiLCJwIiwiSW5wdXRNYW5hZ2VyIiwiY29uc3RydWN0b3IiLCJrZXlzIiwidXAiLCJkb3duIiwibGVmdCIsInJpZ2h0Iiwic2V0S2V5Iiwia2V5IiwiaXNQcmVzc2VkIiwiaGFzT3duUHJvcGVydHkiLCJnZXRJbnB1dERpcmVjdGlvbiIsIngiLCJ5IiwiR2FtZVN0YXRlIiwiTE9BRElORyIsIk1FTlUiLCJQTEFZSU5HIiwiQVNLSU5HX1FVRVNUSU9OIiwiU0VMRUNUSU5HX0ZMT09SIiwiVFJBTlNJVElPTklORyIsIkdBTUVfT1ZFUiIsInF1ZXN0aW9ucyIsInF1ZXN0aW9uIiwib3B0aW9ucyIsImNvcnJlY3RBbnN3ZXIiLCJVSU1hbmFnZXIiLCJzdGF0aWMiLCJzZXRHYW1lcGxheU1hbmFnZXIiLCJtYW5hZ2VyIiwiZ2FtZXBsYXlNYW5hZ2VySW5zdGFuY2UiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJpbml0aWFsaXplVUkiLCJpbnB1dE1hbmFnZXIiLCJjcmVhdGVDb250cm9scyIsImNyZWF0ZVF1ZXN0aW9uVUkiLCJjcmVhdGVGbG9vclNlbGVjdGlvblVJIiwiZW5zdXJlRmxhc2hNZXNzYWdlQ29udGFpbmVyIiwiY3JlYXRlR2FtZU92ZXJTY3JlZW4iLCJ3YXJuIiwiY29udHJvbHNDb250YWluZXIiLCJnZXRFbGVtZW50QnlJZCIsImNyZWF0ZUVsZW1lbnQiLCJpZCIsImNsYXNzTGlzdCIsImFkZCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImlubmVySFRNTCIsImRpcmVjdGlvbiIsImljb24iLCJncmlkQXJlYSIsImZvckVhY2giLCJidG4iLCJjbGFzc05hbWUiLCJ0ZXh0Q29udGVudCIsInN0eWxlIiwiZGF0YXNldCIsInN0YXJ0UHJlc3MiLCJwcmV2ZW50RGVmYXVsdCIsImVuZFByZXNzIiwicmVtb3ZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInBhc3NpdmUiLCJzY29yZURpc3BsYXlDb250YWluZXIiLCJzY29yZUVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidGFyZ2V0RWxlbWVudCIsInNjb3JlRGl2IiwicXVlc3Rpb25PdmVybGF5IiwicXVlc3Rpb25UZXh0RWxlbWVudCIsImFuc3dlckJ1dHRvbnNDb250YWluZXIiLCJmbG9vclNlbGVjdGlvblBhbmVsIiwiZmxvb3JCdXR0b25zQ29udGFpbmVyIiwiZmxhc2hNZXNzYWdlQ29udGFpbmVyIiwiZmxhc2hNZXNzYWdlIiwibWVzc2FnZSIsInR5cGUiLCJkdXJhdGlvbiIsImNvbnRhaW5lciIsIm1lc3NhZ2VFbGVtZW50IiwibWVzc2FnZUlkIiwiRGF0ZSIsIm5vdyIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNsZWFyVGltZW91dCIsImZsYXNoTWVzc2FnZVRpbWVvdXRzIiwic2V0VGltZW91dCIsImhhbmRsZVRyYW5zaXRpb25FbmQiLCJldmVudCIsInByb3BlcnR5TmFtZSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsIm9uY2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZ2V0TG9hZGluZ092ZXJsYXkiLCJsb2FkaW5nT3ZlcmxheUVsZW1lbnQiLCJsb2FkaW5nVGV4dCIsImdhbWVPdmVyU2NyZWVuRWxlbWVudCIsImdhbWVPdmVyVGl0bGVFbGVtZW50IiwiY3JlYXRvck5hbWVzTGlzdEVsZW1lbnQiLCJjbGFzc0luZm9FbGVtZW50IiwicmV0dXJuVG9NZW51QnV0dG9uRWxlbWVudCIsInJlbG9hZCIsInNob3dHYW1lT3ZlclNjcmVlbiIsImlzV2luIiwiY3JlYXRvcnMiLCJjbGFzc0luZm9UZXh0IiwibmFtZSIsImxpIiwiaGlkZUdhbWVVSSIsImhpZGVRdWVzdGlvbiIsImhpZGVGbG9vclNlbGVjdGlvblVJIiwiaGlkZUdhbWVPdmVyU2NyZWVuIiwic2hvd1F1ZXN0aW9uIiwicXVlc3Rpb25EYXRhIiwiaGFuZGxlQW5zd2VyIiwib3B0aW9uVGV4dCIsImluZGV4IiwiYnV0dG9uIiwic2VsZWN0ZWRJbmRleCIsInBhcnNlSW50IiwidGFyZ2V0Iiwic2hvd0Zsb29yU2VsZWN0aW9uVUkiLCJtaW5GbG9vciIsIm1heEZsb29yIiwiY3VycmVudEZsb29yIiwiaGFuZGxlRmxvb3JTZWxlY3Rpb24iLCJmbG9vciIsImRpc2FibGVkIiwidXBkYXRlU2NvcmUiLCJzY29yZSIsInNob3dHYW1lVUkiLCJjYW52YXMiLCJtZW51Q29udGFpbmVyIiwic2NvcmVEaXNwbGF5IiwiZGlzcGxheSIsImNvbnRhaW5zIiwiQ2hhcmFjdGVyIiwiRE9XTiIsIlJJR0hUIiwiVVAiLCJMRUZUIiwiY3R4Iiwic3ByaXRlVXJsIiwic3ByaXRlIiwiSW1hZ2UiLCJmcmFtZVNpemUiLCJmcmFtZUNvdW50Iiwic2NhbGUiLCJyZW5kZXJTaXplIiwic3BlZWQiLCJhbmltYXRpb25TcGVlZCIsImNvbGxpc2lvbkJveFdpZHRoUmF0aW8iLCJjb2xsaXNpb25Cb3hIZWlnaHRSYXRpbyIsImNvbGxpc2lvbkJveEZlZXRPZmZzZXRSYXRpbyIsImN1cnJlbnREaXJlY3Rpb24iLCJEaXJlY3Rpb24iLCJjdXJyZW50RnJhbWUiLCJpc01vdmluZyIsImxhc3RGcmFtZVRpbWUiLCJvbmxvYWQiLCJvbmVycm9yIiwidXBkYXRlQW5pbWF0aW9uIiwidGltZXN0YW1wIiwiZ2V0Q29sbGlzaW9uQm94IiwicG9zWCIsInBvc1kiLCJ3aWR0aCIsImhlaWdodCIsImhhbGZXaWR0aCIsImZlZXRPZmZzZXRZIiwidG9wIiwiYm90dG9tIiwiZHJhdyIsIm9mZnNldFgiLCJvZmZzZXRZIiwiY29tcGxldGUiLCJuYXR1cmFsSGVpZ2h0IiwiZnJhbWVYIiwiZnJhbWVZIiwic2NyZWVuWCIsInNjcmVlblkiLCJkcmF3SW1hZ2UiLCJCb29rIiwidGlsZVNpemUiLCJzaXplIiwiY29sbGVjdGVkIiwiaXNDb2xsZWN0ZWQiLCJib29rSW1hZ2UiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsInN0cm9rZVN0eWxlIiwic3Ryb2tlUmVjdCIsImZvbnQiLCJ0ZXh0QWxpZ24iLCJ0ZXh0QmFzZWxpbmUiLCJmaWxsVGV4dCIsInJhbmRvbUludCIsIm1pbiIsIm1heCIsImNlaWwiLCJzaW1wbGVIYXNoIiwic2VlZCIsImgiLCJpbXVsIiwiYWRqdXN0Q29sb3JCcmlnaHRuZXNzIiwiaGV4Q29sb3IiLCJmYWN0b3IiLCJyIiwic2xpY2UiLCJiIiwicm91bmQiLCJwYWRTdGFydCIsIk1hcFJlbmRlcmVyIiwidGlsZUNvbG9ycyIsImJhc2VXYWxsQ29sb3IiLCJiYXNlQ29ycmlkb3JDb2xvciIsImJhc2VSb29tRmxvb3JDb2xvciIsImxpZnRDb2xvciIsImVycm9yQ29sb3IiLCJyZXNldENvbG9yQ2FjaGUiLCJnZXRUaWxlQ29sb3IiLCJjIiwidGlsZVZhbHVlIiwicm9vbXMiLCJjb2xvciIsIm1hcERhdGEiLCJtYXAiLCJib29rcyIsImxpZnRQb3NpdGlvbiIsImNvbHMiLCJyb3dzIiwiY3VycmVudE9mZnNldFgiLCJjdXJyZW50T2Zmc2V0WSIsInN0YXJ0Q29sIiwiZW5kQ29sIiwic3RhcnRSb3ciLCJlbmRSb3ciLCJzYXZlIiwiZHJhd0Jhc2VUaWxlcyIsImRyYXdSb29tRGV0YWlscyIsImRyYXdMaWZ0RGV0YWlscyIsImRyYXdCb29rcyIsInJlc3RvcmUiLCJzaGFkb3dDb2xvciIsIndhbGxFZGdlQ29sb3JEYXJrIiwid2FsbEVkZ2VDb2xvckxpZ2h0Iiwid2FsbFRvcEVkZ2VDb2xvciIsInVuZGVmaW5lZCIsImVkZ2VTaXplIiwicm9vbSIsImNvbCIsInJvdyIsInJvb21TY3JlZW5YIiwicm9vbVNjcmVlblkiLCJyb29tU2NyZWVuVyIsInJvb21TY3JlZW5IIiwiZmxvb3JDb2xvciIsImZsb29yTnVtIiwiZmxvb3JOdW1iZXIiLCJyb29tU2VlZCIsImJyaWdodG5lc3NGYWN0b3IiLCJsaW5lV2lkdGgiLCJkcmF3Um9vbURlY29yYXRpb25zIiwidGlsZVgiLCJ0aWxlWSIsImJ1dHRvblJhZGl1cyIsImJ1dHRvblgiLCJidXR0b25ZIiwiYmVnaW5QYXRoIiwiYXJjIiwiUEkiLCJmaWxsIiwidyIsInRzIiwibWFyZ2luIiwib2JqTWFyZ2luIiwiZHJhd1JlY3QiLCJyeCIsInJ5IiwicnciLCJyaCIsIm91dGxpbmUiLCJzY3JlZW5XIiwic2NyZWVuSCIsImRyYXdDaXJjbGUiLCJjeCIsImN5IiwicmFkaXVzIiwic3Ryb2tlIiwiZGVza1ciLCJkZXNrSCIsImNoYWlySCIsInNwYWNlWCIsInNwYWNlWSIsInJvd1kiLCJjb2xYIiwidGFibGVXIiwidGFibGVIIiwiY2FiaW5ldFciLCJzaGVsZlciLCJzaGVsZlNwYWNpbmciLCJzeCIsInNoZWxmWSIsIm1vdmVUbyIsImxpbmVUbyIsInRhYmxlTGliWCIsImxhYlRhYmxlSCIsIm1ldGFsU2hlbGZXIiwibWV0YWxTaGVsZkgiLCJib3hTaXplIiwiZGVmYXVsdEJvb2tTaXplIiwiYm9vayIsImJvb2tTaXplIiwiY29uc2lzdGVudExpZnRDb29yZHMiLCJERUZBVUxUX0dFTl9QQVJBTVMiLCJtaW5Sb29tU2l6ZSIsIm1heFJvb21TaXplIiwiY29ycmlkb3JUaGlja25lc3MiLCJudW1Sb29tcyIsIm1heFJvb21BdHRlbXB0cyIsInJvb21UeXBlV2VpZ2h0cyIsImNsYXNzcm9vbSIsIm9mZmljZSIsImxpYnJhcnkiLCJneW0iLCJ1dGlsaXR5IiwiX2NhcnZlQ29ycmlkb3JCZXR3ZWVuIiwicm9vbUEiLCJyb29tQiIsImNlbnRlclRpbGVYIiwiYXgiLCJjZW50ZXJUaWxlWSIsImF5IiwiYngiLCJieSIsIl9jYXJ2ZUhvcml6b250YWxDb3JyaWRvciIsIl9jYXJ2ZVZlcnRpY2FsQ29ycmlkb3IiLCJjMSIsImMyIiwicjEiLCJyMiIsIl9nZXRUaWxlT3Blbm5lc3NEZXRhaWxzIiwiaXNUaWxlV2Fsa2FibGUiLCJjdXJyZW50TWFwIiwibWFwQ29scyIsIm1hcFJvd3MiLCJ0aWxlVmFsIiwib3BlblNpZGVzIiwibmVpZ2hib3JEZWx0YXMiLCJkeCIsImR5Iiwid2Fsa2FibGVOZWlnaGJvckZsYWdzIiwiaXNDaG9rZXBvaW50IiwiTiIsIlMiLCJXIiwiRSIsIl9mb3JjZUNvbm5lY3Rpb25Ub1BvaW50IiwidGFyZ2V0WCIsInRhcmdldFkiLCJkaXJlY3Rpb25zIiwiaXNBZGphY2VudFRvV2Fsa2FibGUiLCJhZGphY2VudFdhbGthYmxlQ29vcmQiLCJueCIsIm55IiwibmVpZ2hib3JUaWxlIiwicXVldWUiLCJ2aXNpdGVkIiwiU2V0IiwiYmZzUGF0aGFibGUiLCJ0YXJnZXRXYWxrYWJsZSIsImNsb3Nlc3RXYWxrYWJsZSIsIm1pbkZvdW5kRGlzdCIsIkluZmluaXR5IiwiY3VyclgiLCJjdXJyWSIsImRpc3QiLCJzaGlmdCIsIm5leHRYIiwibmV4dFkiLCJoYXMiLCJpbmNsdWRlcyIsInB1c2giLCJfaXNMaWZ0UmVhY2hhYmxlIiwicmVhY2hhYmxlIiwibWFwR3JpZCIsInN0YXJ0WCIsInN0YXJ0WSIsIndhbGthYmxlVGlsZVZhbHVlcyIsInBlcmZvcm1CRlMiLCJQcm9jZWR1cmFsTWFwIiwiY2FudmFzV2lkdGgiLCJjYW52YXNIZWlnaHQiLCJyZW5kZXJlciIsImdlbmVyYXRpb25QYXJhbXMiLCJib29rc1Blck1hcCIsImxhYiIsInN0b3JhZ2UiLCJnZW5lcmF0aW9uQ29uZmlnIiwiY29uZmlnIiwidXNlclBhcmFtcyIsImdlblBhcmFtcyIsIkdZTV9DSEFOQ0VfT05fRklSU1RfRkxPT1IiLCJBcnJheSIsImZyb20iLCJyb29tQXR0ZW1wdHMiLCJ3ZWlnaHRlZFR5cGVzIiwidG90YWxXZWlnaHQiLCJ3ZWlnaHQiLCJyb29tV2lkdGgiLCJyb29tSGVpZ2h0Iiwicm9vbUNvbCIsInJvb21Sb3ciLCJuZXdSb29tIiwiY29ubmVjdGVkIiwib3ZlcmxhcHMiLCJidWZmZXIiLCJleGlzdGluZ1Jvb20iLCJfcGxhY2VSb29tcyIsImNvbm5lY3RlZFNldCIsInVuY29ubmVjdGVkUm9vbXMiLCJiZXN0RGlzdGFuY2VTcSIsImJlc3RVbmNvbm5lY3RlZFJvb20iLCJiZXN0Q29ubmVjdGVkUm9vbUlkIiwiYmVzdFVuY29ubmVjdGVkSW5kZXgiLCJyb29tVSIsInJvb21DIiwiZGlzdFNxIiwiYmVzdENvbm5lY3RlZFJvb20iLCJmaW5kIiwic3BsaWNlIiwiX2Nvbm5lY3RSb29tc0JldHRlciIsInBsYWNlZExpZnREYXRhIiwiY3VycmVudENvbnNpc3RlbnRDb29yZHMiLCJyb29tc0xpc3QiLCJjb29yZHNUb1VzZSIsIm5ld2x5Rm91bmRDb29yZHMiLCJjZW50ZXJYIiwiY2VudGVyWSIsImJlc3RTcG90Q2FuZGlkYXRlIiwic3RhcnRJbnRlcm5hbENvbCIsImVuZEludGVybmFsQ29sIiwic3RhcnRJbnRlcm5hbFJvdyIsImVuZEludGVybmFsUm93IiwiY3VycmVudFNjb3JlIiwiZGV0YWlsc1NlbGYiLCJ3b3JzdEFjY2Vzc1BlbmFsdHlGcm9tTmVpZ2hib3JzIiwibnVtQWN0dWFsQWNjZXNzUG9pbnRzIiwiZGVsdGEiLCJuY0FjY2VzcyIsIm5yQWNjZXNzIiwiYWNjZXNzVGlsZVR5cGUiLCJkZXRhaWxzQWNjZXNzVGlsZSIsImRlYnVnX3Jvb20iLCJ0b0ZpeGVkIiwiX2ZpbmRMaWZ0UGxhY2VtZW50TG9jYXRpb24iLCJzYWZlRmFsbGJhY2tYIiwic2FmZUZhbGxiYWNrWSIsImxpZnRXb3JsZFBvcyIsInBvc2l0aW9uIiwiY29vcmRzIiwiX3BsYWNlTGlmdCIsIl9lbnN1cmVNYXBCb3JkZXJzIiwiZXJyb3JNc2ciLCJnZW5lcmF0ZUxldmVsRGF0YSIsInBsYWNlQm9va3NSZWxpYWJseSIsInBvdGVudGlhbExvY2F0aW9ucyIsInBsYWNlZENvb3JkcyIsImlzTGlmdFRpbGUiLCJib29rc1BsYWNlZCIsInJhbmRvbUluZGV4IiwiY29vcmRLZXkiLCJib29rV29ybGRYIiwiYm9va1dvcmxkWSIsImJvb2tJZCIsImlzV2Fsa2FibGUiLCJ3b3JsZFgiLCJ3b3JsZFkiLCJmaW5kUmFuZG9tSW5pdGlhbFNwYXduUG9zaXRpb24iLCJzdWl0YWJsZVRpbGVzIiwiaXNMaWZ0IiwiaXNUaWxlT3BlbkVub3VnaCIsIm1pbk9wZW5TaWRlcyIsImF2b2lkT25lVGlsZVdpZGVQYXNzYWdlcyIsIm9wZW5TaWRlc0NvdW50IiwiaXNPcGVuU2lkZSIsImRpckxhYmVsIiwibmVpZ2hib3JYIiwibmVpZ2hib3JZIiwibmVpZ2hib3JUaWxlVmFsdWUiLCJmaW5kTmVhcmVzdFdhbGthYmxlVGlsZSIsInRhcmdldFdvcmxkWCIsInRhcmdldFdvcmxkWSIsIm1heFJhZGl1cyIsImV4Y2x1ZGVMaWZ0IiwidGFyZ2V0VGlsZVgiLCJ0YXJnZXRUaWxlWSIsInRhcmdldFNhZmVUaWxlcyIsInN0YXJ0VGlsZVZhbHVlIiwibWluU2lkZXNGb3JJbml0aWFsIiwiY3VycmVudFJhZGl1c01pbk9wZW5TaWRlcyIsImFicyIsImNoZWNrWCIsImNoZWNrWSIsImJmc1dhbGthYmxlUGF0aFRpbGVzIiwiZ2V0U3Bhd25Qb2ludEluUm9vbU9mTGlmdCIsImxpZnRUaWxlWCIsImxpZnRUaWxlWSIsInByZWZlcnJlZERpc3RhbmNlIiwiYXNzb2NpYXRlZFJvb20iLCJlbnRyeVBvaW50VG9Sb29tIiwiZGlyZWN0aW9uRnJvbVNvdXJjZVRvRW50cnlQb2ludCIsImNoZWNrTmVpZ2hib3JzIiwibiIsImFkalgiLCJhZGpZIiwibk91dGVyIiwiY29ycmlkb3JYIiwiY29ycmlkb3JZIiwibklubmVyIiwicG90ZW50aWFsUm9vbVgiLCJwb3RlbnRpYWxSb29tWSIsImlud2FyZER4IiwiaW53YXJkRHkiLCJkaXN0T2Zmc2V0Iiwic3Bhd25DYW5kaWRhdGVUaWxlWCIsInNwYXduQ2FuZGlkYXRlVGlsZVkiLCJmdXJ0aGVySW5YIiwiZnVydGhlckluWSIsImhhc1NwYWNlQmVoaW5kIiwiZmluZE5lYXJieVVuYW5zd2VyZWRCb29rIiwiY2xvc2VzdEJvb2siLCJtaW5EaXN0YW5jZVNxIiwiZGlzdGFuY2VTcSIsIm1hcmtCb29rQXNDb2xsZWN0ZWQiLCJib29rVG9Db2xsZWN0IiwiZmluZE5lYXJieUxpZnQiLCJnZXRMaWZ0UG9zaXRpb24iLCJsb2dNYXBHcmlkIiwiaGVhZGVyIiwicm93TnVtIiwicm93U3RyaW5nIiwidGlsZSIsImpvaW4iLCJMZXZlbCIsImxvYWRGbG9vciIsImxpZnRQb3MiLCJQcm9taXNlIiwicmVzb2x2ZSIsImdldEN1cnJlbnRCb29rcyIsIkdhbWVSZW5kZXJlciIsImdhbWUiLCJpbml0aWFsaXplQ2FudmFzIiwiZ2V0Q29udGV4dCIsImltYWdlU21vb3RoaW5nRW5hYmxlZCIsInJlc2l6ZUNhbnZhcyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImNoYXJhY3RlciIsImxldmVsIiwiY2VudGVyQ2FtZXJhT25DaGFyYWN0ZXIiLCJkcmF3RnJhbWUiLCJjbGVhclJlY3QiLCJjaGFyIiwiZHJhd1dpblNjcmVlbiIsInRhcmdldEJvb2tzVG9XaW4iLCJHYW1lcGxheU1hbmFnZXIiLCJiaW5kIiwidXBkYXRlIiwiZ2FtZVN0YXRlIiwidXBkYXRlUGxheWluZ1N0YXRlIiwibW92ZWQiLCJoYW5kbGVNb3ZlbWVudCIsImhhbmRsZUludGVyYWN0aW9ucyIsImlucHV0IiwiYWN0dWFsTW92ZVgiLCJhY3R1YWxNb3ZlWSIsImNhbk1vdmVYIiwiY2hlY2tDb2xsaXNpb24iLCJjYW5Nb3ZlWSIsImNvbGxpc2lvbkJveCIsInBvaW50c1RvQ2hlY2siLCJwb2ludCIsIm5lYXJieUJvb2siLCJpbml0aWF0ZVF1ZXN0aW9uIiwibGlmdENvb2xkb3duQWN0aXZlIiwiaW5pdGlhdGVGbG9vclNlbGVjdGlvbiIsInNldEdhbWVTdGF0ZSIsImN1cnJlbnRCb29rVGFyZ2V0IiwiYXZhaWxhYmxlUXVlc3Rpb25zIiwicUluZGV4IiwiY3VycmVudFF1ZXN0aW9uRGF0YSIsInNlbGVjdGVkT3B0aW9uSW5kZXgiLCJ0b3RhbEJvb2tzQ29sbGVjdGVkR2xvYmFsbHkiLCJfc2V0R2FtZU92ZXIiLCJzZWxlY3RlZEZsb29yIiwiaGFuZGxlTGlmdFRyYW5zaXRpb24iLCJjYXRjaCIsImVyciIsIl9oYW5kbGVGYXRhbEVycm9yIiwidGFyZ2V0Rmxvb3IiLCJpc0RlYnVnIiwiTElGVF9DT09MRE9XTl9NUyIsIm5ld01hcCIsImxpZnRQb3NEYXRhIiwiZmluYWxTcGF3blBvcyIsImVtZXJnZW5jeVNwYXduIiwiZW5zdXJlQ2hhcmFjdGVySXNPbldhbGthYmxlVGlsZSIsInN0YXJ0TGlmdENvb2xkb3duVGltZXIiLCJhbGxvd1N0YW5kaW5nT25MaWZ0IiwiY3VycmVudFRpbGVYIiwiY3VycmVudFRpbGVZIiwiY3VycmVudFRpbGVWYWx1ZSIsImlzU2FmZVRvU3RhbmRIZXJlIiwiaXNDb2xsaWRpbmdXaXRoV2FsbCIsInNhZmVTcG90IiwiZW1lcmdlbmN5U3BvdCIsIk1VU0lDX1NPVVJDRVMiLCJ0cmFjazEiLCJ0cmFjazIiLCJ0cmFjazMiLCJUUkFDS19DWUNMRV9PUkRFUiIsIkF1ZGlvTWFuYWdlciIsIm11c2ljVm9sdW1lIiwiY3VycmVudE11c2ljRWxlbWVudCIsImN1cnJlbnRUcmFja0tleSIsImlzTXVzaWNQbGF5aW5nIiwic2F2ZWRWb2x1bWUiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicGFyc2VGbG9hdCIsImF1ZGlvRWxlbWVudHMiLCJfcHJlbG9hZFRyYWNrcyIsImF1ZGlvUGF0aCIsImF1ZGlvIiwiQXVkaW8iLCJwcmVsb2FkIiwic2V0TXVzaWNWb2x1bWUiLCJ2b2x1bWUiLCJzZXRJdGVtIiwiZ2V0TXVzaWNWb2x1bWUiLCJwbGF5TXVzaWMiLCJ0cmFja0tleSIsImxvb3AiLCJzdG9wTXVzaWMiLCJwbGF5IiwidGhlbiIsImhhc0ZvY3VzIiwicGF1c2UiLCJjdXJyZW50VGltZSIsImNoYW5nZVRyYWNrRm9yRmxvb3IiLCJ0cmFja0luZGV4IiwibmV3VHJhY2tLZXkiLCJzdGFydEluaXRpYWxNdXNpYyIsImluaXRpYWxGbG9vciIsIkdhbWUiLCJjaGFyYWN0ZXJDb2xvciIsIl9nYW1lU3RhdGUiLCJpc1J1bm5pbmciLCJsaWZ0Q29vbGRvd25UaW1lciIsImdhbWVwbGF5TWFuYWdlciIsImF1ZGlvTWFuYWdlciIsInNwcml0ZXMiLCJyZWQiLCJibHVlIiwieWVsbG93IiwiZ3JlZW4iLCJnYW1lTG9vcCIsIl9ib3VuZEtleURvd25IYW5kbGVyIiwiX2JvdW5kS2V5VXBIYW5kbGVyIiwiX2luaXRpYWxpemVDb3JlQ29tcG9uZW50cyIsIl9pbml0aWFsaXplVUlNYW5hZ2VyIiwiX2FkZEV2ZW50TGlzdGVuZXJzIiwiX2xvYWRBc3NldHNBbmRUaGVuU3RhcnRMb2dpYyIsImxvYWRpbmdPdmVybGF5IiwiYWxlcnQiLCJuZXdTdGF0ZSIsIl9sb2FkQXNzZXRzIiwiX3N0YXJ0R2FtZUxvZ2ljIiwicHJvbWlzZXMiLCJzcHJpdGVQYXRoIiwicmVqZWN0IiwiYWxsIiwiTE9BRElOR19MRVZFTCIsInN0YXJ0UG9zIiwiaGFuZGxlS2V5RG93biIsImhhbmRsZUtleVVwIiwid2luIiwiQ1JFQVRPUl9OQU1FUyIsIkNMQVNTX0FUVEVORElOR19JTkZPIiwic3RvcEdhbWUiLCJzaG93QWxlcnQiLCJrZXlIYW5kbGVkIiwidG9Mb3dlckNhc2UiLCJjdXJyZW50R2FtZUluc3RhbmNlIiwiTWVudSIsImNoYXJhY3RlckltYWdlU291cmNlcyIsInNlbGVjdGVkQ2hhcmFjdGVyIiwidXNlckludGVyYWN0ZWQiLCJvdmVybGF5IiwiYXVkaW9NYW5hZ2VySW5zdGFuY2UiLCJpbml0aWFsaXplRWxlbWVudHMiLCJjaGFyYWN0ZXJQYW5lbCIsInNldHVwQ2hhcmFjdGVySW1hZ2VzIiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJzZXRBdWRpb01hbmFnZXIiLCJ2YWx1ZSIsInNldHRpbmdzQnV0dG9uIiwicGxheUJ1dHRvbiIsImNoYXJhY3RlckJ1dHRvbiIsInNldHRpbmdzUGFuZWwiLCJzZnhWb2x1bWUiLCJjbG9zZVNldHRpbmdzQnV0dG9uIiwiY2hhcmFjdGVyR3JpZCIsImNsb3NlQ2hhcmFjdGVyUGFuZWxCdXR0b24iLCJzZWxlY3RlZENoYXJhY3RlckRpc3BsYXkiLCJtYWluTWVudUJ1dHRvbnNDb250YWluZXIiLCJpbnNlcnRCZWZvcmUiLCJjaGlsZHJlbiIsInVwZGF0ZVNlbGVjdGVkQ2hhcmFjdGVyRGlzcGxheSIsImNoYXJhY3RlckNhcmRzIiwicXVlcnlTZWxlY3RvckFsbCIsImNhcmQiLCJjaGFyYWN0ZXJLZXkiLCJpbWdFbGVtZW50IiwiaGFuZGxlRmlyc3RJbnRlcmFjdGlvbiIsImFkZEludGVyYWN0aXZlTGlzdGVuZXIiLCJlbGVtZW50IiwiZXZlbnRUeXBlIiwiaGFuZGxlckZuIiwiY2FsbCIsInRvZ2dsZVNldHRpbmdzIiwic3RhcnRHYW1lIiwib3BlbkNoYXJhY3Rlck1vZGFsIiwiY2xvc2VTZXR0aW5ncyIsImNsb3NlQ2hhcmFjdGVyTW9kYWwiLCJuZXdWb2x1bWUiLCJjbGlja2VkQ2FyZCIsImNsb3Nlc3QiLCJzZWxlY3RDaGFyYWN0ZXIiLCJjYXJkRWxlbWVudCIsInNlbGVjdGVkQ2hhcktleSIsImltZ1NyYyIsImRpc3BsYXllZE5hbWUiLCJjaGFyQXQiLCJzZWxlY3RlZENhcmRFbGVtZW50SDMiLCJvcGVuU2V0dGluZ3MiLCJnYW1lQ2FudmFzIl0sInNvdXJjZVJvb3QiOiIifQ==