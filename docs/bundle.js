(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var i=e.g.document;if(!t&&i&&(i.currentScript&&"SCRIPT"===i.currentScript.tagName.toUpperCase()&&(t=i.currentScript.src),!t)){var o=i.getElementsByTagName("script");if(o.length)for(var a=o.length-1;a>-1&&(!t||!/^http(s?):/.test(t));)t=o[a--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();class t{constructor(){this.keys={up:!1,down:!1,left:!1,right:!1}}setKey(e,t){this.keys.hasOwnProperty(e)&&(this.keys[e]=t)}getInputDirection(){let e=0,t=0;return this.keys.up&&(t-=1),this.keys.down&&(t+=1),this.keys.left&&(e-=1),this.keys.right&&(e+=1),{x:e,y:t}}}const i={LOADING:"LOADING",MENU:"MENU",PLAYING:"PLAYING",ASKING_QUESTION:"ASKING_QUESTION",SELECTING_FLOOR:"SELECTING_FLOOR",TRANSITIONING:"TRANSITIONING",GAME_OVER:"GAME_OVER"},o=[{question:"Który język programowania jest znany ze swojej wszechstronności i używany zarówno w backendzie (Node.js), jak i frontendzie?",options:["Python","Java","JavaScript","C#"],correctAnswer:2},{question:"Co oznacza skrót HTML?",options:["HyperText Markup Language","High Transfer Machine Language","Hyperlink and Text Management Language","Home Tool Markup Language"],correctAnswer:0},{question:"Która struktura danych działa na zasadzie LIFO (Last-In, First-Out)?",options:["Kolejka (Queue)","Stos (Stack)","Lista (List)","Drzewo (Tree)"],correctAnswer:1},{question:"Jak nazywa się proces znajdowania i naprawiania błędów w kodzie?",options:["Kompilacja","Testowanie","Debugowanie","Refaktoryzacja"],correctAnswer:2},{question:"Który paradygmat programowania opiera się na koncepcji 'obiektów', które mogą zawierać dane i kod?",options:["Programowanie funkcyjne","Programowanie proceduralne","Programowanie obiektowe","Programowanie logiczne"],correctAnswer:2},{question:"Co oznacza CSS?",options:["Cascading Style Sheets","Computer Style Syntax","Creative Styling System","Colorful Style Scripts"],correctAnswer:0},{question:"Który operator w JavaScript służy do ścisłego porównania (wartość i typ)?",options:["==","=","===","!="],correctAnswer:2},{question:"Jak nazywa się popularny system kontroli wersji używany przez programistów?",options:["Subversion (SVN)","Git","Mercurial","CVS"],correctAnswer:1},{question:"Który typ pętli w większości języków programowania jest najbardziej odpowiedni do iteracji po elementach tablicy, gdy nie znamy ich liczby?",options:["for","while","do...while","foreach (lub for...of)"],correctAnswer:3},{question:"Co to jest API?",options:["Advanced Programming Interface","Application Programming Interface","Automated Program Interaction","Algorithmic Processing Input"],correctAnswer:1},{question:"Co to jest PLC i do czego najczęściej służy w automatyce?",options:["Programowalny Logic Controller, do sterowania procesami przemysłowymi","Personal Learning Computer, do nauki programowania","Power Line Communication, do przesyłu danych przez sieć elektryczną","Project Lifecycle Cost, do zarządzania kosztami projektu"],correctAnswer:0},{question:"Za co odpowiada przysłona (apertura) w aparacie fotograficznym?",options:["Kontrolę czasu naświetlania","Regulację głębi ostrości i ilości wpadającego światła","Ustawienie balansu bieli","Stabilizację obrazu"],correctAnswer:1},{question:"Który element komputera jest odpowiedzialny za tymczasowe przechowywanie danych używanych przez procesor?",options:["Dysk twardy (HDD/SSD)","Karta graficzna (GPU)","Pamięć RAM","Płyta główna"],correctAnswer:2},{question:"W jakim języku programowania najczęściej pisane są skrypty po stronie serwera (backend)?",options:["HTML","CSS","SQL","PHP, Python lub Node.js (JavaScript)"],correctAnswer:3},{question:"Jaki typ sygnału charakteryzuje się płynną zmianą wartości w czasie, w przeciwieństwie do sygnału cyfrowego?",options:["Binarny","Analogowy","Zero-jedynkowy","Impulsowy"],correctAnswer:1},{question:"Który parametr ustawia czułość matrycy aparatu na światło i wpływa na poziom szumów na zdjęciu?",options:["Czas naświetlania","Przysłona","ISO","Ogniskowa"],correctAnswer:2},{question:"Co to jest adres IP w sieci komputerowej?",options:["Unikalny identyfikator urządzenia w sieci","Nazwa użytkownika do logowania","Adres strony internetowej","Typ kabla sieciowego"],correctAnswer:0},{question:"Czym różni się instrukcja warunkowa `if` od pętli `while` w programowaniu?",options:["`if` powtarza blok kodu, `while` sprawdza warunek jednokrotnie","`if` sprawdza warunek jednokrotnie, `while` powtarza blok kodu dopóki warunek jest prawdziwy","Nie ma między nimi różnicy","`if` służy tylko do deklarowania zmiennych, `while` do operacji matematycznych"],correctAnswer:1},{question:"Do czego najczęściej służy czujnik ciśnienia w systemie automatyki?",options:["Pomiaru temperatury","Pomiaru odległości","Pomiaru siły","Pomiaru ciśnienia"],correctAnswer:3},{question:"Co oznacza zasada trójpodziału w kompozycji fotograficznej?",options:["Dzielenie obrazu na 3 równe części pionowo i poziomo i umieszczanie kluczowych elementów na liniach lub ich przecięciach","Używanie tylko 3 głównych kolorów w kadrze","Robienie zawsze 3 zdjęć tej samej sceny","Balansowanie 3 głównych obiektów w kadrze"],correctAnswer:0},{question:"Jaka jest podstawowa rola systemu operacyjnego?",options:["Tworzenie grafiki komputerowej","Zarządzanie zasobami sprzętowymi i programowymi komputera","Pisanie kodu programów","Przeglądanie Internetu"],correctAnswer:1},{question:"Jakiego typu danych najczęściej użyjesz do przechowywania wieku osoby (liczba całkowita)?",options:["String (ciąg znaków)","Boolean (wartość logiczna)","Float (liczba zmiennoprzecinkowa)","Integer (liczba całkowita)"],correctAnswer:3},{question:"Element wykonawczy (aktuator) w systemie automatyki to urządzenie, które...",options:["Odczytuje dane z czujników","Wykonuje komendy ze sterownika, aby wykonać fizyczne działanie (np. ruch)","Przechowuje dane historyczne","Służy do komunikacji z operatorem"],correctAnswer:1},{question:"Który format pliku graficznego jest bezstratny i często używany w profesjonalnej edycji, zachowując maksymalną jakość kosztem rozmiaru?",options:["JPEG","GIF","PNG","RAW"],correctAnswer:3},{question:"Co chroni sieć komputerową przed nieautoryzowanym dostępem z zewnątrz?",options:["Router","Switch","Modem","Firewall (zapora sieciowa)"],correctAnswer:3},{question:"Co to jest IDE (Integrated Development Environment) w kontekście programowania?",options:["System operacyjny","Narzędzie do zarządzania bazą danych","Zintegrowane środowisko programistyczne (edytor kodu, kompilator, debugger w jednym)","Protokół sieciowy"],correctAnswer:2},{question:"Przykładem czujnika zbliżeniowego, wykrywającego obecność obiektu bez fizycznego kontaktu, może być:",options:["Termometr","Fotokomórka","Manometr (czujnik ciśnienia)","Akcelerometr"],correctAnswer:1},{question:"Do czego służy balans bieli (white balance) w aparacie fotograficznym?",options:["Do regulacji ostrości","Do korekcji kolorów, aby biały wyglądał na biały niezależnie od źródła światła","Do ustawiania czasu naświetlania","Do dodawania efektów specjalnych"],correctAnswer:1},{question:"Który protokół jest używany do bezpiecznego (szyfrowanego) przesyłania stron internetowych?",options:["HTTP","FTP","SMTP","HTTPS"],correctAnswer:3},{question:"Co to jest zmienna w programowaniu?",options:["Funkcja wykonująca określone zadanie","Typ pętli","Nazwane miejsce w pamięci komputera służące do przechowywania danych","Polecenie wyświetlające tekst na ekranie"],correctAnswer:2}];class a{static scoreElement=null;static targetElement=null;static controlsContainer=null;static questionOverlay=null;static questionTextElement=null;static answerButtonsContainer=null;static floorSelectionPanel=null;static floorButtonsContainer=null;static flashMessageContainer=null;static loadingOverlayElement=null;static gameOverScreenElement=null;static gameOverTitleElement=null;static creatorNamesListElement=null;static classInfoElement=null;static returnToMenuButtonElement=null;static leaderboardBody=null;static gameplayManagerInstance=null;static flashMessageTimeouts={};static timerElement=null;static gameStartTime=0;static timerIntervalId=null;static leaderboardData=[];static setGameplayManager(e){e?(this.gameplayManagerInstance=e,console.log("[UIManager] GameplayManager instance registered.")):console.error("[UIManager] Attempted to set GameplayManager to null/undefined!")}static initializeUI(e){console.log("[UIManager] Initializing in-game UI elements..."),e||console.warn("[UIManager] InputManager not provided. On-screen controls may not function."),this.createControls(e),this.createQuestionUI(),this.createFloorSelectionUI(),this.ensureFlashMessageContainer(),this.getLoadingOverlay(),this.createGameOverScreen(),this.initializeTimer(),this.gameplayManagerInstance||console.warn("[UIManager] WARNING: GameplayManager not set by end of initializeUI. Interactive UI may fail."),console.log("[UIManager] In-game UI initialization complete.")}static createControls(e){this.controlsContainer=document.getElementById("controls-container"),this.controlsContainer||(this.controlsContainer=document.createElement("div"),this.controlsContainer.id="controls-container",this.controlsContainer.classList.add("controls-container"),document.body.appendChild(this.controlsContainer)),this.controlsContainer.innerHTML="",[{direction:"up",icon:"↑",gridArea:"up"},{direction:"left",icon:"←",gridArea:"left"},{direction:"right",icon:"→",gridArea:"right"},{direction:"down",icon:"↓",gridArea:"down"}].forEach((({direction:t,icon:i,gridArea:o})=>{const a=document.createElement("button");if(a.className=`control-btn ${t}`,a.textContent=i,a.style.gridArea=o,a.dataset.direction=t,e){const i=i=>{e.setKey(t,!0),a.classList.add("active"),i.preventDefault()},o=i=>{e.keys[t]&&e.setKey(t,!1),a.classList.remove("active"),i.preventDefault()};a.addEventListener("touchstart",i,{passive:!1}),a.addEventListener("touchend",o,{passive:!1}),a.addEventListener("touchcancel",o,{passive:!1}),a.addEventListener("mousedown",i),a.addEventListener("mouseup",o),a.addEventListener("mouseleave",o)}this.controlsContainer.appendChild(a)}));const t=document.getElementById("score-display");if(t)this.scoreElement=t.querySelector("#score-value"),this.targetElement=t.querySelector("#score-target");else{const e=document.createElement("div");e.id="score-display",e.classList.add("score-display"),e.innerHTML='Książki: <span id="score-value">0</span> / <span id="score-target">?</span>',document.body.appendChild(e),this.scoreElement=e.querySelector("#score-value"),this.targetElement=e.querySelector("#score-target")}this.scoreElement&&(this.scoreElement.textContent="0"),this.targetElement&&(this.targetElement.textContent="?")}static createQuestionUI(){this.questionOverlay=document.getElementById("question-overlay"),this.questionOverlay||(this.questionOverlay=document.createElement("div"),this.questionOverlay.id="question-overlay",this.questionOverlay.classList.add("ui-panel"),this.questionOverlay.innerHTML='<div id="blackboard-content"><h2>Question</h2><div id="question-box"><p id="question-text"></p><div id="answer-buttons"></div></div></div>',document.body.appendChild(this.questionOverlay)),this.questionTextElement=this.questionOverlay.querySelector("#question-text"),this.answerButtonsContainer=this.questionOverlay.querySelector("#answer-buttons"),this.questionTextElement&&this.answerButtonsContainer||console.error("[UIManager] Failed to find/create question UI children.")}static createFloorSelectionUI(){this.floorSelectionPanel=document.getElementById("floor-selection-ui"),this.floorSelectionPanel||(this.floorSelectionPanel=document.createElement("div"),this.floorSelectionPanel.id="floor-selection-ui",this.floorSelectionPanel.classList.add("ui-panel"),this.floorSelectionPanel.innerHTML='<h2>Select Floor</h2><div id="floor-buttons-container"></div>',document.body.appendChild(this.floorSelectionPanel)),this.floorButtonsContainer=this.floorSelectionPanel.querySelector("#floor-buttons-container"),this.floorButtonsContainer||console.error("[UIManager] Failed to find/create floor buttons container.")}static ensureFlashMessageContainer(){return this.flashMessageContainer=document.getElementById("flash-message-container"),this.flashMessageContainer||(this.flashMessageContainer=document.createElement("div"),this.flashMessageContainer.id="flash-message-container",document.body.appendChild(this.flashMessageContainer)),this.flashMessageContainer}static flashMessage(e,t="info",i=3e3){const o=this.ensureFlashMessageContainer();if(!o)return void console.error("[UIManager] Flash msg container not found.");const a=document.createElement("div");a.textContent=e,a.className="flash-message",a.classList.add(`flash-${t}`);const s=`flash-${Date.now()}-${Math.random().toString(36).substr(2,5)}`;a.id=s,o.appendChild(a),requestAnimationFrame((()=>a.classList.add("visible"))),clearTimeout(this.flashMessageTimeouts[s]),this.flashMessageTimeouts[s]=setTimeout((()=>{a.classList.remove("visible");const e=e=>{"opacity"!==e.propertyName&&"transform"!==e.propertyName||(a.parentNode&&a.parentNode.removeChild(a),delete this.flashMessageTimeouts[s])};a.addEventListener("transitionend",e,{once:!0}),setTimeout((()=>{a.parentNode&&(a.removeEventListener("transitionend",e),a.parentNode.removeChild(a)),delete this.flashMessageTimeouts[s]}),500)}),i)}static getLoadingOverlay(){if(!this.loadingOverlayElement&&(this.loadingOverlayElement=document.getElementById("loading-overlay"),!this.loadingOverlayElement)){this.loadingOverlayElement=document.createElement("div"),this.loadingOverlayElement.id="loading-overlay",this.loadingOverlayElement.className="loading-overlay";const e=document.createElement("p");e.textContent="Loading...",this.loadingOverlayElement.appendChild(e),document.body.appendChild(this.loadingOverlayElement),console.log("[UIManager] Loading overlay created.")}return this.loadingOverlayElement}static createGameOverScreen(){this.gameOverScreenElement=document.getElementById("game-over-screen"),this.gameOverScreenElement?(this.gameOverTitleElement=this.gameOverScreenElement.querySelector("#game-over-title"),this.creatorNamesListElement=this.gameOverScreenElement.querySelector("#creator-names"),this.classInfoElement=this.gameOverScreenElement.querySelector("#class-info"),this.returnToMenuButtonElement=this.gameOverScreenElement.querySelector("#return-to-menu-button"),this.leaderboardBody=this.gameOverScreenElement.querySelector("#leaderboard-body"),this.gameOverTitleElement&&this.creatorNamesListElement&&this.classInfoElement&&this.returnToMenuButtonElement&&this.leaderboardBody?(this.returnToMenuButtonElement.addEventListener("click",(()=>window.location.reload())),console.log("[UIManager] Game Over screen elements initialized.")):console.error("[UIManager] Failed to find Game Over screen children or leaderboard body.")):console.error("[UIManager] CRIT: #game-over-screen not in HTML!")}static showGameOverScreen(e,t=[],i=""){this.gameOverScreenElement||(console.error("[UIManager] Game Over Screen not init, creating."),this.createGameOverScreen(),this.gameOverScreenElement)?(this.gameOverTitleElement&&(this.gameOverTitleElement.textContent=e?"Brawo uciekłeś!":"Koniec gry",this.gameOverTitleElement.className=e?"win-title":"lose-title"),this.creatorNamesListElement&&(this.creatorNamesListElement.innerHTML="",t.forEach((e=>{const t=document.createElement("li");t.textContent=e,this.creatorNamesListElement.appendChild(t)}))),this.classInfoElement&&(this.classInfoElement.textContent=i),this.updateLeaderboard(),this.gameOverScreenElement.classList.add("visible"),this.hideGameUI(),this.hideQuestion(),this.hideFloorSelectionUI()):console.error("[UIManager] Still unable to show Game Over screen.")}static hideGameOverScreen(){this.gameOverScreenElement&&this.gameOverScreenElement.classList.remove("visible")}static showQuestion(e){if(this.questionOverlay&&this.questionTextElement&&this.answerButtonsContainer||(console.error("[UIManager] Question UI not ready, creating."),this.createQuestionUI(),this.questionOverlay&&this.questionTextElement&&this.answerButtonsContainer))if(e){if(!this.gameplayManagerInstance?.handleAnswer)return console.error("[UIManager] CRIT: GameplayManager/handleAnswer not set/invalid!"),this.flashMessage("Error: Game interaction (Q) failed.","error",5e3),void this.hideQuestion();this.questionTextElement.textContent=e.question,this.answerButtonsContainer.innerHTML="",e.options.forEach(((e,t)=>{const i=document.createElement("button");i.textContent=e,i.dataset.index=t.toString(),i.classList.add("answer-button"),i.addEventListener("click",(e=>this.gameplayManagerInstance.handleAnswer(parseInt(e.target.dataset.index,10)))),this.answerButtonsContainer.appendChild(i)})),this.questionOverlay.classList.add("visible")}else console.error("[UIManager] No questionData to show.")}static hideQuestion(){this.questionOverlay&&(this.questionOverlay.classList.remove("visible"),this.questionTextElement&&(this.questionTextElement.textContent=""),this.answerButtonsContainer&&(this.answerButtonsContainer.innerHTML=""))}static showFloorSelectionUI(e,t,i){if(this.floorSelectionPanel&&this.floorButtonsContainer||(console.error("[UIManager] Floor selection UI not ready, creating."),this.createFloorSelectionUI(),this.floorSelectionPanel&&this.floorButtonsContainer)){if(!this.gameplayManagerInstance?.handleFloorSelection)return console.error("[UIManager] CRIT: GameplayManager/handleFloorSelection not set/invalid!"),this.flashMessage("Error: Game interaction (F) failed.","error",5e3),void this.hideFloorSelectionUI();this.floorButtonsContainer.innerHTML="";for(let o=e;o<=t;o++){const e=document.createElement("button");e.textContent=`Floor ${o}`,e.classList.add("floor-button"),e.dataset.floor=o.toString(),o===i?(e.disabled=!0,e.classList.add("current")):e.addEventListener("click",(()=>this.gameplayManagerInstance.handleFloorSelection(o))),this.floorButtonsContainer.appendChild(e)}this.floorSelectionPanel.classList.add("visible")}}static hideFloorSelectionUI(){this.floorSelectionPanel&&this.floorSelectionPanel.classList.remove("visible")}static updateScore(e,t){this.scoreElement||(this.scoreElement=document.getElementById("score-value")),this.targetElement||(this.targetElement=document.getElementById("score-target")),this.scoreElement&&(this.scoreElement.textContent=e.toString()),this.targetElement&&(this.targetElement.textContent=t.toString())}static showGameUI(){console.log("[UIManager] Showing Game UI...");const e=document.getElementById("game-canvas"),t=document.getElementById("score-display");e?e.style.display="block":console.warn("[UIManager] #game-canvas not found."),this.controlsContainer?this.controlsContainer.classList.add("visible"):console.warn("[UIManager] Controls container not found."),t?(t.style.display="flex",t.classList.add("visible")):console.warn("[UIManager] Score display not found."),this.timerElement&&(this.timerElement.style.display="block"),this.hideQuestion(),this.hideFloorSelectionUI(),this.hideGameOverScreen()}static hideGameUI(){console.log("[UIManager] Hiding Game UI...");const e=document.getElementById("game-canvas"),t=document.getElementById("score-display");e&&(e.style.display="none"),this.controlsContainer&&this.controlsContainer.classList.remove("visible"),t&&(t.style.display="none",t.classList.remove("visible")),this.timerElement&&(this.timerElement.style.display="none")}static initializeTimer(){this.timerElement||(this.timerElement=document.getElementById("game-timer"),this.timerElement)||(this.timerElement=document.createElement("div"),this.timerElement.id="game-timer",this.timerElement.classList.add("game-timer"),(document.getElementById("game-container")||document.body).appendChild(this.timerElement),console.log("[UIManager] Timer element dynamically created.")),this.timerElement.textContent="Czas: 0:00",this.timerElement.style.display="none";const e=localStorage.getItem("gameLeaderboard");try{this.leaderboardData=e?JSON.parse(e):[]}catch(e){console.error("[UIManager] Error parsing leaderboard from localStorage:",e),this.leaderboardData=[],localStorage.removeItem("gameLeaderboard")}console.log("[UIManager] Timer and leaderboard data initialized.")}static startTimer(){this.timerIntervalId&&(cancelAnimationFrame(this.timerIntervalId),this.timerIntervalId=null);const e=this.gameplayManagerInstance?.game;e&&e.gameState===i.PLAYING?(this.gameStartTime=Date.now(),console.log(`[UIManager] Game timer starting. Start time: ${this.gameStartTime}. State: ${e.gameState}`),this.updateTimer()):console.warn(`[UIManager] Timer start denied. Game: ${!!e}, State: ${e?.gameState}. Expected PLAYING.`)}static updateTimer(){const e=this.gameplayManagerInstance?.game;if(!this.gameStartTime||!e||e.gameState!==i.PLAYING&&e.gameState!==i.ASKING_QUESTION&&e.gameState!==i.SELECTING_FLOOR&&e.gameState!==i.TRANSITIONING)return void(this.timerIntervalId&&(cancelAnimationFrame(this.timerIntervalId),this.timerIntervalId=null));const t=Math.floor((Date.now()-this.gameStartTime)/1e3),o=Math.floor(t/60),a=t%60;this.timerElement&&(this.timerElement.textContent=`Czas: ${o}:${a.toString().padStart(2,"0")}`),this.timerIntervalId=requestAnimationFrame((()=>this.updateTimer()))}static stopTimer(e){if(!this.gameStartTime)return;this.timerIntervalId&&(cancelAnimationFrame(this.timerIntervalId),this.timerIntervalId=null);const t=(Date.now()-this.gameStartTime)/1e3;if(console.log(`[UIManager] Czas zatrzymany. Czas: ${t.toFixed(3)}s. Wygrana: ${e}`),e){this.leaderboardData.push({name:`Podejście ${this.leaderboardData.length+1}`,time:t,date:(new Date).toLocaleDateString()}),this.leaderboardData.sort(((e,t)=>e.time-t.time));try{localStorage.setItem("gameLeaderboard",JSON.stringify(this.leaderboardData.slice(0,10)))}catch(e){console.error("[UIManager] Failed to save leaderboard:",e)}}this.gameStartTime=0}static updateLeaderboard(){if(!this.leaderboardBody){const e=document.getElementById("game-over-screen");if(e&&(this.leaderboardBody=e.querySelector("#leaderboard-body")),!this.leaderboardBody)return}this.leaderboardBody.innerHTML="";const e=this.leaderboardData.slice(0,10);if(0===e.length){const e=this.leaderboardBody.insertRow().insertCell();e.colSpan=3,e.textContent="No records yet.",e.style.textAlign="center"}else e.forEach((e=>{const t=Math.floor(e.time/60),i=Math.floor(e.time%60),o=Math.floor(1e3*e.time%1e3),a=this.leaderboardBody.insertRow();a.insertCell().textContent=e.name,a.insertCell().textContent=`${t}:${i.toString().padStart(2,"0")}.${o.toString().padStart(3,"0")}`,a.insertCell().textContent=e.date}))}}class s{static Direction={DOWN:0,RIGHT:1,UP:2,LEFT:3};constructor(e,t,i={}){this.ctx=e,this.sprite=new Image,this.frameSize=i.frameSize||32,this.frameCount=i.frameCount||4,this.scale=i.scale||2,this.renderSize=this.frameSize*this.scale,this.speed=i.speed||3,this.animationSpeed=i.animationSpeed||150,this.collisionBoxWidthRatio=i.collisionBoxWidthRatio||.4,this.collisionBoxHeightRatio=i.collisionBoxHeightRatio||.2,this.collisionBoxFeetOffsetRatio=i.collisionBoxFeetOffsetRatio||.4,this.x=0,this.y=0,this.currentDirection=s.Direction.DOWN,this.currentFrame=0,this.isMoving=!1,this.lastFrameTime=0,this.sprite.onload=()=>{console.log(`[Character] Sprite loaded successfully: ${t}`)},this.sprite.onerror=()=>{console.error(`[Character] Failed to load sprite: ${t}`)},this.sprite.src=t}updateAnimation(e){if(!this.isMoving)return this.currentFrame=0,void(this.lastFrameTime=e);this.lastFrameTime||(this.lastFrameTime=e),e-this.lastFrameTime>this.animationSpeed&&(this.currentFrame=(this.currentFrame+1)%this.frameCount,this.lastFrameTime=e)}getCollisionBox(e,t){const i=this.renderSize*this.collisionBoxWidthRatio,o=this.renderSize*this.collisionBoxHeightRatio,a=i/2,s=this.renderSize*this.collisionBoxFeetOffsetRatio;return{top:t+s-o/2,bottom:t+s+o/2,left:e-a,right:e+a,width:i,height:o}}draw(e,t){if(!this.sprite.complete||0===this.sprite.naturalHeight)return;const i=this.currentFrame*this.frameSize,o=this.currentDirection*this.frameSize,a=Math.floor(this.x-this.renderSize/2+e),s=Math.floor(this.y-this.renderSize/2+t);try{this.ctx.drawImage(this.sprite,i,o,this.frameSize,this.frameSize,a,s,this.renderSize,this.renderSize)}catch(e){console.error("[Character] Error drawing sprite:",e)}}}class n{constructor(e,t,i,o){this.x=e,this.y=t,this.id=i,this.tileSize=o,this.size=.6*o,this.collected=!1,this.isCollected=!1}draw(e,t,i,o){const a=Math.floor(this.x+t-this.size/2),s=Math.floor(this.y+i-this.size/2);o?e.drawImage(o,a,s,this.size,this.size):(e.fillStyle="#8d6e63",e.fillRect(a,s,this.size,this.size),e.strokeStyle="#5d4037",e.strokeRect(a,s,this.size,this.size),e.fillStyle="#eee",e.font=.6*this.size+"px Arial",e.textAlign="center",e.textBaseline="middle",e.fillText("?",a+this.size/2,s+this.size/2+2))}}function r(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}function l(e){let t=3735928559^e;return t=Math.imul(t^t>>>16,2246822507),t=Math.imul(t^t>>>13,3266489909),(t^=t>>>16)>>>0}function c(e,t){if(!e||"string"!=typeof e||e.length<7)return e;let i=parseInt(e.slice(1,3),16),o=parseInt(e.slice(3,5),16),a=parseInt(e.slice(5,7),16);return i=Math.min(255,Math.max(0,Math.round(i*t))),o=Math.min(255,Math.max(0,Math.round(o*t))),a=Math.min(255,Math.max(0,Math.round(a*t))),`#${i.toString(16).padStart(2,"0")}${o.toString(16).padStart(2,"0")}${a.toString(16).padStart(2,"0")}`}class h{constructor(e){this.tileSize=e,this.tileColors={},this.baseWallColor="#1c1e22",this.baseCorridorColor="#a0a0a0",this.baseRoomFloorColor="#c0c0c0",this.liftColor="#707080",this.errorColor="#ff00ff"}resetColorCache(){this.tileColors={}}getTileColor(e,t,i,o){const a=`${e},${t}`;if(this.tileColors[a])return this.tileColors[a];let s;switch(i){case 0:s=this.baseWallColor;break;case 1:s=this.baseCorridorColor;break;case 2:s=this.baseRoomFloorColor;break;case 3:s=this.liftColor;break;default:s=this.errorColor}return this.tileColors[a]=s,s}draw(e,t,i=null){const{map:o,rooms:a,books:s,liftPosition:n,offsetX:r,offsetY:l,cols:c,rows:h}=t,d=Math.floor(r),m=Math.floor(l),u=Math.max(0,Math.floor(-d/this.tileSize)-1),g=Math.min(c,Math.ceil((-d+e.canvas.width)/this.tileSize)+1),f=Math.max(0,Math.floor(-m/this.tileSize)-1),p=Math.min(h,Math.ceil((-m+e.canvas.height)/this.tileSize)+1);e.save(),this.drawBaseTiles(e,o,a,d,m,c,h,f,p,u,g),this.drawRoomDetails(e,o,a,n,d,m,c,h,f,p,u,g),this.drawLiftDetails(e,n,d,m),this.drawBooks(e,s,d,m,i),e.restore()}drawBaseTiles(e,t,i,o,a,s,n,r,l,c,h){e.save(),e.shadowColor="transparent";const d="#383838",m="#606060",u="#757575";for(let g=r;g<l;g++)for(let r=c;r<h;r++){const l=t[g]?.[r];if(void 0===l)continue;const c=Math.floor(r*this.tileSize+o),h=Math.floor(g*this.tileSize+a),f=this.getTileColor(g,r,l,i);if(e.fillStyle=f,e.fillRect(c,h,this.tileSize,this.tileSize),0===l){e.fillStyle="rgba(0,0,0,0.06)";for(let t=0;t<5;t++)e.fillRect(c+Math.random()*this.tileSize,h+Math.random()*this.tileSize,1,1);const i=2;g>0&&0!==t[g-1]?.[r]&&(e.fillStyle=u,e.fillRect(c,h,this.tileSize,i)),g<n-1&&0!==t[g+1]?.[r]&&(e.fillStyle=d,e.fillRect(c,h+this.tileSize-i,this.tileSize,i)),r>0&&0!==t[g]?.[r-1]&&(e.fillStyle=m,e.fillRect(c,h+i,i,this.tileSize-i)),r<s-1&&0!==t[g]?.[r+1]&&(e.fillStyle=d,e.fillRect(c+this.tileSize-i,h+i,i,this.tileSize-i)),g>0&&r>0&&0!==t[g-1]?.[r]&&0!==t[g]?.[r-1]&&0!==t[g-1]?.[r-1]&&(e.fillStyle=m,e.fillRect(c,h,i,i)),g>0&&r<s-1&&0!==t[g-1]?.[r]&&0!==t[g]?.[r+1]&&0!==t[g-1]?.[r+1]&&(e.fillStyle=u,e.fillRect(c+this.tileSize-i,h,i,i))}else if(1===l){e.fillStyle="rgba(255,255,255,0.03)";for(let t=0;t<3;t++)e.fillRect(c+Math.random()*this.tileSize,h+Math.random()*this.tileSize,1,1)}}e.restore()}drawRoomDetails(e,t,i,o,a,s,n,r,h,d,m,u){e.save(),e.shadowColor="transparent";for(const o of i){if(o.col+o.width<m||o.col>u||o.row+o.height<h||o.row>d)continue;const i=Math.floor(o.col*this.tileSize+a),n=Math.floor(o.row*this.tileSize+s),r=o.width*this.tileSize,g=o.height*this.tileSize;let f=this.baseRoomFloorColor;const p="number"==typeof this.floorNumber?this.floorNumber:0;let y=l(o.id)+100*p;switch(o.type){case"classroom":f=c("#a0c8e0",.9+l(y)%11/100);break;case"office":f=c("#f0e8c0",.9+l(y+1)%11/100);break;case"library":f=c("#d8c0a8",.9+l(y+2)%11/100);break;case"gym":f=c("#b0d0b0",.9+l(y+3)%11/100);break;case"lab":f=c("#e0e0ff",.9+l(y+4)%11/100);break;case"storage":f=c("#b0a090",.9+l(y+5)%11/100);break;case"utility":f=c("#b0b0b0",.9+l(y+6)%11/100)}for(let i=Math.max(o.row,h);i<Math.min(o.row+o.height,d);i++)for(let n=Math.max(o.col,m);n<Math.min(o.col+o.width,u);n++){const r=t[i]?.[n];if(2===r){const t=Math.floor(n*this.tileSize+a),r=Math.floor(i*this.tileSize+s),h=.98+(l(5e3*i+3*n+y)%11-5)/100;e.fillStyle=c(f,h),e.fillRect(t,r,this.tileSize,this.tileSize),"lab"===o.type&&(e.strokeStyle="rgba(0,0,0,0.08)",e.lineWidth=1,e.strokeRect(t+.5,r+.5,this.tileSize-1,this.tileSize-1))}}this.drawRoomDecorations(e,o,i,n,r,g)}e.restore()}drawLiftDetails(e,t,i,o){if(!t)return;const a=Math.floor(t.tileX*this.tileSize+i),s=Math.floor(t.tileY*this.tileSize+o);if(a+this.tileSize<0||a>e.canvas.width||s+this.tileSize<0||s>e.canvas.height)return;e.save(),e.shadowColor="transparent",e.strokeStyle="#d0d0d0",e.lineWidth=1,e.strokeRect(a+.5,s+.5,this.tileSize-1,this.tileSize-1),e.strokeStyle="#404040",e.strokeRect(a+1.5,s+1.5,this.tileSize-3,this.tileSize-3);const n=.15*this.tileSize,r=a+.8*this.tileSize,l=s+.5*this.tileSize;e.fillStyle="#444",e.beginPath(),e.arc(r,l,n,0,2*Math.PI),e.fill(),e.fillStyle="#ff4444",e.beginPath(),e.arc(r,l,.8*n,0,2*Math.PI),e.fill(),e.fillStyle="rgba(255, 255, 255, 0.5)",e.beginPath(),e.arc(r-.2*n,l-.2*n,.3*n,0,2*Math.PI),e.fill(),e.restore()}drawRoomDecorations(e,t,i,o,a,s){const n=this.tileSize,r=.2*n,l=.1*n;e.lineWidth=1,e.strokeStyle="#444";const c=(t,a,s,n,r,l=!0)=>{e.fillStyle=r;const c=Math.floor(i+t),h=Math.floor(o+a),d=Math.floor(s),m=Math.floor(n);e.fillRect(c,h,d,m),l&&e.strokeRect(c+.5,h+.5,d-1,m-1)},h=(t,a,s,n,r=!0)=>{e.fillStyle=n;const l=Math.floor(i+t),c=Math.floor(o+a);e.beginPath(),e.arc(l,c,Math.floor(s),0,2*Math.PI),e.fill(),r&&e.stroke()};switch(t.type){case"classroom":e.strokeStyle="#5d4037";const t=.6*n,d=.4*n,m=.25*n,u=1*n,g=.9*n;c(.25*a,r,.5*a,.2*n,"#333",!0),c(.25*a+2,r+2,.5*a-4,.2*n-4,"#4CAF50",!1);for(let e=0;;e++){const i=r+.5*n+e*g;if(i+d+m>s-r)break;for(let e=0;;e++){const o=r+e*u;if(o+t>a-r)break;c(o,i,t,d,"#8B4513"),c(o+.1*t,i+d+l,.8*t,m,"#6a4a3a")}}break;case"office":e.strokeStyle="#5d4037";const f=Math.min(.6*a,2.5*n),p=Math.min(.4*s,1.2*n);c(r,r,f,p,"#a0522d"),c(r+f+l,r+.1*p,.6*n,.6*n,"#444");const y=.8*n;c(a-r-y,r,y,s-2*r,"#6B4F41"),c(r+l,r+l,.5*n,.4*n,"#333"),c(r+l+.1*n,r+l+.4*n+2,.3*n,.1*n,"#555");break;case"library":e.strokeStyle="#402a10";const w=.6*n,S=1.5*n;for(let t=r;t<a-r-w;t+=S){c(t,r,w,s-2*r,"#654321"),e.strokeStyle="rgba(0,0,0,0.3)";for(let a=r+.5*n;a<s-r;a+=.7*n)e.beginPath(),e.moveTo(i+t,o+a),e.lineTo(i+t+w,o+a),e.stroke();e.strokeStyle="#402a10"}if(a>1.5*S){const e=w+r+(a-2*w-2*r-1.5*n)/2;e>w+r&&(c(e,.3*s,1.5*n,.4*s,"#966F33"),c(e+.2*n,.3*s-.3*n,.5*n,.25*n,"#6a4a3a"),c(e+.2*n,.3*s+.4*s+l,.5*n,.25*n,"#6a4a3a"))}break;case"gym":e.strokeStyle="#555",c(r,r,.4*a,.3*s,"#778899"),c(a-r-.3*a,s-r-.4*s,.3*a,.4*s,"#778899"),c(.6*a,r,.8*n,1.8*n,"#333"),c(.6*a+.1*n,r+.1*n,.6*n,1.6*n,"#555",!1),c(r,.5*s,1.5*n,.4*n,"#8B4513"),c(a-r-.5*n,r,.5*n,1.5*n,"#444"),h(a-r-.25*n,r+.3*n,.15*n,"#666"),h(a-r-.25*n,r+.7*n,.15*n,"#666"),h(a-r-.25*n,r+1.1*n,.15*n,"#666");break;case"lab":e.strokeStyle="#668";const M=.8*n;c(r,r,a-2*r,M,"#d0d0d8"),c(r,s-r-M,a-2*r,M,"#d0d0d8"),c(r+.2*n,r+.1*n,.5*n,.5*n,"#4a90e2"),c(r+1*n,r+.1*n,.3*n,.6*n,"#f5a623"),h(a-2*r-.4*n,r+.5*M,.2*n,"#e04040",!0),c(.4*a,r+M+l,n,s-2*r-2*M-2*l,"#a0a0b0");break;case"storage":e.strokeStyle="#4d4030";const v=a-2*r,b=.5*n;c(r,r,v,b,"#9e9e9e"),c(r,s-r-b,v,b,"#9e9e9e");const C=.6*n;c(r+.2*n,r+b+l,C,C,"#bf8f6f"),c(r+1*n,r+b+l,C,C,"#bf8f6f"),c(a-r-1.5*C,r+b+3*l,1.2*C,.8*C,"#bf8f6f"),c(a-r-n,s-r-n,.8*n,.8*n,"#6a4a3a");break;default:e.strokeStyle="#5d4037",c(.1*a,.15*s,.3*a,.25*s,"#A0522D"),c(.6*a,.5*s,.3*a,.4*s,"#A0522D"),c(a-r-.5*n,r,.5*n,s-2*r,"#777"),e.strokeStyle="#555",e.lineWidth=3,e.beginPath(),e.moveTo(i+r,o+.8*s),e.lineTo(i+a-r,o+.8*s),e.stroke(),e.beginPath(),e.moveTo(i+.7*a,o+r),e.lineTo(i+.7*a,o+s-r),e.stroke(),e.lineWidth=1}}drawBooks(e,t,i,o,a){if(!t||0===t.length)return;const s=.6*this.tileSize;for(const n of t)if(!n.isCollected&&!n.collected){const t=n.size||s,r=Math.floor(n.x+i-t/2),l=Math.floor(n.y+o-t/2);r+t>0&&r<e.canvas.width&&l+t>0&&l<e.canvas.height&&("function"==typeof n.draw?n.draw(e,i,o,a):a?e.drawImage(a,r,l,t,t):(e.fillStyle="#8d6e63",e.fillRect(r,l,t,t),e.strokeStyle="#5d4037",e.lineWidth=1,e.strokeRect(r+.5,l+.5,t-1,t-1)))}}}let d=null;const m={minRoomSize:5,maxRoomSize:10,corridorThickness:1,numRooms:12,maxRoomAttempts:200,roomTypeWeights:{classroom:50,office:25,library:15,gym:0,utility:10,lab:10,storage:5}};function u(e,t,i,o,a){const{centerTileX:s,centerTileY:n}=t,{centerTileX:r,centerTileY:l}=i;Math.random()<.5?(g(e,n,s,r,o,a),f(e,r,n,l,o,a)):(f(e,s,n,l,o,a),g(e,l,s,r,o,a))}function g(e,t,i,o,a,s){if(t<0||t>=s)return;const n=Math.max(0,Math.min(i,o)),r=Math.min(a-1,Math.max(i,o));for(let i=n;i<=r;i++)0===e[t]?.[i]&&(e[t][i]=1)}function f(e,t,i,o,a,s){if(t<0||t>=a)return;const n=Math.max(0,Math.min(i,o)),r=Math.min(s-1,Math.max(i,o));for(let i=n;i<=r;i++)0===e[i]?.[t]&&(e[i][t]=1)}function p(e,t,i,o,a){const s=(e,t)=>{if(e<0||e>=o||t<0||t>=a)return!1;const s=i[t]?.[e];return 1===s||2===s||3===s};let n=0;const r=[{dx:0,dy:-1},{dx:0,dy:1},{dx:-1,dy:0},{dx:1,dy:0}];let l=[!1,!1,!1,!1];for(let i=0;i<r.length;i++)s(e+r[i].dx,t+r[i].dy)&&(n++,l[i]=!0);return{openSides:n,isChokepoint:2===n&&(l[0]&&l[1]&&!l[2]&&!l[3]||l[2]&&l[3]&&!l[0]&&!l[1])}}function y(e,t,i,o,a){console.log(`  [MapGen Connect] Forcing connection to (${t},${i})...`);const s=[[0,-1],[0,1],[-1,0],[1,0]];for(const[o,a]of s){const s=e[i+a]?.[t+o];if(1===s||2===s||3===s)return 0===e[i][t]&&(e[i][t]=1),!0}const n=[[t,i,0]],r=new Set([`${t},${i}`]),l=[0,1,2,3],c=[1,2];let h=null,d=1/0;for(;n.length>0;){const[t,i,m]=n.shift();if(!(m>=d&&h))for(const[u,g]of s){const s=t+u,f=i+g,p=`${s},${f}`;if(s>=0&&s<o&&f>=0&&f<a&&!r.has(p)){const t=e[f]?.[s];r.add(p),c.includes(t)?m+1<=d&&(d=m+1,h={x:s,y:f,dist:d}):l.includes(t)&&(m+1<d||!h)&&n.push([s,f,m+1])}}}return h?(console.log(`  [MapGen Connect] Closest walkable @(${h.x},${h.y}), dist ${h.dist}. Carving...`),g(e,i,t,h.x,o,a),f(e,h.x,i,h.y,o,a),1===e[i][t]||2===e[i][t]||(console.warn(`  [MapGen Connect] Carved, but target (${t},${i}) not Corridor/Floor (is ${e[i][t]}).`),0!==e[i][t])):(console.error(`  [MapGen Connect] FAILED to find ANY walkable from (${t},${i}).`),!1)}function w(e,t,i,o){if(!t)return!1;const{tileX:a,tileY:s}=t;if(s<0||s>=o||a<0||a>=i||3!==e[s]?.[a])return console.error(`[MapVal Reach] Invalid lift @(${a},${s}) or not LIFT.`),!1;const{reachable:n}=function(e,t,i,o,a,s){const n=[[t,i]],r=new Set([`${t},${i}`]),l=[[0,-1],[0,1],[-1,0],[1,0]];let c=!1;for(e[i];n.length>0;){const[t,i]=n.shift();for(const[h,d]of l){const l=t+h,m=i+d,u=`${l},${m}`;if(l>=0&&l<o&&m>=0&&m<a&&!r.has(u)){const t=e[m]?.[l];r.add(u),s.includes(t)&&(n.push([l,m]),1!==t&&2!==t||(c=!0))}}}return{reachable:c}}(e,a,s,i,o,[1,2,3]);return n||console.error(`[MapVal Reach] FAILED. Lift @(${a},${s}) isolated.`),n}function S(e,t,i){if(!e)return void console.log("[DEBUG MAP] null map.");console.log("--- DEBUG MAP GRID ---");let o="   ";for(let e=0;e<t;e++)o+=e%10==0?Math.floor(e/10):" ";console.log(o),o="   ";for(let e=0;e<t;e++)o+=e%10;console.log(o);for(let t=0;t<i;t++){if(!e[t]){console.log(`${t.toString().padStart(2," ")} [ROW UNDEF]`);continue}const i=e[t].map((e=>{switch(e){case 0:return"#";case 1:return".";case 2:return" ";case 3:return"L";default:return"?"}})).join("");console.log(`${t.toString().padStart(2," ")} ${i}`)}console.log("--- END DEBUG MAP GRID ---")}class M{constructor(e,t,i,o,a){this.tileSize=32,this.cols=40,this.rows=30,this.width=this.cols*this.tileSize,this.height=this.rows*this.tileSize,this.offsetX=0,this.offsetY=0,this.floorNumber=i,this.minFloor=o,this.maxFloor=a,this.map=null,this.rooms=[],this.books=[],this.liftPosition=null,this.renderer=new h(this.tileSize),this.renderer.floorNumber=this.floorNumber;const s={minRoomSize:5,maxRoomSize:10,corridorThickness:1,numRooms:12,maxRoomAttempts:200,booksPerMap:5,roomTypeWeights:{classroom:50,office:25,library:15,lab:10,storage:5,utility:10,gym:0}};try{const e={cols:this.cols,rows:this.rows,floorNumber:this.floorNumber,minFloor:this.minFloor,maxFloor:this.maxFloor,tileSize:this.tileSize,generationParams:s},{map:t,rooms:i,liftPosition:o}=function(e){const{cols:t,rows:i,floorNumber:o,minFloor:a,tileSize:s,generationParams:n}=e,l={...m,...n};l.floorNumber=o,l.roomTypeWeights.gym=o===a?60:0,o===a&&(d=null,console.log(`[MapGen Floor ${o}] Reset consistent lift coords for the first floor.`)),console.log(`[MapGen Floor ${o}] Starting map generation (${t}x${i})...`);const c=Array.from({length:i},(()=>Array(t).fill(0))),h=[];let g=null;if(function(e,t,i,o,a){const{minRoomSize:s,maxRoomSize:n,numRooms:l,maxRoomAttempts:c,roomTypeWeights:h}=a;let d=0;const m=[];for(const e in h){const t=h[e];if(t>0)for(let i=0;i<t;i++)m.push(e)}for(0===m.length&&(m.push("utility"),console.warn("[MapGen Rooms] No room types. Defaulting to 'utility'."));t.length<l&&d<c;){d++;const l=r(s,n),c=r(s,n),h=r(1,i-l-2),u=r(1,o-c-2),g={col:h,row:u,width:l,height:c,type:m[r(0,m.length-1)],id:`room_f${a.floorNumber}_${t.length+1}`,centerTileX:Math.floor(h+l/2),centerTileY:Math.floor(u+c/2),connected:!1,x:h,y:u};let f=!1;const p=2;for(const e of t)if(g.col<e.col+e.width+p&&g.col+g.width+p>e.col&&g.row<e.row+e.height+p&&g.row+g.height+p>e.row){f=!0;break}if(!f){t.push(g);for(let t=g.row;t<g.row+g.height;t++)for(let a=g.col;a<g.col+g.width;a++)t>=0&&t<o&&a>=0&&a<i&&(e[t][a]=2)}}t.length<l?console.warn(`[MapGen Rooms] Placed ${t.length}/${l} rooms.`):console.log(`[MapGen Rooms] Placed ${t.length} rooms.`)}(c,h,t,i,l),h.length<1){const e=`[MapGen Floor ${o}] CRITICAL: No rooms generated. Cannot place lift.`;throw console.error(e),new Error(e)}h.length>=2?function(e,t,i,o){if(t.length<2)return;console.log(`[MapGen Connect] Connecting ${t.length} rooms...`);const a=new Set([t[0].id]);let s=t.slice(1);for(;s.length>0;){let n=1/0,r=null,l=null,c=-1;for(let e=0;e<s.length;e++){const i=s[e];for(const o of t)if(a.has(o.id)){const t=i.centerTileX-o.centerTileX,a=i.centerTileY-o.centerTileY,s=t*t+a*a;s<n&&(n=s,r=i,l=o.id,c=e)}}if(!r||null===l){console.error("[MapGen Connect] Could not find next pair. Remaining:",s.map((e=>e.id)));break}{const n=t.find((e=>e.id===l));if(!n){console.error(`[MapGen Connect] Error finding connected room ${l}.`),s.splice(c,1);continue}u(e,n,r,i,o),a.add(r.id),s.splice(c,1)}}console.log(`[MapGen Connect] Finished. Connected: ${a.size}`)}(c,h,t,i):console.warn(`[MapGen Floor ${o}] Only 1 room generated. No corridors needed between rooms.`);try{const e=function(e,t,i,o,a,s,n,r){let l=n,c=null;if(o===a){if(console.log(`[MapGen F${o}] Finding initial IN-ROOM lift loc...`),l=function(e,t,i,o){if(console.log("  [MapGen FindLift V6] Searching for lift spot INSIDE a room..."),!o||0===o.length)return console.warn("  [MapGen FindLift V6] No rooms. Placement will fail."),null;const a=[];for(const s of o){const o=s.col+1,n=s.col+s.width-2,r=s.row+1,l=s.row+s.height-2;if(o<=n&&r<=l){for(let c=r;c<=l;c++)for(let r=o;r<=n;r++)if(2===e[c]?.[r]){const o=p(r,c,e,t,i);!o.isChokepoint&&o.openSides>=2&&a.push({tileX:r,tileY:c,room:s})}}else{const o=s.centerTileX,n=s.centerTileY;if(o>=s.col&&o<s.col+s.width&&n>=s.row&&n<s.row+s.height&&2===e[n]?.[o]){const r=p(o,n,e,t,i);!r.isChokepoint&&r.openSides>=1&&a.push({tileX:o,tileY:n,room:s})}}}if(a.length>0){const e=Math.floor(t/2),o=Math.floor(i/2);a.sort(((t,i)=>(t.tileX-e)**2+(t.tileY-o)**2-((i.tileX-e)**2+(i.tileY-o)**2)));const s=a[0];return console.log(`  [MapGen FindLift V6] Selected IN ROOM (${s.room.id}) @(${s.tileX},${s.tileY}).`),{tileX:s.tileX,tileY:s.tileY}}return console.warn("[MapGen FindLift V6] No suitable IN-ROOM location. Will fail."),null}(e,t,i,r),!l)throw new Error(`[MapGen F${o}] CRIT: No valid IN-ROOM lift loc on minFloor.`);console.log(`[MapGen F${o}] Established consistent IN-ROOM lift @(${l.tileX},${l.tileY})`),c=l}else if(!l)throw new Error(`[MapGen Lift] CRIT: Missing consistent lift coords for F${o}.`);const{tileX:h,tileY:d}=l;if(d<0||d>=i||h<0||h>=t)throw new Error(`[MapGen Lift] Coords (${h},${d}) out of bounds F${o}.`);const m=e[d]?.[h];0===e[d][h]&&(console.warn(`[MapGen F${o}] Lift loc (${h},${d}) is WALL. Forcing connection...`),y(e,h,d,t,i)||0!==e[d][h]||console.error(`[MapGen LiftConnect] FAILED to connect wall @(${h},${d}) & it REMAINED WALL.`)),e[d][h]=3;let u=null;for(const e of r)if(h>=e.col&&h<e.col+e.width&&d>=e.row&&d<e.row+e.height&&2===m){u=e,console.log(`  [MapGen Lift F${o}] Lift @(${h},${d}) is on TILE_ROOM_FLOOR within existing room ${e.id}.`);break}if(!u){const s=u?`Original tile was ${m}, not TILE_ROOM_FLOOR.`:"Not in existing room region";console.warn(`[MapGen F${o}] Lift @(${h},${d}) will use carved alcove. Reason: ${s}`),o===a&&2!==m&&console.error(`[MapGen F${o}] CRITICAL MISMATCH on minFloor! _findLiftPlacementLocation selected (${h},${d}) which was type ${m}, not TILE_ROOM_FLOOR. This indicates a flaw in _findLiftPlacementLocation.`);const n=3,l=Math.max(1,h-Math.floor(n/2)),c=Math.max(1,d-Math.floor(n/2)),g={col:l,row:c,width:Math.min(n,t-1-l),height:Math.min(n,i-1-c),type:"lift_alcove",id:`room_f${o}_liftalcove_${h}_${d}`,centerTileX:h,centerTileY:d,connected:!0,x:l,y:c};for(let o=g.row;o<g.row+g.height;o++)for(let a=g.col;a<g.col+g.width;a++)3!==e[o]?.[a]&&o>0&&o<i-1&&a>0&&a<t-1&&(e[o][a]=2);r.push(g),u=g}if(!u){const a=`[MapGen Lift F${o}] CRIT: Could NOT associate lift @(${h},${d}) with any room object even after alcove attempt.`;throw console.error(a),S(e,t,i),new Error(a)}const g={x:(h+.5)*s,y:(d+.5)*s,tileX:h,tileY:d,roomId:u.id};return console.log(`[MapGen F${o}] Placed lift @(${h},${d}) in room ${u.id}. World:(${g.x.toFixed(1)},${g.y.toFixed(1)})`),{position:g,coords:c||l}}(c,t,i,o,a,s,d,h);g=e.position,e.coords&&(d=e.coords)}catch(e){throw console.error(`[MapGen Floor ${o}] CRITICAL: Lift placement failed:`,e),new Error(`Lift placement failed on floor ${o}: ${e.message}`)}if(function(e,t,i){for(let o=0;o<t;o++)e[0][o]=0,e[i-1][o]=0;for(let o=0;o<i;o++)e[o][0]=0,e[o][t-1]=0}(c,t,i),g&&!w(c,g,t,i)){if(console.warn(`[MapValidation Floor ${o}] Lift at tile(${g.tileX}, ${g.tileY}) initially unreachable. Attempting final force connection.`),!y(c,g.tileX,g.tileY,t,i)||!w(c,g,t,i)){const e=`CRITICAL: Placed lift at tile(${g.tileX}, ${g.tileY}) is UNREACHABLE even after force connect! Generation failed.`;throw console.error(`[MapGen Floor ${o}] ${e}`),S(c,t,i),new Error(`Lift is unreachable on floor ${o}. Cannot proceed.`)}console.log(`[MapValidation Floor ${o}] Lift connection successful after second attempt.`)}else{if(!g)throw new Error(`Map generated without a valid lift position on floor ${o}.`);console.log(`[MapValidation Floor ${o}] Lift at tile(${g.tileX}, ${g.tileY}) is reachable.`)}return console.log(`[MapGen Floor ${o}] Map generation completed successfully.`),{map:c,rooms:h,liftPosition:g}}(e);this.map=t,this.rooms=i,this.liftPosition=o,this.renderer.resetColorCache(),this.placeBooksReliably(s.booksPerMap),null===this.floorNumber&&(console.log(`[ProcMap F${this.floorNumber}] Init complete. Lift@(${o?.tileX},${o?.tileY}). Rooms: ${this.rooms.length}`),this.logMapGrid())}catch(e){throw console.error(`[ProcMap F${this.floorNumber}] CRIT ERR during map gen/setup:`,e),e}}placeBooksReliably(e){this.books=[];const t=[],i=new Set;for(let e=0;e<this.rows;e++)for(let i=0;i<this.cols;i++){const o=this.map[e]?.[i],a=this.liftPosition&&e===this.liftPosition.tileY&&i===this.liftPosition.tileX;1!==o&&2!==o||a||t.push({r:e,c:i})}let o=0;for(;o<e&&t.length>0;){const e=Math.floor(Math.random()*t.length),{r:a,c:s}=t.splice(e,1)[0],r=`${s},${a}`;if((1===this.map[a]?.[s]||2===this.map[a]?.[s])&&!i.has(r)){const e=`book_f${this.floorNumber}_${o+1}`;this.books.push(new n((s+.5)*this.tileSize,(a+.5)*this.tileSize,e,this.tileSize)),i.add(r),o++}}}isWalkable(e,t){if(!this.map)return!1;const i=Math.floor(e/this.tileSize),o=Math.floor(t/this.tileSize);if(i<0||i>=this.cols||o<0||o>=this.rows)return!1;const a=this.map[o]?.[i];return 1===a||2===a||3===a}findRandomInitialSpawnPosition(e=null){if(!this.map)return;const t=[],i=e?{width:e.collisionBoxWidth,height:e.collisionBoxHeight}:{width:.6*this.tileSize,height:.8*this.tileSize},o=(e,t)=>{const o=(e+.5)*this.tileSize,a=(t+.5)*this.tileSize,s=this.map[t]?.[e],n=this.liftPosition&&t===this.liftPosition.tileY&&e===this.liftPosition.tileX;if(1!==s&&2!==s||n)return!1;const r=i.width/2,l=i.height/2,c=[{x:o-r,y:a-l},{x:o+r,y:a-l},{x:o-r,y:a+l},{x:o+r,y:a+l},{x:o,y:a-l},{x:o,y:a+l},{x:o-r,y:a},{x:o+r,y:a}];for(const e of c)if(!this.isWalkable(e.x,e.y))return!1;return!0};for(let e=1;e<this.rows-1;e++)for(let i=1;i<this.cols-1;i++)o(i,e)&&this.isTileOpenEnough(i,e,2,!0)&&t.push({r:e,c:i});if(0===t.length){console.warn(`[ProcMap F${this.floorNumber} Spawn] No ideal open spots found, checking all valid tiles.`);for(let e=0;e<this.rows;e++)for(let i=0;i<this.cols;i++)o(i,e)&&t.push({r:e,c:i})}if(0===t.length){console.error(`[ProcMap F${this.floorNumber} Spawn] CRITICAL: No suitable spawn tiles found after thorough check!`);for(const e of this.rooms)for(let t=0;t<e.height;t++)for(let i=0;i<e.width;i++){const o=e.y+t,a=e.x+i;if(2===this.map[o]?.[a])return console.warn(`[ProcMap F${this.floorNumber} Spawn] EMERGENCY FALLBACK to first room floor tile: (${a},${o})`),{x:(a+.5)*this.tileSize,y:(o+.5)*this.tileSize}}return}const{r:a,c:s}=t[Math.floor(Math.random()*t.length)];return console.log(`[ProcMap F${this.floorNumber} Spawn] Selected spawn tile: (${s},${a})`),{x:(s+.5)*this.tileSize,y:(a+.5)*this.tileSize}}isTileOpenEnough(e,t,i=2,o=!1){if(!this.map)return!1;let a=0;const s=[[0,-1],[0,1],[-1,0],[1,0]],n=[!1,!1,!1,!1];for(let i=0;i<s.length;i++){const o=e+s[i][0],r=t+s[i][1];if(o>=0&&o<this.cols&&r>=0&&r<this.rows){const e=this.map[r]?.[o];1!==e&&2!==e&&3!==e||(a++,n[i]=!0)}}return!(a<i||o&&2===a&&(n[0]&&n[1]&&!n[2]&&!n[3]||n[2]&&n[3]&&!n[0]&&!n[1]))}findNearestWalkableTile(e,t,i=8,o=!1,a=!1){if(!this.map)return null;const s=Math.floor(e/this.tileSize),n=Math.floor(t/this.tileSize),r=[1,2];if(s>=0&&s<this.cols&&n>=0&&n<this.rows){const e=this.map[n][s];if(r.includes(e)&&(!o||3!==e)&&this.isTileOpenEnough(s,n,2,a))return{x:(s+.5)*this.tileSize,y:(n+.5)*this.tileSize}}for(let e=1;e<=i;e++)for(let t=-e;t<=e;t++)for(let i=-e;i<=e;i++){if(Math.abs(i)<e&&Math.abs(t)<e)continue;const l=s+i,c=n+t;if(l<0||l>=this.cols||c<0||c>=this.rows)continue;const h=this.map[c]?.[l];if(r.includes(h)&&(!o||3!==h)&&this.isTileOpenEnough(l,c,2,a))return{x:(l+.5)*this.tileSize,y:(c+.5)*this.tileSize}}const l=[[s,n]],c=new Set([`${s},${n}`]),h=[1,2,3];for(;l.length>0;){const[e,t]=l.shift();for(const[i,s]of[[0,-1],[0,1],[-1,0],[1,0]]){const n=e+i,d=t+s,m=`${n},${d}`;if(n>=0&&n<this.cols&&d>=0&&d<this.rows&&!c.has(m)){const e=this.map[d]?.[n];if(c.add(m),r.includes(e)&&(!o||3!==e)&&this.isTileOpenEnough(n,d,2,a))return{x:(n+.5)*this.tileSize,y:(d+.5)*this.tileSize};h.includes(e)&&l.push([n,d])}}}return null}getRoomContainingTile(e,t){if(!this.rooms||0===this.rooms.length)return null;for(const i of this.rooms)if(e>=i.col&&e<i.col+i.width&&t>=i.row&&t<i.row+i.height){const o=this.map[t]?.[e];if(3===o||2===o&&"lift_alcove"!==i.type)return i;if("lift_alcove"===i.type&&3===o)return i}return null}getRoomCenter(e){return e?{x:(e.col+e.width/2)*this.tileSize,y:(e.row+e.height/2)*this.tileSize}:null}getSpawnPointInRoomOfLift(e,t,i=1){const o=this.getRoomContainingTile(e,t);if(!o)return null;const a=[{dx:0,dy:-1},{dx:0,dy:1},{dx:-1,dy:0},{dx:1,dy:0}],s=[];for(const i of a){const a=e+i.dx,n=t+i.dy;a>=o.col&&a<o.col+o.width&&n>=o.row&&n<o.row+o.height&&2===this.map[n]?.[a]&&this.isTileOpenEnough(a,n,2,!0)&&s.push({x:(a+.5)*this.tileSize,y:(n+.5)*this.tileSize})}return s.length>0?s[0]:this.getRoomCenter(o)}findNearbyUnansweredBook(e,t,i=.8*this.tileSize){if(!this.books||0===this.books.length)return null;let o=null,a=i*i;for(const i of this.books)if(!i.isCollected){const s=i.x-e,n=i.y-t,r=s*s+n*n;r<a&&(a=r,o=i)}return o}markBookAsCollected(e){if(!e||!this.books)return!1;const t=this.books.find((t=>t.id===e.id));return!(!t||t.isCollected||(t.isCollected=!0,0))}findNearbyLift(e,t,i=.7*this.tileSize){if(!this.liftPosition)return null;const o=e-this.liftPosition.x,a=t-this.liftPosition.y;return o*o+a*a<i*i?this.liftPosition:null}getLiftPosition(){return this.liftPosition}draw(e,t=null){this.map&&this.renderer&&this.renderer.draw(e,{map:this.map,rooms:this.rooms,books:this.books,liftPosition:this.liftPosition,offsetX:this.offsetX,offsetY:this.offsetY,cols:this.cols,rows:this.rows,tileSize:this.tileSize},t)}logMapGrid(){if(!this.map)return void console.log(`[ProcMap F${this.floorNumber}] Map grid N/A.`);console.log(`--- Map Grid F${this.floorNumber} (${this.cols}x${this.rows}) ---`);let e="   ";for(let t=0;t<this.cols;t++)e+=t%10==0?Math.floor(t/10):" ";console.log(e),e="   ";for(let t=0;t<this.cols;t++)e+=t%10;console.log(e);for(let e=0;e<this.rows;e++){const t=e.toString().padStart(2," "),i=this.map[e].map((e=>{switch(e){case 0:return"#";case 1:return".";case 2:return" ";case 3:return"L";default:return"?"}})).join("");console.log(`${t} ${i}`)}this.liftPosition?console.log(`Lift tile map[${this.liftPosition.tileY}][${this.liftPosition.tileX}]: ${this.map[this.liftPosition.tileY]?.[this.liftPosition.tileX]}. Reported @(${this.liftPosition.tileX},${this.liftPosition.tileY})`):console.log("Lift N/A."),console.log(`--- End Map Grid F${this.floorNumber} ---`)}}class v{constructor(e=1,t=3){e>=t?(console.warn(`Level constructor: minFloor (${e}) must be less than maxFloor (${t}). Using defaults 1 and 3.`),this.minFloor=1,this.maxFloor=3):(this.minFloor=e,this.maxFloor=t),this.currentFloor=this.minFloor,this.currentMap=null,this.tileSize=32}async loadFloor(e,t,i){if(e<this.minFloor||e>this.maxFloor){const t=`Attempted to load invalid floor: ${e}. Allowed range: [${this.minFloor}-${this.maxFloor}]`;throw console.error(`[Level] ${t}`),new Error(t)}console.log(`[Level] Loading floor ${e}...`),this.currentFloor=e;try{if(this.currentMap=new M(t,i,this.currentFloor,this.minFloor,this.maxFloor),!(this.currentMap.tileSize&&this.currentMap.map&&this.currentMap.books&&this.currentMap.getLiftPosition()))throw new Error("[Level] ProceduralMap instance is missing essential properties after creation (tileSize, map, books, or liftPosition).");this.tileSize=this.currentMap.tileSize;const o=this.currentMap.getLiftPosition();console.log(`  [Level] Map generated for floor ${this.currentFloor}. TileSize: ${this.tileSize}. Lift at tile(${o.tileX}, ${o.tileY}).`),console.log(`[Level] Floor ${e} loaded successfully. Map size: ${this.currentMap.cols}x${this.currentMap.rows}. ${this.currentMap.books.length} books placed.`)}catch(t){throw console.error(`[Level] CRITICAL FAILURE loading floor ${e}: Failed to create or validate ProceduralMap:`,t),this.currentMap=null,new Error(`Map generation/validation failed for floor ${e}. ${t.message||t}`)}return Promise.resolve()}getCurrentBooks(){return this.currentMap?this.currentMap.books:[]}}class b{constructor(e){this.game=e,this.canvas=null,this.ctx=null}initializeCanvas(){if(this.canvas=document.getElementById("game-canvas"),!this.canvas)throw new Error("[Renderer] Canvas 'game-canvas' not found!");if(this.ctx=this.canvas.getContext("2d"),!this.ctx)throw new Error("[Renderer] Failed to get 2D context.");return this.ctx.imageSmoothingEnabled=!1,this.resizeCanvas(),console.log("[Renderer] Canvas initialized."),{canvas:this.canvas,ctx:this.ctx}}resizeCanvas(){this.canvas&&(this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.game.character&&this.game.level?.currentMap&&this.centerCameraOnCharacter(),console.log(`[Renderer] Canvas resized to ${this.canvas.width}x${this.canvas.height}`))}centerCameraOnCharacter(){const{character:e,level:t,canvas:i}=this.game;e&&t?.currentMap&&i&&(t.currentMap.offsetX=Math.floor(i.width/2-e.x),t.currentMap.offsetY=Math.floor(i.height/2-e.y))}drawFrame(){if(!this.ctx||!this.canvas)return;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);const e=this.game.level?.currentMap,t=this.game.character;e&&e.draw(this.ctx,this.game.bookImage),t&&e&&t.draw(e.offsetX,e.offsetY)}drawWinScreen(){this.ctx&&this.canvas&&(this.ctx.fillStyle="rgba(0, 0, 0, 0.8)",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillStyle="lime",this.ctx.font='clamp(32px, 8vw, 48px) "Press Start 2P", cursive, Arial, sans-serif',this.ctx.fillText("ZWYCIĘSTWO!",this.canvas.width/2,this.canvas.height/2-80),this.ctx.fillStyle="white",this.ctx.font="clamp(24px, 5vw, 32px) Arial, sans-serif",this.ctx.fillText(`Zebrano wszystkie ${this.game.targetBooksToWin} książki!`,this.canvas.width/2,this.canvas.height/2),this.ctx.font="clamp(18px, 4vw, 24px) Arial, sans-serif",this.ctx.fillText("Uniwersytet uratowany!",this.canvas.width/2,this.canvas.height/2+60),this.ctx.font="clamp(14px, 3vw, 18px) Arial, sans-serif",this.ctx.fillStyle="#ccc",this.ctx.fillText("(Odśwież stronę, aby zagrać ponownie)",this.canvas.width/2,this.canvas.height-50))}}const C=null;class I{constructor(e){this.game=e,this.handleAnswer=this.handleAnswer.bind(this),this.handleFloorSelection=this.handleFloorSelection.bind(this)}update(e){this.game.gameState===i.PLAYING&&this.updatePlayingState(e)}updatePlayingState(e){const t=this.game.character;if(!this.game.level?.currentMap||!t||!this.game.inputManager)return;const{moved:o}=this.handleMovement();t?.updateAnimation&&t.updateAnimation(e),o||this.game.gameState!==i.PLAYING||this.handleInteractions()}handleMovement(){const e=this.game.character,t=this.game.level.currentMap,i=this.game.inputManager;if(!e||!t||!i)return{moved:!1};const o=i.getInputDirection();let a=o.x*e.speed,n=o.y*e.speed,r=0,l=0,c=!1;if(0!==a||0!==n){const t=0!==a&&!this.checkCollision(e.x+a,e.y),i=0!==n&&!this.checkCollision(e.x,e.y+n);t&&(r=a),i&&(l=n),0!==a&&0!==n&&this.checkCollision(e.x+a,e.y+n)&&(t&&!i?l=0:i&&!t?r=0:t||i||(r=0,l=0)),0===r&&0===l||(e.x+=r,e.y+=l,c=!0,Math.abs(r)>=Math.abs(l)?0!==r&&(e.currentDirection=r>0?s.Direction.RIGHT:s.Direction.LEFT):0!==l&&(e.currentDirection=l>0?s.Direction.DOWN:s.Direction.UP))}return e.isMoving=c,{moved:c}}checkCollision(e,t){const i=this.game.level?.currentMap,o=this.game.character;if(!i||!o)return!0;const a=o.getCollisionBox(e,t),s=[{x:a.left,y:a.top},{x:a.right,y:a.top},{x:a.left,y:a.bottom},{x:a.right,y:a.bottom},{x:e,y:a.top},{x:e,y:a.bottom},{x:a.left,y:t+o.renderSize*o.collisionBoxFeetOffsetRatio},{x:a.right,y:t+o.renderSize*o.collisionBoxFeetOffsetRatio}];for(const e of s)if(!i.isWalkable(e.x,e.y))return!0;return!1}handleInteractions(){const e=this.game.level?.currentMap,t=this.game.character;if(!e||!t||this.game.gameState!==i.PLAYING)return;const o=e.findNearbyUnansweredBook(t.x,t.y);o?this.initiateQuestion(o):this.game.liftCooldownActive||e.findNearbyLift(t.x,t.y)&&this.initiateFloorSelection()}initiateQuestion(e){if(this.game.gameState!==i.PLAYING)return;if(this.game.setGameState(i.ASKING_QUESTION),this.game.character&&(this.game.character.isMoving=!1),this.game.currentBookTarget=e,0===this.game.availableQuestions.length&&(this.game.availableQuestions=[...o],0===this.game.availableQuestions.length))return a.flashMessage("Brak pytań!","error"),this.game.setGameState(i.PLAYING),void(this.game.currentBookTarget=null);const t=Math.floor(Math.random()*this.game.availableQuestions.length);this.game.currentQuestionData=this.game.availableQuestions.splice(t,1)[0],a.showQuestion(this.game.currentQuestionData)}handleAnswer(e){const{gameState:t,currentQuestionData:o,currentBookTarget:s,level:n}=this.game;if(t!==i.ASKING_QUESTION||!o||!s)return a.hideQuestion(),this.game.currentBookTarget=null,this.game.currentQuestionData=null,void(this.game.gameState!==i.GAME_OVER&&this.game.setGameState(i.PLAYING));if(e===o.correctAnswer)if(a.flashMessage("Prawidłowo!","success",1500),n?.currentMap?.markBookAsCollected(s)){if(this.game.totalBooksCollectedGlobally++,a.updateScore(this.game.totalBooksCollectedGlobally,this.game.targetBooksToWin),this.game.totalBooksCollectedGlobally>=this.game.targetBooksToWin)return a.hideQuestion(),void this.game._setGameOver(!0)}else a.flashMessage("Błąd zbierania!","error");else a.flashMessage("Nieprawidłowa!","error"),this.game.availableQuestions.push(o);a.hideQuestion(),this.game.currentBookTarget=null,this.game.currentQuestionData=null,this.game.gameState!==i.GAME_OVER&&this.game.setGameState(i.PLAYING)}initiateFloorSelection(){this.game.gameState!==i.PLAYING||this.game.liftCooldownActive||(this.game.setGameState(i.SELECTING_FLOOR),this.game.character&&(this.game.character.isMoving=!1),a.showFloorSelectionUI(this.game.level.minFloor,this.game.level.maxFloor,this.game.level.currentFloor))}handleFloorSelection(e){this.game.gameState===i.SELECTING_FLOOR?(a.hideFloorSelectionUI(),e===this.game.level.currentFloor||e<this.game.level.minFloor||e>this.game.level.maxFloor?this.game.setGameState(i.PLAYING):this.handleLiftTransition(e).catch((e=>{this.game._handleFatalError(`Błąd przejścia: ${e.message}`)}))):a.hideFloorSelectionUI()}async handleLiftTransition(e){const t=this.game,o=this.game.level?.currentFloor===C||e===C;if(o&&console.log(`[GM F${e} LiftTrans] Start. Cooldown:${t.liftCooldownActive}`),t.liftCooldownActive&&t.gameState!==i.SELECTING_FLOOR)o&&console.warn(`[GM F${e} LiftTrans] Aborted: Cooldown or invalid state (${t.gameState})`);else{t.gameState===i.SELECTING_FLOOR?t.setGameState(i.TRANSITIONING):t.gameState!==i.TRANSITIONING&&(console.warn(`[GM F${e} LiftTrans] Unexpected state ${t.gameState}. Forcing TRANSITIONING.`),t.setGameState(i.TRANSITIONING)),t.character&&(t.character.isMoving=!1),a.hideQuestion(),a.hideFloorSelectionUI(),t.liftCooldownActive=!0,a.flashMessage(`Przejście na piętro ${e}...`,"info",1800);try{await t.level.loadFloor(e,t.canvas.width,t.canvas.height);const i=t.level.currentMap;if(!i)throw new Error(`Map instance null for F${e}.`);const a=i.getLiftPosition();if(!a)throw new Error(`No lift pos data on F${e}!`);o&&console.log(`  [GM F${e} LiftTrans] Lift @(${a.tileX},${a.tileY})`);let n=null;const r=i.getRoomContainingTile(a.tileX,a.tileY);if(r?(o&&console.log(`  [GM F${e} LiftTrans] Lift in room ${r.id||"N/A"}. Spawning center.`),n=i.getRoomCenter(r),n||(console.error(`  [GM F${e} LiftTrans] CRIT: getRoomCenter null for room ${r.id||"N/A"}. Fallback.`),n=i.getSpawnPointInRoomOfLift(a.tileX,a.tileY,1))):(console.error(`  [GM F${e} LiftTrans] CRIT: Lift @(${a.tileX},${a.tileY}) NOT in any room! Fallback near lift.`),n=i.getSpawnPointInRoomOfLift(a.tileX,a.tileY,1)||i.findNearestWalkableTile(a.x,a.y,3,!0,!1)),n||(n={x:a.x,y:a.y}),!n)throw new Error(`PANIC: No spawn pos for F${e}.`);t.character.x=n.x,t.character.y=n.y,o&&console.log(`  [GM F${e} LiftTrans] Initial land (pre-nudge):(${t.character.x.toFixed(1)},${t.character.y.toFixed(1)})`),t.character.currentDirection=s.Direction.DOWN,t.character.isMoving=!1,this.ensureCharacterIsOnWalkableTile(!1),o&&console.log(`  [GM F${e} LiftTrans] Final pos (post-nudge):(${t.character.x.toFixed(1)},${t.character.y.toFixed(1)})`),t.renderer?.centerCameraOnCharacter(),t.startLiftCooldownTimer()}catch(o){console.error(`[GM F${e} LiftTrans] Error:`,o),t.liftCooldownActive=!1,t.gameState!==i.TRANSITIONING&&t.gameState!==i.SELECTING_FLOOR||t.setGameState(i.PLAYING),this.game._handleFatalError(`Transition error to F${e}: ${o.message||o}`)}}}ensureCharacterIsOnWalkableTile(e=!1){const t=this.game.character,i=this.game.level?.currentMap;if(!t||!i)return;const o=Math.floor(t.x/i.tileSize),a=Math.floor(t.y/i.tileSize),s=o>=0&&o<i.cols&&a>=0&&a<i.rows?i.map[a]?.[o]:0,n=3===s,r=i.isWalkable(t.x,t.y)&&(!n||e),l=this.checkCollision(t.x,t.y),c=l||!r,h=this.game.level?.currentFloor===C;if(c){h&&console.warn(`[GM F${this.game.level.currentFloor} AntiStuck] Char@(${t.x.toFixed(1)},${t.y.toFixed(1)}) tile ${s}(${o},${a}) needs nudge. Collide:${l},SafeStand:${r}(allowLift:${e})`);let c=i.findNearestWalkableTile(t.x,t.y,8,!0,!0);if(c||(h&&console.warn("  [AntiStuck] Initial (avoidNarrow) failed. Retrying allowNarrow..."),c=i.findNearestWalkableTile(t.x,t.y,8,!0,!1)),c||!n||e||(h&&console.warn("  [AntiStuck] AllowNarrow failed. Trying any spot incl. lift..."),c=i.findNearestWalkableTile(t.x,t.y,3,!1,!1)),c)h&&console.log(`  [AntiStuck] Nudging to safe:(${c.x.toFixed(1)},${c.y.toFixed(1)})`),t.x=c.x,t.y=c.y,this.game.renderer?.centerCameraOnCharacter();else{h&&console.error("  [AntiStuck] CRIT: No safe nudge spot. Random map spawn...");const e=i.findRandomInitialSpawnPosition();e?(h&&console.warn(`  [AntiStuck] Emergency random:(${e.x.toFixed(1)},${e.y.toFixed(1)})`),t.x=e.x,t.y=e.y,this.game.renderer?.centerCameraOnCharacter()):(h&&console.error("  [AntiStuck] EVEN RANDOM SPAWN FAILED! Unrecoverable."),this.game._handleFatalError("Anti-Stuck system failed: No spawnable tiles found."))}}}}const z={track1:e.p+"assets/audio/back126c4c9e8849503fadb12.mp3",track2:e.p+"assets/audio/back2ddba92be3cd8ac98633a.mp3",track3:e.p+"assets/audio/back381530afe1194de9f2bb1.mp3"},k=["track1","track2","track3"];class E{constructor(){this.musicVolume=.5,this.currentMusicElement=null,this.currentTrackKey=null,this.isMusicPlaying=!1;const e=localStorage.getItem("musicVolume");null!==e&&(this.musicVolume=parseFloat(e)),this.audioElements={},this._preloadTracks()}_preloadTracks(){console.log("[AudioManager] Preloading tracks from imported sources...");for(const e in z)if(z.hasOwnProperty(e)){const t=z[e],i=new Audio(t);i.preload="auto",this.audioElements[e]=i,console.log(`  Preloaded ${e} from ${t}`)}}setMusicVolume(e){this.musicVolume=Math.max(0,Math.min(1,e)),this.currentMusicElement&&(this.currentMusicElement.volume=this.musicVolume),localStorage.setItem("musicVolume",this.musicVolume.toString()),console.log(`[AudioManager] Music volume set to: ${this.musicVolume}`)}getMusicVolume(){return this.musicVolume}playMusic(e,t=!0){if(!this.audioElements[e]){if(console.warn(`[AudioManager] Track "${e}" not found or not preloaded.`),!z[e])return void console.error(`[AudioManager] Source for track "${e}" not defined in MUSIC_SOURCES.`);this.audioElements[e]=new Audio(z[e])}this.isMusicPlaying&&this.currentTrackKey===e||(this.stopMusic(),this.currentMusicElement=this.audioElements[e],this.currentMusicElement.volume=this.musicVolume,this.currentMusicElement.loop=t,this.currentTrackKey=e,this.currentMusicElement.play().then((()=>{this.isMusicPlaying=!0,console.log(`[AudioManager] Playing music: ${e} (Volume: ${this.currentMusicElement.volume})`)})).catch((t=>{console.error(`[AudioManager] Error playing "${e}":`,t),console.error(`  Playback failure details: userInteracted (check Menu.js), document.hasFocus(): ${document.hasFocus()}`),this.isMusicPlaying=!1,this.currentMusicElement=null,this.currentTrackKey=null})))}stopMusic(){this.currentMusicElement&&(this.currentMusicElement.pause(),this.currentMusicElement.currentTime=0,this.isMusicPlaying=!1,console.log(`[AudioManager] Stopped music: ${this.currentTrackKey}`))}changeTrackForFloor(e){const t=Math.max(0,e-1)%k.length,i=k[t];i?(console.log(`[AudioManager] Floor ${e} -> Music track: ${i}`),this.playMusic(i)):console.warn(`[AudioManager] No track found for floor index ${t}.`)}startInitialMusic(e=1){console.log("[AudioManager] Attempting to start initial music..."),this.changeTrackForFloor(e)}}const L=e.p+"assets/images/character_red9229918d5325fcdf2e6e.png",T=e.p+"assets/images/character_blue7b9b140f7eb486e8a968.png",$=e.p+"assets/images/character_yellowff53afbc44f903d97313.png",x=e.p+"assets/images/character_green007c77c97eef8cbb1e94.png",F=e.p+"assets/images/booka54431ef16a38389c12e.png";class G{static CREATOR_NAMES=["Rafał","Dima","Venia","Kacper"];static CLASS_ATTENDING_INFO="Klasa 2P2T / Projektowanie stron internetowych";constructor(e){if(console.log(`[Game] Initializing with character: ${e}`),!e){const e="[Game] CRITICAL: Game initialized without a characterColor!";throw console.error(e),alert("Game cannot start: no character was selected."),new Error(e)}this.characterColor=e,this._gameState=i.IDLE,this.isRunning=!1,this.totalBooksCollectedGlobally=0,this.targetBooksToWin=15,this.availableQuestions=[],this.currentBookTarget=null,this.currentQuestionData=null,this.liftCooldownActive=!1,this.liftCooldownTimer=null,this.canvas=null,this.ctx=null,this.character=null,this.level=null,this.inputManager=null,this.renderer=null,this.gameplayManager=null,this.audioManager=null,this.sprites={red:L,blue:T,yellow:$,green:x},this.bookImage=null,this.gameLoop=this.gameLoop.bind(this),this._handleFatalError=this._handleFatalError.bind(this),this._boundKeyDownHandler=null,this._boundKeyUpHandler=null;try{this._initializeCoreComponents(),this.audioManager=new E,console.log("[Game] AudioManager created."),this.gameplayManager=new I(this),console.log("[Game] GameplayManager created."),this.renderer=new b(this);const{canvas:e,ctx:t}=this.renderer.initializeCanvas();this.canvas=e,this.ctx=t,console.log("[Game] Renderer and Canvas initialized."),a.setGameplayManager(this.gameplayManager),a.initializeUI(this.inputManager),console.log("[Game] UIManager for in-game UI initialized."),this._addEventListeners(),console.log("[Game] Core components initialized. Waiting for triggerGameStart() from Menu.")}catch(e){console.error("[Game] Synchronous core initialization failed:",e),alert(`Critical initialization error: ${e.message}. Game cannot start.`)}}get gameState(){return this._gameState}setGameState(e){this._gameState!==e&&(console.log(`[Game State] ${this._gameState} -> ${e}`),this._gameState=e)}_initializeCoreComponents(){this.inputManager=new t,this.level=new v(1,3)}_addEventListeners(){window.addEventListener("resize",(()=>this.renderer?.resizeCanvas()))}async triggerGameStart(){if(this.gameState!==i.IDLE)return void console.warn(`[Game] triggerGameStart called but game state is ${this.gameState}. Aborting.`);console.log(`[Game] triggerGameStart received for character: ${this.characterColor}. Starting asset loading...`);const e=a.getLoadingOverlay();e&&e.classList.add("visible");try{await this._loadAssetsAndThenStartLogic(),console.log("[Game] Game start sequence completed successfully.")}catch(t){console.error("[Game] Error during _loadAssetsAndThenStartLogic (from triggerGameStart):",t),e&&e.classList.remove("visible"),this.gameState!==i.GAME_OVER&&this._handleFatalError(`Game start process failed: ${t.message}`)}}async _loadAssetsAndThenStartLogic(){const e=a.getLoadingOverlay();try{this.setGameState(i.LOADING),e&&!e.classList.contains("visible")&&e.classList.add("visible"),await this._loadAssets(),await this._startGameLogic(),e&&e.classList.remove("visible")}catch(t){throw console.error("[Game] _loadAssetsAndThenStartLogic failed:",t),e&&e.classList.remove("visible"),this._handleFatalError(`Asset loading or game logic start error: ${t.message}`),t}}async _loadAssets(){console.log("[Game] Loading assets...");const e=[],t=this.characterColor||"red",i=this.sprites[t];if(!i)throw new Error(`Sprite path for character color "${t}" is undefined.`);if(console.log(`[Game] Using sprite: ${i} for character ${t}`),!this.ctx)throw new Error("Canvas context not available for Character creation.");this.character=new s(this.ctx,i,{speed:3,frameSize:32,scale:2,animationSpeed:150,frameCount:4}),e.push(new Promise(((e,t)=>{this.character.sprite.onload=()=>{console.log(`  [Assets] Character sprite loaded: ${i}`),e()},this.character.sprite.onerror=e=>t(new Error(`Failed to load character sprite: ${i}. Details: ${e.message||e}`))}))),F?(this.bookImage=new Image,this.bookImage.src=F,e.push(new Promise((e=>{this.bookImage.onload=()=>{console.log(`  [Assets] Book image loaded: ${F}`),e()},this.bookImage.onerror=()=>{console.warn(` [Assets] Failed to load book image: ${F}. Using fallback.`),this.bookImage=null,e()}})))):(console.warn("[Assets] No book sprite. Fallback rendering will be used."),this.bookImage=null),await Promise.all(e),console.log("[Game] All visual assets loaded successfully.")}async _startGameLogic(){if(console.log("[Game] Starting core game logic..."),!(this.level&&this.character&&this.canvas&&this.renderer&&this.gameplayManager&&this.audioManager))throw new Error("Cannot start game - essential components missing.");this.setGameState(i.LOADING_LEVEL);try{await this.level.loadFloor(this.level.minFloor,this.canvas.width,this.canvas.height);const e=this.level.currentMap;if(!e)throw new Error("Failed to load initial map.");const t=e.findRandomInitialSpawnPosition(this.character);if(!t)throw new Error("Failed to find a valid starting position on the map!");this.character.x=t.x,this.character.y=t.y,this.character.currentDirection=s.Direction.DOWN,this.character.isMoving=!1,this.gameplayManager.ensureCharacterIsOnWalkableTile(!1),this.totalBooksCollectedGlobally=0,this.availableQuestions=[...o],this.liftCooldownActive=!1,clearTimeout(this.liftCooldownTimer),this.liftCooldownTimer=null,this.currentBookTarget=null,this.currentQuestionData=null,this.renderer.centerCameraOnCharacter(),a.updateScore(this.totalBooksCollectedGlobally,this.targetBooksToWin),a.showGameUI(),this._boundKeyDownHandler=this.handleKeyDown.bind(this),this._boundKeyUpHandler=this.handleKeyUp.bind(this),window.addEventListener("keydown",this._boundKeyDownHandler),window.addEventListener("keyup",this._boundKeyUpHandler),this.audioManager.startInitialMusic(this.level.currentFloor),console.log(`[Game] Initial music started for floor ${this.level.currentFloor}`),this.setGameState(i.PLAYING),a.startTimer(),this.isRunning||(this.isRunning=!0,requestAnimationFrame(this.gameLoop),console.log("[Game] Game logic started. Game loop is running."))}catch(e){throw console.error("[Game] Error during _startGameLogic:",e),this._handleFatalError(`Level start process error: ${e.message}`),e}}_setGameOver(e=!0){this.gameState!==i.GAME_OVER&&(console.log(`[Game] Game Over. Win: ${e}`),this.setGameState(i.GAME_OVER),this.isRunning=!1,this.character&&(this.character.isMoving=!1),clearTimeout(this.liftCooldownTimer),this.audioManager&&this.audioManager.stopMusic(),this._boundKeyDownHandler&&window.removeEventListener("keydown",this._boundKeyDownHandler),this._boundKeyUpHandler&&window.removeEventListener("keyup",this._boundKeyUpHandler),this._boundKeyDownHandler=null,this._boundKeyUpHandler=null,a.stopTimer(e),a.showGameOverScreen(e,G.CREATOR_NAMES,G.CLASS_ATTENDING_INFO))}stopGame(){console.log("[Game] Explicit stopGame requested."),this.gameState!==i.GAME_OVER?this._setGameOver(!1):console.log("[Game] stopGame called, but game is already over.")}_handleFatalError(e,t=!0){console.error("[Game] FATAL ERROR:",e),t&&this.gameState!==i.GAME_OVER&&a.flashMessage(`FATAL ERROR: ${e}`,"error",15e3),this.gameState!==i.GAME_OVER&&this._setGameOver(!1)}handleKeyDown(e){if(this.gameState!==i.PLAYING||!this.inputManager)return;let t=!1;const o=e.key.toLowerCase();["arrowup","w"].includes(o)?(this.inputManager.setKey("up",!0),t=!0):["arrowdown","s"].includes(o)?(this.inputManager.setKey("down",!0),t=!0):["arrowleft","a"].includes(o)?(this.inputManager.setKey("left",!0),t=!0):["arrowright","d"].includes(o)&&(this.inputManager.setKey("right",!0),t=!0),t&&e.preventDefault()}handleKeyUp(e){if(!this.inputManager)return;const t=e.key.toLowerCase();["arrowup","w"].includes(t)?this.inputManager.setKey("up",!1):["arrowdown","s"].includes(t)?this.inputManager.setKey("down",!1):["arrowleft","a"].includes(t)?this.inputManager.setKey("left",!1):["arrowright","d"].includes(t)&&this.inputManager.setKey("right",!1)}gameLoop(e){this.isRunning&&this.gameState!==i.GAME_OVER&&(this.gameplayManager?.update(e),this.renderer?.centerCameraOnCharacter(),this.renderer?.drawFrame(),requestAnimationFrame(this.gameLoop))}startLiftCooldownTimer(){clearTimeout(this.liftCooldownTimer),console.log("[Game] Starting lift cooldown: 2000ms."),this.liftCooldownTimer=setTimeout((()=>{this.liftCooldownActive=!1,this.liftCooldownTimer=null,this.gameState===i.TRANSITIONING?(this.setGameState(i.PLAYING),a.flashMessage(`Arrived at floor ${this.level?.currentFloor}`,"success",1500)):console.warn(`[GameTimer] Lift cooldown ended, but state is ${this.gameState}. No state change.`)}),2e3)}}let A=null;class P{constructor(e){this.characterImageSources=e,this.selectedCharacter=null,this.userInteracted=!1,this.overlay=null,this.audioManagerInstance=null,console.log("[Menu] Constructor called. Initializing elements..."),this.initializeElements(),this.characterPanel&&this.characterGrid?this.setupCharacterImages():console.error("[Menu Constructor] CRITICAL: characterPanel or characterGrid is null AFTER initializeElements. Cannot setup images."),console.log("[Menu] Adding event listeners..."),this.addEventListeners(),this.show(),console.log("[Menu] Instance created and displayed.")}setAudioManager(e){if(this.audioManagerInstance=e,console.log("[Menu] AudioManager instance received in Menu."),this.musicVolume&&this.audioManagerInstance)this.musicVolume.value=100*this.audioManagerInstance.getMusicVolume();else if(this.musicVolume){const e=localStorage.getItem("musicVolume");this.musicVolume.value=null!==e?100*parseFloat(e):50}}initializeElements(){if(this.menuContainer=document.querySelector(".menu-container"),!this.menuContainer)return void console.error("[Menu Init] CRITICAL: .menu-container not found!");this.settingsButton=this.menuContainer.querySelector(".settings-button"),this.playButton=this.menuContainer.querySelector(".play-button"),this.characterButton=this.menuContainer.querySelector(".character-button"),this.playButton?this.playButton.disabled=!0:console.warn("[Menu Init] .play-button not found."),this.characterButton||console.warn("[Menu Init] .character-button not found."),this.settingsButton||console.warn("[Menu Init] .settings-button not found."),this.settingsPanel=document.querySelector(".settings-panel"),this.settingsPanel?(this.settingsPanel.parentNode!==document.body&&this.settingsPanel.parentNode!==this.menuContainer&&document.body.appendChild(this.settingsPanel.parentNode.removeChild(this.settingsPanel)),this.musicVolume=this.settingsPanel.querySelector("#music-volume"),this.sfxVolume=this.settingsPanel.querySelector("#sfx-volume"),this.closeSettingsButton=this.settingsPanel.querySelector(".panel-close-button"),this.musicVolume||console.warn("[Menu Init] #music-volume slider not found in settings panel."),this.closeSettingsButton||console.warn("[Menu Init] .panel-close-button not found in settings panel.")):console.warn("[Menu Init] .settings-panel not found."),this.characterPanel=document.querySelector(".character-panel"),this.characterPanel?(this.characterPanel.parentNode!==document.body&&this.characterPanel.parentNode!==this.menuContainer&&document.body.appendChild(this.characterPanel.parentNode.removeChild(this.characterPanel)),this.characterGrid=this.characterPanel.querySelector(".character-grid"),this.closeCharacterPanelButton=this.characterPanel.querySelector(".panel-close-button"),this.characterGrid||console.error("[Menu Init] CRITICAL: .character-grid not found in character panel!"),this.closeCharacterPanelButton||console.warn("[Menu Init] .panel-close-button not found in character panel.")):console.error("[Menu Init] CRITICAL: .character-panel not found!");let e=this.menuContainer.querySelector(".main-menu-buttons");this.selectedCharacterDisplay=e?e.querySelector(".selected-character-display"):null,this.selectedCharacterDisplay||(this.selectedCharacterDisplay=document.createElement("div"),this.selectedCharacterDisplay.className="selected-character-display",this.playButton&&this.playButton.parentNode?this.playButton.parentNode.insertBefore(this.selectedCharacterDisplay,this.playButton):e?e.insertBefore(this.selectedCharacterDisplay,e.children[1]||null):this.menuContainer.appendChild(this.selectedCharacterDisplay)),this.updateSelectedCharacterDisplay()}setupCharacterImages(){if(!this.characterPanel||!this.characterGrid)return void console.warn("[Menu setupCharacterImages] Character panel or grid not found.");if(!this.characterImageSources||0===Object.keys(this.characterImageSources).length)return void console.warn("[Menu setupCharacterImages] No character image sources provided.");const e=this.characterGrid.querySelectorAll(".character-card");0!==e.length?e.forEach((e=>{const t=e.dataset.character,i=e.querySelector(".character-preview img");i&&this.characterImageSources[t]?i.src=this.characterImageSources[t]:i&&(console.warn(`[Menu setupCharacterImages] Image element found, but no source for character: ${t}`),i.alt=`${t} preview not available`)})):console.warn("[Menu setupCharacterImages] No character cards found in the grid.")}handleFirstInteraction(){this.userInteracted||(this.userInteracted=!0,console.log("[Menu] First user interaction recorded."))}addEventListeners(){const e=(e,t,i)=>{e&&e.addEventListener(t,(e=>{this.handleFirstInteraction(),i.call(this,e)}))};if(e(this.settingsButton,"click",this.toggleSettings),e(this.playButton,"click",this.startGame),e(this.characterButton,"click",this.openCharacterModal),this.closeSettingsButton?this.closeSettingsButton.addEventListener("click",(()=>this.closeSettings())):this.settingsPanel&&console.warn("[Menu addEventListeners] Close button for settings panel not found."),this.closeCharacterPanelButton?this.closeCharacterPanelButton.addEventListener("click",(()=>this.closeCharacterModal())):this.characterPanel&&console.warn("[Menu addEventListeners] Close button for character panel not found."),this.musicVolume){if(!this.audioManagerInstance){const e=localStorage.getItem("musicVolume");this.musicVolume.value=null!==e?100*parseFloat(e):50}this.musicVolume.addEventListener("input",(e=>{this.handleFirstInteraction();const t=parseFloat(e.target.value)/100;this.audioManagerInstance?(this.audioManagerInstance.setMusicVolume(t),console.log(`[Menu] Music volume changed via slider to: ${t}`)):(localStorage.setItem("musicVolume",t.toString()),console.warn("[Menu] Music volume slider changed, AudioManager not available. Saved to localStorage."))}))}this.sfxVolume,this.characterGrid&&this.characterGrid.addEventListener("click",(e=>{const t=e.target.closest(".character-card");t&&this.characterPanel&&this.characterPanel.classList.contains("visible")&&(this.handleFirstInteraction(),this.selectCharacter(t))}))}openCharacterModal(){this.characterPanel?(this.characterPanel.classList.add("visible"),this.settingsPanel?.classList.contains("visible")&&this.closeSettings(),this._ensureOverlay().classList.add("visible")):console.error("Character panel not found.")}closeCharacterModal(){this.characterPanel?.classList.remove("visible"),this.overlay?.classList.remove("visible")}selectCharacter(e){this.characterGrid&&e?.dataset?.character&&(this.selectedCharacter=e.dataset.character,this.characterGrid.querySelectorAll(".character-card").forEach((e=>e.classList.remove("selected"))),e.classList.add("selected"),this.playButton&&(this.playButton.disabled=!1),this.updateSelectedCharacterDisplay(),this.closeCharacterModal(),a.flashMessage(`Character ${this.selectedCharacter.charAt(0).toUpperCase()+this.selectedCharacter.slice(1)} selected!`,"success",2e3))}updateSelectedCharacterDisplay(){if(this.selectedCharacterDisplay)if(this.selectedCharacter&&this.characterImageSources&&this.characterImageSources[this.selectedCharacter]){const e=this.selectedCharacter,t=this.characterImageSources[e];let i=e.charAt(0).toUpperCase()+e.slice(1);if(this.characterGrid){const t=this.characterGrid.querySelector(`.character-card[data-character="${e}"] h3`);t&&(i=t.textContent)}this.selectedCharacterDisplay.innerHTML=`<img src="${t}" alt="${i}" class="selected-char-preview-img"> <span class="selected-char-name char-name-${e}">${i}</span>`}else this.selectedCharacterDisplay.innerHTML='<span style="color:#aaa;">No character selected</span>'}toggleSettings(){this.settingsPanel&&(this.settingsPanel.classList.contains("visible")?this.closeSettings():this.openSettings())}openSettings(){if(this.settingsPanel){if(this.settingsPanel.classList.add("visible"),this.characterPanel?.classList.contains("visible")&&this.closeCharacterModal(),this._ensureOverlay().classList.add("visible"),this.musicVolume&&this.audioManagerInstance)this.musicVolume.value=100*this.audioManagerInstance.getMusicVolume();else if(this.musicVolume){const e=localStorage.getItem("musicVolume");this.musicVolume.value=e?100*parseFloat(e):50}}else console.error("Settings panel not found.")}closeSettings(){this.settingsPanel?.classList.remove("visible"),this.overlay?.classList.remove("visible")}_ensureOverlay(){return this.overlay||(this.overlay=document.createElement("div"),this.overlay.className="ui-modal-overlay",this.overlay.addEventListener("click",(e=>{e.target===this.overlay&&(this.characterPanel?.classList.contains("visible")&&this.closeCharacterModal(),this.settingsPanel?.classList.contains("visible")&&this.closeSettings())})),document.body.appendChild(this.overlay)),this.overlay}async startGame(){if(!this.userInteracted)return void a.flashMessage("Please interact with the menu first (e.g., click a button or choose a character).","warning",3e3);if(!this.selectedCharacter)return void a.flashMessage("Please select a character first!","warning",2500);const e=a.getLoadingOverlay();e&&e.classList.add("visible"),this.hide();const t=document.getElementById("game-canvas");if(!t)return console.error("[Menu] CRITICAL: #game-canvas not found!"),e&&e.classList.remove("visible"),void this.show();t.style.display="block";try{if(A&&"function"==typeof A.stopGame&&(console.log("[Menu] Stopping previous game instance."),A.stopGame(),A=null),console.log(`[Menu] Creating new Game instance with character: ${this.selectedCharacter}`),A=new G(this.selectedCharacter),!A||"function"!=typeof A.triggerGameStart)throw new Error("Game instance created, but triggerGameStart is not available.");await A.triggerGameStart()}catch(i){console.error("[Menu] Error during game initialization or start:",i),a.flashMessage(`Game Start Failed: ${i.message}`,"error",1e4),e&&e.classList.remove("visible"),this.show(),t&&(t.style.display="none"),A=null}}show(){this.menuContainer&&(this.menuContainer.style.display="flex");const e=document.getElementById("game-canvas");e&&(e.style.display="none"),a.hideGameUI(),a.hideGameOverScreen();const t=a.getLoadingOverlay();t&&t.classList.remove("visible")}hide(){this.menuContainer&&(this.menuContainer.style.display="none")}}const N=e.p+"assets/images/redc0823efecc8ece1a10c4.png",O=e.p+"assets/images/bluea60b5a2890283d3db0d0.png",R=e.p+"assets/images/yellowe7fd8d3003d4e49a0ad5.png",B=e.p+"assets/images/green1ba3e373f73ba58a2658.png";document.addEventListener("DOMContentLoaded",(()=>{console.log("[main.js] DOMContentLoaded. Initializing Menu..."),new P({red:N,blue:O,yellow:R,green:B}),console.log("[main.js] Menu instance created.")}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UUFBUUMsSUFBSSxvREFTWixJQUFJMHFCLEVBUDBCLENBQzVCakMsSUFBSyxFQUNMQyxLQUFNLEVBQ05DLE9BQVEsRUFDUkMsTUFBTyxJQUlUN29CLFFBQVFDLElBQUksbUNBQW1DLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdHVkZW50LWdhbWUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vc3R1ZGVudC1nYW1lL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vc3R1ZGVudC1nYW1lL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL3N0dWRlbnQtZ2FtZS8uL2pzL0NvcmUvSW5wdXRNYW5hZ2VyLmpzIiwid2VicGFjazovL3N0dWRlbnQtZ2FtZS8uL2pzL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9zdHVkZW50LWdhbWUvLi9qcy9VSS9VSU1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vc3R1ZGVudC1nYW1lLy4vanMvQ29yZS9DaGFyYWN0ZXIuanMiLCJ3ZWJwYWNrOi8vc3R1ZGVudC1nYW1lLy4vanMvbWFwL0Jvb2suanMiLCJ3ZWJwYWNrOi8vc3R1ZGVudC1nYW1lLy4vanMvdXRpbHMvbWFwLmpzIiwid2VicGFjazovL3N0dWRlbnQtZ2FtZS8uL2pzL21hcC9NYXBSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly9zdHVkZW50LWdhbWUvLi9qcy9tYXAvTWFwR2VuLmpzIiwid2VicGFjazovL3N0dWRlbnQtZ2FtZS8uL2pzL21hcC9Qcm9jZWR1cmFsTWFwLmpzIiwid2VicGFjazovL3N0dWRlbnQtZ2FtZS8uL2pzL0NvcmUvTGV2ZWwuanMiLCJ3ZWJwYWNrOi8vc3R1ZGVudC1nYW1lLy4vanMvQ29yZS9HYW1lUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vc3R1ZGVudC1nYW1lLy4vanMvQ29yZS9HYW1lcGxheU1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vc3R1ZGVudC1nYW1lLy4vanMvYXVkaW8vQXVkaW9NYW5hZ2VyLmpzIiwid2VicGFjazovL3N0dWRlbnQtZ2FtZS8uL2pzL0NvcmUvR2FtZS5qcyIsIndlYnBhY2s6Ly9zdHVkZW50LWdhbWUvLi9qcy9VSS9NZW51LmpzIiwid2VicGFjazovL3N0dWRlbnQtZ2FtZS8uL2pzL21haW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0ICYmIGRvY3VtZW50LmN1cnJlbnRTY3JpcHQudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09PSAnU0NSSVBUJylcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYztcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSB7XG5cdFx0XHR2YXIgaSA9IHNjcmlwdHMubGVuZ3RoIC0gMTtcblx0XHRcdHdoaWxlIChpID4gLTEgJiYgKCFzY3JpcHRVcmwgfHwgIS9eaHR0cChzPyk6Ly50ZXN0KHNjcmlwdFVybCkpKSBzY3JpcHRVcmwgPSBzY3JpcHRzW2ktLV0uc3JjO1xuXHRcdH1cblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC9eYmxvYjovLCBcIlwiKS5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiLy8gc3JjL2NvcmUvSW5wdXRNYW5hZ2VyLmpzXHJcbmV4cG9ydCBjbGFzcyBJbnB1dE1hbmFnZXIge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5rZXlzID0ge1xyXG4gICAgICB1cDogZmFsc2UsXHJcbiAgICAgIGRvd246IGZhbHNlLFxyXG4gICAgICBsZWZ0OiBmYWxzZSxcclxuICAgICAgcmlnaHQ6IGZhbHNlLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHNldEtleShrZXksIGlzUHJlc3NlZCkge1xyXG4gICAgaWYgKHRoaXMua2V5cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgIHRoaXMua2V5c1trZXldID0gaXNQcmVzc2VkO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0SW5wdXREaXJlY3Rpb24oKSB7XHJcbiAgICBsZXQgeCA9IDA7XHJcbiAgICBsZXQgeSA9IDA7XHJcbiAgICBpZiAodGhpcy5rZXlzLnVwKSB5IC09IDE7XHJcbiAgICBpZiAodGhpcy5rZXlzLmRvd24pIHkgKz0gMTtcclxuICAgIGlmICh0aGlzLmtleXMubGVmdCkgeCAtPSAxO1xyXG4gICAgaWYgKHRoaXMua2V5cy5yaWdodCkgeCArPSAxO1xyXG4gICAgcmV0dXJuIHsgeCwgeSB9O1xyXG4gIH1cclxufVxyXG4iLCIvLyBzcmMvdXRpbHMvY29uc3RhbnRzLmpzXHJcblxyXG4vLyBEZWZpbmljamUgdHlww7N3IGthZmVsa8OzdyBtYXB5XHJcbmV4cG9ydCBjb25zdCBUSUxFX1dBTEwgPSAwOyAvLyDFmmNpYW5hXHJcbmV4cG9ydCBjb25zdCBUSUxFX0NPUlJJRE9SID0gMTsgLy8gS29yeXRhcnpcclxuZXhwb3J0IGNvbnN0IFRJTEVfUk9PTV9GTE9PUiA9IDI7IC8vIFBvZMWCb2dhIHBva29qdVxyXG5leHBvcnQgY29uc3QgVElMRV9MSUZUID0gMzsgLy8gV2luZGFcclxuLy8gTW/FvG5hIGRvZGHEhyB3acSZY2VqIHR5cMOzdywgbnAuIFRJTEVfRE9PUiwgVElMRV9XSU5ET1cgaXRwLlxyXG5cclxuLy8gU3RhbnkgZ3J5XHJcbmV4cG9ydCBjb25zdCBHYW1lU3RhdGUgPSB7XHJcbiAgTE9BRElORzogJ0xPQURJTkcnLCAvLyDFgWFkb3dhbmllIHphc29iw7N3LCBnZW5lcm93YW5pZSBwb3ppb211XHJcbiAgTUVOVTogJ01FTlUnLCAvLyBNZW51IGfFgsOzd25lICh3eWLDs3IgcG9zdGFjaSlcclxuICBQTEFZSU5HOiAnUExBWUlORycsIC8vIEfFgsOzd25hIHJvemdyeXdrYVxyXG4gIEFTS0lOR19RVUVTVElPTjogJ0FTS0lOR19RVUVTVElPTicsIC8vIFd5xZt3aWV0bGFuaWUgcHl0YW5pYVxyXG4gIFNFTEVDVElOR19GTE9PUjogJ1NFTEVDVElOR19GTE9PUicsIC8vIFd5xZt3aWV0bGFuaWUgVUkgd3lib3J1IHBpxJl0cmFcclxuICBUUkFOU0lUSU9OSU5HOiAnVFJBTlNJVElPTklORycsIC8vIEFuaW1hY2phL29jemVraXdhbmllIG5hIHByemVqxZtjaWUgd2luZHlcclxuICBHQU1FX09WRVI6ICdHQU1FX09WRVInLCAvLyBLb25pZWMgZ3J5ICh3eWdyYW5hIGx1YiBwcnplZ3JhbmEpXHJcbn07XHJcblxyXG4vLyBQYXJhbWV0cnkgcm96Z3J5d2tpXHJcbmV4cG9ydCBjb25zdCBUQVJHRVRfQk9PS1NfVE9fV0lOID0gMTU7IC8vIExpY3piYSBrc2nEhcW8ZWsgZG8gemVicmFuaWEsIGFieSB3eWdyYcSHIChnbG9iYWxuaWUpXHJcbmV4cG9ydCBjb25zdCBMSUZUX0NPT0xET1dOX01TID0gMjAwMDsgLy8gQ3phcyBvZG5vd2llbmlhIHdpbmR5IHcgbWlsaXNla3VuZGFjaCAoMiBzZWt1bmR5KVxyXG5leHBvcnQgY29uc3QgTElGVF9JTlRFUkFDVElPTl9SQURJVVNfTVVMVElQTElFUiA9IDAuNzsgLy8gTW5vxbxuaWsgcHJvbWllbmlhIGludGVyYWtjamkgeiB3aW5kxIUgKHd6Z2zEmWRlbSB0aWxlU2l6ZSlcclxuXHJcbi8vIFN6YW5zYSBuYSBwb2phd2llbmllIHNpxJkgc2nFgm93bmkgbmEgcGllcndzenltIHBpxJl0cnplICgwLjAgZG8gMS4wKVxyXG5leHBvcnQgY29uc3QgR1lNX0NIQU5DRV9PTl9GSVJTVF9GTE9PUiA9IDAuNjsgLy8gNjAlIHN6YW5zeVxyXG5cclxuLy8gUHl0YW5pYSBpIG9kcG93aWVkemlcclxuZXhwb3J0IGNvbnN0IHF1ZXN0aW9ucyA9IFtcclxuICB7XHJcbiAgICBxdWVzdGlvbjpcclxuICAgICAgJ0t0w7NyeSBqxJl6eWsgcHJvZ3JhbW93YW5pYSBqZXN0IHpuYW55IHplIHN3b2plaiB3c3plY2hzdHJvbm5vxZtjaSBpIHXFvHl3YW55IHphcsOzd25vIHcgYmFja2VuZHppZSAoTm9kZS5qcyksIGphayBpIGZyb250ZW5kemllPycsXHJcbiAgICBvcHRpb25zOiBbJ1B5dGhvbicsICdKYXZhJywgJ0phdmFTY3JpcHQnLCAnQyMnXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDIsIC8vIEluZGVrcyBwb3ByYXduZWogb2Rwb3dpZWR6aSAoSmF2YVNjcmlwdClcclxuICB9LFxyXG4gIHtcclxuICAgIHF1ZXN0aW9uOiAnQ28gb3puYWN6YSBza3LDs3QgSFRNTD8nLFxyXG4gICAgb3B0aW9uczogW1xyXG4gICAgICAnSHlwZXJUZXh0IE1hcmt1cCBMYW5ndWFnZScsXHJcbiAgICAgICdIaWdoIFRyYW5zZmVyIE1hY2hpbmUgTGFuZ3VhZ2UnLFxyXG4gICAgICAnSHlwZXJsaW5rIGFuZCBUZXh0IE1hbmFnZW1lbnQgTGFuZ3VhZ2UnLFxyXG4gICAgICAnSG9tZSBUb29sIE1hcmt1cCBMYW5ndWFnZScsXHJcbiAgICBdLFxyXG4gICAgY29ycmVjdEFuc3dlcjogMCxcclxuICB9LFxyXG4gIHtcclxuICAgIHF1ZXN0aW9uOiAnS3TDs3JhIHN0cnVrdHVyYSBkYW55Y2ggZHppYcWCYSBuYSB6YXNhZHppZSBMSUZPIChMYXN0LUluLCBGaXJzdC1PdXQpPycsXHJcbiAgICBvcHRpb25zOiBbJ0tvbGVqa2EgKFF1ZXVlKScsICdTdG9zIChTdGFjayknLCAnTGlzdGEgKExpc3QpJywgJ0RyemV3byAoVHJlZSknXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDEsXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjogJ0phayBuYXp5d2Egc2nEmSBwcm9jZXMgem5hamRvd2FuaWEgaSBuYXByYXdpYW5pYSBixYLEmWTDs3cgdyBrb2R6aWU/JyxcclxuICAgIG9wdGlvbnM6IFsnS29tcGlsYWNqYScsICdUZXN0b3dhbmllJywgJ0RlYnVnb3dhbmllJywgJ1JlZmFrdG9yeXphY2phJ10sXHJcbiAgICBjb3JyZWN0QW5zd2VyOiAyLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcXVlc3Rpb246XHJcbiAgICAgIFwiS3TDs3J5IHBhcmFkeWdtYXQgcHJvZ3JhbW93YW5pYSBvcGllcmEgc2nEmSBuYSBrb25jZXBjamkgJ29iaWVrdMOzdycsIGt0w7NyZSBtb2fEhSB6YXdpZXJhxIcgZGFuZSBpIGtvZD9cIixcclxuICAgIG9wdGlvbnM6IFtcclxuICAgICAgJ1Byb2dyYW1vd2FuaWUgZnVua2N5am5lJyxcclxuICAgICAgJ1Byb2dyYW1vd2FuaWUgcHJvY2VkdXJhbG5lJyxcclxuICAgICAgJ1Byb2dyYW1vd2FuaWUgb2JpZWt0b3dlJyxcclxuICAgICAgJ1Byb2dyYW1vd2FuaWUgbG9naWN6bmUnLFxyXG4gICAgXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjogJ0NvIG96bmFjemEgQ1NTPycsXHJcbiAgICBvcHRpb25zOiBbXHJcbiAgICAgICdDYXNjYWRpbmcgU3R5bGUgU2hlZXRzJyxcclxuICAgICAgJ0NvbXB1dGVyIFN0eWxlIFN5bnRheCcsXHJcbiAgICAgICdDcmVhdGl2ZSBTdHlsaW5nIFN5c3RlbScsXHJcbiAgICAgICdDb2xvcmZ1bCBTdHlsZSBTY3JpcHRzJyxcclxuICAgIF0sXHJcbiAgICBjb3JyZWN0QW5zd2VyOiAwLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcXVlc3Rpb246ICdLdMOzcnkgb3BlcmF0b3IgdyBKYXZhU2NyaXB0IHPFgnXFvHkgZG8gxZtjaXPFgmVnbyBwb3LDs3duYW5pYSAod2FydG/Fm8SHIGkgdHlwKT8nLFxyXG4gICAgb3B0aW9uczogWyc9PScsICc9JywgJz09PScsICchPSddLFxyXG4gICAgY29ycmVjdEFuc3dlcjogMixcclxuICB9LFxyXG4gIHtcclxuICAgIHF1ZXN0aW9uOiAnSmFrIG5henl3YSBzacSZIHBvcHVsYXJueSBzeXN0ZW0ga29udHJvbGkgd2Vyc2ppIHXFvHl3YW55IHByemV6IHByb2dyYW1pc3TDs3c/JyxcclxuICAgIG9wdGlvbnM6IFsnU3VidmVyc2lvbiAoU1ZOKScsICdHaXQnLCAnTWVyY3VyaWFsJywgJ0NWUyddLFxyXG4gICAgY29ycmVjdEFuc3dlcjogMSxcclxuICB9LFxyXG4gIHtcclxuICAgIHF1ZXN0aW9uOlxyXG4gICAgICAnS3TDs3J5IHR5cCBwxJl0bGkgdyB3acSZa3N6b8WbY2kgasSZenlrw7N3IHByb2dyYW1vd2FuaWEgamVzdCBuYWpiYXJkemllaiBvZHBvd2llZG5pIGRvIGl0ZXJhY2ppIHBvIGVsZW1lbnRhY2ggdGFibGljeSwgZ2R5IG5pZSB6bmFteSBpY2ggbGljemJ5PycsXHJcbiAgICBvcHRpb25zOiBbJ2ZvcicsICd3aGlsZScsICdkby4uLndoaWxlJywgJ2ZvcmVhY2ggKGx1YiBmb3IuLi5vZiknXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDMsXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjogJ0NvIHRvIGplc3QgQVBJPycsXHJcbiAgICBvcHRpb25zOiBbXHJcbiAgICAgICdBZHZhbmNlZCBQcm9ncmFtbWluZyBJbnRlcmZhY2UnLFxyXG4gICAgICAnQXBwbGljYXRpb24gUHJvZ3JhbW1pbmcgSW50ZXJmYWNlJyxcclxuICAgICAgJ0F1dG9tYXRlZCBQcm9ncmFtIEludGVyYWN0aW9uJyxcclxuICAgICAgJ0FsZ29yaXRobWljIFByb2Nlc3NpbmcgSW5wdXQnLFxyXG4gICAgXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDEsXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjogJ0NvIHRvIGplc3QgUExDIGkgZG8gY3plZ28gbmFqY3rEmcWbY2llaiBzxYJ1xbx5IHcgYXV0b21hdHljZT8nLFxyXG4gICAgb3B0aW9uczogW1xyXG4gICAgICAnUHJvZ3JhbW93YWxueSBMb2dpYyBDb250cm9sbGVyLCBkbyBzdGVyb3dhbmlhIHByb2Nlc2FtaSBwcnplbXlzxYJvd3ltaScsXHJcbiAgICAgICdQZXJzb25hbCBMZWFybmluZyBDb21wdXRlciwgZG8gbmF1a2kgcHJvZ3JhbW93YW5pYScsXHJcbiAgICAgICdQb3dlciBMaW5lIENvbW11bmljYXRpb24sIGRvIHByemVzecWCdSBkYW55Y2ggcHJ6ZXogc2llxIcgZWxla3RyeWN6bsSFJyxcclxuICAgICAgJ1Byb2plY3QgTGlmZWN5Y2xlIENvc3QsIGRvIHphcnrEhWR6YW5pYSBrb3N6dGFtaSBwcm9qZWt0dScsXHJcbiAgICBdLFxyXG4gICAgY29ycmVjdEFuc3dlcjogMCxcclxuICB9LFxyXG4gIHtcclxuICAgIHF1ZXN0aW9uOiAnWmEgY28gb2Rwb3dpYWRhIHByenlzxYJvbmEgKGFwZXJ0dXJhKSB3IGFwYXJhY2llIGZvdG9ncmFmaWN6bnltPycsXHJcbiAgICBvcHRpb25zOiBbXHJcbiAgICAgICdLb250cm9sxJkgY3phc3UgbmHFm3dpZXRsYW5pYScsXHJcbiAgICAgICdSZWd1bGFjasSZIGfFgsSZYmkgb3N0cm/Fm2NpIGkgaWxvxZtjaSB3cGFkYWrEhWNlZ28gxZt3aWF0xYJhJyxcclxuICAgICAgJ1VzdGF3aWVuaWUgYmFsYW5zdSBiaWVsaScsXHJcbiAgICAgICdTdGFiaWxpemFjasSZIG9icmF6dScsXHJcbiAgICBdLFxyXG4gICAgY29ycmVjdEFuc3dlcjogMSxcclxuICB9LFxyXG4gIHtcclxuICAgIHF1ZXN0aW9uOlxyXG4gICAgICAnS3TDs3J5IGVsZW1lbnQga29tcHV0ZXJhIGplc3Qgb2Rwb3dpZWR6aWFsbnkgemEgdHltY3phc293ZSBwcnplY2hvd3l3YW5pZSBkYW55Y2ggdcW8eXdhbnljaCBwcnpleiBwcm9jZXNvcj8nLFxyXG4gICAgb3B0aW9uczogWydEeXNrIHR3YXJkeSAoSEREL1NTRCknLCAnS2FydGEgZ3JhZmljem5hIChHUFUpJywgJ1BhbWnEmcSHIFJBTScsICdQxYJ5dGEgZ8WCw7N3bmEnXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjpcclxuICAgICAgJ1cgamFraW0gasSZenlrdSBwcm9ncmFtb3dhbmlhIG5hamN6xJnFm2NpZWogcGlzYW5lIHPEhSBza3J5cHR5IHBvIHN0cm9uaWUgc2Vyd2VyYSAoYmFja2VuZCk/JyxcclxuICAgIG9wdGlvbnM6IFsnSFRNTCcsICdDU1MnLCAnU1FMJywgJ1BIUCwgUHl0aG9uIGx1YiBOb2RlLmpzIChKYXZhU2NyaXB0KSddLFxyXG4gICAgY29ycmVjdEFuc3dlcjogMyxcclxuICB9LFxyXG4gIHtcclxuICAgIHF1ZXN0aW9uOlxyXG4gICAgICAnSmFraSB0eXAgc3lnbmHFgnUgY2hhcmFrdGVyeXp1amUgc2nEmSBwxYJ5bm7EhSB6bWlhbsSFIHdhcnRvxZtjaSB3IGN6YXNpZSwgdyBwcnplY2l3aWXFhHN0d2llIGRvIHN5Z25hxYJ1IGN5ZnJvd2Vnbz8nLFxyXG4gICAgb3B0aW9uczogWydCaW5hcm55JywgJ0FuYWxvZ293eScsICdaZXJvLWplZHlua293eScsICdJbXB1bHNvd3knXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDEsXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjpcclxuICAgICAgJ0t0w7NyeSBwYXJhbWV0ciB1c3Rhd2lhIGN6dcWCb8WbxIcgbWF0cnljeSBhcGFyYXR1IG5hIMWbd2lhdMWCbyBpIHdwxYJ5d2EgbmEgcG96aW9tIHN6dW3Ds3cgbmEgemRqxJljaXU/JyxcclxuICAgIG9wdGlvbnM6IFsnQ3phcyBuYcWbd2lldGxhbmlhJywgJ1ByenlzxYJvbmEnLCAnSVNPJywgJ09nbmlza293YSddLFxyXG4gICAgY29ycmVjdEFuc3dlcjogMixcclxuICB9LFxyXG4gIHtcclxuICAgIHF1ZXN0aW9uOiAnQ28gdG8gamVzdCBhZHJlcyBJUCB3IHNpZWNpIGtvbXB1dGVyb3dlaj8nLFxyXG4gICAgb3B0aW9uczogW1xyXG4gICAgICAnVW5pa2FsbnkgaWRlbnR5ZmlrYXRvciB1cnrEhWR6ZW5pYSB3IHNpZWNpJyxcclxuICAgICAgJ05hendhIHXFvHl0a293bmlrYSBkbyBsb2dvd2FuaWEnLFxyXG4gICAgICAnQWRyZXMgc3Ryb255IGludGVybmV0b3dlaicsXHJcbiAgICAgICdUeXAga2FibGEgc2llY2lvd2VnbycsXHJcbiAgICBdLFxyXG4gICAgY29ycmVjdEFuc3dlcjogMCxcclxuICB9LFxyXG4gIHtcclxuICAgIHF1ZXN0aW9uOiAnQ3p5bSByw7PFvG5pIHNpxJkgaW5zdHJ1a2NqYSB3YXJ1bmtvd2EgYGlmYCBvZCBwxJl0bGkgYHdoaWxlYCB3IHByb2dyYW1vd2FuaXU/JyxcclxuICAgIG9wdGlvbnM6IFtcclxuICAgICAgJ2BpZmAgcG93dGFyemEgYmxvayBrb2R1LCBgd2hpbGVgIHNwcmF3ZHphIHdhcnVuZWsgamVkbm9rcm90bmllJyxcclxuICAgICAgJ2BpZmAgc3ByYXdkemEgd2FydW5layBqZWRub2tyb3RuaWUsIGB3aGlsZWAgcG93dGFyemEgYmxvayBrb2R1IGRvcMOza2kgd2FydW5layBqZXN0IHByYXdkeml3eScsXHJcbiAgICAgICdOaWUgbWEgbWnEmWR6eSBuaW1pIHLDs8W8bmljeScsXHJcbiAgICAgICdgaWZgIHPFgnXFvHkgdHlsa28gZG8gZGVrbGFyb3dhbmlhIHptaWVubnljaCwgYHdoaWxlYCBkbyBvcGVyYWNqaSBtYXRlbWF0eWN6bnljaCcsXHJcbiAgICBdLFxyXG4gICAgY29ycmVjdEFuc3dlcjogMSxcclxuICB9LFxyXG4gIHtcclxuICAgIHF1ZXN0aW9uOiAnRG8gY3plZ28gbmFqY3rEmcWbY2llaiBzxYJ1xbx5IGN6dWpuaWsgY2nFm25pZW5pYSB3IHN5c3RlbWllIGF1dG9tYXR5a2k/JyxcclxuICAgIG9wdGlvbnM6IFsnUG9taWFydSB0ZW1wZXJhdHVyeScsICdQb21pYXJ1IG9kbGVnxYJvxZtjaScsICdQb21pYXJ1IHNpxYJ5JywgJ1BvbWlhcnUgY2nFm25pZW5pYSddLFxyXG4gICAgY29ycmVjdEFuc3dlcjogMyxcclxuICB9LFxyXG4gIHtcclxuICAgIHF1ZXN0aW9uOiAnQ28gb3puYWN6YSB6YXNhZGEgdHLDs2pwb2R6aWHFgnUgdyBrb21wb3p5Y2ppIGZvdG9ncmFmaWN6bmVqPycsXHJcbiAgICBvcHRpb25zOiBbXHJcbiAgICAgICdEemllbGVuaWUgb2JyYXp1IG5hIDMgcsOzd25lIGN6xJnFm2NpIHBpb25vd28gaSBwb3ppb21vIGkgdW1pZXN6Y3phbmllIGtsdWN6b3d5Y2ggZWxlbWVudMOzdyBuYSBsaW5pYWNoIGx1YiBpY2ggcHJ6ZWNpxJljaWFjaCcsXHJcbiAgICAgICdVxbx5d2FuaWUgdHlsa28gMyBnxYLDs3dueWNoIGtvbG9yw7N3IHcga2FkcnplJyxcclxuICAgICAgJ1JvYmllbmllIHphd3N6ZSAzIHpkasSZxIcgdGVqIHNhbWVqIHNjZW55JyxcclxuICAgICAgJ0JhbGFuc293YW5pZSAzIGfFgsOzd255Y2ggb2JpZWt0w7N3IHcga2FkcnplJyxcclxuICAgIF0sXHJcbiAgICBjb3JyZWN0QW5zd2VyOiAwLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcXVlc3Rpb246ICdKYWthIGplc3QgcG9kc3Rhd293YSByb2xhIHN5c3RlbXUgb3BlcmFjeWpuZWdvPycsXHJcbiAgICBvcHRpb25zOiBbXHJcbiAgICAgICdUd29yemVuaWUgZ3JhZmlraSBrb21wdXRlcm93ZWonLFxyXG4gICAgICAnWmFyesSFZHphbmllIHphc29iYW1pIHNwcnrEmXRvd3ltaSBpIHByb2dyYW1vd3ltaSBrb21wdXRlcmEnLFxyXG4gICAgICAnUGlzYW5pZSBrb2R1IHByb2dyYW3Ds3cnLFxyXG4gICAgICAnUHJ6ZWdsxIVkYW5pZSBJbnRlcm5ldHUnLFxyXG4gICAgXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDEsXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjpcclxuICAgICAgJ0pha2llZ28gdHlwdSBkYW55Y2ggbmFqY3rEmcWbY2llaiB1xbx5amVzeiBkbyBwcnplY2hvd3l3YW5pYSB3aWVrdSBvc29ieSAobGljemJhIGNhxYJrb3dpdGEpPycsXHJcbiAgICBvcHRpb25zOiBbXHJcbiAgICAgICdTdHJpbmcgKGNpxIVnIHpuYWvDs3cpJyxcclxuICAgICAgJ0Jvb2xlYW4gKHdhcnRvxZvEhyBsb2dpY3puYSknLFxyXG4gICAgICAnRmxvYXQgKGxpY3piYSB6bWllbm5vcHJ6ZWNpbmtvd2EpJyxcclxuICAgICAgJ0ludGVnZXIgKGxpY3piYSBjYcWCa293aXRhKScsXHJcbiAgICBdLFxyXG4gICAgY29ycmVjdEFuc3dlcjogMyxcclxuICB9LFxyXG4gIHtcclxuICAgIHF1ZXN0aW9uOiAnRWxlbWVudCB3eWtvbmF3Y3p5IChha3R1YXRvcikgdyBzeXN0ZW1pZSBhdXRvbWF0eWtpIHRvIHVyesSFZHplbmllLCBrdMOzcmUuLi4nLFxyXG4gICAgb3B0aW9uczogW1xyXG4gICAgICAnT2Rjenl0dWplIGRhbmUgeiBjenVqbmlrw7N3JyxcclxuICAgICAgJ1d5a29udWplIGtvbWVuZHkgemUgc3Rlcm93bmlrYSwgYWJ5IHd5a29uYcSHIGZpenljem5lIGR6aWHFgmFuaWUgKG5wLiBydWNoKScsXHJcbiAgICAgICdQcnplY2hvd3VqZSBkYW5lIGhpc3Rvcnljem5lJyxcclxuICAgICAgJ1PFgnXFvHkgZG8ga29tdW5pa2FjamkgeiBvcGVyYXRvcmVtJyxcclxuICAgIF0sXHJcbiAgICBjb3JyZWN0QW5zd2VyOiAxLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcXVlc3Rpb246XHJcbiAgICAgICdLdMOzcnkgZm9ybWF0IHBsaWt1IGdyYWZpY3puZWdvIGplc3QgYmV6c3RyYXRueSBpIGN6xJlzdG8gdcW8eXdhbnkgdyBwcm9mZXNqb25hbG5laiBlZHljamksIHphY2hvd3VqxIVjIG1ha3N5bWFsbsSFIGpha2/Fm8SHIGtvc3p0ZW0gcm96bWlhcnU/JyxcclxuICAgIG9wdGlvbnM6IFsnSlBFRycsICdHSUYnLCAnUE5HJywgJ1JBVyddLFxyXG4gICAgY29ycmVjdEFuc3dlcjogMyxcclxuICB9LFxyXG4gIHtcclxuICAgIHF1ZXN0aW9uOiAnQ28gY2hyb25pIHNpZcSHIGtvbXB1dGVyb3fEhSBwcnplZCBuaWVhdXRvcnl6b3dhbnltIGRvc3TEmXBlbSB6IHpld27EhXRyej8nLFxyXG4gICAgb3B0aW9uczogWydSb3V0ZXInLCAnU3dpdGNoJywgJ01vZGVtJywgJ0ZpcmV3YWxsICh6YXBvcmEgc2llY2lvd2EpJ10sXHJcbiAgICBjb3JyZWN0QW5zd2VyOiAzLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcXVlc3Rpb246ICdDbyB0byBqZXN0IElERSAoSW50ZWdyYXRlZCBEZXZlbG9wbWVudCBFbnZpcm9ubWVudCkgdyBrb250ZWvFm2NpZSBwcm9ncmFtb3dhbmlhPycsXHJcbiAgICBvcHRpb25zOiBbXHJcbiAgICAgICdTeXN0ZW0gb3BlcmFjeWpueScsXHJcbiAgICAgICdOYXJ6xJlkemllIGRvIHphcnrEhWR6YW5pYSBiYXrEhSBkYW55Y2gnLFxyXG4gICAgICAnWmludGVncm93YW5lIMWbcm9kb3dpc2tvIHByb2dyYW1pc3R5Y3puZSAoZWR5dG9yIGtvZHUsIGtvbXBpbGF0b3IsIGRlYnVnZ2VyIHcgamVkbnltKScsXHJcbiAgICAgICdQcm90b2vDs8WCIHNpZWNpb3d5JyxcclxuICAgIF0sXHJcbiAgICBjb3JyZWN0QW5zd2VyOiAyLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcXVlc3Rpb246XHJcbiAgICAgICdQcnp5a8WCYWRlbSBjenVqbmlrYSB6Ymxpxbxlbmlvd2Vnbywgd3lrcnl3YWrEhWNlZ28gb2JlY25vxZvEhyBvYmlla3R1IGJleiBmaXp5Y3puZWdvIGtvbnRha3R1LCBtb8W8ZSBiecSHOicsXHJcbiAgICBvcHRpb25zOiBbJ1Rlcm1vbWV0cicsICdGb3Rva29tw7Nya2EnLCAnTWFub21ldHIgKGN6dWpuaWsgY2nFm25pZW5pYSknLCAnQWtjZWxlcm9tZXRyJ10sXHJcbiAgICBjb3JyZWN0QW5zd2VyOiAxLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcXVlc3Rpb246ICdEbyBjemVnbyBzxYJ1xbx5IGJhbGFucyBiaWVsaSAod2hpdGUgYmFsYW5jZSkgdyBhcGFyYWNpZSBmb3RvZ3JhZmljem55bT8nLFxyXG4gICAgb3B0aW9uczogW1xyXG4gICAgICAnRG8gcmVndWxhY2ppIG9zdHJvxZtjaScsXHJcbiAgICAgICdEbyBrb3Jla2NqaSBrb2xvcsOzdywgYWJ5IGJpYcWCeSB3eWdsxIVkYcWCIG5hIGJpYcWCeSBuaWV6YWxlxbxuaWUgb2Qgxbpyw7NkxYJhIMWbd2lhdMWCYScsXHJcbiAgICAgICdEbyB1c3Rhd2lhbmlhIGN6YXN1IG5hxZt3aWV0bGFuaWEnLFxyXG4gICAgICAnRG8gZG9kYXdhbmlhIGVmZWt0w7N3IHNwZWNqYWxueWNoJyxcclxuICAgIF0sXHJcbiAgICBjb3JyZWN0QW5zd2VyOiAxLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcXVlc3Rpb246XHJcbiAgICAgICdLdMOzcnkgcHJvdG9rw7PFgiBqZXN0IHXFvHl3YW55IGRvIGJlenBpZWN6bmVnbyAoc3p5ZnJvd2FuZWdvKSBwcnplc3nFgmFuaWEgc3Ryb24gaW50ZXJuZXRvd3ljaD8nLFxyXG4gICAgb3B0aW9uczogWydIVFRQJywgJ0ZUUCcsICdTTVRQJywgJ0hUVFBTJ10sXHJcbiAgICBjb3JyZWN0QW5zd2VyOiAzLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcXVlc3Rpb246ICdDbyB0byBqZXN0IHptaWVubmEgdyBwcm9ncmFtb3dhbml1PycsXHJcbiAgICBvcHRpb25zOiBbXHJcbiAgICAgICdGdW5rY2phIHd5a29udWrEhWNhIG9rcmXFm2xvbmUgemFkYW5pZScsXHJcbiAgICAgICdUeXAgcMSZdGxpJyxcclxuICAgICAgJ05hendhbmUgbWllanNjZSB3IHBhbWnEmWNpIGtvbXB1dGVyYSBzxYJ1xbzEhWNlIGRvIHByemVjaG93eXdhbmlhIGRhbnljaCcsXHJcbiAgICAgICdQb2xlY2VuaWUgd3nFm3dpZXRsYWrEhWNlIHRla3N0IG5hIGVrcmFuaWUnLFxyXG4gICAgXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDIsXHJcbiAgfSxcclxuICAvLyBEb2RhaiB3acSZY2VqIHB5dGHFhCB0dXRhalxyXG5dO1xyXG4iLCIvLyBzcmMvVUkvVUlNYW5hZ2VyLmpzXHJcbmltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgVUlNYW5hZ2VyIHtcclxuICBzdGF0aWMgc2NvcmVFbGVtZW50ID0gbnVsbDtcclxuICBzdGF0aWMgdGFyZ2V0RWxlbWVudCA9IG51bGw7XHJcbiAgc3RhdGljIGNvbnRyb2xzQ29udGFpbmVyID0gbnVsbDtcclxuICBzdGF0aWMgcXVlc3Rpb25PdmVybGF5ID0gbnVsbDtcclxuICBzdGF0aWMgcXVlc3Rpb25UZXh0RWxlbWVudCA9IG51bGw7XHJcbiAgc3RhdGljIGFuc3dlckJ1dHRvbnNDb250YWluZXIgPSBudWxsO1xyXG4gIHN0YXRpYyBmbG9vclNlbGVjdGlvblBhbmVsID0gbnVsbDtcclxuICBzdGF0aWMgZmxvb3JCdXR0b25zQ29udGFpbmVyID0gbnVsbDtcclxuICBzdGF0aWMgZmxhc2hNZXNzYWdlQ29udGFpbmVyID0gbnVsbDtcclxuICBzdGF0aWMgbG9hZGluZ092ZXJsYXlFbGVtZW50ID0gbnVsbDtcclxuXHJcbiAgc3RhdGljIGdhbWVPdmVyU2NyZWVuRWxlbWVudCA9IG51bGw7XHJcbiAgc3RhdGljIGdhbWVPdmVyVGl0bGVFbGVtZW50ID0gbnVsbDtcclxuICBzdGF0aWMgY3JlYXRvck5hbWVzTGlzdEVsZW1lbnQgPSBudWxsO1xyXG4gIHN0YXRpYyBjbGFzc0luZm9FbGVtZW50ID0gbnVsbDtcclxuICBzdGF0aWMgcmV0dXJuVG9NZW51QnV0dG9uRWxlbWVudCA9IG51bGw7XHJcbiAgc3RhdGljIGxlYWRlcmJvYXJkQm9keSA9IG51bGw7XHJcblxyXG4gIHN0YXRpYyBnYW1lcGxheU1hbmFnZXJJbnN0YW5jZSA9IG51bGw7XHJcbiAgc3RhdGljIGZsYXNoTWVzc2FnZVRpbWVvdXRzID0ge307XHJcblxyXG4gIHN0YXRpYyB0aW1lckVsZW1lbnQgPSBudWxsO1xyXG4gIHN0YXRpYyBnYW1lU3RhcnRUaW1lID0gMDsgLy8gVGltZXN0YW1wIG9mIHdoZW4gdGhlIGdhbWUgKHRpbWVyKSBhY3R1YWxseSBzdGFydGVkXHJcbiAgc3RhdGljIHRpbWVySW50ZXJ2YWxJZCA9IG51bGw7IC8vIFRvIHN0b3JlIHJlcXVlc3RBbmltYXRpb25GcmFtZSBJRFxyXG4gIHN0YXRpYyBsZWFkZXJib2FyZERhdGEgPSBbXTtcclxuXHJcbiAgc3RhdGljIHNldEdhbWVwbGF5TWFuYWdlcihtYW5hZ2VyKSB7XHJcbiAgICBpZiAoIW1hbmFnZXIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignW1VJTWFuYWdlcl0gQXR0ZW1wdGVkIHRvIHNldCBHYW1lcGxheU1hbmFnZXIgdG8gbnVsbC91bmRlZmluZWQhJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuZ2FtZXBsYXlNYW5hZ2VySW5zdGFuY2UgPSBtYW5hZ2VyO1xyXG4gICAgY29uc29sZS5sb2coJ1tVSU1hbmFnZXJdIEdhbWVwbGF5TWFuYWdlciBpbnN0YW5jZSByZWdpc3RlcmVkLicpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGluaXRpYWxpemVVSShpbnB1dE1hbmFnZXIpIHtcclxuICAgIGNvbnNvbGUubG9nKCdbVUlNYW5hZ2VyXSBJbml0aWFsaXppbmcgaW4tZ2FtZSBVSSBlbGVtZW50cy4uLicpO1xyXG4gICAgaWYgKCFpbnB1dE1hbmFnZXIpXHJcbiAgICAgIGNvbnNvbGUud2FybignW1VJTWFuYWdlcl0gSW5wdXRNYW5hZ2VyIG5vdCBwcm92aWRlZC4gT24tc2NyZWVuIGNvbnRyb2xzIG1heSBub3QgZnVuY3Rpb24uJyk7XHJcblxyXG4gICAgdGhpcy5jcmVhdGVDb250cm9scyhpbnB1dE1hbmFnZXIpO1xyXG4gICAgdGhpcy5jcmVhdGVRdWVzdGlvblVJKCk7XHJcbiAgICB0aGlzLmNyZWF0ZUZsb29yU2VsZWN0aW9uVUkoKTtcclxuICAgIHRoaXMuZW5zdXJlRmxhc2hNZXNzYWdlQ29udGFpbmVyKCk7XHJcbiAgICB0aGlzLmdldExvYWRpbmdPdmVybGF5KCk7IC8vIEVuc3VyZXMgaXQgZXhpc3RzIGJ1dCBkb2Vzbid0IHNob3cgaXRcclxuICAgIHRoaXMuY3JlYXRlR2FtZU92ZXJTY3JlZW4oKTsgLy8gSW5pdGlhbGl6ZXMgR2FtZSBPdmVyIHNjcmVlbiBlbGVtZW50c1xyXG4gICAgdGhpcy5pbml0aWFsaXplVGltZXIoKTsgLy8gSW5pdGlhbGl6ZXMgdGltZXIgZWxlbWVudCBhbmQgbG9hZHMgbGVhZGVyYm9hcmRcclxuXHJcbiAgICBpZiAoIXRoaXMuZ2FtZXBsYXlNYW5hZ2VySW5zdGFuY2UpIHtcclxuICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgICdbVUlNYW5hZ2VyXSBXQVJOSU5HOiBHYW1lcGxheU1hbmFnZXIgbm90IHNldCBieSBlbmQgb2YgaW5pdGlhbGl6ZVVJLiBJbnRlcmFjdGl2ZSBVSSBtYXkgZmFpbC4nXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZygnW1VJTWFuYWdlcl0gSW4tZ2FtZSBVSSBpbml0aWFsaXphdGlvbiBjb21wbGV0ZS4nKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBjcmVhdGVDb250cm9scyhpbnB1dE1hbmFnZXIpIHtcclxuICAgIHRoaXMuY29udHJvbHNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udHJvbHMtY29udGFpbmVyJyk7XHJcbiAgICBpZiAoIXRoaXMuY29udHJvbHNDb250YWluZXIpIHtcclxuICAgICAgdGhpcy5jb250cm9sc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICB0aGlzLmNvbnRyb2xzQ29udGFpbmVyLmlkID0gJ2NvbnRyb2xzLWNvbnRhaW5lcic7XHJcbiAgICAgIHRoaXMuY29udHJvbHNDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnY29udHJvbHMtY29udGFpbmVyJyk7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5jb250cm9sc0NvbnRhaW5lcik7IC8vIENvbnNpZGVyIGFwcGVuZGluZyB0byBhIGdhbWUtc3BlY2lmaWMgVUkgbGF5ZXJcclxuICAgIH1cclxuICAgIHRoaXMuY29udHJvbHNDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XHJcblxyXG4gICAgY29uc3QgYXJyb3dzID0gW1xyXG4gICAgICB7IGRpcmVjdGlvbjogJ3VwJywgaWNvbjogJ+KGkScsIGdyaWRBcmVhOiAndXAnIH0sXHJcbiAgICAgIHsgZGlyZWN0aW9uOiAnbGVmdCcsIGljb246ICfihpAnLCBncmlkQXJlYTogJ2xlZnQnIH0sXHJcbiAgICAgIHsgZGlyZWN0aW9uOiAncmlnaHQnLCBpY29uOiAn4oaSJywgZ3JpZEFyZWE6ICdyaWdodCcgfSxcclxuICAgICAgeyBkaXJlY3Rpb246ICdkb3duJywgaWNvbjogJ+KGkycsIGdyaWRBcmVhOiAnZG93bicgfSxcclxuICAgIF07XHJcbiAgICBhcnJvd3MuZm9yRWFjaCgoeyBkaXJlY3Rpb24sIGljb24sIGdyaWRBcmVhIH0pID0+IHtcclxuICAgICAgY29uc3QgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgIGJ0bi5jbGFzc05hbWUgPSBgY29udHJvbC1idG4gJHtkaXJlY3Rpb259YDtcclxuICAgICAgYnRuLnRleHRDb250ZW50ID0gaWNvbjtcclxuICAgICAgYnRuLnN0eWxlLmdyaWRBcmVhID0gZ3JpZEFyZWE7XHJcbiAgICAgIGJ0bi5kYXRhc2V0LmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcclxuICAgICAgaWYgKGlucHV0TWFuYWdlcikge1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gKGUpID0+IHtcclxuICAgICAgICAgIGlucHV0TWFuYWdlci5zZXRLZXkoZGlyZWN0aW9uLCB0cnVlKTtcclxuICAgICAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IGVuZCA9IChlKSA9PiB7XHJcbiAgICAgICAgICBpZiAoaW5wdXRNYW5hZ2VyLmtleXNbZGlyZWN0aW9uXSkgaW5wdXRNYW5hZ2VyLnNldEtleShkaXJlY3Rpb24sIGZhbHNlKTtcclxuICAgICAgICAgIGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgc3RhcnQsIHsgcGFzc2l2ZTogZmFsc2UgfSk7XHJcbiAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgZW5kLCB7IHBhc3NpdmU6IGZhbHNlIH0pO1xyXG4gICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIGVuZCwgeyBwYXNzaXZlOiBmYWxzZSB9KTtcclxuICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgc3RhcnQpO1xyXG4gICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgZW5kKTtcclxuICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGVuZCk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5jb250cm9sc0NvbnRhaW5lci5hcHBlbmRDaGlsZChidG4pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3Qgc2NvcmVEaXNwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Njb3JlLWRpc3BsYXknKTtcclxuICAgIGlmICghc2NvcmVEaXNwKSB7XHJcbiAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICBkaXYuaWQgPSAnc2NvcmUtZGlzcGxheSc7XHJcbiAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKCdzY29yZS1kaXNwbGF5Jyk7XHJcbiAgICAgIGRpdi5pbm5lckhUTUwgPSBgS3NpxIXFvGtpOiA8c3BhbiBpZD1cInNjb3JlLXZhbHVlXCI+MDwvc3Bhbj4gLyA8c3BhbiBpZD1cInNjb3JlLXRhcmdldFwiPj88L3NwYW4+YDtcclxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpOyAvLyBDb25zaWRlciBnYW1lLXNwZWNpZmljIFVJIGxheWVyXHJcbiAgICAgIHRoaXMuc2NvcmVFbGVtZW50ID0gZGl2LnF1ZXJ5U2VsZWN0b3IoJyNzY29yZS12YWx1ZScpO1xyXG4gICAgICB0aGlzLnRhcmdldEVsZW1lbnQgPSBkaXYucXVlcnlTZWxlY3RvcignI3Njb3JlLXRhcmdldCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zY29yZUVsZW1lbnQgPSBzY29yZURpc3AucXVlcnlTZWxlY3RvcignI3Njb3JlLXZhbHVlJyk7XHJcbiAgICAgIHRoaXMudGFyZ2V0RWxlbWVudCA9IHNjb3JlRGlzcC5xdWVyeVNlbGVjdG9yKCcjc2NvcmUtdGFyZ2V0Jyk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5zY29yZUVsZW1lbnQpIHRoaXMuc2NvcmVFbGVtZW50LnRleHRDb250ZW50ID0gJzAnO1xyXG4gICAgaWYgKHRoaXMudGFyZ2V0RWxlbWVudCkgdGhpcy50YXJnZXRFbGVtZW50LnRleHRDb250ZW50ID0gJz8nO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGNyZWF0ZVF1ZXN0aW9uVUkoKSB7XHJcbiAgICB0aGlzLnF1ZXN0aW9uT3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWVzdGlvbi1vdmVybGF5Jyk7XHJcbiAgICBpZiAoIXRoaXMucXVlc3Rpb25PdmVybGF5KSB7XHJcbiAgICAgIHRoaXMucXVlc3Rpb25PdmVybGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHRoaXMucXVlc3Rpb25PdmVybGF5LmlkID0gJ3F1ZXN0aW9uLW92ZXJsYXknO1xyXG4gICAgICB0aGlzLnF1ZXN0aW9uT3ZlcmxheS5jbGFzc0xpc3QuYWRkKCd1aS1wYW5lbCcpO1xyXG4gICAgICB0aGlzLnF1ZXN0aW9uT3ZlcmxheS5pbm5lckhUTUwgPSBgPGRpdiBpZD1cImJsYWNrYm9hcmQtY29udGVudFwiPjxoMj5RdWVzdGlvbjwvaDI+PGRpdiBpZD1cInF1ZXN0aW9uLWJveFwiPjxwIGlkPVwicXVlc3Rpb24tdGV4dFwiPjwvcD48ZGl2IGlkPVwiYW5zd2VyLWJ1dHRvbnNcIj48L2Rpdj48L2Rpdj48L2Rpdj5gO1xyXG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMucXVlc3Rpb25PdmVybGF5KTtcclxuICAgIH1cclxuICAgIHRoaXMucXVlc3Rpb25UZXh0RWxlbWVudCA9IHRoaXMucXVlc3Rpb25PdmVybGF5LnF1ZXJ5U2VsZWN0b3IoJyNxdWVzdGlvbi10ZXh0Jyk7XHJcbiAgICB0aGlzLmFuc3dlckJ1dHRvbnNDb250YWluZXIgPSB0aGlzLnF1ZXN0aW9uT3ZlcmxheS5xdWVyeVNlbGVjdG9yKCcjYW5zd2VyLWJ1dHRvbnMnKTtcclxuICAgIGlmICghdGhpcy5xdWVzdGlvblRleHRFbGVtZW50IHx8ICF0aGlzLmFuc3dlckJ1dHRvbnNDb250YWluZXIpXHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tVSU1hbmFnZXJdIEZhaWxlZCB0byBmaW5kL2NyZWF0ZSBxdWVzdGlvbiBVSSBjaGlsZHJlbi4nKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBjcmVhdGVGbG9vclNlbGVjdGlvblVJKCkge1xyXG4gICAgdGhpcy5mbG9vclNlbGVjdGlvblBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zsb29yLXNlbGVjdGlvbi11aScpO1xyXG4gICAgaWYgKCF0aGlzLmZsb29yU2VsZWN0aW9uUGFuZWwpIHtcclxuICAgICAgdGhpcy5mbG9vclNlbGVjdGlvblBhbmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHRoaXMuZmxvb3JTZWxlY3Rpb25QYW5lbC5pZCA9ICdmbG9vci1zZWxlY3Rpb24tdWknO1xyXG4gICAgICB0aGlzLmZsb29yU2VsZWN0aW9uUGFuZWwuY2xhc3NMaXN0LmFkZCgndWktcGFuZWwnKTtcclxuICAgICAgdGhpcy5mbG9vclNlbGVjdGlvblBhbmVsLmlubmVySFRNTCA9IGA8aDI+U2VsZWN0IEZsb29yPC9oMj48ZGl2IGlkPVwiZmxvb3ItYnV0dG9ucy1jb250YWluZXJcIj48L2Rpdj5gO1xyXG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZmxvb3JTZWxlY3Rpb25QYW5lbCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmZsb29yQnV0dG9uc0NvbnRhaW5lciA9IHRoaXMuZmxvb3JTZWxlY3Rpb25QYW5lbC5xdWVyeVNlbGVjdG9yKCcjZmxvb3ItYnV0dG9ucy1jb250YWluZXInKTtcclxuICAgIGlmICghdGhpcy5mbG9vckJ1dHRvbnNDb250YWluZXIpXHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tVSU1hbmFnZXJdIEZhaWxlZCB0byBmaW5kL2NyZWF0ZSBmbG9vciBidXR0b25zIGNvbnRhaW5lci4nKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBlbnN1cmVGbGFzaE1lc3NhZ2VDb250YWluZXIoKSB7XHJcbiAgICB0aGlzLmZsYXNoTWVzc2FnZUNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmbGFzaC1tZXNzYWdlLWNvbnRhaW5lcicpO1xyXG4gICAgaWYgKCF0aGlzLmZsYXNoTWVzc2FnZUNvbnRhaW5lcikge1xyXG4gICAgICB0aGlzLmZsYXNoTWVzc2FnZUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICB0aGlzLmZsYXNoTWVzc2FnZUNvbnRhaW5lci5pZCA9ICdmbGFzaC1tZXNzYWdlLWNvbnRhaW5lcic7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5mbGFzaE1lc3NhZ2VDb250YWluZXIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMuZmxhc2hNZXNzYWdlQ29udGFpbmVyO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGZsYXNoTWVzc2FnZShtZXNzYWdlLCB0eXBlID0gJ2luZm8nLCBkdXJhdGlvbiA9IDMwMDApIHtcclxuICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuZW5zdXJlRmxhc2hNZXNzYWdlQ29udGFpbmVyKCk7XHJcbiAgICBpZiAoIWNvbnRhaW5lcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbVUlNYW5hZ2VyXSBGbGFzaCBtc2cgY29udGFpbmVyIG5vdCBmb3VuZC4nKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgbXNnRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIG1zZ0VsLnRleHRDb250ZW50ID0gbWVzc2FnZTtcclxuICAgIG1zZ0VsLmNsYXNzTmFtZSA9ICdmbGFzaC1tZXNzYWdlJztcclxuICAgIG1zZ0VsLmNsYXNzTGlzdC5hZGQoYGZsYXNoLSR7dHlwZX1gKTtcclxuICAgIGNvbnN0IG1zZ0lkID0gYGZsYXNoLSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgNSl9YDtcclxuICAgIG1zZ0VsLmlkID0gbXNnSWQ7XHJcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQobXNnRWwpO1xyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IG1zZ0VsLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKSk7XHJcbiAgICBjbGVhclRpbWVvdXQodGhpcy5mbGFzaE1lc3NhZ2VUaW1lb3V0c1ttc2dJZF0pO1xyXG4gICAgY29uc3QgcmVtb3ZlID0gKCkgPT4ge1xyXG4gICAgICBtc2dFbC5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XHJcbiAgICAgIGNvbnN0IGVuZEhhbmRsZXIgPSAoZSkgPT4ge1xyXG4gICAgICAgIGlmIChlLnByb3BlcnR5TmFtZSA9PT0gJ29wYWNpdHknIHx8IGUucHJvcGVydHlOYW1lID09PSAndHJhbnNmb3JtJykge1xyXG4gICAgICAgICAgaWYgKG1zZ0VsLnBhcmVudE5vZGUpIG1zZ0VsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobXNnRWwpO1xyXG4gICAgICAgICAgZGVsZXRlIHRoaXMuZmxhc2hNZXNzYWdlVGltZW91dHNbbXNnSWRdO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgICAgbXNnRWwuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGVuZEhhbmRsZXIsIHsgb25jZTogdHJ1ZSB9KTtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgLy8gRmFsbGJhY2sgcmVtb3ZhbFxyXG4gICAgICAgIGlmIChtc2dFbC5wYXJlbnROb2RlKSB7XHJcbiAgICAgICAgICBtc2dFbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgZW5kSGFuZGxlcik7XHJcbiAgICAgICAgICBtc2dFbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG1zZ0VsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGVsZXRlIHRoaXMuZmxhc2hNZXNzYWdlVGltZW91dHNbbXNnSWRdO1xyXG4gICAgICB9LCA1MDApO1xyXG4gICAgfTtcclxuICAgIHRoaXMuZmxhc2hNZXNzYWdlVGltZW91dHNbbXNnSWRdID0gc2V0VGltZW91dChyZW1vdmUsIGR1cmF0aW9uKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXRMb2FkaW5nT3ZlcmxheSgpIHtcclxuICAgIGlmICghdGhpcy5sb2FkaW5nT3ZlcmxheUVsZW1lbnQpIHtcclxuICAgICAgdGhpcy5sb2FkaW5nT3ZlcmxheUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZGluZy1vdmVybGF5Jyk7XHJcbiAgICAgIGlmICghdGhpcy5sb2FkaW5nT3ZlcmxheUVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLmxvYWRpbmdPdmVybGF5RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHRoaXMubG9hZGluZ092ZXJsYXlFbGVtZW50LmlkID0gJ2xvYWRpbmctb3ZlcmxheSc7XHJcbiAgICAgICAgdGhpcy5sb2FkaW5nT3ZlcmxheUVsZW1lbnQuY2xhc3NOYW1lID0gJ2xvYWRpbmctb3ZlcmxheSc7XHJcbiAgICAgICAgY29uc3QgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuICAgICAgICB0ZXh0LnRleHRDb250ZW50ID0gJ0xvYWRpbmcuLi4nO1xyXG4gICAgICAgIHRoaXMubG9hZGluZ092ZXJsYXlFbGVtZW50LmFwcGVuZENoaWxkKHRleHQpO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5sb2FkaW5nT3ZlcmxheUVsZW1lbnQpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdbVUlNYW5hZ2VyXSBMb2FkaW5nIG92ZXJsYXkgY3JlYXRlZC4nKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMubG9hZGluZ092ZXJsYXlFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGNyZWF0ZUdhbWVPdmVyU2NyZWVuKCkge1xyXG4gICAgdGhpcy5nYW1lT3ZlclNjcmVlbkVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZS1vdmVyLXNjcmVlbicpO1xyXG4gICAgaWYgKCF0aGlzLmdhbWVPdmVyU2NyZWVuRWxlbWVudCkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbVUlNYW5hZ2VyXSBDUklUOiAjZ2FtZS1vdmVyLXNjcmVlbiBub3QgaW4gSFRNTCEnKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy5nYW1lT3ZlclRpdGxlRWxlbWVudCA9IHRoaXMuZ2FtZU92ZXJTY3JlZW5FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnYW1lLW92ZXItdGl0bGUnKTtcclxuICAgIHRoaXMuY3JlYXRvck5hbWVzTGlzdEVsZW1lbnQgPSB0aGlzLmdhbWVPdmVyU2NyZWVuRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcjY3JlYXRvci1uYW1lcycpO1xyXG4gICAgdGhpcy5jbGFzc0luZm9FbGVtZW50ID0gdGhpcy5nYW1lT3ZlclNjcmVlbkVsZW1lbnQucXVlcnlTZWxlY3RvcignI2NsYXNzLWluZm8nKTtcclxuICAgIHRoaXMucmV0dXJuVG9NZW51QnV0dG9uRWxlbWVudCA9XHJcbiAgICAgIHRoaXMuZ2FtZU92ZXJTY3JlZW5FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyZXR1cm4tdG8tbWVudS1idXR0b24nKTtcclxuICAgIHRoaXMubGVhZGVyYm9hcmRCb2R5ID0gdGhpcy5nYW1lT3ZlclNjcmVlbkVsZW1lbnQucXVlcnlTZWxlY3RvcignI2xlYWRlcmJvYXJkLWJvZHknKTtcclxuXHJcbiAgICBpZiAoXHJcbiAgICAgICF0aGlzLmdhbWVPdmVyVGl0bGVFbGVtZW50IHx8XHJcbiAgICAgICF0aGlzLmNyZWF0b3JOYW1lc0xpc3RFbGVtZW50IHx8XHJcbiAgICAgICF0aGlzLmNsYXNzSW5mb0VsZW1lbnQgfHxcclxuICAgICAgIXRoaXMucmV0dXJuVG9NZW51QnV0dG9uRWxlbWVudCB8fFxyXG4gICAgICAhdGhpcy5sZWFkZXJib2FyZEJvZHlcclxuICAgICkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbVUlNYW5hZ2VyXSBGYWlsZWQgdG8gZmluZCBHYW1lIE92ZXIgc2NyZWVuIGNoaWxkcmVuIG9yIGxlYWRlcmJvYXJkIGJvZHkuJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMucmV0dXJuVG9NZW51QnV0dG9uRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKSk7XHJcbiAgICAvLyB1cGRhdGVMZWFkZXJib2FyZCB3aWxsIGJlIGNhbGxlZCBieSBzdG9wVGltZXIgb3Igc2hvd0dhbWVPdmVyU2NyZWVuXHJcbiAgICBjb25zb2xlLmxvZygnW1VJTWFuYWdlcl0gR2FtZSBPdmVyIHNjcmVlbiBlbGVtZW50cyBpbml0aWFsaXplZC4nKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBzaG93R2FtZU92ZXJTY3JlZW4oaXNXaW4sIGNyZWF0b3JzID0gW10sIGNsYXNzSW5mb1RleHQgPSAnJykge1xyXG4gICAgaWYgKCF0aGlzLmdhbWVPdmVyU2NyZWVuRWxlbWVudCkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbVUlNYW5hZ2VyXSBHYW1lIE92ZXIgU2NyZWVuIG5vdCBpbml0LCBjcmVhdGluZy4nKTtcclxuICAgICAgdGhpcy5jcmVhdGVHYW1lT3ZlclNjcmVlbigpO1xyXG4gICAgICBpZiAoIXRoaXMuZ2FtZU92ZXJTY3JlZW5FbGVtZW50KSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignW1VJTWFuYWdlcl0gU3RpbGwgdW5hYmxlIHRvIHNob3cgR2FtZSBPdmVyIHNjcmVlbi4nKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICh0aGlzLmdhbWVPdmVyVGl0bGVFbGVtZW50KSB7XHJcbiAgICAgIHRoaXMuZ2FtZU92ZXJUaXRsZUVsZW1lbnQudGV4dENvbnRlbnQgPSBpc1dpbiA/ICdCcmF3byB1Y2lla8WCZcWbIScgOiAnS29uaWVjIGdyeSc7XHJcbiAgICAgIHRoaXMuZ2FtZU92ZXJUaXRsZUVsZW1lbnQuY2xhc3NOYW1lID0gaXNXaW4gPyAnd2luLXRpdGxlJyA6ICdsb3NlLXRpdGxlJztcclxuICAgIH1cclxuICAgIGlmICh0aGlzLmNyZWF0b3JOYW1lc0xpc3RFbGVtZW50KSB7XHJcbiAgICAgIHRoaXMuY3JlYXRvck5hbWVzTGlzdEVsZW1lbnQuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgIGNyZWF0b3JzLmZvckVhY2goKG5hbWUpID0+IHtcclxuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcbiAgICAgICAgbGkudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuY3JlYXRvck5hbWVzTGlzdEVsZW1lbnQuYXBwZW5kQ2hpbGQobGkpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLmNsYXNzSW5mb0VsZW1lbnQpIHRoaXMuY2xhc3NJbmZvRWxlbWVudC50ZXh0Q29udGVudCA9IGNsYXNzSW5mb1RleHQ7XHJcbiAgICB0aGlzLnVwZGF0ZUxlYWRlcmJvYXJkKCk7IC8vIExvYWQgYW5kIGRpc3BsYXkgbGVhZGVyYm9hcmQgZGF0YVxyXG4gICAgdGhpcy5nYW1lT3ZlclNjcmVlbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xyXG4gICAgdGhpcy5oaWRlR2FtZVVJKCk7XHJcbiAgICB0aGlzLmhpZGVRdWVzdGlvbigpO1xyXG4gICAgdGhpcy5oaWRlRmxvb3JTZWxlY3Rpb25VSSgpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGhpZGVHYW1lT3ZlclNjcmVlbigpIHtcclxuICAgIGlmICh0aGlzLmdhbWVPdmVyU2NyZWVuRWxlbWVudCkgdGhpcy5nYW1lT3ZlclNjcmVlbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHNob3dRdWVzdGlvbihxdWVzdGlvbkRhdGEpIHtcclxuICAgIGlmICghdGhpcy5xdWVzdGlvbk92ZXJsYXkgfHwgIXRoaXMucXVlc3Rpb25UZXh0RWxlbWVudCB8fCAhdGhpcy5hbnN3ZXJCdXR0b25zQ29udGFpbmVyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tVSU1hbmFnZXJdIFF1ZXN0aW9uIFVJIG5vdCByZWFkeSwgY3JlYXRpbmcuJyk7XHJcbiAgICAgIHRoaXMuY3JlYXRlUXVlc3Rpb25VSSgpO1xyXG4gICAgICBpZiAoIXRoaXMucXVlc3Rpb25PdmVybGF5IHx8ICF0aGlzLnF1ZXN0aW9uVGV4dEVsZW1lbnQgfHwgIXRoaXMuYW5zd2VyQnV0dG9uc0NvbnRhaW5lcilcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoIXF1ZXN0aW9uRGF0YSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbVUlNYW5hZ2VyXSBObyBxdWVzdGlvbkRhdGEgdG8gc2hvdy4nKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKCF0aGlzLmdhbWVwbGF5TWFuYWdlckluc3RhbmNlPy5oYW5kbGVBbnN3ZXIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignW1VJTWFuYWdlcl0gQ1JJVDogR2FtZXBsYXlNYW5hZ2VyL2hhbmRsZUFuc3dlciBub3Qgc2V0L2ludmFsaWQhJyk7XHJcbiAgICAgIHRoaXMuZmxhc2hNZXNzYWdlKCdFcnJvcjogR2FtZSBpbnRlcmFjdGlvbiAoUSkgZmFpbGVkLicsICdlcnJvcicsIDUwMDApO1xyXG4gICAgICB0aGlzLmhpZGVRdWVzdGlvbigpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB0aGlzLnF1ZXN0aW9uVGV4dEVsZW1lbnQudGV4dENvbnRlbnQgPSBxdWVzdGlvbkRhdGEucXVlc3Rpb247XHJcbiAgICB0aGlzLmFuc3dlckJ1dHRvbnNDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XHJcbiAgICBxdWVzdGlvbkRhdGEub3B0aW9ucy5mb3JFYWNoKChvcHRpb25UZXh0LCBpbmRleCkgPT4ge1xyXG4gICAgICBjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgICAgYnRuLnRleHRDb250ZW50ID0gb3B0aW9uVGV4dDtcclxuICAgICAgYnRuLmRhdGFzZXQuaW5kZXggPSBpbmRleC50b1N0cmluZygpO1xyXG4gICAgICBidG4uY2xhc3NMaXN0LmFkZCgnYW5zd2VyLWJ1dHRvbicpO1xyXG4gICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT5cclxuICAgICAgICB0aGlzLmdhbWVwbGF5TWFuYWdlckluc3RhbmNlLmhhbmRsZUFuc3dlcihwYXJzZUludChlLnRhcmdldC5kYXRhc2V0LmluZGV4LCAxMCkpXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuYW5zd2VyQnV0dG9uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChidG4pO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLnF1ZXN0aW9uT3ZlcmxheS5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgaGlkZVF1ZXN0aW9uKCkge1xyXG4gICAgaWYgKHRoaXMucXVlc3Rpb25PdmVybGF5KSB7XHJcbiAgICAgIHRoaXMucXVlc3Rpb25PdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcclxuICAgICAgaWYgKHRoaXMucXVlc3Rpb25UZXh0RWxlbWVudCkgdGhpcy5xdWVzdGlvblRleHRFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XHJcbiAgICAgIGlmICh0aGlzLmFuc3dlckJ1dHRvbnNDb250YWluZXIpIHRoaXMuYW5zd2VyQnV0dG9uc0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXRpYyBzaG93Rmxvb3JTZWxlY3Rpb25VSShtaW5GbG9vciwgbWF4Rmxvb3IsIGN1cnJlbnRGbG9vcikge1xyXG4gICAgaWYgKCF0aGlzLmZsb29yU2VsZWN0aW9uUGFuZWwgfHwgIXRoaXMuZmxvb3JCdXR0b25zQ29udGFpbmVyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tVSU1hbmFnZXJdIEZsb29yIHNlbGVjdGlvbiBVSSBub3QgcmVhZHksIGNyZWF0aW5nLicpO1xyXG4gICAgICB0aGlzLmNyZWF0ZUZsb29yU2VsZWN0aW9uVUkoKTtcclxuICAgICAgaWYgKCF0aGlzLmZsb29yU2VsZWN0aW9uUGFuZWwgfHwgIXRoaXMuZmxvb3JCdXR0b25zQ29udGFpbmVyKSByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoIXRoaXMuZ2FtZXBsYXlNYW5hZ2VySW5zdGFuY2U/LmhhbmRsZUZsb29yU2VsZWN0aW9uKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tVSU1hbmFnZXJdIENSSVQ6IEdhbWVwbGF5TWFuYWdlci9oYW5kbGVGbG9vclNlbGVjdGlvbiBub3Qgc2V0L2ludmFsaWQhJyk7XHJcbiAgICAgIHRoaXMuZmxhc2hNZXNzYWdlKCdFcnJvcjogR2FtZSBpbnRlcmFjdGlvbiAoRikgZmFpbGVkLicsICdlcnJvcicsIDUwMDApO1xyXG4gICAgICB0aGlzLmhpZGVGbG9vclNlbGVjdGlvblVJKCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuZmxvb3JCdXR0b25zQ29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xyXG4gICAgZm9yIChsZXQgZmxvb3IgPSBtaW5GbG9vcjsgZmxvb3IgPD0gbWF4Rmxvb3I7IGZsb29yKyspIHtcclxuICAgICAgY29uc3QgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgIGJ0bi50ZXh0Q29udGVudCA9IGBGbG9vciAke2Zsb29yfWA7XHJcbiAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKCdmbG9vci1idXR0b24nKTtcclxuICAgICAgYnRuLmRhdGFzZXQuZmxvb3IgPSBmbG9vci50b1N0cmluZygpO1xyXG4gICAgICBpZiAoZmxvb3IgPT09IGN1cnJlbnRGbG9vcikge1xyXG4gICAgICAgIGJ0bi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoJ2N1cnJlbnQnKTtcclxuICAgICAgfSBlbHNlXHJcbiAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT5cclxuICAgICAgICAgIHRoaXMuZ2FtZXBsYXlNYW5hZ2VySW5zdGFuY2UuaGFuZGxlRmxvb3JTZWxlY3Rpb24oZmxvb3IpXHJcbiAgICAgICAgKTtcclxuICAgICAgdGhpcy5mbG9vckJ1dHRvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQoYnRuKTtcclxuICAgIH1cclxuICAgIHRoaXMuZmxvb3JTZWxlY3Rpb25QYW5lbC5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgaGlkZUZsb29yU2VsZWN0aW9uVUkoKSB7XHJcbiAgICBpZiAodGhpcy5mbG9vclNlbGVjdGlvblBhbmVsKSB0aGlzLmZsb29yU2VsZWN0aW9uUGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHVwZGF0ZVNjb3JlKHNjb3JlLCB0YXJnZXQpIHtcclxuICAgIGlmICghdGhpcy5zY29yZUVsZW1lbnQpIHRoaXMuc2NvcmVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Njb3JlLXZhbHVlJyk7XHJcbiAgICBpZiAoIXRoaXMudGFyZ2V0RWxlbWVudCkgdGhpcy50YXJnZXRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Njb3JlLXRhcmdldCcpO1xyXG4gICAgaWYgKHRoaXMuc2NvcmVFbGVtZW50KSB0aGlzLnNjb3JlRWxlbWVudC50ZXh0Q29udGVudCA9IHNjb3JlLnRvU3RyaW5nKCk7XHJcbiAgICBpZiAodGhpcy50YXJnZXRFbGVtZW50KSB0aGlzLnRhcmdldEVsZW1lbnQudGV4dENvbnRlbnQgPSB0YXJnZXQudG9TdHJpbmcoKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBzaG93R2FtZVVJKCkge1xyXG4gICAgY29uc29sZS5sb2coJ1tVSU1hbmFnZXJdIFNob3dpbmcgR2FtZSBVSS4uLicpO1xyXG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWUtY2FudmFzJyk7XHJcbiAgICBjb25zdCBzY29yZURpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NvcmUtZGlzcGxheScpO1xyXG4gICAgaWYgKGNhbnZhcykgY2FudmFzLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgZWxzZSBjb25zb2xlLndhcm4oJ1tVSU1hbmFnZXJdICNnYW1lLWNhbnZhcyBub3QgZm91bmQuJyk7XHJcbiAgICBpZiAodGhpcy5jb250cm9sc0NvbnRhaW5lcikgdGhpcy5jb250cm9sc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XHJcbiAgICBlbHNlIGNvbnNvbGUud2FybignW1VJTWFuYWdlcl0gQ29udHJvbHMgY29udGFpbmVyIG5vdCBmb3VuZC4nKTtcclxuICAgIGlmIChzY29yZURpc3BsYXkpIHtcclxuICAgICAgc2NvcmVEaXNwbGF5LnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XHJcbiAgICAgIHNjb3JlRGlzcGxheS5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XHJcbiAgICB9IGVsc2UgY29uc29sZS53YXJuKCdbVUlNYW5hZ2VyXSBTY29yZSBkaXNwbGF5IG5vdCBmb3VuZC4nKTtcclxuICAgIGlmICh0aGlzLnRpbWVyRWxlbWVudCkgdGhpcy50aW1lckVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblxyXG4gICAgdGhpcy5oaWRlUXVlc3Rpb24oKTtcclxuICAgIHRoaXMuaGlkZUZsb29yU2VsZWN0aW9uVUkoKTtcclxuICAgIHRoaXMuaGlkZUdhbWVPdmVyU2NyZWVuKCk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgaGlkZUdhbWVVSSgpIHtcclxuICAgIGNvbnNvbGUubG9nKCdbVUlNYW5hZ2VyXSBIaWRpbmcgR2FtZSBVSS4uLicpO1xyXG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWUtY2FudmFzJyk7XHJcbiAgICBjb25zdCBzY29yZURpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NvcmUtZGlzcGxheScpO1xyXG4gICAgaWYgKGNhbnZhcykgY2FudmFzLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICBpZiAodGhpcy5jb250cm9sc0NvbnRhaW5lcikgdGhpcy5jb250cm9sc0NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XHJcbiAgICBpZiAoc2NvcmVEaXNwbGF5KSB7XHJcbiAgICAgIHNjb3JlRGlzcGxheS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICBzY29yZURpc3BsYXkuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMudGltZXJFbGVtZW50KSB0aGlzLnRpbWVyRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGluaXRpYWxpemVUaW1lcigpIHtcclxuICAgIGlmICghdGhpcy50aW1lckVsZW1lbnQpIHtcclxuICAgICAgdGhpcy50aW1lckVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZS10aW1lcicpO1xyXG4gICAgICBpZiAoIXRoaXMudGltZXJFbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy50aW1lckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICB0aGlzLnRpbWVyRWxlbWVudC5pZCA9ICdnYW1lLXRpbWVyJztcclxuICAgICAgICB0aGlzLnRpbWVyRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdnYW1lLXRpbWVyJyk7XHJcbiAgICAgICAgY29uc3QgZ2FtZVVpQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWUtY29udGFpbmVyJykgfHwgZG9jdW1lbnQuYm9keTtcclxuICAgICAgICBnYW1lVWlDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy50aW1lckVsZW1lbnQpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdbVUlNYW5hZ2VyXSBUaW1lciBlbGVtZW50IGR5bmFtaWNhbGx5IGNyZWF0ZWQuJyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMudGltZXJFbGVtZW50LnRleHRDb250ZW50ID0gJ0N6YXM6IDA6MDAnO1xyXG4gICAgdGhpcy50aW1lckVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJzsgLy8gSGlkZGVuIGJ5IGRlZmF1bHRcclxuXHJcbiAgICBjb25zdCBzYXZlZERhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZ2FtZUxlYWRlcmJvYXJkJyk7XHJcbiAgICB0cnkge1xyXG4gICAgICB0aGlzLmxlYWRlcmJvYXJkRGF0YSA9IHNhdmVkRGF0YSA/IEpTT04ucGFyc2Uoc2F2ZWREYXRhKSA6IFtdO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbVUlNYW5hZ2VyXSBFcnJvciBwYXJzaW5nIGxlYWRlcmJvYXJkIGZyb20gbG9jYWxTdG9yYWdlOicsIGUpO1xyXG4gICAgICB0aGlzLmxlYWRlcmJvYXJkRGF0YSA9IFtdO1xyXG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnZ2FtZUxlYWRlcmJvYXJkJyk7XHJcbiAgICB9XHJcbiAgICAvLyB1cGRhdGVMZWFkZXJib2FyZCgpIGlzIHVzdWFsbHkgY2FsbGVkIHdoZW4gR2FtZU92ZXIgc2NyZWVuIGlzIHNob3duXHJcbiAgICBjb25zb2xlLmxvZygnW1VJTWFuYWdlcl0gVGltZXIgYW5kIGxlYWRlcmJvYXJkIGRhdGEgaW5pdGlhbGl6ZWQuJyk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgc3RhcnRUaW1lcigpIHtcclxuICAgIGlmICh0aGlzLnRpbWVySW50ZXJ2YWxJZCkge1xyXG4gICAgICAvLyBDbGVhciBwcmV2aW91cyBpbnRlcnZhbCBpZiBhbnlcclxuICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy50aW1lckludGVydmFsSWQpO1xyXG4gICAgICB0aGlzLnRpbWVySW50ZXJ2YWxJZCA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBjb25zdCBnYW1lID0gdGhpcy5nYW1lcGxheU1hbmFnZXJJbnN0YW5jZT8uZ2FtZTtcclxuICAgIGlmIChnYW1lICYmIGdhbWUuZ2FtZVN0YXRlID09PSBHYW1lU3RhdGUuUExBWUlORykge1xyXG4gICAgICB0aGlzLmdhbWVTdGFydFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICBgW1VJTWFuYWdlcl0gR2FtZSB0aW1lciBzdGFydGluZy4gU3RhcnQgdGltZTogJHt0aGlzLmdhbWVTdGFydFRpbWV9LiBTdGF0ZTogJHtnYW1lLmdhbWVTdGF0ZX1gXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMudXBkYXRlVGltZXIoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICBgW1VJTWFuYWdlcl0gVGltZXIgc3RhcnQgZGVuaWVkLiBHYW1lOiAkeyEhZ2FtZX0sIFN0YXRlOiAke1xyXG4gICAgICAgICAgZ2FtZT8uZ2FtZVN0YXRlXHJcbiAgICAgICAgfS4gRXhwZWN0ZWQgUExBWUlORy5gXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgdXBkYXRlVGltZXIoKSB7XHJcbiAgICBjb25zdCBnYW1lID0gdGhpcy5nYW1lcGxheU1hbmFnZXJJbnN0YW5jZT8uZ2FtZTtcclxuICAgIGlmIChcclxuICAgICAgIXRoaXMuZ2FtZVN0YXJ0VGltZSB8fFxyXG4gICAgICAhZ2FtZSB8fFxyXG4gICAgICAoZ2FtZS5nYW1lU3RhdGUgIT09IEdhbWVTdGF0ZS5QTEFZSU5HICYmXHJcbiAgICAgICAgZ2FtZS5nYW1lU3RhdGUgIT09IEdhbWVTdGF0ZS5BU0tJTkdfUVVFU1RJT04gJiZcclxuICAgICAgICBnYW1lLmdhbWVTdGF0ZSAhPT0gR2FtZVN0YXRlLlNFTEVDVElOR19GTE9PUiAmJlxyXG4gICAgICAgIGdhbWUuZ2FtZVN0YXRlICE9PSBHYW1lU3RhdGUuVFJBTlNJVElPTklORylcclxuICAgICkge1xyXG4gICAgICBpZiAodGhpcy50aW1lckludGVydmFsSWQpIHtcclxuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnRpbWVySW50ZXJ2YWxJZCk7XHJcbiAgICAgICAgdGhpcy50aW1lckludGVydmFsSWQgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IGVsYXBzZWQgPSBNYXRoLmZsb29yKChEYXRlLm5vdygpIC0gdGhpcy5nYW1lU3RhcnRUaW1lKSAvIDEwMDApO1xyXG4gICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3IoZWxhcHNlZCAvIDYwKTtcclxuICAgIGNvbnN0IHNlY29uZHMgPSBlbGFwc2VkICUgNjA7XHJcbiAgICBpZiAodGhpcy50aW1lckVsZW1lbnQpXHJcbiAgICAgIHRoaXMudGltZXJFbGVtZW50LnRleHRDb250ZW50ID0gYEN6YXM6ICR7bWludXRlc306JHtzZWNvbmRzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX1gO1xyXG4gICAgdGhpcy50aW1lckludGVydmFsSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy51cGRhdGVUaW1lcigpKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBzdG9wVGltZXIod2FzV2luKSB7XHJcbiAgICBpZiAoIXRoaXMuZ2FtZVN0YXJ0VGltZSkgcmV0dXJuOyAvLyBUaW1lciB3YXNuJ3QgcnVubmluZ1xyXG4gICAgaWYgKHRoaXMudGltZXJJbnRlcnZhbElkKSB7XHJcbiAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMudGltZXJJbnRlcnZhbElkKTtcclxuICAgICAgdGhpcy50aW1lckludGVydmFsSWQgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZW5kVGltZSA9IERhdGUubm93KCk7XHJcbiAgICBjb25zdCB0b3RhbFRpbWUgPSAoZW5kVGltZSAtIHRoaXMuZ2FtZVN0YXJ0VGltZSkgLyAxMDAwO1xyXG4gICAgY29uc29sZS5sb2coYFtVSU1hbmFnZXJdIEN6YXMgemF0cnp5bWFueS4gQ3phczogJHt0b3RhbFRpbWUudG9GaXhlZCgzKX1zLiBXeWdyYW5hOiAke3dhc1dpbn1gKTtcclxuICAgIGlmICh3YXNXaW4pIHtcclxuICAgICAgdGhpcy5sZWFkZXJib2FyZERhdGEucHVzaCh7XHJcbiAgICAgICAgbmFtZTogYFBvZGVqxZtjaWUgJHt0aGlzLmxlYWRlcmJvYXJkRGF0YS5sZW5ndGggKyAxfWAsXHJcbiAgICAgICAgdGltZTogdG90YWxUaW1lLFxyXG4gICAgICAgIGRhdGU6IG5ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCksXHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLmxlYWRlcmJvYXJkRGF0YS5zb3J0KChhLCBiKSA9PiBhLnRpbWUgLSBiLnRpbWUpO1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdnYW1lTGVhZGVyYm9hcmQnLCBKU09OLnN0cmluZ2lmeSh0aGlzLmxlYWRlcmJvYXJkRGF0YS5zbGljZSgwLCAxMCkpKTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tVSU1hbmFnZXJdIEZhaWxlZCB0byBzYXZlIGxlYWRlcmJvYXJkOicsIGUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aGlzLmdhbWVTdGFydFRpbWUgPSAwOyAvLyBSZXNldCwgZWZmZWN0aXZlbHkgc3RvcHBpbmcgdXBkYXRlVGltZXIgbG9vcFxyXG4gICAgLy8gdXBkYXRlTGVhZGVyYm9hcmQoKSB3aWxsIGJlIGNhbGxlZCBieSBzaG93R2FtZU92ZXJTY3JlZW5cclxuICB9XHJcblxyXG4gIHN0YXRpYyB1cGRhdGVMZWFkZXJib2FyZCgpIHtcclxuICAgIGlmICghdGhpcy5sZWFkZXJib2FyZEJvZHkpIHtcclxuICAgICAgY29uc3QgZ29TY3JlZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZS1vdmVyLXNjcmVlbicpO1xyXG4gICAgICBpZiAoZ29TY3JlZW4pIHRoaXMubGVhZGVyYm9hcmRCb2R5ID0gZ29TY3JlZW4ucXVlcnlTZWxlY3RvcignI2xlYWRlcmJvYXJkLWJvZHknKTtcclxuICAgICAgaWYgKCF0aGlzLmxlYWRlcmJvYXJkQm9keSkge1xyXG4gICAgICAgIC8qIGNvbnNvbGUud2FybignW1VJTWFuYWdlcl0gTGVhZGVyYm9hcmQgYm9keSBub3QgZm91bmQgZm9yIHVwZGF0ZS4nKTsgKi8gcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aGlzLmxlYWRlcmJvYXJkQm9keS5pbm5lckhUTUwgPSAnJztcclxuICAgIGNvbnN0IHRvcFNjb3JlcyA9IHRoaXMubGVhZGVyYm9hcmREYXRhLnNsaWNlKDAsIDEwKTtcclxuICAgIGlmICh0b3BTY29yZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGNvbnN0IHJvdyA9IHRoaXMubGVhZGVyYm9hcmRCb2R5Lmluc2VydFJvdygpO1xyXG4gICAgICBjb25zdCBjZWxsID0gcm93Lmluc2VydENlbGwoKTtcclxuICAgICAgY2VsbC5jb2xTcGFuID0gMztcclxuICAgICAgY2VsbC50ZXh0Q29udGVudCA9ICdObyByZWNvcmRzIHlldC4nO1xyXG4gICAgICBjZWxsLnN0eWxlLnRleHRBbGlnbiA9ICdjZW50ZXInO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdG9wU2NvcmVzLmZvckVhY2goKHJ1bikgPT4ge1xyXG4gICAgICAgIGNvbnN0IG1pbnMgPSBNYXRoLmZsb29yKHJ1bi50aW1lIC8gNjApO1xyXG4gICAgICAgIGNvbnN0IHNlY3MgPSBNYXRoLmZsb29yKHJ1bi50aW1lICUgNjApO1xyXG4gICAgICAgIGNvbnN0IG1pbGxzID0gTWF0aC5mbG9vcigocnVuLnRpbWUgKiAxMDAwKSAlIDEwMDApO1xyXG4gICAgICAgIGNvbnN0IHJvdyA9IHRoaXMubGVhZGVyYm9hcmRCb2R5Lmluc2VydFJvdygpO1xyXG4gICAgICAgIHJvdy5pbnNlcnRDZWxsKCkudGV4dENvbnRlbnQgPSBydW4ubmFtZTtcclxuICAgICAgICByb3cuaW5zZXJ0Q2VsbCgpLnRleHRDb250ZW50ID0gYCR7bWluc306JHtzZWNzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX0uJHttaWxsc1xyXG4gICAgICAgICAgLnRvU3RyaW5nKClcclxuICAgICAgICAgIC5wYWRTdGFydCgzLCAnMCcpfWA7XHJcbiAgICAgICAgcm93Lmluc2VydENlbGwoKS50ZXh0Q29udGVudCA9IHJ1bi5kYXRlO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiLy8gc3JjL2NvcmUvQ2hhcmFjdGVyLmpzXHJcblxyXG5leHBvcnQgY2xhc3MgQ2hhcmFjdGVyIHtcclxuICAvKiogU3RhdGljIG9iamVjdCBmb3IgZGlyZWN0aW9uIGNvbnN0YW50cyAqL1xyXG4gIHN0YXRpYyBEaXJlY3Rpb24gPSB7XHJcbiAgICBET1dOOiAwLFxyXG4gICAgUklHSFQ6IDEsXHJcbiAgICBVUDogMixcclxuICAgIExFRlQ6IDMsXHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyBhIG5ldyBDaGFyYWN0ZXIgaW5zdGFuY2UuXHJcbiAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCAtIFRoZSByZW5kZXJpbmcgY29udGV4dC5cclxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3ByaXRlVXJsIC0gVVJMIG9mIHRoZSBjaGFyYWN0ZXIncyBzcHJpdGUgc2hlZXQuXHJcbiAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBDb25maWd1cmF0aW9uIG9wdGlvbnMuXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmZyYW1lU2l6ZT0zMl0gLSBTaXplIG9mIG9uZSBmcmFtZSBpbiB0aGUgc3ByaXRlIHNoZWV0IChwaXhlbHMpLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5mcmFtZUNvdW50PTRdIC0gTnVtYmVyIG9mIGZyYW1lcyBwZXIgYW5pbWF0aW9uIGN5Y2xlIChwZXIgZGlyZWN0aW9uKS5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2NhbGU9Ml0gLSBTY2FsaW5nIGZhY3RvciBmb3IgcmVuZGVyaW5nLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zcGVlZD0zXSAtIE1vdmVtZW50IHNwZWVkIGluIHBpeGVscyBwZXIgdXBkYXRlLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbmltYXRpb25TcGVlZD0xNTBdIC0gTWlsbGlzZWNvbmRzIHBlciBhbmltYXRpb24gZnJhbWUuXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkJveFdpZHRoUmF0aW89MC40XSAtIFdpZHRoIG9mIGNvbGxpc2lvbiBib3ggcmVsYXRpdmUgdG8gcmVuZGVyU2l6ZS5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uQm94SGVpZ2h0UmF0aW89MC4yXSAtIEhlaWdodCBvZiBjb2xsaXNpb24gYm94IHJlbGF0aXZlIHRvIHJlbmRlclNpemUuXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkJveEZlZXRPZmZzZXRSYXRpbz0wLjRdIC0gVmVydGljYWwgb2Zmc2V0IG9mIGNvbGxpc2lvbiBib3ggY2VudGVyIGZyb20gY2hhcmFjdGVyIGNlbnRlciAodG93YXJkcyBmZWV0KSwgcmVsYXRpdmUgdG8gcmVuZGVyU2l6ZS5cclxuICAgKi9cclxuICBjb25zdHJ1Y3RvcihjdHgsIHNwcml0ZVVybCwgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICB0aGlzLmN0eCA9IGN0eDtcclxuICAgIHRoaXMuc3ByaXRlID0gbmV3IEltYWdlKCk7XHJcblxyXG4gICAgLy8gQ29uZmlndXJhdGlvbiB3aXRoIGRlZmF1bHRzXHJcbiAgICB0aGlzLmZyYW1lU2l6ZSA9IG9wdGlvbnMuZnJhbWVTaXplIHx8IDMyO1xyXG4gICAgdGhpcy5mcmFtZUNvdW50ID0gb3B0aW9ucy5mcmFtZUNvdW50IHx8IDQ7IC8vIE51bWJlciBvZiBmcmFtZXMgcGVyIGRpcmVjdGlvblxyXG4gICAgdGhpcy5zY2FsZSA9IG9wdGlvbnMuc2NhbGUgfHwgMjtcclxuICAgIHRoaXMucmVuZGVyU2l6ZSA9IHRoaXMuZnJhbWVTaXplICogdGhpcy5zY2FsZTtcclxuICAgIHRoaXMuc3BlZWQgPSBvcHRpb25zLnNwZWVkIHx8IDM7XHJcbiAgICB0aGlzLmFuaW1hdGlvblNwZWVkID0gb3B0aW9ucy5hbmltYXRpb25TcGVlZCB8fCAxNTA7IC8vIG1zIHBlciBmcmFtZVxyXG5cclxuICAgIC8vIENvbGxpc2lvbiBCb3ggQ29uZmlndXJhdGlvblxyXG4gICAgdGhpcy5jb2xsaXNpb25Cb3hXaWR0aFJhdGlvID0gb3B0aW9ucy5jb2xsaXNpb25Cb3hXaWR0aFJhdGlvIHx8IDAuNDtcclxuICAgIHRoaXMuY29sbGlzaW9uQm94SGVpZ2h0UmF0aW8gPSBvcHRpb25zLmNvbGxpc2lvbkJveEhlaWdodFJhdGlvIHx8IDAuMjtcclxuICAgIHRoaXMuY29sbGlzaW9uQm94RmVldE9mZnNldFJhdGlvID0gb3B0aW9ucy5jb2xsaXNpb25Cb3hGZWV0T2Zmc2V0UmF0aW8gfHwgMC40O1xyXG5cclxuICAgIC8vIFN0YXRlXHJcbiAgICB0aGlzLnggPSAwOyAvLyBXb3JsZCBYIGNvb3JkaW5hdGVcclxuICAgIHRoaXMueSA9IDA7IC8vIFdvcmxkIFkgY29vcmRpbmF0ZVxyXG4gICAgdGhpcy5jdXJyZW50RGlyZWN0aW9uID0gQ2hhcmFjdGVyLkRpcmVjdGlvbi5ET1dOOyAvLyBTdGFydCBmYWNpbmcgZG93blxyXG4gICAgdGhpcy5jdXJyZW50RnJhbWUgPSAwOyAvLyBDdXJyZW50IGFuaW1hdGlvbiBmcmFtZSBpbmRleFxyXG4gICAgdGhpcy5pc01vdmluZyA9IGZhbHNlOyAvLyBJcyB0aGUgY2hhcmFjdGVyIGN1cnJlbnRseSBtb3Zpbmc/XHJcbiAgICB0aGlzLmxhc3RGcmFtZVRpbWUgPSAwOyAvLyBUaW1lc3RhbXAgb2YgdGhlIGxhc3QgZnJhbWUgdXBkYXRlXHJcblxyXG4gICAgLy8gTG9hZCBzcHJpdGUgYW5kIGFkZCBoYW5kbGVyc1xyXG4gICAgdGhpcy5zcHJpdGUub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhgW0NoYXJhY3Rlcl0gU3ByaXRlIGxvYWRlZCBzdWNjZXNzZnVsbHk6ICR7c3ByaXRlVXJsfWApO1xyXG4gICAgfTtcclxuICAgIHRoaXMuc3ByaXRlLm9uZXJyb3IgPSAoKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFtDaGFyYWN0ZXJdIEZhaWxlZCB0byBsb2FkIHNwcml0ZTogJHtzcHJpdGVVcmx9YCk7XHJcbiAgICB9O1xyXG4gICAgdGhpcy5zcHJpdGUuc3JjID0gc3ByaXRlVXJsOyAvLyBTdGFydCBsb2FkaW5nXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBVcGRhdGVzIHRoZSBjaGFyYWN0ZXIncyBhbmltYXRpb24gZnJhbWUgYmFzZWQgb24gbW92ZW1lbnQgc3RhdGUgYW5kIHRpbWUuXHJcbiAgICogU2hvdWxkIGJlIGNhbGxlZCBpbiB0aGUgZ2FtZSdzIHVwZGF0ZSBsb29wLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lc3RhbXAgLSBUaGUgY3VycmVudCBoaWdoLXJlc29sdXRpb24gdGltZXN0YW1wIChlLmcuLCBmcm9tIHJlcXVlc3RBbmltYXRpb25GcmFtZSkuXHJcbiAgICovXHJcbiAgdXBkYXRlQW5pbWF0aW9uKHRpbWVzdGFtcCkge1xyXG4gICAgaWYgKCF0aGlzLmlzTW92aW5nKSB7XHJcbiAgICAgIHRoaXMuY3VycmVudEZyYW1lID0gMDtcclxuICAgICAgdGhpcy5sYXN0RnJhbWVUaW1lID0gdGltZXN0YW1wO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoIXRoaXMubGFzdEZyYW1lVGltZSkge1xyXG4gICAgICB0aGlzLmxhc3RGcmFtZVRpbWUgPSB0aW1lc3RhbXA7XHJcbiAgICB9XHJcbiAgICBjb25zdCBlbGFwc2VkID0gdGltZXN0YW1wIC0gdGhpcy5sYXN0RnJhbWVUaW1lO1xyXG4gICAgaWYgKGVsYXBzZWQgPiB0aGlzLmFuaW1hdGlvblNwZWVkKSB7XHJcbiAgICAgIHRoaXMuY3VycmVudEZyYW1lID0gKHRoaXMuY3VycmVudEZyYW1lICsgMSkgJSB0aGlzLmZyYW1lQ291bnQ7XHJcbiAgICAgIHRoaXMubGFzdEZyYW1lVGltZSA9IHRpbWVzdGFtcDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENhbGN1bGF0ZXMgdGhlIGNvbGxpc2lvbiBib3VuZGluZyBib3ggYmFzZWQgb24gYSBwb3RlbnRpYWwgcG9zaXRpb24uXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBvc1ggLSBUaGUgcG90ZW50aWFsIFggY29vcmRpbmF0ZSBmb3IgdGhlIGNvbGxpc2lvbiBjaGVjay5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gcG9zWSAtIFRoZSBwb3RlbnRpYWwgWSBjb29yZGluYXRlIGZvciB0aGUgY29sbGlzaW9uIGNoZWNrLlxyXG4gICAqIEByZXR1cm5zIHt7dG9wOiBudW1iZXIsIGJvdHRvbTogbnVtYmVyLCBsZWZ0OiBudW1iZXIsIHJpZ2h0OiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyfX0gVGhlIGNvbGxpc2lvbiBib3ggcHJvcGVydGllcy5cclxuICAgKi9cclxuICBnZXRDb2xsaXNpb25Cb3gocG9zWCwgcG9zWSkge1xyXG4gICAgY29uc3Qgd2lkdGggPSB0aGlzLnJlbmRlclNpemUgKiB0aGlzLmNvbGxpc2lvbkJveFdpZHRoUmF0aW87XHJcbiAgICBjb25zdCBoZWlnaHQgPSB0aGlzLnJlbmRlclNpemUgKiB0aGlzLmNvbGxpc2lvbkJveEhlaWdodFJhdGlvO1xyXG4gICAgY29uc3QgaGFsZldpZHRoID0gd2lkdGggLyAyO1xyXG4gICAgY29uc3QgZmVldE9mZnNldFkgPSB0aGlzLnJlbmRlclNpemUgKiB0aGlzLmNvbGxpc2lvbkJveEZlZXRPZmZzZXRSYXRpbztcclxuICAgIGNvbnN0IHRvcCA9IHBvc1kgKyBmZWV0T2Zmc2V0WSAtIGhlaWdodCAvIDI7XHJcbiAgICBjb25zdCBib3R0b20gPSBwb3NZICsgZmVldE9mZnNldFkgKyBoZWlnaHQgLyAyO1xyXG4gICAgY29uc3QgbGVmdCA9IHBvc1ggLSBoYWxmV2lkdGg7XHJcbiAgICBjb25zdCByaWdodCA9IHBvc1ggKyBoYWxmV2lkdGg7XHJcbiAgICByZXR1cm4geyB0b3AsIGJvdHRvbSwgbGVmdCwgcmlnaHQsIHdpZHRoLCBoZWlnaHQgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERyYXdzIHRoZSBjaGFyYWN0ZXIgb250byB0aGUgY2FudmFzIGF0IGl0cyBjdXJyZW50IHBvc2l0aW9uLFxyXG4gICAqIGNvbnNpZGVyaW5nIHRoZSBjYW1lcmEgb2Zmc2V0LlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXRYIC0gVGhlIGNhbWVyYSdzIFggb2Zmc2V0LlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXRZIC0gVGhlIGNhbWVyYSdzIFkgb2Zmc2V0LlxyXG4gICAqL1xyXG4gIGRyYXcob2Zmc2V0WCwgb2Zmc2V0WSkge1xyXG4gICAgaWYgKCF0aGlzLnNwcml0ZS5jb21wbGV0ZSB8fCB0aGlzLnNwcml0ZS5uYXR1cmFsSGVpZ2h0ID09PSAwKSB7XHJcbiAgICAgIHJldHVybjsgLy8gRG9uJ3QgZHJhdyBpZiBzcHJpdGUgaXNuJ3QgcmVhZHlcclxuICAgIH1cclxuICAgIGNvbnN0IGZyYW1lWCA9IHRoaXMuY3VycmVudEZyYW1lICogdGhpcy5mcmFtZVNpemU7XHJcbiAgICBjb25zdCBmcmFtZVkgPSB0aGlzLmN1cnJlbnREaXJlY3Rpb24gKiB0aGlzLmZyYW1lU2l6ZTtcclxuICAgIGNvbnN0IHNjcmVlblggPSBNYXRoLmZsb29yKHRoaXMueCAtIHRoaXMucmVuZGVyU2l6ZSAvIDIgKyBvZmZzZXRYKTtcclxuICAgIGNvbnN0IHNjcmVlblkgPSBNYXRoLmZsb29yKHRoaXMueSAtIHRoaXMucmVuZGVyU2l6ZSAvIDIgKyBvZmZzZXRZKTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICB0aGlzLmN0eC5kcmF3SW1hZ2UoXHJcbiAgICAgICAgdGhpcy5zcHJpdGUsXHJcbiAgICAgICAgZnJhbWVYLFxyXG4gICAgICAgIGZyYW1lWSxcclxuICAgICAgICB0aGlzLmZyYW1lU2l6ZSxcclxuICAgICAgICB0aGlzLmZyYW1lU2l6ZSwgLy8gU291cmNlIHJlY3RcclxuICAgICAgICBzY3JlZW5YLFxyXG4gICAgICAgIHNjcmVlblksXHJcbiAgICAgICAgdGhpcy5yZW5kZXJTaXplLFxyXG4gICAgICAgIHRoaXMucmVuZGVyU2l6ZSAvLyBEZXN0IHJlY3RcclxuICAgICAgKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignW0NoYXJhY3Rlcl0gRXJyb3IgZHJhd2luZyBzcHJpdGU6JywgZSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIi8vIHNyYy9tYXAvQm9vay5qc1xyXG5leHBvcnQgY2xhc3MgQm9vayB7XHJcbiAgY29uc3RydWN0b3IoeCwgeSwgaWQsIHRpbGVTaXplKSB7XHJcbiAgICB0aGlzLnggPSB4O1xyXG4gICAgdGhpcy55ID0geTtcclxuICAgIHRoaXMuaWQgPSBpZDtcclxuICAgIHRoaXMudGlsZVNpemUgPSB0aWxlU2l6ZTtcclxuICAgIHRoaXMuc2l6ZSA9IHRpbGVTaXplICogMC42O1xyXG4gICAgdGhpcy5jb2xsZWN0ZWQgPSBmYWxzZTtcclxuICAgIHRoaXMuaXNDb2xsZWN0ZWQgPSBmYWxzZTtcclxuICB9XHJcbiAgZHJhdyhjdHgsIG9mZnNldFgsIG9mZnNldFksIGJvb2tJbWFnZSkge1xyXG4gICAgY29uc3Qgc2NyZWVuWCA9IE1hdGguZmxvb3IodGhpcy54ICsgb2Zmc2V0WCAtIHRoaXMuc2l6ZSAvIDIpO1xyXG4gICAgY29uc3Qgc2NyZWVuWSA9IE1hdGguZmxvb3IodGhpcy55ICsgb2Zmc2V0WSAtIHRoaXMuc2l6ZSAvIDIpO1xyXG4gICAgaWYgKGJvb2tJbWFnZSkge1xyXG4gICAgICBjdHguZHJhd0ltYWdlKGJvb2tJbWFnZSwgc2NyZWVuWCwgc2NyZWVuWSwgdGhpcy5zaXplLCB0aGlzLnNpemUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjOGQ2ZTYzJztcclxuICAgICAgY3R4LmZpbGxSZWN0KHNjcmVlblgsIHNjcmVlblksIHRoaXMuc2l6ZSwgdGhpcy5zaXplKTtcclxuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJyM1ZDQwMzcnO1xyXG4gICAgICBjdHguc3Ryb2tlUmVjdChzY3JlZW5YLCBzY3JlZW5ZLCB0aGlzLnNpemUsIHRoaXMuc2l6ZSk7XHJcbiAgICAgIGN0eC5maWxsU3R5bGUgPSAnI2VlZSc7XHJcbiAgICAgIGN0eC5mb250ID0gYCR7dGhpcy5zaXplICogMC42fXB4IEFyaWFsYDtcclxuICAgICAgY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInO1xyXG4gICAgICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XHJcbiAgICAgIGN0eC5maWxsVGV4dCgnPycsIHNjcmVlblggKyB0aGlzLnNpemUgLyAyLCBzY3JlZW5ZICsgdGhpcy5zaXplIC8gMiArIDIpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCIvLyBzcmMvdXRpbHMvbWFwLmpzXHJcbmltcG9ydCB7IFRJTEVfQ09SUklET1IsIFRJTEVfUk9PTV9GTE9PUiwgVElMRV9MSUZUIH0gZnJvbSAnLi9jb25zdGFudHMuanMnOyAvLyBQb3RyemVibmUgZG8gQkZTXHJcblxyXG4vKipcclxuICogR2VuZXJ1amUgbG9zb3fEhSBsaWN6YsSZIGNhxYJrb3dpdMSFIHogcHJ6ZWR6aWHFgnUgW21pbiwgbWF4XSAod8WCxIVjem5pZSkuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW4gRG9sbmEgZ3JhbmljYS5cclxuICogQHBhcmFtIHtudW1iZXJ9IG1heCBHw7NybmEgZ3JhbmljYS5cclxuICogQHJldHVybnMge251bWJlcn0gTG9zb3dhIGxpY3piYSBjYcWCa293aXRhLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbUludChtaW4sIG1heCkge1xyXG4gIG1pbiA9IE1hdGguY2VpbChtaW4pO1xyXG4gIG1heCA9IE1hdGguZmxvb3IobWF4KTtcclxuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFByb3N0YSAobmlla3J5cHRvZ3JhZmljem5hKSBmdW5rY2phIGhhc2h1asSFY2EuXHJcbiAqIFXFvHl3YW5hIGRvIHV6eXNrYW5pYSBwc2V1ZG9sb3Nvd2VqLCBhbGUgZGV0ZXJtaW5pc3R5Y3puZWogd2FydG/Fm2NpIHogbGljemJ5IChrb29yZHluYXTDs3cpLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gc2VlZCBaaWFybm8gKG5wLiBza29tYmlub3dhbmUga29vcmR5bmF0eSkuXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IEJlenpuYWtvd2EgMzItYml0b3dhIGxpY3piYSBjYcWCa293aXRhLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNpbXBsZUhhc2goc2VlZCkge1xyXG4gIGxldCBoID0gc2VlZCBeIDB4ZGVhZGJlZWY7IC8vIFhPUiB6IHdhcnRvxZtjacSFIHBvY3rEhXRrb3fEhVxyXG4gIGggPSBNYXRoLmltdWwoaCBeIChoID4+PiAxNiksIDIyNDY4MjI1MDcpO1xyXG4gIGggPSBNYXRoLmltdWwoaCBeIChoID4+PiAxMyksIDMyNjY0ODk5MDkpO1xyXG4gIHJldHVybiAoaCBePSBoID4+PiAxNikgPj4+IDA7IC8vIEtvbndlcnNqYSBkbyBsaWN6YnkgYmV6IHpuYWt1IDMyLWJpdG93ZWpcclxufVxyXG5cclxuLy8gLS0tIEZ1bmtjamUga29sb3LDs3cgLS0tXHJcblxyXG4vKipcclxuICogR2VuZXJ1amUgbG9zb3d5IG9kY2llxYQgc3phcm/Fm2NpIHcgemFkYW55bSB6YWtyZXNpZSBqYXNub8WbY2kgKDAtMjU1KS5cclxuICogQHBhcmFtIHtudW1iZXJ9IG1pbkJyaWdodG5lc3MgTWluaW1hbG5hIGphc25vxZvEhy5cclxuICogQHBhcmFtIHtudW1iZXJ9IG1heEJyaWdodG5lc3MgTWFrc3ltYWxuYSBqYXNub8WbxIcuXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEtvbG9yIHcgZm9ybWFjaWUgcmdiKCkuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tR3JheShtaW5CcmlnaHRuZXNzLCBtYXhCcmlnaHRuZXNzKSB7XHJcbiAgY29uc3QgYnJpZ2h0bmVzcyA9IHJhbmRvbUludChtaW5CcmlnaHRuZXNzLCBtYXhCcmlnaHRuZXNzKTtcclxuICByZXR1cm4gYHJnYigke2JyaWdodG5lc3N9LCR7YnJpZ2h0bmVzc30sJHticmlnaHRuZXNzfSlgO1xyXG59XHJcblxyXG4vKipcclxuICogR2VuZXJ1amUgbG9zb3d5IG9kY2llxYQgc3phcm/Fm2NpIGRsYSBrb3J5dGFyenkuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5CcmlnaHRuZXNzIE1pbmltYWxuYSBqYXNub8WbxIcuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhCcmlnaHRuZXNzIE1ha3N5bWFsbmEgamFzbm/Fm8SHLlxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBLb2xvciB3IGZvcm1hY2llIHJnYigpLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbUNvcnJpZG9yR3JheShtaW5CcmlnaHRuZXNzLCBtYXhCcmlnaHRuZXNzKSB7XHJcbiAgLy8gTW/FvG5hIHXFvHnEhyB0ZWogc2FtZWogbG9naWtpIGNvIHJhbmRvbUdyYXkgbHViIHVjenluacSHIGplIG5pZWNvIGNpZXBsZWpzenltaS9jaMWCb2RuaWVqc3p5bWlcclxuICBjb25zdCBicmlnaHRuZXNzID0gcmFuZG9tSW50KG1pbkJyaWdodG5lc3MsIG1heEJyaWdodG5lc3MpO1xyXG4gIHJldHVybiBgcmdiKCR7YnJpZ2h0bmVzc30sJHticmlnaHRuZXNzfSwke2JyaWdodG5lc3N9KWA7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEb3N0b3Nvd3VqZSBqYXNub8WbxIcga29sb3J1IEhFWCAobnAuICcjUlJHR0JCJykuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBoZXhDb2xvciBLb2xvciB3IGZvcm1hY2llIEhFWC5cclxuICogQHBhcmFtIHtudW1iZXJ9IGZhY3RvciBXc3DDs8WCY3p5bm5payBqYXNub8WbY2kgKDEuMCA9IGJleiB6bWlhbiwgPDEgY2llbW5pZWosID4xIGphxZtuaWVqKS5cclxuICogQHJldHVybnMge3N0cmluZ30gTm93eSBrb2xvciB3IGZvcm1hY2llIEhFWC5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGp1c3RDb2xvckJyaWdodG5lc3MoaGV4Q29sb3IsIGZhY3Rvcikge1xyXG4gIGlmICghaGV4Q29sb3IgfHwgdHlwZW9mIGhleENvbG9yICE9PSAnc3RyaW5nJyB8fCBoZXhDb2xvci5sZW5ndGggPCA3KSByZXR1cm4gaGV4Q29sb3I7IC8vIFp3csOzxIcsIGplxZtsaSBrb2xvciBqZXN0IG5pZXByYXdpZMWCb3d5XHJcblxyXG4gIGxldCByID0gcGFyc2VJbnQoaGV4Q29sb3Iuc2xpY2UoMSwgMyksIDE2KTtcclxuICBsZXQgZyA9IHBhcnNlSW50KGhleENvbG9yLnNsaWNlKDMsIDUpLCAxNik7XHJcbiAgbGV0IGIgPSBwYXJzZUludChoZXhDb2xvci5zbGljZSg1LCA3KSwgMTYpO1xyXG5cclxuICByID0gTWF0aC5taW4oMjU1LCBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKHIgKiBmYWN0b3IpKSk7XHJcbiAgZyA9IE1hdGgubWluKDI1NSwgTWF0aC5tYXgoMCwgTWF0aC5yb3VuZChnICogZmFjdG9yKSkpO1xyXG4gIGIgPSBNYXRoLm1pbigyNTUsIE1hdGgubWF4KDAsIE1hdGgucm91bmQoYiAqIGZhY3RvcikpKTtcclxuXHJcbiAgY29uc3QgckhleCA9IHIudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgY29uc3QgZ0hleCA9IGcudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgY29uc3QgYkhleCA9IGIudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICcwJyk7XHJcblxyXG4gIHJldHVybiBgIyR7ckhleH0ke2dIZXh9JHtiSGV4fWA7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBXeWtvbnVqZSBhbGdvcnl0bSBwcnplc3p1a2l3YW5pYSB3c3plcnogKEJGUykgbmEgc2lhdGNlIG1hcHkuXHJcbiAqIE1vxbxlIGJ5xIcgdcW8eXdhbnkgZG8gem5hamRvd2FuaWEgxZtjaWXFvGtpIGx1YiBzcHJhd2R6YW5pYSBvc2nEhWdhbG5vxZtjaS5cclxuICogQHBhcmFtIHtudW1iZXJbXVtdfSBtYXBHcmlkIFNpYXRrYSBtYXB5ICgyRCBhcnJheSB6IHdhcnRvxZtjaWFtaSBrYWZlbGvDs3cpLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRYIFBvY3rEhXRrb3dhIHdzcMOzxYJyesSZZG5hIFgga2FmZWxrYS5cclxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0WSBQb2N6xIV0a293YSB3c3DDs8WCcnrEmWRuYSBZIGthZmVsa2EuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBjb2xzIExpY3piYSBrb2x1bW4gdyBtYXBHcmlkLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gcm93cyBMaWN6YmEgcnrEmWTDs3cgdyBtYXBHcmlkLlxyXG4gKiBAcGFyYW0ge251bWJlcltdfSB3YWxrYWJsZVRpbGVWYWx1ZXMgVGFibGljYSB3YXJ0b8WbY2kga2FmZWxrw7N3IHV3YcW8YW55Y2ggemEgcHJ6ZWNob2RuaWUgZGxhIHRlZ28gQkZTLlxyXG4gKiBAcmV0dXJucyB7e3JlYWNoYWJsZTogYm9vbGVhbn19IE9iaWVrdCB3c2thenVqxIVjeSwgY3p5IEJGUyBvc2nEhWduxIXFgiBva3JlxZtsb255IGNlbCAodyB0eW0gcHJ6eXBhZGt1LCBjenkgeiBwdW5rdHUgc3RhcnRvd2VnbyBtb8W8bmEgZG9qxZvEhyBkbyBrb3J5dGFyemEvcG9rb2p1KS5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBwZXJmb3JtQkZTKG1hcEdyaWQsIHN0YXJ0WCwgc3RhcnRZLCBjb2xzLCByb3dzLCB3YWxrYWJsZVRpbGVWYWx1ZXMpIHtcclxuICBjb25zdCBxdWV1ZSA9IFtbc3RhcnRYLCBzdGFydFldXTtcclxuICBjb25zdCB2aXNpdGVkID0gbmV3IFNldChbYCR7c3RhcnRYfSwke3N0YXJ0WX1gXSk7XHJcbiAgY29uc3QgZGlyZWN0aW9ucyA9IFtcclxuICAgIFswLCAtMV0sIC8vIEfDs3JhXHJcbiAgICBbMCwgMV0sIC8vIETDs8WCXHJcbiAgICBbLTEsIDBdLCAvLyBMZXdvXHJcbiAgICBbMSwgMF0sIC8vIFByYXdvXHJcbiAgXTtcclxuICBsZXQgcmVhY2hhYmxlID0gZmFsc2U7IC8vIEZsYWdhLCBjenkgQkZTIGRvdGFyxYIgZG8ga2FmZWxrw7N3IGtvcnl0YXJ6YS9wb2tvanUgKGplxZtsaSBzenVrYW5vIG9kIHdpbmR5KVxyXG5cclxuICAvLyBTcHJhd2R6ZW5pZSBwdW5rdHUgc3RhcnRvd2VnbyAoamXFm2xpIHN6dWthbXkgb3NpxIVnYWxub8WbY2kgeiB3aW5keSlcclxuICBjb25zdCBzdGFydFRpbGVWYWx1ZSA9IG1hcEdyaWRbc3RhcnRZXT8uW3N0YXJ0WF07XHJcbiAgLy8gQ3p5IHB1bmt0IHN0YXJ0b3d5IChucC4gd2luZGEpIGplc3QganXFvCBuYSBiZXpwaWVjem55bSB0ZXJlbmllIChkbGEgY2VsdSBzcHJhd2R6ZW5pYSBvc2nEhWdhbG5vxZtjaSk/XHJcbiAgLy8gVyB0eW0ga29ua3JldG55bSB1xbx5Y2l1IChzcHJhd2R6ZW5pZSB3aW5keSkgaW50ZXJlc3VqZSBuYXMsIGN6eSB6IHdpbmR5IG1vxbxuYSBkb3RyemXEhyBkbyBLT1JZVEFSWkEvUE9LT0pVLlxyXG4gIC8vIFNhbW8gc3RhbmllIG5hIHdpbmR6aWUgbmllIG96bmFjemEgb3NpxIVnYWxub8WbY2kgYmV6cGllY3puZWogc3RyZWZ5LlxyXG4gIC8vIFNwcmF3ZHppbXkgc8SFc2lhZMOzdyB3aW5keS5cclxuXHJcbiAgd2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcclxuICAgIGNvbnN0IFtjdXJyWCwgY3VyclldID0gcXVldWUuc2hpZnQoKTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IFtkeCwgZHldIG9mIGRpcmVjdGlvbnMpIHtcclxuICAgICAgY29uc3QgbmV4dFggPSBjdXJyWCArIGR4O1xyXG4gICAgICBjb25zdCBuZXh0WSA9IGN1cnJZICsgZHk7XHJcbiAgICAgIGNvbnN0IGtleSA9IGAke25leHRYfSwke25leHRZfWA7XHJcblxyXG4gICAgICAvLyBTcHJhd2R6ZW5pZSBncmFuaWMgaSBjenkganXFvCBvZHdpZWR6b25lXHJcbiAgICAgIGlmIChuZXh0WCA+PSAwICYmIG5leHRYIDwgY29scyAmJiBuZXh0WSA+PSAwICYmIG5leHRZIDwgcm93cyAmJiAhdmlzaXRlZC5oYXMoa2V5KSkge1xyXG4gICAgICAgIGNvbnN0IHRpbGVWYWx1ZSA9IG1hcEdyaWRbbmV4dFldPy5bbmV4dFhdO1xyXG4gICAgICAgIHZpc2l0ZWQuYWRkKGtleSk7IC8vIE9kd2llZHphbXkgbmllemFsZcW8bmllIG9kIHR5cHVcclxuXHJcbiAgICAgICAgLy8gQ3p5IHRlbiBrYWZlbGVrIGplc3QgcHJ6ZWNob2RuaSBETEEgVEVHTyBCRlM/XHJcbiAgICAgICAgaWYgKHdhbGthYmxlVGlsZVZhbHVlcy5pbmNsdWRlcyh0aWxlVmFsdWUpKSB7XHJcbiAgICAgICAgICBxdWV1ZS5wdXNoKFtuZXh0WCwgbmV4dFldKTtcclxuXHJcbiAgICAgICAgICAvLyBDenkgdGVuIGthZmVsZWsgamVzdCBLT1JZVEFSWkVNIGx1YiBQT0TFgU9HxIQgUE9LT0pVP1xyXG4gICAgICAgICAgLy8gSmXFm2xpIHRhaywgdG8gem5hbGXFumxpxZtteSBiZXpwaWVjem7EhSBzdHJlZsSZIG9zacSFZ2FsbsSFIHogcHVua3R1IHN0YXJ0b3dlZ28uXHJcbiAgICAgICAgICBpZiAodGlsZVZhbHVlID09PSBUSUxFX0NPUlJJRE9SIHx8IHRpbGVWYWx1ZSA9PT0gVElMRV9ST09NX0ZMT09SKSB7XHJcbiAgICAgICAgICAgIHJlYWNoYWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgIC8vIE1vxbxuYSBieSB0dSB6YWtvxYRjennEhyBwxJl0bMSZLCBqZcWbbGkgaW50ZXJlc3VqZSBuYXMgdHlsa28gQ1pZIGplc3Qgb3NpxIVnYWxuZVxyXG4gICAgICAgICAgICAvLyByZXR1cm4geyByZWFjaGFibGU6IHRydWUgfTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgLy8gWndyw7PEhyB3eW5payBCRlMgLSB3IHR5bSBwcnp5cGFka3UsIGZsYWfEmSBvc2nEhWdhbG5vxZtjaSBiZXpwaWVjem5laiBzdHJlZnlcclxuICByZXR1cm4geyByZWFjaGFibGUgfTtcclxufVxyXG5cclxuLy8gLi4uIChpbm5lIG5hcnrEmWR6aWEgbWFweSwgamXFm2xpIGlzdG5pZWrEhSlcclxuIiwiLy8gc3JjL21hcC9tYXBSZW5kZXJlci5qc1xyXG5cclxuaW1wb3J0IHsgVElMRV9XQUxMLCBUSUxFX0NPUlJJRE9SLCBUSUxFX1JPT01fRkxPT1IsIFRJTEVfTElGVCB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcyc7XHJcbi8vIFJlbW92ZWQgdW51c2VkIHJhbmRvbUdyYXksIHJhbmRvbUNvcnJpZG9yR3JheSBpbXBvcnRzXHJcbmltcG9ydCB7IGFkanVzdENvbG9yQnJpZ2h0bmVzcywgc2ltcGxlSGFzaCB9IGZyb20gJy4uL3V0aWxzL21hcC5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgTWFwUmVuZGVyZXIge1xyXG4gIGNvbnN0cnVjdG9yKHRpbGVTaXplKSB7XHJcbiAgICB0aGlzLnRpbGVTaXplID0gdGlsZVNpemU7XHJcbiAgICAvLyBDYWNoZSBpcyBsZXNzIGNyaXRpY2FsIG5vdyBmb3IgYmFzZSB0aWxlcyBidXQgc3RpbGwgdXNlZnVsIGZvciByb29tIGZsb29ycy9vdGhlciBlbGVtZW50c1xyXG4gICAgdGhpcy50aWxlQ29sb3JzID0ge307XHJcbiAgICB0aGlzLmJhc2VXYWxsQ29sb3IgPSAnIzFjMWUyMic7IC8vIFNpbmdsZSwgY29uc2lzdGVudCB3YWxsIGNvbG9yXHJcbiAgICB0aGlzLmJhc2VDb3JyaWRvckNvbG9yID0gJyNhMGEwYTAnOyAvLyBTaW5nbGUsIGNvbnNpc3RlbnQgY29ycmlkb3IgY29sb3JcclxuICAgIHRoaXMuYmFzZVJvb21GbG9vckNvbG9yID0gJyNjMGMwYzAnOyAvLyBEZWZhdWx0IHJvb20gZmxvb3IgKG92ZXJ3cml0dGVuIGJ5IGRyYXdSb29tRGV0YWlscylcclxuICAgIHRoaXMubGlmdENvbG9yID0gJyM3MDcwODAnOyAvLyBDb25zaXN0ZW50IGxpZnQgY29sb3JcclxuICAgIHRoaXMuZXJyb3JDb2xvciA9ICcjZmYwMGZmJzsgLy8gRXJyb3IgY29sb3JcclxuICB9XHJcblxyXG4gIC8vIFJlc2V0IGNvbG9yIGNhY2hlIHdoZW4gYSBuZXcgbWFwIGlzIGRyYXduIChjYWxsZWQgYnkgUHJvY2VkdXJhbE1hcClcclxuICByZXNldENvbG9yQ2FjaGUoKSB7XHJcbiAgICB0aGlzLnRpbGVDb2xvcnMgPSB7fTtcclxuICB9XHJcblxyXG4gIC8qKiBHZXQgb3IgZ2VuZXJhdGUgdGhlIGNvbG9yIGZvciBhIHNwZWNpZmljIHRpbGUgKi9cclxuICBnZXRUaWxlQ29sb3IociwgYywgdGlsZVZhbHVlLCByb29tcykge1xyXG4gICAgLy8gTk9URTogV2Ugc3RpbGwgdXNlIHRoZSBjYWNoZSBrZXksIG1haW5seSB1c2VmdWwgaWYgcm9vbXMgbmVlZCBzcGVjaWZpY1xyXG4gICAgLy8gdGlsZSBjb2xvcnMgbm90IGhhbmRsZWQgYnkgZHJhd1Jvb21EZXRhaWxzIGxhdGVyLCBvciBpZiB3ZSBhZGQgbW9yZSBjb21wbGV4IGxvZ2ljLlxyXG4gICAgLy8gRm9yIHRoZSBiYXNlIHRpbGVzIG1vZGlmaWVkIGJlbG93LCBpdCdzIGxlc3MgZXNzZW50aWFsLlxyXG4gICAgY29uc3Qga2V5ID0gYCR7cn0sJHtjfWA7XHJcbiAgICBpZiAodGhpcy50aWxlQ29sb3JzW2tleV0pIHtcclxuICAgICAgcmV0dXJuIHRoaXMudGlsZUNvbG9yc1trZXldO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBjb2xvcjtcclxuXHJcbiAgICAvLyAtLS0gUkVNT1ZFRCBwZXItdGlsZSBoYXNoL3ZhcmlhdGlvbiBmb3IgYmFzZSB0eXBlcyAtLS1cclxuICAgIC8vIGNvbnN0IGhhc2ggPSBzaW1wbGVIYXNoKHIgKiAxMDAwICsgYyk7XHJcbiAgICAvLyBjb25zdCB2YXJpYXRpb24gPSAoKGhhc2ggJSAyMSkgLSAxMCkgLyAxMDA7XHJcblxyXG4gICAgc3dpdGNoICh0aWxlVmFsdWUpIHtcclxuICAgICAgY2FzZSBUSUxFX1dBTEw6XHJcbiAgICAgICAgLy8gVXNlIHRoZSBzaW5nbGUsIGNvbnNpc3RlbnQgYmFzZSBjb2xvciBkaXJlY3RseVxyXG4gICAgICAgIGNvbG9yID0gdGhpcy5iYXNlV2FsbENvbG9yO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFRJTEVfQ09SUklET1I6XHJcbiAgICAgICAgLy8gVXNlIHRoZSBzaW5nbGUsIGNvbnNpc3RlbnQgYmFzZSBjb2xvciBkaXJlY3RseVxyXG4gICAgICAgIGNvbG9yID0gdGhpcy5iYXNlQ29ycmlkb3JDb2xvcjtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBUSUxFX1JPT01fRkxPT1I6XHJcbiAgICAgICAgLy8gVXNlIHRoZSBjb25zaXN0ZW50IGJhc2Ugcm9vbSBmbG9vciBjb2xvci5cclxuICAgICAgICAvLyBUaGlzIHdpbGwgYmUgb3ZlcndyaXR0ZW4gYnkgZHJhd1Jvb21EZXRhaWxzIGZvciBhY3R1YWwgcm9vbSB0aWxlcy5cclxuICAgICAgICAvLyBJdCBzZXJ2ZXMgYXMgdGhlIGNvbG9yIGlmIGEgVElMRV9ST09NX0ZMT09SIHNvbWVob3cgZXhpc3RzIG91dHNpZGUgYSBkZWZpbmVkIHJvb20uXHJcbiAgICAgICAgY29sb3IgPSB0aGlzLmJhc2VSb29tRmxvb3JDb2xvcjtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBUSUxFX0xJRlQ6XHJcbiAgICAgICAgLy8gVXNlIHRoZSBjb25zaXN0ZW50IGxpZnQgY29sb3JcclxuICAgICAgICBjb2xvciA9IHRoaXMubGlmdENvbG9yO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIGNvbG9yID0gdGhpcy5lcnJvckNvbG9yOyAvLyBFcnJvciBjb2xvclxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFN0aWxsIGNhY2hlIHRoZSByZXN1bHRcclxuICAgIHRoaXMudGlsZUNvbG9yc1trZXldID0gY29sb3I7XHJcbiAgICByZXR1cm4gY29sb3I7XHJcbiAgfVxyXG5cclxuICAvKiogTWFpbiBkcmF3aW5nIGZ1bmN0aW9uICovXHJcbiAgZHJhdyhjdHgsIG1hcERhdGEsIGJvb2tJbWFnZSA9IG51bGwpIHtcclxuICAgIGNvbnN0IHsgbWFwLCByb29tcywgYm9va3MsIGxpZnRQb3NpdGlvbiwgb2Zmc2V0WCwgb2Zmc2V0WSwgY29scywgcm93cyB9ID0gbWFwRGF0YTtcclxuXHJcbiAgICAvLyBSb3VuZCBvZmZzZXRzIGZvciBzaGFycG5lc3NcclxuICAgIGNvbnN0IGN1cnJlbnRPZmZzZXRYID0gTWF0aC5mbG9vcihvZmZzZXRYKTtcclxuICAgIGNvbnN0IGN1cnJlbnRPZmZzZXRZID0gTWF0aC5mbG9vcihvZmZzZXRZKTtcclxuXHJcbiAgICAvLyBEZXRlcm1pbmUgdmlzaWJsZSB0aWxlcyB3aXRoIGEgc21hbGwgYnVmZmVyXHJcbiAgICBjb25zdCBzdGFydENvbCA9IE1hdGgubWF4KDAsIE1hdGguZmxvb3IoLWN1cnJlbnRPZmZzZXRYIC8gdGhpcy50aWxlU2l6ZSkgLSAxKTtcclxuICAgIGNvbnN0IGVuZENvbCA9IE1hdGgubWluKFxyXG4gICAgICBjb2xzLFxyXG4gICAgICBNYXRoLmNlaWwoKC1jdXJyZW50T2Zmc2V0WCArIGN0eC5jYW52YXMud2lkdGgpIC8gdGhpcy50aWxlU2l6ZSkgKyAxXHJcbiAgICApO1xyXG4gICAgY29uc3Qgc3RhcnRSb3cgPSBNYXRoLm1heCgwLCBNYXRoLmZsb29yKC1jdXJyZW50T2Zmc2V0WSAvIHRoaXMudGlsZVNpemUpIC0gMSk7XHJcbiAgICBjb25zdCBlbmRSb3cgPSBNYXRoLm1pbihcclxuICAgICAgcm93cyxcclxuICAgICAgTWF0aC5jZWlsKCgtY3VycmVudE9mZnNldFkgKyBjdHguY2FudmFzLmhlaWdodCkgLyB0aGlzLnRpbGVTaXplKSArIDFcclxuICAgICk7XHJcblxyXG4gICAgY3R4LnNhdmUoKTsgLy8gU2F2ZSBjb250ZXh0IHN0YXRlXHJcblxyXG4gICAgLy8gMS4gRHJhdyBiYXNlIHRpbGVzICh3YWxscywgY29ycmlkb3JzLCBkZWZhdWx0IGZsb29yLCBsaWZ0IGJhc2UpXHJcbiAgICAvLyAgICBUaGVzZSB3aWxsIG5vdyB1c2UgdGhlIGNvbnNpc3RlbnQgY29sb3JzIGZyb20gZ2V0VGlsZUNvbG9yLlxyXG4gICAgdGhpcy5kcmF3QmFzZVRpbGVzKFxyXG4gICAgICBjdHgsXHJcbiAgICAgIG1hcCxcclxuICAgICAgcm9vbXMsXHJcbiAgICAgIGN1cnJlbnRPZmZzZXRYLFxyXG4gICAgICBjdXJyZW50T2Zmc2V0WSxcclxuICAgICAgY29scyxcclxuICAgICAgcm93cyxcclxuICAgICAgc3RhcnRSb3csXHJcbiAgICAgIGVuZFJvdyxcclxuICAgICAgc3RhcnRDb2wsXHJcbiAgICAgIGVuZENvbFxyXG4gICAgKTtcclxuXHJcbiAgICAvLyAyLiBEcmF3IHNwZWNpZmljIHJvb20gZmxvb3JzIGFuZCBkZWNvcmF0aW9uc1xyXG4gICAgLy8gICAgVGhpcyBmdW5jdGlvbiBXSUxMIGFwcGx5IHNwZWNpZmljIGNvbG9ycyBiYXNlZCBvbiByb29tIHR5cGUsXHJcbiAgICAvLyAgICBhbmQgc3VidGxlIHBlci10aWxlIHZhcmlhdGlvbnMgV0lUSElOIHRoZSByb29tIGZsb29yLlxyXG4gICAgdGhpcy5kcmF3Um9vbURldGFpbHMoXHJcbiAgICAgIGN0eCxcclxuICAgICAgbWFwLFxyXG4gICAgICByb29tcyxcclxuICAgICAgbGlmdFBvc2l0aW9uLFxyXG4gICAgICBjdXJyZW50T2Zmc2V0WCxcclxuICAgICAgY3VycmVudE9mZnNldFksXHJcbiAgICAgIGNvbHMsXHJcbiAgICAgIHJvd3MsXHJcbiAgICAgIHN0YXJ0Um93LFxyXG4gICAgICBlbmRSb3csXHJcbiAgICAgIHN0YXJ0Q29sLFxyXG4gICAgICBlbmRDb2xcclxuICAgICk7XHJcblxyXG4gICAgLy8gMy4gRHJhdyBsaWZ0IGRldGFpbHMgKG92ZXJsYXlpbmcgcm9vbSBmbG9vcnMgaWYgbmVlZGVkKVxyXG4gICAgdGhpcy5kcmF3TGlmdERldGFpbHMoY3R4LCBsaWZ0UG9zaXRpb24sIGN1cnJlbnRPZmZzZXRYLCBjdXJyZW50T2Zmc2V0WSk7XHJcblxyXG4gICAgLy8gNC4gRHJhdyBib29rc1xyXG4gICAgdGhpcy5kcmF3Qm9va3MoY3R4LCBib29rcywgY3VycmVudE9mZnNldFgsIGN1cnJlbnRPZmZzZXRZLCBib29rSW1hZ2UpO1xyXG5cclxuICAgIGN0eC5yZXN0b3JlKCk7IC8vIFJlc3RvcmUgY29udGV4dCBzdGF0ZVxyXG4gIH1cclxuXHJcbiAgLyoqIERyYXcgYmFzZSB0aWxlcyAqL1xyXG4gIGRyYXdCYXNlVGlsZXMoY3R4LCBtYXAsIHJvb21zLCBvZmZzZXRYLCBvZmZzZXRZLCBjb2xzLCByb3dzLCBzdGFydFJvdywgZW5kUm93LCBzdGFydENvbCwgZW5kQ29sKSB7XHJcbiAgICBjdHguc2F2ZSgpO1xyXG4gICAgY3R4LnNoYWRvd0NvbG9yID0gJ3RyYW5zcGFyZW50JztcclxuXHJcbiAgICBjb25zdCB3YWxsRWRnZUNvbG9yRGFyayA9ICcjMzgzODM4JztcclxuICAgIGNvbnN0IHdhbGxFZGdlQ29sb3JMaWdodCA9ICcjNjA2MDYwJztcclxuICAgIGNvbnN0IHdhbGxUb3BFZGdlQ29sb3IgPSAnIzc1NzU3NSc7XHJcblxyXG4gICAgZm9yIChsZXQgciA9IHN0YXJ0Um93OyByIDwgZW5kUm93OyByKyspIHtcclxuICAgICAgZm9yIChsZXQgYyA9IHN0YXJ0Q29sOyBjIDwgZW5kQ29sOyBjKyspIHtcclxuICAgICAgICBjb25zdCB0aWxlVmFsdWUgPSBtYXBbcl0/LltjXTtcclxuICAgICAgICBpZiAodGlsZVZhbHVlID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICBjb25zdCBzY3JlZW5YID0gTWF0aC5mbG9vcihjICogdGhpcy50aWxlU2l6ZSArIG9mZnNldFgpO1xyXG4gICAgICAgIGNvbnN0IHNjcmVlblkgPSBNYXRoLmZsb29yKHIgKiB0aGlzLnRpbGVTaXplICsgb2Zmc2V0WSk7XHJcbiAgICAgICAgLy8gR2V0IHRoZSBjb2xvciAtIG5vdyBjb25zaXN0ZW50IGZvciB3YWxscy9jb3JyaWRvcnMvZGVmYXVsdCBmbG9vci9saWZ0XHJcbiAgICAgICAgY29uc3QgY29sb3IgPSB0aGlzLmdldFRpbGVDb2xvcihyLCBjLCB0aWxlVmFsdWUsIHJvb21zKTtcclxuXHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yO1xyXG4gICAgICAgIGN0eC5maWxsUmVjdChzY3JlZW5YLCBzY3JlZW5ZLCB0aGlzLnRpbGVTaXplLCB0aGlzLnRpbGVTaXplKTtcclxuXHJcbiAgICAgICAgLy8gLS0tIFdhbGwgRWRnZXMgYW5kIE5vaXNlIChTdGlsbCBBcHBsaWVkIGZvciBEZXRhaWwpIC0tLVxyXG4gICAgICAgIGlmICh0aWxlVmFsdWUgPT09IFRJTEVfV0FMTCkge1xyXG4gICAgICAgICAgLy8gTm9pc2UgdGV4dHVyZSAoYXBwbGllZCBPTiBUT1Agb2YgdGhlIGNvbnNpc3RlbnQgYmFzZSBjb2xvcilcclxuICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSgwLDAsMCwwLjA2KSc7XHJcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xyXG4gICAgICAgICAgICBjdHguZmlsbFJlY3QoXHJcbiAgICAgICAgICAgICAgc2NyZWVuWCArIE1hdGgucmFuZG9tKCkgKiB0aGlzLnRpbGVTaXplLFxyXG4gICAgICAgICAgICAgIHNjcmVlblkgKyBNYXRoLnJhbmRvbSgpICogdGhpcy50aWxlU2l6ZSxcclxuICAgICAgICAgICAgICAxLFxyXG4gICAgICAgICAgICAgIDFcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBFZGdlIHJlbmRlcmluZyAoYXBwbGllZCBPTiBUT1ApXHJcbiAgICAgICAgICBjb25zdCBlZGdlU2l6ZSA9IDI7XHJcbiAgICAgICAgICBpZiAociA+IDAgJiYgbWFwW3IgLSAxXT8uW2NdICE9PSBUSUxFX1dBTEwpIHtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHdhbGxUb3BFZGdlQ29sb3I7XHJcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdChzY3JlZW5YLCBzY3JlZW5ZLCB0aGlzLnRpbGVTaXplLCBlZGdlU2l6ZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAociA8IHJvd3MgLSAxICYmIG1hcFtyICsgMV0/LltjXSAhPT0gVElMRV9XQUxMKSB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB3YWxsRWRnZUNvbG9yRGFyaztcclxuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KHNjcmVlblgsIHNjcmVlblkgKyB0aGlzLnRpbGVTaXplIC0gZWRnZVNpemUsIHRoaXMudGlsZVNpemUsIGVkZ2VTaXplKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChjID4gMCAmJiBtYXBbcl0/LltjIC0gMV0gIT09IFRJTEVfV0FMTCkge1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gd2FsbEVkZ2VDb2xvckxpZ2h0O1xyXG4gICAgICAgICAgICBjdHguZmlsbFJlY3Qoc2NyZWVuWCwgc2NyZWVuWSArIGVkZ2VTaXplLCBlZGdlU2l6ZSwgdGhpcy50aWxlU2l6ZSAtIGVkZ2VTaXplKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChjIDwgY29scyAtIDEgJiYgbWFwW3JdPy5bYyArIDFdICE9PSBUSUxFX1dBTEwpIHtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHdhbGxFZGdlQ29sb3JEYXJrO1xyXG4gICAgICAgICAgICBjdHguZmlsbFJlY3QoXHJcbiAgICAgICAgICAgICAgc2NyZWVuWCArIHRoaXMudGlsZVNpemUgLSBlZGdlU2l6ZSxcclxuICAgICAgICAgICAgICBzY3JlZW5ZICsgZWRnZVNpemUsXHJcbiAgICAgICAgICAgICAgZWRnZVNpemUsXHJcbiAgICAgICAgICAgICAgdGhpcy50aWxlU2l6ZSAtIGVkZ2VTaXplXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAvLyBDb3JuZXIgbG9naWMgKHJlbWFpbnMgdGhlIHNhbWUpXHJcbiAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHIgPiAwICYmXHJcbiAgICAgICAgICAgIGMgPiAwICYmXHJcbiAgICAgICAgICAgIG1hcFtyIC0gMV0/LltjXSAhPT0gVElMRV9XQUxMICYmXHJcbiAgICAgICAgICAgIG1hcFtyXT8uW2MgLSAxXSAhPT0gVElMRV9XQUxMICYmXHJcbiAgICAgICAgICAgIG1hcFtyIC0gMV0/LltjIC0gMV0gIT09IFRJTEVfV0FMTFxyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB3YWxsRWRnZUNvbG9yTGlnaHQ7XHJcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdChzY3JlZW5YLCBzY3JlZW5ZLCBlZGdlU2l6ZSwgZWRnZVNpemUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICByID4gMCAmJlxyXG4gICAgICAgICAgICBjIDwgY29scyAtIDEgJiZcclxuICAgICAgICAgICAgbWFwW3IgLSAxXT8uW2NdICE9PSBUSUxFX1dBTEwgJiZcclxuICAgICAgICAgICAgbWFwW3JdPy5bYyArIDFdICE9PSBUSUxFX1dBTEwgJiZcclxuICAgICAgICAgICAgbWFwW3IgLSAxXT8uW2MgKyAxXSAhPT0gVElMRV9XQUxMXHJcbiAgICAgICAgICApIHtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHdhbGxUb3BFZGdlQ29sb3I7XHJcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdChzY3JlZW5YICsgdGhpcy50aWxlU2l6ZSAtIGVkZ2VTaXplLCBzY3JlZW5ZLCBlZGdlU2l6ZSwgZWRnZVNpemUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLy8gLi4uIHBvdGVudGlhbGx5IG90aGVyIGNvcm5lcnNcclxuICAgICAgICB9IGVsc2UgaWYgKHRpbGVWYWx1ZSA9PT0gVElMRV9DT1JSSURPUikge1xyXG4gICAgICAgICAgLy8gQ29ycmlkb3IgTm9pc2UgKGFwcGxpZWQgT04gVE9QIG9mIHRoZSBjb25zaXN0ZW50IGJhc2UgY29sb3IpXHJcbiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMjU1LDI1NSwyNTUsMC4wMyknO1xyXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcclxuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KFxyXG4gICAgICAgICAgICAgIHNjcmVlblggKyBNYXRoLnJhbmRvbSgpICogdGhpcy50aWxlU2l6ZSxcclxuICAgICAgICAgICAgICBzY3JlZW5ZICsgTWF0aC5yYW5kb20oKSAqIHRoaXMudGlsZVNpemUsXHJcbiAgICAgICAgICAgICAgMSxcclxuICAgICAgICAgICAgICAxXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE5PVEU6IE5vIHNwZWNpYWwgZHJhd2luZyBuZWVkZWQgaGVyZSBmb3IgVElMRV9ST09NX0ZMT09SIG9yIFRJTEVfTElGVFxyXG4gICAgICAgIC8vIGFzIGRyYXdSb29tRGV0YWlscyBhbmQgZHJhd0xpZnREZXRhaWxzIGhhbmRsZSB0aGVpciBzcGVjaWZpY3MuXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGN0eC5yZXN0b3JlKCk7XHJcbiAgfVxyXG5cclxuICAvKiogRHJhdyBzcGVjaWZpYyByb29tIGZsb29ycyBhbmQgZGVjb3JhdGlvbnMgKi9cclxuICBkcmF3Um9vbURldGFpbHMoXHJcbiAgICBjdHgsXHJcbiAgICBtYXAsXHJcbiAgICByb29tcyxcclxuICAgIGxpZnRQb3NpdGlvbixcclxuICAgIG9mZnNldFgsXHJcbiAgICBvZmZzZXRZLFxyXG4gICAgY29scyxcclxuICAgIHJvd3MsXHJcbiAgICBzdGFydFJvdyxcclxuICAgIGVuZFJvdyxcclxuICAgIHN0YXJ0Q29sLFxyXG4gICAgZW5kQ29sXHJcbiAgKSB7XHJcbiAgICBjdHguc2F2ZSgpO1xyXG4gICAgY3R4LnNoYWRvd0NvbG9yID0gJ3RyYW5zcGFyZW50JztcclxuXHJcbiAgICBmb3IgKGNvbnN0IHJvb20gb2Ygcm9vbXMpIHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIHJvb20uY29sICsgcm9vbS53aWR0aCA8IHN0YXJ0Q29sIHx8XHJcbiAgICAgICAgcm9vbS5jb2wgPiBlbmRDb2wgfHxcclxuICAgICAgICByb29tLnJvdyArIHJvb20uaGVpZ2h0IDwgc3RhcnRSb3cgfHxcclxuICAgICAgICByb29tLnJvdyA+IGVuZFJvd1xyXG4gICAgICApXHJcbiAgICAgICAgY29udGludWU7XHJcblxyXG4gICAgICBjb25zdCByb29tU2NyZWVuWCA9IE1hdGguZmxvb3Iocm9vbS5jb2wgKiB0aGlzLnRpbGVTaXplICsgb2Zmc2V0WCk7XHJcbiAgICAgIGNvbnN0IHJvb21TY3JlZW5ZID0gTWF0aC5mbG9vcihyb29tLnJvdyAqIHRoaXMudGlsZVNpemUgKyBvZmZzZXRZKTtcclxuICAgICAgY29uc3Qgcm9vbVNjcmVlblcgPSByb29tLndpZHRoICogdGhpcy50aWxlU2l6ZTtcclxuICAgICAgY29uc3Qgcm9vbVNjcmVlbkggPSByb29tLmhlaWdodCAqIHRoaXMudGlsZVNpemU7XHJcblxyXG4gICAgICAvLyAtLS0gRGV0ZXJtaW5lIEZsb29yIENvbG9yIEJhc2VkIG9uIFJvb20gVHlwZSAoVGhpcyBsb2dpYyByZW1haW5zKSAtLS1cclxuICAgICAgbGV0IGZsb29yQ29sb3IgPSB0aGlzLmJhc2VSb29tRmxvb3JDb2xvcjsgLy8gU3RhcnQgd2l0aCBkZWZhdWx0XHJcbiAgICAgIC8vIFVzZSBhIHNlZWQgdGhhdCBjaGFuZ2VzIHBlciByb29tIGJ1dCBpcyBjb25zaXN0ZW50IGZvciB0aGF0IHJvb21cclxuICAgICAgLy8gQWRkZWQgZmxvb3JOdW1iZXIgZGVwZW5kZW5jeSBpZiBhdmFpbGFibGUgaW4gYHRoaXNgLCBvdGhlcndpc2UgdXNlIHJvb20uaWRcclxuICAgICAgY29uc3QgZmxvb3JOdW0gPSB0eXBlb2YgdGhpcy5mbG9vck51bWJlciA9PT0gJ251bWJlcicgPyB0aGlzLmZsb29yTnVtYmVyIDogMDtcclxuICAgICAgbGV0IHJvb21TZWVkID0gc2ltcGxlSGFzaChyb29tLmlkKSArIGZsb29yTnVtICogMTAwOyAvLyBVc2UgaGFzaCBvZiBJRCBmb3IgbW9yZSB2YXJpYXRpb25cclxuXHJcbiAgICAgIHN3aXRjaCAocm9vbS50eXBlKSB7XHJcbiAgICAgICAgY2FzZSAnY2xhc3Nyb29tJzpcclxuICAgICAgICAgIGZsb29yQ29sb3IgPSBhZGp1c3RDb2xvckJyaWdodG5lc3MoJyNhMGM4ZTAnLCAwLjkgKyAoc2ltcGxlSGFzaChyb29tU2VlZCkgJSAxMSkgLyAxMDApO1xyXG4gICAgICAgICAgYnJlYWs7IC8vIEJsdWlzaFxyXG4gICAgICAgIGNhc2UgJ29mZmljZSc6XHJcbiAgICAgICAgICBmbG9vckNvbG9yID0gYWRqdXN0Q29sb3JCcmlnaHRuZXNzKFxyXG4gICAgICAgICAgICAnI2YwZThjMCcsXHJcbiAgICAgICAgICAgIDAuOSArIChzaW1wbGVIYXNoKHJvb21TZWVkICsgMSkgJSAxMSkgLyAxMDBcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBicmVhazsgLy8gQmVpZ2VcclxuICAgICAgICBjYXNlICdsaWJyYXJ5JzpcclxuICAgICAgICAgIGZsb29yQ29sb3IgPSBhZGp1c3RDb2xvckJyaWdodG5lc3MoXHJcbiAgICAgICAgICAgICcjZDhjMGE4JyxcclxuICAgICAgICAgICAgMC45ICsgKHNpbXBsZUhhc2gocm9vbVNlZWQgKyAyKSAlIDExKSAvIDEwMFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGJyZWFrOyAvLyBXb29kZW5cclxuICAgICAgICBjYXNlICdneW0nOlxyXG4gICAgICAgICAgZmxvb3JDb2xvciA9IGFkanVzdENvbG9yQnJpZ2h0bmVzcyhcclxuICAgICAgICAgICAgJyNiMGQwYjAnLFxyXG4gICAgICAgICAgICAwLjkgKyAoc2ltcGxlSGFzaChyb29tU2VlZCArIDMpICUgMTEpIC8gMTAwXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgYnJlYWs7IC8vIEdyZWVuaXNoXHJcbiAgICAgICAgY2FzZSAnbGFiJzpcclxuICAgICAgICAgIGZsb29yQ29sb3IgPSBhZGp1c3RDb2xvckJyaWdodG5lc3MoXHJcbiAgICAgICAgICAgICcjZTBlMGZmJyxcclxuICAgICAgICAgICAgMC45ICsgKHNpbXBsZUhhc2gocm9vbVNlZWQgKyA0KSAlIDExKSAvIDEwMFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGJyZWFrOyAvLyBMaWdodCBibHVlLXB1cnBsZVxyXG4gICAgICAgIGNhc2UgJ3N0b3JhZ2UnOlxyXG4gICAgICAgICAgZmxvb3JDb2xvciA9IGFkanVzdENvbG9yQnJpZ2h0bmVzcyhcclxuICAgICAgICAgICAgJyNiMGEwOTAnLFxyXG4gICAgICAgICAgICAwLjkgKyAoc2ltcGxlSGFzaChyb29tU2VlZCArIDUpICUgMTEpIC8gMTAwXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgYnJlYWs7IC8vIEdyYXktYnJvd25cclxuICAgICAgICBjYXNlICd1dGlsaXR5JzpcclxuICAgICAgICAgIGZsb29yQ29sb3IgPSBhZGp1c3RDb2xvckJyaWdodG5lc3MoXHJcbiAgICAgICAgICAgICcjYjBiMGIwJyxcclxuICAgICAgICAgICAgMC45ICsgKHNpbXBsZUhhc2gocm9vbVNlZWQgKyA2KSAlIDExKSAvIDEwMFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGJyZWFrOyAvLyBHcmF5IGNvbmNyZXRlXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIC0tLSBEcmF3IFJvb20gRmxvb3IgKFRpbGUgYnkgVGlsZSB3aXRoaW4gVmlzaWJsZSBBcmVhKSAtLS1cclxuICAgICAgZm9yIChcclxuICAgICAgICBsZXQgciA9IE1hdGgubWF4KHJvb20ucm93LCBzdGFydFJvdyk7XHJcbiAgICAgICAgciA8IE1hdGgubWluKHJvb20ucm93ICsgcm9vbS5oZWlnaHQsIGVuZFJvdyk7XHJcbiAgICAgICAgcisrXHJcbiAgICAgICkge1xyXG4gICAgICAgIGZvciAoXHJcbiAgICAgICAgICBsZXQgYyA9IE1hdGgubWF4KHJvb20uY29sLCBzdGFydENvbCk7XHJcbiAgICAgICAgICBjIDwgTWF0aC5taW4ocm9vbS5jb2wgKyByb29tLndpZHRoLCBlbmRDb2wpO1xyXG4gICAgICAgICAgYysrXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICBjb25zdCB0aWxlVmFsdWUgPSBtYXBbcl0/LltjXTtcclxuICAgICAgICAgIC8vIE9ubHkgZHJhdyBpZiBpdCdzIGFjdHVhbGx5IGEgVElMRV9ST09NX0ZMT09SXHJcbiAgICAgICAgICBpZiAodGlsZVZhbHVlID09PSBUSUxFX1JPT01fRkxPT1IpIHtcclxuICAgICAgICAgICAgY29uc3Qgc2NyZWVuWCA9IE1hdGguZmxvb3IoYyAqIHRoaXMudGlsZVNpemUgKyBvZmZzZXRYKTtcclxuICAgICAgICAgICAgY29uc3Qgc2NyZWVuWSA9IE1hdGguZmxvb3IociAqIHRoaXMudGlsZVNpemUgKyBvZmZzZXRZKTtcclxuXHJcbiAgICAgICAgICAgIC8vIC0tLSBTdWJ0bGUgUGVyLVRpbGUgVmFyaWF0aW9uIFdJVEhJTiBSb29tIEZsb29yIChLZXB0IGZvciB0ZXh0dXJlKSAtLS1cclxuICAgICAgICAgICAgY29uc3QgdGlsZUhhc2ggPSBzaW1wbGVIYXNoKHIgKiA1MDAwICsgYyAqIDMgKyByb29tU2VlZCk7IC8vIEluY2x1ZGUgcm9vbVNlZWRcclxuICAgICAgICAgICAgY29uc3QgdmFyaWF0aW9uID0gKCh0aWxlSGFzaCAlIDExKSAtIDUpIC8gMTAwOyAvLyBWYXJpYXRpb24gLTAuMDUgdG8gKzAuMDVcclxuICAgICAgICAgICAgY29uc3QgYnJpZ2h0bmVzc0ZhY3RvciA9IDAuOTggKyB2YXJpYXRpb247XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBhZGp1c3RDb2xvckJyaWdodG5lc3MoZmxvb3JDb2xvciwgYnJpZ2h0bmVzc0ZhY3Rvcik7XHJcbiAgICAgICAgICAgIC8vIC0tLSBFbmQgUGVyLVRpbGUgVmFyaWF0aW9uIC0tLVxyXG5cclxuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KHNjcmVlblgsIHNjcmVlblksIHRoaXMudGlsZVNpemUsIHRoaXMudGlsZVNpemUpO1xyXG5cclxuICAgICAgICAgICAgLy8gT3B0aW9uYWwgZmxvb3IgdGV4dHVyZSAocmVtYWlucyB0aGUgc2FtZSlcclxuICAgICAgICAgICAgaWYgKHJvb20udHlwZSA9PT0gJ2xhYicpIHtcclxuICAgICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAncmdiYSgwLDAsMCwwLjA4KSc7XHJcbiAgICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDE7XHJcbiAgICAgICAgICAgICAgY3R4LnN0cm9rZVJlY3Qoc2NyZWVuWCArIDAuNSwgc2NyZWVuWSArIDAuNSwgdGhpcy50aWxlU2l6ZSAtIDEsIHRoaXMudGlsZVNpemUgLSAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gLS0tIERyYXcgRGVjb3JhdGlvbnMgKHJlbWFpbnMgdGhlIHNhbWUpIC0tLVxyXG4gICAgICB0aGlzLmRyYXdSb29tRGVjb3JhdGlvbnMoY3R4LCByb29tLCByb29tU2NyZWVuWCwgcm9vbVNjcmVlblksIHJvb21TY3JlZW5XLCByb29tU2NyZWVuSCk7XHJcbiAgICB9XHJcbiAgICBjdHgucmVzdG9yZSgpO1xyXG4gIH1cclxuXHJcbiAgLy8gLS0tIGRyYXdMaWZ0RGV0YWlscywgZHJhd1Jvb21EZWNvcmF0aW9ucywgZHJhd0Jvb2tzIHJlbWFpbiB1bmNoYW5nZWQgLS0tXHJcbiAgLy8gLi4uIChrZWVwIHRoZSBleGlzdGluZyBjb2RlIGZvciB0aGVzZSBtZXRob2RzKSAuLi5cclxuICAvKiogTmFyeXN1aiBkZXRhbGUgd2luZHkgKHByenljaXNrLCBrb250dXIpICovXHJcbiAgZHJhd0xpZnREZXRhaWxzKGN0eCwgbGlmdFBvc2l0aW9uLCBvZmZzZXRYLCBvZmZzZXRZKSB7XHJcbiAgICBpZiAoIWxpZnRQb3NpdGlvbikgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IHNjcmVlblggPSBNYXRoLmZsb29yKGxpZnRQb3NpdGlvbi50aWxlWCAqIHRoaXMudGlsZVNpemUgKyBvZmZzZXRYKTtcclxuICAgIGNvbnN0IHNjcmVlblkgPSBNYXRoLmZsb29yKGxpZnRQb3NpdGlvbi50aWxlWSAqIHRoaXMudGlsZVNpemUgKyBvZmZzZXRZKTtcclxuXHJcbiAgICAvLyBTcHJhd2TFuiwgY3p5IHdpbmRhIGplc3Qgd2lkb2N6bmEgcHJ6ZWQgcnlzb3dhbmllbSBkZXRhbGlcclxuICAgIGlmIChcclxuICAgICAgc2NyZWVuWCArIHRoaXMudGlsZVNpemUgPCAwIHx8XHJcbiAgICAgIHNjcmVlblggPiBjdHguY2FudmFzLndpZHRoIHx8XHJcbiAgICAgIHNjcmVlblkgKyB0aGlzLnRpbGVTaXplIDwgMCB8fFxyXG4gICAgICBzY3JlZW5ZID4gY3R4LmNhbnZhcy5oZWlnaHRcclxuICAgICkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY3R4LnNhdmUoKTtcclxuICAgIGN0eC5zaGFkb3dDb2xvciA9ICd0cmFuc3BhcmVudCc7IC8vIEJyYWsgY2llbmlhIGRsYSBkZXRhbGkgd2luZHlcclxuXHJcbiAgICAvLyBXeXJhxbpuaWVqc3phIHJhbWthIHdpbmR5XHJcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSAnI2QwZDBkMCc7IC8vIEphc25hIHJhbWthXHJcbiAgICBjdHgubGluZVdpZHRoID0gMTtcclxuICAgIGN0eC5zdHJva2VSZWN0KHNjcmVlblggKyAwLjUsIHNjcmVlblkgKyAwLjUsIHRoaXMudGlsZVNpemUgLSAxLCB0aGlzLnRpbGVTaXplIC0gMSk7XHJcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSAnIzQwNDA0MCc7IC8vIENpZW1ueSB3ZXduxJl0cnpueSBjaWXFhFxyXG4gICAgY3R4LnN0cm9rZVJlY3Qoc2NyZWVuWCArIDEuNSwgc2NyZWVuWSArIDEuNSwgdGhpcy50aWxlU2l6ZSAtIDMsIHRoaXMudGlsZVNpemUgLSAzKTtcclxuXHJcbiAgICAvLyBVbGVwc3pvbnkgcHJ6eWNpc2tcclxuICAgIGNvbnN0IGJ1dHRvblJhZGl1cyA9IHRoaXMudGlsZVNpemUgKiAwLjE1OyAvLyBUcm9jaMSZIHdpxJlrc3p5XHJcbiAgICBjb25zdCBidXR0b25YID0gc2NyZWVuWCArIHRoaXMudGlsZVNpemUgKiAwLjg7XHJcbiAgICBjb25zdCBidXR0b25ZID0gc2NyZWVuWSArIHRoaXMudGlsZVNpemUgKiAwLjU7XHJcblxyXG4gICAgLy8gUG9kc3Rhd2EgcHJ6eWNpc2t1IChjaWVtbmllanN6YSlcclxuICAgIGN0eC5maWxsU3R5bGUgPSAnIzQ0NCc7XHJcbiAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICBjdHguYXJjKGJ1dHRvblgsIGJ1dHRvblksIGJ1dHRvblJhZGl1cywgMCwgTWF0aC5QSSAqIDIpO1xyXG4gICAgY3R4LmZpbGwoKTtcclxuXHJcbiAgICAvLyBTYW0gcHJ6eWNpc2sgKGN6ZXJ3b255KVxyXG4gICAgY3R4LmZpbGxTdHlsZSA9ICcjZmY0NDQ0JztcclxuICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgIGN0eC5hcmMoYnV0dG9uWCwgYnV0dG9uWSwgYnV0dG9uUmFkaXVzICogMC44LCAwLCBNYXRoLlBJICogMik7XHJcbiAgICBjdHguZmlsbCgpO1xyXG5cclxuICAgIC8vIE9kYmxhc2sgbmEgcHJ6eWNpc2t1XHJcbiAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC41KSc7XHJcbiAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICBjdHguYXJjKFxyXG4gICAgICBidXR0b25YIC0gYnV0dG9uUmFkaXVzICogMC4yLFxyXG4gICAgICBidXR0b25ZIC0gYnV0dG9uUmFkaXVzICogMC4yLFxyXG4gICAgICBidXR0b25SYWRpdXMgKiAwLjMsXHJcbiAgICAgIDAsXHJcbiAgICAgIE1hdGguUEkgKiAyXHJcbiAgICApO1xyXG4gICAgY3R4LmZpbGwoKTtcclxuXHJcbiAgICBjdHgucmVzdG9yZSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqIE5hcnlzdWogZGVrb3JhY2plIGRsYSBrb25rcmV0bmVnbyBwb2tvanUgKi9cclxuICBkcmF3Um9vbURlY29yYXRpb25zKGN0eCwgcm9vbSwgeCwgeSwgdywgaCkge1xyXG4gICAgLy8geCwgeSB0byBsZXd5IGfDs3JueSByw7NnIHBva29qdSBuYSBla3JhbmllXHJcbiAgICAvLyB3LCBoIHRvIHN6ZXJva2/Fm8SHIGkgd3lzb2tvxZvEhyBwb2tvanUgbmEgZWtyYW5pZVxyXG4gICAgY29uc3QgdHMgPSB0aGlzLnRpbGVTaXplO1xyXG4gICAgY29uc3QgbWFyZ2luID0gdHMgKiAwLjI7IC8vIE1uaWVqc3p5IG1hcmdpbmVzXHJcbiAgICBjb25zdCBvYmpNYXJnaW4gPSB0cyAqIDAuMTsgLy8gT2RzdMSZcCBtacSZZHp5IG9iaWVrdGFtaVxyXG4gICAgY3R4LmxpbmVXaWR0aCA9IDE7XHJcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSAnIzQ0NCc7IC8vIENpZW1uaWVqc3phIGRvbXnFm2xuYSBvYnfDs2RrYVxyXG5cclxuICAgIC8vID09PSBGVU5LQ0pFIFBPTU9DTklDWkUgRE8gUllTT1dBTklBID09PVxyXG4gICAgY29uc3QgZHJhd1JlY3QgPSAocngsIHJ5LCBydywgcmgsIGNvbG9yLCBvdXRsaW5lID0gdHJ1ZSkgPT4ge1xyXG4gICAgICBjdHguZmlsbFN0eWxlID0gY29sb3I7XHJcbiAgICAgIGNvbnN0IHNjcmVlblggPSBNYXRoLmZsb29yKHggKyByeCk7XHJcbiAgICAgIGNvbnN0IHNjcmVlblkgPSBNYXRoLmZsb29yKHkgKyByeSk7XHJcbiAgICAgIGNvbnN0IHNjcmVlblcgPSBNYXRoLmZsb29yKHJ3KTtcclxuICAgICAgY29uc3Qgc2NyZWVuSCA9IE1hdGguZmxvb3IocmgpO1xyXG4gICAgICBjdHguZmlsbFJlY3Qoc2NyZWVuWCwgc2NyZWVuWSwgc2NyZWVuVywgc2NyZWVuSCk7XHJcbiAgICAgIGlmIChvdXRsaW5lKSB7XHJcbiAgICAgICAgY3R4LnN0cm9rZVJlY3Qoc2NyZWVuWCArIDAuNSwgc2NyZWVuWSArIDAuNSwgc2NyZWVuVyAtIDEsIHNjcmVlbkggLSAxKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IGRyYXdDaXJjbGUgPSAoY3gsIGN5LCByYWRpdXMsIGNvbG9yLCBvdXRsaW5lID0gdHJ1ZSkgPT4ge1xyXG4gICAgICBjdHguZmlsbFN0eWxlID0gY29sb3I7XHJcbiAgICAgIGNvbnN0IHNjcmVlblggPSBNYXRoLmZsb29yKHggKyBjeCk7XHJcbiAgICAgIGNvbnN0IHNjcmVlblkgPSBNYXRoLmZsb29yKHkgKyBjeSk7XHJcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgY3R4LmFyYyhzY3JlZW5YLCBzY3JlZW5ZLCBNYXRoLmZsb29yKHJhZGl1cyksIDAsIE1hdGguUEkgKiAyKTtcclxuICAgICAgY3R4LmZpbGwoKTtcclxuICAgICAgaWYgKG91dGxpbmUpIHtcclxuICAgICAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICBzd2l0Y2ggKHJvb20udHlwZSkge1xyXG4gICAgICBjYXNlICdjbGFzc3Jvb20nOiAvLyBTYWxhIGxla2N5am5hXHJcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJyM1ZDQwMzcnOyAvLyBCcsSFem93YSBvYnfDs2RrYSBkbGEgbWVibGlcclxuICAgICAgICBjb25zdCBkZXNrVyA9IHRzICogMC42LFxyXG4gICAgICAgICAgZGVza0ggPSB0cyAqIDAuNCxcclxuICAgICAgICAgIGNoYWlySCA9IHRzICogMC4yNTtcclxuICAgICAgICBjb25zdCBzcGFjZVggPSB0cyAqIDEuMCxcclxuICAgICAgICAgIHNwYWNlWSA9IHRzICogMC45O1xyXG4gICAgICAgIC8vIFRhYmxpY2EgbmEgZ8Ozcm5laiDFm2NpYW5pZVxyXG4gICAgICAgIGRyYXdSZWN0KHcgKiAwLjI1LCBtYXJnaW4sIHcgKiAwLjUsIHRzICogMC4yLCAnIzMzMycsIHRydWUpO1xyXG4gICAgICAgIGRyYXdSZWN0KHcgKiAwLjI1ICsgMiwgbWFyZ2luICsgMiwgdyAqIDAuNSAtIDQsIHRzICogMC4yIC0gNCwgJyM0Q0FGNTAnLCBmYWxzZSk7IC8vIFppZWxvbmEgcG93aWVyemNobmlhXHJcblxyXG4gICAgICAgIC8vIMWBYXdraSBpIGtyemVzxYJhIHcgcnrEmWRhY2hcclxuICAgICAgICBmb3IgKGxldCByID0gMDsgOyByKyspIHtcclxuICAgICAgICAgIGNvbnN0IHJvd1kgPSBtYXJnaW4gKyB0cyAqIDAuNSArIHIgKiBzcGFjZVk7XHJcbiAgICAgICAgICBpZiAocm93WSArIGRlc2tIICsgY2hhaXJIID4gaCAtIG1hcmdpbikgYnJlYWs7IC8vIFNwcmF3ZHplbmllIGN6eSB6bWllxZtjaSBzacSZIHJ6xIVkXHJcbiAgICAgICAgICBmb3IgKGxldCBjID0gMDsgOyBjKyspIHtcclxuICAgICAgICAgICAgY29uc3QgY29sWCA9IG1hcmdpbiArIGMgKiBzcGFjZVg7XHJcbiAgICAgICAgICAgIGlmIChjb2xYICsgZGVza1cgPiB3IC0gbWFyZ2luKSBicmVhazsgLy8gU3ByYXdkemVuaWUgY3p5IHptaWXFm2NpIHNpxJkga29sdW1uYVxyXG4gICAgICAgICAgICAvLyDFgWF3a2FcclxuICAgICAgICAgICAgZHJhd1JlY3QoY29sWCwgcm93WSwgZGVza1csIGRlc2tILCAnIzhCNDUxMycpO1xyXG4gICAgICAgICAgICAvLyBLcnplc8WCbyBwb25pxbxlalxyXG4gICAgICAgICAgICBkcmF3UmVjdChjb2xYICsgZGVza1cgKiAwLjEsIHJvd1kgKyBkZXNrSCArIG9iak1hcmdpbiwgZGVza1cgKiAwLjgsIGNoYWlySCwgJyM2YTRhM2EnKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdvZmZpY2UnOiAvLyBCaXVyb1xyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjNWQ0MDM3JztcclxuICAgICAgICAvLyBCaXVya29cclxuICAgICAgICBjb25zdCB0YWJsZVcgPSBNYXRoLm1pbih3ICogMC42LCB0cyAqIDIuNSk7XHJcbiAgICAgICAgY29uc3QgdGFibGVIID0gTWF0aC5taW4oaCAqIDAuNCwgdHMgKiAxLjIpO1xyXG4gICAgICAgIGRyYXdSZWN0KG1hcmdpbiwgbWFyZ2luLCB0YWJsZVcsIHRhYmxlSCwgJyNhMDUyMmQnKTtcclxuICAgICAgICAvLyBLcnplc8WCbyBiaXVyb3dlXHJcbiAgICAgICAgZHJhd1JlY3QobWFyZ2luICsgdGFibGVXICsgb2JqTWFyZ2luLCBtYXJnaW4gKyB0YWJsZUggKiAwLjEsIHRzICogMC42LCB0cyAqIDAuNiwgJyM0NDQnKTtcclxuICAgICAgICAvLyBTemFmYSBuYSBha3RhXHJcbiAgICAgICAgY29uc3QgY2FiaW5ldFcgPSB0cyAqIDAuODtcclxuICAgICAgICBkcmF3UmVjdCh3IC0gbWFyZ2luIC0gY2FiaW5ldFcsIG1hcmdpbiwgY2FiaW5ldFcsIGggLSBtYXJnaW4gKiAyLCAnIzZCNEY0MScpO1xyXG4gICAgICAgIC8vIEtvbXB1dGVyIG5hIGJpdXJrdSAoc3ltYm9saWN6bmllKVxyXG4gICAgICAgIGRyYXdSZWN0KG1hcmdpbiArIG9iak1hcmdpbiwgbWFyZ2luICsgb2JqTWFyZ2luLCB0cyAqIDAuNSwgdHMgKiAwLjQsICcjMzMzJyk7IC8vIE1vbml0b3JcclxuICAgICAgICBkcmF3UmVjdChcclxuICAgICAgICAgIG1hcmdpbiArIG9iak1hcmdpbiArIHRzICogMC4xLFxyXG4gICAgICAgICAgbWFyZ2luICsgb2JqTWFyZ2luICsgdHMgKiAwLjQgKyAyLFxyXG4gICAgICAgICAgdHMgKiAwLjMsXHJcbiAgICAgICAgICB0cyAqIDAuMSxcclxuICAgICAgICAgICcjNTU1J1xyXG4gICAgICAgICk7IC8vIEtsYXdpYXR1cmFcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ2xpYnJhcnknOiAvLyBCaWJsaW90ZWthXHJcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJyM0MDJhMTAnOyAvLyBDaWVtbmllanN6YSBvYnfDs2RrYSBkbGEgcmVnYcWCw7N3XHJcbiAgICAgICAgY29uc3Qgc2hlbGZXID0gdHMgKiAwLjY7XHJcbiAgICAgICAgY29uc3Qgc2hlbGZTcGFjaW5nID0gdHMgKiAxLjU7XHJcbiAgICAgICAgLy8gUmVnYcWCeSB3IHBpb25pZVxyXG4gICAgICAgIGZvciAobGV0IHN4ID0gbWFyZ2luOyBzeCA8IHcgLSBtYXJnaW4gLSBzaGVsZlc7IHN4ICs9IHNoZWxmU3BhY2luZykge1xyXG4gICAgICAgICAgZHJhd1JlY3Qoc3gsIG1hcmdpbiwgc2hlbGZXLCBoIC0gbWFyZ2luICogMiwgJyM2NTQzMjEnKTtcclxuICAgICAgICAgIC8vIExpbmllIHDDs8WCZWtcclxuICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICdyZ2JhKDAsMCwwLDAuMyknO1xyXG4gICAgICAgICAgZm9yIChsZXQgc2hlbGZZID0gbWFyZ2luICsgdHMgKiAwLjU7IHNoZWxmWSA8IGggLSBtYXJnaW47IHNoZWxmWSArPSB0cyAqIDAuNykge1xyXG4gICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgIGN0eC5tb3ZlVG8oeCArIHN4LCB5ICsgc2hlbGZZKTtcclxuICAgICAgICAgICAgY3R4LmxpbmVUbyh4ICsgc3ggKyBzaGVsZlcsIHkgKyBzaGVsZlkpO1xyXG4gICAgICAgICAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnIzQwMmExMCc7IC8vIFByenl3csOzxIcgZ8WCw7N3bnkga29sb3Igb2J3w7Nka2lcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU3TDs8WCIGRvIGN6eXRhbmlhIChqZcWbbGkgamVzdCBtaWVqc2NlKVxyXG4gICAgICAgIGlmICh3ID4gc2hlbGZTcGFjaW5nICogMS41KSB7XHJcbiAgICAgICAgICBjb25zdCB0YWJsZUxpYlggPSBzaGVsZlcgKyBtYXJnaW4gKyAodyAtIHNoZWxmVyAqIDIgLSBtYXJnaW4gKiAyIC0gdHMgKiAxLjUpIC8gMjsgLy8gV3nFm3JvZGt1aiBzdMOzxYIgbWnEmWR6eSByZWdhxYJhbWlcclxuICAgICAgICAgIGlmICh0YWJsZUxpYlggPiBzaGVsZlcgKyBtYXJnaW4pIHtcclxuICAgICAgICAgICAgLy8gVXBld25paiBzacSZLCDFvGUgamVzdCBtaWVqc2NlXHJcbiAgICAgICAgICAgIGRyYXdSZWN0KHRhYmxlTGliWCwgaCAqIDAuMywgdHMgKiAxLjUsIGggKiAwLjQsICcjOTY2RjMzJyk7XHJcbiAgICAgICAgICAgIC8vIEtyemVzxYJhIHByenkgc3RvbGVcclxuICAgICAgICAgICAgZHJhd1JlY3QodGFibGVMaWJYICsgdHMgKiAwLjIsIGggKiAwLjMgLSB0cyAqIDAuMywgdHMgKiAwLjUsIHRzICogMC4yNSwgJyM2YTRhM2EnKTtcclxuICAgICAgICAgICAgZHJhd1JlY3QoXHJcbiAgICAgICAgICAgICAgdGFibGVMaWJYICsgdHMgKiAwLjIsXHJcbiAgICAgICAgICAgICAgaCAqIDAuMyArIGggKiAwLjQgKyBvYmpNYXJnaW4sXHJcbiAgICAgICAgICAgICAgdHMgKiAwLjUsXHJcbiAgICAgICAgICAgICAgdHMgKiAwLjI1LFxyXG4gICAgICAgICAgICAgICcjNmE0YTNhJ1xyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ2d5bSc6IC8vIFNpxYJvd25pYVxyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjNTU1JztcclxuICAgICAgICAvLyBNYXR5IGRvIMSHd2ljemXFhFxyXG4gICAgICAgIGRyYXdSZWN0KG1hcmdpbiwgbWFyZ2luLCB3ICogMC40LCBoICogMC4zLCAnIzc3ODg5OScpO1xyXG4gICAgICAgIGRyYXdSZWN0KHcgLSBtYXJnaW4gLSB3ICogMC4zLCBoIC0gbWFyZ2luIC0gaCAqIDAuNCwgdyAqIDAuMywgaCAqIDAuNCwgJyM3Nzg4OTknKTtcclxuICAgICAgICAvLyBCaWXFvG5pYSAoc3ltYm9saWN6bmllKVxyXG4gICAgICAgIGRyYXdSZWN0KHcgKiAwLjYsIG1hcmdpbiwgdHMgKiAwLjgsIHRzICogMS44LCAnIzMzMycpO1xyXG4gICAgICAgIGRyYXdSZWN0KHcgKiAwLjYgKyB0cyAqIDAuMSwgbWFyZ2luICsgdHMgKiAwLjEsIHRzICogMC42LCB0cyAqIDEuNiwgJyM1NTUnLCBmYWxzZSk7XHJcbiAgICAgICAgLy8gxYFhd2VjemthXHJcbiAgICAgICAgZHJhd1JlY3QobWFyZ2luLCBoICogMC41LCB0cyAqIDEuNSwgdHMgKiAwLjQsICcjOEI0NTEzJyk7XHJcbiAgICAgICAgLy8gU3RvamFrIHogY2nEmcW8YXJrYW1pXHJcbiAgICAgICAgZHJhd1JlY3QodyAtIG1hcmdpbiAtIHRzICogMC41LCBtYXJnaW4sIHRzICogMC41LCB0cyAqIDEuNSwgJyM0NDQnKTtcclxuICAgICAgICBkcmF3Q2lyY2xlKHcgLSBtYXJnaW4gLSB0cyAqIDAuMjUsIG1hcmdpbiArIHRzICogMC4zLCB0cyAqIDAuMTUsICcjNjY2Jyk7XHJcbiAgICAgICAgZHJhd0NpcmNsZSh3IC0gbWFyZ2luIC0gdHMgKiAwLjI1LCBtYXJnaW4gKyB0cyAqIDAuNywgdHMgKiAwLjE1LCAnIzY2NicpO1xyXG4gICAgICAgIGRyYXdDaXJjbGUodyAtIG1hcmdpbiAtIHRzICogMC4yNSwgbWFyZ2luICsgdHMgKiAxLjEsIHRzICogMC4xNSwgJyM2NjYnKTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ2xhYic6IC8vIExhYm9yYXRvcml1bVxyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjNjY4JztcclxuICAgICAgICAvLyBTdG/FgnkgbGFib3JhdG9yeWpuZSAoZMWCdWdpZSlcclxuICAgICAgICBjb25zdCBsYWJUYWJsZUggPSB0cyAqIDAuODtcclxuICAgICAgICBkcmF3UmVjdChtYXJnaW4sIG1hcmdpbiwgdyAtIG1hcmdpbiAqIDIsIGxhYlRhYmxlSCwgJyNkMGQwZDgnKTsgLy8gSmFzbm9zemFyeSBzdMOzxYJcclxuICAgICAgICBkcmF3UmVjdChtYXJnaW4sIGggLSBtYXJnaW4gLSBsYWJUYWJsZUgsIHcgLSBtYXJnaW4gKiAyLCBsYWJUYWJsZUgsICcjZDBkMGQ4Jyk7XHJcbiAgICAgICAgLy8gU3ByesSZdCBuYSBzdG/FgmFjaFxyXG4gICAgICAgIGRyYXdSZWN0KG1hcmdpbiArIHRzICogMC4yLCBtYXJnaW4gKyB0cyAqIDAuMSwgdHMgKiAwLjUsIHRzICogMC41LCAnIzRhOTBlMicpOyAvLyBDb8WbIG5pZWJpZXNraWVnb1xyXG4gICAgICAgIGRyYXdSZWN0KG1hcmdpbiArIHRzICogMS4wLCBtYXJnaW4gKyB0cyAqIDAuMSwgdHMgKiAwLjMsIHRzICogMC42LCAnI2Y1YTYyMycpOyAvLyBDb8WbIHBvbWFyYcWEY3pvd2Vnb1xyXG4gICAgICAgIGRyYXdDaXJjbGUodyAtIG1hcmdpbiAqIDIgLSB0cyAqIDAuNCwgbWFyZ2luICsgbGFiVGFibGVIICogMC41LCB0cyAqIDAuMiwgJyNlMDQwNDAnLCB0cnVlKTsgLy8gQ2/FmyBjemVyd29uZWdvIG9rcsSFZ8WCZWdvXHJcbiAgICAgICAgLy8gU3phZmthIHogb2RjenlubmlrYW1pXHJcbiAgICAgICAgZHJhd1JlY3QoXHJcbiAgICAgICAgICB3ICogMC40LFxyXG4gICAgICAgICAgbWFyZ2luICsgbGFiVGFibGVIICsgb2JqTWFyZ2luLFxyXG4gICAgICAgICAgdHMsXHJcbiAgICAgICAgICBoIC0gbWFyZ2luICogMiAtIGxhYlRhYmxlSCAqIDIgLSBvYmpNYXJnaW4gKiAyLFxyXG4gICAgICAgICAgJyNhMGEwYjAnXHJcbiAgICAgICAgKTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ3N0b3JhZ2UnOiAvLyBNYWdhenluXHJcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJyM0ZDQwMzAnO1xyXG4gICAgICAgIC8vIFDDs8WCa2kvcmVnYcWCeSBtZXRhbG93ZVxyXG4gICAgICAgIGNvbnN0IG1ldGFsU2hlbGZXID0gdyAtIG1hcmdpbiAqIDI7XHJcbiAgICAgICAgY29uc3QgbWV0YWxTaGVsZkggPSB0cyAqIDAuNTtcclxuICAgICAgICBkcmF3UmVjdChtYXJnaW4sIG1hcmdpbiwgbWV0YWxTaGVsZlcsIG1ldGFsU2hlbGZILCAnIzllOWU5ZScpO1xyXG4gICAgICAgIGRyYXdSZWN0KG1hcmdpbiwgaCAtIG1hcmdpbiAtIG1ldGFsU2hlbGZILCBtZXRhbFNoZWxmVywgbWV0YWxTaGVsZkgsICcjOWU5ZTllJyk7XHJcbiAgICAgICAgLy8gUHVkxYJhXHJcbiAgICAgICAgY29uc3QgYm94U2l6ZSA9IHRzICogMC42O1xyXG4gICAgICAgIGRyYXdSZWN0KG1hcmdpbiArIHRzICogMC4yLCBtYXJnaW4gKyBtZXRhbFNoZWxmSCArIG9iak1hcmdpbiwgYm94U2l6ZSwgYm94U2l6ZSwgJyNiZjhmNmYnKTtcclxuICAgICAgICBkcmF3UmVjdChtYXJnaW4gKyB0cyAqIDEuMCwgbWFyZ2luICsgbWV0YWxTaGVsZkggKyBvYmpNYXJnaW4sIGJveFNpemUsIGJveFNpemUsICcjYmY4ZjZmJyk7XHJcbiAgICAgICAgZHJhd1JlY3QoXHJcbiAgICAgICAgICB3IC0gbWFyZ2luIC0gYm94U2l6ZSAqIDEuNSxcclxuICAgICAgICAgIG1hcmdpbiArIG1ldGFsU2hlbGZIICsgb2JqTWFyZ2luICogMyxcclxuICAgICAgICAgIGJveFNpemUgKiAxLjIsXHJcbiAgICAgICAgICBib3hTaXplICogMC44LFxyXG4gICAgICAgICAgJyNiZjhmNmYnXHJcbiAgICAgICAgKTtcclxuICAgICAgICAvLyBTdGFyZSBiaXVya28gdyByb2d1XHJcbiAgICAgICAgZHJhd1JlY3QodyAtIG1hcmdpbiAtIHRzLCBoIC0gbWFyZ2luIC0gdHMsIHRzICogMC44LCB0cyAqIDAuOCwgJyM2YTRhM2EnKTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ3V0aWxpdHknOiAvLyBQb21pZXN6Y3plbmllIGdvc3BvZGFyY3plXHJcbiAgICAgIGRlZmF1bHQ6IC8vIERvbXnFm2xuZSwgamXFm2xpIHR5cCBuaWV6bmFueVxyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjNWQ0MDM3JztcclxuICAgICAgICAvLyBTa3J6eW5raS91cnrEhWR6ZW5pYVxyXG4gICAgICAgIGRyYXdSZWN0KHcgKiAwLjEsIGggKiAwLjE1LCB3ICogMC4zLCBoICogMC4yNSwgJyNBMDUyMkQnKTtcclxuICAgICAgICBkcmF3UmVjdCh3ICogMC42LCBoICogMC41LCB3ICogMC4zLCBoICogMC40LCAnI0EwNTIyRCcpO1xyXG4gICAgICAgIC8vIFN6YWZhIG1ldGFsb3dhXHJcbiAgICAgICAgZHJhd1JlY3QodyAtIG1hcmdpbiAtIHRzICogMC41LCBtYXJnaW4sIHRzICogMC41LCBoIC0gbWFyZ2luICogMiwgJyM3NzcnKTtcclxuICAgICAgICAvLyBSdXJ5L2thYmxlIChzeW1ib2xpY3puaWUpXHJcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJyM1NTUnO1xyXG4gICAgICAgIGN0eC5saW5lV2lkdGggPSAzO1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHgubW92ZVRvKHggKyBtYXJnaW4sIHkgKyBoICogMC44KTtcclxuICAgICAgICBjdHgubGluZVRvKHggKyB3IC0gbWFyZ2luLCB5ICsgaCAqIDAuOCk7XHJcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHgubW92ZVRvKHggKyB3ICogMC43LCB5ICsgbWFyZ2luKTtcclxuICAgICAgICBjdHgubGluZVRvKHggKyB3ICogMC43LCB5ICsgaCAtIG1hcmdpbik7XHJcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgICAgIGN0eC5saW5lV2lkdGggPSAxOyAvLyBQcnp5d3LDs8SHIGdydWJvxZvEhyBsaW5paVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqIE5hcnlzdWoga3NpxIXFvGtpICovXHJcbiAgZHJhd0Jvb2tzKGN0eCwgYm9va3MsIG9mZnNldFgsIG9mZnNldFksIGJvb2tJbWFnZSkge1xyXG4gICAgaWYgKCFib29rcyB8fCBib29rcy5sZW5ndGggPT09IDApIHJldHVybjtcclxuICAgIGNvbnN0IGRlZmF1bHRCb29rU2l6ZSA9IHRoaXMudGlsZVNpemUgKiAwLjY7XHJcblxyXG4gICAgZm9yIChjb25zdCBib29rIG9mIGJvb2tzKSB7XHJcbiAgICAgIGNvbnN0IGlzQ29sbGVjdGVkID0gYm9vay5pc0NvbGxlY3RlZCB8fCBib29rLmNvbGxlY3RlZDsgLy8gSGFuZGxlIGJvdGggcG90ZW50aWFsIHByb3BlcnRpZXNcclxuICAgICAgaWYgKCFpc0NvbGxlY3RlZCkge1xyXG4gICAgICAgIGNvbnN0IGJvb2tTaXplID0gYm9vay5zaXplIHx8IGRlZmF1bHRCb29rU2l6ZTtcclxuICAgICAgICAvLyBSb3VuZCBkcmF3aW5nIGNvb3JkaW5hdGVzXHJcbiAgICAgICAgY29uc3Qgc2NyZWVuWCA9IE1hdGguZmxvb3IoYm9vay54ICsgb2Zmc2V0WCAtIGJvb2tTaXplIC8gMik7XHJcbiAgICAgICAgY29uc3Qgc2NyZWVuWSA9IE1hdGguZmxvb3IoYm9vay55ICsgb2Zmc2V0WSAtIGJvb2tTaXplIC8gMik7XHJcblxyXG4gICAgICAgIC8vIEJhc2ljIHZpc2liaWxpdHkgY2hlY2tcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICBzY3JlZW5YICsgYm9va1NpemUgPiAwICYmXHJcbiAgICAgICAgICBzY3JlZW5YIDwgY3R4LmNhbnZhcy53aWR0aCAmJlxyXG4gICAgICAgICAgc2NyZWVuWSArIGJvb2tTaXplID4gMCAmJlxyXG4gICAgICAgICAgc2NyZWVuWSA8IGN0eC5jYW52YXMuaGVpZ2h0XHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAvLyBQcmVmZXIgYm9vaydzIG93biBkcmF3IG1ldGhvZCBpZiBhdmFpbGFibGVcclxuICAgICAgICAgIGlmICh0eXBlb2YgYm9vay5kcmF3ID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIC8vIFBhc3Mgcm91bmRlZCBjb29yZGluYXRlcyBhbmQgc2l6ZVxyXG4gICAgICAgICAgICBib29rLmRyYXcoY3R4LCBvZmZzZXRYLCBvZmZzZXRZLCBib29rSW1hZ2UpOyAvLyBib29rLmRyYXcgc2hvdWxkIGhhbmRsZSBpdHMgb3duIHJvdW5kaW5nIGlmIG5lZWRlZCBpbnRlcm5hbGx5XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBGYWxsYmFjayBkcmF3aW5nXHJcbiAgICAgICAgICAgIGlmIChib29rSW1hZ2UpIHtcclxuICAgICAgICAgICAgICAvLyBEcmF3IHdpdGggcm91bmRlZCBjb29yZGluYXRlc1xyXG4gICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoYm9va0ltYWdlLCBzY3JlZW5YLCBzY3JlZW5ZLCBib29rU2l6ZSwgYm9va1NpemUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzhkNmU2Myc7IC8vIEJyb3duIGJvb2sgY29sb3JcclxuICAgICAgICAgICAgICBjdHguZmlsbFJlY3Qoc2NyZWVuWCwgc2NyZWVuWSwgYm9va1NpemUsIGJvb2tTaXplKTtcclxuICAgICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnIzVkNDAzNyc7IC8vIERhcmtlciBvdXRsaW5lXHJcbiAgICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDE7XHJcbiAgICAgICAgICAgICAgY3R4LnN0cm9rZVJlY3Qoc2NyZWVuWCArIDAuNSwgc2NyZWVuWSArIDAuNSwgYm9va1NpemUgLSAxLCBib29rU2l6ZSAtIDEpOyAvLyBEcmF3IGJvcmRlciBtb3JlIGNsZWFybHlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufSAvLyBFbmQgY2xhc3MgTWFwUmVuZGVyZXJcclxuIiwiLy8gc3JjL21hcC9tYXBHZW5lcmF0b3IuanNcclxuXHJcbmltcG9ydCB7XHJcbiAgVElMRV9XQUxMLFxyXG4gIFRJTEVfQ09SUklET1IsXHJcbiAgVElMRV9ST09NX0ZMT09SLFxyXG4gIFRJTEVfTElGVCxcclxuICBHWU1fQ0hBTkNFX09OX0ZJUlNUX0ZMT09SLCAvLyBVcGV3bmlqIHNpxJksIMW8ZSB0byBqZXN0IHpkZWZpbmlvd2FuZSB3IGNvbnN0YW50cy5qcyBqYWtvIG5wLiAwLjJcclxufSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xyXG5pbXBvcnQgeyByYW5kb21JbnQsIHBlcmZvcm1CRlMgfSBmcm9tICcuLi91dGlscy9tYXAuanMnO1xyXG5cclxubGV0IGNvbnNpc3RlbnRMaWZ0Q29vcmRzID0gbnVsbDtcclxuXHJcbmNvbnN0IERFRkFVTFRfR0VOX1BBUkFNUyA9IHtcclxuICBtaW5Sb29tU2l6ZTogNSxcclxuICBtYXhSb29tU2l6ZTogMTAsXHJcbiAgY29ycmlkb3JUaGlja25lc3M6IDEsXHJcbiAgbnVtUm9vbXM6IDEyLFxyXG4gIG1heFJvb21BdHRlbXB0czogMjAwLFxyXG4gIHJvb21UeXBlV2VpZ2h0czoge1xyXG4gICAgY2xhc3Nyb29tOiA1MCxcclxuICAgIG9mZmljZTogMjUsXHJcbiAgICBsaWJyYXJ5OiAxNSxcclxuICAgIGd5bTogMCxcclxuICAgIHV0aWxpdHk6IDEwLFxyXG4gICAgbGFiOiAxMCxcclxuICAgIHN0b3JhZ2U6IDUsXHJcbiAgfSxcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUxldmVsRGF0YShjb25maWcpIHtcclxuICBjb25zdCB7IGNvbHMsIHJvd3MsIGZsb29yTnVtYmVyLCBtaW5GbG9vciwgdGlsZVNpemUsIGdlbmVyYXRpb25QYXJhbXM6IHVzZXJQYXJhbXMgfSA9IGNvbmZpZztcclxuICBjb25zdCBnZW5QYXJhbXMgPSB7IC4uLkRFRkFVTFRfR0VOX1BBUkFNUywgLi4udXNlclBhcmFtcyB9O1xyXG4gIGdlblBhcmFtcy5mbG9vck51bWJlciA9IGZsb29yTnVtYmVyOyAvLyBEb2RhamVteSBudW1lciBwacSZdHJhIGRvIGdlblBhcmFtc1xyXG5cclxuICBnZW5QYXJhbXMucm9vbVR5cGVXZWlnaHRzLmd5bSA9XHJcbiAgICBmbG9vck51bWJlciA9PT0gbWluRmxvb3IgPyAoR1lNX0NIQU5DRV9PTl9GSVJTVF9GTE9PUiB8fCAwKSAqIDEwMCA6IDA7XHJcblxyXG4gIGlmIChmbG9vck51bWJlciA9PT0gbWluRmxvb3IpIHtcclxuICAgIGNvbnNpc3RlbnRMaWZ0Q29vcmRzID0gbnVsbDtcclxuICAgIGNvbnNvbGUubG9nKGBbTWFwR2VuIEZsb29yICR7Zmxvb3JOdW1iZXJ9XSBSZXNldCBjb25zaXN0ZW50IGxpZnQgY29vcmRzIGZvciB0aGUgZmlyc3QgZmxvb3IuYCk7XHJcbiAgfVxyXG5cclxuICBjb25zb2xlLmxvZyhgW01hcEdlbiBGbG9vciAke2Zsb29yTnVtYmVyfV0gU3RhcnRpbmcgbWFwIGdlbmVyYXRpb24gKCR7Y29sc314JHtyb3dzfSkuLi5gKTtcclxuICBjb25zdCBtYXAgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiByb3dzIH0sICgpID0+IEFycmF5KGNvbHMpLmZpbGwoVElMRV9XQUxMKSk7XHJcbiAgY29uc3Qgcm9vbXMgPSBbXTtcclxuICBsZXQgbGlmdFBvc2l0aW9uID0gbnVsbDtcclxuXHJcbiAgX3BsYWNlUm9vbXMobWFwLCByb29tcywgY29scywgcm93cywgZ2VuUGFyYW1zKTtcclxuXHJcbiAgaWYgKHJvb21zLmxlbmd0aCA8IDEpIHtcclxuICAgIGNvbnN0IGVycm9yTXNnID0gYFtNYXBHZW4gRmxvb3IgJHtmbG9vck51bWJlcn1dIENSSVRJQ0FMOiBObyByb29tcyBnZW5lcmF0ZWQuIENhbm5vdCBwbGFjZSBsaWZ0LmA7XHJcbiAgICBjb25zb2xlLmVycm9yKGVycm9yTXNnKTtcclxuICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1zZyk7XHJcbiAgfSBlbHNlIGlmIChyb29tcy5sZW5ndGggPj0gMikge1xyXG4gICAgX2Nvbm5lY3RSb29tc0JldHRlcihtYXAsIHJvb21zLCBjb2xzLCByb3dzKTtcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc29sZS53YXJuKFxyXG4gICAgICBgW01hcEdlbiBGbG9vciAke2Zsb29yTnVtYmVyfV0gT25seSAxIHJvb20gZ2VuZXJhdGVkLiBObyBjb3JyaWRvcnMgbmVlZGVkIGJldHdlZW4gcm9vbXMuYFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBwbGFjZWRMaWZ0RGF0YSA9IF9wbGFjZUxpZnQoXHJcbiAgICAgIG1hcCxcclxuICAgICAgY29scyxcclxuICAgICAgcm93cyxcclxuICAgICAgZmxvb3JOdW1iZXIsXHJcbiAgICAgIG1pbkZsb29yLFxyXG4gICAgICB0aWxlU2l6ZSxcclxuICAgICAgY29uc2lzdGVudExpZnRDb29yZHMsXHJcbiAgICAgIHJvb21zXHJcbiAgICApO1xyXG4gICAgbGlmdFBvc2l0aW9uID0gcGxhY2VkTGlmdERhdGEucG9zaXRpb247XHJcbiAgICBpZiAocGxhY2VkTGlmdERhdGEuY29vcmRzKSB7XHJcbiAgICAgIGNvbnNpc3RlbnRMaWZ0Q29vcmRzID0gcGxhY2VkTGlmdERhdGEuY29vcmRzO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKGBbTWFwR2VuIEZsb29yICR7Zmxvb3JOdW1iZXJ9XSBDUklUSUNBTDogTGlmdCBwbGFjZW1lbnQgZmFpbGVkOmAsIGVycm9yKTtcclxuICAgIHRocm93IG5ldyBFcnJvcihgTGlmdCBwbGFjZW1lbnQgZmFpbGVkIG9uIGZsb29yICR7Zmxvb3JOdW1iZXJ9OiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgfVxyXG5cclxuICBfZW5zdXJlTWFwQm9yZGVycyhtYXAsIGNvbHMsIHJvd3MpO1xyXG5cclxuICBpZiAobGlmdFBvc2l0aW9uICYmICFfaXNMaWZ0UmVhY2hhYmxlKG1hcCwgbGlmdFBvc2l0aW9uLCBjb2xzLCByb3dzKSkge1xyXG4gICAgY29uc29sZS53YXJuKFxyXG4gICAgICBgW01hcFZhbGlkYXRpb24gRmxvb3IgJHtmbG9vck51bWJlcn1dIExpZnQgYXQgdGlsZSgke2xpZnRQb3NpdGlvbi50aWxlWH0sICR7bGlmdFBvc2l0aW9uLnRpbGVZfSkgaW5pdGlhbGx5IHVucmVhY2hhYmxlLiBBdHRlbXB0aW5nIGZpbmFsIGZvcmNlIGNvbm5lY3Rpb24uYFxyXG4gICAgKTtcclxuICAgIGNvbnN0IGNvbm5lY3RlZCA9IF9mb3JjZUNvbm5lY3Rpb25Ub1BvaW50KFxyXG4gICAgICBtYXAsXHJcbiAgICAgIGxpZnRQb3NpdGlvbi50aWxlWCxcclxuICAgICAgbGlmdFBvc2l0aW9uLnRpbGVZLFxyXG4gICAgICBjb2xzLFxyXG4gICAgICByb3dzXHJcbiAgICApO1xyXG4gICAgaWYgKCFjb25uZWN0ZWQgfHwgIV9pc0xpZnRSZWFjaGFibGUobWFwLCBsaWZ0UG9zaXRpb24sIGNvbHMsIHJvd3MpKSB7XHJcbiAgICAgIGNvbnN0IGVycm9yTXNnID0gYENSSVRJQ0FMOiBQbGFjZWQgbGlmdCBhdCB0aWxlKCR7bGlmdFBvc2l0aW9uLnRpbGVYfSwgJHtsaWZ0UG9zaXRpb24udGlsZVl9KSBpcyBVTlJFQUNIQUJMRSBldmVuIGFmdGVyIGZvcmNlIGNvbm5lY3QhIEdlbmVyYXRpb24gZmFpbGVkLmA7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFtNYXBHZW4gRmxvb3IgJHtmbG9vck51bWJlcn1dICR7ZXJyb3JNc2d9YCk7XHJcbiAgICAgIGxvZ01hcEdyaWRGb3JEZWJ1ZyhtYXAsIGNvbHMsIHJvd3MpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYExpZnQgaXMgdW5yZWFjaGFibGUgb24gZmxvb3IgJHtmbG9vck51bWJlcn0uIENhbm5vdCBwcm9jZWVkLmApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgYFtNYXBWYWxpZGF0aW9uIEZsb29yICR7Zmxvb3JOdW1iZXJ9XSBMaWZ0IGNvbm5lY3Rpb24gc3VjY2Vzc2Z1bCBhZnRlciBzZWNvbmQgYXR0ZW1wdC5gXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfSBlbHNlIGlmIChsaWZ0UG9zaXRpb24pIHtcclxuICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICBgW01hcFZhbGlkYXRpb24gRmxvb3IgJHtmbG9vck51bWJlcn1dIExpZnQgYXQgdGlsZSgke2xpZnRQb3NpdGlvbi50aWxlWH0sICR7bGlmdFBvc2l0aW9uLnRpbGVZfSkgaXMgcmVhY2hhYmxlLmBcclxuICAgICk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihgTWFwIGdlbmVyYXRlZCB3aXRob3V0IGEgdmFsaWQgbGlmdCBwb3NpdGlvbiBvbiBmbG9vciAke2Zsb29yTnVtYmVyfS5gKTtcclxuICB9XHJcblxyXG4gIGNvbnNvbGUubG9nKGBbTWFwR2VuIEZsb29yICR7Zmxvb3JOdW1iZXJ9XSBNYXAgZ2VuZXJhdGlvbiBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5LmApO1xyXG4gIHJldHVybiB7IG1hcCwgcm9vbXMsIGxpZnRQb3NpdGlvbiB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBfcGxhY2VSb29tcyhtYXAsIHJvb21zLCBjb2xzLCByb3dzLCBnZW5QYXJhbXMpIHtcclxuICBjb25zdCB7IG1pblJvb21TaXplLCBtYXhSb29tU2l6ZSwgbnVtUm9vbXMsIG1heFJvb21BdHRlbXB0cywgcm9vbVR5cGVXZWlnaHRzIH0gPSBnZW5QYXJhbXM7XHJcbiAgbGV0IHJvb21BdHRlbXB0cyA9IDA7XHJcbiAgY29uc3Qgd2VpZ2h0ZWRUeXBlcyA9IFtdO1xyXG5cclxuICBmb3IgKGNvbnN0IHR5cGUgaW4gcm9vbVR5cGVXZWlnaHRzKSB7XHJcbiAgICBjb25zdCB3ZWlnaHQgPSByb29tVHlwZVdlaWdodHNbdHlwZV07XHJcbiAgICBpZiAod2VpZ2h0ID4gMCkge1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdlaWdodDsgaSsrKSB3ZWlnaHRlZFR5cGVzLnB1c2godHlwZSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGlmICh3ZWlnaHRlZFR5cGVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgd2VpZ2h0ZWRUeXBlcy5wdXNoKCd1dGlsaXR5Jyk7XHJcbiAgICBjb25zb2xlLndhcm4oXCJbTWFwR2VuIFJvb21zXSBObyByb29tIHR5cGVzLiBEZWZhdWx0aW5nIHRvICd1dGlsaXR5Jy5cIik7XHJcbiAgfVxyXG5cclxuICB3aGlsZSAocm9vbXMubGVuZ3RoIDwgbnVtUm9vbXMgJiYgcm9vbUF0dGVtcHRzIDwgbWF4Um9vbUF0dGVtcHRzKSB7XHJcbiAgICByb29tQXR0ZW1wdHMrKztcclxuICAgIGNvbnN0IHJvb21XaWR0aCA9IHJhbmRvbUludChtaW5Sb29tU2l6ZSwgbWF4Um9vbVNpemUpO1xyXG4gICAgY29uc3Qgcm9vbUhlaWdodCA9IHJhbmRvbUludChtaW5Sb29tU2l6ZSwgbWF4Um9vbVNpemUpO1xyXG4gICAgY29uc3Qgcm9vbUNvbCA9IHJhbmRvbUludCgxLCBjb2xzIC0gcm9vbVdpZHRoIC0gMik7IC8vIC0yIHRvIGxlYXZlIGJvcmRlclxyXG4gICAgY29uc3Qgcm9vbVJvdyA9IHJhbmRvbUludCgxLCByb3dzIC0gcm9vbUhlaWdodCAtIDIpOyAvLyAtMiB0byBsZWF2ZSBib3JkZXJcclxuXHJcbiAgICBjb25zdCByb29tVHlwZSA9IHdlaWdodGVkVHlwZXNbcmFuZG9tSW50KDAsIHdlaWdodGVkVHlwZXMubGVuZ3RoIC0gMSldO1xyXG4gICAgY29uc3QgbmV3Um9vbSA9IHtcclxuICAgICAgY29sOiByb29tQ29sLFxyXG4gICAgICByb3c6IHJvb21Sb3csXHJcbiAgICAgIHdpZHRoOiByb29tV2lkdGgsXHJcbiAgICAgIGhlaWdodDogcm9vbUhlaWdodCxcclxuICAgICAgdHlwZTogcm9vbVR5cGUsXHJcbiAgICAgIGlkOiBgcm9vbV9mJHtnZW5QYXJhbXMuZmxvb3JOdW1iZXJ9XyR7cm9vbXMubGVuZ3RoICsgMX1gLFxyXG4gICAgICBjZW50ZXJUaWxlWDogTWF0aC5mbG9vcihyb29tQ29sICsgcm9vbVdpZHRoIC8gMiksXHJcbiAgICAgIGNlbnRlclRpbGVZOiBNYXRoLmZsb29yKHJvb21Sb3cgKyByb29tSGVpZ2h0IC8gMiksXHJcbiAgICAgIGNvbm5lY3RlZDogZmFsc2UsXHJcbiAgICAgIHg6IHJvb21Db2wsXHJcbiAgICAgIHk6IHJvb21Sb3csXHJcbiAgICB9O1xyXG5cclxuICAgIGxldCBvdmVybGFwcyA9IGZhbHNlO1xyXG4gICAgY29uc3QgYnVmZmVyID0gMjtcclxuICAgIGZvciAoY29uc3QgZXhpc3RpbmdSb29tIG9mIHJvb21zKSB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICBuZXdSb29tLmNvbCA8IGV4aXN0aW5nUm9vbS5jb2wgKyBleGlzdGluZ1Jvb20ud2lkdGggKyBidWZmZXIgJiZcclxuICAgICAgICBuZXdSb29tLmNvbCArIG5ld1Jvb20ud2lkdGggKyBidWZmZXIgPiBleGlzdGluZ1Jvb20uY29sICYmXHJcbiAgICAgICAgbmV3Um9vbS5yb3cgPCBleGlzdGluZ1Jvb20ucm93ICsgZXhpc3RpbmdSb29tLmhlaWdodCArIGJ1ZmZlciAmJlxyXG4gICAgICAgIG5ld1Jvb20ucm93ICsgbmV3Um9vbS5oZWlnaHQgKyBidWZmZXIgPiBleGlzdGluZ1Jvb20ucm93XHJcbiAgICAgICkge1xyXG4gICAgICAgIG92ZXJsYXBzID0gdHJ1ZTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICghb3ZlcmxhcHMpIHtcclxuICAgICAgcm9vbXMucHVzaChuZXdSb29tKTtcclxuICAgICAgZm9yIChsZXQgciA9IG5ld1Jvb20ucm93OyByIDwgbmV3Um9vbS5yb3cgKyBuZXdSb29tLmhlaWdodDsgcisrKSB7XHJcbiAgICAgICAgZm9yIChsZXQgYyA9IG5ld1Jvb20uY29sOyBjIDwgbmV3Um9vbS5jb2wgKyBuZXdSb29tLndpZHRoOyBjKyspIHtcclxuICAgICAgICAgIGlmIChyID49IDAgJiYgciA8IHJvd3MgJiYgYyA+PSAwICYmIGMgPCBjb2xzKSBtYXBbcl1bY10gPSBUSUxFX1JPT01fRkxPT1I7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIGlmIChyb29tcy5sZW5ndGggPCBudW1Sb29tcylcclxuICAgIGNvbnNvbGUud2FybihgW01hcEdlbiBSb29tc10gUGxhY2VkICR7cm9vbXMubGVuZ3RofS8ke251bVJvb21zfSByb29tcy5gKTtcclxuICBlbHNlIGNvbnNvbGUubG9nKGBbTWFwR2VuIFJvb21zXSBQbGFjZWQgJHtyb29tcy5sZW5ndGh9IHJvb21zLmApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfY29ubmVjdFJvb21zQmV0dGVyKG1hcCwgcm9vbXMsIGNvbHMsIHJvd3MpIHtcclxuICBpZiAocm9vbXMubGVuZ3RoIDwgMikgcmV0dXJuO1xyXG4gIGNvbnNvbGUubG9nKGBbTWFwR2VuIENvbm5lY3RdIENvbm5lY3RpbmcgJHtyb29tcy5sZW5ndGh9IHJvb21zLi4uYCk7XHJcbiAgY29uc3QgY29ubmVjdGVkU2V0ID0gbmV3IFNldChbcm9vbXNbMF0uaWRdKTtcclxuICBsZXQgdW5jb25uZWN0ZWRSb29tcyA9IHJvb21zLnNsaWNlKDEpO1xyXG5cclxuICB3aGlsZSAodW5jb25uZWN0ZWRSb29tcy5sZW5ndGggPiAwKSB7XHJcbiAgICBsZXQgYmVzdERpc3RTcSA9IEluZmluaXR5LFxyXG4gICAgICBiZXN0VW5jUm9vbSA9IG51bGwsXHJcbiAgICAgIGJlc3RDb25Sb29tSWQgPSBudWxsLFxyXG4gICAgICBiZXN0VW5jSWR4ID0gLTE7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHVuY29ubmVjdGVkUm9vbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3Qgcm9vbVUgPSB1bmNvbm5lY3RlZFJvb21zW2ldO1xyXG4gICAgICBmb3IgKGNvbnN0IHJvb21DIG9mIHJvb21zKSB7XHJcbiAgICAgICAgaWYgKGNvbm5lY3RlZFNldC5oYXMocm9vbUMuaWQpKSB7XHJcbiAgICAgICAgICBjb25zdCBkeCA9IHJvb21VLmNlbnRlclRpbGVYIC0gcm9vbUMuY2VudGVyVGlsZVg7XHJcbiAgICAgICAgICBjb25zdCBkeSA9IHJvb21VLmNlbnRlclRpbGVZIC0gcm9vbUMuY2VudGVyVGlsZVk7XHJcbiAgICAgICAgICBjb25zdCBkaXN0U3EgPSBkeCAqIGR4ICsgZHkgKiBkeTtcclxuICAgICAgICAgIGlmIChkaXN0U3EgPCBiZXN0RGlzdFNxKSB7XHJcbiAgICAgICAgICAgIGJlc3REaXN0U3EgPSBkaXN0U3E7XHJcbiAgICAgICAgICAgIGJlc3RVbmNSb29tID0gcm9vbVU7XHJcbiAgICAgICAgICAgIGJlc3RDb25Sb29tSWQgPSByb29tQy5pZDtcclxuICAgICAgICAgICAgYmVzdFVuY0lkeCA9IGk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoYmVzdFVuY1Jvb20gJiYgYmVzdENvblJvb21JZCAhPT0gbnVsbCkge1xyXG4gICAgICBjb25zdCBiZXN0Q29uUm9vbSA9IHJvb21zLmZpbmQoKHIpID0+IHIuaWQgPT09IGJlc3RDb25Sb29tSWQpO1xyXG4gICAgICBpZiAoIWJlc3RDb25Sb29tKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihgW01hcEdlbiBDb25uZWN0XSBFcnJvciBmaW5kaW5nIGNvbm5lY3RlZCByb29tICR7YmVzdENvblJvb21JZH0uYCk7XHJcbiAgICAgICAgdW5jb25uZWN0ZWRSb29tcy5zcGxpY2UoYmVzdFVuY0lkeCwgMSk7XHJcbiAgICAgICAgY29udGludWU7XHJcbiAgICAgIH1cclxuICAgICAgX2NhcnZlQ29ycmlkb3JCZXR3ZWVuKG1hcCwgYmVzdENvblJvb20sIGJlc3RVbmNSb29tLCBjb2xzLCByb3dzKTtcclxuICAgICAgY29ubmVjdGVkU2V0LmFkZChiZXN0VW5jUm9vbS5pZCk7XHJcbiAgICAgIHVuY29ubmVjdGVkUm9vbXMuc3BsaWNlKGJlc3RVbmNJZHgsIDEpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAnW01hcEdlbiBDb25uZWN0XSBDb3VsZCBub3QgZmluZCBuZXh0IHBhaXIuIFJlbWFpbmluZzonLFxyXG4gICAgICAgIHVuY29ubmVjdGVkUm9vbXMubWFwKChyKSA9PiByLmlkKVxyXG4gICAgICApO1xyXG4gICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcbiAgY29uc29sZS5sb2coYFtNYXBHZW4gQ29ubmVjdF0gRmluaXNoZWQuIENvbm5lY3RlZDogJHtjb25uZWN0ZWRTZXQuc2l6ZX1gKTtcclxufVxyXG5cclxuZnVuY3Rpb24gX2NhcnZlQ29ycmlkb3JCZXR3ZWVuKG1hcCwgcm9vbUEsIHJvb21CLCBjb2xzLCByb3dzKSB7XHJcbiAgY29uc3QgeyBjZW50ZXJUaWxlWDogYXgsIGNlbnRlclRpbGVZOiBheSB9ID0gcm9vbUE7XHJcbiAgY29uc3QgeyBjZW50ZXJUaWxlWDogYngsIGNlbnRlclRpbGVZOiBieSB9ID0gcm9vbUI7XHJcbiAgaWYgKE1hdGgucmFuZG9tKCkgPCAwLjUpIHtcclxuICAgIF9jYXJ2ZUhvcml6b250YWxDb3JyaWRvcihtYXAsIGF5LCBheCwgYngsIGNvbHMsIHJvd3MpO1xyXG4gICAgX2NhcnZlVmVydGljYWxDb3JyaWRvcihtYXAsIGJ4LCBheSwgYnksIGNvbHMsIHJvd3MpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBfY2FydmVWZXJ0aWNhbENvcnJpZG9yKG1hcCwgYXgsIGF5LCBieSwgY29scywgcm93cyk7XHJcbiAgICBfY2FydmVIb3Jpem9udGFsQ29ycmlkb3IobWFwLCBieSwgYXgsIGJ4LCBjb2xzLCByb3dzKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9jYXJ2ZUhvcml6b250YWxDb3JyaWRvcihtYXAsIHIsIGMxLCBjMiwgY29scywgcm93cykge1xyXG4gIGlmIChyIDwgMCB8fCByID49IHJvd3MpIHJldHVybjtcclxuICBjb25zdCBzdGFydEMgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihjMSwgYzIpKSxcclxuICAgIGVuZEMgPSBNYXRoLm1pbihjb2xzIC0gMSwgTWF0aC5tYXgoYzEsIGMyKSk7XHJcbiAgZm9yIChsZXQgYyA9IHN0YXJ0QzsgYyA8PSBlbmRDOyBjKyspIGlmIChtYXBbcl0/LltjXSA9PT0gVElMRV9XQUxMKSBtYXBbcl1bY10gPSBUSUxFX0NPUlJJRE9SO1xyXG59XHJcbmZ1bmN0aW9uIF9jYXJ2ZVZlcnRpY2FsQ29ycmlkb3IobWFwLCBjLCByMSwgcjIsIGNvbHMsIHJvd3MpIHtcclxuICBpZiAoYyA8IDAgfHwgYyA+PSBjb2xzKSByZXR1cm47XHJcbiAgY29uc3Qgc3RhcnRSID0gTWF0aC5tYXgoMCwgTWF0aC5taW4ocjEsIHIyKSksXHJcbiAgICBlbmRSID0gTWF0aC5taW4ocm93cyAtIDEsIE1hdGgubWF4KHIxLCByMikpO1xyXG4gIGZvciAobGV0IHIgPSBzdGFydFI7IHIgPD0gZW5kUjsgcisrKSBpZiAobWFwW3JdPy5bY10gPT09IFRJTEVfV0FMTCkgbWFwW3JdW2NdID0gVElMRV9DT1JSSURPUjtcclxufVxyXG5cclxuZnVuY3Rpb24gX2dldFRpbGVPcGVubmVzc0RldGFpbHModGlsZVgsIHRpbGVZLCBtYXAsIGNvbHMsIHJvd3MpIHtcclxuICBjb25zdCBpc1dhbGthYmxlID0gKHgsIHkpID0+IHtcclxuICAgIGlmICh4IDwgMCB8fCB4ID49IGNvbHMgfHwgeSA8IDAgfHwgeSA+PSByb3dzKSByZXR1cm4gZmFsc2U7XHJcbiAgICBjb25zdCB2YWwgPSBtYXBbeV0/Llt4XTtcclxuICAgIHJldHVybiB2YWwgPT09IFRJTEVfQ09SUklET1IgfHwgdmFsID09PSBUSUxFX1JPT01fRkxPT1IgfHwgdmFsID09PSBUSUxFX0xJRlQ7XHJcbiAgfTtcclxuICBsZXQgb3BlblNpZGVzID0gMDtcclxuICBjb25zdCBkZWx0YXMgPSBbXHJcbiAgICB7IGR4OiAwLCBkeTogLTEgfSxcclxuICAgIHsgZHg6IDAsIGR5OiAxIH0sXHJcbiAgICB7IGR4OiAtMSwgZHk6IDAgfSxcclxuICAgIHsgZHg6IDEsIGR5OiAwIH0sXHJcbiAgXTtcclxuICBsZXQgZmxhZ3MgPSBbZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2VdOyAvLyBOLFMsVyxFXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWx0YXMubGVuZ3RoOyBpKyspIHtcclxuICAgIGlmIChpc1dhbGthYmxlKHRpbGVYICsgZGVsdGFzW2ldLmR4LCB0aWxlWSArIGRlbHRhc1tpXS5keSkpIHtcclxuICAgICAgb3BlblNpZGVzKys7XHJcbiAgICAgIGZsYWdzW2ldID0gdHJ1ZTtcclxuICAgIH1cclxuICB9XHJcbiAgbGV0IGlzQ2hva2Vwb2ludCA9XHJcbiAgICBvcGVuU2lkZXMgPT09IDIgJiZcclxuICAgICgoZmxhZ3NbMF0gJiYgZmxhZ3NbMV0gJiYgIWZsYWdzWzJdICYmICFmbGFnc1szXSkgfHxcclxuICAgICAgKGZsYWdzWzJdICYmIGZsYWdzWzNdICYmICFmbGFnc1swXSAmJiAhZmxhZ3NbMV0pKTtcclxuICByZXR1cm4geyBvcGVuU2lkZXMsIGlzQ2hva2Vwb2ludCB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBfZmluZExpZnRQbGFjZW1lbnRMb2NhdGlvbihtYXAsIGNvbHMsIHJvd3MsIHJvb21zTGlzdCkge1xyXG4gIGNvbnNvbGUubG9nKGAgIFtNYXBHZW4gRmluZExpZnQgVjZdIFNlYXJjaGluZyBmb3IgbGlmdCBzcG90IElOU0lERSBhIHJvb20uLi5gKTtcclxuICBpZiAoIXJvb21zTGlzdCB8fCByb29tc0xpc3QubGVuZ3RoID09PSAwKSB7XHJcbiAgICBjb25zb2xlLndhcm4oYCAgW01hcEdlbiBGaW5kTGlmdCBWNl0gTm8gcm9vbXMuIFBsYWNlbWVudCB3aWxsIGZhaWwuYCk7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbiAgY29uc3QgY2FuZGlkYXRlcyA9IFtdO1xyXG4gIGZvciAoY29uc3Qgcm9vbSBvZiByb29tc0xpc3QpIHtcclxuICAgIGNvbnN0IHN0YXJ0SUMgPSByb29tLmNvbCArIDEsXHJcbiAgICAgIGVuZElDID0gcm9vbS5jb2wgKyByb29tLndpZHRoIC0gMjtcclxuICAgIGNvbnN0IHN0YXJ0SVIgPSByb29tLnJvdyArIDEsXHJcbiAgICAgIGVuZElSID0gcm9vbS5yb3cgKyByb29tLmhlaWdodCAtIDI7XHJcbiAgICBpZiAoc3RhcnRJQyA8PSBlbmRJQyAmJiBzdGFydElSIDw9IGVuZElSKSB7XHJcbiAgICAgIGZvciAobGV0IHIgPSBzdGFydElSOyByIDw9IGVuZElSOyByKyspIHtcclxuICAgICAgICBmb3IgKGxldCBjID0gc3RhcnRJQzsgYyA8PSBlbmRJQzsgYysrKSB7XHJcbiAgICAgICAgICBpZiAobWFwW3JdPy5bY10gPT09IFRJTEVfUk9PTV9GTE9PUikge1xyXG4gICAgICAgICAgICBjb25zdCBkID0gX2dldFRpbGVPcGVubmVzc0RldGFpbHMoYywgciwgbWFwLCBjb2xzLCByb3dzKTtcclxuICAgICAgICAgICAgaWYgKCFkLmlzQ2hva2Vwb2ludCAmJiBkLm9wZW5TaWRlcyA+PSAyKSBjYW5kaWRhdGVzLnB1c2goeyB0aWxlWDogYywgdGlsZVk6IHIsIHJvb20gfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBjID0gcm9vbS5jZW50ZXJUaWxlWCxcclxuICAgICAgICByID0gcm9vbS5jZW50ZXJUaWxlWTtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIGMgPj0gcm9vbS5jb2wgJiZcclxuICAgICAgICBjIDwgcm9vbS5jb2wgKyByb29tLndpZHRoICYmXHJcbiAgICAgICAgciA+PSByb29tLnJvdyAmJlxyXG4gICAgICAgIHIgPCByb29tLnJvdyArIHJvb20uaGVpZ2h0ICYmXHJcbiAgICAgICAgbWFwW3JdPy5bY10gPT09IFRJTEVfUk9PTV9GTE9PUlxyXG4gICAgICApIHtcclxuICAgICAgICBjb25zdCBkID0gX2dldFRpbGVPcGVubmVzc0RldGFpbHMoYywgciwgbWFwLCBjb2xzLCByb3dzKTtcclxuICAgICAgICBpZiAoIWQuaXNDaG9rZXBvaW50ICYmIGQub3BlblNpZGVzID49IDEpIGNhbmRpZGF0ZXMucHVzaCh7IHRpbGVYOiBjLCB0aWxlWTogciwgcm9vbSB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBpZiAoY2FuZGlkYXRlcy5sZW5ndGggPiAwKSB7XHJcbiAgICBjb25zdCBjWCA9IE1hdGguZmxvb3IoY29scyAvIDIpLFxyXG4gICAgICBjWSA9IE1hdGguZmxvb3Iocm93cyAvIDIpO1xyXG4gICAgY2FuZGlkYXRlcy5zb3J0KFxyXG4gICAgICAoYSwgYikgPT5cclxuICAgICAgICAoYS50aWxlWCAtIGNYKSAqKiAyICsgKGEudGlsZVkgLSBjWSkgKiogMiAtICgoYi50aWxlWCAtIGNYKSAqKiAyICsgKGIudGlsZVkgLSBjWSkgKiogMilcclxuICAgICk7XHJcbiAgICBjb25zdCBiZXN0ID0gY2FuZGlkYXRlc1swXTtcclxuICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICBgICBbTWFwR2VuIEZpbmRMaWZ0IFY2XSBTZWxlY3RlZCBJTiBST09NICgke2Jlc3Qucm9vbS5pZH0pIEAoJHtiZXN0LnRpbGVYfSwke2Jlc3QudGlsZVl9KS5gXHJcbiAgICApO1xyXG4gICAgcmV0dXJuIHsgdGlsZVg6IGJlc3QudGlsZVgsIHRpbGVZOiBiZXN0LnRpbGVZIH07XHJcbiAgfVxyXG4gIGNvbnNvbGUud2FybignW01hcEdlbiBGaW5kTGlmdCBWNl0gTm8gc3VpdGFibGUgSU4tUk9PTSBsb2NhdGlvbi4gV2lsbCBmYWlsLicpO1xyXG4gIHJldHVybiBudWxsO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfcGxhY2VMaWZ0KFxyXG4gIG1hcCxcclxuICBjb2xzLFxyXG4gIHJvd3MsXHJcbiAgZmxvb3JOdW1iZXIsXHJcbiAgbWluRmxvb3IsXHJcbiAgdGlsZVNpemUsXHJcbiAgY3VycmVudENvbnNpc3RlbnRDb29yZHMsXHJcbiAgcm9vbXNMaXN0XHJcbikge1xyXG4gIGxldCBjb29yZHNUb1VzZSA9IGN1cnJlbnRDb25zaXN0ZW50Q29vcmRzLFxyXG4gICAgbmV3bHlGb3VuZENvb3JkcyA9IG51bGw7XHJcblxyXG4gIGlmIChmbG9vck51bWJlciA9PT0gbWluRmxvb3IpIHtcclxuICAgIGNvbnNvbGUubG9nKGBbTWFwR2VuIEYke2Zsb29yTnVtYmVyfV0gRmluZGluZyBpbml0aWFsIElOLVJPT00gbGlmdCBsb2MuLi5gKTtcclxuICAgIGNvb3Jkc1RvVXNlID0gX2ZpbmRMaWZ0UGxhY2VtZW50TG9jYXRpb24obWFwLCBjb2xzLCByb3dzLCByb29tc0xpc3QpO1xyXG4gICAgaWYgKCFjb29yZHNUb1VzZSlcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBbTWFwR2VuIEYke2Zsb29yTnVtYmVyfV0gQ1JJVDogTm8gdmFsaWQgSU4tUk9PTSBsaWZ0IGxvYyBvbiBtaW5GbG9vci5gKTtcclxuICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICBgW01hcEdlbiBGJHtmbG9vck51bWJlcn1dIEVzdGFibGlzaGVkIGNvbnNpc3RlbnQgSU4tUk9PTSBsaWZ0IEAoJHtjb29yZHNUb1VzZS50aWxlWH0sJHtjb29yZHNUb1VzZS50aWxlWX0pYFxyXG4gICAgKTtcclxuICAgIG5ld2x5Rm91bmRDb29yZHMgPSBjb29yZHNUb1VzZTtcclxuICB9IGVsc2UgaWYgKCFjb29yZHNUb1VzZSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBbTWFwR2VuIExpZnRdIENSSVQ6IE1pc3NpbmcgY29uc2lzdGVudCBsaWZ0IGNvb3JkcyBmb3IgRiR7Zmxvb3JOdW1iZXJ9LmApO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgeyB0aWxlWCwgdGlsZVkgfSA9IGNvb3Jkc1RvVXNlO1xyXG4gIGlmICh0aWxlWSA8IDAgfHwgdGlsZVkgPj0gcm93cyB8fCB0aWxlWCA8IDAgfHwgdGlsZVggPj0gY29scylcclxuICAgIHRocm93IG5ldyBFcnJvcihgW01hcEdlbiBMaWZ0XSBDb29yZHMgKCR7dGlsZVh9LCR7dGlsZVl9KSBvdXQgb2YgYm91bmRzIEYke2Zsb29yTnVtYmVyfS5gKTtcclxuXHJcbiAgY29uc3QgdGlsZVZhbHVlQmVmb3JlTGlmdCA9IG1hcFt0aWxlWV0/Llt0aWxlWF07XHJcblxyXG4gIGlmIChtYXBbdGlsZVldW3RpbGVYXSA9PT0gVElMRV9XQUxMKSB7XHJcbiAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgIGBbTWFwR2VuIEYke2Zsb29yTnVtYmVyfV0gTGlmdCBsb2MgKCR7dGlsZVh9LCR7dGlsZVl9KSBpcyBXQUxMLiBGb3JjaW5nIGNvbm5lY3Rpb24uLi5gXHJcbiAgICApO1xyXG4gICAgY29uc3QgY29ubmVjdGVkID0gX2ZvcmNlQ29ubmVjdGlvblRvUG9pbnQobWFwLCB0aWxlWCwgdGlsZVksIGNvbHMsIHJvd3MpO1xyXG4gICAgaWYgKCFjb25uZWN0ZWQgJiYgbWFwW3RpbGVZXVt0aWxlWF0gPT09IFRJTEVfV0FMTClcclxuICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICBgW01hcEdlbiBMaWZ0Q29ubmVjdF0gRkFJTEVEIHRvIGNvbm5lY3Qgd2FsbCBAKCR7dGlsZVh9LCR7dGlsZVl9KSAmIGl0IFJFTUFJTkVEIFdBTEwuYFxyXG4gICAgICApO1xyXG4gIH1cclxuXHJcbiAgbWFwW3RpbGVZXVt0aWxlWF0gPSBUSUxFX0xJRlQ7IC8vIFBsYWNlIGxpZnQgdGlsZSBGSVJTVFxyXG4gIGxldCBsaWZ0Um9vbU9iamVjdCA9IG51bGw7XHJcblxyXG4gIGZvciAoY29uc3Qgcm9vbSBvZiByb29tc0xpc3QpIHtcclxuICAgIGlmIChcclxuICAgICAgdGlsZVggPj0gcm9vbS5jb2wgJiZcclxuICAgICAgdGlsZVggPCByb29tLmNvbCArIHJvb20ud2lkdGggJiZcclxuICAgICAgdGlsZVkgPj0gcm9vbS5yb3cgJiZcclxuICAgICAgdGlsZVkgPCByb29tLnJvdyArIHJvb20uaGVpZ2h0XHJcbiAgICApIHtcclxuICAgICAgLy8gQ2hlY2sgaWYgdGhlIHRpbGUgKmJlZm9yZSogcGxhY2luZyB0aGUgbGlmdCB3YXMgcGFydCBvZiB0aGlzIHJvb20ncyBmbG9vclxyXG4gICAgICBpZiAodGlsZVZhbHVlQmVmb3JlTGlmdCA9PT0gVElMRV9ST09NX0ZMT09SKSB7XHJcbiAgICAgICAgbGlmdFJvb21PYmplY3QgPSByb29tO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgICAgYCAgW01hcEdlbiBMaWZ0IEYke2Zsb29yTnVtYmVyfV0gTGlmdCBAKCR7dGlsZVh9LCR7dGlsZVl9KSBpcyBvbiBUSUxFX1JPT01fRkxPT1Igd2l0aGluIGV4aXN0aW5nIHJvb20gJHtyb29tLmlkfS5gXHJcbiAgICAgICAgKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaWYgKCFsaWZ0Um9vbU9iamVjdCkge1xyXG4gICAgLy8gVGhpcyBibG9jayB3aWxsIGV4ZWN1dGUgaWY6XHJcbiAgICAvLyAxLiBPbiBtaW5GbG9vcjogX2ZpbmRMaWZ0UGxhY2VtZW50TG9jYXRpb24gcGlja2VkIGEgdGlsZSB0aGF0IHdhc24ndCBUSUxFX1JPT01fRkxPT1IgKGJhZCwgc2hvdWxkIGVycm9yIGVhcmxpZXIpXHJcbiAgICAvLyAyLiBPbiBOID4gbWluRmxvb3I6IFRoZSBjb25zaXN0ZW50TGlmdENvb3JkcyBsYW5kZWQgb24gc29tZXRoaW5nIG90aGVyIHRoYW4gYW4gZXhpc3Rpbmcgcm9vbSdzIGZsb29yIChlLmcuLCBjb3JyaWRvciwgb3IgbmV3bHkgY2FydmVkIHdhbGwgaWYgbWFwIHN0cnVjdHVyZSBjaGFuZ2VkIGEgbG90KVxyXG4gICAgY29uc3QgbWVzc2FnZVJlYXNvbiA9ICFsaWZ0Um9vbU9iamVjdFxyXG4gICAgICA/ICdOb3QgaW4gZXhpc3Rpbmcgcm9vbSByZWdpb24nXHJcbiAgICAgIDogYE9yaWdpbmFsIHRpbGUgd2FzICR7dGlsZVZhbHVlQmVmb3JlTGlmdH0sIG5vdCBUSUxFX1JPT01fRkxPT1IuYDtcclxuXHJcbiAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgIGBbTWFwR2VuIEYke2Zsb29yTnVtYmVyfV0gTGlmdCBAKCR7dGlsZVh9LCR7dGlsZVl9KSB3aWxsIHVzZSBjYXJ2ZWQgYWxjb3ZlLiBSZWFzb246ICR7bWVzc2FnZVJlYXNvbn1gXHJcbiAgICApO1xyXG5cclxuICAgIGlmIChmbG9vck51bWJlciA9PT0gbWluRmxvb3IgJiYgdGlsZVZhbHVlQmVmb3JlTGlmdCAhPT0gVElMRV9ST09NX0ZMT09SKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgYFtNYXBHZW4gRiR7Zmxvb3JOdW1iZXJ9XSBDUklUSUNBTCBNSVNNQVRDSCBvbiBtaW5GbG9vciEgX2ZpbmRMaWZ0UGxhY2VtZW50TG9jYXRpb24gc2VsZWN0ZWQgKCR7dGlsZVh9LCR7dGlsZVl9KSB3aGljaCB3YXMgdHlwZSAke3RpbGVWYWx1ZUJlZm9yZUxpZnR9LCBub3QgVElMRV9ST09NX0ZMT09SLiBUaGlzIGluZGljYXRlcyBhIGZsYXcgaW4gX2ZpbmRMaWZ0UGxhY2VtZW50TG9jYXRpb24uYFxyXG4gICAgICApO1xyXG4gICAgICAvLyBGb3JjaW5nIGFsY292ZSBjcmVhdGlvbiwgYnV0IHRoaXMgaXMgYSBzeW1wdG9tIG9mIGEgZGVlcGVyIGlzc3VlIGZvciBtaW5GbG9vci5cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBhbGNvdmVTaXplID0gMztcclxuICAgIGNvbnN0IGFsY292ZUNvbCA9IE1hdGgubWF4KDEsIHRpbGVYIC0gTWF0aC5mbG9vcihhbGNvdmVTaXplIC8gMikpOyAvLyBFbnN1cmUgYWxjb3ZlIGRvZXNuJ3Qgc3RhcnQgYXQgY29sIDBcclxuICAgIGNvbnN0IGFsY292ZVJvdyA9IE1hdGgubWF4KDEsIHRpbGVZIC0gTWF0aC5mbG9vcihhbGNvdmVTaXplIC8gMikpOyAvLyBFbnN1cmUgYWxjb3ZlIGRvZXNuJ3Qgc3RhcnQgYXQgcm93IDBcclxuICAgIC8vIEVuc3VyZSBhbGNvdmUgZG9lcyBub3QgZ28gb3V0IG9mIGJvdW5kcyBhbmQgcmVzcGVjdHMgbWFwIGJvcmRlcnNcclxuICAgIGNvbnN0IGFsY292ZVdpZHRoID0gTWF0aC5taW4oYWxjb3ZlU2l6ZSwgY29scyAtIDEgLSBhbGNvdmVDb2wpO1xyXG4gICAgY29uc3QgYWxjb3ZlSGVpZ2h0ID0gTWF0aC5taW4oYWxjb3ZlU2l6ZSwgcm93cyAtIDEgLSBhbGNvdmVSb3cpO1xyXG5cclxuICAgIGNvbnN0IG5ld0xpZnRSb29tRGF0YSA9IHtcclxuICAgICAgY29sOiBhbGNvdmVDb2wsXHJcbiAgICAgIHJvdzogYWxjb3ZlUm93LFxyXG4gICAgICB3aWR0aDogYWxjb3ZlV2lkdGgsXHJcbiAgICAgIGhlaWdodDogYWxjb3ZlSGVpZ2h0LFxyXG4gICAgICB0eXBlOiAnbGlmdF9hbGNvdmUnLFxyXG4gICAgICBpZDogYHJvb21fZiR7Zmxvb3JOdW1iZXJ9X2xpZnRhbGNvdmVfJHt0aWxlWH1fJHt0aWxlWX1gLFxyXG4gICAgICBjZW50ZXJUaWxlWDogdGlsZVgsXHJcbiAgICAgIGNlbnRlclRpbGVZOiB0aWxlWSxcclxuICAgICAgY29ubmVjdGVkOiB0cnVlLFxyXG4gICAgICB4OiBhbGNvdmVDb2wsXHJcbiAgICAgIHk6IGFsY292ZVJvdyxcclxuICAgIH07XHJcblxyXG4gICAgZm9yIChsZXQgciA9IG5ld0xpZnRSb29tRGF0YS5yb3c7IHIgPCBuZXdMaWZ0Um9vbURhdGEucm93ICsgbmV3TGlmdFJvb21EYXRhLmhlaWdodDsgcisrKSB7XHJcbiAgICAgIGZvciAobGV0IGMgPSBuZXdMaWZ0Um9vbURhdGEuY29sOyBjIDwgbmV3TGlmdFJvb21EYXRhLmNvbCArIG5ld0xpZnRSb29tRGF0YS53aWR0aDsgYysrKSB7XHJcbiAgICAgICAgaWYgKG1hcFtyXT8uW2NdICE9PSBUSUxFX0xJRlQpIHtcclxuICAgICAgICAgIC8vIERvbid0IG92ZXJ3cml0ZSB0aGUgbGlmdCBpdHNlbGZcclxuICAgICAgICAgIGlmIChyID4gMCAmJiByIDwgcm93cyAtIDEgJiYgYyA+IDAgJiYgYyA8IGNvbHMgLSAxKSBtYXBbcl1bY10gPSBUSUxFX1JPT01fRkxPT1I7IC8vIENhcnZlLCBhdm9pZCBtYXAgZWRnZXNcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJvb21zTGlzdC5wdXNoKG5ld0xpZnRSb29tRGF0YSk7XHJcbiAgICBsaWZ0Um9vbU9iamVjdCA9IG5ld0xpZnRSb29tRGF0YTtcclxuICB9XHJcblxyXG4gIGlmICghbGlmdFJvb21PYmplY3QpIHtcclxuICAgIGNvbnN0IGVycm9yTXNnID0gYFtNYXBHZW4gTGlmdCBGJHtmbG9vck51bWJlcn1dIENSSVQ6IENvdWxkIE5PVCBhc3NvY2lhdGUgbGlmdCBAKCR7dGlsZVh9LCR7dGlsZVl9KSB3aXRoIGFueSByb29tIG9iamVjdCBldmVuIGFmdGVyIGFsY292ZSBhdHRlbXB0LmA7XHJcbiAgICBjb25zb2xlLmVycm9yKGVycm9yTXNnKTtcclxuICAgIGxvZ01hcEdyaWRGb3JEZWJ1ZyhtYXAsIGNvbHMsIHJvd3MpO1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTXNnKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGxpZnRXb3JsZFBvcyA9IHtcclxuICAgIHg6ICh0aWxlWCArIDAuNSkgKiB0aWxlU2l6ZSxcclxuICAgIHk6ICh0aWxlWSArIDAuNSkgKiB0aWxlU2l6ZSxcclxuICAgIHRpbGVYLFxyXG4gICAgdGlsZVksXHJcbiAgICByb29tSWQ6IGxpZnRSb29tT2JqZWN0LmlkLFxyXG4gIH07XHJcbiAgY29uc29sZS5sb2coXHJcbiAgICBgW01hcEdlbiBGJHtmbG9vck51bWJlcn1dIFBsYWNlZCBsaWZ0IEAoJHt0aWxlWH0sJHt0aWxlWX0pIGluIHJvb20gJHtcclxuICAgICAgbGlmdFJvb21PYmplY3QuaWRcclxuICAgIH0uIFdvcmxkOigke2xpZnRXb3JsZFBvcy54LnRvRml4ZWQoMSl9LCR7bGlmdFdvcmxkUG9zLnkudG9GaXhlZCgxKX0pYFxyXG4gICk7XHJcbiAgcmV0dXJuIHsgcG9zaXRpb246IGxpZnRXb3JsZFBvcywgY29vcmRzOiBuZXdseUZvdW5kQ29vcmRzIHx8IGNvb3Jkc1RvVXNlIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9mb3JjZUNvbm5lY3Rpb25Ub1BvaW50KG1hcCwgdGFyZ2V0WCwgdGFyZ2V0WSwgY29scywgcm93cykge1xyXG4gIGNvbnNvbGUubG9nKGAgIFtNYXBHZW4gQ29ubmVjdF0gRm9yY2luZyBjb25uZWN0aW9uIHRvICgke3RhcmdldFh9LCR7dGFyZ2V0WX0pLi4uYCk7XHJcbiAgY29uc3QgZGlycyA9IFtcclxuICAgIFswLCAtMV0sXHJcbiAgICBbMCwgMV0sXHJcbiAgICBbLTEsIDBdLFxyXG4gICAgWzEsIDBdLFxyXG4gIF07XHJcbiAgZm9yIChjb25zdCBbZHgsIGR5XSBvZiBkaXJzKSB7XHJcbiAgICBjb25zdCBudCA9IG1hcFt0YXJnZXRZICsgZHldPy5bdGFyZ2V0WCArIGR4XTtcclxuICAgIGlmIChudCA9PT0gVElMRV9DT1JSSURPUiB8fCBudCA9PT0gVElMRV9ST09NX0ZMT09SIHx8IG50ID09PSBUSUxFX0xJRlQpIHtcclxuICAgICAgaWYgKG1hcFt0YXJnZXRZXVt0YXJnZXRYXSA9PT0gVElMRV9XQUxMKSBtYXBbdGFyZ2V0WV1bdGFyZ2V0WF0gPSBUSUxFX0NPUlJJRE9SO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICB9XHJcbiAgY29uc3QgcSA9IFtbdGFyZ2V0WCwgdGFyZ2V0WSwgMF1dLFxyXG4gICAgdmlzaXRlZCA9IG5ldyBTZXQoW2Ake3RhcmdldFh9LCR7dGFyZ2V0WX1gXSk7XHJcbiAgY29uc3QgcGF0aGFibGUgPSBbVElMRV9XQUxMLCBUSUxFX0NPUlJJRE9SLCBUSUxFX1JPT01fRkxPT1IsIFRJTEVfTElGVF0sXHJcbiAgICB0YXJnZXRzID0gW1RJTEVfQ09SUklET1IsIFRJTEVfUk9PTV9GTE9PUl07XHJcbiAgbGV0IGNsb3Nlc3QgPSBudWxsLFxyXG4gICAgbWluRGlzdCA9IEluZmluaXR5O1xyXG4gIHdoaWxlIChxLmxlbmd0aCA+IDApIHtcclxuICAgIGNvbnN0IFtjWCwgY1ksIGRdID0gcS5zaGlmdCgpO1xyXG4gICAgaWYgKGQgPj0gbWluRGlzdCAmJiBjbG9zZXN0KSBjb250aW51ZTtcclxuICAgIGZvciAoY29uc3QgW2R4LCBkeV0gb2YgZGlycykge1xyXG4gICAgICBjb25zdCBuWCA9IGNYICsgZHgsXHJcbiAgICAgICAgblkgPSBjWSArIGR5LFxyXG4gICAgICAgIGtleSA9IGAke25YfSwke25ZfWA7XHJcbiAgICAgIGlmIChuWCA+PSAwICYmIG5YIDwgY29scyAmJiBuWSA+PSAwICYmIG5ZIDwgcm93cyAmJiAhdmlzaXRlZC5oYXMoa2V5KSkge1xyXG4gICAgICAgIGNvbnN0IHZhbCA9IG1hcFtuWV0/LltuWF07XHJcbiAgICAgICAgdmlzaXRlZC5hZGQoa2V5KTtcclxuICAgICAgICBpZiAodGFyZ2V0cy5pbmNsdWRlcyh2YWwpKSB7XHJcbiAgICAgICAgICBpZiAoZCArIDEgPD0gbWluRGlzdCkge1xyXG4gICAgICAgICAgICBtaW5EaXN0ID0gZCArIDE7XHJcbiAgICAgICAgICAgIGNsb3Nlc3QgPSB7IHg6IG5YLCB5OiBuWSwgZGlzdDogbWluRGlzdCB9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAocGF0aGFibGUuaW5jbHVkZXModmFsKSkge1xyXG4gICAgICAgICAgaWYgKGQgKyAxIDwgbWluRGlzdCB8fCAhY2xvc2VzdCkgcS5wdXNoKFtuWCwgblksIGQgKyAxXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIGlmIChjbG9zZXN0KSB7XHJcbiAgICBjb25zb2xlLmxvZyhcclxuICAgICAgYCAgW01hcEdlbiBDb25uZWN0XSBDbG9zZXN0IHdhbGthYmxlIEAoJHtjbG9zZXN0Lnh9LCR7Y2xvc2VzdC55fSksIGRpc3QgJHtjbG9zZXN0LmRpc3R9LiBDYXJ2aW5nLi4uYFxyXG4gICAgKTtcclxuICAgIF9jYXJ2ZUhvcml6b250YWxDb3JyaWRvcihtYXAsIHRhcmdldFksIHRhcmdldFgsIGNsb3Nlc3QueCwgY29scywgcm93cyk7XHJcbiAgICBfY2FydmVWZXJ0aWNhbENvcnJpZG9yKG1hcCwgY2xvc2VzdC54LCB0YXJnZXRZLCBjbG9zZXN0LnksIGNvbHMsIHJvd3MpO1xyXG4gICAgaWYgKG1hcFt0YXJnZXRZXVt0YXJnZXRYXSA9PT0gVElMRV9DT1JSSURPUiB8fCBtYXBbdGFyZ2V0WV1bdGFyZ2V0WF0gPT09IFRJTEVfUk9PTV9GTE9PUilcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgIGAgIFtNYXBHZW4gQ29ubmVjdF0gQ2FydmVkLCBidXQgdGFyZ2V0ICgke3RhcmdldFh9LCR7dGFyZ2V0WX0pIG5vdCBDb3JyaWRvci9GbG9vciAoaXMgJHttYXBbdGFyZ2V0WV1bdGFyZ2V0WF19KS5gXHJcbiAgICApO1xyXG4gICAgcmV0dXJuIG1hcFt0YXJnZXRZXVt0YXJnZXRYXSAhPT0gVElMRV9XQUxMO1xyXG4gIH1cclxuICBjb25zb2xlLmVycm9yKGAgIFtNYXBHZW4gQ29ubmVjdF0gRkFJTEVEIHRvIGZpbmQgQU5ZIHdhbGthYmxlIGZyb20gKCR7dGFyZ2V0WH0sJHt0YXJnZXRZfSkuYCk7XHJcbiAgcmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfaXNMaWZ0UmVhY2hhYmxlKG1hcCwgbGlmdFBvcywgY29scywgcm93cykge1xyXG4gIGlmICghbGlmdFBvcykgcmV0dXJuIGZhbHNlO1xyXG4gIGNvbnN0IHsgdGlsZVgsIHRpbGVZIH0gPSBsaWZ0UG9zO1xyXG4gIGlmIChcclxuICAgIHRpbGVZIDwgMCB8fFxyXG4gICAgdGlsZVkgPj0gcm93cyB8fFxyXG4gICAgdGlsZVggPCAwIHx8XHJcbiAgICB0aWxlWCA+PSBjb2xzIHx8XHJcbiAgICBtYXBbdGlsZVldPy5bdGlsZVhdICE9PSBUSUxFX0xJRlRcclxuICApIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoYFtNYXBWYWwgUmVhY2hdIEludmFsaWQgbGlmdCBAKCR7dGlsZVh9LCR7dGlsZVl9KSBvciBub3QgTElGVC5gKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgY29uc3Qgd2Fsa2FibGUgPSBbVElMRV9DT1JSSURPUiwgVElMRV9ST09NX0ZMT09SLCBUSUxFX0xJRlRdLFxyXG4gICAgdGFyZ2V0cyA9IFtUSUxFX0NPUlJJRE9SLCBUSUxFX1JPT01fRkxPT1JdO1xyXG4gIGNvbnN0IHsgcmVhY2hhYmxlIH0gPSBwZXJmb3JtQkZTKFxyXG4gICAgbWFwLFxyXG4gICAgdGlsZVgsXHJcbiAgICB0aWxlWSxcclxuICAgIGNvbHMsXHJcbiAgICByb3dzLFxyXG4gICAgd2Fsa2FibGUsXHJcbiAgICB0YXJnZXRzLFxyXG4gICAgKHR4LCB0eSkgPT4gbWFwW3R5XT8uW3R4XVxyXG4gICk7XHJcbiAgaWYgKCFyZWFjaGFibGUpIGNvbnNvbGUuZXJyb3IoYFtNYXBWYWwgUmVhY2hdIEZBSUxFRC4gTGlmdCBAKCR7dGlsZVh9LCR7dGlsZVl9KSBpc29sYXRlZC5gKTtcclxuICByZXR1cm4gcmVhY2hhYmxlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfZW5zdXJlTWFwQm9yZGVycyhtYXAsIGNvbHMsIHJvd3MpIHtcclxuICBmb3IgKGxldCBjID0gMDsgYyA8IGNvbHM7IGMrKykge1xyXG4gICAgbWFwWzBdW2NdID0gVElMRV9XQUxMO1xyXG4gICAgbWFwW3Jvd3MgLSAxXVtjXSA9IFRJTEVfV0FMTDtcclxuICB9XHJcbiAgZm9yIChsZXQgciA9IDA7IHIgPCByb3dzOyByKyspIHtcclxuICAgIG1hcFtyXVswXSA9IFRJTEVfV0FMTDtcclxuICAgIG1hcFtyXVtjb2xzIC0gMV0gPSBUSUxFX1dBTEw7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBsb2dNYXBHcmlkRm9yRGVidWcobWFwLCBjb2xzLCByb3dzKSB7XHJcbiAgaWYgKCFtYXApIHtcclxuICAgIGNvbnNvbGUubG9nKCdbREVCVUcgTUFQXSBudWxsIG1hcC4nKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcbiAgY29uc29sZS5sb2coJy0tLSBERUJVRyBNQVAgR1JJRCAtLS0nKTtcclxuICBsZXQgaCA9ICcgICAnO1xyXG4gIGZvciAobGV0IGMgPSAwOyBjIDwgY29sczsgYysrKSBoICs9IGMgJSAxMCA9PT0gMCA/IE1hdGguZmxvb3IoYyAvIDEwKSA6ICcgJztcclxuICBjb25zb2xlLmxvZyhoKTtcclxuICBoID0gJyAgICc7XHJcbiAgZm9yIChsZXQgYyA9IDA7IGMgPCBjb2xzOyBjKyspIGggKz0gYyAlIDEwO1xyXG4gIGNvbnNvbGUubG9nKGgpO1xyXG4gIGZvciAobGV0IHkgPSAwOyB5IDwgcm93czsgeSsrKSB7XHJcbiAgICBpZiAoIW1hcFt5XSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhgJHt5LnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJyAnKX0gW1JPVyBVTkRFRl1gKTtcclxuICAgICAgY29udGludWU7XHJcbiAgICB9XHJcbiAgICBjb25zdCByUyA9IG1hcFt5XVxyXG4gICAgICAubWFwKCh0KSA9PiB7XHJcbiAgICAgICAgc3dpdGNoICh0KSB7XHJcbiAgICAgICAgICBjYXNlIFRJTEVfV0FMTDpcclxuICAgICAgICAgICAgcmV0dXJuICcjJztcclxuICAgICAgICAgIGNhc2UgVElMRV9DT1JSSURPUjpcclxuICAgICAgICAgICAgcmV0dXJuICcuJztcclxuICAgICAgICAgIGNhc2UgVElMRV9ST09NX0ZMT09SOlxyXG4gICAgICAgICAgICByZXR1cm4gJyAnO1xyXG4gICAgICAgICAgY2FzZSBUSUxFX0xJRlQ6XHJcbiAgICAgICAgICAgIHJldHVybiAnTCc7XHJcbiAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICByZXR1cm4gJz8nO1xyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLmpvaW4oJycpO1xyXG4gICAgY29uc29sZS5sb2coYCR7eS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcgJyl9ICR7clN9YCk7XHJcbiAgfVxyXG4gIGNvbnNvbGUubG9nKCctLS0gRU5EIERFQlVHIE1BUCBHUklEIC0tLScpO1xyXG59XHJcbiIsIi8vIHNyYy9tYXAvUHJvY2VkdXJhbE1hcC5qc1xyXG5pbXBvcnQgeyBCb29rIH0gZnJvbSAnLi9Cb29rLmpzJztcclxuaW1wb3J0IHsgTWFwUmVuZGVyZXIgfSBmcm9tICcuL01hcFJlbmRlcmVyLmpzJztcclxuaW1wb3J0IHsgcmFuZG9tSW50IH0gZnJvbSAnLi4vdXRpbHMvbWFwLmpzJztcclxuaW1wb3J0IHsgZ2VuZXJhdGVMZXZlbERhdGEgfSBmcm9tICcuL01hcEdlbi5qcyc7IC8vIFXFvHl3YW15IHBvcHJhd25laiBuYXp3eVxyXG5pbXBvcnQge1xyXG4gIFRJTEVfV0FMTCxcclxuICBUSUxFX0NPUlJJRE9SLFxyXG4gIFRJTEVfUk9PTV9GTE9PUixcclxuICBUSUxFX0xJRlQsXHJcbiAgTElGVF9JTlRFUkFDVElPTl9SQURJVVNfTVVMVElQTElFUixcclxufSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xyXG5cclxuY29uc3QgREVCVUdfUFJPQ19NQVBfRkxPT1IgPSBudWxsOyAvLyBabWllxYQgbmEgbnVtZXIgcGnEmXRyYSBkbyBkZWJ1Z293YW5pYVxyXG5cclxuZXhwb3J0IGNsYXNzIFByb2NlZHVyYWxNYXAge1xyXG4gIGNvbnN0cnVjdG9yKGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQsIGZsb29yTnVtYmVyLCBtaW5GbG9vciwgbWF4Rmxvb3IpIHtcclxuICAgIHRoaXMudGlsZVNpemUgPSAzMjtcclxuICAgIHRoaXMuY29scyA9IDQwO1xyXG4gICAgdGhpcy5yb3dzID0gMzA7XHJcbiAgICB0aGlzLndpZHRoID0gdGhpcy5jb2xzICogdGhpcy50aWxlU2l6ZTtcclxuICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5yb3dzICogdGhpcy50aWxlU2l6ZTtcclxuICAgIHRoaXMub2Zmc2V0WCA9IDA7XHJcbiAgICB0aGlzLm9mZnNldFkgPSAwO1xyXG5cclxuICAgIHRoaXMuZmxvb3JOdW1iZXIgPSBmbG9vck51bWJlcjtcclxuICAgIHRoaXMubWluRmxvb3IgPSBtaW5GbG9vcjtcclxuICAgIHRoaXMubWF4Rmxvb3IgPSBtYXhGbG9vcjtcclxuXHJcbiAgICB0aGlzLm1hcCA9IG51bGw7XHJcbiAgICB0aGlzLnJvb21zID0gW107XHJcbiAgICB0aGlzLmJvb2tzID0gW107XHJcbiAgICB0aGlzLmxpZnRQb3NpdGlvbiA9IG51bGw7XHJcblxyXG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBNYXBSZW5kZXJlcih0aGlzLnRpbGVTaXplKTtcclxuICAgIHRoaXMucmVuZGVyZXIuZmxvb3JOdW1iZXIgPSB0aGlzLmZsb29yTnVtYmVyOyAvLyBEbGEgTWFwUmVuZGVyZXIsIGplxZtsaSBwb3RyemVidWplXHJcblxyXG4gICAgY29uc3QgZ2VuZXJhdGlvblBhcmFtcyA9IHtcclxuICAgICAgLy8gVGUgcGFyYW1ldHJ5IHPEhSB1xbx5d2FuZSBwcnpleiBnZW5lcmF0ZUxldmVsRGF0YVxyXG4gICAgICBtaW5Sb29tU2l6ZTogNSxcclxuICAgICAgbWF4Um9vbVNpemU6IDEwLFxyXG4gICAgICBjb3JyaWRvclRoaWNrbmVzczogMSxcclxuICAgICAgbnVtUm9vbXM6IDEyLFxyXG4gICAgICBtYXhSb29tQXR0ZW1wdHM6IDIwMCxcclxuICAgICAgYm9va3NQZXJNYXA6IDUsXHJcbiAgICAgIHJvb21UeXBlV2VpZ2h0czoge1xyXG4gICAgICAgIGNsYXNzcm9vbTogNTAsXHJcbiAgICAgICAgb2ZmaWNlOiAyNSxcclxuICAgICAgICBsaWJyYXJ5OiAxNSxcclxuICAgICAgICBsYWI6IDEwLFxyXG4gICAgICAgIHN0b3JhZ2U6IDUsXHJcbiAgICAgICAgdXRpbGl0eTogMTAsXHJcbiAgICAgICAgZ3ltOiAwLCAvLyBneW0gamVzdCBtb2R5Zmlrb3dhbmUgdyBtYXBHZW5lcmF0b3JcclxuICAgICAgfSxcclxuICAgIH07XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZ2VuZXJhdGlvbkNvbmZpZyA9IHtcclxuICAgICAgICBjb2xzOiB0aGlzLmNvbHMsXHJcbiAgICAgICAgcm93czogdGhpcy5yb3dzLFxyXG4gICAgICAgIGZsb29yTnVtYmVyOiB0aGlzLmZsb29yTnVtYmVyLFxyXG4gICAgICAgIG1pbkZsb29yOiB0aGlzLm1pbkZsb29yLFxyXG4gICAgICAgIG1heEZsb29yOiB0aGlzLm1heEZsb29yLFxyXG4gICAgICAgIHRpbGVTaXplOiB0aGlzLnRpbGVTaXplLFxyXG4gICAgICAgIGdlbmVyYXRpb25QYXJhbXM6IGdlbmVyYXRpb25QYXJhbXMsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCB7IG1hcCwgcm9vbXMsIGxpZnRQb3NpdGlvbiB9ID0gZ2VuZXJhdGVMZXZlbERhdGEoZ2VuZXJhdGlvbkNvbmZpZyk7XHJcblxyXG4gICAgICB0aGlzLm1hcCA9IG1hcDtcclxuICAgICAgdGhpcy5yb29tcyA9IHJvb21zOyAvLyByb29tcyB0byBsaXN0YSBvYmlla3TDs3cgeiBtYXBHZW5lcmF0b3JcclxuICAgICAgdGhpcy5saWZ0UG9zaXRpb24gPSBsaWZ0UG9zaXRpb247XHJcblxyXG4gICAgICB0aGlzLnJlbmRlcmVyLnJlc2V0Q29sb3JDYWNoZSgpO1xyXG4gICAgICB0aGlzLnBsYWNlQm9va3NSZWxpYWJseShnZW5lcmF0aW9uUGFyYW1zLmJvb2tzUGVyTWFwKTtcclxuXHJcbiAgICAgIGlmICh0aGlzLmZsb29yTnVtYmVyID09PSBERUJVR19QUk9DX01BUF9GTE9PUikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgICAgYFtQcm9jTWFwIEYke3RoaXMuZmxvb3JOdW1iZXJ9XSBJbml0IGNvbXBsZXRlLiBMaWZ0QCgke2xpZnRQb3NpdGlvbj8udGlsZVh9LCR7bGlmdFBvc2l0aW9uPy50aWxlWX0pLiBSb29tczogJHt0aGlzLnJvb21zLmxlbmd0aH1gXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLmxvZ01hcEdyaWQoKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihgW1Byb2NNYXAgRiR7dGhpcy5mbG9vck51bWJlcn1dIENSSVQgRVJSIGR1cmluZyBtYXAgZ2VuL3NldHVwOmAsIGVycm9yKTtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwbGFjZUJvb2tzUmVsaWFibHkoYm9va3NQZXJNYXApIHtcclxuICAgIHRoaXMuYm9va3MgPSBbXTtcclxuICAgIGNvbnN0IHBvdGVudGlhbExvY3MgPSBbXTtcclxuICAgIGNvbnN0IHBsYWNlZENvb3JkcyA9IG5ldyBTZXQoKTtcclxuICAgIGZvciAobGV0IHIgPSAwOyByIDwgdGhpcy5yb3dzOyByKyspIHtcclxuICAgICAgZm9yIChsZXQgYyA9IDA7IGMgPCB0aGlzLmNvbHM7IGMrKykge1xyXG4gICAgICAgIGNvbnN0IHRpbGVWYWwgPSB0aGlzLm1hcFtyXT8uW2NdO1xyXG4gICAgICAgIGNvbnN0IGlzTGlmdCA9XHJcbiAgICAgICAgICB0aGlzLmxpZnRQb3NpdGlvbiAmJiByID09PSB0aGlzLmxpZnRQb3NpdGlvbi50aWxlWSAmJiBjID09PSB0aGlzLmxpZnRQb3NpdGlvbi50aWxlWDtcclxuICAgICAgICBpZiAoKHRpbGVWYWwgPT09IFRJTEVfQ09SUklET1IgfHwgdGlsZVZhbCA9PT0gVElMRV9ST09NX0ZMT09SKSAmJiAhaXNMaWZ0KSB7XHJcbiAgICAgICAgICBwb3RlbnRpYWxMb2NzLnB1c2goeyByLCBjIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgbGV0IHBsYWNlZCA9IDA7XHJcbiAgICB3aGlsZSAocGxhY2VkIDwgYm9va3NQZXJNYXAgJiYgcG90ZW50aWFsTG9jcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGNvbnN0IHJhbmRJZHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3RlbnRpYWxMb2NzLmxlbmd0aCk7XHJcbiAgICAgIGNvbnN0IHsgciwgYyB9ID0gcG90ZW50aWFsTG9jcy5zcGxpY2UocmFuZElkeCwgMSlbMF07XHJcbiAgICAgIGNvbnN0IGtleSA9IGAke2N9LCR7cn1gO1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgKHRoaXMubWFwW3JdPy5bY10gPT09IFRJTEVfQ09SUklET1IgfHwgdGhpcy5tYXBbcl0/LltjXSA9PT0gVElMRV9ST09NX0ZMT09SKSAmJlxyXG4gICAgICAgICFwbGFjZWRDb29yZHMuaGFzKGtleSlcclxuICAgICAgKSB7XHJcbiAgICAgICAgY29uc3QgYm9va0lkID0gYGJvb2tfZiR7dGhpcy5mbG9vck51bWJlcn1fJHtwbGFjZWQgKyAxfWA7XHJcbiAgICAgICAgdGhpcy5ib29rcy5wdXNoKFxyXG4gICAgICAgICAgbmV3IEJvb2soKGMgKyAwLjUpICogdGhpcy50aWxlU2l6ZSwgKHIgKyAwLjUpICogdGhpcy50aWxlU2l6ZSwgYm9va0lkLCB0aGlzLnRpbGVTaXplKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcGxhY2VkQ29vcmRzLmFkZChrZXkpO1xyXG4gICAgICAgIHBsYWNlZCsrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpc1dhbGthYmxlKHdvcmxkWCwgd29ybGRZKSB7XHJcbiAgICBpZiAoIXRoaXMubWFwKSByZXR1cm4gZmFsc2U7XHJcbiAgICBjb25zdCB0aWxlWCA9IE1hdGguZmxvb3Iod29ybGRYIC8gdGhpcy50aWxlU2l6ZSksXHJcbiAgICAgIHRpbGVZID0gTWF0aC5mbG9vcih3b3JsZFkgLyB0aGlzLnRpbGVTaXplKTtcclxuICAgIGlmICh0aWxlWCA8IDAgfHwgdGlsZVggPj0gdGhpcy5jb2xzIHx8IHRpbGVZIDwgMCB8fCB0aWxlWSA+PSB0aGlzLnJvd3MpIHJldHVybiBmYWxzZTtcclxuICAgIGNvbnN0IHRpbGVWYWwgPSB0aGlzLm1hcFt0aWxlWV0/Llt0aWxlWF07XHJcbiAgICByZXR1cm4gdGlsZVZhbCA9PT0gVElMRV9DT1JSSURPUiB8fCB0aWxlVmFsID09PSBUSUxFX1JPT01fRkxPT1IgfHwgdGlsZVZhbCA9PT0gVElMRV9MSUZUO1xyXG4gIH1cclxuXHJcbiAgZmluZFJhbmRvbUluaXRpYWxTcGF3blBvc2l0aW9uKGNoYXJhY3RlckZvckNvbGxpc2lvbkNoZWNrID0gbnVsbCkge1xyXG4gICAgLy8gRG9kYWplbXkgb3Bjam9uYWxueSBhcmd1bWVudFxyXG4gICAgaWYgKCF0aGlzLm1hcCkgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIGNvbnN0IHN1aXRhYmxlVGlsZXMgPSBbXTtcclxuICAgIGNvbnN0IHRlbXBDaGFyQ29sbGlzaW9uQm94ID0gY2hhcmFjdGVyRm9yQ29sbGlzaW9uQ2hlY2tcclxuICAgICAgPyB7XHJcbiAgICAgICAgICB3aWR0aDogY2hhcmFjdGVyRm9yQ29sbGlzaW9uQ2hlY2suY29sbGlzaW9uQm94V2lkdGgsXHJcbiAgICAgICAgICBoZWlnaHQ6IGNoYXJhY3RlckZvckNvbGxpc2lvbkNoZWNrLmNvbGxpc2lvbkJveEhlaWdodCxcclxuICAgICAgICB9XHJcbiAgICAgIDogeyB3aWR0aDogdGhpcy50aWxlU2l6ZSAqIDAuNiwgaGVpZ2h0OiB0aGlzLnRpbGVTaXplICogMC44IH07IC8vIERvbXnFm2xueSBwcnp5Ymxpxbxvbnkgcm96bWlhclxyXG5cclxuICAgIGNvbnN0IGNoZWNrQ2FuZGlkYXRlID0gKGMsIHIpID0+IHtcclxuICAgICAgY29uc3Qgd29ybGRYID0gKGMgKyAwLjUpICogdGhpcy50aWxlU2l6ZTtcclxuICAgICAgY29uc3Qgd29ybGRZID0gKHIgKyAwLjUpICogdGhpcy50aWxlU2l6ZTtcclxuXHJcbiAgICAgIC8vIFNwcmF3ZHplbmllIDE6IEN6eSBzYW0ga2FmZWxlayBqZXN0IG9kcG93aWVkbmkgKG5pZSB3aW5kYSwgcG9kxYJvZ2Eva29yeXRhcnopXHJcbiAgICAgIGNvbnN0IHRpbGVWYWx1ZSA9IHRoaXMubWFwW3JdPy5bY107XHJcbiAgICAgIGNvbnN0IGlzTGlmdCA9XHJcbiAgICAgICAgdGhpcy5saWZ0UG9zaXRpb24gJiYgciA9PT0gdGhpcy5saWZ0UG9zaXRpb24udGlsZVkgJiYgYyA9PT0gdGhpcy5saWZ0UG9zaXRpb24udGlsZVg7XHJcbiAgICAgIGlmICghKCh0aWxlVmFsdWUgPT09IFRJTEVfQ09SUklET1IgfHwgdGlsZVZhbHVlID09PSBUSUxFX1JPT01fRkxPT1IpICYmICFpc0xpZnQpKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBTcHJhd2R6ZW5pZSAyOiBDenkgamVzdCB3eXN0YXJjemFqxIVjbyBvdHdhcnR5IChvcGNqb25hbG5lLCBhbGUgZG9icmUgZGxhIGpha2/Fm2NpKVxyXG4gICAgICAvLyBpZiAoIXRoaXMuaXNUaWxlT3BlbkVub3VnaChjLCByLCAyLCB0cnVlKSkgeyAvLyBXeW1hZ2FqbXkgcHJ6eW5ham1uaWVqIDIgb3R3YXJ0eWNoIHN0cm9uLCB1bmlrYWogd8SFc2tpY2hcclxuICAgICAgLy8gICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgLy8gfVxyXG5cclxuICAgICAgLy8gU3ByYXdkemVuaWUgMzogU3ltdWxhY2phIGtvbGl6amkgcG9zdGFjaSBuYSB0eW0ga2FmZWxrdVxyXG4gICAgICAvLyBNdXNpbXkgc3ByYXdkemnEhywgY3p5IHByb3N0b2vEhXQga29saXp5am55IHBvc3RhY2kgbmllIHphY2hvZHppIG5hIMWbY2lhbnlcclxuICAgICAgY29uc3QgaGFsZkNoYXJXaWR0aCA9IHRlbXBDaGFyQ29sbGlzaW9uQm94LndpZHRoIC8gMjtcclxuICAgICAgY29uc3QgaGFsZkNoYXJIZWlnaHQgPSB0ZW1wQ2hhckNvbGxpc2lvbkJveC5oZWlnaHQgLyAyOyAvLyBMdWIgdcW8eWogY29sbGlzaW9uQm94RmVldE9mZnNldFJhdGlvIGRsYSBZXHJcblxyXG4gICAgICBjb25zdCBwb2ludHNUb1ZlcmlmeSA9IFtcclxuICAgICAgICB7IHg6IHdvcmxkWCAtIGhhbGZDaGFyV2lkdGgsIHk6IHdvcmxkWSAtIGhhbGZDaGFySGVpZ2h0IH0sIC8vIExld3ktZ8Ozcm55IG5hcm/FvG5payBwb3N0YWNpXHJcbiAgICAgICAgeyB4OiB3b3JsZFggKyBoYWxmQ2hhcldpZHRoLCB5OiB3b3JsZFkgLSBoYWxmQ2hhckhlaWdodCB9LCAvLyBQcmF3eS1nw7NybnlcclxuICAgICAgICB7IHg6IHdvcmxkWCAtIGhhbGZDaGFyV2lkdGgsIHk6IHdvcmxkWSArIGhhbGZDaGFySGVpZ2h0IH0sIC8vIExld3ktZG9sbnlcclxuICAgICAgICB7IHg6IHdvcmxkWCArIGhhbGZDaGFyV2lkdGgsIHk6IHdvcmxkWSArIGhhbGZDaGFySGVpZ2h0IH0sIC8vIFByYXd5LWRvbG55XHJcbiAgICAgICAgLy8gTW/FvG5hIGRvZGHEhyDFm3JvZGtpIGtyYXfEmWR6aSwgamXFm2xpIGtvbmllY3puZVxyXG4gICAgICAgIHsgeDogd29ybGRYLCB5OiB3b3JsZFkgLSBoYWxmQ2hhckhlaWdodCB9LCAvLyDFmnJvZGVrLWfDs3JhXHJcbiAgICAgICAgeyB4OiB3b3JsZFgsIHk6IHdvcmxkWSArIGhhbGZDaGFySGVpZ2h0IH0sIC8vIMWacm9kZWstZMOzxYJcclxuICAgICAgICB7IHg6IHdvcmxkWCAtIGhhbGZDaGFyV2lkdGgsIHk6IHdvcmxkWSB9LCAvLyDFmnJvZGVrLWxld29cclxuICAgICAgICB7IHg6IHdvcmxkWCArIGhhbGZDaGFyV2lkdGgsIHk6IHdvcmxkWSB9LCAvLyDFmnJvZGVrLXByYXdvXHJcbiAgICAgIF07XHJcblxyXG4gICAgICBmb3IgKGNvbnN0IHBvaW50IG9mIHBvaW50c1RvVmVyaWZ5KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzV2Fsa2FibGUocG9pbnQueCwgcG9pbnQueSkpIHtcclxuICAgICAgICAgIC8vIGlzV2Fsa2FibGUgc3ByYXdkemEgdHlwIGthZmVsa2FcclxuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGAgIFtTcGF3biBDYW5kaWRhdGUgRmFpbF0gVGlsZSAoJHtjfSwke3J9KSAtPiBwb2ludCAke0pTT04uc3RyaW5naWZ5KHBvaW50KX0gaXMgbm90IHdhbGthYmxlLmApO1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBKZWRlbiB6IHB1bmt0w7N3IGtvbGl6eWpueWNoIGplc3QgbmEgbmllcHJ6ZWNob2RuaW0ga2FmZWxrdVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdHJ1ZTsgLy8gV3N6eXN0a2llIHB1bmt0eSBzxIUgbmEgXCJ3YWxrYWJsZVwiXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFByZWZlcnVqIG1pZWpzY2EgZGFsZWogb2Qga3Jhd8SZZHppXHJcbiAgICBmb3IgKGxldCByID0gMTsgciA8IHRoaXMucm93cyAtIDE7IHIrKykge1xyXG4gICAgICBmb3IgKGxldCBjID0gMTsgYyA8IHRoaXMuY29scyAtIDE7IGMrKykge1xyXG4gICAgICAgIGlmIChjaGVja0NhbmRpZGF0ZShjLCByKSkge1xyXG4gICAgICAgICAgaWYgKHRoaXMuaXNUaWxlT3BlbkVub3VnaChjLCByLCAyLCB0cnVlKSlcclxuICAgICAgICAgICAgLy8gRG9kYXRrb3dlIGtyeXRlcml1bSBqYWtvxZtjaVxyXG4gICAgICAgICAgICBzdWl0YWJsZVRpbGVzLnB1c2goeyByLCBjIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEplxZtsaSBuaWUgbWEgaWRlYWxueWNoLCBzenVrYWogd3N6xJlkemllXHJcbiAgICBpZiAoc3VpdGFibGVUaWxlcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgIGBbUHJvY01hcCBGJHt0aGlzLmZsb29yTnVtYmVyfSBTcGF3bl0gTm8gaWRlYWwgb3BlbiBzcG90cyBmb3VuZCwgY2hlY2tpbmcgYWxsIHZhbGlkIHRpbGVzLmBcclxuICAgICAgKTtcclxuICAgICAgZm9yIChsZXQgciA9IDA7IHIgPCB0aGlzLnJvd3M7IHIrKykge1xyXG4gICAgICAgIGZvciAobGV0IGMgPSAwOyBjIDwgdGhpcy5jb2xzOyBjKyspIHtcclxuICAgICAgICAgIGlmIChjaGVja0NhbmRpZGF0ZShjLCByKSkge1xyXG4gICAgICAgICAgICBzdWl0YWJsZVRpbGVzLnB1c2goeyByLCBjIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChzdWl0YWJsZVRpbGVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgIGBbUHJvY01hcCBGJHt0aGlzLmZsb29yTnVtYmVyfSBTcGF3bl0gQ1JJVElDQUw6IE5vIHN1aXRhYmxlIHNwYXduIHRpbGVzIGZvdW5kIGFmdGVyIHRob3JvdWdoIGNoZWNrIWBcclxuICAgICAgKTtcclxuICAgICAgLy8gT3N0YXRlY3pueSBmYWxsYmFjazogxZtyb2RlayBwaWVyd3N6ZWogem5hbGV6aW9uZWogcG9kxYJvZ2kgcG9rb2p1IChiYXJkem8gYXdhcnlqbmUpXHJcbiAgICAgIGZvciAoY29uc3Qgcm9vbSBvZiB0aGlzLnJvb21zKSB7XHJcbiAgICAgICAgZm9yIChsZXQgck9mZnNldCA9IDA7IHJPZmZzZXQgPCByb29tLmhlaWdodDsgck9mZnNldCsrKSB7XHJcbiAgICAgICAgICBmb3IgKGxldCBjT2Zmc2V0ID0gMDsgY09mZnNldCA8IHJvb20ud2lkdGg7IGNPZmZzZXQrKykge1xyXG4gICAgICAgICAgICBjb25zdCByVGVzdCA9IHJvb20ueSArIHJPZmZzZXQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGNUZXN0ID0gcm9vbS54ICsgY09mZnNldDtcclxuICAgICAgICAgICAgaWYgKHRoaXMubWFwW3JUZXN0XT8uW2NUZXN0XSA9PT0gVElMRV9ST09NX0ZMT09SKSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgICAgICAgICAgYFtQcm9jTWFwIEYke3RoaXMuZmxvb3JOdW1iZXJ9IFNwYXduXSBFTUVSR0VOQ1kgRkFMTEJBQ0sgdG8gZmlyc3Qgcm9vbSBmbG9vciB0aWxlOiAoJHtjVGVzdH0sJHtyVGVzdH0pYFxyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHsgeDogKGNUZXN0ICsgMC41KSAqIHRoaXMudGlsZVNpemUsIHk6IChyVGVzdCArIDAuNSkgKiB0aGlzLnRpbGVTaXplIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDsgLy8gTmFwcmF3ZMSZIG5pZSBtYSBnZHppZVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgciwgYyB9ID0gc3VpdGFibGVUaWxlc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBzdWl0YWJsZVRpbGVzLmxlbmd0aCldO1xyXG4gICAgY29uc29sZS5sb2coYFtQcm9jTWFwIEYke3RoaXMuZmxvb3JOdW1iZXJ9IFNwYXduXSBTZWxlY3RlZCBzcGF3biB0aWxlOiAoJHtjfSwke3J9KWApO1xyXG4gICAgcmV0dXJuIHsgeDogKGMgKyAwLjUpICogdGhpcy50aWxlU2l6ZSwgeTogKHIgKyAwLjUpICogdGhpcy50aWxlU2l6ZSB9O1xyXG4gIH1cclxuXHJcbiAgaXNUaWxlT3BlbkVub3VnaCh0aWxlWCwgdGlsZVksIG1pbk9wZW5TaWRlcyA9IDIsIGF2b2lkTmFycm93ID0gZmFsc2UpIHtcclxuICAgIGlmICghdGhpcy5tYXApIHJldHVybiBmYWxzZTtcclxuICAgIGxldCBvcGVuQ291bnQgPSAwO1xyXG4gICAgY29uc3QgZGlycyA9IFtcclxuICAgICAgWzAsIC0xXSxcclxuICAgICAgWzAsIDFdLFxyXG4gICAgICBbLTEsIDBdLFxyXG4gICAgICBbMSwgMF0sXHJcbiAgICBdOyAvLyBOLFMsVyxFXHJcbiAgICBjb25zdCBpc09wZW4gPSBbZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2VdO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IG5YID0gdGlsZVggKyBkaXJzW2ldWzBdLFxyXG4gICAgICAgIG5ZID0gdGlsZVkgKyBkaXJzW2ldWzFdO1xyXG4gICAgICBpZiAoblggPj0gMCAmJiBuWCA8IHRoaXMuY29scyAmJiBuWSA+PSAwICYmIG5ZIDwgdGhpcy5yb3dzKSB7XHJcbiAgICAgICAgY29uc3QgdmFsID0gdGhpcy5tYXBbblldPy5bblhdO1xyXG4gICAgICAgIGlmICh2YWwgPT09IFRJTEVfQ09SUklET1IgfHwgdmFsID09PSBUSUxFX1JPT01fRkxPT1IgfHwgdmFsID09PSBUSUxFX0xJRlQpIHtcclxuICAgICAgICAgIG9wZW5Db3VudCsrO1xyXG4gICAgICAgICAgaXNPcGVuW2ldID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChvcGVuQ291bnQgPCBtaW5PcGVuU2lkZXMpIHJldHVybiBmYWxzZTtcclxuICAgIGlmIChhdm9pZE5hcnJvdyAmJiBvcGVuQ291bnQgPT09IDIpIHtcclxuICAgICAgLy8gQ2hlY2sgZm9yIDEtdGlsZSB3aWRlIHBhc3NhZ2VcclxuICAgICAgaWYgKFxyXG4gICAgICAgIChpc09wZW5bMF0gJiYgaXNPcGVuWzFdICYmICFpc09wZW5bMl0gJiYgIWlzT3BlblszXSkgfHxcclxuICAgICAgICAoaXNPcGVuWzJdICYmIGlzT3BlblszXSAmJiAhaXNPcGVuWzBdICYmICFpc09wZW5bMV0pXHJcbiAgICAgIClcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIGZpbmROZWFyZXN0V2Fsa2FibGVUaWxlKHdvcmxkWCwgd29ybGRZLCBtYXhSID0gOCwgZXhjbHVkZUxpZnQgPSBmYWxzZSwgYXZvaWROYXJyb3cgPSBmYWxzZSkge1xyXG4gICAgaWYgKCF0aGlzLm1hcCkgcmV0dXJuIG51bGw7XHJcbiAgICBjb25zdCB0WCA9IE1hdGguZmxvb3Iod29ybGRYIC8gdGhpcy50aWxlU2l6ZSksXHJcbiAgICAgIHRZID0gTWF0aC5mbG9vcih3b3JsZFkgLyB0aGlzLnRpbGVTaXplKTtcclxuICAgIGNvbnN0IHRhcmdldHMgPSBbVElMRV9DT1JSSURPUiwgVElMRV9ST09NX0ZMT09SXTtcclxuXHJcbiAgICBpZiAodFggPj0gMCAmJiB0WCA8IHRoaXMuY29scyAmJiB0WSA+PSAwICYmIHRZIDwgdGhpcy5yb3dzKSB7XHJcbiAgICAgIGNvbnN0IHZhbCA9IHRoaXMubWFwW3RZXVt0WF07XHJcbiAgICAgIGlmIChcclxuICAgICAgICB0YXJnZXRzLmluY2x1ZGVzKHZhbCkgJiZcclxuICAgICAgICAoIWV4Y2x1ZGVMaWZ0IHx8IHZhbCAhPT0gVElMRV9MSUZUKSAmJlxyXG4gICAgICAgIHRoaXMuaXNUaWxlT3BlbkVub3VnaCh0WCwgdFksIDIsIGF2b2lkTmFycm93KVxyXG4gICAgICApIHtcclxuICAgICAgICByZXR1cm4geyB4OiAodFggKyAwLjUpICogdGhpcy50aWxlU2l6ZSwgeTogKHRZICsgMC41KSAqIHRoaXMudGlsZVNpemUgfTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgZm9yIChsZXQgciA9IDE7IHIgPD0gbWF4UjsgcisrKSB7XHJcbiAgICAgIGZvciAobGV0IGR5ID0gLXI7IGR5IDw9IHI7IGR5KyspIHtcclxuICAgICAgICBmb3IgKGxldCBkeCA9IC1yOyBkeCA8PSByOyBkeCsrKSB7XHJcbiAgICAgICAgICBpZiAoTWF0aC5hYnMoZHgpIDwgciAmJiBNYXRoLmFicyhkeSkgPCByKSBjb250aW51ZTsgLy8gT25seSBvdXRlciByaW5nXHJcbiAgICAgICAgICBjb25zdCBjWCA9IHRYICsgZHgsXHJcbiAgICAgICAgICAgIGNZID0gdFkgKyBkeTtcclxuICAgICAgICAgIGlmIChjWCA8IDAgfHwgY1ggPj0gdGhpcy5jb2xzIHx8IGNZIDwgMCB8fCBjWSA+PSB0aGlzLnJvd3MpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgY29uc3QgdmFsID0gdGhpcy5tYXBbY1ldPy5bY1hdO1xyXG4gICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICB0YXJnZXRzLmluY2x1ZGVzKHZhbCkgJiZcclxuICAgICAgICAgICAgKCFleGNsdWRlTGlmdCB8fCB2YWwgIT09IFRJTEVfTElGVCkgJiZcclxuICAgICAgICAgICAgdGhpcy5pc1RpbGVPcGVuRW5vdWdoKGNYLCBjWSwgMiwgYXZvaWROYXJyb3cpXHJcbiAgICAgICAgICApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgeDogKGNYICsgMC41KSAqIHRoaXMudGlsZVNpemUsIHk6IChjWSArIDAuNSkgKiB0aGlzLnRpbGVTaXplIH07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBCRlMgZmFsbGJhY2sgKHNpbXBsaWZpZWQsIGNvdWxkIGJlIG1vcmUgcm9idXN0KVxyXG4gICAgY29uc3QgcSA9IFtbdFgsIHRZXV0sXHJcbiAgICAgIHZpc2l0ZWQgPSBuZXcgU2V0KFtgJHt0WH0sJHt0WX1gXSk7XHJcbiAgICBjb25zdCBwYXRoYWJsZUJGUyA9IFtUSUxFX0NPUlJJRE9SLCBUSUxFX1JPT01fRkxPT1IsIFRJTEVfTElGVF07XHJcbiAgICB3aGlsZSAocS5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGNvbnN0IFtjWCwgY1ldID0gcS5zaGlmdCgpO1xyXG4gICAgICBmb3IgKGNvbnN0IFtkeCwgZHldIG9mIFtcclxuICAgICAgICBbMCwgLTFdLFxyXG4gICAgICAgIFswLCAxXSxcclxuICAgICAgICBbLTEsIDBdLFxyXG4gICAgICAgIFsxLCAwXSxcclxuICAgICAgXSkge1xyXG4gICAgICAgIGNvbnN0IG5YID0gY1ggKyBkeCxcclxuICAgICAgICAgIG5ZID0gY1kgKyBkeSxcclxuICAgICAgICAgIGtleSA9IGAke25YfSwke25ZfWA7XHJcbiAgICAgICAgaWYgKG5YID49IDAgJiYgblggPCB0aGlzLmNvbHMgJiYgblkgPj0gMCAmJiBuWSA8IHRoaXMucm93cyAmJiAhdmlzaXRlZC5oYXMoa2V5KSkge1xyXG4gICAgICAgICAgY29uc3QgdmFsID0gdGhpcy5tYXBbblldPy5bblhdO1xyXG4gICAgICAgICAgdmlzaXRlZC5hZGQoa2V5KTtcclxuICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgdGFyZ2V0cy5pbmNsdWRlcyh2YWwpICYmXHJcbiAgICAgICAgICAgICghZXhjbHVkZUxpZnQgfHwgdmFsICE9PSBUSUxFX0xJRlQpICYmXHJcbiAgICAgICAgICAgIHRoaXMuaXNUaWxlT3BlbkVub3VnaChuWCwgblksIDIsIGF2b2lkTmFycm93KVxyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHg6IChuWCArIDAuNSkgKiB0aGlzLnRpbGVTaXplLCB5OiAoblkgKyAwLjUpICogdGhpcy50aWxlU2l6ZSB9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHBhdGhhYmxlQkZTLmluY2x1ZGVzKHZhbCkpIHEucHVzaChbblgsIG5ZXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIGdldFJvb21Db250YWluaW5nVGlsZSh0aWxlWCwgdGlsZVkpIHtcclxuICAgIGlmICghdGhpcy5yb29tcyB8fCB0aGlzLnJvb21zLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XHJcbiAgICBmb3IgKGNvbnN0IHJvb20gb2YgdGhpcy5yb29tcykge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgdGlsZVggPj0gcm9vbS5jb2wgJiZcclxuICAgICAgICB0aWxlWCA8IHJvb20uY29sICsgcm9vbS53aWR0aCAmJlxyXG4gICAgICAgIHRpbGVZID49IHJvb20ucm93ICYmXHJcbiAgICAgICAgdGlsZVkgPCByb29tLnJvdyArIHJvb20uaGVpZ2h0XHJcbiAgICAgICkge1xyXG4gICAgICAgIGNvbnN0IGFjdHVhbFRpbGUgPSB0aGlzLm1hcFt0aWxlWV0/Llt0aWxlWF07XHJcbiAgICAgICAgLy8gTGlmdCBpcyBjb25zaWRlcmVkIFwiaW5cIiBhIHJvb20gaWYgaXQncyBhdCB0aGUgcm9vbSdzIGNvb3JkcyBhbmQgaXMgVElMRV9MSUZULFxyXG4gICAgICAgIC8vIG9yIGlmIHRoZSB0aWxlIGlzIFRJTEVfUk9PTV9GTE9PUiAoZm9yIGNoZWNraW5nIGdlbmVyYWwgcm9vbSB0aWxlcykuXHJcbiAgICAgICAgLy8gRm9yIGxpZnQgc3BlY2lmaWNhbGx5LCB3ZSBjaGVjayBpZiBpdCdzIHdpdGhpbiB0aGUgcm9vbSdzIHJlY3Rhbmd1bGFyIGJvdW5kcy5cclxuICAgICAgICAvLyBUaGUgYG1hcEdlbmVyYXRvcmAgZW5zdXJlcyB0aGUgYGxpZnRfYWxjb3ZlYCB0eXBlIHJvb20gaXMgY3JlYXRlZCBjb3JyZWN0bHkuXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgYWN0dWFsVGlsZSA9PT0gVElMRV9MSUZUIHx8XHJcbiAgICAgICAgICAoYWN0dWFsVGlsZSA9PT0gVElMRV9ST09NX0ZMT09SICYmIHJvb20udHlwZSAhPT0gJ2xpZnRfYWxjb3ZlJylcclxuICAgICAgICApIHtcclxuICAgICAgICAgIHJldHVybiByb29tO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocm9vbS50eXBlID09PSAnbGlmdF9hbGNvdmUnICYmIGFjdHVhbFRpbGUgPT09IFRJTEVfTElGVCkge1xyXG4gICAgICAgICAgLy8gRXhwbGljaXRseSBmb3IgbGlmdF9hbGNvdmVcclxuICAgICAgICAgIHJldHVybiByb29tO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gY29uc29sZS53YXJuKGBbUHJvY01hcCBGJHt0aGlzLmZsb29yTnVtYmVyfV0gVGlsZSAoJHt0aWxlWH0sJHt0aWxlWX0pIG5vdCBpbiBhbnkgcm9vbSBvciBub3Qgcm9vbSBmbG9vci9saWZ0LmApO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICBnZXRSb29tQ2VudGVyKHJvb20pIHtcclxuICAgIGlmICghcm9vbSkgcmV0dXJuIG51bGw7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB4OiAocm9vbS5jb2wgKyByb29tLndpZHRoIC8gMikgKiB0aGlzLnRpbGVTaXplLFxyXG4gICAgICB5OiAocm9vbS5yb3cgKyByb29tLmhlaWdodCAvIDIpICogdGhpcy50aWxlU2l6ZSxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBnZXRTcGF3blBvaW50SW5Sb29tT2ZMaWZ0KGxpZnRUaWxlWCwgbGlmdFRpbGVZLCBwcmVmZXJyZWREaXN0YW5jZSA9IDEpIHtcclxuICAgIC8vIFRoaXMgZnVuY3Rpb24gY2FuIGJlIHNpbXBsaWZpZWQgb3IgdXNlZCBhcyBhIG1vcmUgZmluZS1ncmFpbmVkIHNwYXduIGFkanVzdGVyXHJcbiAgICAvLyBpZiBnZXRSb29tQ2VudGVyICsgZW5zdXJlQ2hhcmFjdGVySXNPbldhbGthYmxlVGlsZSBpc24ndCBwZXJmZWN0LlxyXG4gICAgLy8gRm9yIG5vdywgZmluZCBhIHRpbGUgYWRqYWNlbnQgdG8gdGhlIGxpZnQgdGhhdCBpcyByb29tIGZsb29yLlxyXG4gICAgY29uc3Qgcm9vbSA9IHRoaXMuZ2V0Um9vbUNvbnRhaW5pbmdUaWxlKGxpZnRUaWxlWCwgbGlmdFRpbGVZKTtcclxuICAgIGlmICghcm9vbSkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgY29uc3QgZGlycyA9IFtcclxuICAgICAgeyBkeDogMCwgZHk6IC0xIH0sXHJcbiAgICAgIHsgZHg6IDAsIGR5OiAxIH0sXHJcbiAgICAgIHsgZHg6IC0xLCBkeTogMCB9LFxyXG4gICAgICB7IGR4OiAxLCBkeTogMCB9LFxyXG4gICAgXTsgLy8gTiwgUywgVywgRVxyXG4gICAgY29uc3QgY2FuZGlkYXRlcyA9IFtdO1xyXG5cclxuICAgIGZvciAoY29uc3QgZGlyIG9mIGRpcnMpIHtcclxuICAgICAgY29uc3QgY2hlY2tYID0gbGlmdFRpbGVYICsgZGlyLmR4O1xyXG4gICAgICBjb25zdCBjaGVja1kgPSBsaWZ0VGlsZVkgKyBkaXIuZHk7XHJcbiAgICAgIC8vIENoZWNrIGlmIGFkamFjZW50IHRpbGUgaXMgd2l0aGluIHRoZSBzYW1lIHJvb20gYW5kIGlzIGEgZmxvb3IgdGlsZVxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgY2hlY2tYID49IHJvb20uY29sICYmXHJcbiAgICAgICAgY2hlY2tYIDwgcm9vbS5jb2wgKyByb29tLndpZHRoICYmXHJcbiAgICAgICAgY2hlY2tZID49IHJvb20ucm93ICYmXHJcbiAgICAgICAgY2hlY2tZIDwgcm9vbS5yb3cgKyByb29tLmhlaWdodCAmJlxyXG4gICAgICAgIHRoaXMubWFwW2NoZWNrWV0/LltjaGVja1hdID09PSBUSUxFX1JPT01fRkxPT1JcclxuICAgICAgKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNUaWxlT3BlbkVub3VnaChjaGVja1gsIGNoZWNrWSwgMiwgdHJ1ZSkpIHtcclxuICAgICAgICAgIC8vIFByZWZlciBvcGVuIHNwb3RzXHJcbiAgICAgICAgICBjYW5kaWRhdGVzLnB1c2goeyB4OiAoY2hlY2tYICsgMC41KSAqIHRoaXMudGlsZVNpemUsIHk6IChjaGVja1kgKyAwLjUpICogdGhpcy50aWxlU2l6ZSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChjYW5kaWRhdGVzLmxlbmd0aCA+IDApIHJldHVybiBjYW5kaWRhdGVzWzBdOyAvLyBSZXR1cm4gZmlyc3QgZ29vZCBjYW5kaWRhdGVcclxuXHJcbiAgICAvLyBGYWxsYmFjazogaWYgbm8gXCJnb29kXCIgYWRqYWNlbnQgc3BvdCwganVzdCB1c2Ugcm9vbSBjZW50ZXIgKHdoaWNoIG1pZ2h0IGJlIHRoZSBsaWZ0IGl0c2VsZilcclxuICAgIC8vIEdhbWVwbGF5TWFuYWdlcidzIGVuc3VyZUNoYXJhY3RlcklzT25XYWxrYWJsZVRpbGUgd2lsbCBoYW5kbGUgbnVkZ2luZyBvZmYgdGhlIGxpZnQuXHJcbiAgICAvLyBjb25zb2xlLndhcm4oYFtQcm9jTWFwIEYke3RoaXMuZmxvb3JOdW1iZXJ9XSBnZXRTcGF3blBvaW50SW5Sb29tT2ZMaWZ0OiBObyBpZGVhbCBhZGphY2VudCBzcG90LCB1c2luZyByb29tIGNlbnRlciBmb3IgbGlmdCBpbiAke3Jvb20uaWR9YCk7XHJcbiAgICByZXR1cm4gdGhpcy5nZXRSb29tQ2VudGVyKHJvb20pO1xyXG4gIH1cclxuXHJcbiAgZmluZE5lYXJieVVuYW5zd2VyZWRCb29rKHdvcmxkWCwgd29ybGRZLCByYWRpdXMgPSB0aGlzLnRpbGVTaXplICogMC44KSB7XHJcbiAgICBpZiAoIXRoaXMuYm9va3MgfHwgdGhpcy5ib29rcy5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xyXG4gICAgbGV0IGNsb3Nlc3RCb29rID0gbnVsbCxcclxuICAgICAgbWluRGlzdFNxID0gcmFkaXVzICogcmFkaXVzO1xyXG4gICAgZm9yIChjb25zdCBib29rIG9mIHRoaXMuYm9va3MpIHtcclxuICAgICAgaWYgKCFib29rLmlzQ29sbGVjdGVkKSB7XHJcbiAgICAgICAgY29uc3QgZFggPSBib29rLnggLSB3b3JsZFgsXHJcbiAgICAgICAgICBkWSA9IGJvb2sueSAtIHdvcmxkWSxcclxuICAgICAgICAgIGRpc3RTcSA9IGRYICogZFggKyBkWSAqIGRZO1xyXG4gICAgICAgIGlmIChkaXN0U3EgPCBtaW5EaXN0U3EpIHtcclxuICAgICAgICAgIG1pbkRpc3RTcSA9IGRpc3RTcTtcclxuICAgICAgICAgIGNsb3Nlc3RCb29rID0gYm9vaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBjbG9zZXN0Qm9vaztcclxuICB9XHJcblxyXG4gIG1hcmtCb29rQXNDb2xsZWN0ZWQoYm9va1RvQ29sbGVjdCkge1xyXG4gICAgaWYgKCFib29rVG9Db2xsZWN0IHx8ICF0aGlzLmJvb2tzKSByZXR1cm4gZmFsc2U7XHJcbiAgICBjb25zdCBib29rID0gdGhpcy5ib29rcy5maW5kKChiKSA9PiBiLmlkID09PSBib29rVG9Db2xsZWN0LmlkKTtcclxuICAgIGlmIChib29rICYmICFib29rLmlzQ29sbGVjdGVkKSB7XHJcbiAgICAgIGJvb2suaXNDb2xsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIGZpbmROZWFyYnlMaWZ0KHdvcmxkWCwgd29ybGRZLCByYWRpdXMgPSB0aGlzLnRpbGVTaXplICogTElGVF9JTlRFUkFDVElPTl9SQURJVVNfTVVMVElQTElFUikge1xyXG4gICAgaWYgKCF0aGlzLmxpZnRQb3NpdGlvbikgcmV0dXJuIG51bGw7XHJcbiAgICBjb25zdCBkWCA9IHdvcmxkWCAtIHRoaXMubGlmdFBvc2l0aW9uLngsXHJcbiAgICAgIGRZID0gd29ybGRZIC0gdGhpcy5saWZ0UG9zaXRpb24ueTtcclxuICAgIHJldHVybiBkWCAqIGRYICsgZFkgKiBkWSA8IHJhZGl1cyAqIHJhZGl1cyA/IHRoaXMubGlmdFBvc2l0aW9uIDogbnVsbDtcclxuICB9XHJcblxyXG4gIGdldExpZnRQb3NpdGlvbigpIHtcclxuICAgIHJldHVybiB0aGlzLmxpZnRQb3NpdGlvbjtcclxuICB9XHJcblxyXG4gIGRyYXcoY3R4LCBib29rSW1hZ2UgPSBudWxsKSB7XHJcbiAgICBpZiAoIXRoaXMubWFwIHx8ICF0aGlzLnJlbmRlcmVyKSByZXR1cm47XHJcbiAgICB0aGlzLnJlbmRlcmVyLmRyYXcoXHJcbiAgICAgIGN0eCxcclxuICAgICAge1xyXG4gICAgICAgIG1hcDogdGhpcy5tYXAsXHJcbiAgICAgICAgcm9vbXM6IHRoaXMucm9vbXMsXHJcbiAgICAgICAgYm9va3M6IHRoaXMuYm9va3MsXHJcbiAgICAgICAgbGlmdFBvc2l0aW9uOiB0aGlzLmxpZnRQb3NpdGlvbixcclxuICAgICAgICBvZmZzZXRYOiB0aGlzLm9mZnNldFgsXHJcbiAgICAgICAgb2Zmc2V0WTogdGhpcy5vZmZzZXRZLFxyXG4gICAgICAgIGNvbHM6IHRoaXMuY29scyxcclxuICAgICAgICByb3dzOiB0aGlzLnJvd3MsXHJcbiAgICAgICAgdGlsZVNpemU6IHRoaXMudGlsZVNpemUsXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvb2tJbWFnZVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGxvZ01hcEdyaWQoKSB7XHJcbiAgICBpZiAoIXRoaXMubWFwKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGBbUHJvY01hcCBGJHt0aGlzLmZsb29yTnVtYmVyfV0gTWFwIGdyaWQgTi9BLmApO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZyhgLS0tIE1hcCBHcmlkIEYke3RoaXMuZmxvb3JOdW1iZXJ9ICgke3RoaXMuY29sc314JHt0aGlzLnJvd3N9KSAtLS1gKTtcclxuICAgIGxldCBoID0gJyAgICc7XHJcbiAgICBmb3IgKGxldCBjID0gMDsgYyA8IHRoaXMuY29sczsgYysrKSBoICs9IGMgJSAxMCA9PT0gMCA/IE1hdGguZmxvb3IoYyAvIDEwKSA6ICcgJztcclxuICAgIGNvbnNvbGUubG9nKGgpO1xyXG4gICAgaCA9ICcgICAnO1xyXG4gICAgZm9yIChsZXQgYyA9IDA7IGMgPCB0aGlzLmNvbHM7IGMrKykgaCArPSBjICUgMTA7XHJcbiAgICBjb25zb2xlLmxvZyhoKTtcclxuICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGhpcy5yb3dzOyB5KyspIHtcclxuICAgICAgY29uc3Qgck4gPSB5LnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJyAnKTtcclxuICAgICAgY29uc3QgclMgPSB0aGlzLm1hcFt5XVxyXG4gICAgICAgIC5tYXAoKHQpID0+IHtcclxuICAgICAgICAgIHN3aXRjaCAodCkge1xyXG4gICAgICAgICAgICBjYXNlIFRJTEVfV0FMTDpcclxuICAgICAgICAgICAgICByZXR1cm4gJyMnO1xyXG4gICAgICAgICAgICBjYXNlIFRJTEVfQ09SUklET1I6XHJcbiAgICAgICAgICAgICAgcmV0dXJuICcuJztcclxuICAgICAgICAgICAgY2FzZSBUSUxFX1JPT01fRkxPT1I6XHJcbiAgICAgICAgICAgICAgcmV0dXJuICcgJztcclxuICAgICAgICAgICAgY2FzZSBUSUxFX0xJRlQ6XHJcbiAgICAgICAgICAgICAgcmV0dXJuICdMJztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICByZXR1cm4gJz8nO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmpvaW4oJycpO1xyXG4gICAgICBjb25zb2xlLmxvZyhgJHtyTn0gJHtyU31gKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLmxpZnRQb3NpdGlvbilcclxuICAgICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgYExpZnQgdGlsZSBtYXBbJHt0aGlzLmxpZnRQb3NpdGlvbi50aWxlWX1dWyR7dGhpcy5saWZ0UG9zaXRpb24udGlsZVh9XTogJHtcclxuICAgICAgICAgIHRoaXMubWFwW3RoaXMubGlmdFBvc2l0aW9uLnRpbGVZXT8uW3RoaXMubGlmdFBvc2l0aW9uLnRpbGVYXVxyXG4gICAgICAgIH0uIFJlcG9ydGVkIEAoJHt0aGlzLmxpZnRQb3NpdGlvbi50aWxlWH0sJHt0aGlzLmxpZnRQb3NpdGlvbi50aWxlWX0pYFxyXG4gICAgICApO1xyXG4gICAgZWxzZSBjb25zb2xlLmxvZygnTGlmdCBOL0EuJyk7XHJcbiAgICBjb25zb2xlLmxvZyhgLS0tIEVuZCBNYXAgR3JpZCBGJHt0aGlzLmZsb29yTnVtYmVyfSAtLS1gKTtcclxuICB9XHJcbn1cclxuIiwiLy8gc3JjL2NvcmUvTGV2ZWwuanNcclxuaW1wb3J0IHsgUHJvY2VkdXJhbE1hcCB9IGZyb20gJy4uL21hcC9Qcm9jZWR1cmFsTWFwLmpzJztcclxuLy8gUmVtb3ZlZCBUUkFOU0lUSU9OX1pPTkVfUkFESVVTX01VTFRJUExJRVIgaW1wb3J0XHJcblxyXG4vKipcclxuICog0JrQu9Cw0YHRgSBMZXZlbCDRg9C/0YDQsNCy0LvRj9C10YIg0YLQtdC60YPRidC40Lwg0Y3RgtCw0LbQvtC8INC4INC30LDQs9GA0YPQt9C60L7QuSDQutCw0YDRgi5cclxuICog0JvQvtCz0LjQutCwINC30L7QvSDQv9C10YDQtdGF0L7QtNCwICh0cmFuc2l0aW9uIHpvbmVzKSDRg9C00LDQu9C10L3QsCwg0YIu0LouINC70LjRhNGCINGA0LDQsdC+0YLQsNC10YIg0LjQvdCw0YfQtS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBMZXZlbCB7XHJcbiAgLyoqXHJcbiAgICog0KHQvtC30LTQsNC10YIg0Y3QutC30LXQvNC/0LvRj9GAIExldmVsLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbbWluRmxvb3I9MV0gLSDQndC+0LzQtdGAINGB0LDQvNC+0LPQviDQvdC40LbQvdC10LPQviDRjdGC0LDQttCwLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbbWF4Rmxvb3I9M10gLSDQndC+0LzQtdGAINGB0LDQvNC+0LPQviDQstC10YDRhdC90LXQs9C+INGN0YLQsNC20LAuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IobWluRmxvb3IgPSAxLCBtYXhGbG9vciA9IDMpIHtcclxuICAgIGlmIChtaW5GbG9vciA+PSBtYXhGbG9vcikge1xyXG4gICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgYExldmVsIGNvbnN0cnVjdG9yOiBtaW5GbG9vciAoJHttaW5GbG9vcn0pIG11c3QgYmUgbGVzcyB0aGFuIG1heEZsb29yICgke21heEZsb29yfSkuIFVzaW5nIGRlZmF1bHRzIDEgYW5kIDMuYFxyXG4gICAgICApO1xyXG4gICAgICB0aGlzLm1pbkZsb29yID0gMTtcclxuICAgICAgdGhpcy5tYXhGbG9vciA9IDM7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLm1pbkZsb29yID0gbWluRmxvb3I7XHJcbiAgICAgIHRoaXMubWF4Rmxvb3IgPSBtYXhGbG9vcjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmN1cnJlbnRGbG9vciA9IHRoaXMubWluRmxvb3I7XHJcbiAgICB0aGlzLmN1cnJlbnRNYXAgPSBudWxsOyAvLyBJbnN0YW5jZSBvZiBQcm9jZWR1cmFsTWFwXHJcbiAgICAvLyB0aGlzLnRyYW5zaXRpb25ab25lcyA9IFtdOyAvLyBSRU1PVkVEIC0gTm8gbG9uZ2VyIG5lZWRlZCBmb3IgbGlmdHNcclxuICAgIHRoaXMudGlsZVNpemUgPSAzMjsgLy8gRGVmYXVsdCwgd2lsbCBiZSB1cGRhdGVkIGZyb20gbWFwXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDQkNGB0LjQvdGF0YDQvtC90L3QviDQt9Cw0LPRgNGD0LbQsNC10YIgKNCz0LXQvdC10YDQuNGA0YPQtdGCKSDQutCw0YDRgtGDINC00LvRjyDRg9C60LDQt9Cw0L3QvdC+0LPQviDRjdGC0LDQttCwLlxyXG4gICAqIEFzc3VtZXMgUHJvY2VkdXJhbE1hcCBjb25zdHJ1Y3RvciBoYW5kbGVzIGdlbmVyYXRpb24sIGxpZnQgcGxhY2VtZW50LFxyXG4gICAqIGFuZCB0aHJvd3Mgb24gY3JpdGljYWwgZmFpbHVyZSAoZS5nLiwgdW5yZWFjaGFibGUgbGlmdCkuXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGZsb29yTnVtYmVyIC0g0J3QvtC80LXRgCDRjdGC0LDQttCwINC00LvRjyDQt9Cw0LPRgNGD0LfQutC4LlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjYW52YXNXaWR0aCAtINCo0LjRgNC40L3QsCDQutCw0L3QstCw0YHQsC5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gY2FudmFzSGVpZ2h0IC0g0JLRi9GB0L7RgtCwINC60LDQvdCy0LDRgdCwLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSDQn9GA0L7QvNC40YEsINC60L7RgtC+0YDRi9C5INGA0LDQt9GA0LXRiNCw0LXRgtGB0Y8g0L/QvtGB0LvQtSDQt9Cw0LPRgNGD0LfQutC4INGN0YLQsNC20LAuXHJcbiAgICogQHRocm93cyB7RXJyb3J9IElmIFByb2NlZHVyYWxNYXAgZ2VuZXJhdGlvbiBvciB2YWxpZGF0aW9uIGZhaWxzLlxyXG4gICAqL1xyXG4gIGFzeW5jIGxvYWRGbG9vcihmbG9vck51bWJlciwgY2FudmFzV2lkdGgsIGNhbnZhc0hlaWdodCkge1xyXG4gICAgaWYgKGZsb29yTnVtYmVyIDwgdGhpcy5taW5GbG9vciB8fCBmbG9vck51bWJlciA+IHRoaXMubWF4Rmxvb3IpIHtcclxuICAgICAgY29uc3QgZXJyb3JNc2cgPSBgQXR0ZW1wdGVkIHRvIGxvYWQgaW52YWxpZCBmbG9vcjogJHtmbG9vck51bWJlcn0uIEFsbG93ZWQgcmFuZ2U6IFske3RoaXMubWluRmxvb3J9LSR7dGhpcy5tYXhGbG9vcn1dYDtcclxuICAgICAgY29uc29sZS5lcnJvcihgW0xldmVsXSAke2Vycm9yTXNnfWApO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNc2cpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKGBbTGV2ZWxdIExvYWRpbmcgZmxvb3IgJHtmbG9vck51bWJlcn0uLi5gKTtcclxuICAgIHRoaXMuY3VycmVudEZsb29yID0gZmxvb3JOdW1iZXI7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gUHJvY2VkdXJhbE1hcCBjb25zdHJ1Y3RvciBub3cgaGFuZGxlcyBnZW5lcmF0aW9uIEFORCB2YWxpZGF0aW9uIChsaWtlIGxpZnQgcmVhY2hhYmlsaXR5KS5cclxuICAgICAgLy8gSXQgd2lsbCB0aHJvdyBhbiBlcnJvciBpZiBnZW5lcmF0aW9uIGZhaWxzIGNyaXRpY2FsbHkuXHJcbiAgICAgIHRoaXMuY3VycmVudE1hcCA9IG5ldyBQcm9jZWR1cmFsTWFwKFxyXG4gICAgICAgIGNhbnZhc1dpZHRoLFxyXG4gICAgICAgIGNhbnZhc0hlaWdodCxcclxuICAgICAgICB0aGlzLmN1cnJlbnRGbG9vcixcclxuICAgICAgICB0aGlzLm1pbkZsb29yLFxyXG4gICAgICAgIHRoaXMubWF4Rmxvb3JcclxuICAgICAgKTtcclxuXHJcbiAgICAgIC8vIEJhc2ljIHZhbGlkYXRpb24gYWZ0ZXIgY3JlYXRpb24gKGVuc3VyZSBtYXAgb2JqZWN0IGxvb2tzIHJlYXNvbmFibGUpXHJcbiAgICAgIGlmIChcclxuICAgICAgICAhdGhpcy5jdXJyZW50TWFwLnRpbGVTaXplIHx8XHJcbiAgICAgICAgIXRoaXMuY3VycmVudE1hcC5tYXAgfHxcclxuICAgICAgICAhdGhpcy5jdXJyZW50TWFwLmJvb2tzIHx8IC8vIGJvb2tzIHNob3VsZCBleGlzdCAoZXZlbiBpZiBlbXB0eSlcclxuICAgICAgICAhdGhpcy5jdXJyZW50TWFwLmdldExpZnRQb3NpdGlvbigpIC8vIExpZnQgcG9zaXRpb24gTVVTVCBleGlzdCBhZnRlciBzdWNjZXNzZnVsIGdlbmVyYXRpb25cclxuICAgICAgKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgICAgJ1tMZXZlbF0gUHJvY2VkdXJhbE1hcCBpbnN0YW5jZSBpcyBtaXNzaW5nIGVzc2VudGlhbCBwcm9wZXJ0aWVzIGFmdGVyIGNyZWF0aW9uICh0aWxlU2l6ZSwgbWFwLCBib29rcywgb3IgbGlmdFBvc2l0aW9uKS4nXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy50aWxlU2l6ZSA9IHRoaXMuY3VycmVudE1hcC50aWxlU2l6ZTtcclxuICAgICAgY29uc3QgbGlmdFBvcyA9IHRoaXMuY3VycmVudE1hcC5nZXRMaWZ0UG9zaXRpb24oKTtcclxuICAgICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgYCAgW0xldmVsXSBNYXAgZ2VuZXJhdGVkIGZvciBmbG9vciAke3RoaXMuY3VycmVudEZsb29yfS4gVGlsZVNpemU6ICR7dGhpcy50aWxlU2l6ZX0uIExpZnQgYXQgdGlsZSgke2xpZnRQb3MudGlsZVh9LCAke2xpZnRQb3MudGlsZVl9KS5gXHJcbiAgICAgICk7XHJcblxyXG4gICAgICAvLyBSRU1PVkVEOiBjcmVhdGVUcmFuc2l0aW9uWm9uZXMoKSBjYWxsIGlzIG5vIGxvbmdlciBuZWVkZWQuXHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICBgW0xldmVsXSBGbG9vciAke2Zsb29yTnVtYmVyfSBsb2FkZWQgc3VjY2Vzc2Z1bGx5LiBNYXAgc2l6ZTogJHt0aGlzLmN1cnJlbnRNYXAuY29sc314JHt0aGlzLmN1cnJlbnRNYXAucm93c30uICR7dGhpcy5jdXJyZW50TWFwLmJvb2tzLmxlbmd0aH0gYm9va3MgcGxhY2VkLmBcclxuICAgICAgKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgYFtMZXZlbF0gQ1JJVElDQUwgRkFJTFVSRSBsb2FkaW5nIGZsb29yICR7Zmxvb3JOdW1iZXJ9OiBGYWlsZWQgdG8gY3JlYXRlIG9yIHZhbGlkYXRlIFByb2NlZHVyYWxNYXA6YCxcclxuICAgICAgICBlcnJvclxyXG4gICAgICApO1xyXG4gICAgICB0aGlzLmN1cnJlbnRNYXAgPSBudWxsOyAvLyBFbnN1cmUgc3RhdGUgaXMgY2xlYW4gb24gZmFpbHVyZVxyXG4gICAgICAvLyBSZXRocm93IHRoZSBlcnJvciBmb3IgR2FtZS5qcyB0byBoYW5kbGUgKGxpa2VseSBzaG93IGVycm9yIG1lc3NhZ2UgYW5kIHN0b3ApXHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgICBgTWFwIGdlbmVyYXRpb24vdmFsaWRhdGlvbiBmYWlsZWQgZm9yIGZsb29yICR7Zmxvb3JOdW1iZXJ9LiAke2Vycm9yLm1lc3NhZ2UgfHwgZXJyb3J9YFxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldHVybiBhIHJlc29sdmVkIHByb21pc2UgKGdlbmVyYXRpb24gaXRzZWxmIGlzIHN5bmNocm9ub3VzIHdpdGhpbiB0aGUgY29uc3RydWN0b3IpXHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgfVxyXG5cclxuICAvLyBSRU1PVkVEOiBjcmVhdGVUcmFuc2l0aW9uWm9uZXMoKSBtZXRob2QgaXMgb2Jzb2xldGUuXHJcblxyXG4gIC8vIFJFTU9WRUQ6IGdldEN1cnJlbnRUcmFuc2l0aW9uWm9uZSgpIG1ldGhvZCBpcyBvYnNvbGV0ZS4gTGlmdCBpbnRlcmFjdGlvbiBjaGVja2VkIGRpZmZlcmVudGx5LlxyXG5cclxuICAvKipcclxuICAgKiDQktC+0LfQstGA0LDRidCw0LXRgiDQvNCw0YHRgdC40LIg0L7QsdGK0LXQutGC0L7QsiDQutC90LjQsyDQvdCwINGC0LXQutGD0YnQtdC5INC60LDRgNGC0LUuXHJcbiAgICogQHJldHVybnMge0FycmF5PG9iamVjdD59INCc0LDRgdGB0LjQsiDQvtCx0YrQtdC60YLQvtCyINC60L3QuNCzLlxyXG4gICAqL1xyXG4gIGdldEN1cnJlbnRCb29rcygpIHtcclxuICAgIHJldHVybiB0aGlzLmN1cnJlbnRNYXAgPyB0aGlzLmN1cnJlbnRNYXAuYm9va3MgOiBbXTtcclxuICB9XHJcbn1cclxuIiwiLy8gc3JjL2NvcmUvR2FtZVJlbmRlcmVyLmpzXHJcbi8vIChObyBjaGFuZ2VzIG5lZWRlZCBmcm9tIHByZXZpb3VzIHByb3ZpZGVkIHZlcnNpb24sIGFzc3VtaW5nIGl0IHdhcyBjb3JyZWN0KVxyXG5pbXBvcnQgeyBDaGFyYWN0ZXIgfSBmcm9tICcuL0NoYXJhY3Rlci5qcyc7IC8vIE9wdGlvbmFsIGZvciB0eXBlIGNoZWNrc1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVSZW5kZXJlciB7XHJcbiAgY29uc3RydWN0b3IoZ2FtZSkge1xyXG4gICAgdGhpcy5nYW1lID0gZ2FtZTtcclxuICAgIHRoaXMuY2FudmFzID0gbnVsbDtcclxuICAgIHRoaXMuY3R4ID0gbnVsbDtcclxuICB9XHJcblxyXG4gIGluaXRpYWxpemVDYW52YXMoKSB7XHJcbiAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lLWNhbnZhcycpO1xyXG4gICAgaWYgKCF0aGlzLmNhbnZhcykgdGhyb3cgbmV3IEVycm9yKFwiW1JlbmRlcmVyXSBDYW52YXMgJ2dhbWUtY2FudmFzJyBub3QgZm91bmQhXCIpO1xyXG4gICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgaWYgKCF0aGlzLmN0eCkgdGhyb3cgbmV3IEVycm9yKCdbUmVuZGVyZXJdIEZhaWxlZCB0byBnZXQgMkQgY29udGV4dC4nKTtcclxuICAgIHRoaXMuY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5yZXNpemVDYW52YXMoKTtcclxuICAgIGNvbnNvbGUubG9nKCdbUmVuZGVyZXJdIENhbnZhcyBpbml0aWFsaXplZC4nKTtcclxuICAgIHJldHVybiB7IGNhbnZhczogdGhpcy5jYW52YXMsIGN0eDogdGhpcy5jdHggfTtcclxuICB9XHJcblxyXG4gIHJlc2l6ZUNhbnZhcygpIHtcclxuICAgIGlmICghdGhpcy5jYW52YXMpIHJldHVybjtcclxuICAgIHRoaXMuY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XHJcbiAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICBpZiAodGhpcy5nYW1lLmNoYXJhY3RlciAmJiB0aGlzLmdhbWUubGV2ZWw/LmN1cnJlbnRNYXApIHtcclxuICAgICAgdGhpcy5jZW50ZXJDYW1lcmFPbkNoYXJhY3RlcigpO1xyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coYFtSZW5kZXJlcl0gQ2FudmFzIHJlc2l6ZWQgdG8gJHt0aGlzLmNhbnZhcy53aWR0aH14JHt0aGlzLmNhbnZhcy5oZWlnaHR9YCk7XHJcbiAgfVxyXG5cclxuICBjZW50ZXJDYW1lcmFPbkNoYXJhY3RlcigpIHtcclxuICAgIGNvbnN0IHsgY2hhcmFjdGVyLCBsZXZlbCwgY2FudmFzIH0gPSB0aGlzLmdhbWU7XHJcbiAgICBpZiAoY2hhcmFjdGVyICYmIGxldmVsPy5jdXJyZW50TWFwICYmIGNhbnZhcykge1xyXG4gICAgICBsZXZlbC5jdXJyZW50TWFwLm9mZnNldFggPSBNYXRoLmZsb29yKGNhbnZhcy53aWR0aCAvIDIgLSBjaGFyYWN0ZXIueCk7XHJcbiAgICAgIGxldmVsLmN1cnJlbnRNYXAub2Zmc2V0WSA9IE1hdGguZmxvb3IoY2FudmFzLmhlaWdodCAvIDIgLSBjaGFyYWN0ZXIueSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBkcmF3RnJhbWUoKSB7XHJcbiAgICBpZiAoIXRoaXMuY3R4IHx8ICF0aGlzLmNhbnZhcykgcmV0dXJuO1xyXG4gICAgdGhpcy5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xyXG4gICAgY29uc3QgbWFwID0gdGhpcy5nYW1lLmxldmVsPy5jdXJyZW50TWFwO1xyXG4gICAgY29uc3QgY2hhciA9IHRoaXMuZ2FtZS5jaGFyYWN0ZXI7XHJcbiAgICBpZiAobWFwKSB7XHJcbiAgICAgIG1hcC5kcmF3KHRoaXMuY3R4LCB0aGlzLmdhbWUuYm9va0ltYWdlKTtcclxuICAgIH1cclxuICAgIGlmIChjaGFyICYmIG1hcCkge1xyXG4gICAgICBjaGFyLmRyYXcobWFwLm9mZnNldFgsIG1hcC5vZmZzZXRZKTtcclxuICAgIH1cclxuICAgIC8vIHRoaXMuZHJhd0RlYnVnSW5mbygpOyAvLyBPcHRpb25hbFxyXG4gIH1cclxuXHJcbiAgZHJhd1dpblNjcmVlbigpIHtcclxuICAgIGlmICghdGhpcy5jdHggfHwgIXRoaXMuY2FudmFzKSByZXR1cm47XHJcbiAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSAncmdiYSgwLCAwLCAwLCAwLjgpJztcclxuICAgIHRoaXMuY3R4LmZpbGxSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xyXG4gICAgdGhpcy5jdHgudGV4dEFsaWduID0gJ2NlbnRlcic7XHJcbiAgICB0aGlzLmN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcclxuICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9ICdsaW1lJztcclxuICAgIC8vIENvbnNpZGVyIHVzaW5nIGEgZm9udCBhdmFpbGFibGUgb24gbW9zdCBzeXN0ZW1zIG9yIGluY2x1ZGUgb25lIHZpYSBDU1MgQGZvbnQtZmFjZVxyXG4gICAgdGhpcy5jdHguZm9udCA9ICdjbGFtcCgzMnB4LCA4dncsIDQ4cHgpIFwiUHJlc3MgU3RhcnQgMlBcIiwgY3Vyc2l2ZSwgQXJpYWwsIHNhbnMtc2VyaWYnO1xyXG4gICAgdGhpcy5jdHguZmlsbFRleHQoJ1pXWUNJxJhTVFdPIScsIHRoaXMuY2FudmFzLndpZHRoIC8gMiwgdGhpcy5jYW52YXMuaGVpZ2h0IC8gMiAtIDgwKTsgLy8gVHJhbnNsYXRlZFxyXG4gICAgdGhpcy5jdHguZmlsbFN0eWxlID0gJ3doaXRlJztcclxuICAgIHRoaXMuY3R4LmZvbnQgPSAnY2xhbXAoMjRweCwgNXZ3LCAzMnB4KSBBcmlhbCwgc2Fucy1zZXJpZic7XHJcbiAgICB0aGlzLmN0eC5maWxsVGV4dChcclxuICAgICAgYFplYnJhbm8gd3N6eXN0a2llICR7dGhpcy5nYW1lLnRhcmdldEJvb2tzVG9XaW59IGtzacSFxbxraSFgLCAvLyBUcmFuc2xhdGVkXHJcbiAgICAgIHRoaXMuY2FudmFzLndpZHRoIC8gMixcclxuICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0IC8gMlxyXG4gICAgKTtcclxuICAgIHRoaXMuY3R4LmZvbnQgPSAnY2xhbXAoMThweCwgNHZ3LCAyNHB4KSBBcmlhbCwgc2Fucy1zZXJpZic7XHJcbiAgICB0aGlzLmN0eC5maWxsVGV4dCgnVW5pd2Vyc3l0ZXQgdXJhdG93YW55IScsIHRoaXMuY2FudmFzLndpZHRoIC8gMiwgdGhpcy5jYW52YXMuaGVpZ2h0IC8gMiArIDYwKTsgLy8gVHJhbnNsYXRlZFxyXG4gICAgdGhpcy5jdHguZm9udCA9ICdjbGFtcCgxNHB4LCAzdncsIDE4cHgpIEFyaWFsLCBzYW5zLXNlcmlmJztcclxuICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9ICcjY2NjJztcclxuICAgIHRoaXMuY3R4LmZpbGxUZXh0KFxyXG4gICAgICAnKE9kxZt3aWXFvCBzdHJvbsSZLCBhYnkgemFncmHEhyBwb25vd25pZSknLCAvLyBUcmFuc2xhdGVkXHJcbiAgICAgIHRoaXMuY2FudmFzLndpZHRoIC8gMixcclxuICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0IC0gNTBcclxuICAgICk7XHJcbiAgfVxyXG4gIC8vIGRyYXdEZWJ1Z0luZm8oKSB7IC4uLiB9IC8vIE9wdGlvbmFsIGRlYnVnIGRyYXdpbmdcclxufVxyXG4iLCIvLyBzcmMvY29yZS9HYW1lcGxheU1hbmFnZXIuanNcclxuaW1wb3J0IHtcclxuICBHYW1lU3RhdGUsXHJcbiAgTElGVF9DT09MRE9XTl9NUyxcclxuICBUSUxFX1dBTEwsXHJcbiAgVElMRV9DT1JSSURPUixcclxuICBUSUxFX1JPT01fRkxPT1IsXHJcbiAgVElMRV9MSUZULFxyXG4gIHF1ZXN0aW9ucyxcclxufSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xyXG5pbXBvcnQgeyBVSU1hbmFnZXIgfSBmcm9tICcuLi9VSS9VSU1hbmFnZXIuanMnO1xyXG5pbXBvcnQgeyBDaGFyYWN0ZXIgfSBmcm9tICcuL0NoYXJhY3Rlci5qcyc7XHJcblxyXG5jb25zdCBERUJVR19HTV9GTE9PUiA9IG51bGw7IC8vIFVzdGF3IG5hIG51bWVyIHBpxJl0cmEgZGxhIGJhcmR6aWVqIHN6Y3plZ8OzxYJvd3ljaCBsb2fDs3dcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lcGxheU1hbmFnZXIge1xyXG4gIGNvbnN0cnVjdG9yKGdhbWUpIHtcclxuICAgIHRoaXMuZ2FtZSA9IGdhbWU7XHJcbiAgICB0aGlzLmhhbmRsZUFuc3dlciA9IHRoaXMuaGFuZGxlQW5zd2VyLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmhhbmRsZUZsb29yU2VsZWN0aW9uID0gdGhpcy5oYW5kbGVGbG9vclNlbGVjdGlvbi5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlKHRpbWVzdGFtcCkge1xyXG4gICAgaWYgKHRoaXMuZ2FtZS5nYW1lU3RhdGUgPT09IEdhbWVTdGF0ZS5QTEFZSU5HKSB0aGlzLnVwZGF0ZVBsYXlpbmdTdGF0ZSh0aW1lc3RhbXApO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlUGxheWluZ1N0YXRlKHRpbWVzdGFtcCkge1xyXG4gICAgY29uc3QgY2hhciA9IHRoaXMuZ2FtZS5jaGFyYWN0ZXI7XHJcbiAgICBpZiAoIXRoaXMuZ2FtZS5sZXZlbD8uY3VycmVudE1hcCB8fCAhY2hhciB8fCAhdGhpcy5nYW1lLmlucHV0TWFuYWdlcikgcmV0dXJuO1xyXG4gICAgY29uc3QgeyBtb3ZlZCB9ID0gdGhpcy5oYW5kbGVNb3ZlbWVudCgpO1xyXG4gICAgaWYgKGNoYXI/LnVwZGF0ZUFuaW1hdGlvbikgY2hhci51cGRhdGVBbmltYXRpb24odGltZXN0YW1wKTtcclxuICAgIGlmICghbW92ZWQgJiYgdGhpcy5nYW1lLmdhbWVTdGF0ZSA9PT0gR2FtZVN0YXRlLlBMQVlJTkcpIHRoaXMuaGFuZGxlSW50ZXJhY3Rpb25zKCk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVNb3ZlbWVudCgpIHtcclxuICAgIGNvbnN0IGNoYXIgPSB0aGlzLmdhbWUuY2hhcmFjdGVyLFxyXG4gICAgICBtYXAgPSB0aGlzLmdhbWUubGV2ZWwuY3VycmVudE1hcCxcclxuICAgICAgaW5wdXQgPSB0aGlzLmdhbWUuaW5wdXRNYW5hZ2VyO1xyXG4gICAgaWYgKCFjaGFyIHx8ICFtYXAgfHwgIWlucHV0KSByZXR1cm4geyBtb3ZlZDogZmFsc2UgfTtcclxuICAgIGNvbnN0IGRpciA9IGlucHV0LmdldElucHV0RGlyZWN0aW9uKCk7XHJcbiAgICBsZXQgZHggPSBkaXIueCAqIGNoYXIuc3BlZWQsXHJcbiAgICAgIGR5ID0gZGlyLnkgKiBjaGFyLnNwZWVkO1xyXG4gICAgbGV0IGFjdHVhbFggPSAwLFxyXG4gICAgICBhY3R1YWxZID0gMCxcclxuICAgICAgbW92ZWQgPSBmYWxzZTtcclxuXHJcbiAgICBpZiAoZHggIT09IDAgfHwgZHkgIT09IDApIHtcclxuICAgICAgY29uc3QgY2FuTW92ZVggPSBkeCAhPT0gMCAmJiAhdGhpcy5jaGVja0NvbGxpc2lvbihjaGFyLnggKyBkeCwgY2hhci55KTtcclxuICAgICAgY29uc3QgY2FuTW92ZVkgPSBkeSAhPT0gMCAmJiAhdGhpcy5jaGVja0NvbGxpc2lvbihjaGFyLngsIGNoYXIueSArIGR5KTtcclxuICAgICAgaWYgKGNhbk1vdmVYKSBhY3R1YWxYID0gZHg7XHJcbiAgICAgIGlmIChjYW5Nb3ZlWSkgYWN0dWFsWSA9IGR5O1xyXG5cclxuICAgICAgaWYgKGR4ICE9PSAwICYmIGR5ICE9PSAwICYmIHRoaXMuY2hlY2tDb2xsaXNpb24oY2hhci54ICsgZHgsIGNoYXIueSArIGR5KSkge1xyXG4gICAgICAgIC8vIERpYWdvbmFsIGJsb2NrZWRcclxuICAgICAgICBpZiAoY2FuTW92ZVggJiYgIWNhbk1vdmVZKSBhY3R1YWxZID0gMDsgLy8gU2xpZGUgWFxyXG4gICAgICAgIGVsc2UgaWYgKGNhbk1vdmVZICYmICFjYW5Nb3ZlWCkgYWN0dWFsWCA9IDA7IC8vIFNsaWRlIFlcclxuICAgICAgICBlbHNlIGlmICghY2FuTW92ZVggJiYgIWNhbk1vdmVZKSB7XHJcbiAgICAgICAgICBhY3R1YWxYID0gMDtcclxuICAgICAgICAgIGFjdHVhbFkgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAoYWN0dWFsWCAhPT0gMCB8fCBhY3R1YWxZICE9PSAwKSB7XHJcbiAgICAgICAgY2hhci54ICs9IGFjdHVhbFg7XHJcbiAgICAgICAgY2hhci55ICs9IGFjdHVhbFk7XHJcbiAgICAgICAgbW92ZWQgPSB0cnVlO1xyXG4gICAgICAgIGlmIChNYXRoLmFicyhhY3R1YWxYKSA+PSBNYXRoLmFicyhhY3R1YWxZKSkge1xyXG4gICAgICAgICAgaWYgKGFjdHVhbFggIT09IDApXHJcbiAgICAgICAgICAgIGNoYXIuY3VycmVudERpcmVjdGlvbiA9XHJcbiAgICAgICAgICAgICAgYWN0dWFsWCA+IDAgPyBDaGFyYWN0ZXIuRGlyZWN0aW9uLlJJR0hUIDogQ2hhcmFjdGVyLkRpcmVjdGlvbi5MRUZUO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZiAoYWN0dWFsWSAhPT0gMClcclxuICAgICAgICAgICAgY2hhci5jdXJyZW50RGlyZWN0aW9uID0gYWN0dWFsWSA+IDAgPyBDaGFyYWN0ZXIuRGlyZWN0aW9uLkRPV04gOiBDaGFyYWN0ZXIuRGlyZWN0aW9uLlVQO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2hhci5pc01vdmluZyA9IG1vdmVkO1xyXG4gICAgcmV0dXJuIHsgbW92ZWQgfTtcclxuICB9XHJcblxyXG4gIGNoZWNrQ29sbGlzaW9uKHRhcmdldFgsIHRhcmdldFkpIHtcclxuICAgIGNvbnN0IG1hcCA9IHRoaXMuZ2FtZS5sZXZlbD8uY3VycmVudE1hcCxcclxuICAgICAgY2hhciA9IHRoaXMuZ2FtZS5jaGFyYWN0ZXI7XHJcbiAgICBpZiAoIW1hcCB8fCAhY2hhcikgcmV0dXJuIHRydWU7XHJcbiAgICBjb25zdCBib3ggPSBjaGFyLmdldENvbGxpc2lvbkJveCh0YXJnZXRYLCB0YXJnZXRZKTtcclxuICAgIGNvbnN0IHBvaW50cyA9IFtcclxuICAgICAgeyB4OiBib3gubGVmdCwgeTogYm94LnRvcCB9LFxyXG4gICAgICB7IHg6IGJveC5yaWdodCwgeTogYm94LnRvcCB9LFxyXG4gICAgICB7IHg6IGJveC5sZWZ0LCB5OiBib3guYm90dG9tIH0sXHJcbiAgICAgIHsgeDogYm94LnJpZ2h0LCB5OiBib3guYm90dG9tIH0sXHJcbiAgICAgIHsgeDogdGFyZ2V0WCwgeTogYm94LnRvcCB9LFxyXG4gICAgICB7IHg6IHRhcmdldFgsIHk6IGJveC5ib3R0b20gfSxcclxuICAgICAgeyB4OiBib3gubGVmdCwgeTogdGFyZ2V0WSArIGNoYXIucmVuZGVyU2l6ZSAqIGNoYXIuY29sbGlzaW9uQm94RmVldE9mZnNldFJhdGlvIH0sXHJcbiAgICAgIHsgeDogYm94LnJpZ2h0LCB5OiB0YXJnZXRZICsgY2hhci5yZW5kZXJTaXplICogY2hhci5jb2xsaXNpb25Cb3hGZWV0T2Zmc2V0UmF0aW8gfSxcclxuICAgIF07XHJcbiAgICBmb3IgKGNvbnN0IHAgb2YgcG9pbnRzKSBpZiAoIW1hcC5pc1dhbGthYmxlKHAueCwgcC55KSkgcmV0dXJuIHRydWU7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVJbnRlcmFjdGlvbnMoKSB7XHJcbiAgICBjb25zdCBtYXAgPSB0aGlzLmdhbWUubGV2ZWw/LmN1cnJlbnRNYXAsXHJcbiAgICAgIGNoYXIgPSB0aGlzLmdhbWUuY2hhcmFjdGVyO1xyXG4gICAgaWYgKCFtYXAgfHwgIWNoYXIgfHwgdGhpcy5nYW1lLmdhbWVTdGF0ZSAhPT0gR2FtZVN0YXRlLlBMQVlJTkcpIHJldHVybjtcclxuICAgIGNvbnN0IGJvb2sgPSBtYXAuZmluZE5lYXJieVVuYW5zd2VyZWRCb29rKGNoYXIueCwgY2hhci55KTtcclxuICAgIGlmIChib29rKSB7XHJcbiAgICAgIHRoaXMuaW5pdGlhdGVRdWVzdGlvbihib29rKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKCF0aGlzLmdhbWUubGlmdENvb2xkb3duQWN0aXZlKSB7XHJcbiAgICAgIGNvbnN0IGxpZnQgPSBtYXAuZmluZE5lYXJieUxpZnQoY2hhci54LCBjaGFyLnkpO1xyXG4gICAgICBpZiAobGlmdCkgdGhpcy5pbml0aWF0ZUZsb29yU2VsZWN0aW9uKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpbml0aWF0ZVF1ZXN0aW9uKGJvb2spIHtcclxuICAgIGlmICh0aGlzLmdhbWUuZ2FtZVN0YXRlICE9PSBHYW1lU3RhdGUuUExBWUlORykgcmV0dXJuO1xyXG4gICAgdGhpcy5nYW1lLnNldEdhbWVTdGF0ZShHYW1lU3RhdGUuQVNLSU5HX1FVRVNUSU9OKTtcclxuICAgIGlmICh0aGlzLmdhbWUuY2hhcmFjdGVyKSB0aGlzLmdhbWUuY2hhcmFjdGVyLmlzTW92aW5nID0gZmFsc2U7XHJcbiAgICB0aGlzLmdhbWUuY3VycmVudEJvb2tUYXJnZXQgPSBib29rO1xyXG4gICAgaWYgKHRoaXMuZ2FtZS5hdmFpbGFibGVRdWVzdGlvbnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHRoaXMuZ2FtZS5hdmFpbGFibGVRdWVzdGlvbnMgPSBbLi4ucXVlc3Rpb25zXTtcclxuICAgICAgaWYgKHRoaXMuZ2FtZS5hdmFpbGFibGVRdWVzdGlvbnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgVUlNYW5hZ2VyLmZsYXNoTWVzc2FnZSgnQnJhayBweXRhxYQhJywgJ2Vycm9yJyk7XHJcbiAgICAgICAgdGhpcy5nYW1lLnNldEdhbWVTdGF0ZShHYW1lU3RhdGUuUExBWUlORyk7XHJcbiAgICAgICAgdGhpcy5nYW1lLmN1cnJlbnRCb29rVGFyZ2V0ID0gbnVsbDtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IHFJZHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLmdhbWUuYXZhaWxhYmxlUXVlc3Rpb25zLmxlbmd0aCk7XHJcbiAgICB0aGlzLmdhbWUuY3VycmVudFF1ZXN0aW9uRGF0YSA9IHRoaXMuZ2FtZS5hdmFpbGFibGVRdWVzdGlvbnMuc3BsaWNlKHFJZHgsIDEpWzBdO1xyXG4gICAgVUlNYW5hZ2VyLnNob3dRdWVzdGlvbih0aGlzLmdhbWUuY3VycmVudFF1ZXN0aW9uRGF0YSk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVBbnN3ZXIoc2VsT3B0SWR4KSB7XHJcbiAgICBjb25zdCB7IGdhbWVTdGF0ZSwgY3VycmVudFF1ZXN0aW9uRGF0YSwgY3VycmVudEJvb2tUYXJnZXQsIGxldmVsIH0gPSB0aGlzLmdhbWU7XHJcbiAgICBpZiAoZ2FtZVN0YXRlICE9PSBHYW1lU3RhdGUuQVNLSU5HX1FVRVNUSU9OIHx8ICFjdXJyZW50UXVlc3Rpb25EYXRhIHx8ICFjdXJyZW50Qm9va1RhcmdldCkge1xyXG4gICAgICBVSU1hbmFnZXIuaGlkZVF1ZXN0aW9uKCk7XHJcbiAgICAgIHRoaXMuZ2FtZS5jdXJyZW50Qm9va1RhcmdldCA9IG51bGw7XHJcbiAgICAgIHRoaXMuZ2FtZS5jdXJyZW50UXVlc3Rpb25EYXRhID0gbnVsbDtcclxuICAgICAgaWYgKHRoaXMuZ2FtZS5nYW1lU3RhdGUgIT09IEdhbWVTdGF0ZS5HQU1FX09WRVIpIHRoaXMuZ2FtZS5zZXRHYW1lU3RhdGUoR2FtZVN0YXRlLlBMQVlJTkcpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBjb3JyZWN0ID0gc2VsT3B0SWR4ID09PSBjdXJyZW50UXVlc3Rpb25EYXRhLmNvcnJlY3RBbnN3ZXI7XHJcbiAgICBpZiAoY29ycmVjdCkge1xyXG4gICAgICBVSU1hbmFnZXIuZmxhc2hNZXNzYWdlKCdQcmF3aWTFgm93byEnLCAnc3VjY2VzcycsIDE1MDApO1xyXG4gICAgICBpZiAobGV2ZWw/LmN1cnJlbnRNYXA/Lm1hcmtCb29rQXNDb2xsZWN0ZWQoY3VycmVudEJvb2tUYXJnZXQpKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lLnRvdGFsQm9va3NDb2xsZWN0ZWRHbG9iYWxseSsrO1xyXG4gICAgICAgIFVJTWFuYWdlci51cGRhdGVTY29yZSh0aGlzLmdhbWUudG90YWxCb29rc0NvbGxlY3RlZEdsb2JhbGx5LCB0aGlzLmdhbWUudGFyZ2V0Qm9va3NUb1dpbik7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2FtZS50b3RhbEJvb2tzQ29sbGVjdGVkR2xvYmFsbHkgPj0gdGhpcy5nYW1lLnRhcmdldEJvb2tzVG9XaW4pIHtcclxuICAgICAgICAgIFVJTWFuYWdlci5oaWRlUXVlc3Rpb24oKTtcclxuICAgICAgICAgIHRoaXMuZ2FtZS5fc2V0R2FtZU92ZXIodHJ1ZSk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgVUlNYW5hZ2VyLmZsYXNoTWVzc2FnZSgnQsWCxIVkIHpiaWVyYW5pYSEnLCAnZXJyb3InKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIFVJTWFuYWdlci5mbGFzaE1lc3NhZ2UoJ05pZXByYXdpZMWCb3dhIScsICdlcnJvcicpO1xyXG4gICAgICB0aGlzLmdhbWUuYXZhaWxhYmxlUXVlc3Rpb25zLnB1c2goY3VycmVudFF1ZXN0aW9uRGF0YSk7XHJcbiAgICB9XHJcbiAgICBVSU1hbmFnZXIuaGlkZVF1ZXN0aW9uKCk7XHJcbiAgICB0aGlzLmdhbWUuY3VycmVudEJvb2tUYXJnZXQgPSBudWxsO1xyXG4gICAgdGhpcy5nYW1lLmN1cnJlbnRRdWVzdGlvbkRhdGEgPSBudWxsO1xyXG4gICAgaWYgKHRoaXMuZ2FtZS5nYW1lU3RhdGUgIT09IEdhbWVTdGF0ZS5HQU1FX09WRVIpIHRoaXMuZ2FtZS5zZXRHYW1lU3RhdGUoR2FtZVN0YXRlLlBMQVlJTkcpO1xyXG4gIH1cclxuXHJcbiAgaW5pdGlhdGVGbG9vclNlbGVjdGlvbigpIHtcclxuICAgIGlmICh0aGlzLmdhbWUuZ2FtZVN0YXRlICE9PSBHYW1lU3RhdGUuUExBWUlORyB8fCB0aGlzLmdhbWUubGlmdENvb2xkb3duQWN0aXZlKSByZXR1cm47XHJcbiAgICB0aGlzLmdhbWUuc2V0R2FtZVN0YXRlKEdhbWVTdGF0ZS5TRUxFQ1RJTkdfRkxPT1IpO1xyXG4gICAgaWYgKHRoaXMuZ2FtZS5jaGFyYWN0ZXIpIHRoaXMuZ2FtZS5jaGFyYWN0ZXIuaXNNb3ZpbmcgPSBmYWxzZTtcclxuICAgIFVJTWFuYWdlci5zaG93Rmxvb3JTZWxlY3Rpb25VSShcclxuICAgICAgdGhpcy5nYW1lLmxldmVsLm1pbkZsb29yLFxyXG4gICAgICB0aGlzLmdhbWUubGV2ZWwubWF4Rmxvb3IsXHJcbiAgICAgIHRoaXMuZ2FtZS5sZXZlbC5jdXJyZW50Rmxvb3JcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVGbG9vclNlbGVjdGlvbihzZWxGbG9vcikge1xyXG4gICAgaWYgKHRoaXMuZ2FtZS5nYW1lU3RhdGUgIT09IEdhbWVTdGF0ZS5TRUxFQ1RJTkdfRkxPT1IpIHtcclxuICAgICAgVUlNYW5hZ2VyLmhpZGVGbG9vclNlbGVjdGlvblVJKCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIFVJTWFuYWdlci5oaWRlRmxvb3JTZWxlY3Rpb25VSSgpO1xyXG4gICAgaWYgKFxyXG4gICAgICBzZWxGbG9vciA9PT0gdGhpcy5nYW1lLmxldmVsLmN1cnJlbnRGbG9vciB8fFxyXG4gICAgICBzZWxGbG9vciA8IHRoaXMuZ2FtZS5sZXZlbC5taW5GbG9vciB8fFxyXG4gICAgICBzZWxGbG9vciA+IHRoaXMuZ2FtZS5sZXZlbC5tYXhGbG9vclxyXG4gICAgKSB7XHJcbiAgICAgIHRoaXMuZ2FtZS5zZXRHYW1lU3RhdGUoR2FtZVN0YXRlLlBMQVlJTkcpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB0aGlzLmhhbmRsZUxpZnRUcmFuc2l0aW9uKHNlbEZsb29yKS5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIHRoaXMuZ2FtZS5faGFuZGxlRmF0YWxFcnJvcihgQsWCxIVkIHByemVqxZtjaWE6ICR7ZXJyLm1lc3NhZ2V9YCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGhhbmRsZUxpZnRUcmFuc2l0aW9uKHRhcmdldEZsb29yKSB7XHJcbiAgICBjb25zdCBnYW1lID0gdGhpcy5nYW1lO1xyXG4gICAgY29uc3QgaXNEZWJ1ZyA9XHJcbiAgICAgIHRoaXMuZ2FtZS5sZXZlbD8uY3VycmVudEZsb29yID09PSBERUJVR19HTV9GTE9PUiB8fCB0YXJnZXRGbG9vciA9PT0gREVCVUdfR01fRkxPT1I7XHJcblxyXG4gICAgaWYgKGlzRGVidWcpXHJcbiAgICAgIGNvbnNvbGUubG9nKGBbR00gRiR7dGFyZ2V0Rmxvb3J9IExpZnRUcmFuc10gU3RhcnQuIENvb2xkb3duOiR7Z2FtZS5saWZ0Q29vbGRvd25BY3RpdmV9YCk7XHJcbiAgICBpZiAoZ2FtZS5saWZ0Q29vbGRvd25BY3RpdmUgJiYgZ2FtZS5nYW1lU3RhdGUgIT09IEdhbWVTdGF0ZS5TRUxFQ1RJTkdfRkxPT1IpIHtcclxuICAgICAgaWYgKGlzRGVidWcpXHJcbiAgICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgICAgYFtHTSBGJHt0YXJnZXRGbG9vcn0gTGlmdFRyYW5zXSBBYm9ydGVkOiBDb29sZG93biBvciBpbnZhbGlkIHN0YXRlICgke2dhbWUuZ2FtZVN0YXRlfSlgXHJcbiAgICAgICAgKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKGdhbWUuZ2FtZVN0YXRlID09PSBHYW1lU3RhdGUuU0VMRUNUSU5HX0ZMT09SKSBnYW1lLnNldEdhbWVTdGF0ZShHYW1lU3RhdGUuVFJBTlNJVElPTklORyk7XHJcbiAgICBlbHNlIGlmIChnYW1lLmdhbWVTdGF0ZSAhPT0gR2FtZVN0YXRlLlRSQU5TSVRJT05JTkcpIHtcclxuICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgIGBbR00gRiR7dGFyZ2V0Rmxvb3J9IExpZnRUcmFuc10gVW5leHBlY3RlZCBzdGF0ZSAke2dhbWUuZ2FtZVN0YXRlfS4gRm9yY2luZyBUUkFOU0lUSU9OSU5HLmBcclxuICAgICAgKTtcclxuICAgICAgZ2FtZS5zZXRHYW1lU3RhdGUoR2FtZVN0YXRlLlRSQU5TSVRJT05JTkcpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChnYW1lLmNoYXJhY3RlcikgZ2FtZS5jaGFyYWN0ZXIuaXNNb3ZpbmcgPSBmYWxzZTtcclxuICAgIFVJTWFuYWdlci5oaWRlUXVlc3Rpb24oKTtcclxuICAgIFVJTWFuYWdlci5oaWRlRmxvb3JTZWxlY3Rpb25VSSgpO1xyXG4gICAgZ2FtZS5saWZ0Q29vbGRvd25BY3RpdmUgPSB0cnVlO1xyXG4gICAgVUlNYW5hZ2VyLmZsYXNoTWVzc2FnZShgUHJ6ZWrFm2NpZSBuYSBwacSZdHJvICR7dGFyZ2V0Rmxvb3J9Li4uYCwgJ2luZm8nLCBMSUZUX0NPT0xET1dOX01TIC0gMjAwKTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBnYW1lLmxldmVsLmxvYWRGbG9vcih0YXJnZXRGbG9vciwgZ2FtZS5jYW52YXMud2lkdGgsIGdhbWUuY2FudmFzLmhlaWdodCk7XHJcbiAgICAgIGNvbnN0IG1hcEluc3QgPSBnYW1lLmxldmVsLmN1cnJlbnRNYXA7XHJcbiAgICAgIGlmICghbWFwSW5zdCkgdGhyb3cgbmV3IEVycm9yKGBNYXAgaW5zdGFuY2UgbnVsbCBmb3IgRiR7dGFyZ2V0Rmxvb3J9LmApO1xyXG4gICAgICBjb25zdCBsaWZ0RGF0YSA9IG1hcEluc3QuZ2V0TGlmdFBvc2l0aW9uKCk7XHJcbiAgICAgIGlmICghbGlmdERhdGEpIHRocm93IG5ldyBFcnJvcihgTm8gbGlmdCBwb3MgZGF0YSBvbiBGJHt0YXJnZXRGbG9vcn0hYCk7XHJcbiAgICAgIGlmIChpc0RlYnVnKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGAgIFtHTSBGJHt0YXJnZXRGbG9vcn0gTGlmdFRyYW5zXSBMaWZ0IEAoJHtsaWZ0RGF0YS50aWxlWH0sJHtsaWZ0RGF0YS50aWxlWX0pYCk7XHJcblxyXG4gICAgICBsZXQgZmluYWxTcGF3biA9IG51bGw7XHJcbiAgICAgIGNvbnN0IGxpZnRSb29tID0gbWFwSW5zdC5nZXRSb29tQ29udGFpbmluZ1RpbGUobGlmdERhdGEudGlsZVgsIGxpZnREYXRhLnRpbGVZKTtcclxuXHJcbiAgICAgIGlmIChsaWZ0Um9vbSkge1xyXG4gICAgICAgIGlmIChpc0RlYnVnKVxyXG4gICAgICAgICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgICAgIGAgIFtHTSBGJHt0YXJnZXRGbG9vcn0gTGlmdFRyYW5zXSBMaWZ0IGluIHJvb20gJHtcclxuICAgICAgICAgICAgICBsaWZ0Um9vbS5pZCB8fCAnTi9BJ1xyXG4gICAgICAgICAgICB9LiBTcGF3bmluZyBjZW50ZXIuYFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICBmaW5hbFNwYXduID0gbWFwSW5zdC5nZXRSb29tQ2VudGVyKGxpZnRSb29tKTtcclxuICAgICAgICBpZiAoIWZpbmFsU3Bhd24pIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgICAgIGAgIFtHTSBGJHt0YXJnZXRGbG9vcn0gTGlmdFRyYW5zXSBDUklUOiBnZXRSb29tQ2VudGVyIG51bGwgZm9yIHJvb20gJHtcclxuICAgICAgICAgICAgICBsaWZ0Um9vbS5pZCB8fCAnTi9BJ1xyXG4gICAgICAgICAgICB9LiBGYWxsYmFjay5gXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgZmluYWxTcGF3biA9IG1hcEluc3QuZ2V0U3Bhd25Qb2ludEluUm9vbU9mTGlmdChsaWZ0RGF0YS50aWxlWCwgbGlmdERhdGEudGlsZVksIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgYCAgW0dNIEYke3RhcmdldEZsb29yfSBMaWZ0VHJhbnNdIENSSVQ6IExpZnQgQCgke2xpZnREYXRhLnRpbGVYfSwke2xpZnREYXRhLnRpbGVZfSkgTk9UIGluIGFueSByb29tISBGYWxsYmFjayBuZWFyIGxpZnQuYFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgZmluYWxTcGF3biA9XHJcbiAgICAgICAgICBtYXBJbnN0LmdldFNwYXduUG9pbnRJblJvb21PZkxpZnQobGlmdERhdGEudGlsZVgsIGxpZnREYXRhLnRpbGVZLCAxKSB8fFxyXG4gICAgICAgICAgbWFwSW5zdC5maW5kTmVhcmVzdFdhbGthYmxlVGlsZShsaWZ0RGF0YS54LCBsaWZ0RGF0YS55LCAzLCB0cnVlLCBmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFmaW5hbFNwYXduKSBmaW5hbFNwYXduID0geyB4OiBsaWZ0RGF0YS54LCB5OiBsaWZ0RGF0YS55IH07IC8vIExhc3QgcmVzb3J0OiBsaWZ0IHRpbGUgaXRzZWxmXHJcbiAgICAgIGlmICghZmluYWxTcGF3bikgdGhyb3cgbmV3IEVycm9yKGBQQU5JQzogTm8gc3Bhd24gcG9zIGZvciBGJHt0YXJnZXRGbG9vcn0uYCk7XHJcblxyXG4gICAgICBnYW1lLmNoYXJhY3Rlci54ID0gZmluYWxTcGF3bi54O1xyXG4gICAgICBnYW1lLmNoYXJhY3Rlci55ID0gZmluYWxTcGF3bi55O1xyXG4gICAgICBpZiAoaXNEZWJ1ZylcclxuICAgICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICAgIGAgIFtHTSBGJHt0YXJnZXRGbG9vcn0gTGlmdFRyYW5zXSBJbml0aWFsIGxhbmQgKHByZS1udWRnZSk6KCR7Z2FtZS5jaGFyYWN0ZXIueC50b0ZpeGVkKFxyXG4gICAgICAgICAgICAxXHJcbiAgICAgICAgICApfSwke2dhbWUuY2hhcmFjdGVyLnkudG9GaXhlZCgxKX0pYFxyXG4gICAgICAgICk7XHJcbiAgICAgIGdhbWUuY2hhcmFjdGVyLmN1cnJlbnREaXJlY3Rpb24gPSBDaGFyYWN0ZXIuRGlyZWN0aW9uLkRPV047XHJcbiAgICAgIGdhbWUuY2hhcmFjdGVyLmlzTW92aW5nID0gZmFsc2U7XHJcblxyXG4gICAgICB0aGlzLmVuc3VyZUNoYXJhY3RlcklzT25XYWxrYWJsZVRpbGUoZmFsc2UpOyAvLyBhbGxvd1N0YW5kaW5nT25MaWZ0PWZhbHNlXHJcbiAgICAgIGlmIChpc0RlYnVnKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgICAgYCAgW0dNIEYke3RhcmdldEZsb29yfSBMaWZ0VHJhbnNdIEZpbmFsIHBvcyAocG9zdC1udWRnZSk6KCR7Z2FtZS5jaGFyYWN0ZXIueC50b0ZpeGVkKFxyXG4gICAgICAgICAgICAxXHJcbiAgICAgICAgICApfSwke2dhbWUuY2hhcmFjdGVyLnkudG9GaXhlZCgxKX0pYFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICBnYW1lLnJlbmRlcmVyPy5jZW50ZXJDYW1lcmFPbkNoYXJhY3RlcigpO1xyXG4gICAgICBnYW1lLnN0YXJ0TGlmdENvb2xkb3duVGltZXIoKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFtHTSBGJHt0YXJnZXRGbG9vcn0gTGlmdFRyYW5zXSBFcnJvcjpgLCBlcnJvcik7XHJcbiAgICAgIGdhbWUubGlmdENvb2xkb3duQWN0aXZlID0gZmFsc2U7XHJcbiAgICAgIGlmIChcclxuICAgICAgICBnYW1lLmdhbWVTdGF0ZSA9PT0gR2FtZVN0YXRlLlRSQU5TSVRJT05JTkcgfHxcclxuICAgICAgICBnYW1lLmdhbWVTdGF0ZSA9PT0gR2FtZVN0YXRlLlNFTEVDVElOR19GTE9PUlxyXG4gICAgICApXHJcbiAgICAgICAgZ2FtZS5zZXRHYW1lU3RhdGUoR2FtZVN0YXRlLlBMQVlJTkcpO1xyXG4gICAgICB0aGlzLmdhbWUuX2hhbmRsZUZhdGFsRXJyb3IoYFRyYW5zaXRpb24gZXJyb3IgdG8gRiR7dGFyZ2V0Rmxvb3J9OiAke2Vycm9yLm1lc3NhZ2UgfHwgZXJyb3J9YCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBlbnN1cmVDaGFyYWN0ZXJJc09uV2Fsa2FibGVUaWxlKGFsbG93U3RhbmRpbmdPbkxpZnQgPSBmYWxzZSkge1xyXG4gICAgY29uc3QgY2hhciA9IHRoaXMuZ2FtZS5jaGFyYWN0ZXIsXHJcbiAgICAgIG1hcCA9IHRoaXMuZ2FtZS5sZXZlbD8uY3VycmVudE1hcDtcclxuICAgIGlmICghY2hhciB8fCAhbWFwKSByZXR1cm47XHJcbiAgICBjb25zdCBjVFggPSBNYXRoLmZsb29yKGNoYXIueCAvIG1hcC50aWxlU2l6ZSksXHJcbiAgICAgIGNUWSA9IE1hdGguZmxvb3IoY2hhci55IC8gbWFwLnRpbGVTaXplKTtcclxuICAgIGNvbnN0IGNUViA9XHJcbiAgICAgIGNUWCA+PSAwICYmIGNUWCA8IG1hcC5jb2xzICYmIGNUWSA+PSAwICYmIGNUWSA8IG1hcC5yb3dzID8gbWFwLm1hcFtjVFldPy5bY1RYXSA6IFRJTEVfV0FMTDtcclxuICAgIGNvbnN0IGNlbnRlcldhbGthYmxlID0gbWFwLmlzV2Fsa2FibGUoY2hhci54LCBjaGFyLnkpLFxyXG4gICAgICBpc0xpZnQgPSBjVFYgPT09IFRJTEVfTElGVDtcclxuICAgIGNvbnN0IHNhZmVTdGFuZCA9IGNlbnRlcldhbGthYmxlICYmICghaXNMaWZ0IHx8IGFsbG93U3RhbmRpbmdPbkxpZnQpO1xyXG4gICAgY29uc3QgY29sbGlkaW5nV2FsbCA9IHRoaXMuY2hlY2tDb2xsaXNpb24oY2hhci54LCBjaGFyLnkpO1xyXG4gICAgY29uc3QgbmVlZHNOdWRnZSA9IGNvbGxpZGluZ1dhbGwgfHwgIXNhZmVTdGFuZDtcclxuICAgIGNvbnN0IGlzRGVidWcgPSB0aGlzLmdhbWUubGV2ZWw/LmN1cnJlbnRGbG9vciA9PT0gREVCVUdfR01fRkxPT1I7XHJcblxyXG4gICAgaWYgKG5lZWRzTnVkZ2UpIHtcclxuICAgICAgaWYgKGlzRGVidWcpXHJcbiAgICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgICAgYFtHTSBGJHt0aGlzLmdhbWUubGV2ZWwuY3VycmVudEZsb29yfSBBbnRpU3R1Y2tdIENoYXJAKCR7Y2hhci54LnRvRml4ZWQoXHJcbiAgICAgICAgICAgIDFcclxuICAgICAgICAgICl9LCR7Y2hhci55LnRvRml4ZWQoXHJcbiAgICAgICAgICAgIDFcclxuICAgICAgICAgICl9KSB0aWxlICR7Y1RWfSgke2NUWH0sJHtjVFl9KSBuZWVkcyBudWRnZS4gQ29sbGlkZToke2NvbGxpZGluZ1dhbGx9LFNhZmVTdGFuZDoke3NhZmVTdGFuZH0oYWxsb3dMaWZ0OiR7YWxsb3dTdGFuZGluZ09uTGlmdH0pYFxyXG4gICAgICAgICk7XHJcbiAgICAgIGxldCBzYWZlU3BvdCA9IG1hcC5maW5kTmVhcmVzdFdhbGthYmxlVGlsZShjaGFyLngsIGNoYXIueSwgOCwgdHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgIGlmICghc2FmZVNwb3QpIHtcclxuICAgICAgICBpZiAoaXNEZWJ1ZylcclxuICAgICAgICAgIGNvbnNvbGUud2FybihgICBbQW50aVN0dWNrXSBJbml0aWFsIChhdm9pZE5hcnJvdykgZmFpbGVkLiBSZXRyeWluZyBhbGxvd05hcnJvdy4uLmApO1xyXG4gICAgICAgIHNhZmVTcG90ID0gbWFwLmZpbmROZWFyZXN0V2Fsa2FibGVUaWxlKGNoYXIueCwgY2hhci55LCA4LCB0cnVlLCBmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFzYWZlU3BvdCAmJiBpc0xpZnQgJiYgIWFsbG93U3RhbmRpbmdPbkxpZnQpIHtcclxuICAgICAgICBpZiAoaXNEZWJ1ZylcclxuICAgICAgICAgIGNvbnNvbGUud2FybihgICBbQW50aVN0dWNrXSBBbGxvd05hcnJvdyBmYWlsZWQuIFRyeWluZyBhbnkgc3BvdCBpbmNsLiBsaWZ0Li4uYCk7XHJcbiAgICAgICAgc2FmZVNwb3QgPSBtYXAuZmluZE5lYXJlc3RXYWxrYWJsZVRpbGUoY2hhci54LCBjaGFyLnksIDMsIGZhbHNlLCBmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHNhZmVTcG90KSB7XHJcbiAgICAgICAgaWYgKGlzRGVidWcpXHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICAgICAgYCAgW0FudGlTdHVja10gTnVkZ2luZyB0byBzYWZlOigke3NhZmVTcG90LngudG9GaXhlZCgxKX0sJHtzYWZlU3BvdC55LnRvRml4ZWQoMSl9KWBcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgY2hhci54ID0gc2FmZVNwb3QueDtcclxuICAgICAgICBjaGFyLnkgPSBzYWZlU3BvdC55O1xyXG4gICAgICAgIHRoaXMuZ2FtZS5yZW5kZXJlcj8uY2VudGVyQ2FtZXJhT25DaGFyYWN0ZXIoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoaXNEZWJ1ZykgY29uc29sZS5lcnJvcihgICBbQW50aVN0dWNrXSBDUklUOiBObyBzYWZlIG51ZGdlIHNwb3QuIFJhbmRvbSBtYXAgc3Bhd24uLi5gKTtcclxuICAgICAgICBjb25zdCBlbWVyZ2VuY3kgPSBtYXAuZmluZFJhbmRvbUluaXRpYWxTcGF3blBvc2l0aW9uKCk7XHJcbiAgICAgICAgaWYgKGVtZXJnZW5jeSkge1xyXG4gICAgICAgICAgaWYgKGlzRGVidWcpXHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICAgICAgICBgICBbQW50aVN0dWNrXSBFbWVyZ2VuY3kgcmFuZG9tOigke2VtZXJnZW5jeS54LnRvRml4ZWQoMSl9LCR7ZW1lcmdlbmN5LnkudG9GaXhlZCgxKX0pYFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgY2hhci54ID0gZW1lcmdlbmN5Lng7XHJcbiAgICAgICAgICBjaGFyLnkgPSBlbWVyZ2VuY3kueTtcclxuICAgICAgICAgIHRoaXMuZ2FtZS5yZW5kZXJlcj8uY2VudGVyQ2FtZXJhT25DaGFyYWN0ZXIoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYgKGlzRGVidWcpIGNvbnNvbGUuZXJyb3IoJyAgW0FudGlTdHVja10gRVZFTiBSQU5ET00gU1BBV04gRkFJTEVEISBVbnJlY292ZXJhYmxlLicpO1xyXG4gICAgICAgICAgdGhpcy5nYW1lLl9oYW5kbGVGYXRhbEVycm9yKCdBbnRpLVN0dWNrIHN5c3RlbSBmYWlsZWQ6IE5vIHNwYXduYWJsZSB0aWxlcyBmb3VuZC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiLy8gc3JjL2F1ZGlvL0F1ZGlvTWFuYWdlci5qc1xyXG5cclxuaW1wb3J0IHRyYWNrMVNyYyBmcm9tICcuLi8uLi9hc3NldHMvYXVkaW8vYmFjazEubXAzJzsgLy8g0J/RgNC40LzQtdGAINC/0YPRgtC4LCDQvdCw0YHRgtGA0L7QudGC0LUg0L/QvtC0INCy0LDRiNGDINGB0YLRgNGD0LrRgtGD0YDRg1xyXG5pbXBvcnQgdHJhY2syU3JjIGZyb20gJy4uLy4uL2Fzc2V0cy9hdWRpby9iYWNrMi5tcDMnO1xyXG5pbXBvcnQgdHJhY2szU3JjIGZyb20gJy4uLy4uL2Fzc2V0cy9hdWRpby9iYWNrMy5tcDMnO1xyXG5cclxuY29uc3QgREVGQVVMVF9NVVNJQ19WT0xVTUUgPSAwLjU7XHJcblxyXG4vLyDQmNGB0L/QvtC70YzQt9GD0LXQvCDQuNC80L/QvtGA0YLQuNGA0L7QstCw0L3QvdGL0LUg0LjRgdGF0L7QtNC90LjQutC4XHJcbmNvbnN0IE1VU0lDX1NPVVJDRVMgPSB7XHJcbiAgLy8g0J/QtdGA0LXQuNC80LXQvdC+0LLQsNC90L4g0LTQu9GPINGP0YHQvdC+0YHRgtC4XHJcbiAgdHJhY2sxOiB0cmFjazFTcmMsXHJcbiAgdHJhY2syOiB0cmFjazJTcmMsXHJcbiAgdHJhY2szOiB0cmFjazNTcmMsXHJcbn07XHJcblxyXG4vLyDQn9C+0YDRj9C00L7Quiwg0LIg0LrQvtGC0L7RgNC+0Lwg0YLRgNC10LrQuCDQsdGD0LTRg9GCINC80LXQvdGP0YLRjNGB0Y8gKNC80L7QttC90L4g0LjQt9C80LXQvdC40YLRjCDQvdCwINC00YDRg9Cz0YPRjiDQu9C+0LPQuNC60YMpXHJcbmNvbnN0IFRSQUNLX0NZQ0xFX09SREVSID0gWyd0cmFjazEnLCAndHJhY2syJywgJ3RyYWNrMyddO1xyXG5cclxuZXhwb3J0IGNsYXNzIEF1ZGlvTWFuYWdlciB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLm11c2ljVm9sdW1lID0gREVGQVVMVF9NVVNJQ19WT0xVTUU7XHJcbiAgICB0aGlzLmN1cnJlbnRNdXNpY0VsZW1lbnQgPSBudWxsO1xyXG4gICAgdGhpcy5jdXJyZW50VHJhY2tLZXkgPSBudWxsO1xyXG4gICAgdGhpcy5pc011c2ljUGxheWluZyA9IGZhbHNlO1xyXG5cclxuICAgIGNvbnN0IHNhdmVkVm9sdW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ211c2ljVm9sdW1lJyk7XHJcbiAgICBpZiAoc2F2ZWRWb2x1bWUgIT09IG51bGwpIHtcclxuICAgICAgdGhpcy5tdXNpY1ZvbHVtZSA9IHBhcnNlRmxvYXQoc2F2ZWRWb2x1bWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuYXVkaW9FbGVtZW50cyA9IHt9O1xyXG4gICAgdGhpcy5fcHJlbG9hZFRyYWNrcygpO1xyXG4gIH1cclxuXHJcbiAgX3ByZWxvYWRUcmFja3MoKSB7XHJcbiAgICBjb25zb2xlLmxvZygnW0F1ZGlvTWFuYWdlcl0gUHJlbG9hZGluZyB0cmFja3MgZnJvbSBpbXBvcnRlZCBzb3VyY2VzLi4uJyk7XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBNVVNJQ19TT1VSQ0VTKSB7XHJcbiAgICAgIGlmIChNVVNJQ19TT1VSQ0VTLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgICBjb25zdCBhdWRpb1BhdGggPSBNVVNJQ19TT1VSQ0VTW2tleV07IC8vINCY0YHQv9C+0LvRjNC30YPQtdC8INC40LzQv9C+0YDRgtC40YDQvtCy0LDQvdC90YvQuSDQv9GD0YLRjFxyXG4gICAgICAgIGNvbnN0IGF1ZGlvID0gbmV3IEF1ZGlvKGF1ZGlvUGF0aCk7XHJcbiAgICAgICAgYXVkaW8ucHJlbG9hZCA9ICdhdXRvJztcclxuICAgICAgICB0aGlzLmF1ZGlvRWxlbWVudHNba2V5XSA9IGF1ZGlvO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGAgIFByZWxvYWRlZCAke2tleX0gZnJvbSAke2F1ZGlvUGF0aH1gKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0TXVzaWNWb2x1bWUodm9sdW1lKSB7XHJcbiAgICB0aGlzLm11c2ljVm9sdW1lID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgdm9sdW1lKSk7IC8vINCe0LPRgNCw0L3QuNGH0LjQstCw0LXQvCDQvtGCIDAg0LTQviAxXHJcbiAgICBpZiAodGhpcy5jdXJyZW50TXVzaWNFbGVtZW50KSB7XHJcbiAgICAgIHRoaXMuY3VycmVudE11c2ljRWxlbWVudC52b2x1bWUgPSB0aGlzLm11c2ljVm9sdW1lO1xyXG4gICAgfVxyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ211c2ljVm9sdW1lJywgdGhpcy5tdXNpY1ZvbHVtZS50b1N0cmluZygpKTsgLy8g0KHQvtGF0YDQsNC90Y/QtdC8INCz0YDQvtC80LrQvtGB0YLRjFxyXG4gICAgY29uc29sZS5sb2coYFtBdWRpb01hbmFnZXJdIE11c2ljIHZvbHVtZSBzZXQgdG86ICR7dGhpcy5tdXNpY1ZvbHVtZX1gKTtcclxuICB9XHJcblxyXG4gIGdldE11c2ljVm9sdW1lKCkge1xyXG4gICAgcmV0dXJuIHRoaXMubXVzaWNWb2x1bWU7XHJcbiAgfVxyXG5cclxuICBwbGF5TXVzaWModHJhY2tLZXksIGxvb3AgPSB0cnVlKSB7XHJcbiAgICBpZiAoIXRoaXMuYXVkaW9FbGVtZW50c1t0cmFja0tleV0pIHtcclxuICAgICAgY29uc29sZS53YXJuKGBbQXVkaW9NYW5hZ2VyXSBUcmFjayBcIiR7dHJhY2tLZXl9XCIgbm90IGZvdW5kIG9yIG5vdCBwcmVsb2FkZWQuYCk7XHJcbiAgICAgIGlmIChNVVNJQ19TT1VSQ0VTW3RyYWNrS2V5XSkge1xyXG4gICAgICAgIC8vINCf0YDQvtCy0LXRgNGP0LXQvCDQvdCw0LvQuNGH0LjQtSDQsiBNVVNJQ19TT1VSQ0VTXHJcbiAgICAgICAgdGhpcy5hdWRpb0VsZW1lbnRzW3RyYWNrS2V5XSA9IG5ldyBBdWRpbyhNVVNJQ19TT1VSQ0VTW3RyYWNrS2V5XSk7IC8vINCY0YHQv9C+0LvRjNC30YPQtdC8INC40LzQv9C+0YDRgtC40YDQvtCy0LDQvdC90YvQuSDQv9GD0YLRjFxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgICBgW0F1ZGlvTWFuYWdlcl0gU291cmNlIGZvciB0cmFjayBcIiR7dHJhY2tLZXl9XCIgbm90IGRlZmluZWQgaW4gTVVTSUNfU09VUkNFUy5gXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5pc011c2ljUGxheWluZyAmJiB0aGlzLmN1cnJlbnRUcmFja0tleSA9PT0gdHJhY2tLZXkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zdG9wTXVzaWMoKTtcclxuXHJcbiAgICB0aGlzLmN1cnJlbnRNdXNpY0VsZW1lbnQgPSB0aGlzLmF1ZGlvRWxlbWVudHNbdHJhY2tLZXldO1xyXG4gICAgdGhpcy5jdXJyZW50TXVzaWNFbGVtZW50LnZvbHVtZSA9IHRoaXMubXVzaWNWb2x1bWU7XHJcbiAgICB0aGlzLmN1cnJlbnRNdXNpY0VsZW1lbnQubG9vcCA9IGxvb3A7XHJcbiAgICB0aGlzLmN1cnJlbnRUcmFja0tleSA9IHRyYWNrS2V5O1xyXG5cclxuICAgIHRoaXMuY3VycmVudE11c2ljRWxlbWVudFxyXG4gICAgICAucGxheSgpXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICB0aGlzLmlzTXVzaWNQbGF5aW5nID0gdHJ1ZTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICAgIGBbQXVkaW9NYW5hZ2VyXSBQbGF5aW5nIG11c2ljOiAke3RyYWNrS2V5fSAoVm9sdW1lOiAke3RoaXMuY3VycmVudE11c2ljRWxlbWVudC52b2x1bWV9KWBcclxuICAgICAgICApO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihgW0F1ZGlvTWFuYWdlcl0gRXJyb3IgcGxheWluZyBcIiR7dHJhY2tLZXl9XCI6YCwgZXJyb3IpO1xyXG4gICAgICAgIC8vINCU0L7QsdCw0LLRjNGC0LUg0LHQvtC70YzRiNC1INC00LXRgtCw0LvQtdC5INC00LvRjyDQvtGC0LvQsNC00LrQuCDQv9C+0LvQuNGC0LjQutC4INCw0LLRgtC+0LLQvtGB0L/RgNC+0LjQt9Cy0LXQtNC10L3QuNGPXHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgIGAgIFBsYXliYWNrIGZhaWx1cmUgZGV0YWlsczogdXNlckludGVyYWN0ZWQgKGNoZWNrIE1lbnUuanMpLCBkb2N1bWVudC5oYXNGb2N1cygpOiAke2RvY3VtZW50Lmhhc0ZvY3VzKCl9YFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5pc011c2ljUGxheWluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY3VycmVudE11c2ljRWxlbWVudCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50VHJhY2tLZXkgPSBudWxsO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIHN0b3BNdXNpYygpIHtcclxuICAgIGlmICh0aGlzLmN1cnJlbnRNdXNpY0VsZW1lbnQpIHtcclxuICAgICAgdGhpcy5jdXJyZW50TXVzaWNFbGVtZW50LnBhdXNlKCk7XHJcbiAgICAgIHRoaXMuY3VycmVudE11c2ljRWxlbWVudC5jdXJyZW50VGltZSA9IDA7IC8vINCh0LHRgNC+0YEg0L3QsCDQvdCw0YfQsNC70L5cclxuICAgICAgdGhpcy5pc011c2ljUGxheWluZyA9IGZhbHNlO1xyXG4gICAgICBjb25zb2xlLmxvZyhgW0F1ZGlvTWFuYWdlcl0gU3RvcHBlZCBtdXNpYzogJHt0aGlzLmN1cnJlbnRUcmFja0tleX1gKTtcclxuICAgICAgLy8g0J3QtSDQvtGH0LjRidCw0LXQvCBjdXJyZW50TXVzaWNFbGVtZW50INC4IGN1cnJlbnRUcmFja0tleSDQt9C00LXRgdGMINC/0L7Qu9C90L7RgdGC0YzRjixcclxuICAgICAgLy8g0YfRgtC+0LHRiyDQvNC+0LbQvdC+INCx0YvQu9C+INCy0L7Qt9C+0LHQvdC+0LLQuNGC0YwsINC10YHQu9C4INC90YPQttC90L4sINC90L4g0LTQu9GPINGB0LzQtdC90Ysg0YLRgNC10LrQsCDRjdGC0L4g0J7Qmi5cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vINCS0YvQt9GL0LLQsNC10YLRgdGPINC/0YDQuCDRgdC80LXQvdC1INGN0YLQsNC20LBcclxuICBjaGFuZ2VUcmFja0ZvckZsb29yKGZsb29yTnVtYmVyKSB7XHJcbiAgICAvLyDQn9GA0L7RgdGC0L4g0YbQuNC60LvQuNGH0LXRgdC60Lgg0LzQtdC90Y/QtdC8INGC0YDQtdC60LguINCt0YLQsNC20Lgg0L7QsdGL0YfQvdC+IDEt0LjQvdC00LXQutGB0LjRgNC+0LLQsNC90L3Ri9C1LlxyXG4gICAgLy8gZmxvb3JOdW1iZXIg0LzQvtC20LXRgiDQsdGL0YLRjCDQu9GO0LHRi9C8LCDQv9C+0Y3RgtC+0LzRgyDQsdC10YDQtdC8INC/0L4g0LzQvtC00YPQu9GOLlxyXG4gICAgLy8g0JjRgdC/0L7Qu9GM0LfRg9C10LwgKGZsb29yTnVtYmVyIC0gMSkg0LXRgdC70Lgg0LLQsNGI0Lgg0Y3RgtCw0LbQuCDQvdCw0YfQuNC90LDRjtGC0YHRjyDRgSAxLCDRh9GC0L7QsdGLINC40L3QtNC10LrRgSDQsdGL0Lsg0YEgMC5cclxuICAgIC8vINCV0YHQu9C4INGN0YLQsNC20Lgg0LzQvtCz0YPRgiDQsdGL0YLRjCAwINC40LvQuCDQvtGC0YDQuNGG0LDRgtC10LvRjNC90YvQvNC4LCDQvdGD0LbQvdCwINC00YDRg9Cz0LDRjyDQu9C+0LPQuNC60LAuXHJcbiAgICAvLyDQn9GA0LXQtNC/0L7Qu9C+0LbQuNC8LCDRjdGC0LDQttC4ID4gMC5cclxuICAgIGNvbnN0IGFkanVzdGVkRmxvb3JJbmRleCA9IE1hdGgubWF4KDAsIGZsb29yTnVtYmVyIC0gMSk7XHJcbiAgICBjb25zdCB0cmFja0luZGV4ID0gYWRqdXN0ZWRGbG9vckluZGV4ICUgVFJBQ0tfQ1lDTEVfT1JERVIubGVuZ3RoO1xyXG4gICAgY29uc3QgbmV3VHJhY2tLZXkgPSBUUkFDS19DWUNMRV9PUkRFUlt0cmFja0luZGV4XTtcclxuXHJcbiAgICBpZiAobmV3VHJhY2tLZXkpIHtcclxuICAgICAgY29uc29sZS5sb2coYFtBdWRpb01hbmFnZXJdIEZsb29yICR7Zmxvb3JOdW1iZXJ9IC0+IE11c2ljIHRyYWNrOiAke25ld1RyYWNrS2V5fWApO1xyXG4gICAgICB0aGlzLnBsYXlNdXNpYyhuZXdUcmFja0tleSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLndhcm4oYFtBdWRpb01hbmFnZXJdIE5vIHRyYWNrIGZvdW5kIGZvciBmbG9vciBpbmRleCAke3RyYWNrSW5kZXh9LmApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g0JzQtdGC0L7QtCDQtNC70Y8g0L/QtdGA0LLQvtC90LDRh9Cw0LvRjNC90L7Qs9C+INC30LDQv9GD0YHQutCwINC80YPQt9GL0LrQuCwg0L3QsNC/0YDQuNC80LXRgCwg0L/RgNC4INGB0YLQsNGA0YLQtSDQuNCz0YDRi1xyXG4gIHN0YXJ0SW5pdGlhbE11c2ljKGluaXRpYWxGbG9vciA9IDEpIHtcclxuICAgIC8vINCj0LHQtdC00LjQvNGB0Y8sINGH0YLQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70Ywg0LLQt9Cw0LjQvNC+0LTQtdC50YHRgtCy0L7QstCw0Lsg0YHQviDRgdGC0YDQsNC90LjRhtC10LksXHJcbiAgICAvLyDQv9GA0LXQttC00LUg0YfQtdC8INC/0YvRgtCw0YLRjNGB0Y8g0LLQvtGB0L/RgNC+0LjQt9Cy0LXRgdGC0Lgg0LfQstGD0LogKNCx0YDQsNGD0LfQtdGA0Ysg0LHQu9C+0LrQuNGA0YPRjtGCINCw0LLRgtC+0LLQvtGB0L/RgNC+0LjQt9Cy0LXQtNC10L3QuNC1KS5cclxuICAgIC8vINCt0YLQvtGCINC80LXRgtC+0LQg0LTQvtC70LbQtdC9INCy0YvQt9GL0LLQsNGC0YzRgdGPINC/0L7RgdC70LUg0LrQu9C40LrQsCBcIlBsYXlcIiDQsiDQs9C70LDQstC90L7QvCDQvNC10L3Rji5cclxuICAgIGNvbnNvbGUubG9nKCdbQXVkaW9NYW5hZ2VyXSBBdHRlbXB0aW5nIHRvIHN0YXJ0IGluaXRpYWwgbXVzaWMuLi4nKTtcclxuICAgIHRoaXMuY2hhbmdlVHJhY2tGb3JGbG9vcihpbml0aWFsRmxvb3IpO1xyXG4gIH1cclxufVxyXG4iLCIvLyBzcmMvY29yZS9HYW1lLmpzXHJcbmltcG9ydCB7IElucHV0TWFuYWdlciB9IGZyb20gJy4vSW5wdXRNYW5hZ2VyLmpzJztcclxuaW1wb3J0IHsgVUlNYW5hZ2VyIH0gZnJvbSAnLi4vVUkvVUlNYW5hZ2VyLmpzJztcclxuaW1wb3J0IHsgQ2hhcmFjdGVyIH0gZnJvbSAnLi9DaGFyYWN0ZXIuanMnO1xyXG5pbXBvcnQgeyBMZXZlbCB9IGZyb20gJy4vTGV2ZWwuanMnO1xyXG5pbXBvcnQgeyBHYW1lU3RhdGUsIHF1ZXN0aW9ucywgVEFSR0VUX0JPT0tTX1RPX1dJTiwgTElGVF9DT09MRE9XTl9NUyB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcyc7XHJcbmltcG9ydCB7IEdhbWVSZW5kZXJlciB9IGZyb20gJy4vR2FtZVJlbmRlcmVyLmpzJztcclxuaW1wb3J0IHsgR2FtZXBsYXlNYW5hZ2VyIH0gZnJvbSAnLi9HYW1lcGxheU1hbmFnZXIuanMnO1xyXG5pbXBvcnQgeyBBdWRpb01hbmFnZXIgfSBmcm9tICcuLi9hdWRpby9BdWRpb01hbmFnZXIuanMnO1xyXG5cclxuLy8g0JjQvNC/0L7RgNGC0Ysg0YHQv9GA0LDQudGC0L7QsiAo0YPQsdC10LTQuNGB0YwsINGH0YLQviDQv9GD0YLQuCDQutC+0YDRgNC10LrRgtC90YspXHJcbmltcG9ydCByZWRTcHJpdGVQYXRoIGZyb20gJy4uLy4uL2Fzc2V0cy9pbWFnZXMvY2hhcmFjdGVyX3JlZC5wbmcnO1xyXG5pbXBvcnQgYmx1ZVNwcml0ZVBhdGggZnJvbSAnLi4vLi4vYXNzZXRzL2ltYWdlcy9jaGFyYWN0ZXJfYmx1ZS5wbmcnO1xyXG5pbXBvcnQgeWVsbG93U3ByaXRlUGF0aCBmcm9tICcuLi8uLi9hc3NldHMvaW1hZ2VzL2NoYXJhY3Rlcl95ZWxsb3cucG5nJztcclxuaW1wb3J0IGdyZWVuU3ByaXRlUGF0aCBmcm9tICcuLi8uLi9hc3NldHMvaW1hZ2VzL2NoYXJhY3Rlcl9ncmVlbi5wbmcnO1xyXG5pbXBvcnQgYm9va1Nwcml0ZUltYWdlIGZyb20gJy4uLy4uL2Fzc2V0cy9pbWFnZXMvYm9vay5wbmcnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWUge1xyXG4gIHN0YXRpYyBDUkVBVE9SX05BTUVTID0gWydSYWZhxYInLCAnRGltYScsICdWZW5pYScsICdLYWNwZXInXTtcclxuICBzdGF0aWMgQ0xBU1NfQVRURU5ESU5HX0lORk8gPSAnS2xhc2EgMlAyVCAvIFByb2pla3Rvd2FuaWUgc3Ryb24gaW50ZXJuZXRvd3ljaCc7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGNoYXJhY3RlckNvbG9yKSB7XHJcbiAgICBjb25zb2xlLmxvZyhgW0dhbWVdIEluaXRpYWxpemluZyB3aXRoIGNoYXJhY3RlcjogJHtjaGFyYWN0ZXJDb2xvcn1gKTtcclxuICAgIGlmICghY2hhcmFjdGVyQ29sb3IpIHtcclxuICAgICAgY29uc3QgZXJyb3JNc2cgPSAnW0dhbWVdIENSSVRJQ0FMOiBHYW1lIGluaXRpYWxpemVkIHdpdGhvdXQgYSBjaGFyYWN0ZXJDb2xvciEnO1xyXG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yTXNnKTtcclxuICAgICAgYWxlcnQoJ0dhbWUgY2Fubm90IHN0YXJ0OiBubyBjaGFyYWN0ZXIgd2FzIHNlbGVjdGVkLicpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNc2cpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5jaGFyYWN0ZXJDb2xvciA9IGNoYXJhY3RlckNvbG9yO1xyXG4gICAgdGhpcy5fZ2FtZVN0YXRlID0gR2FtZVN0YXRlLklETEU7XHJcbiAgICB0aGlzLmlzUnVubmluZyA9IGZhbHNlO1xyXG5cclxuICAgIHRoaXMudG90YWxCb29rc0NvbGxlY3RlZEdsb2JhbGx5ID0gMDtcclxuICAgIHRoaXMudGFyZ2V0Qm9va3NUb1dpbiA9IFRBUkdFVF9CT09LU19UT19XSU47XHJcbiAgICB0aGlzLmF2YWlsYWJsZVF1ZXN0aW9ucyA9IFtdO1xyXG4gICAgdGhpcy5jdXJyZW50Qm9va1RhcmdldCA9IG51bGw7XHJcbiAgICB0aGlzLmN1cnJlbnRRdWVzdGlvbkRhdGEgPSBudWxsO1xyXG4gICAgdGhpcy5saWZ0Q29vbGRvd25BY3RpdmUgPSBmYWxzZTtcclxuICAgIHRoaXMubGlmdENvb2xkb3duVGltZXIgPSBudWxsO1xyXG4gICAgdGhpcy5jYW52YXMgPSBudWxsO1xyXG4gICAgdGhpcy5jdHggPSBudWxsO1xyXG4gICAgdGhpcy5jaGFyYWN0ZXIgPSBudWxsO1xyXG4gICAgdGhpcy5sZXZlbCA9IG51bGw7XHJcbiAgICB0aGlzLmlucHV0TWFuYWdlciA9IG51bGw7XHJcbiAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcclxuICAgIHRoaXMuZ2FtZXBsYXlNYW5hZ2VyID0gbnVsbDtcclxuICAgIHRoaXMuYXVkaW9NYW5hZ2VyID0gbnVsbDtcclxuICAgIHRoaXMuc3ByaXRlcyA9IHtcclxuICAgICAgcmVkOiByZWRTcHJpdGVQYXRoLFxyXG4gICAgICBibHVlOiBibHVlU3ByaXRlUGF0aCxcclxuICAgICAgeWVsbG93OiB5ZWxsb3dTcHJpdGVQYXRoLFxyXG4gICAgICBncmVlbjogZ3JlZW5TcHJpdGVQYXRoLFxyXG4gICAgfTtcclxuICAgIHRoaXMuYm9va0ltYWdlID0gbnVsbDtcclxuICAgIHRoaXMuZ2FtZUxvb3AgPSB0aGlzLmdhbWVMb29wLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLl9oYW5kbGVGYXRhbEVycm9yID0gdGhpcy5faGFuZGxlRmF0YWxFcnJvci5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5fYm91bmRLZXlEb3duSGFuZGxlciA9IG51bGw7XHJcbiAgICB0aGlzLl9ib3VuZEtleVVwSGFuZGxlciA9IG51bGw7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgdGhpcy5faW5pdGlhbGl6ZUNvcmVDb21wb25lbnRzKCk7XHJcblxyXG4gICAgICB0aGlzLmF1ZGlvTWFuYWdlciA9IG5ldyBBdWRpb01hbmFnZXIoKTtcclxuICAgICAgY29uc29sZS5sb2coJ1tHYW1lXSBBdWRpb01hbmFnZXIgY3JlYXRlZC4nKTtcclxuXHJcbiAgICAgIHRoaXMuZ2FtZXBsYXlNYW5hZ2VyID0gbmV3IEdhbWVwbGF5TWFuYWdlcih0aGlzKTtcclxuICAgICAgY29uc29sZS5sb2coJ1tHYW1lXSBHYW1lcGxheU1hbmFnZXIgY3JlYXRlZC4nKTtcclxuXHJcbiAgICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgR2FtZVJlbmRlcmVyKHRoaXMpO1xyXG4gICAgICBjb25zdCB7IGNhbnZhcywgY3R4IH0gPSB0aGlzLnJlbmRlcmVyLmluaXRpYWxpemVDYW52YXMoKTtcclxuICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XHJcbiAgICAgIHRoaXMuY3R4ID0gY3R4O1xyXG4gICAgICBjb25zb2xlLmxvZygnW0dhbWVdIFJlbmRlcmVyIGFuZCBDYW52YXMgaW5pdGlhbGl6ZWQuJyk7XHJcblxyXG4gICAgICBVSU1hbmFnZXIuc2V0R2FtZXBsYXlNYW5hZ2VyKHRoaXMuZ2FtZXBsYXlNYW5hZ2VyKTtcclxuICAgICAgVUlNYW5hZ2VyLmluaXRpYWxpemVVSSh0aGlzLmlucHV0TWFuYWdlcik7IC8vIFRpbWVyIGlzIGluaXRpYWxpemVkIGhlcmUsIGJ1dCBub3Qgc3RhcnRlZFxyXG4gICAgICBjb25zb2xlLmxvZygnW0dhbWVdIFVJTWFuYWdlciBmb3IgaW4tZ2FtZSBVSSBpbml0aWFsaXplZC4nKTtcclxuXHJcbiAgICAgIHRoaXMuX2FkZEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgICBjb25zb2xlLmxvZygnW0dhbWVdIENvcmUgY29tcG9uZW50cyBpbml0aWFsaXplZC4gV2FpdGluZyBmb3IgdHJpZ2dlckdhbWVTdGFydCgpIGZyb20gTWVudS4nKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tHYW1lXSBTeW5jaHJvbm91cyBjb3JlIGluaXRpYWxpemF0aW9uIGZhaWxlZDonLCBlcnJvcik7XHJcbiAgICAgIGFsZXJ0KGBDcml0aWNhbCBpbml0aWFsaXphdGlvbiBlcnJvcjogJHtlcnJvci5tZXNzYWdlfS4gR2FtZSBjYW5ub3Qgc3RhcnQuYCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXQgZ2FtZVN0YXRlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2dhbWVTdGF0ZTtcclxuICB9XHJcblxyXG4gIHNldEdhbWVTdGF0ZShuZXdTdGF0ZSkge1xyXG4gICAgaWYgKHRoaXMuX2dhbWVTdGF0ZSAhPT0gbmV3U3RhdGUpIHtcclxuICAgICAgY29uc29sZS5sb2coYFtHYW1lIFN0YXRlXSAke3RoaXMuX2dhbWVTdGF0ZX0gLT4gJHtuZXdTdGF0ZX1gKTtcclxuICAgICAgdGhpcy5fZ2FtZVN0YXRlID0gbmV3U3RhdGU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaW5pdGlhbGl6ZUNvcmVDb21wb25lbnRzKCkge1xyXG4gICAgdGhpcy5pbnB1dE1hbmFnZXIgPSBuZXcgSW5wdXRNYW5hZ2VyKCk7XHJcbiAgICB0aGlzLmxldmVsID0gbmV3IExldmVsKDEsIDMpOyAvLyBtaW5GbG9vciwgbWF4Rmxvb3JcclxuICB9XHJcblxyXG4gIF9hZGRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB0aGlzLnJlbmRlcmVyPy5yZXNpemVDYW52YXMoKSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyB0cmlnZ2VyR2FtZVN0YXJ0KCkge1xyXG4gICAgaWYgKHRoaXMuZ2FtZVN0YXRlICE9PSBHYW1lU3RhdGUuSURMRSkge1xyXG4gICAgICBjb25zb2xlLndhcm4oYFtHYW1lXSB0cmlnZ2VyR2FtZVN0YXJ0IGNhbGxlZCBidXQgZ2FtZSBzdGF0ZSBpcyAke3RoaXMuZ2FtZVN0YXRlfS4gQWJvcnRpbmcuYCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICBgW0dhbWVdIHRyaWdnZXJHYW1lU3RhcnQgcmVjZWl2ZWQgZm9yIGNoYXJhY3RlcjogJHt0aGlzLmNoYXJhY3RlckNvbG9yfS4gU3RhcnRpbmcgYXNzZXQgbG9hZGluZy4uLmBcclxuICAgICk7XHJcblxyXG4gICAgY29uc3QgbG9hZGluZ092ZXJsYXkgPSBVSU1hbmFnZXIuZ2V0TG9hZGluZ092ZXJsYXkoKTtcclxuICAgIGlmIChsb2FkaW5nT3ZlcmxheSkgbG9hZGluZ092ZXJsYXkuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IHRoaXMuX2xvYWRBc3NldHNBbmRUaGVuU3RhcnRMb2dpYygpO1xyXG4gICAgICBjb25zb2xlLmxvZygnW0dhbWVdIEdhbWUgc3RhcnQgc2VxdWVuY2UgY29tcGxldGVkIHN1Y2Nlc3NmdWxseS4nKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgJ1tHYW1lXSBFcnJvciBkdXJpbmcgX2xvYWRBc3NldHNBbmRUaGVuU3RhcnRMb2dpYyAoZnJvbSB0cmlnZ2VyR2FtZVN0YXJ0KTonLFxyXG4gICAgICAgIGVycm9yXHJcbiAgICAgICk7XHJcbiAgICAgIGlmIChsb2FkaW5nT3ZlcmxheSkgbG9hZGluZ092ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xyXG4gICAgICBpZiAodGhpcy5nYW1lU3RhdGUgIT09IEdhbWVTdGF0ZS5HQU1FX09WRVIpIHtcclxuICAgICAgICAvLyBBdm9pZCBkb3VibGUgZXJyb3IgaGFuZGxpbmcgaWYgYWxyZWFkeSBoYW5kbGVkXHJcbiAgICAgICAgdGhpcy5faGFuZGxlRmF0YWxFcnJvcihgR2FtZSBzdGFydCBwcm9jZXNzIGZhaWxlZDogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBfbG9hZEFzc2V0c0FuZFRoZW5TdGFydExvZ2ljKCkge1xyXG4gICAgY29uc3QgbG9hZGluZ092ZXJsYXkgPSBVSU1hbmFnZXIuZ2V0TG9hZGluZ092ZXJsYXkoKTtcclxuICAgIHRyeSB7XHJcbiAgICAgIHRoaXMuc2V0R2FtZVN0YXRlKEdhbWVTdGF0ZS5MT0FESU5HKTtcclxuICAgICAgaWYgKGxvYWRpbmdPdmVybGF5ICYmICFsb2FkaW5nT3ZlcmxheS5jbGFzc0xpc3QuY29udGFpbnMoJ3Zpc2libGUnKSkge1xyXG4gICAgICAgIGxvYWRpbmdPdmVybGF5LmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgYXdhaXQgdGhpcy5fbG9hZEFzc2V0cygpO1xyXG4gICAgICBhd2FpdCB0aGlzLl9zdGFydEdhbWVMb2dpYygpO1xyXG5cclxuICAgICAgaWYgKGxvYWRpbmdPdmVybGF5KSBsb2FkaW5nT3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbR2FtZV0gX2xvYWRBc3NldHNBbmRUaGVuU3RhcnRMb2dpYyBmYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgICBpZiAobG9hZGluZ092ZXJsYXkpIGxvYWRpbmdPdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcclxuICAgICAgdGhpcy5faGFuZGxlRmF0YWxFcnJvcihgQXNzZXQgbG9hZGluZyBvciBnYW1lIGxvZ2ljIHN0YXJ0IGVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgX2xvYWRBc3NldHMoKSB7XHJcbiAgICBjb25zb2xlLmxvZygnW0dhbWVdIExvYWRpbmcgYXNzZXRzLi4uJyk7XHJcbiAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xyXG4gICAgY29uc3Qgc3ByaXRlUGF0aEtleSA9IHRoaXMuY2hhcmFjdGVyQ29sb3IgfHwgJ3JlZCc7XHJcbiAgICBjb25zdCBzcHJpdGVQYXRoID0gdGhpcy5zcHJpdGVzW3Nwcml0ZVBhdGhLZXldO1xyXG5cclxuICAgIGlmICghc3ByaXRlUGF0aCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFNwcml0ZSBwYXRoIGZvciBjaGFyYWN0ZXIgY29sb3IgXCIke3Nwcml0ZVBhdGhLZXl9XCIgaXMgdW5kZWZpbmVkLmApO1xyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coYFtHYW1lXSBVc2luZyBzcHJpdGU6ICR7c3ByaXRlUGF0aH0gZm9yIGNoYXJhY3RlciAke3Nwcml0ZVBhdGhLZXl9YCk7XHJcblxyXG4gICAgaWYgKCF0aGlzLmN0eCkgdGhyb3cgbmV3IEVycm9yKCdDYW52YXMgY29udGV4dCBub3QgYXZhaWxhYmxlIGZvciBDaGFyYWN0ZXIgY3JlYXRpb24uJyk7XHJcbiAgICB0aGlzLmNoYXJhY3RlciA9IG5ldyBDaGFyYWN0ZXIodGhpcy5jdHgsIHNwcml0ZVBhdGgsIHtcclxuICAgICAgc3BlZWQ6IDMsXHJcbiAgICAgIGZyYW1lU2l6ZTogMzIsXHJcbiAgICAgIHNjYWxlOiAyLFxyXG4gICAgICBhbmltYXRpb25TcGVlZDogMTUwLFxyXG4gICAgICBmcmFtZUNvdW50OiA0LFxyXG4gICAgfSk7XHJcbiAgICBwcm9taXNlcy5wdXNoKFxyXG4gICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgdGhpcy5jaGFyYWN0ZXIuc3ByaXRlLm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGAgIFtBc3NldHNdIENoYXJhY3RlciBzcHJpdGUgbG9hZGVkOiAke3Nwcml0ZVBhdGh9YCk7XHJcbiAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmNoYXJhY3Rlci5zcHJpdGUub25lcnJvciA9IChlcnIpID0+XHJcbiAgICAgICAgICByZWplY3QoXHJcbiAgICAgICAgICAgIG5ldyBFcnJvcihcclxuICAgICAgICAgICAgICBgRmFpbGVkIHRvIGxvYWQgY2hhcmFjdGVyIHNwcml0ZTogJHtzcHJpdGVQYXRofS4gRGV0YWlsczogJHtlcnIubWVzc2FnZSB8fCBlcnJ9YFxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICApO1xyXG4gICAgICB9KVxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAoYm9va1Nwcml0ZUltYWdlKSB7XHJcbiAgICAgIHRoaXMuYm9va0ltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgIHRoaXMuYm9va0ltYWdlLnNyYyA9IGJvb2tTcHJpdGVJbWFnZTtcclxuICAgICAgcHJvbWlzZXMucHVzaChcclxuICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5ib29rSW1hZ2Uub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgICBbQXNzZXRzXSBCb29rIGltYWdlIGxvYWRlZDogJHtib29rU3ByaXRlSW1hZ2V9YCk7XHJcbiAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICB0aGlzLmJvb2tJbWFnZS5vbmVycm9yID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICAgICAgYCBbQXNzZXRzXSBGYWlsZWQgdG8gbG9hZCBib29rIGltYWdlOiAke2Jvb2tTcHJpdGVJbWFnZX0uIFVzaW5nIGZhbGxiYWNrLmBcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgdGhpcy5ib29rSW1hZ2UgPSBudWxsO1xyXG4gICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ1tBc3NldHNdIE5vIGJvb2sgc3ByaXRlLiBGYWxsYmFjayByZW5kZXJpbmcgd2lsbCBiZSB1c2VkLicpO1xyXG4gICAgICB0aGlzLmJvb2tJbWFnZSA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XHJcbiAgICBjb25zb2xlLmxvZygnW0dhbWVdIEFsbCB2aXN1YWwgYXNzZXRzIGxvYWRlZCBzdWNjZXNzZnVsbHkuJyk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBfc3RhcnRHYW1lTG9naWMoKSB7XHJcbiAgICBjb25zb2xlLmxvZygnW0dhbWVdIFN0YXJ0aW5nIGNvcmUgZ2FtZSBsb2dpYy4uLicpO1xyXG4gICAgaWYgKFxyXG4gICAgICAhdGhpcy5sZXZlbCB8fFxyXG4gICAgICAhdGhpcy5jaGFyYWN0ZXIgfHxcclxuICAgICAgIXRoaXMuY2FudmFzIHx8XHJcbiAgICAgICF0aGlzLnJlbmRlcmVyIHx8XHJcbiAgICAgICF0aGlzLmdhbWVwbGF5TWFuYWdlciB8fFxyXG4gICAgICAhdGhpcy5hdWRpb01hbmFnZXJcclxuICAgICkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBzdGFydCBnYW1lIC0gZXNzZW50aWFsIGNvbXBvbmVudHMgbWlzc2luZy4nKTtcclxuICAgIH1cclxuICAgIHRoaXMuc2V0R2FtZVN0YXRlKEdhbWVTdGF0ZS5MT0FESU5HX0xFVkVMKTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCB0aGlzLmxldmVsLmxvYWRGbG9vcih0aGlzLmxldmVsLm1pbkZsb29yLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcclxuICAgICAgY29uc3QgY3VycmVudE1hcCA9IHRoaXMubGV2ZWwuY3VycmVudE1hcDtcclxuICAgICAgaWYgKCFjdXJyZW50TWFwKSB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGluaXRpYWwgbWFwLicpO1xyXG5cclxuICAgICAgY29uc3Qgc3RhcnRQb3MgPSBjdXJyZW50TWFwLmZpbmRSYW5kb21Jbml0aWFsU3Bhd25Qb3NpdGlvbih0aGlzLmNoYXJhY3Rlcik7XHJcbiAgICAgIGlmICghc3RhcnRQb3MpIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZpbmQgYSB2YWxpZCBzdGFydGluZyBwb3NpdGlvbiBvbiB0aGUgbWFwIScpO1xyXG4gICAgICB0aGlzLmNoYXJhY3Rlci54ID0gc3RhcnRQb3MueDtcclxuICAgICAgdGhpcy5jaGFyYWN0ZXIueSA9IHN0YXJ0UG9zLnk7XHJcbiAgICAgIHRoaXMuY2hhcmFjdGVyLmN1cnJlbnREaXJlY3Rpb24gPSBDaGFyYWN0ZXIuRGlyZWN0aW9uLkRPV047XHJcbiAgICAgIHRoaXMuY2hhcmFjdGVyLmlzTW92aW5nID0gZmFsc2U7XHJcblxyXG4gICAgICB0aGlzLmdhbWVwbGF5TWFuYWdlci5lbnN1cmVDaGFyYWN0ZXJJc09uV2Fsa2FibGVUaWxlKGZhbHNlKTtcclxuXHJcbiAgICAgIHRoaXMudG90YWxCb29rc0NvbGxlY3RlZEdsb2JhbGx5ID0gMDtcclxuICAgICAgdGhpcy5hdmFpbGFibGVRdWVzdGlvbnMgPSBbLi4ucXVlc3Rpb25zXTtcclxuICAgICAgdGhpcy5saWZ0Q29vbGRvd25BY3RpdmUgPSBmYWxzZTtcclxuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMubGlmdENvb2xkb3duVGltZXIpO1xyXG4gICAgICB0aGlzLmxpZnRDb29sZG93blRpbWVyID0gbnVsbDtcclxuICAgICAgdGhpcy5jdXJyZW50Qm9va1RhcmdldCA9IG51bGw7XHJcbiAgICAgIHRoaXMuY3VycmVudFF1ZXN0aW9uRGF0YSA9IG51bGw7XHJcblxyXG4gICAgICB0aGlzLnJlbmRlcmVyLmNlbnRlckNhbWVyYU9uQ2hhcmFjdGVyKCk7XHJcbiAgICAgIFVJTWFuYWdlci51cGRhdGVTY29yZSh0aGlzLnRvdGFsQm9va3NDb2xsZWN0ZWRHbG9iYWxseSwgdGhpcy50YXJnZXRCb29rc1RvV2luKTtcclxuICAgICAgVUlNYW5hZ2VyLnNob3dHYW1lVUkoKTtcclxuXHJcbiAgICAgIHRoaXMuX2JvdW5kS2V5RG93bkhhbmRsZXIgPSB0aGlzLmhhbmRsZUtleURvd24uYmluZCh0aGlzKTtcclxuICAgICAgdGhpcy5fYm91bmRLZXlVcEhhbmRsZXIgPSB0aGlzLmhhbmRsZUtleVVwLmJpbmQodGhpcyk7XHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fYm91bmRLZXlEb3duSGFuZGxlcik7XHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX2JvdW5kS2V5VXBIYW5kbGVyKTtcclxuXHJcbiAgICAgIHRoaXMuYXVkaW9NYW5hZ2VyLnN0YXJ0SW5pdGlhbE11c2ljKHRoaXMubGV2ZWwuY3VycmVudEZsb29yKTtcclxuICAgICAgY29uc29sZS5sb2coYFtHYW1lXSBJbml0aWFsIG11c2ljIHN0YXJ0ZWQgZm9yIGZsb29yICR7dGhpcy5sZXZlbC5jdXJyZW50Rmxvb3J9YCk7XHJcblxyXG4gICAgICB0aGlzLnNldEdhbWVTdGF0ZShHYW1lU3RhdGUuUExBWUlORyk7IC8vIFNldCBzdGF0ZSBCRUZPUkUgc3RhcnRpbmcgdGltZXJcclxuICAgICAgVUlNYW5hZ2VyLnN0YXJ0VGltZXIoKTsgLy8gVUlNYW5hZ2VyIGNvbnRyb2xzIHRoZSB0aW1lciBsb2dpY1xyXG5cclxuICAgICAgaWYgKCF0aGlzLmlzUnVubmluZykge1xyXG4gICAgICAgIHRoaXMuaXNSdW5uaW5nID0gdHJ1ZTtcclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5nYW1lTG9vcCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1tHYW1lXSBHYW1lIGxvZ2ljIHN0YXJ0ZWQuIEdhbWUgbG9vcCBpcyBydW5uaW5nLicpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbR2FtZV0gRXJyb3IgZHVyaW5nIF9zdGFydEdhbWVMb2dpYzonLCBlcnJvcik7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZhdGFsRXJyb3IoYExldmVsIHN0YXJ0IHByb2Nlc3MgZXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfc2V0R2FtZU92ZXIod2luID0gdHJ1ZSkge1xyXG4gICAgaWYgKHRoaXMuZ2FtZVN0YXRlID09PSBHYW1lU3RhdGUuR0FNRV9PVkVSKSByZXR1cm47XHJcbiAgICBjb25zb2xlLmxvZyhgW0dhbWVdIEdhbWUgT3Zlci4gV2luOiAke3dpbn1gKTsgLy8gTG9nIGJlZm9yZSBjaGFuZ2luZyBzdGF0ZVxyXG4gICAgdGhpcy5zZXRHYW1lU3RhdGUoR2FtZVN0YXRlLkdBTUVfT1ZFUik7XHJcbiAgICB0aGlzLmlzUnVubmluZyA9IGZhbHNlO1xyXG4gICAgaWYgKHRoaXMuY2hhcmFjdGVyKSB0aGlzLmNoYXJhY3Rlci5pc01vdmluZyA9IGZhbHNlO1xyXG4gICAgY2xlYXJUaW1lb3V0KHRoaXMubGlmdENvb2xkb3duVGltZXIpO1xyXG4gICAgaWYgKHRoaXMuYXVkaW9NYW5hZ2VyKSB0aGlzLmF1ZGlvTWFuYWdlci5zdG9wTXVzaWMoKTtcclxuXHJcbiAgICBpZiAodGhpcy5fYm91bmRLZXlEb3duSGFuZGxlcikgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9ib3VuZEtleURvd25IYW5kbGVyKTtcclxuICAgIGlmICh0aGlzLl9ib3VuZEtleVVwSGFuZGxlcikgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5fYm91bmRLZXlVcEhhbmRsZXIpO1xyXG4gICAgdGhpcy5fYm91bmRLZXlEb3duSGFuZGxlciA9IG51bGw7XHJcbiAgICB0aGlzLl9ib3VuZEtleVVwSGFuZGxlciA9IG51bGw7XHJcblxyXG4gICAgVUlNYW5hZ2VyLnN0b3BUaW1lcih3aW4pOyAvLyBTdG9wIHRpbWVyIE9OQ0VcclxuICAgIFVJTWFuYWdlci5zaG93R2FtZU92ZXJTY3JlZW4od2luLCBHYW1lLkNSRUFUT1JfTkFNRVMsIEdhbWUuQ0xBU1NfQVRURU5ESU5HX0lORk8pO1xyXG4gIH1cclxuXHJcbiAgc3RvcEdhbWUoKSB7XHJcbiAgICBjb25zb2xlLmxvZygnW0dhbWVdIEV4cGxpY2l0IHN0b3BHYW1lIHJlcXVlc3RlZC4nKTtcclxuICAgIGlmICh0aGlzLmdhbWVTdGF0ZSAhPT0gR2FtZVN0YXRlLkdBTUVfT1ZFUikge1xyXG4gICAgICB0aGlzLl9zZXRHYW1lT3ZlcihmYWxzZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmxvZygnW0dhbWVdIHN0b3BHYW1lIGNhbGxlZCwgYnV0IGdhbWUgaXMgYWxyZWFkeSBvdmVyLicpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUZhdGFsRXJyb3IobWVzc2FnZSwgc2hvd0FsZXJ0ID0gdHJ1ZSkge1xyXG4gICAgY29uc29sZS5lcnJvcignW0dhbWVdIEZBVEFMIEVSUk9SOicsIG1lc3NhZ2UpO1xyXG4gICAgaWYgKHNob3dBbGVydCAmJiB0aGlzLmdhbWVTdGF0ZSAhPT0gR2FtZVN0YXRlLkdBTUVfT1ZFUikge1xyXG4gICAgICBVSU1hbmFnZXIuZmxhc2hNZXNzYWdlKGBGQVRBTCBFUlJPUjogJHttZXNzYWdlfWAsICdlcnJvcicsIDE1MDAwKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLmdhbWVTdGF0ZSAhPT0gR2FtZVN0YXRlLkdBTUVfT1ZFUikge1xyXG4gICAgICB0aGlzLl9zZXRHYW1lT3ZlcihmYWxzZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVLZXlEb3duKGUpIHtcclxuICAgIGlmICh0aGlzLmdhbWVTdGF0ZSAhPT0gR2FtZVN0YXRlLlBMQVlJTkcgfHwgIXRoaXMuaW5wdXRNYW5hZ2VyKSByZXR1cm47XHJcbiAgICBsZXQgaGFuZGxlZCA9IGZhbHNlO1xyXG4gICAgY29uc3Qga2V5ID0gZS5rZXkudG9Mb3dlckNhc2UoKTtcclxuICAgIGlmIChbJ2Fycm93dXAnLCAndyddLmluY2x1ZGVzKGtleSkpIHtcclxuICAgICAgdGhpcy5pbnB1dE1hbmFnZXIuc2V0S2V5KCd1cCcsIHRydWUpO1xyXG4gICAgICBoYW5kbGVkID0gdHJ1ZTtcclxuICAgIH0gZWxzZSBpZiAoWydhcnJvd2Rvd24nLCAncyddLmluY2x1ZGVzKGtleSkpIHtcclxuICAgICAgdGhpcy5pbnB1dE1hbmFnZXIuc2V0S2V5KCdkb3duJywgdHJ1ZSk7XHJcbiAgICAgIGhhbmRsZWQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIGlmIChbJ2Fycm93bGVmdCcsICdhJ10uaW5jbHVkZXMoa2V5KSkge1xyXG4gICAgICB0aGlzLmlucHV0TWFuYWdlci5zZXRLZXkoJ2xlZnQnLCB0cnVlKTtcclxuICAgICAgaGFuZGxlZCA9IHRydWU7XHJcbiAgICB9IGVsc2UgaWYgKFsnYXJyb3dyaWdodCcsICdkJ10uaW5jbHVkZXMoa2V5KSkge1xyXG4gICAgICB0aGlzLmlucHV0TWFuYWdlci5zZXRLZXkoJ3JpZ2h0JywgdHJ1ZSk7XHJcbiAgICAgIGhhbmRsZWQgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgaWYgKGhhbmRsZWQpIGUucHJldmVudERlZmF1bHQoKTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUtleVVwKGUpIHtcclxuICAgIGlmICghdGhpcy5pbnB1dE1hbmFnZXIpIHJldHVybjtcclxuICAgIGNvbnN0IGtleSA9IGUua2V5LnRvTG93ZXJDYXNlKCk7XHJcbiAgICBpZiAoWydhcnJvd3VwJywgJ3cnXS5pbmNsdWRlcyhrZXkpKSB0aGlzLmlucHV0TWFuYWdlci5zZXRLZXkoJ3VwJywgZmFsc2UpO1xyXG4gICAgZWxzZSBpZiAoWydhcnJvd2Rvd24nLCAncyddLmluY2x1ZGVzKGtleSkpIHRoaXMuaW5wdXRNYW5hZ2VyLnNldEtleSgnZG93bicsIGZhbHNlKTtcclxuICAgIGVsc2UgaWYgKFsnYXJyb3dsZWZ0JywgJ2EnXS5pbmNsdWRlcyhrZXkpKSB0aGlzLmlucHV0TWFuYWdlci5zZXRLZXkoJ2xlZnQnLCBmYWxzZSk7XHJcbiAgICBlbHNlIGlmIChbJ2Fycm93cmlnaHQnLCAnZCddLmluY2x1ZGVzKGtleSkpIHRoaXMuaW5wdXRNYW5hZ2VyLnNldEtleSgncmlnaHQnLCBmYWxzZSk7XHJcbiAgfVxyXG5cclxuICBnYW1lTG9vcCh0aW1lc3RhbXApIHtcclxuICAgIGlmICghdGhpcy5pc1J1bm5pbmcgfHwgdGhpcy5nYW1lU3RhdGUgPT09IEdhbWVTdGF0ZS5HQU1FX09WRVIpIHJldHVybjtcclxuICAgIHRoaXMuZ2FtZXBsYXlNYW5hZ2VyPy51cGRhdGUodGltZXN0YW1wKTtcclxuICAgIHRoaXMucmVuZGVyZXI/LmNlbnRlckNhbWVyYU9uQ2hhcmFjdGVyKCk7XHJcbiAgICB0aGlzLnJlbmRlcmVyPy5kcmF3RnJhbWUoKTtcclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmdhbWVMb29wKTtcclxuICB9XHJcblxyXG4gIHN0YXJ0TGlmdENvb2xkb3duVGltZXIoKSB7XHJcbiAgICBjbGVhclRpbWVvdXQodGhpcy5saWZ0Q29vbGRvd25UaW1lcik7XHJcbiAgICBjb25zb2xlLmxvZyhgW0dhbWVdIFN0YXJ0aW5nIGxpZnQgY29vbGRvd246ICR7TElGVF9DT09MRE9XTl9NU31tcy5gKTtcclxuICAgIHRoaXMubGlmdENvb2xkb3duVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgdGhpcy5saWZ0Q29vbGRvd25BY3RpdmUgPSBmYWxzZTtcclxuICAgICAgdGhpcy5saWZ0Q29vbGRvd25UaW1lciA9IG51bGw7XHJcbiAgICAgIGlmICh0aGlzLmdhbWVTdGF0ZSA9PT0gR2FtZVN0YXRlLlRSQU5TSVRJT05JTkcpIHtcclxuICAgICAgICB0aGlzLnNldEdhbWVTdGF0ZShHYW1lU3RhdGUuUExBWUlORyk7IC8vIEJhY2sgdG8gcGxheWluZyBhZnRlciB0cmFuc2l0aW9uXHJcbiAgICAgICAgVUlNYW5hZ2VyLmZsYXNoTWVzc2FnZShgQXJyaXZlZCBhdCBmbG9vciAke3RoaXMubGV2ZWw/LmN1cnJlbnRGbG9vcn1gLCAnc3VjY2VzcycsIDE1MDApO1xyXG4gICAgICAgIC8vIFRpbWVyIHNob3VsZCBjb250aW51ZSBydW5uaW5nIGlmIGl0IHdhcyBhbHJlYWR5IHJ1bm5pbmcgaW4gVFJBTlNJVElPTklORyBzdGF0ZVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICAgIGBbR2FtZVRpbWVyXSBMaWZ0IGNvb2xkb3duIGVuZGVkLCBidXQgc3RhdGUgaXMgJHt0aGlzLmdhbWVTdGF0ZX0uIE5vIHN0YXRlIGNoYW5nZS5gXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfSwgTElGVF9DT09MRE9XTl9NUyk7XHJcbiAgfVxyXG59XHJcbiIsIi8vIHNyYy9VSS9NZW51LmpzXHJcbmltcG9ydCB7IEdhbWUgfSBmcm9tICcuLi9Db3JlL0dhbWUuanMnOyAvLyDQo9Cx0LXQtNC40YHRjCwg0YfRgtC+INC/0YPRgtGMINC6IEdhbWUuanMg0LLQtdGA0L3Ri9C5XHJcbmltcG9ydCB7IFVJTWFuYWdlciB9IGZyb20gJy4vVUlNYW5hZ2VyLmpzJzsgLy8gVUlNYW5hZ2VyINC00LvRjyBmbGFzaC3RgdC+0L7QsdGJ0LXQvdC40Lkg0Lgg0LfQsNCz0YDRg9C30L7Rh9C90L7Qs9C+INC+0LLQtdGA0LvQtdGPXHJcblxyXG5sZXQgY3VycmVudEdhbWVJbnN0YW5jZSA9IG51bGw7IC8vINCf0LXRgNC10LzQtdC90L3QsNGPINC00LvRjyDRhdGA0LDQvdC10L3QuNGPINGC0LXQutGD0YnQtdCz0L4g0Y3QutC30LXQvNC/0LvRj9GA0LAg0LjQs9GA0YtcclxuXHJcbmV4cG9ydCBjbGFzcyBNZW51IHtcclxuICBjb25zdHJ1Y3RvcihjaGFyYWN0ZXJJbWFnZVNvdXJjZXMpIHtcclxuICAgIHRoaXMuY2hhcmFjdGVySW1hZ2VTb3VyY2VzID0gY2hhcmFjdGVySW1hZ2VTb3VyY2VzO1xyXG4gICAgdGhpcy5zZWxlY3RlZENoYXJhY3RlciA9IG51bGw7XHJcbiAgICB0aGlzLnVzZXJJbnRlcmFjdGVkID0gZmFsc2U7IC8vINCU0LvRjyDQvtGC0YHQu9C10LbQuNCy0LDQvdC40Y8g0L/QtdGA0LLQvtCz0L4g0LLQt9Cw0LjQvNC+0LTQtdC50YHRgtCy0LjRj1xyXG4gICAgdGhpcy5vdmVybGF5ID0gbnVsbDsgLy8g0J7QstC10YDQu9C10Lkg0LTQu9GPINC80L7QtNCw0LvRjNC90YvRhSDQvtC60L7QvVxyXG4gICAgdGhpcy5hdWRpb01hbmFnZXJJbnN0YW5jZSA9IG51bGw7IC8vINCU0LvRjyDRhdGA0LDQvdC10L3QuNGPINGN0LrQt9C10LzQv9C70Y/RgNCwIEF1ZGlvTWFuYWdlclxyXG5cclxuICAgIGNvbnNvbGUubG9nKCdbTWVudV0gQ29uc3RydWN0b3IgY2FsbGVkLiBJbml0aWFsaXppbmcgZWxlbWVudHMuLi4nKTtcclxuICAgIHRoaXMuaW5pdGlhbGl6ZUVsZW1lbnRzKCk7XHJcblxyXG4gICAgaWYgKHRoaXMuY2hhcmFjdGVyUGFuZWwgJiYgdGhpcy5jaGFyYWN0ZXJHcmlkKSB7XHJcbiAgICAgIC8vINCf0YDQvtCy0LXRgNC60LAgY2hhcmFjdGVyR3JpZCDQstCw0LbQvdCwXHJcbiAgICAgIHRoaXMuc2V0dXBDaGFyYWN0ZXJJbWFnZXMoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgJ1tNZW51IENvbnN0cnVjdG9yXSBDUklUSUNBTDogY2hhcmFjdGVyUGFuZWwgb3IgY2hhcmFjdGVyR3JpZCBpcyBudWxsIEFGVEVSIGluaXRpYWxpemVFbGVtZW50cy4gQ2Fubm90IHNldHVwIGltYWdlcy4nXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coJ1tNZW51XSBBZGRpbmcgZXZlbnQgbGlzdGVuZXJzLi4uJyk7XHJcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLnNob3coKTsgLy8g0J/QvtC60LDQt9GL0LLQsNC10Lwg0LzQtdC90Y4g0L/RgNC4INC40L3QuNGG0LjQsNC70LjQt9Cw0YbQuNC4XHJcbiAgICBjb25zb2xlLmxvZygnW01lbnVdIEluc3RhbmNlIGNyZWF0ZWQgYW5kIGRpc3BsYXllZC4nKTtcclxuICB9XHJcblxyXG4gIC8vINCc0LXRgtC+0LQg0LTQu9GPINC/0L7Qu9GD0YfQtdC90LjRjyBBdWRpb01hbmFnZXIg0LjQtyBHYW1lLmpzXHJcbiAgc2V0QXVkaW9NYW5hZ2VyKGF1ZGlvTWFuYWdlcikge1xyXG4gICAgdGhpcy5hdWRpb01hbmFnZXJJbnN0YW5jZSA9IGF1ZGlvTWFuYWdlcjtcclxuICAgIGNvbnNvbGUubG9nKCdbTWVudV0gQXVkaW9NYW5hZ2VyIGluc3RhbmNlIHJlY2VpdmVkIGluIE1lbnUuJyk7XHJcbiAgICBpZiAodGhpcy5tdXNpY1ZvbHVtZSAmJiB0aGlzLmF1ZGlvTWFuYWdlckluc3RhbmNlKSB7XHJcbiAgICAgIHRoaXMubXVzaWNWb2x1bWUudmFsdWUgPSB0aGlzLmF1ZGlvTWFuYWdlckluc3RhbmNlLmdldE11c2ljVm9sdW1lKCkgKiAxMDA7XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMubXVzaWNWb2x1bWUpIHtcclxuICAgICAgLy8g0JXRgdC70LggQXVkaW9NYW5hZ2VyINC10YnQtSDQvdC1INC/0YDQuNGI0LXQuywg0L3QviDRgdC70LDQudC00LXRgCDQtdGB0YLRjCwg0YPRgdGC0LDQvdC+0LLQuNC8INC30L3QsNGH0LXQvdC40LUg0LjQtyBsb2NhbFN0b3JhZ2VcclxuICAgICAgY29uc3Qgc2F2ZWRWb2x1bWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbXVzaWNWb2x1bWUnKTtcclxuICAgICAgaWYgKHNhdmVkVm9sdW1lICE9PSBudWxsKSB7XHJcbiAgICAgICAgdGhpcy5tdXNpY1ZvbHVtZS52YWx1ZSA9IHBhcnNlRmxvYXQoc2F2ZWRWb2x1bWUpICogMTAwO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMubXVzaWNWb2x1bWUudmFsdWUgPSA1MDsgLy8gRGVmYXVsdFxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpbml0aWFsaXplRWxlbWVudHMoKSB7XHJcbiAgICB0aGlzLm1lbnVDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVudS1jb250YWluZXInKTtcclxuICAgIGlmICghdGhpcy5tZW51Q29udGFpbmVyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tNZW51IEluaXRdIENSSVRJQ0FMOiAubWVudS1jb250YWluZXIgbm90IGZvdW5kIScpO1xyXG4gICAgICByZXR1cm47IC8vINCf0YDQtdGA0YvQstCw0LXQvCwg0LXRgdC70Lgg0L3QtdGCINC+0YHQvdC+0LLQvdC+0LPQviDQutC+0L3RgtC10LnQvdC10YDQsFxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2V0dGluZ3NCdXR0b24gPSB0aGlzLm1lbnVDb250YWluZXIucXVlcnlTZWxlY3RvcignLnNldHRpbmdzLWJ1dHRvbicpO1xyXG4gICAgdGhpcy5wbGF5QnV0dG9uID0gdGhpcy5tZW51Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5wbGF5LWJ1dHRvbicpO1xyXG4gICAgdGhpcy5jaGFyYWN0ZXJCdXR0b24gPSB0aGlzLm1lbnVDb250YWluZXIucXVlcnlTZWxlY3RvcignLmNoYXJhY3Rlci1idXR0b24nKTtcclxuXHJcbiAgICBpZiAoIXRoaXMucGxheUJ1dHRvbikgY29uc29sZS53YXJuKCdbTWVudSBJbml0XSAucGxheS1idXR0b24gbm90IGZvdW5kLicpO1xyXG4gICAgZWxzZSB0aGlzLnBsYXlCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG5cclxuICAgIGlmICghdGhpcy5jaGFyYWN0ZXJCdXR0b24pIGNvbnNvbGUud2FybignW01lbnUgSW5pdF0gLmNoYXJhY3Rlci1idXR0b24gbm90IGZvdW5kLicpO1xyXG4gICAgaWYgKCF0aGlzLnNldHRpbmdzQnV0dG9uKSBjb25zb2xlLndhcm4oJ1tNZW51IEluaXRdIC5zZXR0aW5ncy1idXR0b24gbm90IGZvdW5kLicpO1xyXG5cclxuICAgIC8vINCf0LDQvdC10LvQuCDQu9GD0YfRiNC1INC40YHQutCw0YLRjCDQv9C+INCy0YHQtdC80YMg0LTQvtC60YPQvNC10L3RgtGDLCDQtdGB0LvQuCDQvtC90Lgg0L3QtSDQstC70L7QttC10L3RiyDQsiAubWVudS1jb250YWluZXJcclxuICAgIHRoaXMuc2V0dGluZ3NQYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZXR0aW5ncy1wYW5lbCcpO1xyXG4gICAgaWYgKHRoaXMuc2V0dGluZ3NQYW5lbCkge1xyXG4gICAgICAvLyDQldGB0LvQuCDQv9Cw0L3QtdC70Ywg0L3QtSDQsiBib2R5LCDQv9C10YDQtdC80LXRidCw0LXQvCDQtdC1INGC0YPQtNCwINC00LvRjyDQutC+0YDRgNC10LrRgtC90L7Qs9C+INC/0L7Qt9C40YbQuNC+0L3QuNGA0L7QstCw0L3QuNGPIGZpeGVkXHJcbiAgICAgIGlmIChcclxuICAgICAgICB0aGlzLnNldHRpbmdzUGFuZWwucGFyZW50Tm9kZSAhPT0gZG9jdW1lbnQuYm9keSAmJlxyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NQYW5lbC5wYXJlbnROb2RlICE9PSB0aGlzLm1lbnVDb250YWluZXIgLyogYWxsb3cgaWYgbmVzdGVkICovXHJcbiAgICAgICkge1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5zZXR0aW5nc1BhbmVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5zZXR0aW5nc1BhbmVsKSk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5tdXNpY1ZvbHVtZSA9IHRoaXMuc2V0dGluZ3NQYW5lbC5xdWVyeVNlbGVjdG9yKCcjbXVzaWMtdm9sdW1lJyk7XHJcbiAgICAgIHRoaXMuc2Z4Vm9sdW1lID0gdGhpcy5zZXR0aW5nc1BhbmVsLnF1ZXJ5U2VsZWN0b3IoJyNzZngtdm9sdW1lJyk7IC8vINCe0YHRgtCw0LLQuNC8LCDQtdGB0LvQuCDQv9C+0L3QsNC00L7QsdC40YLRgdGPXHJcbiAgICAgIHRoaXMuY2xvc2VTZXR0aW5nc0J1dHRvbiA9IHRoaXMuc2V0dGluZ3NQYW5lbC5xdWVyeVNlbGVjdG9yKCcucGFuZWwtY2xvc2UtYnV0dG9uJyk7XHJcbiAgICAgIGlmICghdGhpcy5tdXNpY1ZvbHVtZSlcclxuICAgICAgICBjb25zb2xlLndhcm4oJ1tNZW51IEluaXRdICNtdXNpYy12b2x1bWUgc2xpZGVyIG5vdCBmb3VuZCBpbiBzZXR0aW5ncyBwYW5lbC4nKTtcclxuICAgICAgaWYgKCF0aGlzLmNsb3NlU2V0dGluZ3NCdXR0b24pXHJcbiAgICAgICAgY29uc29sZS53YXJuKCdbTWVudSBJbml0XSAucGFuZWwtY2xvc2UtYnV0dG9uIG5vdCBmb3VuZCBpbiBzZXR0aW5ncyBwYW5lbC4nKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignW01lbnUgSW5pdF0gLnNldHRpbmdzLXBhbmVsIG5vdCBmb3VuZC4nKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmNoYXJhY3RlclBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXJhY3Rlci1wYW5lbCcpO1xyXG4gICAgaWYgKHRoaXMuY2hhcmFjdGVyUGFuZWwpIHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIHRoaXMuY2hhcmFjdGVyUGFuZWwucGFyZW50Tm9kZSAhPT0gZG9jdW1lbnQuYm9keSAmJlxyXG4gICAgICAgIHRoaXMuY2hhcmFjdGVyUGFuZWwucGFyZW50Tm9kZSAhPT0gdGhpcy5tZW51Q29udGFpbmVyXHJcbiAgICAgICkge1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5jaGFyYWN0ZXJQYW5lbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuY2hhcmFjdGVyUGFuZWwpKTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmNoYXJhY3RlckdyaWQgPSB0aGlzLmNoYXJhY3RlclBhbmVsLnF1ZXJ5U2VsZWN0b3IoJy5jaGFyYWN0ZXItZ3JpZCcpO1xyXG4gICAgICB0aGlzLmNsb3NlQ2hhcmFjdGVyUGFuZWxCdXR0b24gPSB0aGlzLmNoYXJhY3RlclBhbmVsLnF1ZXJ5U2VsZWN0b3IoJy5wYW5lbC1jbG9zZS1idXR0b24nKTtcclxuICAgICAgaWYgKCF0aGlzLmNoYXJhY3RlckdyaWQpXHJcbiAgICAgICAgY29uc29sZS5lcnJvcignW01lbnUgSW5pdF0gQ1JJVElDQUw6IC5jaGFyYWN0ZXItZ3JpZCBub3QgZm91bmQgaW4gY2hhcmFjdGVyIHBhbmVsIScpO1xyXG4gICAgICBpZiAoIXRoaXMuY2xvc2VDaGFyYWN0ZXJQYW5lbEJ1dHRvbilcclxuICAgICAgICBjb25zb2xlLndhcm4oJ1tNZW51IEluaXRdIC5wYW5lbC1jbG9zZS1idXR0b24gbm90IGZvdW5kIGluIGNoYXJhY3RlciBwYW5lbC4nKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tNZW51IEluaXRdIENSSVRJQ0FMOiAuY2hhcmFjdGVyLXBhbmVsIG5vdCBmb3VuZCEnKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDQodC+0LfQtNCw0LXQvCDQuNC70Lgg0L3QsNGF0L7QtNC40Lwg0Y3Qu9C10LzQtdC90YIg0LTQu9GPINC+0YLQvtCx0YDQsNC20LXQvdC40Y8g0LLRi9Cx0YDQsNC90L3QvtCz0L4g0L/QtdGA0YHQvtC90LDQttCwXHJcbiAgICBsZXQgZGlzcGxheUNvbnRhaW5lciA9IHRoaXMubWVudUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcubWFpbi1tZW51LWJ1dHRvbnMnKTtcclxuICAgIHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXJEaXNwbGF5ID0gZGlzcGxheUNvbnRhaW5lclxyXG4gICAgICA/IGRpc3BsYXlDb250YWluZXIucXVlcnlTZWxlY3RvcignLnNlbGVjdGVkLWNoYXJhY3Rlci1kaXNwbGF5JylcclxuICAgICAgOiBudWxsO1xyXG5cclxuICAgIGlmICghdGhpcy5zZWxlY3RlZENoYXJhY3RlckRpc3BsYXkpIHtcclxuICAgICAgdGhpcy5zZWxlY3RlZENoYXJhY3RlckRpc3BsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgdGhpcy5zZWxlY3RlZENoYXJhY3RlckRpc3BsYXkuY2xhc3NOYW1lID0gJ3NlbGVjdGVkLWNoYXJhY3Rlci1kaXNwbGF5JztcclxuICAgICAgaWYgKHRoaXMucGxheUJ1dHRvbiAmJiB0aGlzLnBsYXlCdXR0b24ucGFyZW50Tm9kZSkge1xyXG4gICAgICAgIHRoaXMucGxheUJ1dHRvbi5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLnNlbGVjdGVkQ2hhcmFjdGVyRGlzcGxheSwgdGhpcy5wbGF5QnV0dG9uKTtcclxuICAgICAgfSBlbHNlIGlmIChkaXNwbGF5Q29udGFpbmVyKSB7XHJcbiAgICAgICAgLy8g0JLRgdGC0LDQstC70Y/QtdC8INC/0LXRgNC10LQg0LLRgtC+0YDQvtC5INC60L3QvtC/0LrQvtC5ICjQv9GA0LXQtNC/0L7Qu9Cw0LPQsNGPLCDRh9GC0L4g0Y3RgtC+IFBsYXkpINC40LvQuCDQsiDQutC+0L3QtdGGXHJcbiAgICAgICAgZGlzcGxheUNvbnRhaW5lci5pbnNlcnRCZWZvcmUoXHJcbiAgICAgICAgICB0aGlzLnNlbGVjdGVkQ2hhcmFjdGVyRGlzcGxheSxcclxuICAgICAgICAgIGRpc3BsYXlDb250YWluZXIuY2hpbGRyZW5bMV0gfHwgbnVsbFxyXG4gICAgICAgICk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5tZW51Q29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXJEaXNwbGF5KTsgLy8g0LrRgNCw0LnQvdC40Lkg0YHQu9GD0YfQsNC5XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMudXBkYXRlU2VsZWN0ZWRDaGFyYWN0ZXJEaXNwbGF5KCk7IC8vINCe0LHQvdC+0LLQu9GP0LXQvCDRgtC10LrRgdGCINC/0L4g0YPQvNC+0LvRh9Cw0L3QuNGOXHJcbiAgfVxyXG5cclxuICBzZXR1cENoYXJhY3RlckltYWdlcygpIHtcclxuICAgIGlmICghdGhpcy5jaGFyYWN0ZXJQYW5lbCB8fCAhdGhpcy5jaGFyYWN0ZXJHcmlkKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignW01lbnUgc2V0dXBDaGFyYWN0ZXJJbWFnZXNdIENoYXJhY3RlciBwYW5lbCBvciBncmlkIG5vdCBmb3VuZC4nKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKCF0aGlzLmNoYXJhY3RlckltYWdlU291cmNlcyB8fCBPYmplY3Qua2V5cyh0aGlzLmNoYXJhY3RlckltYWdlU291cmNlcykubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignW01lbnUgc2V0dXBDaGFyYWN0ZXJJbWFnZXNdIE5vIGNoYXJhY3RlciBpbWFnZSBzb3VyY2VzIHByb3ZpZGVkLicpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY2hhcmFjdGVyQ2FyZHMgPSB0aGlzLmNoYXJhY3RlckdyaWQucXVlcnlTZWxlY3RvckFsbCgnLmNoYXJhY3Rlci1jYXJkJyk7XHJcbiAgICBpZiAoY2hhcmFjdGVyQ2FyZHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignW01lbnUgc2V0dXBDaGFyYWN0ZXJJbWFnZXNdIE5vIGNoYXJhY3RlciBjYXJkcyBmb3VuZCBpbiB0aGUgZ3JpZC4nKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNoYXJhY3RlckNhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcclxuICAgICAgY29uc3QgY2hhcmFjdGVyS2V5ID0gY2FyZC5kYXRhc2V0LmNoYXJhY3RlcjtcclxuICAgICAgY29uc3QgaW1nRWxlbWVudCA9IGNhcmQucXVlcnlTZWxlY3RvcignLmNoYXJhY3Rlci1wcmV2aWV3IGltZycpO1xyXG5cclxuICAgICAgaWYgKGltZ0VsZW1lbnQgJiYgdGhpcy5jaGFyYWN0ZXJJbWFnZVNvdXJjZXNbY2hhcmFjdGVyS2V5XSkge1xyXG4gICAgICAgIGltZ0VsZW1lbnQuc3JjID0gdGhpcy5jaGFyYWN0ZXJJbWFnZVNvdXJjZXNbY2hhcmFjdGVyS2V5XTtcclxuICAgICAgfSBlbHNlIGlmIChpbWdFbGVtZW50KSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgICAgYFtNZW51IHNldHVwQ2hhcmFjdGVySW1hZ2VzXSBJbWFnZSBlbGVtZW50IGZvdW5kLCBidXQgbm8gc291cmNlIGZvciBjaGFyYWN0ZXI6ICR7Y2hhcmFjdGVyS2V5fWBcclxuICAgICAgICApO1xyXG4gICAgICAgIGltZ0VsZW1lbnQuYWx0ID0gYCR7Y2hhcmFjdGVyS2V5fSBwcmV2aWV3IG5vdCBhdmFpbGFibGVgO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGNvbnNvbGUud2FybihgW01lbnUgc2V0dXBDaGFyYWN0ZXJJbWFnZXNdIE5vIGltZyB0YWcgZm91bmQgaW4gY2FyZCBmb3IgY2hhcmFjdGVyOiAke2NoYXJhY3RlcktleX1gKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyDQntCx0YDQsNCx0L7RgtC60LAg0L/QtdGA0LLQvtCz0L4g0LLQt9Cw0LjQvNC+0LTQtdC50YHRgtCy0LjRjyDQtNC70Y8g0L/QvtC70LjRgtC40LrQuCDQsNCy0YLQvtCy0L7RgdC/0YDQvtC40LfQstC10LTQtdC90LjRj1xyXG4gIGhhbmRsZUZpcnN0SW50ZXJhY3Rpb24oKSB7XHJcbiAgICBpZiAoIXRoaXMudXNlckludGVyYWN0ZWQpIHtcclxuICAgICAgdGhpcy51c2VySW50ZXJhY3RlZCA9IHRydWU7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdbTWVudV0gRmlyc3QgdXNlciBpbnRlcmFjdGlvbiByZWNvcmRlZC4nKTtcclxuICAgICAgLy8gQXVkaW9NYW5hZ2VyINCx0YPQtNC10YIg0YHQvtC30LTQsNC9INCyIEdhbWUsINC90L4g0Y3RgtC+INCy0LfQsNC40LzQvtC00LXQudGB0YLQstC40LUg0LLQsNC20L3QviDQtNC70Y8g0LHRgNCw0YPQt9C10YDQsFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBjb25zdCBhZGRJbnRlcmFjdGl2ZUxpc3RlbmVyID0gKGVsZW1lbnQsIGV2ZW50VHlwZSwgaGFuZGxlckZuKSA9PiB7XHJcbiAgICAgIGlmIChlbGVtZW50KSB7XHJcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICB0aGlzLmhhbmRsZUZpcnN0SW50ZXJhY3Rpb24oKTsgLy8g0KDQtdCz0LjRgdGC0YDQuNGA0YPQtdC8INCy0LfQsNC40LzQvtC00LXQudGB0YLQstC40LVcclxuICAgICAgICAgIGhhbmRsZXJGbi5jYWxsKHRoaXMsIGV2ZW50KTsgLy8g0JLRi9C30YvQstCw0LXQvCDQvtCx0YDQsNCx0L7RgtGH0LjQulxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGNvbnNvbGUud2FybihgW01lbnUgYWRkRXZlbnRMaXN0ZW5lcnNdIEVsZW1lbnQgbm90IGZvdW5kIGZvciBsaXN0ZW5lcjogJHtlbGVtZW50fWApO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGFkZEludGVyYWN0aXZlTGlzdGVuZXIodGhpcy5zZXR0aW5nc0J1dHRvbiwgJ2NsaWNrJywgdGhpcy50b2dnbGVTZXR0aW5ncyk7XHJcbiAgICBhZGRJbnRlcmFjdGl2ZUxpc3RlbmVyKHRoaXMucGxheUJ1dHRvbiwgJ2NsaWNrJywgdGhpcy5zdGFydEdhbWUpO1xyXG4gICAgYWRkSW50ZXJhY3RpdmVMaXN0ZW5lcih0aGlzLmNoYXJhY3RlckJ1dHRvbiwgJ2NsaWNrJywgdGhpcy5vcGVuQ2hhcmFjdGVyTW9kYWwpO1xyXG5cclxuICAgIGlmICh0aGlzLmNsb3NlU2V0dGluZ3NCdXR0b24pIHtcclxuICAgICAgdGhpcy5jbG9zZVNldHRpbmdzQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5jbG9zZVNldHRpbmdzKCkpO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLnNldHRpbmdzUGFuZWwpIHtcclxuICAgICAgY29uc29sZS53YXJuKCdbTWVudSBhZGRFdmVudExpc3RlbmVyc10gQ2xvc2UgYnV0dG9uIGZvciBzZXR0aW5ncyBwYW5lbCBub3QgZm91bmQuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuY2xvc2VDaGFyYWN0ZXJQYW5lbEJ1dHRvbikge1xyXG4gICAgICB0aGlzLmNsb3NlQ2hhcmFjdGVyUGFuZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmNsb3NlQ2hhcmFjdGVyTW9kYWwoKSk7XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuY2hhcmFjdGVyUGFuZWwpIHtcclxuICAgICAgY29uc29sZS53YXJuKCdbTWVudSBhZGRFdmVudExpc3RlbmVyc10gQ2xvc2UgYnV0dG9uIGZvciBjaGFyYWN0ZXIgcGFuZWwgbm90IGZvdW5kLicpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLm11c2ljVm9sdW1lKSB7XHJcbiAgICAgIC8vINCj0YHRgtCw0L3QsNCy0LvQuNCy0LDQtdC8INC90LDRh9Cw0LvRjNC90L7QtSDQt9C90LDRh9C10L3QuNC1INC40LcgbG9jYWxTdG9yYWdlLCDQtdGB0LvQuCBBdWRpb01hbmFnZXIg0LXRidC1INC90LUg0L/RgNC40YjQtdC7XHJcbiAgICAgIGlmICghdGhpcy5hdWRpb01hbmFnZXJJbnN0YW5jZSkge1xyXG4gICAgICAgIGNvbnN0IHNhdmVkVm9sdW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ211c2ljVm9sdW1lJyk7XHJcbiAgICAgICAgaWYgKHNhdmVkVm9sdW1lICE9PSBudWxsKSB7XHJcbiAgICAgICAgICB0aGlzLm11c2ljVm9sdW1lLnZhbHVlID0gcGFyc2VGbG9hdChzYXZlZFZvbHVtZSkgKiAxMDA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMubXVzaWNWb2x1bWUudmFsdWUgPSA1MDsgLy8g0JTQtdGE0L7Qu9GC0L3QvtC1INC30L3QsNGH0LXQvdC40LUg0LPRgNC+0LzQutC+0YHRgtC4XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLm11c2ljVm9sdW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGUpID0+IHtcclxuICAgICAgICB0aGlzLmhhbmRsZUZpcnN0SW50ZXJhY3Rpb24oKTsgLy8g0JPRgNC+0LzQutC+0YHRgtGMINGC0L7QttC1INCy0LfQsNC40LzQvtC00LXQudGB0YLQstC40LVcclxuICAgICAgICBjb25zdCBuZXdWb2x1bWUgPSBwYXJzZUZsb2F0KGUudGFyZ2V0LnZhbHVlKSAvIDEwMDtcclxuICAgICAgICBpZiAodGhpcy5hdWRpb01hbmFnZXJJbnN0YW5jZSkge1xyXG4gICAgICAgICAgdGhpcy5hdWRpb01hbmFnZXJJbnN0YW5jZS5zZXRNdXNpY1ZvbHVtZShuZXdWb2x1bWUpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coYFtNZW51XSBNdXNpYyB2b2x1bWUgY2hhbmdlZCB2aWEgc2xpZGVyIHRvOiAke25ld1ZvbHVtZX1gKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8g0JXRgdC70LggQXVkaW9NYW5hZ2VyINC10YnQtSDQvdC1INC30LTQtdGB0YwsINGB0L7RhdGA0LDQvdGP0LXQvCDQsiBsb2NhbFN0b3JhZ2UsIEdhbWUtPkF1ZGlvTWFuYWdlciDQv9C+0LTRhdCy0LDRgtC40YJcclxuICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdtdXNpY1ZvbHVtZScsIG5ld1ZvbHVtZS50b1N0cmluZygpKTtcclxuICAgICAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICAgICAgJ1tNZW51XSBNdXNpYyB2b2x1bWUgc2xpZGVyIGNoYW5nZWQsIEF1ZGlvTWFuYWdlciBub3QgYXZhaWxhYmxlLiBTYXZlZCB0byBsb2NhbFN0b3JhZ2UuJ1xyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLnNmeFZvbHVtZSkge1xyXG4gICAgICAvKiAuLi4g0L7QsdGA0LDQsdC+0YLRh9C40Log0LTQu9GPIFNGWCAuLi4gKi9cclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5jaGFyYWN0ZXJHcmlkKSB7XHJcbiAgICAgIHRoaXMuY2hhcmFjdGVyR3JpZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNsaWNrZWRDYXJkID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJy5jaGFyYWN0ZXItY2FyZCcpO1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIGNsaWNrZWRDYXJkICYmXHJcbiAgICAgICAgICB0aGlzLmNoYXJhY3RlclBhbmVsICYmXHJcbiAgICAgICAgICB0aGlzLmNoYXJhY3RlclBhbmVsLmNsYXNzTGlzdC5jb250YWlucygndmlzaWJsZScpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICB0aGlzLmhhbmRsZUZpcnN0SW50ZXJhY3Rpb24oKTtcclxuICAgICAgICAgIHRoaXMuc2VsZWN0Q2hhcmFjdGVyKGNsaWNrZWRDYXJkKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb3BlbkNoYXJhY3Rlck1vZGFsKCkge1xyXG4gICAgaWYgKCF0aGlzLmNoYXJhY3RlclBhbmVsKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0NoYXJhY3RlciBwYW5lbCBub3QgZm91bmQuJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuY2hhcmFjdGVyUGFuZWwuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xyXG4gICAgaWYgKHRoaXMuc2V0dGluZ3NQYW5lbD8uY2xhc3NMaXN0LmNvbnRhaW5zKCd2aXNpYmxlJykpIHRoaXMuY2xvc2VTZXR0aW5ncygpO1xyXG4gICAgdGhpcy5fZW5zdXJlT3ZlcmxheSgpLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuICB9XHJcblxyXG4gIGNsb3NlQ2hhcmFjdGVyTW9kYWwoKSB7XHJcbiAgICB0aGlzLmNoYXJhY3RlclBhbmVsPy5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XHJcbiAgICB0aGlzLm92ZXJsYXk/LmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcclxuICB9XHJcblxyXG4gIHNlbGVjdENoYXJhY3RlcihjYXJkRWxlbWVudCkge1xyXG4gICAgaWYgKCF0aGlzLmNoYXJhY3RlckdyaWQgfHwgIWNhcmRFbGVtZW50Py5kYXRhc2V0Py5jaGFyYWN0ZXIpIHJldHVybjtcclxuICAgIHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXIgPSBjYXJkRWxlbWVudC5kYXRhc2V0LmNoYXJhY3RlcjtcclxuXHJcbiAgICB0aGlzLmNoYXJhY3RlckdyaWRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGFyYWN0ZXItY2FyZCcpXHJcbiAgICAgIC5mb3JFYWNoKChjKSA9PiBjLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJykpO1xyXG4gICAgY2FyZEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcclxuXHJcbiAgICBpZiAodGhpcy5wbGF5QnV0dG9uKSB0aGlzLnBsYXlCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuXHJcbiAgICB0aGlzLnVwZGF0ZVNlbGVjdGVkQ2hhcmFjdGVyRGlzcGxheSgpO1xyXG4gICAgdGhpcy5jbG9zZUNoYXJhY3Rlck1vZGFsKCk7XHJcbiAgICBVSU1hbmFnZXIuZmxhc2hNZXNzYWdlKFxyXG4gICAgICBgQ2hhcmFjdGVyICR7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZENoYXJhY3Rlci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXIuc2xpY2UoMSlcclxuICAgICAgfSBzZWxlY3RlZCFgLFxyXG4gICAgICAnc3VjY2VzcycsXHJcbiAgICAgIDIwMDBcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVTZWxlY3RlZENoYXJhY3RlckRpc3BsYXkoKSB7XHJcbiAgICBpZiAoIXRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXJEaXNwbGF5KSByZXR1cm47XHJcbiAgICBpZiAoXHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXIgJiZcclxuICAgICAgdGhpcy5jaGFyYWN0ZXJJbWFnZVNvdXJjZXMgJiZcclxuICAgICAgdGhpcy5jaGFyYWN0ZXJJbWFnZVNvdXJjZXNbdGhpcy5zZWxlY3RlZENoYXJhY3Rlcl1cclxuICAgICkge1xyXG4gICAgICBjb25zdCBjaGFyYWN0ZXJLZXkgPSB0aGlzLnNlbGVjdGVkQ2hhcmFjdGVyO1xyXG4gICAgICBjb25zdCBpbWdTcmMgPSB0aGlzLmNoYXJhY3RlckltYWdlU291cmNlc1tjaGFyYWN0ZXJLZXldO1xyXG4gICAgICBsZXQgZGlzcGxheWVkTmFtZSA9IGNoYXJhY3RlcktleS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGNoYXJhY3RlcktleS5zbGljZSgxKTtcclxuXHJcbiAgICAgIC8vINCf0YvRgtCw0LXQvNGB0Y8g0L/QvtC70YPRh9C40YLRjCDQsdC+0LvQtdC1INC/0L7Qu9C90L7QtSDQuNC80Y8g0LjQtyDQutCw0YDRgtC+0YfQutC4XHJcbiAgICAgIGlmICh0aGlzLmNoYXJhY3RlckdyaWQpIHtcclxuICAgICAgICBjb25zdCBzZWxlY3RlZENhcmRIMyA9IHRoaXMuY2hhcmFjdGVyR3JpZC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgICAgYC5jaGFyYWN0ZXItY2FyZFtkYXRhLWNoYXJhY3Rlcj1cIiR7Y2hhcmFjdGVyS2V5fVwiXSBoM2BcclxuICAgICAgICApO1xyXG4gICAgICAgIGlmIChzZWxlY3RlZENhcmRIMykgZGlzcGxheWVkTmFtZSA9IHNlbGVjdGVkQ2FyZEgzLnRleHRDb250ZW50O1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXJEaXNwbGF5LmlubmVySFRNTCA9IGA8aW1nIHNyYz1cIiR7aW1nU3JjfVwiIGFsdD1cIiR7ZGlzcGxheWVkTmFtZX1cIiBjbGFzcz1cInNlbGVjdGVkLWNoYXItcHJldmlldy1pbWdcIj4gPHNwYW4gY2xhc3M9XCJzZWxlY3RlZC1jaGFyLW5hbWUgY2hhci1uYW1lLSR7Y2hhcmFjdGVyS2V5fVwiPiR7ZGlzcGxheWVkTmFtZX08L3NwYW4+YDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXJEaXNwbGF5LmlubmVySFRNTCA9XHJcbiAgICAgICAgJzxzcGFuIHN0eWxlPVwiY29sb3I6I2FhYTtcIj5ObyBjaGFyYWN0ZXIgc2VsZWN0ZWQ8L3NwYW4+JztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHRvZ2dsZVNldHRpbmdzKCkge1xyXG4gICAgaWYgKCF0aGlzLnNldHRpbmdzUGFuZWwpIHJldHVybjtcclxuICAgIGNvbnN0IGlzVmlzaWJsZSA9IHRoaXMuc2V0dGluZ3NQYW5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ3Zpc2libGUnKTtcclxuICAgIGlzVmlzaWJsZSA/IHRoaXMuY2xvc2VTZXR0aW5ncygpIDogdGhpcy5vcGVuU2V0dGluZ3MoKTtcclxuICB9XHJcblxyXG4gIG9wZW5TZXR0aW5ncygpIHtcclxuICAgIGlmICghdGhpcy5zZXR0aW5nc1BhbmVsKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1NldHRpbmdzIHBhbmVsIG5vdCBmb3VuZC4nKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zZXR0aW5nc1BhbmVsLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuICAgIGlmICh0aGlzLmNoYXJhY3RlclBhbmVsPy5jbGFzc0xpc3QuY29udGFpbnMoJ3Zpc2libGUnKSkgdGhpcy5jbG9zZUNoYXJhY3Rlck1vZGFsKCk7XHJcbiAgICB0aGlzLl9lbnN1cmVPdmVybGF5KCkuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpOyAvLyDQn9C+0LrQsNC30YvQstCw0LXQvCDQvtCy0LXRgNC70LXQuSDQuCDQtNC70Y8g0L3QsNGB0YLRgNC+0LXQulxyXG5cclxuICAgIGlmICh0aGlzLm11c2ljVm9sdW1lICYmIHRoaXMuYXVkaW9NYW5hZ2VySW5zdGFuY2UpIHtcclxuICAgICAgdGhpcy5tdXNpY1ZvbHVtZS52YWx1ZSA9IHRoaXMuYXVkaW9NYW5hZ2VySW5zdGFuY2UuZ2V0TXVzaWNWb2x1bWUoKSAqIDEwMDtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5tdXNpY1ZvbHVtZSkge1xyXG4gICAgICBjb25zdCBzYXZlZFZvbHVtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdtdXNpY1ZvbHVtZScpO1xyXG4gICAgICB0aGlzLm11c2ljVm9sdW1lLnZhbHVlID0gc2F2ZWRWb2x1bWUgPyBwYXJzZUZsb2F0KHNhdmVkVm9sdW1lKSAqIDEwMCA6IDUwO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY2xvc2VTZXR0aW5ncygpIHtcclxuICAgIHRoaXMuc2V0dGluZ3NQYW5lbD8uY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xyXG4gICAgdGhpcy5vdmVybGF5Py5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7IC8vINCh0LrRgNGL0LLQsNC10Lwg0L7QstC10YDQu9C10LlcclxuICB9XHJcblxyXG4gIF9lbnN1cmVPdmVybGF5KCkge1xyXG4gICAgaWYgKCF0aGlzLm92ZXJsYXkpIHtcclxuICAgICAgdGhpcy5vdmVybGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHRoaXMub3ZlcmxheS5jbGFzc05hbWUgPSAndWktbW9kYWwtb3ZlcmxheSc7IC8vINCe0LHRidC40Lkg0LrQu9Cw0YHRgSDQtNC70Y8g0L7QstC10YDQu9C10Y9cclxuICAgICAgdGhpcy5vdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAvLyDQl9Cw0LrRgNGL0LLQsNC10Lwg0LDQutGC0LjQstC90YPRjiDQvNC+0LTQsNC70LrRgyDQv9GA0Lgg0LrQu9C40LrQtSDQvdCwINC+0LLQtdGA0LvQtdC5XHJcbiAgICAgICAgaWYgKGUudGFyZ2V0ID09PSB0aGlzLm92ZXJsYXkpIHtcclxuICAgICAgICAgIGlmICh0aGlzLmNoYXJhY3RlclBhbmVsPy5jbGFzc0xpc3QuY29udGFpbnMoJ3Zpc2libGUnKSkgdGhpcy5jbG9zZUNoYXJhY3Rlck1vZGFsKCk7XHJcbiAgICAgICAgICBpZiAodGhpcy5zZXR0aW5nc1BhbmVsPy5jbGFzc0xpc3QuY29udGFpbnMoJ3Zpc2libGUnKSkgdGhpcy5jbG9zZVNldHRpbmdzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLm92ZXJsYXkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMub3ZlcmxheTtcclxuICB9XHJcblxyXG4gIGFzeW5jIHN0YXJ0R2FtZSgpIHtcclxuICAgIGlmICghdGhpcy51c2VySW50ZXJhY3RlZCkge1xyXG4gICAgICBVSU1hbmFnZXIuZmxhc2hNZXNzYWdlKFxyXG4gICAgICAgICdQbGVhc2UgaW50ZXJhY3Qgd2l0aCB0aGUgbWVudSBmaXJzdCAoZS5nLiwgY2xpY2sgYSBidXR0b24gb3IgY2hvb3NlIGEgY2hhcmFjdGVyKS4nLFxyXG4gICAgICAgICd3YXJuaW5nJyxcclxuICAgICAgICAzMDAwXHJcbiAgICAgICk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICghdGhpcy5zZWxlY3RlZENoYXJhY3Rlcikge1xyXG4gICAgICBVSU1hbmFnZXIuZmxhc2hNZXNzYWdlKCdQbGVhc2Ugc2VsZWN0IGEgY2hhcmFjdGVyIGZpcnN0IScsICd3YXJuaW5nJywgMjUwMCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBsb2FkaW5nT3ZlcmxheSA9IFVJTWFuYWdlci5nZXRMb2FkaW5nT3ZlcmxheSgpOyAvLyBVSU1hbmFnZXIg0YPQv9GA0LDQstC70Y/QtdGCINC40LxcclxuICAgIGlmIChsb2FkaW5nT3ZlcmxheSkgbG9hZGluZ092ZXJsYXkuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xyXG5cclxuICAgIHRoaXMuaGlkZSgpOyAvLyDQodC60YDRi9Cy0LDQtdC8INC80LXQvdGOXHJcblxyXG4gICAgY29uc3QgZ2FtZUNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lLWNhbnZhcycpO1xyXG4gICAgaWYgKGdhbWVDYW52YXMpIHtcclxuICAgICAgZ2FtZUNhbnZhcy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsgLy8g0J/QvtC60LDQt9GL0LLQsNC10Lwg0LrQsNC90LLQsNGBXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbTWVudV0gQ1JJVElDQUw6ICNnYW1lLWNhbnZhcyBub3QgZm91bmQhJyk7XHJcbiAgICAgIGlmIChsb2FkaW5nT3ZlcmxheSkgbG9hZGluZ092ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xyXG4gICAgICB0aGlzLnNob3coKTsgLy8g0J/QvtC60LDQt9GL0LLQsNC10Lwg0LzQtdC90Y4g0L7QsdGA0LDRgtC90L4sINC10YHQu9C4INC60LDQvdCy0LDRgdCwINC90LXRglxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8g0JXRgdC70Lgg0LXRgdGC0Ywg0YHRgtCw0YDQsNGPINC40LPRgNCwLCDQvtGB0YLQsNC90LDQstC70LjQstCw0LXQvCDQtdGRICjRhdC+0YLRjyByZWxvYWQg0L3QsCBHYW1lIE92ZXIg0LvRg9GH0YjQtSlcclxuICAgICAgaWYgKGN1cnJlbnRHYW1lSW5zdGFuY2UgJiYgdHlwZW9mIGN1cnJlbnRHYW1lSW5zdGFuY2Uuc3RvcEdhbWUgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnW01lbnVdIFN0b3BwaW5nIHByZXZpb3VzIGdhbWUgaW5zdGFuY2UuJyk7XHJcbiAgICAgICAgY3VycmVudEdhbWVJbnN0YW5jZS5zdG9wR2FtZSgpOyAvLyDQrdGC0L4g0L/QvtC60LDQttC10YIgR2FtZSBPdmVyINGN0LrRgNCw0L0g0YHRgtCw0YDQvtC5INC40LPRgNGLXHJcbiAgICAgICAgY3VycmVudEdhbWVJbnN0YW5jZSA9IG51bGw7IC8vINCe0YfQuNGJ0LDQtdC8INGB0YHRi9C70LrRg1xyXG4gICAgICAgIC8vINCc0L7QttC10YIg0L/QvtGC0YDQtdCx0L7QstCw0YLRjNGB0Y8g0L3QtdCx0L7Qu9GM0YjQsNGPINC30LDQtNC10YDQttC60LAsINGH0YLQvtCx0YsgRE9NINGB0YLQsNGA0L7QuSDQuNCz0YDRiyDRg9GB0L/QtdC7INC+0YfQuNGB0YLQuNGC0YzRgdGPLFxyXG4gICAgICAgIC8vINC90L4g0L7QsdGL0YfQvdC+IHJlbG9hZCgpINC90LAgR2FtZSBPdmVyINGA0LXRiNCw0LXRgiDRjdGC0YMg0L/RgNC+0LHQu9C10LzRgyDQu9GD0YfRiNC1LlxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhgW01lbnVdIENyZWF0aW5nIG5ldyBHYW1lIGluc3RhbmNlIHdpdGggY2hhcmFjdGVyOiAke3RoaXMuc2VsZWN0ZWRDaGFyYWN0ZXJ9YCk7XHJcbiAgICAgIGN1cnJlbnRHYW1lSW5zdGFuY2UgPSBuZXcgR2FtZSh0aGlzLnNlbGVjdGVkQ2hhcmFjdGVyKTsgLy8g0J/QtdGA0LXQtNCw0LXQvCDRhtCy0LXRglxyXG5cclxuICAgICAgLy8g0JIg0LrQvtC90YHRgtGA0YPQutGC0L7RgNC1IEdhbWUg0YHQvtC30LTQsNC10YLRgdGPIEF1ZGlvTWFuYWdlci4gR2FtZSDQtNC+0LvQttC10L0g0L/QtdGA0LXQtNCw0YLRjCDQtdCz0L4g0L7QsdGA0LDRgtC90L4g0LIgTWVudS5cclxuICAgICAgLy8g0JTQu9GPINGN0YLQvtCz0L4g0LIgR2FtZS5qcyDQtNC+0LvQttC10L0g0LHRi9GC0Ywg0LLRi9C30L7QsiBtZW51SW5zdGFuY2Uuc2V0QXVkaW9NYW5hZ2VyKHRoaXMuYXVkaW9NYW5hZ2VyKTtcclxuICAgICAgLy8g0K3RgtC+INGC0YDQtdCx0YPQtdGCLCDRh9GC0L7QsdGLIEdhbWUg0LfQvdCw0Lsg0L4gbWVudUluc3RhbmNlLiDQn9GA0L7RidC1LCDQtdGB0LvQuCBHYW1lINGB0LDQvCDRg9C/0YDQsNCy0LvRj9C10YIgVUkg0LPRgNC+0LzQutC+0YHRgtC4XHJcbiAgICAgIC8vINGH0LXRgNC10LcgVUlNYW5hZ2VyLCDQuNC70Lgg0LXRgdC70LggTWVudSDQvdCw0L/RgNGP0LzRg9GOINC40YHQv9C+0LvRjNC30YPQtdGCIGxvY2FsU3RvcmFnZSDQtNC70Y8g0L3QsNGH0LDQu9GM0L3QvtC5INGD0YHRgtCw0L3QvtCy0LrQuCDQs9GA0L7QvNC60L7RgdGC0LgsXHJcbiAgICAgIC8vINCwIEF1ZGlvTWFuYWdlciDQv9GA0Lgg0YHRgtCw0YDRgtC1INGH0LjRgtCw0LXRgiDQuNC3IGxvY2FsU3RvcmFnZS5cclxuXHJcbiAgICAgIC8vINCS0JDQltCd0J46IEdhbWUuanMg0LTQvtC70LbQtdC9INGB0LDQvCDQstGL0LfQstCw0YLRjCDRgdCy0L7QuSB0cmlnZ2VyR2FtZVN0YXJ0KCkg0L/QvtGB0LvQtSDRgdCy0L7QtdC5INC40L3QuNGG0LjQsNC70LjQt9Cw0YbQuNC4LlxyXG4gICAgICAvLyBNZW51LmpzINC/0YDQvtGB0YLQviDRgdC+0LfQtNCw0LXRgiDRjdC60LfQtdC80L/Qu9GP0YAgR2FtZS5cclxuICAgICAgLy8g0JXRgdC70LggR2FtZSDQvdC1INC30LDQv9GD0YHQutCw0LXRgiB0cmlnZ2VyR2FtZVN0YXJ0KCkg0LDQstGC0L7QvNCw0YLQuNGH0LXRgdC60Lgg0LjQtyDQutC+0L3RgdGC0YDRg9C60YLQvtGA0LAgKNGH0YLQviDRgdC10LnRh9Cw0YEg0YLQsNC6KSxcclxuICAgICAgLy8g0YLQviBNZW51INC00L7Qu9C20LXQvSDQtdCz0L4g0LLRi9C30LLQsNGC0Yw6XHJcbiAgICAgIGlmIChjdXJyZW50R2FtZUluc3RhbmNlICYmIHR5cGVvZiBjdXJyZW50R2FtZUluc3RhbmNlLnRyaWdnZXJHYW1lU3RhcnQgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICBhd2FpdCBjdXJyZW50R2FtZUluc3RhbmNlLnRyaWdnZXJHYW1lU3RhcnQoKTsgLy8g0JfQsNC/0YPRgdC60LDQtdC8INC/0YDQvtGG0LXRgdGBINC30LDQs9GA0YPQt9C60Lgg0Lgg0YHRgtCw0YDRgtCwINC40LPRgNGLXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdHYW1lIGluc3RhbmNlIGNyZWF0ZWQsIGJ1dCB0cmlnZ2VyR2FtZVN0YXJ0IGlzIG5vdCBhdmFpbGFibGUuJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vINCf0L7RgdC70LUg0YPRgdC/0LXRiNC90L7Qs9C+IGN1cnJlbnRHYW1lSW5zdGFuY2UudHJpZ2dlckdhbWVTdGFydCgpXHJcbiAgICAgIC8vIGxvYWRpbmdPdmVybGF5INCx0YPQtNC10YIg0YHQutGA0YvRgiDQstC90YPRgtGA0Lgg0LvQvtCz0LjQutC4IEdhbWUuanNcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tNZW51XSBFcnJvciBkdXJpbmcgZ2FtZSBpbml0aWFsaXphdGlvbiBvciBzdGFydDonLCBlcnJvcik7XHJcbiAgICAgIFVJTWFuYWdlci5mbGFzaE1lc3NhZ2UoYEdhbWUgU3RhcnQgRmFpbGVkOiAke2Vycm9yLm1lc3NhZ2V9YCwgJ2Vycm9yJywgMTAwMDApO1xyXG4gICAgICBpZiAobG9hZGluZ092ZXJsYXkpIGxvYWRpbmdPdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcclxuICAgICAgdGhpcy5zaG93KCk7IC8vINCf0L7QutCw0LfRi9Cy0LDQtdC8INC80LXQvdGOINC+0LHRgNCw0YLQvdC+XHJcbiAgICAgIGlmIChnYW1lQ2FudmFzKSBnYW1lQ2FudmFzLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7IC8vINCh0LrRgNGL0LLQsNC10Lwg0LrQsNC90LLQsNGBXHJcbiAgICAgIGN1cnJlbnRHYW1lSW5zdGFuY2UgPSBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2hvdygpIHtcclxuICAgIGlmICh0aGlzLm1lbnVDb250YWluZXIpIHRoaXMubWVudUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOyAvLyDQuNC70LggJ2Jsb2NrJ1xyXG4gICAgLy8g0KPQsdC10LTQuNC80YHRjywg0YfRgtC+INC40LPRgNC+0LLRi9C1INGN0LvQtdC80LXQvdGC0Ysg0YHQutGA0YvRgtGLLCDQtdGB0LvQuCDQv9C+0LrQsNC30YvQstCw0LXQvCDQvNC10L3RjlxyXG4gICAgY29uc3QgZ2FtZUNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lLWNhbnZhcycpO1xyXG4gICAgaWYgKGdhbWVDYW52YXMpIGdhbWVDYW52YXMuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIFVJTWFuYWdlci5oaWRlR2FtZVVJKCk7IC8vINCh0LrRgNGL0LLQsNC10YIg0LrQvtC90YLRgNC+0LvRiywg0L7Rh9C60LgsINGC0LDQudC80LXRgFxyXG4gICAgVUlNYW5hZ2VyLmhpZGVHYW1lT3ZlclNjcmVlbigpO1xyXG4gICAgLy8g0JfQsNCz0YDRg9C30L7Rh9C90YvQuSDQvtCy0LXRgNC70LXQuSDRgtC+0LbQtSDQu9GD0YfRiNC1INGB0LrRgNGL0YLRjCwg0LXRgdC70Lgg0LzRiyDQsiDQvNC10L3RjlxyXG4gICAgY29uc3QgbG9hZGluZ092ZXJsYXkgPSBVSU1hbmFnZXIuZ2V0TG9hZGluZ092ZXJsYXkoKTtcclxuICAgIGlmIChsb2FkaW5nT3ZlcmxheSkgbG9hZGluZ092ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xyXG4gIH1cclxuXHJcbiAgaGlkZSgpIHtcclxuICAgIGlmICh0aGlzLm1lbnVDb250YWluZXIpIHRoaXMubWVudUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gIH1cclxufVxyXG5cclxuLy8g0K3QutGB0L/QvtGA0YLQuNGA0YPQtdC8IE1lbnUg0LggY3VycmVudEdhbWVJbnN0YW5jZSAo0LXRgdC70Lgg0L7QvSDQvdGD0LbQtdC9INCz0LTQtS3RgtC+INC10YnQtSwg0YXQvtGC0Y8g0LvRg9GH0YjQtSDQuNC30LHQtdCz0LDRgtGMINCz0LvQvtCx0LDQu9GM0L3Ri9GFINGB0YHRi9C70L7QuilcclxuZXhwb3J0IHsgY3VycmVudEdhbWVJbnN0YW5jZSB9O1xyXG4iLCIvLyDQn9GA0LXQtNC/0L7Qu9C+0LbQuNC8LCDRjdGC0L4gc3JjL21haW4uanNcclxuaW1wb3J0IHsgTWVudSB9IGZyb20gJy4vVUkvTWVudS5qcyc7XHJcblxyXG5pbXBvcnQgJy4uL2Nzcy9zdHlsZXMuY3NzJzsgLy8g0J/Rg9GC0Ywg0LogQ1NTICjQtdGB0LvQuCDQvtC9INGDINGC0LXQsdGPINC10YHRgtGMKVxyXG4vLyDQn9GD0YLQuCDQuiDQuNC30L7QsdGA0LDQttC10L3QuNGP0Lwg0LTQvtC70LbQvdGLINCx0YvRgtGMINC+0YLQvdC+0YHQuNGC0LXQu9GM0L3QviBtYWluLmpzXHJcbmltcG9ydCByZWRTdHVkZW50SW1nIGZyb20gJy4uL2Fzc2V0cy9pbWFnZXMvcmVkLnBuZyc7IC8vINCf0YDQvtCy0LXRgNGMINGN0YLQuCDQv9GD0YLQuCFcclxuaW1wb3J0IGJsdWVTdHVkZW50SW1nIGZyb20gJy4uL2Fzc2V0cy9pbWFnZXMvYmx1ZS5wbmcnO1xyXG5pbXBvcnQgeWVsbG93U3R1ZGVudEltZyBmcm9tICcuLi9hc3NldHMvaW1hZ2VzL3llbGxvdy5wbmcnO1xyXG5pbXBvcnQgZ3JlZW5TdHVkZW50SW1nIGZyb20gJy4uL2Fzc2V0cy9pbWFnZXMvZ3JlZW4ucG5nJztcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XHJcbiAgY29uc29sZS5sb2coJ1ttYWluLmpzXSBET01Db250ZW50TG9hZGVkLiBJbml0aWFsaXppbmcgTWVudS4uLicpO1xyXG5cclxuICBjb25zdCBjaGFyYWN0ZXJJbWFnZVNvdXJjZXMgPSB7XHJcbiAgICByZWQ6IHJlZFN0dWRlbnRJbWcsXHJcbiAgICBibHVlOiBibHVlU3R1ZGVudEltZyxcclxuICAgIHllbGxvdzogeWVsbG93U3R1ZGVudEltZyxcclxuICAgIGdyZWVuOiBncmVlblN0dWRlbnRJbWcsXHJcbiAgfTtcclxuXHJcbiAgbmV3IE1lbnUoY2hhcmFjdGVySW1hZ2VTb3VyY2VzKTsgLy8gTWVudSDRgtC10L/QtdGA0Ywg0LPQu9Cw0LLQvdGL0Lkg0LrQvtC90YLRgNC+0LvQu9C10YAgVUkg0LTQu9GPINC80LXQvdGOXHJcbiAgY29uc29sZS5sb2coJ1ttYWluLmpzXSBNZW51IGluc3RhbmNlIGNyZWF0ZWQuJyk7XHJcbn0pO1xyXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImciLCJnbG9iYWxUaGlzIiwidGhpcyIsIkZ1bmN0aW9uIiwiZSIsIndpbmRvdyIsInNjcmlwdFVybCIsImltcG9ydFNjcmlwdHMiLCJsb2NhdGlvbiIsImRvY3VtZW50IiwiY3VycmVudFNjcmlwdCIsInRhZ05hbWUiLCJ0b1VwcGVyQ2FzZSIsInNyYyIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImxlbmd0aCIsImkiLCJ0ZXN0IiwiRXJyb3IiLCJyZXBsYWNlIiwicCIsIklucHV0TWFuYWdlciIsImNvbnN0cnVjdG9yIiwia2V5cyIsInVwIiwiZG93biIsImxlZnQiLCJyaWdodCIsInNldEtleSIsImtleSIsImlzUHJlc3NlZCIsImhhc093blByb3BlcnR5IiwiZ2V0SW5wdXREaXJlY3Rpb24iLCJ4IiwieSIsIkdhbWVTdGF0ZSIsIkxPQURJTkciLCJNRU5VIiwiUExBWUlORyIsIkFTS0lOR19RVUVTVElPTiIsIlNFTEVDVElOR19GTE9PUiIsIlRSQU5TSVRJT05JTkciLCJHQU1FX09WRVIiLCJxdWVzdGlvbnMiLCJxdWVzdGlvbiIsIm9wdGlvbnMiLCJjb3JyZWN0QW5zd2VyIiwiVUlNYW5hZ2VyIiwic3RhdGljIiwic2V0R2FtZXBsYXlNYW5hZ2VyIiwibWFuYWdlciIsImdhbWVwbGF5TWFuYWdlckluc3RhbmNlIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwiaW5pdGlhbGl6ZVVJIiwiaW5wdXRNYW5hZ2VyIiwid2FybiIsImNyZWF0ZUNvbnRyb2xzIiwiY3JlYXRlUXVlc3Rpb25VSSIsImNyZWF0ZUZsb29yU2VsZWN0aW9uVUkiLCJlbnN1cmVGbGFzaE1lc3NhZ2VDb250YWluZXIiLCJnZXRMb2FkaW5nT3ZlcmxheSIsImNyZWF0ZUdhbWVPdmVyU2NyZWVuIiwiaW5pdGlhbGl6ZVRpbWVyIiwiY29udHJvbHNDb250YWluZXIiLCJnZXRFbGVtZW50QnlJZCIsImNyZWF0ZUVsZW1lbnQiLCJpZCIsImNsYXNzTGlzdCIsImFkZCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImlubmVySFRNTCIsImRpcmVjdGlvbiIsImljb24iLCJncmlkQXJlYSIsImZvckVhY2giLCJidG4iLCJjbGFzc05hbWUiLCJ0ZXh0Q29udGVudCIsInN0eWxlIiwiZGF0YXNldCIsInN0YXJ0IiwicHJldmVudERlZmF1bHQiLCJlbmQiLCJyZW1vdmUiLCJhZGRFdmVudExpc3RlbmVyIiwicGFzc2l2ZSIsInNjb3JlRGlzcCIsInNjb3JlRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ0YXJnZXRFbGVtZW50IiwiZGl2IiwicXVlc3Rpb25PdmVybGF5IiwicXVlc3Rpb25UZXh0RWxlbWVudCIsImFuc3dlckJ1dHRvbnNDb250YWluZXIiLCJmbG9vclNlbGVjdGlvblBhbmVsIiwiZmxvb3JCdXR0b25zQ29udGFpbmVyIiwiZmxhc2hNZXNzYWdlQ29udGFpbmVyIiwiZmxhc2hNZXNzYWdlIiwibWVzc2FnZSIsInR5cGUiLCJkdXJhdGlvbiIsImNvbnRhaW5lciIsIm1zZ0VsIiwibXNnSWQiLCJEYXRlIiwibm93IiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2xlYXJUaW1lb3V0IiwiZmxhc2hNZXNzYWdlVGltZW91dHMiLCJzZXRUaW1lb3V0IiwiZW5kSGFuZGxlciIsInByb3BlcnR5TmFtZSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsIm9uY2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwibG9hZGluZ092ZXJsYXlFbGVtZW50IiwidGV4dCIsImdhbWVPdmVyU2NyZWVuRWxlbWVudCIsImdhbWVPdmVyVGl0bGVFbGVtZW50IiwiY3JlYXRvck5hbWVzTGlzdEVsZW1lbnQiLCJjbGFzc0luZm9FbGVtZW50IiwicmV0dXJuVG9NZW51QnV0dG9uRWxlbWVudCIsImxlYWRlcmJvYXJkQm9keSIsInJlbG9hZCIsInNob3dHYW1lT3ZlclNjcmVlbiIsImlzV2luIiwiY3JlYXRvcnMiLCJjbGFzc0luZm9UZXh0IiwibmFtZSIsImxpIiwidXBkYXRlTGVhZGVyYm9hcmQiLCJoaWRlR2FtZVVJIiwiaGlkZVF1ZXN0aW9uIiwiaGlkZUZsb29yU2VsZWN0aW9uVUkiLCJoaWRlR2FtZU92ZXJTY3JlZW4iLCJzaG93UXVlc3Rpb24iLCJxdWVzdGlvbkRhdGEiLCJoYW5kbGVBbnN3ZXIiLCJvcHRpb25UZXh0IiwiaW5kZXgiLCJwYXJzZUludCIsInRhcmdldCIsInNob3dGbG9vclNlbGVjdGlvblVJIiwibWluRmxvb3IiLCJtYXhGbG9vciIsImN1cnJlbnRGbG9vciIsImhhbmRsZUZsb29yU2VsZWN0aW9uIiwiZmxvb3IiLCJkaXNhYmxlZCIsInVwZGF0ZVNjb3JlIiwic2NvcmUiLCJzaG93R2FtZVVJIiwiY2FudmFzIiwic2NvcmVEaXNwbGF5IiwiZGlzcGxheSIsInRpbWVyRWxlbWVudCIsInNhdmVkRGF0YSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJsZWFkZXJib2FyZERhdGEiLCJKU09OIiwicGFyc2UiLCJyZW1vdmVJdGVtIiwic3RhcnRUaW1lciIsInRpbWVySW50ZXJ2YWxJZCIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiZ2FtZSIsImdhbWVTdGF0ZSIsImdhbWVTdGFydFRpbWUiLCJ1cGRhdGVUaW1lciIsImVsYXBzZWQiLCJtaW51dGVzIiwic2Vjb25kcyIsInBhZFN0YXJ0Iiwic3RvcFRpbWVyIiwid2FzV2luIiwidG90YWxUaW1lIiwidG9GaXhlZCIsInB1c2giLCJ0aW1lIiwiZGF0ZSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsInNvcnQiLCJhIiwiYiIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJzbGljZSIsImdvU2NyZWVuIiwidG9wU2NvcmVzIiwiY2VsbCIsImluc2VydFJvdyIsImluc2VydENlbGwiLCJjb2xTcGFuIiwidGV4dEFsaWduIiwicnVuIiwibWlucyIsInNlY3MiLCJtaWxscyIsInJvdyIsIkNoYXJhY3RlciIsIkRPV04iLCJSSUdIVCIsIlVQIiwiTEVGVCIsImN0eCIsInNwcml0ZVVybCIsInNwcml0ZSIsIkltYWdlIiwiZnJhbWVTaXplIiwiZnJhbWVDb3VudCIsInNjYWxlIiwicmVuZGVyU2l6ZSIsInNwZWVkIiwiYW5pbWF0aW9uU3BlZWQiLCJjb2xsaXNpb25Cb3hXaWR0aFJhdGlvIiwiY29sbGlzaW9uQm94SGVpZ2h0UmF0aW8iLCJjb2xsaXNpb25Cb3hGZWV0T2Zmc2V0UmF0aW8iLCJjdXJyZW50RGlyZWN0aW9uIiwiRGlyZWN0aW9uIiwiY3VycmVudEZyYW1lIiwiaXNNb3ZpbmciLCJsYXN0RnJhbWVUaW1lIiwib25sb2FkIiwib25lcnJvciIsInVwZGF0ZUFuaW1hdGlvbiIsInRpbWVzdGFtcCIsImdldENvbGxpc2lvbkJveCIsInBvc1giLCJwb3NZIiwid2lkdGgiLCJoZWlnaHQiLCJoYWxmV2lkdGgiLCJmZWV0T2Zmc2V0WSIsInRvcCIsImJvdHRvbSIsImRyYXciLCJvZmZzZXRYIiwib2Zmc2V0WSIsImNvbXBsZXRlIiwibmF0dXJhbEhlaWdodCIsImZyYW1lWCIsImZyYW1lWSIsInNjcmVlblgiLCJzY3JlZW5ZIiwiZHJhd0ltYWdlIiwiQm9vayIsInRpbGVTaXplIiwic2l6ZSIsImNvbGxlY3RlZCIsImlzQ29sbGVjdGVkIiwiYm9va0ltYWdlIiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJzdHJva2VTdHlsZSIsInN0cm9rZVJlY3QiLCJmb250IiwidGV4dEJhc2VsaW5lIiwiZmlsbFRleHQiLCJyYW5kb21JbnQiLCJtaW4iLCJtYXgiLCJjZWlsIiwic2ltcGxlSGFzaCIsInNlZWQiLCJoIiwiaW11bCIsImFkanVzdENvbG9yQnJpZ2h0bmVzcyIsImhleENvbG9yIiwiZmFjdG9yIiwiciIsInJvdW5kIiwiTWFwUmVuZGVyZXIiLCJ0aWxlQ29sb3JzIiwiYmFzZVdhbGxDb2xvciIsImJhc2VDb3JyaWRvckNvbG9yIiwiYmFzZVJvb21GbG9vckNvbG9yIiwibGlmdENvbG9yIiwiZXJyb3JDb2xvciIsInJlc2V0Q29sb3JDYWNoZSIsImdldFRpbGVDb2xvciIsImMiLCJ0aWxlVmFsdWUiLCJyb29tcyIsImNvbG9yIiwibWFwRGF0YSIsIm1hcCIsImJvb2tzIiwibGlmdFBvc2l0aW9uIiwiY29scyIsInJvd3MiLCJjdXJyZW50T2Zmc2V0WCIsImN1cnJlbnRPZmZzZXRZIiwic3RhcnRDb2wiLCJlbmRDb2wiLCJzdGFydFJvdyIsImVuZFJvdyIsInNhdmUiLCJkcmF3QmFzZVRpbGVzIiwiZHJhd1Jvb21EZXRhaWxzIiwiZHJhd0xpZnREZXRhaWxzIiwiZHJhd0Jvb2tzIiwicmVzdG9yZSIsInNoYWRvd0NvbG9yIiwid2FsbEVkZ2VDb2xvckRhcmsiLCJ3YWxsRWRnZUNvbG9yTGlnaHQiLCJ3YWxsVG9wRWRnZUNvbG9yIiwidW5kZWZpbmVkIiwiZWRnZVNpemUiLCJyb29tIiwiY29sIiwicm9vbVNjcmVlblgiLCJyb29tU2NyZWVuWSIsInJvb21TY3JlZW5XIiwicm9vbVNjcmVlbkgiLCJmbG9vckNvbG9yIiwiZmxvb3JOdW0iLCJmbG9vck51bWJlciIsInJvb21TZWVkIiwiYnJpZ2h0bmVzc0ZhY3RvciIsImxpbmVXaWR0aCIsImRyYXdSb29tRGVjb3JhdGlvbnMiLCJ0aWxlWCIsInRpbGVZIiwiYnV0dG9uUmFkaXVzIiwiYnV0dG9uWCIsImJ1dHRvblkiLCJiZWdpblBhdGgiLCJhcmMiLCJQSSIsImZpbGwiLCJ3IiwidHMiLCJtYXJnaW4iLCJvYmpNYXJnaW4iLCJkcmF3UmVjdCIsInJ4IiwicnkiLCJydyIsInJoIiwib3V0bGluZSIsInNjcmVlblciLCJzY3JlZW5IIiwiZHJhd0NpcmNsZSIsImN4IiwiY3kiLCJyYWRpdXMiLCJzdHJva2UiLCJkZXNrVyIsImRlc2tIIiwiY2hhaXJIIiwic3BhY2VYIiwic3BhY2VZIiwicm93WSIsImNvbFgiLCJ0YWJsZVciLCJ0YWJsZUgiLCJjYWJpbmV0VyIsInNoZWxmVyIsInNoZWxmU3BhY2luZyIsInN4Iiwic2hlbGZZIiwibW92ZVRvIiwibGluZVRvIiwidGFibGVMaWJYIiwibGFiVGFibGVIIiwibWV0YWxTaGVsZlciLCJtZXRhbFNoZWxmSCIsImJveFNpemUiLCJkZWZhdWx0Qm9va1NpemUiLCJib29rIiwiYm9va1NpemUiLCJjb25zaXN0ZW50TGlmdENvb3JkcyIsIkRFRkFVTFRfR0VOX1BBUkFNUyIsIm1pblJvb21TaXplIiwibWF4Um9vbVNpemUiLCJjb3JyaWRvclRoaWNrbmVzcyIsIm51bVJvb21zIiwibWF4Um9vbUF0dGVtcHRzIiwicm9vbVR5cGVXZWlnaHRzIiwiY2xhc3Nyb29tIiwib2ZmaWNlIiwibGlicmFyeSIsImd5bSIsInV0aWxpdHkiLCJsYWIiLCJzdG9yYWdlIiwiX2NhcnZlQ29ycmlkb3JCZXR3ZWVuIiwicm9vbUEiLCJyb29tQiIsImNlbnRlclRpbGVYIiwiYXgiLCJjZW50ZXJUaWxlWSIsImF5IiwiYngiLCJieSIsIl9jYXJ2ZUhvcml6b250YWxDb3JyaWRvciIsIl9jYXJ2ZVZlcnRpY2FsQ29ycmlkb3IiLCJjMSIsImMyIiwic3RhcnRDIiwiZW5kQyIsInIxIiwicjIiLCJzdGFydFIiLCJlbmRSIiwiX2dldFRpbGVPcGVubmVzc0RldGFpbHMiLCJpc1dhbGthYmxlIiwidmFsIiwib3BlblNpZGVzIiwiZGVsdGFzIiwiZHgiLCJkeSIsImZsYWdzIiwiaXNDaG9rZXBvaW50IiwiX2ZvcmNlQ29ubmVjdGlvblRvUG9pbnQiLCJ0YXJnZXRYIiwidGFyZ2V0WSIsImRpcnMiLCJudCIsInEiLCJ2aXNpdGVkIiwiU2V0IiwicGF0aGFibGUiLCJ0YXJnZXRzIiwiY2xvc2VzdCIsIm1pbkRpc3QiLCJJbmZpbml0eSIsImNYIiwiY1kiLCJkIiwic2hpZnQiLCJuWCIsIm5ZIiwiaGFzIiwiaW5jbHVkZXMiLCJkaXN0IiwiX2lzTGlmdFJlYWNoYWJsZSIsImxpZnRQb3MiLCJyZWFjaGFibGUiLCJtYXBHcmlkIiwic3RhcnRYIiwic3RhcnRZIiwid2Fsa2FibGVUaWxlVmFsdWVzIiwicXVldWUiLCJkaXJlY3Rpb25zIiwiY3VyclgiLCJjdXJyWSIsIm5leHRYIiwibmV4dFkiLCJwZXJmb3JtQkZTIiwibG9nTWFwR3JpZEZvckRlYnVnIiwiclMiLCJ0Iiwiam9pbiIsIlByb2NlZHVyYWxNYXAiLCJjYW52YXNXaWR0aCIsImNhbnZhc0hlaWdodCIsInJlbmRlcmVyIiwiZ2VuZXJhdGlvblBhcmFtcyIsImJvb2tzUGVyTWFwIiwiZ2VuZXJhdGlvbkNvbmZpZyIsImNvbmZpZyIsInVzZXJQYXJhbXMiLCJnZW5QYXJhbXMiLCJBcnJheSIsImZyb20iLCJyb29tQXR0ZW1wdHMiLCJ3ZWlnaHRlZFR5cGVzIiwid2VpZ2h0Iiwicm9vbVdpZHRoIiwicm9vbUhlaWdodCIsInJvb21Db2wiLCJyb29tUm93IiwibmV3Um9vbSIsImNvbm5lY3RlZCIsIm92ZXJsYXBzIiwiYnVmZmVyIiwiZXhpc3RpbmdSb29tIiwiX3BsYWNlUm9vbXMiLCJlcnJvck1zZyIsImNvbm5lY3RlZFNldCIsInVuY29ubmVjdGVkUm9vbXMiLCJiZXN0RGlzdFNxIiwiYmVzdFVuY1Jvb20iLCJiZXN0Q29uUm9vbUlkIiwiYmVzdFVuY0lkeCIsInJvb21VIiwicm9vbUMiLCJkaXN0U3EiLCJiZXN0Q29uUm9vbSIsImZpbmQiLCJzcGxpY2UiLCJfY29ubmVjdFJvb21zQmV0dGVyIiwicGxhY2VkTGlmdERhdGEiLCJjdXJyZW50Q29uc2lzdGVudENvb3JkcyIsInJvb21zTGlzdCIsImNvb3Jkc1RvVXNlIiwibmV3bHlGb3VuZENvb3JkcyIsImNhbmRpZGF0ZXMiLCJzdGFydElDIiwiZW5kSUMiLCJzdGFydElSIiwiZW5kSVIiLCJiZXN0IiwiX2ZpbmRMaWZ0UGxhY2VtZW50TG9jYXRpb24iLCJ0aWxlVmFsdWVCZWZvcmVMaWZ0IiwibGlmdFJvb21PYmplY3QiLCJtZXNzYWdlUmVhc29uIiwiYWxjb3ZlU2l6ZSIsImFsY292ZUNvbCIsImFsY292ZVJvdyIsIm5ld0xpZnRSb29tRGF0YSIsImxpZnRXb3JsZFBvcyIsInJvb21JZCIsInBvc2l0aW9uIiwiY29vcmRzIiwiX3BsYWNlTGlmdCIsIl9lbnN1cmVNYXBCb3JkZXJzIiwiZ2VuZXJhdGVMZXZlbERhdGEiLCJwbGFjZUJvb2tzUmVsaWFibHkiLCJsb2dNYXBHcmlkIiwicG90ZW50aWFsTG9jcyIsInBsYWNlZENvb3JkcyIsInRpbGVWYWwiLCJpc0xpZnQiLCJwbGFjZWQiLCJyYW5kSWR4IiwiYm9va0lkIiwid29ybGRYIiwid29ybGRZIiwiZmluZFJhbmRvbUluaXRpYWxTcGF3blBvc2l0aW9uIiwiY2hhcmFjdGVyRm9yQ29sbGlzaW9uQ2hlY2siLCJzdWl0YWJsZVRpbGVzIiwidGVtcENoYXJDb2xsaXNpb25Cb3giLCJjb2xsaXNpb25Cb3hXaWR0aCIsImNvbGxpc2lvbkJveEhlaWdodCIsImNoZWNrQ2FuZGlkYXRlIiwiaGFsZkNoYXJXaWR0aCIsImhhbGZDaGFySGVpZ2h0IiwicG9pbnRzVG9WZXJpZnkiLCJwb2ludCIsImlzVGlsZU9wZW5Fbm91Z2giLCJyT2Zmc2V0IiwiY09mZnNldCIsInJUZXN0IiwiY1Rlc3QiLCJtaW5PcGVuU2lkZXMiLCJhdm9pZE5hcnJvdyIsIm9wZW5Db3VudCIsImlzT3BlbiIsImZpbmROZWFyZXN0V2Fsa2FibGVUaWxlIiwibWF4UiIsImV4Y2x1ZGVMaWZ0IiwidFgiLCJ0WSIsImFicyIsInBhdGhhYmxlQkZTIiwiZ2V0Um9vbUNvbnRhaW5pbmdUaWxlIiwiYWN0dWFsVGlsZSIsImdldFJvb21DZW50ZXIiLCJnZXRTcGF3blBvaW50SW5Sb29tT2ZMaWZ0IiwibGlmdFRpbGVYIiwibGlmdFRpbGVZIiwicHJlZmVycmVkRGlzdGFuY2UiLCJkaXIiLCJjaGVja1giLCJjaGVja1kiLCJmaW5kTmVhcmJ5VW5hbnN3ZXJlZEJvb2siLCJjbG9zZXN0Qm9vayIsIm1pbkRpc3RTcSIsImRYIiwiZFkiLCJtYXJrQm9va0FzQ29sbGVjdGVkIiwiYm9va1RvQ29sbGVjdCIsImZpbmROZWFyYnlMaWZ0IiwiZ2V0TGlmdFBvc2l0aW9uIiwick4iLCJMZXZlbCIsImN1cnJlbnRNYXAiLCJsb2FkRmxvb3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsImdldEN1cnJlbnRCb29rcyIsIkdhbWVSZW5kZXJlciIsImluaXRpYWxpemVDYW52YXMiLCJnZXRDb250ZXh0IiwiaW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwicmVzaXplQ2FudmFzIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiY2hhcmFjdGVyIiwibGV2ZWwiLCJjZW50ZXJDYW1lcmFPbkNoYXJhY3RlciIsImRyYXdGcmFtZSIsImNsZWFyUmVjdCIsImNoYXIiLCJkcmF3V2luU2NyZWVuIiwidGFyZ2V0Qm9va3NUb1dpbiIsIkRFQlVHX0dNX0ZMT09SIiwiR2FtZXBsYXlNYW5hZ2VyIiwiYmluZCIsInVwZGF0ZSIsInVwZGF0ZVBsYXlpbmdTdGF0ZSIsIm1vdmVkIiwiaGFuZGxlTW92ZW1lbnQiLCJoYW5kbGVJbnRlcmFjdGlvbnMiLCJpbnB1dCIsImFjdHVhbFgiLCJhY3R1YWxZIiwiY2FuTW92ZVgiLCJjaGVja0NvbGxpc2lvbiIsImNhbk1vdmVZIiwiYm94IiwicG9pbnRzIiwiaW5pdGlhdGVRdWVzdGlvbiIsImxpZnRDb29sZG93bkFjdGl2ZSIsImluaXRpYXRlRmxvb3JTZWxlY3Rpb24iLCJzZXRHYW1lU3RhdGUiLCJjdXJyZW50Qm9va1RhcmdldCIsImF2YWlsYWJsZVF1ZXN0aW9ucyIsInFJZHgiLCJjdXJyZW50UXVlc3Rpb25EYXRhIiwic2VsT3B0SWR4IiwidG90YWxCb29rc0NvbGxlY3RlZEdsb2JhbGx5IiwiX3NldEdhbWVPdmVyIiwic2VsRmxvb3IiLCJoYW5kbGVMaWZ0VHJhbnNpdGlvbiIsImNhdGNoIiwiZXJyIiwiX2hhbmRsZUZhdGFsRXJyb3IiLCJ0YXJnZXRGbG9vciIsImlzRGVidWciLCJMSUZUX0NPT0xET1dOX01TIiwibWFwSW5zdCIsImxpZnREYXRhIiwiZmluYWxTcGF3biIsImxpZnRSb29tIiwiZW5zdXJlQ2hhcmFjdGVySXNPbldhbGthYmxlVGlsZSIsInN0YXJ0TGlmdENvb2xkb3duVGltZXIiLCJhbGxvd1N0YW5kaW5nT25MaWZ0IiwiY1RYIiwiY1RZIiwiY1RWIiwic2FmZVN0YW5kIiwiY29sbGlkaW5nV2FsbCIsIm5lZWRzTnVkZ2UiLCJzYWZlU3BvdCIsImVtZXJnZW5jeSIsIk1VU0lDX1NPVVJDRVMiLCJ0cmFjazEiLCJ0cmFjazIiLCJ0cmFjazMiLCJUUkFDS19DWUNMRV9PUkRFUiIsIkF1ZGlvTWFuYWdlciIsIm11c2ljVm9sdW1lIiwiY3VycmVudE11c2ljRWxlbWVudCIsImN1cnJlbnRUcmFja0tleSIsImlzTXVzaWNQbGF5aW5nIiwic2F2ZWRWb2x1bWUiLCJwYXJzZUZsb2F0IiwiYXVkaW9FbGVtZW50cyIsIl9wcmVsb2FkVHJhY2tzIiwiYXVkaW9QYXRoIiwiYXVkaW8iLCJBdWRpbyIsInByZWxvYWQiLCJzZXRNdXNpY1ZvbHVtZSIsInZvbHVtZSIsImdldE11c2ljVm9sdW1lIiwicGxheU11c2ljIiwidHJhY2tLZXkiLCJsb29wIiwic3RvcE11c2ljIiwicGxheSIsInRoZW4iLCJoYXNGb2N1cyIsInBhdXNlIiwiY3VycmVudFRpbWUiLCJjaGFuZ2VUcmFja0ZvckZsb29yIiwidHJhY2tJbmRleCIsIm5ld1RyYWNrS2V5Iiwic3RhcnRJbml0aWFsTXVzaWMiLCJpbml0aWFsRmxvb3IiLCJHYW1lIiwiY2hhcmFjdGVyQ29sb3IiLCJhbGVydCIsIl9nYW1lU3RhdGUiLCJJRExFIiwiaXNSdW5uaW5nIiwibGlmdENvb2xkb3duVGltZXIiLCJnYW1lcGxheU1hbmFnZXIiLCJhdWRpb01hbmFnZXIiLCJzcHJpdGVzIiwicmVkIiwiYmx1ZSIsInllbGxvdyIsImdyZWVuIiwiZ2FtZUxvb3AiLCJfYm91bmRLZXlEb3duSGFuZGxlciIsIl9ib3VuZEtleVVwSGFuZGxlciIsIl9pbml0aWFsaXplQ29yZUNvbXBvbmVudHMiLCJfYWRkRXZlbnRMaXN0ZW5lcnMiLCJuZXdTdGF0ZSIsInRyaWdnZXJHYW1lU3RhcnQiLCJsb2FkaW5nT3ZlcmxheSIsIl9sb2FkQXNzZXRzQW5kVGhlblN0YXJ0TG9naWMiLCJjb250YWlucyIsIl9sb2FkQXNzZXRzIiwiX3N0YXJ0R2FtZUxvZ2ljIiwicHJvbWlzZXMiLCJzcHJpdGVQYXRoS2V5Iiwic3ByaXRlUGF0aCIsInJlamVjdCIsImFsbCIsIkxPQURJTkdfTEVWRUwiLCJzdGFydFBvcyIsImhhbmRsZUtleURvd24iLCJoYW5kbGVLZXlVcCIsIndpbiIsIkNSRUFUT1JfTkFNRVMiLCJDTEFTU19BVFRFTkRJTkdfSU5GTyIsInN0b3BHYW1lIiwic2hvd0FsZXJ0IiwiaGFuZGxlZCIsInRvTG93ZXJDYXNlIiwiY3VycmVudEdhbWVJbnN0YW5jZSIsIk1lbnUiLCJjaGFyYWN0ZXJJbWFnZVNvdXJjZXMiLCJzZWxlY3RlZENoYXJhY3RlciIsInVzZXJJbnRlcmFjdGVkIiwib3ZlcmxheSIsImF1ZGlvTWFuYWdlckluc3RhbmNlIiwiaW5pdGlhbGl6ZUVsZW1lbnRzIiwiY2hhcmFjdGVyUGFuZWwiLCJjaGFyYWN0ZXJHcmlkIiwic2V0dXBDaGFyYWN0ZXJJbWFnZXMiLCJhZGRFdmVudExpc3RlbmVycyIsInNob3ciLCJzZXRBdWRpb01hbmFnZXIiLCJ2YWx1ZSIsIm1lbnVDb250YWluZXIiLCJzZXR0aW5nc0J1dHRvbiIsInBsYXlCdXR0b24iLCJjaGFyYWN0ZXJCdXR0b24iLCJzZXR0aW5nc1BhbmVsIiwic2Z4Vm9sdW1lIiwiY2xvc2VTZXR0aW5nc0J1dHRvbiIsImNsb3NlQ2hhcmFjdGVyUGFuZWxCdXR0b24iLCJkaXNwbGF5Q29udGFpbmVyIiwic2VsZWN0ZWRDaGFyYWN0ZXJEaXNwbGF5IiwiaW5zZXJ0QmVmb3JlIiwiY2hpbGRyZW4iLCJ1cGRhdGVTZWxlY3RlZENoYXJhY3RlckRpc3BsYXkiLCJPYmplY3QiLCJjaGFyYWN0ZXJDYXJkcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjYXJkIiwiY2hhcmFjdGVyS2V5IiwiaW1nRWxlbWVudCIsImFsdCIsImhhbmRsZUZpcnN0SW50ZXJhY3Rpb24iLCJhZGRJbnRlcmFjdGl2ZUxpc3RlbmVyIiwiZWxlbWVudCIsImV2ZW50VHlwZSIsImhhbmRsZXJGbiIsImV2ZW50IiwiY2FsbCIsInRvZ2dsZVNldHRpbmdzIiwic3RhcnRHYW1lIiwib3BlbkNoYXJhY3Rlck1vZGFsIiwiY2xvc2VTZXR0aW5ncyIsImNsb3NlQ2hhcmFjdGVyTW9kYWwiLCJuZXdWb2x1bWUiLCJjbGlja2VkQ2FyZCIsInNlbGVjdENoYXJhY3RlciIsIl9lbnN1cmVPdmVybGF5IiwiY2FyZEVsZW1lbnQiLCJjaGFyQXQiLCJpbWdTcmMiLCJkaXNwbGF5ZWROYW1lIiwic2VsZWN0ZWRDYXJkSDMiLCJvcGVuU2V0dGluZ3MiLCJoaWRlIiwiZ2FtZUNhbnZhcyJdLCJzb3VyY2VSb290IjoiIn0=