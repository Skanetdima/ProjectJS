(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var i=e.g.document;if(!t&&i&&(i.currentScript&&"SCRIPT"===i.currentScript.tagName.toUpperCase()&&(t=i.currentScript.src),!t)){var o=i.getElementsByTagName("script");if(o.length)for(var a=o.length-1;a>-1&&(!t||!/^http(s?):/.test(t));)t=o[a--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();class t{constructor(){this.keys={up:!1,down:!1,left:!1,right:!1}}setKey(e,t){this.keys.hasOwnProperty(e)&&(this.keys[e]=t)}getInputDirection(){let e=0,t=0;return this.keys.up&&(t-=1),this.keys.down&&(t+=1),this.keys.left&&(e-=1),this.keys.right&&(e+=1),{x:e,y:t}}}const i={LOADING:"LOADING",MENU:"MENU",PLAYING:"PLAYING",ASKING_QUESTION:"ASKING_QUESTION",SELECTING_FLOOR:"SELECTING_FLOOR",TRANSITIONING:"TRANSITIONING",GAME_OVER:"GAME_OVER"},o=[{question:"Który język programowania jest znany ze swojej wszechstronności i używany zarówno w backendzie (Node.js), jak i frontendzie?",options:["Python","Java","JavaScript","C#"],correctAnswer:2},{question:"Co oznacza skrót HTML?",options:["HyperText Markup Language","High Transfer Machine Language","Hyperlink and Text Management Language","Home Tool Markup Language"],correctAnswer:0},{question:"Która struktura danych działa na zasadzie LIFO (Last-In, First-Out)?",options:["Kolejka (Queue)","Stos (Stack)","Lista (List)","Drzewo (Tree)"],correctAnswer:1},{question:"Jak nazywa się proces znajdowania i naprawiania błędów w kodzie?",options:["Kompilacja","Testowanie","Debugowanie","Refaktoryzacja"],correctAnswer:2},{question:"Który paradygmat programowania opiera się na koncepcji 'obiektów', które mogą zawierać dane i kod?",options:["Programowanie funkcyjne","Programowanie proceduralne","Programowanie obiektowe","Programowanie logiczne"],correctAnswer:2},{question:"Co oznacza CSS?",options:["Cascading Style Sheets","Computer Style Syntax","Creative Styling System","Colorful Style Scripts"],correctAnswer:0},{question:"Który operator w JavaScript służy do ścisłego porównania (wartość i typ)?",options:["==","=","===","!="],correctAnswer:2},{question:"Jak nazywa się popularny system kontroli wersji używany przez programistów?",options:["Subversion (SVN)","Git","Mercurial","CVS"],correctAnswer:1},{question:"Który typ pętli w większości języków programowania jest najbardziej odpowiedni do iteracji po elementach tablicy, gdy nie znamy ich liczby?",options:["for","while","do...while","foreach (lub for...of)"],correctAnswer:3},{question:"Co to jest API?",options:["Advanced Programming Interface","Application Programming Interface","Automated Program Interaction","Algorithmic Processing Input"],correctAnswer:1},{question:"Co to jest PLC i do czego najczęściej służy w automatyce?",options:["Programowalny Logic Controller, do sterowania procesami przemysłowymi","Personal Learning Computer, do nauki programowania","Power Line Communication, do przesyłu danych przez sieć elektryczną","Project Lifecycle Cost, do zarządzania kosztami projektu"],correctAnswer:0},{question:"Za co odpowiada przysłona (apertura) w aparacie fotograficznym?",options:["Kontrolę czasu naświetlania","Regulację głębi ostrości i ilości wpadającego światła","Ustawienie balansu bieli","Stabilizację obrazu"],correctAnswer:1},{question:"Który element komputera jest odpowiedzialny za tymczasowe przechowywanie danych używanych przez procesor?",options:["Dysk twardy (HDD/SSD)","Karta graficzna (GPU)","Pamięć RAM","Płyta główna"],correctAnswer:2},{question:"W jakim języku programowania najczęściej pisane są skrypty po stronie serwera (backend)?",options:["HTML","CSS","SQL","PHP, Python lub Node.js (JavaScript)"],correctAnswer:3},{question:"Jaki typ sygnału charakteryzuje się płynną zmianą wartości w czasie, w przeciwieństwie do sygnału cyfrowego?",options:["Binarny","Analogowy","Zero-jedynkowy","Impulsowy"],correctAnswer:1},{question:"Który parametr ustawia czułość matrycy aparatu na światło i wpływa na poziom szumów na zdjęciu?",options:["Czas naświetlania","Przysłona","ISO","Ogniskowa"],correctAnswer:2},{question:"Co to jest adres IP w sieci komputerowej?",options:["Unikalny identyfikator urządzenia w sieci","Nazwa użytkownika do logowania","Adres strony internetowej","Typ kabla sieciowego"],correctAnswer:0},{question:"Czym różni się instrukcja warunkowa `if` od pętli `while` w programowaniu?",options:["`if` powtarza blok kodu, `while` sprawdza warunek jednokrotnie","`if` sprawdza warunek jednokrotnie, `while` powtarza blok kodu dopóki warunek jest prawdziwy","Nie ma między nimi różnicy","`if` służy tylko do deklarowania zmiennych, `while` do operacji matematycznych"],correctAnswer:1},{question:"Do czego najczęściej służy czujnik ciśnienia w systemie automatyki?",options:["Pomiaru temperatury","Pomiaru odległości","Pomiaru siły","Pomiaru ciśnienia"],correctAnswer:3},{question:"Co oznacza zasada trójpodziału w kompozycji fotograficznej?",options:["Dzielenie obrazu na 3 równe części pionowo i poziomo i umieszczanie kluczowych elementów na liniach lub ich przecięciach","Używanie tylko 3 głównych kolorów w kadrze","Robienie zawsze 3 zdjęć tej samej sceny","Balansowanie 3 głównych obiektów w kadrze"],correctAnswer:0},{question:"Jaka jest podstawowa rola systemu operacyjnego?",options:["Tworzenie grafiki komputerowej","Zarządzanie zasobami sprzętowymi i programowymi komputera","Pisanie kodu programów","Przeglądanie Internetu"],correctAnswer:1},{question:"Jakiego typu danych najczęściej użyjesz do przechowywania wieku osoby (liczba całkowita)?",options:["String (ciąg znaków)","Boolean (wartość logiczna)","Float (liczba zmiennoprzecinkowa)","Integer (liczba całkowita)"],correctAnswer:3},{question:"Element wykonawczy (aktuator) w systemie automatyki to urządzenie, które...",options:["Odczytuje dane z czujników","Wykonuje komendy ze sterownika, aby wykonać fizyczne działanie (np. ruch)","Przechowuje dane historyczne","Służy do komunikacji z operatorem"],correctAnswer:1},{question:"Który format pliku graficznego jest bezstratny i często używany w profesjonalnej edycji, zachowując maksymalną jakość kosztem rozmiaru?",options:["JPEG","GIF","PNG","RAW"],correctAnswer:3},{question:"Co chroni sieć komputerową przed nieautoryzowanym dostępem z zewnątrz?",options:["Router","Switch","Modem","Firewall (zapora sieciowa)"],correctAnswer:3},{question:"Co to jest IDE (Integrated Development Environment) w kontekście programowania?",options:["System operacyjny","Narzędzie do zarządzania bazą danych","Zintegrowane środowisko programistyczne (edytor kodu, kompilator, debugger w jednym)","Protokół sieciowy"],correctAnswer:2},{question:"Przykładem czujnika zbliżeniowego, wykrywającego obecność obiektu bez fizycznego kontaktu, może być:",options:["Termometr","Fotokomórka","Manometr (czujnik ciśnienia)","Akcelerometr"],correctAnswer:1},{question:"Do czego służy balans bieli (white balance) w aparacie fotograficznym?",options:["Do regulacji ostrości","Do korekcji kolorów, aby biały wyglądał na biały niezależnie od źródła światła","Do ustawiania czasu naświetlania","Do dodawania efektów specjalnych"],correctAnswer:1},{question:"Który protokół jest używany do bezpiecznego (szyfrowanego) przesyłania stron internetowych?",options:["HTTP","FTP","SMTP","HTTPS"],correctAnswer:3},{question:"Co to jest zmienna w programowaniu?",options:["Funkcja wykonująca określone zadanie","Typ pętli","Nazwane miejsce w pamięci komputera służące do przechowywania danych","Polecenie wyświetlające tekst na ekranie"],correctAnswer:2}];class a{static scoreElement=null;static targetElement=null;static controlsContainer=null;static questionOverlay=null;static questionTextElement=null;static answerButtonsContainer=null;static floorSelectionPanel=null;static floorButtonsContainer=null;static flashMessageContainer=null;static loadingOverlayElement=null;static gameOverScreenElement=null;static gameOverTitleElement=null;static creatorNamesListElement=null;static classInfoElement=null;static returnToMenuButtonElement=null;static leaderboardBody=null;static gameplayManagerInstance=null;static flashMessageTimeouts={};static timerElement=null;static gameStartTime=0;static timerIntervalId=null;static leaderboardData=[];static setGameplayManager(e){e?(this.gameplayManagerInstance=e,console.log("[UIManager] GameplayManager instance registered.")):console.error("[UIManager] Attempted to set GameplayManager to null/undefined!")}static initializeUI(e){console.log("[UIManager] Initializing in-game UI elements..."),e||console.warn("[UIManager] InputManager not provided. On-screen controls may not function."),this.createControls(e),this.createQuestionUI(),this.createFloorSelectionUI(),this.ensureFlashMessageContainer(),this.getLoadingOverlay(),this.createGameOverScreen(),this.initializeTimer(),this.gameplayManagerInstance||console.warn("[UIManager] WARNING: GameplayManager not set by end of initializeUI. Interactive UI may fail."),console.log("[UIManager] In-game UI initialization complete.")}static createControls(e){this.controlsContainer=document.getElementById("controls-container"),this.controlsContainer||(this.controlsContainer=document.createElement("div"),this.controlsContainer.id="controls-container",this.controlsContainer.classList.add("controls-container"),document.body.appendChild(this.controlsContainer)),this.controlsContainer.innerHTML="",[{direction:"up",icon:"↑",gridArea:"up"},{direction:"left",icon:"←",gridArea:"left"},{direction:"right",icon:"→",gridArea:"right"},{direction:"down",icon:"↓",gridArea:"down"}].forEach((({direction:t,icon:i,gridArea:o})=>{const a=document.createElement("button");if(a.className=`control-btn ${t}`,a.textContent=i,a.style.gridArea=o,a.dataset.direction=t,e){const i=i=>{e.setKey(t,!0),a.classList.add("active"),i.preventDefault()},o=i=>{e.keys[t]&&e.setKey(t,!1),a.classList.remove("active"),i.preventDefault()};a.addEventListener("touchstart",i,{passive:!1}),a.addEventListener("touchend",o,{passive:!1}),a.addEventListener("touchcancel",o,{passive:!1}),a.addEventListener("mousedown",i),a.addEventListener("mouseup",o),a.addEventListener("mouseleave",o)}this.controlsContainer.appendChild(a)}));const t=document.getElementById("score-display");if(t)this.scoreElement=t.querySelector("#score-value"),this.targetElement=t.querySelector("#score-target");else{const e=document.createElement("div");e.id="score-display",e.classList.add("score-display"),e.innerHTML='Books: <span id="score-value">0</span> / <span id="score-target">?</span>',document.body.appendChild(e),this.scoreElement=e.querySelector("#score-value"),this.targetElement=e.querySelector("#score-target")}this.scoreElement&&(this.scoreElement.textContent="0"),this.targetElement&&(this.targetElement.textContent="?")}static createQuestionUI(){this.questionOverlay=document.getElementById("question-overlay"),this.questionOverlay||(this.questionOverlay=document.createElement("div"),this.questionOverlay.id="question-overlay",this.questionOverlay.classList.add("ui-panel"),this.questionOverlay.innerHTML='<div id="blackboard-content"><h2>Question</h2><div id="question-box"><p id="question-text"></p><div id="answer-buttons"></div></div></div>',document.body.appendChild(this.questionOverlay)),this.questionTextElement=this.questionOverlay.querySelector("#question-text"),this.answerButtonsContainer=this.questionOverlay.querySelector("#answer-buttons"),this.questionTextElement&&this.answerButtonsContainer||console.error("[UIManager] Failed to find/create question UI children.")}static createFloorSelectionUI(){this.floorSelectionPanel=document.getElementById("floor-selection-ui"),this.floorSelectionPanel||(this.floorSelectionPanel=document.createElement("div"),this.floorSelectionPanel.id="floor-selection-ui",this.floorSelectionPanel.classList.add("ui-panel"),this.floorSelectionPanel.innerHTML='<h2>Select Floor</h2><div id="floor-buttons-container"></div>',document.body.appendChild(this.floorSelectionPanel)),this.floorButtonsContainer=this.floorSelectionPanel.querySelector("#floor-buttons-container"),this.floorButtonsContainer||console.error("[UIManager] Failed to find/create floor buttons container.")}static ensureFlashMessageContainer(){return this.flashMessageContainer=document.getElementById("flash-message-container"),this.flashMessageContainer||(this.flashMessageContainer=document.createElement("div"),this.flashMessageContainer.id="flash-message-container",document.body.appendChild(this.flashMessageContainer)),this.flashMessageContainer}static flashMessage(e,t="info",i=3e3){const o=this.ensureFlashMessageContainer();if(!o)return void console.error("[UIManager] Flash msg container not found.");const a=document.createElement("div");a.textContent=e,a.className="flash-message",a.classList.add(`flash-${t}`);const s=`flash-${Date.now()}-${Math.random().toString(36).substr(2,5)}`;a.id=s,o.appendChild(a),requestAnimationFrame((()=>a.classList.add("visible"))),clearTimeout(this.flashMessageTimeouts[s]),this.flashMessageTimeouts[s]=setTimeout((()=>{a.classList.remove("visible");const e=e=>{"opacity"!==e.propertyName&&"transform"!==e.propertyName||(a.parentNode&&a.parentNode.removeChild(a),delete this.flashMessageTimeouts[s])};a.addEventListener("transitionend",e,{once:!0}),setTimeout((()=>{a.parentNode&&(a.removeEventListener("transitionend",e),a.parentNode.removeChild(a)),delete this.flashMessageTimeouts[s]}),500)}),i)}static getLoadingOverlay(){if(!this.loadingOverlayElement&&(this.loadingOverlayElement=document.getElementById("loading-overlay"),!this.loadingOverlayElement)){this.loadingOverlayElement=document.createElement("div"),this.loadingOverlayElement.id="loading-overlay",this.loadingOverlayElement.className="loading-overlay";const e=document.createElement("p");e.textContent="Loading...",this.loadingOverlayElement.appendChild(e),document.body.appendChild(this.loadingOverlayElement),console.log("[UIManager] Loading overlay created.")}return this.loadingOverlayElement}static createGameOverScreen(){this.gameOverScreenElement=document.getElementById("game-over-screen"),this.gameOverScreenElement?(this.gameOverTitleElement=this.gameOverScreenElement.querySelector("#game-over-title"),this.creatorNamesListElement=this.gameOverScreenElement.querySelector("#creator-names"),this.classInfoElement=this.gameOverScreenElement.querySelector("#class-info"),this.returnToMenuButtonElement=this.gameOverScreenElement.querySelector("#return-to-menu-button"),this.leaderboardBody=this.gameOverScreenElement.querySelector("#leaderboard-body"),this.gameOverTitleElement&&this.creatorNamesListElement&&this.classInfoElement&&this.returnToMenuButtonElement&&this.leaderboardBody?(this.returnToMenuButtonElement.addEventListener("click",(()=>window.location.reload())),console.log("[UIManager] Game Over screen elements initialized.")):console.error("[UIManager] Failed to find Game Over screen children or leaderboard body.")):console.error("[UIManager] CRIT: #game-over-screen not in HTML!")}static showGameOverScreen(e,t=[],i=""){this.gameOverScreenElement||(console.error("[UIManager] Game Over Screen not init, creating."),this.createGameOverScreen(),this.gameOverScreenElement)?(this.gameOverTitleElement&&(this.gameOverTitleElement.textContent=e?"Congratulations! You Escaped!":"Game Over",this.gameOverTitleElement.className=e?"win-title":"lose-title"),this.creatorNamesListElement&&(this.creatorNamesListElement.innerHTML="",t.forEach((e=>{const t=document.createElement("li");t.textContent=e,this.creatorNamesListElement.appendChild(t)}))),this.classInfoElement&&(this.classInfoElement.textContent=i),this.updateLeaderboard(),this.gameOverScreenElement.classList.add("visible"),this.hideGameUI(),this.hideQuestion(),this.hideFloorSelectionUI()):console.error("[UIManager] Still unable to show Game Over screen.")}static hideGameOverScreen(){this.gameOverScreenElement&&this.gameOverScreenElement.classList.remove("visible")}static showQuestion(e){if(this.questionOverlay&&this.questionTextElement&&this.answerButtonsContainer||(console.error("[UIManager] Question UI not ready, creating."),this.createQuestionUI(),this.questionOverlay&&this.questionTextElement&&this.answerButtonsContainer))if(e){if(!this.gameplayManagerInstance?.handleAnswer)return console.error("[UIManager] CRIT: GameplayManager/handleAnswer not set/invalid!"),this.flashMessage("Error: Game interaction (Q) failed.","error",5e3),void this.hideQuestion();this.questionTextElement.textContent=e.question,this.answerButtonsContainer.innerHTML="",e.options.forEach(((e,t)=>{const i=document.createElement("button");i.textContent=e,i.dataset.index=t.toString(),i.classList.add("answer-button"),i.addEventListener("click",(e=>this.gameplayManagerInstance.handleAnswer(parseInt(e.target.dataset.index,10)))),this.answerButtonsContainer.appendChild(i)})),this.questionOverlay.classList.add("visible")}else console.error("[UIManager] No questionData to show.")}static hideQuestion(){this.questionOverlay&&(this.questionOverlay.classList.remove("visible"),this.questionTextElement&&(this.questionTextElement.textContent=""),this.answerButtonsContainer&&(this.answerButtonsContainer.innerHTML=""))}static showFloorSelectionUI(e,t,i){if(this.floorSelectionPanel&&this.floorButtonsContainer||(console.error("[UIManager] Floor selection UI not ready, creating."),this.createFloorSelectionUI(),this.floorSelectionPanel&&this.floorButtonsContainer)){if(!this.gameplayManagerInstance?.handleFloorSelection)return console.error("[UIManager] CRIT: GameplayManager/handleFloorSelection not set/invalid!"),this.flashMessage("Error: Game interaction (F) failed.","error",5e3),void this.hideFloorSelectionUI();this.floorButtonsContainer.innerHTML="";for(let o=e;o<=t;o++){const e=document.createElement("button");e.textContent=`Floor ${o}`,e.classList.add("floor-button"),e.dataset.floor=o.toString(),o===i?(e.disabled=!0,e.classList.add("current")):e.addEventListener("click",(()=>this.gameplayManagerInstance.handleFloorSelection(o))),this.floorButtonsContainer.appendChild(e)}this.floorSelectionPanel.classList.add("visible")}}static hideFloorSelectionUI(){this.floorSelectionPanel&&this.floorSelectionPanel.classList.remove("visible")}static updateScore(e,t){this.scoreElement||(this.scoreElement=document.getElementById("score-value")),this.targetElement||(this.targetElement=document.getElementById("score-target")),this.scoreElement&&(this.scoreElement.textContent=e.toString()),this.targetElement&&(this.targetElement.textContent=t.toString())}static showGameUI(){console.log("[UIManager] Showing Game UI...");const e=document.getElementById("game-canvas"),t=document.getElementById("score-display");e?e.style.display="block":console.warn("[UIManager] #game-canvas not found."),this.controlsContainer?this.controlsContainer.classList.add("visible"):console.warn("[UIManager] Controls container not found."),t?(t.style.display="flex",t.classList.add("visible")):console.warn("[UIManager] Score display not found."),this.timerElement&&(this.timerElement.style.display="block"),this.hideQuestion(),this.hideFloorSelectionUI(),this.hideGameOverScreen()}static hideGameUI(){console.log("[UIManager] Hiding Game UI...");const e=document.getElementById("game-canvas"),t=document.getElementById("score-display");e&&(e.style.display="none"),this.controlsContainer&&this.controlsContainer.classList.remove("visible"),t&&(t.style.display="none",t.classList.remove("visible")),this.timerElement&&(this.timerElement.style.display="none")}static initializeTimer(){this.timerElement||(this.timerElement=document.getElementById("game-timer"),this.timerElement)||(this.timerElement=document.createElement("div"),this.timerElement.id="game-timer",this.timerElement.classList.add("game-timer"),(document.getElementById("game-container")||document.body).appendChild(this.timerElement),console.log("[UIManager] Timer element dynamically created.")),this.timerElement.textContent="Time: 0:00",this.timerElement.style.display="none";const e=localStorage.getItem("gameLeaderboard");try{this.leaderboardData=e?JSON.parse(e):[]}catch(e){console.error("[UIManager] Error parsing leaderboard from localStorage:",e),this.leaderboardData=[],localStorage.removeItem("gameLeaderboard")}console.log("[UIManager] Timer and leaderboard data initialized.")}static startTimer(){this.timerIntervalId&&(cancelAnimationFrame(this.timerIntervalId),this.timerIntervalId=null);const e=this.gameplayManagerInstance?.game;e&&e.gameState===i.PLAYING?(this.gameStartTime=Date.now(),console.log(`[UIManager] Game timer starting. Start time: ${this.gameStartTime}. State: ${e.gameState}`),this.updateTimer()):console.warn(`[UIManager] Timer start denied. Game: ${!!e}, State: ${e?.gameState}. Expected PLAYING.`)}static updateTimer(){const e=this.gameplayManagerInstance?.game;if(!this.gameStartTime||!e||e.gameState!==i.PLAYING&&e.gameState!==i.ASKING_QUESTION&&e.gameState!==i.SELECTING_FLOOR&&e.gameState!==i.TRANSITIONING)return void(this.timerIntervalId&&(cancelAnimationFrame(this.timerIntervalId),this.timerIntervalId=null));const t=Math.floor((Date.now()-this.gameStartTime)/1e3),o=Math.floor(t/60),a=t%60;this.timerElement&&(this.timerElement.textContent=`Time: ${o}:${a.toString().padStart(2,"0")}`),this.timerIntervalId=requestAnimationFrame((()=>this.updateTimer()))}static stopTimer(e){if(!this.gameStartTime)return;this.timerIntervalId&&(cancelAnimationFrame(this.timerIntervalId),this.timerIntervalId=null);const t=(Date.now()-this.gameStartTime)/1e3;if(console.log(`[UIManager] Timer stopped. Time: ${t.toFixed(3)}s. Win: ${e}`),e){this.leaderboardData.push({name:`Run ${this.leaderboardData.length+1}`,time:t,date:(new Date).toLocaleDateString()}),this.leaderboardData.sort(((e,t)=>e.time-t.time));try{localStorage.setItem("gameLeaderboard",JSON.stringify(this.leaderboardData.slice(0,10)))}catch(e){console.error("[UIManager] Failed to save leaderboard:",e)}}this.gameStartTime=0}static updateLeaderboard(){if(!this.leaderboardBody){const e=document.getElementById("game-over-screen");if(e&&(this.leaderboardBody=e.querySelector("#leaderboard-body")),!this.leaderboardBody)return}this.leaderboardBody.innerHTML="";const e=this.leaderboardData.slice(0,10);if(0===e.length){const e=this.leaderboardBody.insertRow().insertCell();e.colSpan=3,e.textContent="No records yet.",e.style.textAlign="center"}else e.forEach((e=>{const t=Math.floor(e.time/60),i=Math.floor(e.time%60),o=Math.floor(1e3*e.time%1e3),a=this.leaderboardBody.insertRow();a.insertCell().textContent=e.name,a.insertCell().textContent=`${t}:${i.toString().padStart(2,"0")}.${o.toString().padStart(3,"0")}`,a.insertCell().textContent=e.date}))}}class s{static Direction={DOWN:0,RIGHT:1,UP:2,LEFT:3};constructor(e,t,i={}){this.ctx=e,this.sprite=new Image,this.frameSize=i.frameSize||32,this.frameCount=i.frameCount||4,this.scale=i.scale||2,this.renderSize=this.frameSize*this.scale,this.speed=i.speed||3,this.animationSpeed=i.animationSpeed||150,this.collisionBoxWidthRatio=i.collisionBoxWidthRatio||.4,this.collisionBoxHeightRatio=i.collisionBoxHeightRatio||.2,this.collisionBoxFeetOffsetRatio=i.collisionBoxFeetOffsetRatio||.4,this.x=0,this.y=0,this.currentDirection=s.Direction.DOWN,this.currentFrame=0,this.isMoving=!1,this.lastFrameTime=0,this.sprite.onload=()=>{console.log(`[Character] Sprite loaded successfully: ${t}`)},this.sprite.onerror=()=>{console.error(`[Character] Failed to load sprite: ${t}`)},this.sprite.src=t}updateAnimation(e){if(!this.isMoving)return this.currentFrame=0,void(this.lastFrameTime=e);this.lastFrameTime||(this.lastFrameTime=e),e-this.lastFrameTime>this.animationSpeed&&(this.currentFrame=(this.currentFrame+1)%this.frameCount,this.lastFrameTime=e)}getCollisionBox(e,t){const i=this.renderSize*this.collisionBoxWidthRatio,o=this.renderSize*this.collisionBoxHeightRatio,a=i/2,s=this.renderSize*this.collisionBoxFeetOffsetRatio;return{top:t+s-o/2,bottom:t+s+o/2,left:e-a,right:e+a,width:i,height:o}}draw(e,t){if(!this.sprite.complete||0===this.sprite.naturalHeight)return;const i=this.currentFrame*this.frameSize,o=this.currentDirection*this.frameSize,a=Math.floor(this.x-this.renderSize/2+e),s=Math.floor(this.y-this.renderSize/2+t);try{this.ctx.drawImage(this.sprite,i,o,this.frameSize,this.frameSize,a,s,this.renderSize,this.renderSize)}catch(e){console.error("[Character] Error drawing sprite:",e)}}}class n{constructor(e,t,i,o){this.x=e,this.y=t,this.id=i,this.tileSize=o,this.size=.6*o,this.collected=!1,this.isCollected=!1}draw(e,t,i,o){const a=Math.floor(this.x+t-this.size/2),s=Math.floor(this.y+i-this.size/2);o?e.drawImage(o,a,s,this.size,this.size):(e.fillStyle="#8d6e63",e.fillRect(a,s,this.size,this.size),e.strokeStyle="#5d4037",e.strokeRect(a,s,this.size,this.size),e.fillStyle="#eee",e.font=.6*this.size+"px Arial",e.textAlign="center",e.textBaseline="middle",e.fillText("?",a+this.size/2,s+this.size/2+2))}}function r(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}function l(e){let t=3735928559^e;return t=Math.imul(t^t>>>16,2246822507),t=Math.imul(t^t>>>13,3266489909),(t^=t>>>16)>>>0}function c(e,t){if(!e||"string"!=typeof e||e.length<7)return e;let i=parseInt(e.slice(1,3),16),o=parseInt(e.slice(3,5),16),a=parseInt(e.slice(5,7),16);return i=Math.min(255,Math.max(0,Math.round(i*t))),o=Math.min(255,Math.max(0,Math.round(o*t))),a=Math.min(255,Math.max(0,Math.round(a*t))),`#${i.toString(16).padStart(2,"0")}${o.toString(16).padStart(2,"0")}${a.toString(16).padStart(2,"0")}`}class h{constructor(e){this.tileSize=e,this.tileColors={},this.baseWallColor="#1c1e22",this.baseCorridorColor="#a0a0a0",this.baseRoomFloorColor="#c0c0c0",this.liftColor="#707080",this.errorColor="#ff00ff"}resetColorCache(){this.tileColors={}}getTileColor(e,t,i,o){const a=`${e},${t}`;if(this.tileColors[a])return this.tileColors[a];let s;switch(i){case 0:s=this.baseWallColor;break;case 1:s=this.baseCorridorColor;break;case 2:s=this.baseRoomFloorColor;break;case 3:s=this.liftColor;break;default:s=this.errorColor}return this.tileColors[a]=s,s}draw(e,t,i=null){const{map:o,rooms:a,books:s,liftPosition:n,offsetX:r,offsetY:l,cols:c,rows:h}=t,d=Math.floor(r),m=Math.floor(l),u=Math.max(0,Math.floor(-d/this.tileSize)-1),g=Math.min(c,Math.ceil((-d+e.canvas.width)/this.tileSize)+1),f=Math.max(0,Math.floor(-m/this.tileSize)-1),p=Math.min(h,Math.ceil((-m+e.canvas.height)/this.tileSize)+1);e.save(),this.drawBaseTiles(e,o,a,d,m,c,h,f,p,u,g),this.drawRoomDetails(e,o,a,n,d,m,c,h,f,p,u,g),this.drawLiftDetails(e,n,d,m),this.drawBooks(e,s,d,m,i),e.restore()}drawBaseTiles(e,t,i,o,a,s,n,r,l,c,h){e.save(),e.shadowColor="transparent";const d="#383838",m="#606060",u="#757575";for(let g=r;g<l;g++)for(let r=c;r<h;r++){const l=t[g]?.[r];if(void 0===l)continue;const c=Math.floor(r*this.tileSize+o),h=Math.floor(g*this.tileSize+a),f=this.getTileColor(g,r,l,i);if(e.fillStyle=f,e.fillRect(c,h,this.tileSize,this.tileSize),0===l){e.fillStyle="rgba(0,0,0,0.06)";for(let t=0;t<5;t++)e.fillRect(c+Math.random()*this.tileSize,h+Math.random()*this.tileSize,1,1);const i=2;g>0&&0!==t[g-1]?.[r]&&(e.fillStyle=u,e.fillRect(c,h,this.tileSize,i)),g<n-1&&0!==t[g+1]?.[r]&&(e.fillStyle=d,e.fillRect(c,h+this.tileSize-i,this.tileSize,i)),r>0&&0!==t[g]?.[r-1]&&(e.fillStyle=m,e.fillRect(c,h+i,i,this.tileSize-i)),r<s-1&&0!==t[g]?.[r+1]&&(e.fillStyle=d,e.fillRect(c+this.tileSize-i,h+i,i,this.tileSize-i)),g>0&&r>0&&0!==t[g-1]?.[r]&&0!==t[g]?.[r-1]&&0!==t[g-1]?.[r-1]&&(e.fillStyle=m,e.fillRect(c,h,i,i)),g>0&&r<s-1&&0!==t[g-1]?.[r]&&0!==t[g]?.[r+1]&&0!==t[g-1]?.[r+1]&&(e.fillStyle=u,e.fillRect(c+this.tileSize-i,h,i,i))}else if(1===l){e.fillStyle="rgba(255,255,255,0.03)";for(let t=0;t<3;t++)e.fillRect(c+Math.random()*this.tileSize,h+Math.random()*this.tileSize,1,1)}}e.restore()}drawRoomDetails(e,t,i,o,a,s,n,r,h,d,m,u){e.save(),e.shadowColor="transparent";for(const o of i){if(o.col+o.width<m||o.col>u||o.row+o.height<h||o.row>d)continue;const i=Math.floor(o.col*this.tileSize+a),n=Math.floor(o.row*this.tileSize+s),r=o.width*this.tileSize,g=o.height*this.tileSize;let f=this.baseRoomFloorColor;const p="number"==typeof this.floorNumber?this.floorNumber:0;let y=l(o.id)+100*p;switch(o.type){case"classroom":f=c("#a0c8e0",.9+l(y)%11/100);break;case"office":f=c("#f0e8c0",.9+l(y+1)%11/100);break;case"library":f=c("#d8c0a8",.9+l(y+2)%11/100);break;case"gym":f=c("#b0d0b0",.9+l(y+3)%11/100);break;case"lab":f=c("#e0e0ff",.9+l(y+4)%11/100);break;case"storage":f=c("#b0a090",.9+l(y+5)%11/100);break;case"utility":f=c("#b0b0b0",.9+l(y+6)%11/100)}for(let i=Math.max(o.row,h);i<Math.min(o.row+o.height,d);i++)for(let n=Math.max(o.col,m);n<Math.min(o.col+o.width,u);n++){const r=t[i]?.[n];if(2===r){const t=Math.floor(n*this.tileSize+a),r=Math.floor(i*this.tileSize+s),h=.98+(l(5e3*i+3*n+y)%11-5)/100;e.fillStyle=c(f,h),e.fillRect(t,r,this.tileSize,this.tileSize),"lab"===o.type&&(e.strokeStyle="rgba(0,0,0,0.08)",e.lineWidth=1,e.strokeRect(t+.5,r+.5,this.tileSize-1,this.tileSize-1))}}this.drawRoomDecorations(e,o,i,n,r,g)}e.restore()}drawLiftDetails(e,t,i,o){if(!t)return;const a=Math.floor(t.tileX*this.tileSize+i),s=Math.floor(t.tileY*this.tileSize+o);if(a+this.tileSize<0||a>e.canvas.width||s+this.tileSize<0||s>e.canvas.height)return;e.save(),e.shadowColor="transparent",e.strokeStyle="#d0d0d0",e.lineWidth=1,e.strokeRect(a+.5,s+.5,this.tileSize-1,this.tileSize-1),e.strokeStyle="#404040",e.strokeRect(a+1.5,s+1.5,this.tileSize-3,this.tileSize-3);const n=.15*this.tileSize,r=a+.8*this.tileSize,l=s+.5*this.tileSize;e.fillStyle="#444",e.beginPath(),e.arc(r,l,n,0,2*Math.PI),e.fill(),e.fillStyle="#ff4444",e.beginPath(),e.arc(r,l,.8*n,0,2*Math.PI),e.fill(),e.fillStyle="rgba(255, 255, 255, 0.5)",e.beginPath(),e.arc(r-.2*n,l-.2*n,.3*n,0,2*Math.PI),e.fill(),e.restore()}drawRoomDecorations(e,t,i,o,a,s){const n=this.tileSize,r=.2*n,l=.1*n;e.lineWidth=1,e.strokeStyle="#444";const c=(t,a,s,n,r,l=!0)=>{e.fillStyle=r;const c=Math.floor(i+t),h=Math.floor(o+a),d=Math.floor(s),m=Math.floor(n);e.fillRect(c,h,d,m),l&&e.strokeRect(c+.5,h+.5,d-1,m-1)},h=(t,a,s,n,r=!0)=>{e.fillStyle=n;const l=Math.floor(i+t),c=Math.floor(o+a);e.beginPath(),e.arc(l,c,Math.floor(s),0,2*Math.PI),e.fill(),r&&e.stroke()};switch(t.type){case"classroom":e.strokeStyle="#5d4037";const t=.6*n,d=.4*n,m=.25*n,u=1*n,g=.9*n;c(.25*a,r,.5*a,.2*n,"#333",!0),c(.25*a+2,r+2,.5*a-4,.2*n-4,"#4CAF50",!1);for(let e=0;;e++){const i=r+.5*n+e*g;if(i+d+m>s-r)break;for(let e=0;;e++){const o=r+e*u;if(o+t>a-r)break;c(o,i,t,d,"#8B4513"),c(o+.1*t,i+d+l,.8*t,m,"#6a4a3a")}}break;case"office":e.strokeStyle="#5d4037";const f=Math.min(.6*a,2.5*n),p=Math.min(.4*s,1.2*n);c(r,r,f,p,"#a0522d"),c(r+f+l,r+.1*p,.6*n,.6*n,"#444");const y=.8*n;c(a-r-y,r,y,s-2*r,"#6B4F41"),c(r+l,r+l,.5*n,.4*n,"#333"),c(r+l+.1*n,r+l+.4*n+2,.3*n,.1*n,"#555");break;case"library":e.strokeStyle="#402a10";const w=.6*n,S=1.5*n;for(let t=r;t<a-r-w;t+=S){c(t,r,w,s-2*r,"#654321"),e.strokeStyle="rgba(0,0,0,0.3)";for(let a=r+.5*n;a<s-r;a+=.7*n)e.beginPath(),e.moveTo(i+t,o+a),e.lineTo(i+t+w,o+a),e.stroke();e.strokeStyle="#402a10"}if(a>1.5*S){const e=w+r+(a-2*w-2*r-1.5*n)/2;e>w+r&&(c(e,.3*s,1.5*n,.4*s,"#966F33"),c(e+.2*n,.3*s-.3*n,.5*n,.25*n,"#6a4a3a"),c(e+.2*n,.3*s+.4*s+l,.5*n,.25*n,"#6a4a3a"))}break;case"gym":e.strokeStyle="#555",c(r,r,.4*a,.3*s,"#778899"),c(a-r-.3*a,s-r-.4*s,.3*a,.4*s,"#778899"),c(.6*a,r,.8*n,1.8*n,"#333"),c(.6*a+.1*n,r+.1*n,.6*n,1.6*n,"#555",!1),c(r,.5*s,1.5*n,.4*n,"#8B4513"),c(a-r-.5*n,r,.5*n,1.5*n,"#444"),h(a-r-.25*n,r+.3*n,.15*n,"#666"),h(a-r-.25*n,r+.7*n,.15*n,"#666"),h(a-r-.25*n,r+1.1*n,.15*n,"#666");break;case"lab":e.strokeStyle="#668";const M=.8*n;c(r,r,a-2*r,M,"#d0d0d8"),c(r,s-r-M,a-2*r,M,"#d0d0d8"),c(r+.2*n,r+.1*n,.5*n,.5*n,"#4a90e2"),c(r+1*n,r+.1*n,.3*n,.6*n,"#f5a623"),h(a-2*r-.4*n,r+.5*M,.2*n,"#e04040",!0),c(.4*a,r+M+l,n,s-2*r-2*M-2*l,"#a0a0b0");break;case"storage":e.strokeStyle="#4d4030";const v=a-2*r,b=.5*n;c(r,r,v,b,"#9e9e9e"),c(r,s-r-b,v,b,"#9e9e9e");const C=.6*n;c(r+.2*n,r+b+l,C,C,"#bf8f6f"),c(r+1*n,r+b+l,C,C,"#bf8f6f"),c(a-r-1.5*C,r+b+3*l,1.2*C,.8*C,"#bf8f6f"),c(a-r-n,s-r-n,.8*n,.8*n,"#6a4a3a");break;default:e.strokeStyle="#5d4037",c(.1*a,.15*s,.3*a,.25*s,"#A0522D"),c(.6*a,.5*s,.3*a,.4*s,"#A0522D"),c(a-r-.5*n,r,.5*n,s-2*r,"#777"),e.strokeStyle="#555",e.lineWidth=3,e.beginPath(),e.moveTo(i+r,o+.8*s),e.lineTo(i+a-r,o+.8*s),e.stroke(),e.beginPath(),e.moveTo(i+.7*a,o+r),e.lineTo(i+.7*a,o+s-r),e.stroke(),e.lineWidth=1}}drawBooks(e,t,i,o,a){if(!t||0===t.length)return;const s=.6*this.tileSize;for(const n of t)if(!n.isCollected&&!n.collected){const t=n.size||s,r=Math.floor(n.x+i-t/2),l=Math.floor(n.y+o-t/2);r+t>0&&r<e.canvas.width&&l+t>0&&l<e.canvas.height&&("function"==typeof n.draw?n.draw(e,i,o,a):a?e.drawImage(a,r,l,t,t):(e.fillStyle="#8d6e63",e.fillRect(r,l,t,t),e.strokeStyle="#5d4037",e.lineWidth=1,e.strokeRect(r+.5,l+.5,t-1,t-1)))}}}let d=null;const m={minRoomSize:5,maxRoomSize:10,corridorThickness:1,numRooms:12,maxRoomAttempts:200,roomTypeWeights:{classroom:50,office:25,library:15,gym:0,utility:10,lab:10,storage:5}};function u(e,t,i,o,a){const{centerTileX:s,centerTileY:n}=t,{centerTileX:r,centerTileY:l}=i;Math.random()<.5?(g(e,n,s,r,o,a),f(e,r,n,l,o,a)):(f(e,s,n,l,o,a),g(e,l,s,r,o,a))}function g(e,t,i,o,a,s){if(t<0||t>=s)return;const n=Math.max(0,Math.min(i,o)),r=Math.min(a-1,Math.max(i,o));for(let i=n;i<=r;i++)0===e[t]?.[i]&&(e[t][i]=1)}function f(e,t,i,o,a,s){if(t<0||t>=a)return;const n=Math.max(0,Math.min(i,o)),r=Math.min(s-1,Math.max(i,o));for(let i=n;i<=r;i++)0===e[i]?.[t]&&(e[i][t]=1)}function p(e,t,i,o,a){const s=(e,t)=>{if(e<0||e>=o||t<0||t>=a)return!1;const s=i[t]?.[e];return 1===s||2===s||3===s};let n=0;const r=[{dx:0,dy:-1},{dx:0,dy:1},{dx:-1,dy:0},{dx:1,dy:0}];let l=[!1,!1,!1,!1];for(let i=0;i<r.length;i++)s(e+r[i].dx,t+r[i].dy)&&(n++,l[i]=!0);return{openSides:n,isChokepoint:2===n&&(l[0]&&l[1]&&!l[2]&&!l[3]||l[2]&&l[3]&&!l[0]&&!l[1])}}function y(e,t,i,o,a){console.log(`  [MapGen Connect] Forcing connection to (${t},${i})...`);const s=[[0,-1],[0,1],[-1,0],[1,0]];for(const[o,a]of s){const s=e[i+a]?.[t+o];if(1===s||2===s||3===s)return 0===e[i][t]&&(e[i][t]=1),!0}const n=[[t,i,0]],r=new Set([`${t},${i}`]),l=[0,1,2,3],c=[1,2];let h=null,d=1/0;for(;n.length>0;){const[t,i,m]=n.shift();if(!(m>=d&&h))for(const[u,g]of s){const s=t+u,f=i+g,p=`${s},${f}`;if(s>=0&&s<o&&f>=0&&f<a&&!r.has(p)){const t=e[f]?.[s];r.add(p),c.includes(t)?m+1<=d&&(d=m+1,h={x:s,y:f,dist:d}):l.includes(t)&&(m+1<d||!h)&&n.push([s,f,m+1])}}}return h?(console.log(`  [MapGen Connect] Closest walkable @(${h.x},${h.y}), dist ${h.dist}. Carving...`),g(e,i,t,h.x,o,a),f(e,h.x,i,h.y,o,a),1===e[i][t]||2===e[i][t]||(console.warn(`  [MapGen Connect] Carved, but target (${t},${i}) not Corridor/Floor (is ${e[i][t]}).`),0!==e[i][t])):(console.error(`  [MapGen Connect] FAILED to find ANY walkable from (${t},${i}).`),!1)}function w(e,t,i,o){if(!t)return!1;const{tileX:a,tileY:s}=t;if(s<0||s>=o||a<0||a>=i||3!==e[s]?.[a])return console.error(`[MapVal Reach] Invalid lift @(${a},${s}) or not LIFT.`),!1;const{reachable:n}=function(e,t,i,o,a,s){const n=[[t,i]],r=new Set([`${t},${i}`]),l=[[0,-1],[0,1],[-1,0],[1,0]];let c=!1;for(e[i];n.length>0;){const[t,i]=n.shift();for(const[h,d]of l){const l=t+h,m=i+d,u=`${l},${m}`;if(l>=0&&l<o&&m>=0&&m<a&&!r.has(u)){const t=e[m]?.[l];r.add(u),s.includes(t)&&(n.push([l,m]),1!==t&&2!==t||(c=!0))}}}return{reachable:c}}(e,a,s,i,o,[1,2,3]);return n||console.error(`[MapVal Reach] FAILED. Lift @(${a},${s}) isolated.`),n}function S(e,t,i){if(!e)return void console.log("[DEBUG MAP] null map.");console.log("--- DEBUG MAP GRID ---");let o="   ";for(let e=0;e<t;e++)o+=e%10==0?Math.floor(e/10):" ";console.log(o),o="   ";for(let e=0;e<t;e++)o+=e%10;console.log(o);for(let t=0;t<i;t++){if(!e[t]){console.log(`${t.toString().padStart(2," ")} [ROW UNDEF]`);continue}const i=e[t].map((e=>{switch(e){case 0:return"#";case 1:return".";case 2:return" ";case 3:return"L";default:return"?"}})).join("");console.log(`${t.toString().padStart(2," ")} ${i}`)}console.log("--- END DEBUG MAP GRID ---")}class M{constructor(e,t,i,o,a){this.tileSize=32,this.cols=40,this.rows=30,this.width=this.cols*this.tileSize,this.height=this.rows*this.tileSize,this.offsetX=0,this.offsetY=0,this.floorNumber=i,this.minFloor=o,this.maxFloor=a,this.map=null,this.rooms=[],this.books=[],this.liftPosition=null,this.renderer=new h(this.tileSize),this.renderer.floorNumber=this.floorNumber;const s={minRoomSize:5,maxRoomSize:10,corridorThickness:1,numRooms:12,maxRoomAttempts:200,booksPerMap:5,roomTypeWeights:{classroom:50,office:25,library:15,lab:10,storage:5,utility:10,gym:0}};try{const e={cols:this.cols,rows:this.rows,floorNumber:this.floorNumber,minFloor:this.minFloor,maxFloor:this.maxFloor,tileSize:this.tileSize,generationParams:s},{map:t,rooms:i,liftPosition:o}=function(e){const{cols:t,rows:i,floorNumber:o,minFloor:a,tileSize:s,generationParams:n}=e,l={...m,...n};l.floorNumber=o,l.roomTypeWeights.gym=o===a?60:0,o===a&&(d=null,console.log(`[MapGen Floor ${o}] Reset consistent lift coords for the first floor.`)),console.log(`[MapGen Floor ${o}] Starting map generation (${t}x${i})...`);const c=Array.from({length:i},(()=>Array(t).fill(0))),h=[];let g=null;if(function(e,t,i,o,a){const{minRoomSize:s,maxRoomSize:n,numRooms:l,maxRoomAttempts:c,roomTypeWeights:h}=a;let d=0;const m=[];for(const e in h){const t=h[e];if(t>0)for(let i=0;i<t;i++)m.push(e)}for(0===m.length&&(m.push("utility"),console.warn("[MapGen Rooms] No room types. Defaulting to 'utility'."));t.length<l&&d<c;){d++;const l=r(s,n),c=r(s,n),h=r(1,i-l-2),u=r(1,o-c-2),g={col:h,row:u,width:l,height:c,type:m[r(0,m.length-1)],id:`room_f${a.floorNumber}_${t.length+1}`,centerTileX:Math.floor(h+l/2),centerTileY:Math.floor(u+c/2),connected:!1,x:h,y:u};let f=!1;const p=2;for(const e of t)if(g.col<e.col+e.width+p&&g.col+g.width+p>e.col&&g.row<e.row+e.height+p&&g.row+g.height+p>e.row){f=!0;break}if(!f){t.push(g);for(let t=g.row;t<g.row+g.height;t++)for(let a=g.col;a<g.col+g.width;a++)t>=0&&t<o&&a>=0&&a<i&&(e[t][a]=2)}}t.length<l?console.warn(`[MapGen Rooms] Placed ${t.length}/${l} rooms.`):console.log(`[MapGen Rooms] Placed ${t.length} rooms.`)}(c,h,t,i,l),h.length<1){const e=`[MapGen Floor ${o}] CRITICAL: No rooms generated. Cannot place lift.`;throw console.error(e),new Error(e)}h.length>=2?function(e,t,i,o){if(t.length<2)return;console.log(`[MapGen Connect] Connecting ${t.length} rooms...`);const a=new Set([t[0].id]);let s=t.slice(1);for(;s.length>0;){let n=1/0,r=null,l=null,c=-1;for(let e=0;e<s.length;e++){const i=s[e];for(const o of t)if(a.has(o.id)){const t=i.centerTileX-o.centerTileX,a=i.centerTileY-o.centerTileY,s=t*t+a*a;s<n&&(n=s,r=i,l=o.id,c=e)}}if(!r||null===l){console.error("[MapGen Connect] Could not find next pair. Remaining:",s.map((e=>e.id)));break}{const n=t.find((e=>e.id===l));if(!n){console.error(`[MapGen Connect] Error finding connected room ${l}.`),s.splice(c,1);continue}u(e,n,r,i,o),a.add(r.id),s.splice(c,1)}}console.log(`[MapGen Connect] Finished. Connected: ${a.size}`)}(c,h,t,i):console.warn(`[MapGen Floor ${o}] Only 1 room generated. No corridors needed between rooms.`);try{const e=function(e,t,i,o,a,s,n,r){let l=n,c=null;if(o===a){if(console.log(`[MapGen F${o}] Finding initial IN-ROOM lift loc...`),l=function(e,t,i,o){if(console.log("  [MapGen FindLift V6] Searching for lift spot INSIDE a room..."),!o||0===o.length)return console.warn("  [MapGen FindLift V6] No rooms. Placement will fail."),null;const a=[];for(const s of o){const o=s.col+1,n=s.col+s.width-2,r=s.row+1,l=s.row+s.height-2;if(o<=n&&r<=l){for(let c=r;c<=l;c++)for(let r=o;r<=n;r++)if(2===e[c]?.[r]){const o=p(r,c,e,t,i);!o.isChokepoint&&o.openSides>=2&&a.push({tileX:r,tileY:c,room:s})}}else{const o=s.centerTileX,n=s.centerTileY;if(o>=s.col&&o<s.col+s.width&&n>=s.row&&n<s.row+s.height&&2===e[n]?.[o]){const r=p(o,n,e,t,i);!r.isChokepoint&&r.openSides>=1&&a.push({tileX:o,tileY:n,room:s})}}}if(a.length>0){const e=Math.floor(t/2),o=Math.floor(i/2);a.sort(((t,i)=>(t.tileX-e)**2+(t.tileY-o)**2-((i.tileX-e)**2+(i.tileY-o)**2)));const s=a[0];return console.log(`  [MapGen FindLift V6] Selected IN ROOM (${s.room.id}) @(${s.tileX},${s.tileY}).`),{tileX:s.tileX,tileY:s.tileY}}return console.warn("[MapGen FindLift V6] No suitable IN-ROOM location. Will fail."),null}(e,t,i,r),!l)throw new Error(`[MapGen F${o}] CRIT: No valid IN-ROOM lift loc on minFloor.`);console.log(`[MapGen F${o}] Established consistent IN-ROOM lift @(${l.tileX},${l.tileY})`),c=l}else if(!l)throw new Error(`[MapGen Lift] CRIT: Missing consistent lift coords for F${o}.`);const{tileX:h,tileY:d}=l;if(d<0||d>=i||h<0||h>=t)throw new Error(`[MapGen Lift] Coords (${h},${d}) out of bounds F${o}.`);const m=e[d]?.[h];0===e[d][h]&&(console.warn(`[MapGen F${o}] Lift loc (${h},${d}) is WALL. Forcing connection...`),y(e,h,d,t,i)||0!==e[d][h]||console.error(`[MapGen LiftConnect] FAILED to connect wall @(${h},${d}) & it REMAINED WALL.`)),e[d][h]=3;let u=null;for(const e of r)if(h>=e.col&&h<e.col+e.width&&d>=e.row&&d<e.row+e.height&&2===m){u=e,console.log(`  [MapGen Lift F${o}] Lift @(${h},${d}) is on TILE_ROOM_FLOOR within existing room ${e.id}.`);break}if(!u){const s=u?`Original tile was ${m}, not TILE_ROOM_FLOOR.`:"Not in existing room region";console.warn(`[MapGen F${o}] Lift @(${h},${d}) will use carved alcove. Reason: ${s}`),o===a&&2!==m&&console.error(`[MapGen F${o}] CRITICAL MISMATCH on minFloor! _findLiftPlacementLocation selected (${h},${d}) which was type ${m}, not TILE_ROOM_FLOOR. This indicates a flaw in _findLiftPlacementLocation.`);const n=3,l=Math.max(1,h-Math.floor(n/2)),c=Math.max(1,d-Math.floor(n/2)),g={col:l,row:c,width:Math.min(n,t-1-l),height:Math.min(n,i-1-c),type:"lift_alcove",id:`room_f${o}_liftalcove_${h}_${d}`,centerTileX:h,centerTileY:d,connected:!0,x:l,y:c};for(let o=g.row;o<g.row+g.height;o++)for(let a=g.col;a<g.col+g.width;a++)3!==e[o]?.[a]&&o>0&&o<i-1&&a>0&&a<t-1&&(e[o][a]=2);r.push(g),u=g}if(!u){const a=`[MapGen Lift F${o}] CRIT: Could NOT associate lift @(${h},${d}) with any room object even after alcove attempt.`;throw console.error(a),S(e,t,i),new Error(a)}const g={x:(h+.5)*s,y:(d+.5)*s,tileX:h,tileY:d,roomId:u.id};return console.log(`[MapGen F${o}] Placed lift @(${h},${d}) in room ${u.id}. World:(${g.x.toFixed(1)},${g.y.toFixed(1)})`),{position:g,coords:c||l}}(c,t,i,o,a,s,d,h);g=e.position,e.coords&&(d=e.coords)}catch(e){throw console.error(`[MapGen Floor ${o}] CRITICAL: Lift placement failed:`,e),new Error(`Lift placement failed on floor ${o}: ${e.message}`)}if(function(e,t,i){for(let o=0;o<t;o++)e[0][o]=0,e[i-1][o]=0;for(let o=0;o<i;o++)e[o][0]=0,e[o][t-1]=0}(c,t,i),g&&!w(c,g,t,i)){if(console.warn(`[MapValidation Floor ${o}] Lift at tile(${g.tileX}, ${g.tileY}) initially unreachable. Attempting final force connection.`),!y(c,g.tileX,g.tileY,t,i)||!w(c,g,t,i)){const e=`CRITICAL: Placed lift at tile(${g.tileX}, ${g.tileY}) is UNREACHABLE even after force connect! Generation failed.`;throw console.error(`[MapGen Floor ${o}] ${e}`),S(c,t,i),new Error(`Lift is unreachable on floor ${o}. Cannot proceed.`)}console.log(`[MapValidation Floor ${o}] Lift connection successful after second attempt.`)}else{if(!g)throw new Error(`Map generated without a valid lift position on floor ${o}.`);console.log(`[MapValidation Floor ${o}] Lift at tile(${g.tileX}, ${g.tileY}) is reachable.`)}return console.log(`[MapGen Floor ${o}] Map generation completed successfully.`),{map:c,rooms:h,liftPosition:g}}(e);this.map=t,this.rooms=i,this.liftPosition=o,this.renderer.resetColorCache(),this.placeBooksReliably(s.booksPerMap),null===this.floorNumber&&(console.log(`[ProcMap F${this.floorNumber}] Init complete. Lift@(${o?.tileX},${o?.tileY}). Rooms: ${this.rooms.length}`),this.logMapGrid())}catch(e){throw console.error(`[ProcMap F${this.floorNumber}] CRIT ERR during map gen/setup:`,e),e}}placeBooksReliably(e){this.books=[];const t=[],i=new Set;for(let e=0;e<this.rows;e++)for(let i=0;i<this.cols;i++){const o=this.map[e]?.[i],a=this.liftPosition&&e===this.liftPosition.tileY&&i===this.liftPosition.tileX;1!==o&&2!==o||a||t.push({r:e,c:i})}let o=0;for(;o<e&&t.length>0;){const e=Math.floor(Math.random()*t.length),{r:a,c:s}=t.splice(e,1)[0],r=`${s},${a}`;if((1===this.map[a]?.[s]||2===this.map[a]?.[s])&&!i.has(r)){const e=`book_f${this.floorNumber}_${o+1}`;this.books.push(new n((s+.5)*this.tileSize,(a+.5)*this.tileSize,e,this.tileSize)),i.add(r),o++}}}isWalkable(e,t){if(!this.map)return!1;const i=Math.floor(e/this.tileSize),o=Math.floor(t/this.tileSize);if(i<0||i>=this.cols||o<0||o>=this.rows)return!1;const a=this.map[o]?.[i];return 1===a||2===a||3===a}findRandomInitialSpawnPosition(e=null){if(!this.map)return;const t=[],i=e?{width:e.collisionBoxWidth,height:e.collisionBoxHeight}:{width:.6*this.tileSize,height:.8*this.tileSize},o=(e,t)=>{const o=(e+.5)*this.tileSize,a=(t+.5)*this.tileSize,s=this.map[t]?.[e],n=this.liftPosition&&t===this.liftPosition.tileY&&e===this.liftPosition.tileX;if(1!==s&&2!==s||n)return!1;const r=i.width/2,l=i.height/2,c=[{x:o-r,y:a-l},{x:o+r,y:a-l},{x:o-r,y:a+l},{x:o+r,y:a+l},{x:o,y:a-l},{x:o,y:a+l},{x:o-r,y:a},{x:o+r,y:a}];for(const e of c)if(!this.isWalkable(e.x,e.y))return!1;return!0};for(let e=1;e<this.rows-1;e++)for(let i=1;i<this.cols-1;i++)o(i,e)&&this.isTileOpenEnough(i,e,2,!0)&&t.push({r:e,c:i});if(0===t.length){console.warn(`[ProcMap F${this.floorNumber} Spawn] No ideal open spots found, checking all valid tiles.`);for(let e=0;e<this.rows;e++)for(let i=0;i<this.cols;i++)o(i,e)&&t.push({r:e,c:i})}if(0===t.length){console.error(`[ProcMap F${this.floorNumber} Spawn] CRITICAL: No suitable spawn tiles found after thorough check!`);for(const e of this.rooms)for(let t=0;t<e.height;t++)for(let i=0;i<e.width;i++){const o=e.y+t,a=e.x+i;if(2===this.map[o]?.[a])return console.warn(`[ProcMap F${this.floorNumber} Spawn] EMERGENCY FALLBACK to first room floor tile: (${a},${o})`),{x:(a+.5)*this.tileSize,y:(o+.5)*this.tileSize}}return}const{r:a,c:s}=t[Math.floor(Math.random()*t.length)];return console.log(`[ProcMap F${this.floorNumber} Spawn] Selected spawn tile: (${s},${a})`),{x:(s+.5)*this.tileSize,y:(a+.5)*this.tileSize}}isTileOpenEnough(e,t,i=2,o=!1){if(!this.map)return!1;let a=0;const s=[[0,-1],[0,1],[-1,0],[1,0]],n=[!1,!1,!1,!1];for(let i=0;i<s.length;i++){const o=e+s[i][0],r=t+s[i][1];if(o>=0&&o<this.cols&&r>=0&&r<this.rows){const e=this.map[r]?.[o];1!==e&&2!==e&&3!==e||(a++,n[i]=!0)}}return!(a<i||o&&2===a&&(n[0]&&n[1]&&!n[2]&&!n[3]||n[2]&&n[3]&&!n[0]&&!n[1]))}findNearestWalkableTile(e,t,i=8,o=!1,a=!1){if(!this.map)return null;const s=Math.floor(e/this.tileSize),n=Math.floor(t/this.tileSize),r=[1,2];if(s>=0&&s<this.cols&&n>=0&&n<this.rows){const e=this.map[n][s];if(r.includes(e)&&(!o||3!==e)&&this.isTileOpenEnough(s,n,2,a))return{x:(s+.5)*this.tileSize,y:(n+.5)*this.tileSize}}for(let e=1;e<=i;e++)for(let t=-e;t<=e;t++)for(let i=-e;i<=e;i++){if(Math.abs(i)<e&&Math.abs(t)<e)continue;const l=s+i,c=n+t;if(l<0||l>=this.cols||c<0||c>=this.rows)continue;const h=this.map[c]?.[l];if(r.includes(h)&&(!o||3!==h)&&this.isTileOpenEnough(l,c,2,a))return{x:(l+.5)*this.tileSize,y:(c+.5)*this.tileSize}}const l=[[s,n]],c=new Set([`${s},${n}`]),h=[1,2,3];for(;l.length>0;){const[e,t]=l.shift();for(const[i,s]of[[0,-1],[0,1],[-1,0],[1,0]]){const n=e+i,d=t+s,m=`${n},${d}`;if(n>=0&&n<this.cols&&d>=0&&d<this.rows&&!c.has(m)){const e=this.map[d]?.[n];if(c.add(m),r.includes(e)&&(!o||3!==e)&&this.isTileOpenEnough(n,d,2,a))return{x:(n+.5)*this.tileSize,y:(d+.5)*this.tileSize};h.includes(e)&&l.push([n,d])}}}return null}getRoomContainingTile(e,t){if(!this.rooms||0===this.rooms.length)return null;for(const i of this.rooms)if(e>=i.col&&e<i.col+i.width&&t>=i.row&&t<i.row+i.height){const o=this.map[t]?.[e];if(3===o||2===o&&"lift_alcove"!==i.type)return i;if("lift_alcove"===i.type&&3===o)return i}return null}getRoomCenter(e){return e?{x:(e.col+e.width/2)*this.tileSize,y:(e.row+e.height/2)*this.tileSize}:null}getSpawnPointInRoomOfLift(e,t,i=1){const o=this.getRoomContainingTile(e,t);if(!o)return null;const a=[{dx:0,dy:-1},{dx:0,dy:1},{dx:-1,dy:0},{dx:1,dy:0}],s=[];for(const i of a){const a=e+i.dx,n=t+i.dy;a>=o.col&&a<o.col+o.width&&n>=o.row&&n<o.row+o.height&&2===this.map[n]?.[a]&&this.isTileOpenEnough(a,n,2,!0)&&s.push({x:(a+.5)*this.tileSize,y:(n+.5)*this.tileSize})}return s.length>0?s[0]:this.getRoomCenter(o)}findNearbyUnansweredBook(e,t,i=.8*this.tileSize){if(!this.books||0===this.books.length)return null;let o=null,a=i*i;for(const i of this.books)if(!i.isCollected){const s=i.x-e,n=i.y-t,r=s*s+n*n;r<a&&(a=r,o=i)}return o}markBookAsCollected(e){if(!e||!this.books)return!1;const t=this.books.find((t=>t.id===e.id));return!(!t||t.isCollected||(t.isCollected=!0,0))}findNearbyLift(e,t,i=.7*this.tileSize){if(!this.liftPosition)return null;const o=e-this.liftPosition.x,a=t-this.liftPosition.y;return o*o+a*a<i*i?this.liftPosition:null}getLiftPosition(){return this.liftPosition}draw(e,t=null){this.map&&this.renderer&&this.renderer.draw(e,{map:this.map,rooms:this.rooms,books:this.books,liftPosition:this.liftPosition,offsetX:this.offsetX,offsetY:this.offsetY,cols:this.cols,rows:this.rows,tileSize:this.tileSize},t)}logMapGrid(){if(!this.map)return void console.log(`[ProcMap F${this.floorNumber}] Map grid N/A.`);console.log(`--- Map Grid F${this.floorNumber} (${this.cols}x${this.rows}) ---`);let e="   ";for(let t=0;t<this.cols;t++)e+=t%10==0?Math.floor(t/10):" ";console.log(e),e="   ";for(let t=0;t<this.cols;t++)e+=t%10;console.log(e);for(let e=0;e<this.rows;e++){const t=e.toString().padStart(2," "),i=this.map[e].map((e=>{switch(e){case 0:return"#";case 1:return".";case 2:return" ";case 3:return"L";default:return"?"}})).join("");console.log(`${t} ${i}`)}this.liftPosition?console.log(`Lift tile map[${this.liftPosition.tileY}][${this.liftPosition.tileX}]: ${this.map[this.liftPosition.tileY]?.[this.liftPosition.tileX]}. Reported @(${this.liftPosition.tileX},${this.liftPosition.tileY})`):console.log("Lift N/A."),console.log(`--- End Map Grid F${this.floorNumber} ---`)}}class v{constructor(e=1,t=3){e>=t?(console.warn(`Level constructor: minFloor (${e}) must be less than maxFloor (${t}). Using defaults 1 and 3.`),this.minFloor=1,this.maxFloor=3):(this.minFloor=e,this.maxFloor=t),this.currentFloor=this.minFloor,this.currentMap=null,this.tileSize=32}async loadFloor(e,t,i){if(e<this.minFloor||e>this.maxFloor){const t=`Attempted to load invalid floor: ${e}. Allowed range: [${this.minFloor}-${this.maxFloor}]`;throw console.error(`[Level] ${t}`),new Error(t)}console.log(`[Level] Loading floor ${e}...`),this.currentFloor=e;try{if(this.currentMap=new M(t,i,this.currentFloor,this.minFloor,this.maxFloor),!(this.currentMap.tileSize&&this.currentMap.map&&this.currentMap.books&&this.currentMap.getLiftPosition()))throw new Error("[Level] ProceduralMap instance is missing essential properties after creation (tileSize, map, books, or liftPosition).");this.tileSize=this.currentMap.tileSize;const o=this.currentMap.getLiftPosition();console.log(`  [Level] Map generated for floor ${this.currentFloor}. TileSize: ${this.tileSize}. Lift at tile(${o.tileX}, ${o.tileY}).`),console.log(`[Level] Floor ${e} loaded successfully. Map size: ${this.currentMap.cols}x${this.currentMap.rows}. ${this.currentMap.books.length} books placed.`)}catch(t){throw console.error(`[Level] CRITICAL FAILURE loading floor ${e}: Failed to create or validate ProceduralMap:`,t),this.currentMap=null,new Error(`Map generation/validation failed for floor ${e}. ${t.message||t}`)}return Promise.resolve()}getCurrentBooks(){return this.currentMap?this.currentMap.books:[]}}class b{constructor(e){this.game=e,this.canvas=null,this.ctx=null}initializeCanvas(){if(this.canvas=document.getElementById("game-canvas"),!this.canvas)throw new Error("[Renderer] Canvas 'game-canvas' not found!");if(this.ctx=this.canvas.getContext("2d"),!this.ctx)throw new Error("[Renderer] Failed to get 2D context.");return this.ctx.imageSmoothingEnabled=!1,this.resizeCanvas(),console.log("[Renderer] Canvas initialized."),{canvas:this.canvas,ctx:this.ctx}}resizeCanvas(){this.canvas&&(this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.game.character&&this.game.level?.currentMap&&this.centerCameraOnCharacter(),console.log(`[Renderer] Canvas resized to ${this.canvas.width}x${this.canvas.height}`))}centerCameraOnCharacter(){const{character:e,level:t,canvas:i}=this.game;e&&t?.currentMap&&i&&(t.currentMap.offsetX=Math.floor(i.width/2-e.x),t.currentMap.offsetY=Math.floor(i.height/2-e.y))}drawFrame(){if(!this.ctx||!this.canvas)return;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);const e=this.game.level?.currentMap,t=this.game.character;e&&e.draw(this.ctx,this.game.bookImage),t&&e&&t.draw(e.offsetX,e.offsetY)}drawWinScreen(){this.ctx&&this.canvas&&(this.ctx.fillStyle="rgba(0, 0, 0, 0.8)",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillStyle="lime",this.ctx.font='clamp(32px, 8vw, 48px) "Press Start 2P", cursive, Arial, sans-serif',this.ctx.fillText("ZWYCIĘSTWO!",this.canvas.width/2,this.canvas.height/2-80),this.ctx.fillStyle="white",this.ctx.font="clamp(24px, 5vw, 32px) Arial, sans-serif",this.ctx.fillText(`Zebrano wszystkie ${this.game.targetBooksToWin} książki!`,this.canvas.width/2,this.canvas.height/2),this.ctx.font="clamp(18px, 4vw, 24px) Arial, sans-serif",this.ctx.fillText("Uniwersytet uratowany!",this.canvas.width/2,this.canvas.height/2+60),this.ctx.font="clamp(14px, 3vw, 18px) Arial, sans-serif",this.ctx.fillStyle="#ccc",this.ctx.fillText("(Odśwież stronę, aby zagrać ponownie)",this.canvas.width/2,this.canvas.height-50))}}const C=null;class I{constructor(e){this.game=e,this.handleAnswer=this.handleAnswer.bind(this),this.handleFloorSelection=this.handleFloorSelection.bind(this)}update(e){this.game.gameState===i.PLAYING&&this.updatePlayingState(e)}updatePlayingState(e){const t=this.game.character;if(!this.game.level?.currentMap||!t||!this.game.inputManager)return;const{moved:o}=this.handleMovement();t?.updateAnimation&&t.updateAnimation(e),o||this.game.gameState!==i.PLAYING||this.handleInteractions()}handleMovement(){const e=this.game.character,t=this.game.level.currentMap,i=this.game.inputManager;if(!e||!t||!i)return{moved:!1};const o=i.getInputDirection();let a=o.x*e.speed,n=o.y*e.speed,r=0,l=0,c=!1;if(0!==a||0!==n){const t=0!==a&&!this.checkCollision(e.x+a,e.y),i=0!==n&&!this.checkCollision(e.x,e.y+n);t&&(r=a),i&&(l=n),0!==a&&0!==n&&this.checkCollision(e.x+a,e.y+n)&&(t&&!i?l=0:i&&!t?r=0:t||i||(r=0,l=0)),0===r&&0===l||(e.x+=r,e.y+=l,c=!0,Math.abs(r)>=Math.abs(l)?0!==r&&(e.currentDirection=r>0?s.Direction.RIGHT:s.Direction.LEFT):0!==l&&(e.currentDirection=l>0?s.Direction.DOWN:s.Direction.UP))}return e.isMoving=c,{moved:c}}checkCollision(e,t){const i=this.game.level?.currentMap,o=this.game.character;if(!i||!o)return!0;const a=o.getCollisionBox(e,t),s=[{x:a.left,y:a.top},{x:a.right,y:a.top},{x:a.left,y:a.bottom},{x:a.right,y:a.bottom},{x:e,y:a.top},{x:e,y:a.bottom},{x:a.left,y:t+o.renderSize*o.collisionBoxFeetOffsetRatio},{x:a.right,y:t+o.renderSize*o.collisionBoxFeetOffsetRatio}];for(const e of s)if(!i.isWalkable(e.x,e.y))return!0;return!1}handleInteractions(){const e=this.game.level?.currentMap,t=this.game.character;if(!e||!t||this.game.gameState!==i.PLAYING)return;const o=e.findNearbyUnansweredBook(t.x,t.y);o?this.initiateQuestion(o):this.game.liftCooldownActive||e.findNearbyLift(t.x,t.y)&&this.initiateFloorSelection()}initiateQuestion(e){if(this.game.gameState!==i.PLAYING)return;if(this.game.setGameState(i.ASKING_QUESTION),this.game.character&&(this.game.character.isMoving=!1),this.game.currentBookTarget=e,0===this.game.availableQuestions.length&&(this.game.availableQuestions=[...o],0===this.game.availableQuestions.length))return a.flashMessage("Brak pytań!","error"),this.game.setGameState(i.PLAYING),void(this.game.currentBookTarget=null);const t=Math.floor(Math.random()*this.game.availableQuestions.length);this.game.currentQuestionData=this.game.availableQuestions.splice(t,1)[0],a.showQuestion(this.game.currentQuestionData)}handleAnswer(e){const{gameState:t,currentQuestionData:o,currentBookTarget:s,level:n}=this.game;if(t!==i.ASKING_QUESTION||!o||!s)return a.hideQuestion(),this.game.currentBookTarget=null,this.game.currentQuestionData=null,void(this.game.gameState!==i.GAME_OVER&&this.game.setGameState(i.PLAYING));if(e===o.correctAnswer)if(a.flashMessage("Prawidłowo!","success",1500),n?.currentMap?.markBookAsCollected(s)){if(this.game.totalBooksCollectedGlobally++,a.updateScore(this.game.totalBooksCollectedGlobally,this.game.targetBooksToWin),this.game.totalBooksCollectedGlobally>=this.game.targetBooksToWin)return a.hideQuestion(),void this.game._setGameOver(!0)}else a.flashMessage("Błąd zbierania!","error");else a.flashMessage("Nieprawidłowa!","error"),this.game.availableQuestions.push(o);a.hideQuestion(),this.game.currentBookTarget=null,this.game.currentQuestionData=null,this.game.gameState!==i.GAME_OVER&&this.game.setGameState(i.PLAYING)}initiateFloorSelection(){this.game.gameState!==i.PLAYING||this.game.liftCooldownActive||(this.game.setGameState(i.SELECTING_FLOOR),this.game.character&&(this.game.character.isMoving=!1),a.showFloorSelectionUI(this.game.level.minFloor,this.game.level.maxFloor,this.game.level.currentFloor))}handleFloorSelection(e){this.game.gameState===i.SELECTING_FLOOR?(a.hideFloorSelectionUI(),e===this.game.level.currentFloor||e<this.game.level.minFloor||e>this.game.level.maxFloor?this.game.setGameState(i.PLAYING):this.handleLiftTransition(e).catch((e=>{this.game._handleFatalError(`Błąd przejścia: ${e.message}`)}))):a.hideFloorSelectionUI()}async handleLiftTransition(e){const t=this.game,o=this.game.level?.currentFloor===C||e===C;if(o&&console.log(`[GM F${e} LiftTrans] Start. Cooldown:${t.liftCooldownActive}`),t.liftCooldownActive&&t.gameState!==i.SELECTING_FLOOR)o&&console.warn(`[GM F${e} LiftTrans] Aborted: Cooldown or invalid state (${t.gameState})`);else{t.gameState===i.SELECTING_FLOOR?t.setGameState(i.TRANSITIONING):t.gameState!==i.TRANSITIONING&&(console.warn(`[GM F${e} LiftTrans] Unexpected state ${t.gameState}. Forcing TRANSITIONING.`),t.setGameState(i.TRANSITIONING)),t.character&&(t.character.isMoving=!1),a.hideQuestion(),a.hideFloorSelectionUI(),t.liftCooldownActive=!0,a.flashMessage(`Przejście na piętro ${e}...`,"info",1800);try{await t.level.loadFloor(e,t.canvas.width,t.canvas.height);const i=t.level.currentMap;if(!i)throw new Error(`Map instance null for F${e}.`);const a=i.getLiftPosition();if(!a)throw new Error(`No lift pos data on F${e}!`);o&&console.log(`  [GM F${e} LiftTrans] Lift @(${a.tileX},${a.tileY})`);let n=null;const r=i.getRoomContainingTile(a.tileX,a.tileY);if(r?(o&&console.log(`  [GM F${e} LiftTrans] Lift in room ${r.id||"N/A"}. Spawning center.`),n=i.getRoomCenter(r),n||(console.error(`  [GM F${e} LiftTrans] CRIT: getRoomCenter null for room ${r.id||"N/A"}. Fallback.`),n=i.getSpawnPointInRoomOfLift(a.tileX,a.tileY,1))):(console.error(`  [GM F${e} LiftTrans] CRIT: Lift @(${a.tileX},${a.tileY}) NOT in any room! Fallback near lift.`),n=i.getSpawnPointInRoomOfLift(a.tileX,a.tileY,1)||i.findNearestWalkableTile(a.x,a.y,3,!0,!1)),n||(n={x:a.x,y:a.y}),!n)throw new Error(`PANIC: No spawn pos for F${e}.`);t.character.x=n.x,t.character.y=n.y,o&&console.log(`  [GM F${e} LiftTrans] Initial land (pre-nudge):(${t.character.x.toFixed(1)},${t.character.y.toFixed(1)})`),t.character.currentDirection=s.Direction.DOWN,t.character.isMoving=!1,this.ensureCharacterIsOnWalkableTile(!1),o&&console.log(`  [GM F${e} LiftTrans] Final pos (post-nudge):(${t.character.x.toFixed(1)},${t.character.y.toFixed(1)})`),t.renderer?.centerCameraOnCharacter(),t.startLiftCooldownTimer()}catch(o){console.error(`[GM F${e} LiftTrans] Error:`,o),t.liftCooldownActive=!1,t.gameState!==i.TRANSITIONING&&t.gameState!==i.SELECTING_FLOOR||t.setGameState(i.PLAYING),this.game._handleFatalError(`Transition error to F${e}: ${o.message||o}`)}}}ensureCharacterIsOnWalkableTile(e=!1){const t=this.game.character,i=this.game.level?.currentMap;if(!t||!i)return;const o=Math.floor(t.x/i.tileSize),a=Math.floor(t.y/i.tileSize),s=o>=0&&o<i.cols&&a>=0&&a<i.rows?i.map[a]?.[o]:0,n=3===s,r=i.isWalkable(t.x,t.y)&&(!n||e),l=this.checkCollision(t.x,t.y),c=l||!r,h=this.game.level?.currentFloor===C;if(c){h&&console.warn(`[GM F${this.game.level.currentFloor} AntiStuck] Char@(${t.x.toFixed(1)},${t.y.toFixed(1)}) tile ${s}(${o},${a}) needs nudge. Collide:${l},SafeStand:${r}(allowLift:${e})`);let c=i.findNearestWalkableTile(t.x,t.y,8,!0,!0);if(c||(h&&console.warn("  [AntiStuck] Initial (avoidNarrow) failed. Retrying allowNarrow..."),c=i.findNearestWalkableTile(t.x,t.y,8,!0,!1)),c||!n||e||(h&&console.warn("  [AntiStuck] AllowNarrow failed. Trying any spot incl. lift..."),c=i.findNearestWalkableTile(t.x,t.y,3,!1,!1)),c)h&&console.log(`  [AntiStuck] Nudging to safe:(${c.x.toFixed(1)},${c.y.toFixed(1)})`),t.x=c.x,t.y=c.y,this.game.renderer?.centerCameraOnCharacter();else{h&&console.error("  [AntiStuck] CRIT: No safe nudge spot. Random map spawn...");const e=i.findRandomInitialSpawnPosition();e?(h&&console.warn(`  [AntiStuck] Emergency random:(${e.x.toFixed(1)},${e.y.toFixed(1)})`),t.x=e.x,t.y=e.y,this.game.renderer?.centerCameraOnCharacter()):(h&&console.error("  [AntiStuck] EVEN RANDOM SPAWN FAILED! Unrecoverable."),this.game._handleFatalError("Anti-Stuck system failed: No spawnable tiles found."))}}}}const z={track1:e.p+"assets/audio/back126c4c9e8849503fadb12.mp3",track2:e.p+"assets/audio/back2ddba92be3cd8ac98633a.mp3",track3:e.p+"assets/audio/back381530afe1194de9f2bb1.mp3"},k=["track1","track2","track3"];class E{constructor(){this.musicVolume=.5,this.currentMusicElement=null,this.currentTrackKey=null,this.isMusicPlaying=!1;const e=localStorage.getItem("musicVolume");null!==e&&(this.musicVolume=parseFloat(e)),this.audioElements={},this._preloadTracks()}_preloadTracks(){console.log("[AudioManager] Preloading tracks from imported sources...");for(const e in z)if(z.hasOwnProperty(e)){const t=z[e],i=new Audio(t);i.preload="auto",this.audioElements[e]=i,console.log(`  Preloaded ${e} from ${t}`)}}setMusicVolume(e){this.musicVolume=Math.max(0,Math.min(1,e)),this.currentMusicElement&&(this.currentMusicElement.volume=this.musicVolume),localStorage.setItem("musicVolume",this.musicVolume.toString()),console.log(`[AudioManager] Music volume set to: ${this.musicVolume}`)}getMusicVolume(){return this.musicVolume}playMusic(e,t=!0){if(!this.audioElements[e]){if(console.warn(`[AudioManager] Track "${e}" not found or not preloaded.`),!z[e])return void console.error(`[AudioManager] Source for track "${e}" not defined in MUSIC_SOURCES.`);this.audioElements[e]=new Audio(z[e])}this.isMusicPlaying&&this.currentTrackKey===e||(this.stopMusic(),this.currentMusicElement=this.audioElements[e],this.currentMusicElement.volume=this.musicVolume,this.currentMusicElement.loop=t,this.currentTrackKey=e,this.currentMusicElement.play().then((()=>{this.isMusicPlaying=!0,console.log(`[AudioManager] Playing music: ${e} (Volume: ${this.currentMusicElement.volume})`)})).catch((t=>{console.error(`[AudioManager] Error playing "${e}":`,t),console.error(`  Playback failure details: userInteracted (check Menu.js), document.hasFocus(): ${document.hasFocus()}`),this.isMusicPlaying=!1,this.currentMusicElement=null,this.currentTrackKey=null})))}stopMusic(){this.currentMusicElement&&(this.currentMusicElement.pause(),this.currentMusicElement.currentTime=0,this.isMusicPlaying=!1,console.log(`[AudioManager] Stopped music: ${this.currentTrackKey}`))}changeTrackForFloor(e){const t=Math.max(0,e-1)%k.length,i=k[t];i?(console.log(`[AudioManager] Floor ${e} -> Music track: ${i}`),this.playMusic(i)):console.warn(`[AudioManager] No track found for floor index ${t}.`)}startInitialMusic(e=1){console.log("[AudioManager] Attempting to start initial music..."),this.changeTrackForFloor(e)}}const L=e.p+"assets/images/character_red9229918d5325fcdf2e6e.png",T=e.p+"assets/images/character_blue7b9b140f7eb486e8a968.png",$=e.p+"assets/images/character_yellowff53afbc44f903d97313.png",x=e.p+"assets/images/character_green007c77c97eef8cbb1e94.png",F=e.p+"assets/images/booka54431ef16a38389c12e.png";class G{static CREATOR_NAMES=["Rafał","Dima","Venia","Kacper"];static CLASS_ATTENDING_INFO="Klasa 2P2T / Projektowanie stron internetowych";constructor(e){if(console.log(`[Game] Initializing with character: ${e}`),!e){const e="[Game] CRITICAL: Game initialized without a characterColor!";throw console.error(e),alert("Game cannot start: no character was selected."),new Error(e)}this.characterColor=e,this._gameState=i.IDLE,this.isRunning=!1,this.totalBooksCollectedGlobally=0,this.targetBooksToWin=15,this.availableQuestions=[],this.currentBookTarget=null,this.currentQuestionData=null,this.liftCooldownActive=!1,this.liftCooldownTimer=null,this.canvas=null,this.ctx=null,this.character=null,this.level=null,this.inputManager=null,this.renderer=null,this.gameplayManager=null,this.audioManager=null,this.sprites={red:L,blue:T,yellow:$,green:x},this.bookImage=null,this.gameLoop=this.gameLoop.bind(this),this._handleFatalError=this._handleFatalError.bind(this),this._boundKeyDownHandler=null,this._boundKeyUpHandler=null;try{this._initializeCoreComponents(),this.audioManager=new E,console.log("[Game] AudioManager created."),this.gameplayManager=new I(this),console.log("[Game] GameplayManager created."),this.renderer=new b(this);const{canvas:e,ctx:t}=this.renderer.initializeCanvas();this.canvas=e,this.ctx=t,console.log("[Game] Renderer and Canvas initialized."),a.setGameplayManager(this.gameplayManager),a.initializeUI(this.inputManager),console.log("[Game] UIManager for in-game UI initialized."),this._addEventListeners(),console.log("[Game] Core components initialized. Waiting for triggerGameStart() from Menu.")}catch(e){console.error("[Game] Synchronous core initialization failed:",e),alert(`Critical initialization error: ${e.message}. Game cannot start.`)}}get gameState(){return this._gameState}setGameState(e){this._gameState!==e&&(console.log(`[Game State] ${this._gameState} -> ${e}`),this._gameState=e)}_initializeCoreComponents(){this.inputManager=new t,this.level=new v(1,3)}_addEventListeners(){window.addEventListener("resize",(()=>this.renderer?.resizeCanvas()))}async triggerGameStart(){if(this.gameState!==i.IDLE)return void console.warn(`[Game] triggerGameStart called but game state is ${this.gameState}. Aborting.`);console.log(`[Game] triggerGameStart received for character: ${this.characterColor}. Starting asset loading...`);const e=a.getLoadingOverlay();e&&e.classList.add("visible");try{await this._loadAssetsAndThenStartLogic(),console.log("[Game] Game start sequence completed successfully.")}catch(t){console.error("[Game] Error during _loadAssetsAndThenStartLogic (from triggerGameStart):",t),e&&e.classList.remove("visible"),this.gameState!==i.GAME_OVER&&this._handleFatalError(`Game start process failed: ${t.message}`)}}async _loadAssetsAndThenStartLogic(){const e=a.getLoadingOverlay();try{this.setGameState(i.LOADING),e&&!e.classList.contains("visible")&&e.classList.add("visible"),await this._loadAssets(),await this._startGameLogic(),e&&e.classList.remove("visible")}catch(t){throw console.error("[Game] _loadAssetsAndThenStartLogic failed:",t),e&&e.classList.remove("visible"),this._handleFatalError(`Asset loading or game logic start error: ${t.message}`),t}}async _loadAssets(){console.log("[Game] Loading assets...");const e=[],t=this.characterColor||"red",i=this.sprites[t];if(!i)throw new Error(`Sprite path for character color "${t}" is undefined.`);if(console.log(`[Game] Using sprite: ${i} for character ${t}`),!this.ctx)throw new Error("Canvas context not available for Character creation.");this.character=new s(this.ctx,i,{speed:3,frameSize:32,scale:2,animationSpeed:150,frameCount:4}),e.push(new Promise(((e,t)=>{this.character.sprite.onload=()=>{console.log(`  [Assets] Character sprite loaded: ${i}`),e()},this.character.sprite.onerror=e=>t(new Error(`Failed to load character sprite: ${i}. Details: ${e.message||e}`))}))),F?(this.bookImage=new Image,this.bookImage.src=F,e.push(new Promise((e=>{this.bookImage.onload=()=>{console.log(`  [Assets] Book image loaded: ${F}`),e()},this.bookImage.onerror=()=>{console.warn(` [Assets] Failed to load book image: ${F}. Using fallback.`),this.bookImage=null,e()}})))):(console.warn("[Assets] No book sprite. Fallback rendering will be used."),this.bookImage=null),await Promise.all(e),console.log("[Game] All visual assets loaded successfully.")}async _startGameLogic(){if(console.log("[Game] Starting core game logic..."),!(this.level&&this.character&&this.canvas&&this.renderer&&this.gameplayManager&&this.audioManager))throw new Error("Cannot start game - essential components missing.");this.setGameState(i.LOADING_LEVEL);try{await this.level.loadFloor(this.level.minFloor,this.canvas.width,this.canvas.height);const e=this.level.currentMap;if(!e)throw new Error("Failed to load initial map.");const t=e.findRandomInitialSpawnPosition(this.character);if(!t)throw new Error("Failed to find a valid starting position on the map!");this.character.x=t.x,this.character.y=t.y,this.character.currentDirection=s.Direction.DOWN,this.character.isMoving=!1,this.gameplayManager.ensureCharacterIsOnWalkableTile(!1),this.totalBooksCollectedGlobally=0,this.availableQuestions=[...o],this.liftCooldownActive=!1,clearTimeout(this.liftCooldownTimer),this.liftCooldownTimer=null,this.currentBookTarget=null,this.currentQuestionData=null,this.renderer.centerCameraOnCharacter(),a.updateScore(this.totalBooksCollectedGlobally,this.targetBooksToWin),a.showGameUI(),this._boundKeyDownHandler=this.handleKeyDown.bind(this),this._boundKeyUpHandler=this.handleKeyUp.bind(this),window.addEventListener("keydown",this._boundKeyDownHandler),window.addEventListener("keyup",this._boundKeyUpHandler),this.audioManager.startInitialMusic(this.level.currentFloor),console.log(`[Game] Initial music started for floor ${this.level.currentFloor}`),this.setGameState(i.PLAYING),a.startTimer(),this.isRunning||(this.isRunning=!0,requestAnimationFrame(this.gameLoop),console.log("[Game] Game logic started. Game loop is running."))}catch(e){throw console.error("[Game] Error during _startGameLogic:",e),this._handleFatalError(`Level start process error: ${e.message}`),e}}_setGameOver(e=!0){this.gameState!==i.GAME_OVER&&(console.log(`[Game] Game Over. Win: ${e}`),this.setGameState(i.GAME_OVER),this.isRunning=!1,this.character&&(this.character.isMoving=!1),clearTimeout(this.liftCooldownTimer),this.audioManager&&this.audioManager.stopMusic(),this._boundKeyDownHandler&&window.removeEventListener("keydown",this._boundKeyDownHandler),this._boundKeyUpHandler&&window.removeEventListener("keyup",this._boundKeyUpHandler),this._boundKeyDownHandler=null,this._boundKeyUpHandler=null,a.stopTimer(e),a.showGameOverScreen(e,G.CREATOR_NAMES,G.CLASS_ATTENDING_INFO))}stopGame(){console.log("[Game] Explicit stopGame requested."),this.gameState!==i.GAME_OVER?this._setGameOver(!1):console.log("[Game] stopGame called, but game is already over.")}_handleFatalError(e,t=!0){console.error("[Game] FATAL ERROR:",e),t&&this.gameState!==i.GAME_OVER&&a.flashMessage(`FATAL ERROR: ${e}`,"error",15e3),this.gameState!==i.GAME_OVER&&this._setGameOver(!1)}handleKeyDown(e){if(this.gameState!==i.PLAYING||!this.inputManager)return;let t=!1;const o=e.key.toLowerCase();["arrowup","w"].includes(o)?(this.inputManager.setKey("up",!0),t=!0):["arrowdown","s"].includes(o)?(this.inputManager.setKey("down",!0),t=!0):["arrowleft","a"].includes(o)?(this.inputManager.setKey("left",!0),t=!0):["arrowright","d"].includes(o)&&(this.inputManager.setKey("right",!0),t=!0),t&&e.preventDefault()}handleKeyUp(e){if(!this.inputManager)return;const t=e.key.toLowerCase();["arrowup","w"].includes(t)?this.inputManager.setKey("up",!1):["arrowdown","s"].includes(t)?this.inputManager.setKey("down",!1):["arrowleft","a"].includes(t)?this.inputManager.setKey("left",!1):["arrowright","d"].includes(t)&&this.inputManager.setKey("right",!1)}gameLoop(e){this.isRunning&&this.gameState!==i.GAME_OVER&&(this.gameplayManager?.update(e),this.renderer?.centerCameraOnCharacter(),this.renderer?.drawFrame(),requestAnimationFrame(this.gameLoop))}startLiftCooldownTimer(){clearTimeout(this.liftCooldownTimer),console.log("[Game] Starting lift cooldown: 2000ms."),this.liftCooldownTimer=setTimeout((()=>{this.liftCooldownActive=!1,this.liftCooldownTimer=null,this.gameState===i.TRANSITIONING?(this.setGameState(i.PLAYING),a.flashMessage(`Arrived at floor ${this.level?.currentFloor}`,"success",1500)):console.warn(`[GameTimer] Lift cooldown ended, but state is ${this.gameState}. No state change.`)}),2e3)}}let A=null;class P{constructor(e){this.characterImageSources=e,this.selectedCharacter=null,this.userInteracted=!1,this.overlay=null,this.audioManagerInstance=null,console.log("[Menu] Constructor called. Initializing elements..."),this.initializeElements(),this.characterPanel&&this.characterGrid?this.setupCharacterImages():console.error("[Menu Constructor] CRITICAL: characterPanel or characterGrid is null AFTER initializeElements. Cannot setup images."),console.log("[Menu] Adding event listeners..."),this.addEventListeners(),this.show(),console.log("[Menu] Instance created and displayed.")}setAudioManager(e){if(this.audioManagerInstance=e,console.log("[Menu] AudioManager instance received in Menu."),this.musicVolume&&this.audioManagerInstance)this.musicVolume.value=100*this.audioManagerInstance.getMusicVolume();else if(this.musicVolume){const e=localStorage.getItem("musicVolume");this.musicVolume.value=null!==e?100*parseFloat(e):50}}initializeElements(){if(this.menuContainer=document.querySelector(".menu-container"),!this.menuContainer)return void console.error("[Menu Init] CRITICAL: .menu-container not found!");this.settingsButton=this.menuContainer.querySelector(".settings-button"),this.playButton=this.menuContainer.querySelector(".play-button"),this.characterButton=this.menuContainer.querySelector(".character-button"),this.playButton?this.playButton.disabled=!0:console.warn("[Menu Init] .play-button not found."),this.characterButton||console.warn("[Menu Init] .character-button not found."),this.settingsButton||console.warn("[Menu Init] .settings-button not found."),this.settingsPanel=document.querySelector(".settings-panel"),this.settingsPanel?(this.settingsPanel.parentNode!==document.body&&this.settingsPanel.parentNode!==this.menuContainer&&document.body.appendChild(this.settingsPanel.parentNode.removeChild(this.settingsPanel)),this.musicVolume=this.settingsPanel.querySelector("#music-volume"),this.sfxVolume=this.settingsPanel.querySelector("#sfx-volume"),this.closeSettingsButton=this.settingsPanel.querySelector(".panel-close-button"),this.musicVolume||console.warn("[Menu Init] #music-volume slider not found in settings panel."),this.closeSettingsButton||console.warn("[Menu Init] .panel-close-button not found in settings panel.")):console.warn("[Menu Init] .settings-panel not found."),this.characterPanel=document.querySelector(".character-panel"),this.characterPanel?(this.characterPanel.parentNode!==document.body&&this.characterPanel.parentNode!==this.menuContainer&&document.body.appendChild(this.characterPanel.parentNode.removeChild(this.characterPanel)),this.characterGrid=this.characterPanel.querySelector(".character-grid"),this.closeCharacterPanelButton=this.characterPanel.querySelector(".panel-close-button"),this.characterGrid||console.error("[Menu Init] CRITICAL: .character-grid not found in character panel!"),this.closeCharacterPanelButton||console.warn("[Menu Init] .panel-close-button not found in character panel.")):console.error("[Menu Init] CRITICAL: .character-panel not found!");let e=this.menuContainer.querySelector(".main-menu-buttons");this.selectedCharacterDisplay=e?e.querySelector(".selected-character-display"):null,this.selectedCharacterDisplay||(this.selectedCharacterDisplay=document.createElement("div"),this.selectedCharacterDisplay.className="selected-character-display",this.playButton&&this.playButton.parentNode?this.playButton.parentNode.insertBefore(this.selectedCharacterDisplay,this.playButton):e?e.insertBefore(this.selectedCharacterDisplay,e.children[1]||null):this.menuContainer.appendChild(this.selectedCharacterDisplay)),this.updateSelectedCharacterDisplay()}setupCharacterImages(){if(!this.characterPanel||!this.characterGrid)return void console.warn("[Menu setupCharacterImages] Character panel or grid not found.");if(!this.characterImageSources||0===Object.keys(this.characterImageSources).length)return void console.warn("[Menu setupCharacterImages] No character image sources provided.");const e=this.characterGrid.querySelectorAll(".character-card");0!==e.length?e.forEach((e=>{const t=e.dataset.character,i=e.querySelector(".character-preview img");i&&this.characterImageSources[t]?i.src=this.characterImageSources[t]:i&&(console.warn(`[Menu setupCharacterImages] Image element found, but no source for character: ${t}`),i.alt=`${t} preview not available`)})):console.warn("[Menu setupCharacterImages] No character cards found in the grid.")}handleFirstInteraction(){this.userInteracted||(this.userInteracted=!0,console.log("[Menu] First user interaction recorded."))}addEventListeners(){const e=(e,t,i)=>{e&&e.addEventListener(t,(e=>{this.handleFirstInteraction(),i.call(this,e)}))};if(e(this.settingsButton,"click",this.toggleSettings),e(this.playButton,"click",this.startGame),e(this.characterButton,"click",this.openCharacterModal),this.closeSettingsButton?this.closeSettingsButton.addEventListener("click",(()=>this.closeSettings())):this.settingsPanel&&console.warn("[Menu addEventListeners] Close button for settings panel not found."),this.closeCharacterPanelButton?this.closeCharacterPanelButton.addEventListener("click",(()=>this.closeCharacterModal())):this.characterPanel&&console.warn("[Menu addEventListeners] Close button for character panel not found."),this.musicVolume){if(!this.audioManagerInstance){const e=localStorage.getItem("musicVolume");this.musicVolume.value=null!==e?100*parseFloat(e):50}this.musicVolume.addEventListener("input",(e=>{this.handleFirstInteraction();const t=parseFloat(e.target.value)/100;this.audioManagerInstance?(this.audioManagerInstance.setMusicVolume(t),console.log(`[Menu] Music volume changed via slider to: ${t}`)):(localStorage.setItem("musicVolume",t.toString()),console.warn("[Menu] Music volume slider changed, AudioManager not available. Saved to localStorage."))}))}this.sfxVolume,this.characterGrid&&this.characterGrid.addEventListener("click",(e=>{const t=e.target.closest(".character-card");t&&this.characterPanel&&this.characterPanel.classList.contains("visible")&&(this.handleFirstInteraction(),this.selectCharacter(t))}))}openCharacterModal(){this.characterPanel?(this.characterPanel.classList.add("visible"),this.settingsPanel?.classList.contains("visible")&&this.closeSettings(),this._ensureOverlay().classList.add("visible")):console.error("Character panel not found.")}closeCharacterModal(){this.characterPanel?.classList.remove("visible"),this.overlay?.classList.remove("visible")}selectCharacter(e){this.characterGrid&&e?.dataset?.character&&(this.selectedCharacter=e.dataset.character,this.characterGrid.querySelectorAll(".character-card").forEach((e=>e.classList.remove("selected"))),e.classList.add("selected"),this.playButton&&(this.playButton.disabled=!1),this.updateSelectedCharacterDisplay(),this.closeCharacterModal(),a.flashMessage(`Character ${this.selectedCharacter.charAt(0).toUpperCase()+this.selectedCharacter.slice(1)} selected!`,"success",2e3))}updateSelectedCharacterDisplay(){if(this.selectedCharacterDisplay)if(this.selectedCharacter&&this.characterImageSources&&this.characterImageSources[this.selectedCharacter]){const e=this.selectedCharacter,t=this.characterImageSources[e];let i=e.charAt(0).toUpperCase()+e.slice(1);if(this.characterGrid){const t=this.characterGrid.querySelector(`.character-card[data-character="${e}"] h3`);t&&(i=t.textContent)}this.selectedCharacterDisplay.innerHTML=`<img src="${t}" alt="${i}" class="selected-char-preview-img"> <span class="selected-char-name char-name-${e}">${i}</span>`}else this.selectedCharacterDisplay.innerHTML='<span style="color:#aaa;">No character selected</span>'}toggleSettings(){this.settingsPanel&&(this.settingsPanel.classList.contains("visible")?this.closeSettings():this.openSettings())}openSettings(){if(this.settingsPanel){if(this.settingsPanel.classList.add("visible"),this.characterPanel?.classList.contains("visible")&&this.closeCharacterModal(),this._ensureOverlay().classList.add("visible"),this.musicVolume&&this.audioManagerInstance)this.musicVolume.value=100*this.audioManagerInstance.getMusicVolume();else if(this.musicVolume){const e=localStorage.getItem("musicVolume");this.musicVolume.value=e?100*parseFloat(e):50}}else console.error("Settings panel not found.")}closeSettings(){this.settingsPanel?.classList.remove("visible"),this.overlay?.classList.remove("visible")}_ensureOverlay(){return this.overlay||(this.overlay=document.createElement("div"),this.overlay.className="ui-modal-overlay",this.overlay.addEventListener("click",(e=>{e.target===this.overlay&&(this.characterPanel?.classList.contains("visible")&&this.closeCharacterModal(),this.settingsPanel?.classList.contains("visible")&&this.closeSettings())})),document.body.appendChild(this.overlay)),this.overlay}async startGame(){if(!this.userInteracted)return void a.flashMessage("Please interact with the menu first (e.g., click a button or choose a character).","warning",3e3);if(!this.selectedCharacter)return void a.flashMessage("Please select a character first!","warning",2500);const e=a.getLoadingOverlay();e&&e.classList.add("visible"),this.hide();const t=document.getElementById("game-canvas");if(!t)return console.error("[Menu] CRITICAL: #game-canvas not found!"),e&&e.classList.remove("visible"),void this.show();t.style.display="block";try{if(A&&"function"==typeof A.stopGame&&(console.log("[Menu] Stopping previous game instance."),A.stopGame(),A=null),console.log(`[Menu] Creating new Game instance with character: ${this.selectedCharacter}`),A=new G(this.selectedCharacter),!A||"function"!=typeof A.triggerGameStart)throw new Error("Game instance created, but triggerGameStart is not available.");await A.triggerGameStart()}catch(i){console.error("[Menu] Error during game initialization or start:",i),a.flashMessage(`Game Start Failed: ${i.message}`,"error",1e4),e&&e.classList.remove("visible"),this.show(),t&&(t.style.display="none"),A=null}}show(){this.menuContainer&&(this.menuContainer.style.display="flex");const e=document.getElementById("game-canvas");e&&(e.style.display="none"),a.hideGameUI(),a.hideGameOverScreen();const t=a.getLoadingOverlay();t&&t.classList.remove("visible")}hide(){this.menuContainer&&(this.menuContainer.style.display="none")}}const N=e.p+"assets/images/redc0823efecc8ece1a10c4.png",O=e.p+"assets/images/bluea60b5a2890283d3db0d0.png",R=e.p+"assets/images/yellowe7fd8d3003d4e49a0ad5.png",B=e.p+"assets/images/green1ba3e373f73ba58a2658.png";document.addEventListener("DOMContentLoaded",(()=>{console.log("[main.js] DOMContentLoaded. Initializing Menu..."),new P({red:N,blue:O,yellow:R,green:B}),console.log("[main.js] Menu instance created.")}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVFDLElBQUksb0RBU1osSUFBSTBxQixFQVAwQixDQUM1QmpDLElBQUssRUFDTEMsS0FBTSxFQUNOQyxPQUFRLEVBQ1JDLE1BQU8sSUFJVDdvQixRQUFRQyxJQUFJLG1DQUFtQyxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGVudC1nYW1lL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3N0dWRlbnQtZ2FtZS93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL3N0dWRlbnQtZ2FtZS93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9zdHVkZW50LWdhbWUvLi9qcy9jb3JlL0lucHV0TWFuYWdlci5qcyIsIndlYnBhY2s6Ly9zdHVkZW50LWdhbWUvLi9qcy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vc3R1ZGVudC1nYW1lLy4vanMvVUkvVUlNYW5hZ2VyLmpzIiwid2VicGFjazovL3N0dWRlbnQtZ2FtZS8uL2pzL2NvcmUvQ2hhcmFjdGVyLmpzIiwid2VicGFjazovL3N0dWRlbnQtZ2FtZS8uL2pzL21hcC9Cb29rLmpzIiwid2VicGFjazovL3N0dWRlbnQtZ2FtZS8uL2pzL3V0aWxzL21hcC5qcyIsIndlYnBhY2s6Ly9zdHVkZW50LWdhbWUvLi9qcy9tYXAvTWFwUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vc3R1ZGVudC1nYW1lLy4vanMvbWFwL01hcEdlbi5qcyIsIndlYnBhY2s6Ly9zdHVkZW50LWdhbWUvLi9qcy9tYXAvUHJvY2VkdXJhbE1hcC5qcyIsIndlYnBhY2s6Ly9zdHVkZW50LWdhbWUvLi9qcy9jb3JlL0xldmVsLmpzIiwid2VicGFjazovL3N0dWRlbnQtZ2FtZS8uL2pzL2NvcmUvR2FtZVJlbmRlcmVyLmpzIiwid2VicGFjazovL3N0dWRlbnQtZ2FtZS8uL2pzL2NvcmUvR2FtZXBsYXlNYW5hZ2VyLmpzIiwid2VicGFjazovL3N0dWRlbnQtZ2FtZS8uL2pzL2F1ZGlvL0F1ZGlvTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9zdHVkZW50LWdhbWUvLi9qcy9jb3JlL0dhbWUuanMiLCJ3ZWJwYWNrOi8vc3R1ZGVudC1nYW1lLy4vanMvVUkvTWVudS5qcyIsIndlYnBhY2s6Ly9zdHVkZW50LWdhbWUvLi9qcy9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdCAmJiBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PT0gJ1NDUklQVCcpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmM7XG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkge1xuXHRcdFx0dmFyIGkgPSBzY3JpcHRzLmxlbmd0aCAtIDE7XG5cdFx0XHR3aGlsZSAoaSA+IC0xICYmICghc2NyaXB0VXJsIHx8ICEvXmh0dHAocz8pOi8udGVzdChzY3JpcHRVcmwpKSkgc2NyaXB0VXJsID0gc2NyaXB0c1tpLS1dLnNyYztcblx0XHR9XG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvXmJsb2I6LywgXCJcIikucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsIi8vIHNyYy9jb3JlL0lucHV0TWFuYWdlci5qc1xyXG5leHBvcnQgY2xhc3MgSW5wdXRNYW5hZ2VyIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMua2V5cyA9IHtcclxuICAgICAgdXA6IGZhbHNlLFxyXG4gICAgICBkb3duOiBmYWxzZSxcclxuICAgICAgbGVmdDogZmFsc2UsXHJcbiAgICAgIHJpZ2h0OiBmYWxzZSxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzZXRLZXkoa2V5LCBpc1ByZXNzZWQpIHtcclxuICAgIGlmICh0aGlzLmtleXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICB0aGlzLmtleXNba2V5XSA9IGlzUHJlc3NlZDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldElucHV0RGlyZWN0aW9uKCkge1xyXG4gICAgbGV0IHggPSAwO1xyXG4gICAgbGV0IHkgPSAwO1xyXG4gICAgaWYgKHRoaXMua2V5cy51cCkgeSAtPSAxO1xyXG4gICAgaWYgKHRoaXMua2V5cy5kb3duKSB5ICs9IDE7XHJcbiAgICBpZiAodGhpcy5rZXlzLmxlZnQpIHggLT0gMTtcclxuICAgIGlmICh0aGlzLmtleXMucmlnaHQpIHggKz0gMTtcclxuICAgIHJldHVybiB7IHgsIHkgfTtcclxuICB9XHJcbn1cclxuIiwiLy8gc3JjL3V0aWxzL2NvbnN0YW50cy5qc1xyXG5cclxuLy8gRGVmaW5pY2plIHR5cMOzdyBrYWZlbGvDs3cgbWFweVxyXG5leHBvcnQgY29uc3QgVElMRV9XQUxMID0gMDsgLy8gxZpjaWFuYVxyXG5leHBvcnQgY29uc3QgVElMRV9DT1JSSURPUiA9IDE7IC8vIEtvcnl0YXJ6XHJcbmV4cG9ydCBjb25zdCBUSUxFX1JPT01fRkxPT1IgPSAyOyAvLyBQb2TFgm9nYSBwb2tvanVcclxuZXhwb3J0IGNvbnN0IFRJTEVfTElGVCA9IDM7IC8vIFdpbmRhXHJcbi8vIE1vxbxuYSBkb2RhxIcgd2nEmWNlaiB0eXDDs3csIG5wLiBUSUxFX0RPT1IsIFRJTEVfV0lORE9XIGl0cC5cclxuXHJcbi8vIFN0YW55IGdyeVxyXG5leHBvcnQgY29uc3QgR2FtZVN0YXRlID0ge1xyXG4gIExPQURJTkc6ICdMT0FESU5HJywgLy8gxYFhZG93YW5pZSB6YXNvYsOzdywgZ2VuZXJvd2FuaWUgcG96aW9tdVxyXG4gIE1FTlU6ICdNRU5VJywgLy8gTWVudSBnxYLDs3duZSAod3liw7NyIHBvc3RhY2kpXHJcbiAgUExBWUlORzogJ1BMQVlJTkcnLCAvLyBHxYLDs3duYSByb3pncnl3a2FcclxuICBBU0tJTkdfUVVFU1RJT046ICdBU0tJTkdfUVVFU1RJT04nLCAvLyBXecWbd2lldGxhbmllIHB5dGFuaWFcclxuICBTRUxFQ1RJTkdfRkxPT1I6ICdTRUxFQ1RJTkdfRkxPT1InLCAvLyBXecWbd2lldGxhbmllIFVJIHd5Ym9ydSBwacSZdHJhXHJcbiAgVFJBTlNJVElPTklORzogJ1RSQU5TSVRJT05JTkcnLCAvLyBBbmltYWNqYS9vY3pla2l3YW5pZSBuYSBwcnplasWbY2llIHdpbmR5XHJcbiAgR0FNRV9PVkVSOiAnR0FNRV9PVkVSJywgLy8gS29uaWVjIGdyeSAod3lncmFuYSBsdWIgcHJ6ZWdyYW5hKVxyXG59O1xyXG5cclxuLy8gUGFyYW1ldHJ5IHJvemdyeXdraVxyXG5leHBvcnQgY29uc3QgVEFSR0VUX0JPT0tTX1RPX1dJTiA9IDE1OyAvLyBMaWN6YmEga3NpxIXFvGVrIGRvIHplYnJhbmlhLCBhYnkgd3lncmHEhyAoZ2xvYmFsbmllKVxyXG5leHBvcnQgY29uc3QgTElGVF9DT09MRE9XTl9NUyA9IDIwMDA7IC8vIEN6YXMgb2Rub3dpZW5pYSB3aW5keSB3IG1pbGlzZWt1bmRhY2ggKDIgc2VrdW5keSlcclxuZXhwb3J0IGNvbnN0IExJRlRfSU5URVJBQ1RJT05fUkFESVVTX01VTFRJUExJRVIgPSAwLjc7IC8vIE1ub8W8bmlrIHByb21pZW5pYSBpbnRlcmFrY2ppIHogd2luZMSFICh3emdsxJlkZW0gdGlsZVNpemUpXHJcblxyXG4vLyBTemFuc2EgbmEgcG9qYXdpZW5pZSBzacSZIHNpxYJvd25pIG5hIHBpZXJ3c3p5bSBwacSZdHJ6ZSAoMC4wIGRvIDEuMClcclxuZXhwb3J0IGNvbnN0IEdZTV9DSEFOQ0VfT05fRklSU1RfRkxPT1IgPSAwLjY7IC8vIDYwJSBzemFuc3lcclxuXHJcbi8vIFB5dGFuaWEgaSBvZHBvd2llZHppXHJcbmV4cG9ydCBjb25zdCBxdWVzdGlvbnMgPSBbXHJcbiAge1xyXG4gICAgcXVlc3Rpb246XHJcbiAgICAgICdLdMOzcnkgasSZenlrIHByb2dyYW1vd2FuaWEgamVzdCB6bmFueSB6ZSBzd29qZWogd3N6ZWNoc3Ryb25ub8WbY2kgaSB1xbx5d2FueSB6YXLDs3dubyB3IGJhY2tlbmR6aWUgKE5vZGUuanMpLCBqYWsgaSBmcm9udGVuZHppZT8nLFxyXG4gICAgb3B0aW9uczogWydQeXRob24nLCAnSmF2YScsICdKYXZhU2NyaXB0JywgJ0MjJ10sXHJcbiAgICBjb3JyZWN0QW5zd2VyOiAyLCAvLyBJbmRla3MgcG9wcmF3bmVqIG9kcG93aWVkemkgKEphdmFTY3JpcHQpXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjogJ0NvIG96bmFjemEgc2tyw7N0IEhUTUw/JyxcclxuICAgIG9wdGlvbnM6IFtcclxuICAgICAgJ0h5cGVyVGV4dCBNYXJrdXAgTGFuZ3VhZ2UnLFxyXG4gICAgICAnSGlnaCBUcmFuc2ZlciBNYWNoaW5lIExhbmd1YWdlJyxcclxuICAgICAgJ0h5cGVybGluayBhbmQgVGV4dCBNYW5hZ2VtZW50IExhbmd1YWdlJyxcclxuICAgICAgJ0hvbWUgVG9vbCBNYXJrdXAgTGFuZ3VhZ2UnLFxyXG4gICAgXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDAsXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjogJ0t0w7NyYSBzdHJ1a3R1cmEgZGFueWNoIGR6aWHFgmEgbmEgemFzYWR6aWUgTElGTyAoTGFzdC1JbiwgRmlyc3QtT3V0KT8nLFxyXG4gICAgb3B0aW9uczogWydLb2xlamthIChRdWV1ZSknLCAnU3RvcyAoU3RhY2spJywgJ0xpc3RhIChMaXN0KScsICdEcnpld28gKFRyZWUpJ10sXHJcbiAgICBjb3JyZWN0QW5zd2VyOiAxLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcXVlc3Rpb246ICdKYWsgbmF6eXdhIHNpxJkgcHJvY2VzIHpuYWpkb3dhbmlhIGkgbmFwcmF3aWFuaWEgYsWCxJlkw7N3IHcga29kemllPycsXHJcbiAgICBvcHRpb25zOiBbJ0tvbXBpbGFjamEnLCAnVGVzdG93YW5pZScsICdEZWJ1Z293YW5pZScsICdSZWZha3Rvcnl6YWNqYSddLFxyXG4gICAgY29ycmVjdEFuc3dlcjogMixcclxuICB9LFxyXG4gIHtcclxuICAgIHF1ZXN0aW9uOlxyXG4gICAgICBcIkt0w7NyeSBwYXJhZHlnbWF0IHByb2dyYW1vd2FuaWEgb3BpZXJhIHNpxJkgbmEga29uY2VwY2ppICdvYmlla3TDs3cnLCBrdMOzcmUgbW9nxIUgemF3aWVyYcSHIGRhbmUgaSBrb2Q/XCIsXHJcbiAgICBvcHRpb25zOiBbXHJcbiAgICAgICdQcm9ncmFtb3dhbmllIGZ1bmtjeWpuZScsXHJcbiAgICAgICdQcm9ncmFtb3dhbmllIHByb2NlZHVyYWxuZScsXHJcbiAgICAgICdQcm9ncmFtb3dhbmllIG9iaWVrdG93ZScsXHJcbiAgICAgICdQcm9ncmFtb3dhbmllIGxvZ2ljem5lJyxcclxuICAgIF0sXHJcbiAgICBjb3JyZWN0QW5zd2VyOiAyLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcXVlc3Rpb246ICdDbyBvem5hY3phIENTUz8nLFxyXG4gICAgb3B0aW9uczogW1xyXG4gICAgICAnQ2FzY2FkaW5nIFN0eWxlIFNoZWV0cycsXHJcbiAgICAgICdDb21wdXRlciBTdHlsZSBTeW50YXgnLFxyXG4gICAgICAnQ3JlYXRpdmUgU3R5bGluZyBTeXN0ZW0nLFxyXG4gICAgICAnQ29sb3JmdWwgU3R5bGUgU2NyaXB0cycsXHJcbiAgICBdLFxyXG4gICAgY29ycmVjdEFuc3dlcjogMCxcclxuICB9LFxyXG4gIHtcclxuICAgIHF1ZXN0aW9uOiAnS3TDs3J5IG9wZXJhdG9yIHcgSmF2YVNjcmlwdCBzxYJ1xbx5IGRvIMWbY2lzxYJlZ28gcG9yw7N3bmFuaWEgKHdhcnRvxZvEhyBpIHR5cCk/JyxcclxuICAgIG9wdGlvbnM6IFsnPT0nLCAnPScsICc9PT0nLCAnIT0nXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjogJ0phayBuYXp5d2Egc2nEmSBwb3B1bGFybnkgc3lzdGVtIGtvbnRyb2xpIHdlcnNqaSB1xbx5d2FueSBwcnpleiBwcm9ncmFtaXN0w7N3PycsXHJcbiAgICBvcHRpb25zOiBbJ1N1YnZlcnNpb24gKFNWTiknLCAnR2l0JywgJ01lcmN1cmlhbCcsICdDVlMnXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDEsXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjpcclxuICAgICAgJ0t0w7NyeSB0eXAgcMSZdGxpIHcgd2nEmWtzem/Fm2NpIGrEmXp5a8OzdyBwcm9ncmFtb3dhbmlhIGplc3QgbmFqYmFyZHppZWogb2Rwb3dpZWRuaSBkbyBpdGVyYWNqaSBwbyBlbGVtZW50YWNoIHRhYmxpY3ksIGdkeSBuaWUgem5hbXkgaWNoIGxpY3pieT8nLFxyXG4gICAgb3B0aW9uczogWydmb3InLCAnd2hpbGUnLCAnZG8uLi53aGlsZScsICdmb3JlYWNoIChsdWIgZm9yLi4ub2YpJ10sXHJcbiAgICBjb3JyZWN0QW5zd2VyOiAzLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcXVlc3Rpb246ICdDbyB0byBqZXN0IEFQST8nLFxyXG4gICAgb3B0aW9uczogW1xyXG4gICAgICAnQWR2YW5jZWQgUHJvZ3JhbW1pbmcgSW50ZXJmYWNlJyxcclxuICAgICAgJ0FwcGxpY2F0aW9uIFByb2dyYW1taW5nIEludGVyZmFjZScsXHJcbiAgICAgICdBdXRvbWF0ZWQgUHJvZ3JhbSBJbnRlcmFjdGlvbicsXHJcbiAgICAgICdBbGdvcml0aG1pYyBQcm9jZXNzaW5nIElucHV0JyxcclxuICAgIF0sXHJcbiAgICBjb3JyZWN0QW5zd2VyOiAxLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcXVlc3Rpb246ICdDbyB0byBqZXN0IFBMQyBpIGRvIGN6ZWdvIG5hamN6xJnFm2NpZWogc8WCdcW8eSB3IGF1dG9tYXR5Y2U/JyxcclxuICAgIG9wdGlvbnM6IFtcclxuICAgICAgJ1Byb2dyYW1vd2FsbnkgTG9naWMgQ29udHJvbGxlciwgZG8gc3Rlcm93YW5pYSBwcm9jZXNhbWkgcHJ6ZW15c8WCb3d5bWknLFxyXG4gICAgICAnUGVyc29uYWwgTGVhcm5pbmcgQ29tcHV0ZXIsIGRvIG5hdWtpIHByb2dyYW1vd2FuaWEnLFxyXG4gICAgICAnUG93ZXIgTGluZSBDb21tdW5pY2F0aW9uLCBkbyBwcnplc3nFgnUgZGFueWNoIHByemV6IHNpZcSHIGVsZWt0cnljem7EhScsXHJcbiAgICAgICdQcm9qZWN0IExpZmVjeWNsZSBDb3N0LCBkbyB6YXJ6xIVkemFuaWEga29zenRhbWkgcHJvamVrdHUnLFxyXG4gICAgXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDAsXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjogJ1phIGNvIG9kcG93aWFkYSBwcnp5c8WCb25hIChhcGVydHVyYSkgdyBhcGFyYWNpZSBmb3RvZ3JhZmljem55bT8nLFxyXG4gICAgb3B0aW9uczogW1xyXG4gICAgICAnS29udHJvbMSZIGN6YXN1IG5hxZt3aWV0bGFuaWEnLFxyXG4gICAgICAnUmVndWxhY2rEmSBnxYLEmWJpIG9zdHJvxZtjaSBpIGlsb8WbY2kgd3BhZGFqxIVjZWdvIMWbd2lhdMWCYScsXHJcbiAgICAgICdVc3Rhd2llbmllIGJhbGFuc3UgYmllbGknLFxyXG4gICAgICAnU3RhYmlsaXphY2rEmSBvYnJhenUnLFxyXG4gICAgXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDEsXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjpcclxuICAgICAgJ0t0w7NyeSBlbGVtZW50IGtvbXB1dGVyYSBqZXN0IG9kcG93aWVkemlhbG55IHphIHR5bWN6YXNvd2UgcHJ6ZWNob3d5d2FuaWUgZGFueWNoIHXFvHl3YW55Y2ggcHJ6ZXogcHJvY2Vzb3I/JyxcclxuICAgIG9wdGlvbnM6IFsnRHlzayB0d2FyZHkgKEhERC9TU0QpJywgJ0thcnRhIGdyYWZpY3puYSAoR1BVKScsICdQYW1pxJnEhyBSQU0nLCAnUMWCeXRhIGfFgsOzd25hJ10sXHJcbiAgICBjb3JyZWN0QW5zd2VyOiAyLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcXVlc3Rpb246XHJcbiAgICAgICdXIGpha2ltIGrEmXp5a3UgcHJvZ3JhbW93YW5pYSBuYWpjesSZxZtjaWVqIHBpc2FuZSBzxIUgc2tyeXB0eSBwbyBzdHJvbmllIHNlcndlcmEgKGJhY2tlbmQpPycsXHJcbiAgICBvcHRpb25zOiBbJ0hUTUwnLCAnQ1NTJywgJ1NRTCcsICdQSFAsIFB5dGhvbiBsdWIgTm9kZS5qcyAoSmF2YVNjcmlwdCknXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDMsXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjpcclxuICAgICAgJ0pha2kgdHlwIHN5Z25hxYJ1IGNoYXJha3Rlcnl6dWplIHNpxJkgcMWCeW5uxIUgem1pYW7EhSB3YXJ0b8WbY2kgdyBjemFzaWUsIHcgcHJ6ZWNpd2llxYRzdHdpZSBkbyBzeWduYcWCdSBjeWZyb3dlZ28/JyxcclxuICAgIG9wdGlvbnM6IFsnQmluYXJueScsICdBbmFsb2dvd3knLCAnWmVyby1qZWR5bmtvd3knLCAnSW1wdWxzb3d5J10sXHJcbiAgICBjb3JyZWN0QW5zd2VyOiAxLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcXVlc3Rpb246XHJcbiAgICAgICdLdMOzcnkgcGFyYW1ldHIgdXN0YXdpYSBjenXFgm/Fm8SHIG1hdHJ5Y3kgYXBhcmF0dSBuYSDFm3dpYXTFgm8gaSB3cMWCeXdhIG5hIHBvemlvbSBzenVtw7N3IG5hIHpkasSZY2l1PycsXHJcbiAgICBvcHRpb25zOiBbJ0N6YXMgbmHFm3dpZXRsYW5pYScsICdQcnp5c8WCb25hJywgJ0lTTycsICdPZ25pc2tvd2EnXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjogJ0NvIHRvIGplc3QgYWRyZXMgSVAgdyBzaWVjaSBrb21wdXRlcm93ZWo/JyxcclxuICAgIG9wdGlvbnM6IFtcclxuICAgICAgJ1VuaWthbG55IGlkZW50eWZpa2F0b3IgdXJ6xIVkemVuaWEgdyBzaWVjaScsXHJcbiAgICAgICdOYXp3YSB1xbx5dGtvd25pa2EgZG8gbG9nb3dhbmlhJyxcclxuICAgICAgJ0FkcmVzIHN0cm9ueSBpbnRlcm5ldG93ZWonLFxyXG4gICAgICAnVHlwIGthYmxhIHNpZWNpb3dlZ28nLFxyXG4gICAgXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDAsXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjogJ0N6eW0gcsOzxbxuaSBzacSZIGluc3RydWtjamEgd2FydW5rb3dhIGBpZmAgb2QgcMSZdGxpIGB3aGlsZWAgdyBwcm9ncmFtb3dhbml1PycsXHJcbiAgICBvcHRpb25zOiBbXHJcbiAgICAgICdgaWZgIHBvd3RhcnphIGJsb2sga29kdSwgYHdoaWxlYCBzcHJhd2R6YSB3YXJ1bmVrIGplZG5va3JvdG5pZScsXHJcbiAgICAgICdgaWZgIHNwcmF3ZHphIHdhcnVuZWsgamVkbm9rcm90bmllLCBgd2hpbGVgIHBvd3RhcnphIGJsb2sga29kdSBkb3DDs2tpIHdhcnVuZWsgamVzdCBwcmF3ZHppd3knLFxyXG4gICAgICAnTmllIG1hIG1pxJlkenkgbmltaSByw7PFvG5pY3knLFxyXG4gICAgICAnYGlmYCBzxYJ1xbx5IHR5bGtvIGRvIGRla2xhcm93YW5pYSB6bWllbm55Y2gsIGB3aGlsZWAgZG8gb3BlcmFjamkgbWF0ZW1hdHljem55Y2gnLFxyXG4gICAgXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDEsXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjogJ0RvIGN6ZWdvIG5hamN6xJnFm2NpZWogc8WCdcW8eSBjenVqbmlrIGNpxZtuaWVuaWEgdyBzeXN0ZW1pZSBhdXRvbWF0eWtpPycsXHJcbiAgICBvcHRpb25zOiBbJ1BvbWlhcnUgdGVtcGVyYXR1cnknLCAnUG9taWFydSBvZGxlZ8WCb8WbY2knLCAnUG9taWFydSBzacWCeScsICdQb21pYXJ1IGNpxZtuaWVuaWEnXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDMsXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjogJ0NvIG96bmFjemEgemFzYWRhIHRyw7NqcG9kemlhxYJ1IHcga29tcG96eWNqaSBmb3RvZ3JhZmljem5laj8nLFxyXG4gICAgb3B0aW9uczogW1xyXG4gICAgICAnRHppZWxlbmllIG9icmF6dSBuYSAzIHLDs3duZSBjesSZxZtjaSBwaW9ub3dvIGkgcG96aW9tbyBpIHVtaWVzemN6YW5pZSBrbHVjem93eWNoIGVsZW1lbnTDs3cgbmEgbGluaWFjaCBsdWIgaWNoIHByemVjacSZY2lhY2gnLFxyXG4gICAgICAnVcW8eXdhbmllIHR5bGtvIDMgZ8WCw7N3bnljaCBrb2xvcsOzdyB3IGthZHJ6ZScsXHJcbiAgICAgICdSb2JpZW5pZSB6YXdzemUgMyB6ZGrEmcSHIHRlaiBzYW1laiBzY2VueScsXHJcbiAgICAgICdCYWxhbnNvd2FuaWUgMyBnxYLDs3dueWNoIG9iaWVrdMOzdyB3IGthZHJ6ZScsXHJcbiAgICBdLFxyXG4gICAgY29ycmVjdEFuc3dlcjogMCxcclxuICB9LFxyXG4gIHtcclxuICAgIHF1ZXN0aW9uOiAnSmFrYSBqZXN0IHBvZHN0YXdvd2Egcm9sYSBzeXN0ZW11IG9wZXJhY3lqbmVnbz8nLFxyXG4gICAgb3B0aW9uczogW1xyXG4gICAgICAnVHdvcnplbmllIGdyYWZpa2kga29tcHV0ZXJvd2VqJyxcclxuICAgICAgJ1phcnrEhWR6YW5pZSB6YXNvYmFtaSBzcHJ6xJl0b3d5bWkgaSBwcm9ncmFtb3d5bWkga29tcHV0ZXJhJyxcclxuICAgICAgJ1Bpc2FuaWUga29kdSBwcm9ncmFtw7N3JyxcclxuICAgICAgJ1ByemVnbMSFZGFuaWUgSW50ZXJuZXR1JyxcclxuICAgIF0sXHJcbiAgICBjb3JyZWN0QW5zd2VyOiAxLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcXVlc3Rpb246XHJcbiAgICAgICdKYWtpZWdvIHR5cHUgZGFueWNoIG5hamN6xJnFm2NpZWogdcW8eWplc3ogZG8gcHJ6ZWNob3d5d2FuaWEgd2lla3Ugb3NvYnkgKGxpY3piYSBjYcWCa293aXRhKT8nLFxyXG4gICAgb3B0aW9uczogW1xyXG4gICAgICAnU3RyaW5nIChjacSFZyB6bmFrw7N3KScsXHJcbiAgICAgICdCb29sZWFuICh3YXJ0b8WbxIcgbG9naWN6bmEpJyxcclxuICAgICAgJ0Zsb2F0IChsaWN6YmEgem1pZW5ub3ByemVjaW5rb3dhKScsXHJcbiAgICAgICdJbnRlZ2VyIChsaWN6YmEgY2HFgmtvd2l0YSknLFxyXG4gICAgXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDMsXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjogJ0VsZW1lbnQgd3lrb25hd2N6eSAoYWt0dWF0b3IpIHcgc3lzdGVtaWUgYXV0b21hdHlraSB0byB1cnrEhWR6ZW5pZSwga3TDs3JlLi4uJyxcclxuICAgIG9wdGlvbnM6IFtcclxuICAgICAgJ09kY3p5dHVqZSBkYW5lIHogY3p1am5pa8OzdycsXHJcbiAgICAgICdXeWtvbnVqZSBrb21lbmR5IHplIHN0ZXJvd25pa2EsIGFieSB3eWtvbmHEhyBmaXp5Y3puZSBkemlhxYJhbmllIChucC4gcnVjaCknLFxyXG4gICAgICAnUHJ6ZWNob3d1amUgZGFuZSBoaXN0b3J5Y3puZScsXHJcbiAgICAgICdTxYJ1xbx5IGRvIGtvbXVuaWthY2ppIHogb3BlcmF0b3JlbScsXHJcbiAgICBdLFxyXG4gICAgY29ycmVjdEFuc3dlcjogMSxcclxuICB9LFxyXG4gIHtcclxuICAgIHF1ZXN0aW9uOlxyXG4gICAgICAnS3TDs3J5IGZvcm1hdCBwbGlrdSBncmFmaWN6bmVnbyBqZXN0IGJlenN0cmF0bnkgaSBjesSZc3RvIHXFvHl3YW55IHcgcHJvZmVzam9uYWxuZWogZWR5Y2ppLCB6YWNob3d1asSFYyBtYWtzeW1hbG7EhSBqYWtvxZvEhyBrb3N6dGVtIHJvem1pYXJ1PycsXHJcbiAgICBvcHRpb25zOiBbJ0pQRUcnLCAnR0lGJywgJ1BORycsICdSQVcnXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDMsXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjogJ0NvIGNocm9uaSBzaWXEhyBrb21wdXRlcm93xIUgcHJ6ZWQgbmllYXV0b3J5em93YW55bSBkb3N0xJlwZW0geiB6ZXduxIV0cno/JyxcclxuICAgIG9wdGlvbnM6IFsnUm91dGVyJywgJ1N3aXRjaCcsICdNb2RlbScsICdGaXJld2FsbCAoemFwb3JhIHNpZWNpb3dhKSddLFxyXG4gICAgY29ycmVjdEFuc3dlcjogMyxcclxuICB9LFxyXG4gIHtcclxuICAgIHF1ZXN0aW9uOiAnQ28gdG8gamVzdCBJREUgKEludGVncmF0ZWQgRGV2ZWxvcG1lbnQgRW52aXJvbm1lbnQpIHcga29udGVrxZtjaWUgcHJvZ3JhbW93YW5pYT8nLFxyXG4gICAgb3B0aW9uczogW1xyXG4gICAgICAnU3lzdGVtIG9wZXJhY3lqbnknLFxyXG4gICAgICAnTmFyesSZZHppZSBkbyB6YXJ6xIVkemFuaWEgYmF6xIUgZGFueWNoJyxcclxuICAgICAgJ1ppbnRlZ3Jvd2FuZSDFm3JvZG93aXNrbyBwcm9ncmFtaXN0eWN6bmUgKGVkeXRvciBrb2R1LCBrb21waWxhdG9yLCBkZWJ1Z2dlciB3IGplZG55bSknLFxyXG4gICAgICAnUHJvdG9rw7PFgiBzaWVjaW93eScsXHJcbiAgICBdLFxyXG4gICAgY29ycmVjdEFuc3dlcjogMixcclxuICB9LFxyXG4gIHtcclxuICAgIHF1ZXN0aW9uOlxyXG4gICAgICAnUHJ6eWvFgmFkZW0gY3p1am5pa2EgemJsacW8ZW5pb3dlZ28sIHd5a3J5d2FqxIVjZWdvIG9iZWNub8WbxIcgb2JpZWt0dSBiZXogZml6eWN6bmVnbyBrb250YWt0dSwgbW/FvGUgYnnEhzonLFxyXG4gICAgb3B0aW9uczogWydUZXJtb21ldHInLCAnRm90b2tvbcOzcmthJywgJ01hbm9tZXRyIChjenVqbmlrIGNpxZtuaWVuaWEpJywgJ0FrY2VsZXJvbWV0ciddLFxyXG4gICAgY29ycmVjdEFuc3dlcjogMSxcclxuICB9LFxyXG4gIHtcclxuICAgIHF1ZXN0aW9uOiAnRG8gY3plZ28gc8WCdcW8eSBiYWxhbnMgYmllbGkgKHdoaXRlIGJhbGFuY2UpIHcgYXBhcmFjaWUgZm90b2dyYWZpY3pueW0/JyxcclxuICAgIG9wdGlvbnM6IFtcclxuICAgICAgJ0RvIHJlZ3VsYWNqaSBvc3Ryb8WbY2knLFxyXG4gICAgICAnRG8ga29yZWtjamkga29sb3LDs3csIGFieSBiaWHFgnkgd3lnbMSFZGHFgiBuYSBiaWHFgnkgbmllemFsZcW8bmllIG9kIMW6csOzZMWCYSDFm3dpYXTFgmEnLFxyXG4gICAgICAnRG8gdXN0YXdpYW5pYSBjemFzdSBuYcWbd2lldGxhbmlhJyxcclxuICAgICAgJ0RvIGRvZGF3YW5pYSBlZmVrdMOzdyBzcGVjamFsbnljaCcsXHJcbiAgICBdLFxyXG4gICAgY29ycmVjdEFuc3dlcjogMSxcclxuICB9LFxyXG4gIHtcclxuICAgIHF1ZXN0aW9uOlxyXG4gICAgICAnS3TDs3J5IHByb3Rva8OzxYIgamVzdCB1xbx5d2FueSBkbyBiZXpwaWVjem5lZ28gKHN6eWZyb3dhbmVnbykgcHJ6ZXN5xYJhbmlhIHN0cm9uIGludGVybmV0b3d5Y2g/JyxcclxuICAgIG9wdGlvbnM6IFsnSFRUUCcsICdGVFAnLCAnU01UUCcsICdIVFRQUyddLFxyXG4gICAgY29ycmVjdEFuc3dlcjogMyxcclxuICB9LFxyXG4gIHtcclxuICAgIHF1ZXN0aW9uOiAnQ28gdG8gamVzdCB6bWllbm5hIHcgcHJvZ3JhbW93YW5pdT8nLFxyXG4gICAgb3B0aW9uczogW1xyXG4gICAgICAnRnVua2NqYSB3eWtvbnVqxIVjYSBva3JlxZtsb25lIHphZGFuaWUnLFxyXG4gICAgICAnVHlwIHDEmXRsaScsXHJcbiAgICAgICdOYXp3YW5lIG1pZWpzY2UgdyBwYW1pxJljaSBrb21wdXRlcmEgc8WCdcW8xIVjZSBkbyBwcnplY2hvd3l3YW5pYSBkYW55Y2gnLFxyXG4gICAgICAnUG9sZWNlbmllIHd5xZt3aWV0bGFqxIVjZSB0ZWtzdCBuYSBla3JhbmllJyxcclxuICAgIF0sXHJcbiAgICBjb3JyZWN0QW5zd2VyOiAyLFxyXG4gIH0sXHJcbiAgLy8gRG9kYWogd2nEmWNlaiBweXRhxYQgdHV0YWpcclxuXTtcclxuIiwiLy8gc3JjL1VJL1VJTWFuYWdlci5qc1xyXG5pbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFVJTWFuYWdlciB7XHJcbiAgc3RhdGljIHNjb3JlRWxlbWVudCA9IG51bGw7XHJcbiAgc3RhdGljIHRhcmdldEVsZW1lbnQgPSBudWxsO1xyXG4gIHN0YXRpYyBjb250cm9sc0NvbnRhaW5lciA9IG51bGw7XHJcbiAgc3RhdGljIHF1ZXN0aW9uT3ZlcmxheSA9IG51bGw7XHJcbiAgc3RhdGljIHF1ZXN0aW9uVGV4dEVsZW1lbnQgPSBudWxsO1xyXG4gIHN0YXRpYyBhbnN3ZXJCdXR0b25zQ29udGFpbmVyID0gbnVsbDtcclxuICBzdGF0aWMgZmxvb3JTZWxlY3Rpb25QYW5lbCA9IG51bGw7XHJcbiAgc3RhdGljIGZsb29yQnV0dG9uc0NvbnRhaW5lciA9IG51bGw7XHJcbiAgc3RhdGljIGZsYXNoTWVzc2FnZUNvbnRhaW5lciA9IG51bGw7XHJcbiAgc3RhdGljIGxvYWRpbmdPdmVybGF5RWxlbWVudCA9IG51bGw7XHJcblxyXG4gIHN0YXRpYyBnYW1lT3ZlclNjcmVlbkVsZW1lbnQgPSBudWxsO1xyXG4gIHN0YXRpYyBnYW1lT3ZlclRpdGxlRWxlbWVudCA9IG51bGw7XHJcbiAgc3RhdGljIGNyZWF0b3JOYW1lc0xpc3RFbGVtZW50ID0gbnVsbDtcclxuICBzdGF0aWMgY2xhc3NJbmZvRWxlbWVudCA9IG51bGw7XHJcbiAgc3RhdGljIHJldHVyblRvTWVudUJ1dHRvbkVsZW1lbnQgPSBudWxsO1xyXG4gIHN0YXRpYyBsZWFkZXJib2FyZEJvZHkgPSBudWxsO1xyXG5cclxuICBzdGF0aWMgZ2FtZXBsYXlNYW5hZ2VySW5zdGFuY2UgPSBudWxsO1xyXG4gIHN0YXRpYyBmbGFzaE1lc3NhZ2VUaW1lb3V0cyA9IHt9O1xyXG5cclxuICBzdGF0aWMgdGltZXJFbGVtZW50ID0gbnVsbDtcclxuICBzdGF0aWMgZ2FtZVN0YXJ0VGltZSA9IDA7IC8vIFRpbWVzdGFtcCBvZiB3aGVuIHRoZSBnYW1lICh0aW1lcikgYWN0dWFsbHkgc3RhcnRlZFxyXG4gIHN0YXRpYyB0aW1lckludGVydmFsSWQgPSBudWxsOyAvLyBUbyBzdG9yZSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgSURcclxuICBzdGF0aWMgbGVhZGVyYm9hcmREYXRhID0gW107XHJcblxyXG4gIHN0YXRpYyBzZXRHYW1lcGxheU1hbmFnZXIobWFuYWdlcikge1xyXG4gICAgaWYgKCFtYW5hZ2VyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tVSU1hbmFnZXJdIEF0dGVtcHRlZCB0byBzZXQgR2FtZXBsYXlNYW5hZ2VyIHRvIG51bGwvdW5kZWZpbmVkIScpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB0aGlzLmdhbWVwbGF5TWFuYWdlckluc3RhbmNlID0gbWFuYWdlcjtcclxuICAgIGNvbnNvbGUubG9nKCdbVUlNYW5hZ2VyXSBHYW1lcGxheU1hbmFnZXIgaW5zdGFuY2UgcmVnaXN0ZXJlZC4nKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBpbml0aWFsaXplVUkoaW5wdXRNYW5hZ2VyKSB7XHJcbiAgICBjb25zb2xlLmxvZygnW1VJTWFuYWdlcl0gSW5pdGlhbGl6aW5nIGluLWdhbWUgVUkgZWxlbWVudHMuLi4nKTtcclxuICAgIGlmICghaW5wdXRNYW5hZ2VyKVxyXG4gICAgICBjb25zb2xlLndhcm4oJ1tVSU1hbmFnZXJdIElucHV0TWFuYWdlciBub3QgcHJvdmlkZWQuIE9uLXNjcmVlbiBjb250cm9scyBtYXkgbm90IGZ1bmN0aW9uLicpO1xyXG5cclxuICAgIHRoaXMuY3JlYXRlQ29udHJvbHMoaW5wdXRNYW5hZ2VyKTtcclxuICAgIHRoaXMuY3JlYXRlUXVlc3Rpb25VSSgpO1xyXG4gICAgdGhpcy5jcmVhdGVGbG9vclNlbGVjdGlvblVJKCk7XHJcbiAgICB0aGlzLmVuc3VyZUZsYXNoTWVzc2FnZUNvbnRhaW5lcigpO1xyXG4gICAgdGhpcy5nZXRMb2FkaW5nT3ZlcmxheSgpOyAvLyBFbnN1cmVzIGl0IGV4aXN0cyBidXQgZG9lc24ndCBzaG93IGl0XHJcbiAgICB0aGlzLmNyZWF0ZUdhbWVPdmVyU2NyZWVuKCk7IC8vIEluaXRpYWxpemVzIEdhbWUgT3ZlciBzY3JlZW4gZWxlbWVudHNcclxuICAgIHRoaXMuaW5pdGlhbGl6ZVRpbWVyKCk7IC8vIEluaXRpYWxpemVzIHRpbWVyIGVsZW1lbnQgYW5kIGxvYWRzIGxlYWRlcmJvYXJkXHJcblxyXG4gICAgaWYgKCF0aGlzLmdhbWVwbGF5TWFuYWdlckluc3RhbmNlKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICAnW1VJTWFuYWdlcl0gV0FSTklORzogR2FtZXBsYXlNYW5hZ2VyIG5vdCBzZXQgYnkgZW5kIG9mIGluaXRpYWxpemVVSS4gSW50ZXJhY3RpdmUgVUkgbWF5IGZhaWwuJ1xyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coJ1tVSU1hbmFnZXJdIEluLWdhbWUgVUkgaW5pdGlhbGl6YXRpb24gY29tcGxldGUuJyk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgY3JlYXRlQ29udHJvbHMoaW5wdXRNYW5hZ2VyKSB7XHJcbiAgICB0aGlzLmNvbnRyb2xzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRyb2xzLWNvbnRhaW5lcicpO1xyXG4gICAgaWYgKCF0aGlzLmNvbnRyb2xzQ29udGFpbmVyKSB7XHJcbiAgICAgIHRoaXMuY29udHJvbHNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgdGhpcy5jb250cm9sc0NvbnRhaW5lci5pZCA9ICdjb250cm9scy1jb250YWluZXInO1xyXG4gICAgICB0aGlzLmNvbnRyb2xzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2NvbnRyb2xzLWNvbnRhaW5lcicpO1xyXG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuY29udHJvbHNDb250YWluZXIpOyAvLyBDb25zaWRlciBhcHBlbmRpbmcgdG8gYSBnYW1lLXNwZWNpZmljIFVJIGxheWVyXHJcbiAgICB9XHJcbiAgICB0aGlzLmNvbnRyb2xzQ29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xyXG5cclxuICAgIGNvbnN0IGFycm93cyA9IFtcclxuICAgICAgeyBkaXJlY3Rpb246ICd1cCcsIGljb246ICfihpEnLCBncmlkQXJlYTogJ3VwJyB9LFxyXG4gICAgICB7IGRpcmVjdGlvbjogJ2xlZnQnLCBpY29uOiAn4oaQJywgZ3JpZEFyZWE6ICdsZWZ0JyB9LFxyXG4gICAgICB7IGRpcmVjdGlvbjogJ3JpZ2h0JywgaWNvbjogJ+KGkicsIGdyaWRBcmVhOiAncmlnaHQnIH0sXHJcbiAgICAgIHsgZGlyZWN0aW9uOiAnZG93bicsIGljb246ICfihpMnLCBncmlkQXJlYTogJ2Rvd24nIH0sXHJcbiAgICBdO1xyXG4gICAgYXJyb3dzLmZvckVhY2goKHsgZGlyZWN0aW9uLCBpY29uLCBncmlkQXJlYSB9KSA9PiB7XHJcbiAgICAgIGNvbnN0IGJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICBidG4uY2xhc3NOYW1lID0gYGNvbnRyb2wtYnRuICR7ZGlyZWN0aW9ufWA7XHJcbiAgICAgIGJ0bi50ZXh0Q29udGVudCA9IGljb247XHJcbiAgICAgIGJ0bi5zdHlsZS5ncmlkQXJlYSA9IGdyaWRBcmVhO1xyXG4gICAgICBidG4uZGF0YXNldC5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XHJcbiAgICAgIGlmIChpbnB1dE1hbmFnZXIpIHtcclxuICAgICAgICBjb25zdCBzdGFydCA9IChlKSA9PiB7XHJcbiAgICAgICAgICBpbnB1dE1hbmFnZXIuc2V0S2V5KGRpcmVjdGlvbiwgdHJ1ZSk7XHJcbiAgICAgICAgICBidG4uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBlbmQgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgaWYgKGlucHV0TWFuYWdlci5rZXlzW2RpcmVjdGlvbl0pIGlucHV0TWFuYWdlci5zZXRLZXkoZGlyZWN0aW9uLCBmYWxzZSk7XHJcbiAgICAgICAgICBidG4uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHN0YXJ0LCB7IHBhc3NpdmU6IGZhbHNlIH0pO1xyXG4gICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGVuZCwgeyBwYXNzaXZlOiBmYWxzZSB9KTtcclxuICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCBlbmQsIHsgcGFzc2l2ZTogZmFsc2UgfSk7XHJcbiAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHN0YXJ0KTtcclxuICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGVuZCk7XHJcbiAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBlbmQpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuY29udHJvbHNDb250YWluZXIuYXBwZW5kQ2hpbGQoYnRuKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IHNjb3JlRGlzcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY29yZS1kaXNwbGF5Jyk7XHJcbiAgICBpZiAoIXNjb3JlRGlzcCkge1xyXG4gICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgZGl2LmlkID0gJ3Njb3JlLWRpc3BsYXknO1xyXG4gICAgICBkaXYuY2xhc3NMaXN0LmFkZCgnc2NvcmUtZGlzcGxheScpO1xyXG4gICAgICBkaXYuaW5uZXJIVE1MID0gYEJvb2tzOiA8c3BhbiBpZD1cInNjb3JlLXZhbHVlXCI+MDwvc3Bhbj4gLyA8c3BhbiBpZD1cInNjb3JlLXRhcmdldFwiPj88L3NwYW4+YDtcclxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpOyAvLyBDb25zaWRlciBnYW1lLXNwZWNpZmljIFVJIGxheWVyXHJcbiAgICAgIHRoaXMuc2NvcmVFbGVtZW50ID0gZGl2LnF1ZXJ5U2VsZWN0b3IoJyNzY29yZS12YWx1ZScpO1xyXG4gICAgICB0aGlzLnRhcmdldEVsZW1lbnQgPSBkaXYucXVlcnlTZWxlY3RvcignI3Njb3JlLXRhcmdldCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zY29yZUVsZW1lbnQgPSBzY29yZURpc3AucXVlcnlTZWxlY3RvcignI3Njb3JlLXZhbHVlJyk7XHJcbiAgICAgIHRoaXMudGFyZ2V0RWxlbWVudCA9IHNjb3JlRGlzcC5xdWVyeVNlbGVjdG9yKCcjc2NvcmUtdGFyZ2V0Jyk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5zY29yZUVsZW1lbnQpIHRoaXMuc2NvcmVFbGVtZW50LnRleHRDb250ZW50ID0gJzAnO1xyXG4gICAgaWYgKHRoaXMudGFyZ2V0RWxlbWVudCkgdGhpcy50YXJnZXRFbGVtZW50LnRleHRDb250ZW50ID0gJz8nO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGNyZWF0ZVF1ZXN0aW9uVUkoKSB7XHJcbiAgICB0aGlzLnF1ZXN0aW9uT3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWVzdGlvbi1vdmVybGF5Jyk7XHJcbiAgICBpZiAoIXRoaXMucXVlc3Rpb25PdmVybGF5KSB7XHJcbiAgICAgIHRoaXMucXVlc3Rpb25PdmVybGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHRoaXMucXVlc3Rpb25PdmVybGF5LmlkID0gJ3F1ZXN0aW9uLW92ZXJsYXknO1xyXG4gICAgICB0aGlzLnF1ZXN0aW9uT3ZlcmxheS5jbGFzc0xpc3QuYWRkKCd1aS1wYW5lbCcpO1xyXG4gICAgICB0aGlzLnF1ZXN0aW9uT3ZlcmxheS5pbm5lckhUTUwgPSBgPGRpdiBpZD1cImJsYWNrYm9hcmQtY29udGVudFwiPjxoMj5RdWVzdGlvbjwvaDI+PGRpdiBpZD1cInF1ZXN0aW9uLWJveFwiPjxwIGlkPVwicXVlc3Rpb24tdGV4dFwiPjwvcD48ZGl2IGlkPVwiYW5zd2VyLWJ1dHRvbnNcIj48L2Rpdj48L2Rpdj48L2Rpdj5gO1xyXG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMucXVlc3Rpb25PdmVybGF5KTtcclxuICAgIH1cclxuICAgIHRoaXMucXVlc3Rpb25UZXh0RWxlbWVudCA9IHRoaXMucXVlc3Rpb25PdmVybGF5LnF1ZXJ5U2VsZWN0b3IoJyNxdWVzdGlvbi10ZXh0Jyk7XHJcbiAgICB0aGlzLmFuc3dlckJ1dHRvbnNDb250YWluZXIgPSB0aGlzLnF1ZXN0aW9uT3ZlcmxheS5xdWVyeVNlbGVjdG9yKCcjYW5zd2VyLWJ1dHRvbnMnKTtcclxuICAgIGlmICghdGhpcy5xdWVzdGlvblRleHRFbGVtZW50IHx8ICF0aGlzLmFuc3dlckJ1dHRvbnNDb250YWluZXIpXHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tVSU1hbmFnZXJdIEZhaWxlZCB0byBmaW5kL2NyZWF0ZSBxdWVzdGlvbiBVSSBjaGlsZHJlbi4nKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBjcmVhdGVGbG9vclNlbGVjdGlvblVJKCkge1xyXG4gICAgdGhpcy5mbG9vclNlbGVjdGlvblBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zsb29yLXNlbGVjdGlvbi11aScpO1xyXG4gICAgaWYgKCF0aGlzLmZsb29yU2VsZWN0aW9uUGFuZWwpIHtcclxuICAgICAgdGhpcy5mbG9vclNlbGVjdGlvblBhbmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHRoaXMuZmxvb3JTZWxlY3Rpb25QYW5lbC5pZCA9ICdmbG9vci1zZWxlY3Rpb24tdWknO1xyXG4gICAgICB0aGlzLmZsb29yU2VsZWN0aW9uUGFuZWwuY2xhc3NMaXN0LmFkZCgndWktcGFuZWwnKTtcclxuICAgICAgdGhpcy5mbG9vclNlbGVjdGlvblBhbmVsLmlubmVySFRNTCA9IGA8aDI+U2VsZWN0IEZsb29yPC9oMj48ZGl2IGlkPVwiZmxvb3ItYnV0dG9ucy1jb250YWluZXJcIj48L2Rpdj5gO1xyXG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZmxvb3JTZWxlY3Rpb25QYW5lbCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmZsb29yQnV0dG9uc0NvbnRhaW5lciA9IHRoaXMuZmxvb3JTZWxlY3Rpb25QYW5lbC5xdWVyeVNlbGVjdG9yKCcjZmxvb3ItYnV0dG9ucy1jb250YWluZXInKTtcclxuICAgIGlmICghdGhpcy5mbG9vckJ1dHRvbnNDb250YWluZXIpXHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tVSU1hbmFnZXJdIEZhaWxlZCB0byBmaW5kL2NyZWF0ZSBmbG9vciBidXR0b25zIGNvbnRhaW5lci4nKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBlbnN1cmVGbGFzaE1lc3NhZ2VDb250YWluZXIoKSB7XHJcbiAgICB0aGlzLmZsYXNoTWVzc2FnZUNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmbGFzaC1tZXNzYWdlLWNvbnRhaW5lcicpO1xyXG4gICAgaWYgKCF0aGlzLmZsYXNoTWVzc2FnZUNvbnRhaW5lcikge1xyXG4gICAgICB0aGlzLmZsYXNoTWVzc2FnZUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICB0aGlzLmZsYXNoTWVzc2FnZUNvbnRhaW5lci5pZCA9ICdmbGFzaC1tZXNzYWdlLWNvbnRhaW5lcic7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5mbGFzaE1lc3NhZ2VDb250YWluZXIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMuZmxhc2hNZXNzYWdlQ29udGFpbmVyO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGZsYXNoTWVzc2FnZShtZXNzYWdlLCB0eXBlID0gJ2luZm8nLCBkdXJhdGlvbiA9IDMwMDApIHtcclxuICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuZW5zdXJlRmxhc2hNZXNzYWdlQ29udGFpbmVyKCk7XHJcbiAgICBpZiAoIWNvbnRhaW5lcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbVUlNYW5hZ2VyXSBGbGFzaCBtc2cgY29udGFpbmVyIG5vdCBmb3VuZC4nKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgbXNnRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIG1zZ0VsLnRleHRDb250ZW50ID0gbWVzc2FnZTtcclxuICAgIG1zZ0VsLmNsYXNzTmFtZSA9ICdmbGFzaC1tZXNzYWdlJztcclxuICAgIG1zZ0VsLmNsYXNzTGlzdC5hZGQoYGZsYXNoLSR7dHlwZX1gKTtcclxuICAgIGNvbnN0IG1zZ0lkID0gYGZsYXNoLSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgNSl9YDtcclxuICAgIG1zZ0VsLmlkID0gbXNnSWQ7XHJcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQobXNnRWwpO1xyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IG1zZ0VsLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKSk7XHJcbiAgICBjbGVhclRpbWVvdXQodGhpcy5mbGFzaE1lc3NhZ2VUaW1lb3V0c1ttc2dJZF0pO1xyXG4gICAgY29uc3QgcmVtb3ZlID0gKCkgPT4ge1xyXG4gICAgICBtc2dFbC5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XHJcbiAgICAgIGNvbnN0IGVuZEhhbmRsZXIgPSAoZSkgPT4ge1xyXG4gICAgICAgIGlmIChlLnByb3BlcnR5TmFtZSA9PT0gJ29wYWNpdHknIHx8IGUucHJvcGVydHlOYW1lID09PSAndHJhbnNmb3JtJykge1xyXG4gICAgICAgICAgaWYgKG1zZ0VsLnBhcmVudE5vZGUpIG1zZ0VsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobXNnRWwpO1xyXG4gICAgICAgICAgZGVsZXRlIHRoaXMuZmxhc2hNZXNzYWdlVGltZW91dHNbbXNnSWRdO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgICAgbXNnRWwuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGVuZEhhbmRsZXIsIHsgb25jZTogdHJ1ZSB9KTtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgLy8gRmFsbGJhY2sgcmVtb3ZhbFxyXG4gICAgICAgIGlmIChtc2dFbC5wYXJlbnROb2RlKSB7XHJcbiAgICAgICAgICBtc2dFbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgZW5kSGFuZGxlcik7XHJcbiAgICAgICAgICBtc2dFbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG1zZ0VsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGVsZXRlIHRoaXMuZmxhc2hNZXNzYWdlVGltZW91dHNbbXNnSWRdO1xyXG4gICAgICB9LCA1MDApO1xyXG4gICAgfTtcclxuICAgIHRoaXMuZmxhc2hNZXNzYWdlVGltZW91dHNbbXNnSWRdID0gc2V0VGltZW91dChyZW1vdmUsIGR1cmF0aW9uKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXRMb2FkaW5nT3ZlcmxheSgpIHtcclxuICAgIGlmICghdGhpcy5sb2FkaW5nT3ZlcmxheUVsZW1lbnQpIHtcclxuICAgICAgdGhpcy5sb2FkaW5nT3ZlcmxheUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZGluZy1vdmVybGF5Jyk7XHJcbiAgICAgIGlmICghdGhpcy5sb2FkaW5nT3ZlcmxheUVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLmxvYWRpbmdPdmVybGF5RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHRoaXMubG9hZGluZ092ZXJsYXlFbGVtZW50LmlkID0gJ2xvYWRpbmctb3ZlcmxheSc7XHJcbiAgICAgICAgdGhpcy5sb2FkaW5nT3ZlcmxheUVsZW1lbnQuY2xhc3NOYW1lID0gJ2xvYWRpbmctb3ZlcmxheSc7XHJcbiAgICAgICAgY29uc3QgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuICAgICAgICB0ZXh0LnRleHRDb250ZW50ID0gJ0xvYWRpbmcuLi4nO1xyXG4gICAgICAgIHRoaXMubG9hZGluZ092ZXJsYXlFbGVtZW50LmFwcGVuZENoaWxkKHRleHQpO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5sb2FkaW5nT3ZlcmxheUVsZW1lbnQpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdbVUlNYW5hZ2VyXSBMb2FkaW5nIG92ZXJsYXkgY3JlYXRlZC4nKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMubG9hZGluZ092ZXJsYXlFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGNyZWF0ZUdhbWVPdmVyU2NyZWVuKCkge1xyXG4gICAgdGhpcy5nYW1lT3ZlclNjcmVlbkVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZS1vdmVyLXNjcmVlbicpO1xyXG4gICAgaWYgKCF0aGlzLmdhbWVPdmVyU2NyZWVuRWxlbWVudCkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbVUlNYW5hZ2VyXSBDUklUOiAjZ2FtZS1vdmVyLXNjcmVlbiBub3QgaW4gSFRNTCEnKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy5nYW1lT3ZlclRpdGxlRWxlbWVudCA9IHRoaXMuZ2FtZU92ZXJTY3JlZW5FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnYW1lLW92ZXItdGl0bGUnKTtcclxuICAgIHRoaXMuY3JlYXRvck5hbWVzTGlzdEVsZW1lbnQgPSB0aGlzLmdhbWVPdmVyU2NyZWVuRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcjY3JlYXRvci1uYW1lcycpO1xyXG4gICAgdGhpcy5jbGFzc0luZm9FbGVtZW50ID0gdGhpcy5nYW1lT3ZlclNjcmVlbkVsZW1lbnQucXVlcnlTZWxlY3RvcignI2NsYXNzLWluZm8nKTtcclxuICAgIHRoaXMucmV0dXJuVG9NZW51QnV0dG9uRWxlbWVudCA9XHJcbiAgICAgIHRoaXMuZ2FtZU92ZXJTY3JlZW5FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyZXR1cm4tdG8tbWVudS1idXR0b24nKTtcclxuICAgIHRoaXMubGVhZGVyYm9hcmRCb2R5ID0gdGhpcy5nYW1lT3ZlclNjcmVlbkVsZW1lbnQucXVlcnlTZWxlY3RvcignI2xlYWRlcmJvYXJkLWJvZHknKTtcclxuXHJcbiAgICBpZiAoXHJcbiAgICAgICF0aGlzLmdhbWVPdmVyVGl0bGVFbGVtZW50IHx8XHJcbiAgICAgICF0aGlzLmNyZWF0b3JOYW1lc0xpc3RFbGVtZW50IHx8XHJcbiAgICAgICF0aGlzLmNsYXNzSW5mb0VsZW1lbnQgfHxcclxuICAgICAgIXRoaXMucmV0dXJuVG9NZW51QnV0dG9uRWxlbWVudCB8fFxyXG4gICAgICAhdGhpcy5sZWFkZXJib2FyZEJvZHlcclxuICAgICkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbVUlNYW5hZ2VyXSBGYWlsZWQgdG8gZmluZCBHYW1lIE92ZXIgc2NyZWVuIGNoaWxkcmVuIG9yIGxlYWRlcmJvYXJkIGJvZHkuJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMucmV0dXJuVG9NZW51QnV0dG9uRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKSk7XHJcbiAgICAvLyB1cGRhdGVMZWFkZXJib2FyZCB3aWxsIGJlIGNhbGxlZCBieSBzdG9wVGltZXIgb3Igc2hvd0dhbWVPdmVyU2NyZWVuXHJcbiAgICBjb25zb2xlLmxvZygnW1VJTWFuYWdlcl0gR2FtZSBPdmVyIHNjcmVlbiBlbGVtZW50cyBpbml0aWFsaXplZC4nKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBzaG93R2FtZU92ZXJTY3JlZW4oaXNXaW4sIGNyZWF0b3JzID0gW10sIGNsYXNzSW5mb1RleHQgPSAnJykge1xyXG4gICAgaWYgKCF0aGlzLmdhbWVPdmVyU2NyZWVuRWxlbWVudCkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbVUlNYW5hZ2VyXSBHYW1lIE92ZXIgU2NyZWVuIG5vdCBpbml0LCBjcmVhdGluZy4nKTtcclxuICAgICAgdGhpcy5jcmVhdGVHYW1lT3ZlclNjcmVlbigpO1xyXG4gICAgICBpZiAoIXRoaXMuZ2FtZU92ZXJTY3JlZW5FbGVtZW50KSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignW1VJTWFuYWdlcl0gU3RpbGwgdW5hYmxlIHRvIHNob3cgR2FtZSBPdmVyIHNjcmVlbi4nKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICh0aGlzLmdhbWVPdmVyVGl0bGVFbGVtZW50KSB7XHJcbiAgICAgIHRoaXMuZ2FtZU92ZXJUaXRsZUVsZW1lbnQudGV4dENvbnRlbnQgPSBpc1dpbiA/ICdDb25ncmF0dWxhdGlvbnMhIFlvdSBFc2NhcGVkIScgOiAnR2FtZSBPdmVyJztcclxuICAgICAgdGhpcy5nYW1lT3ZlclRpdGxlRWxlbWVudC5jbGFzc05hbWUgPSBpc1dpbiA/ICd3aW4tdGl0bGUnIDogJ2xvc2UtdGl0bGUnO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuY3JlYXRvck5hbWVzTGlzdEVsZW1lbnQpIHtcclxuICAgICAgdGhpcy5jcmVhdG9yTmFtZXNMaXN0RWxlbWVudC5pbm5lckhUTUwgPSAnJztcclxuICAgICAgY3JlYXRvcnMuZm9yRWFjaCgobmFtZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcclxuICAgICAgICBsaS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5jcmVhdG9yTmFtZXNMaXN0RWxlbWVudC5hcHBlbmRDaGlsZChsaSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuY2xhc3NJbmZvRWxlbWVudCkgdGhpcy5jbGFzc0luZm9FbGVtZW50LnRleHRDb250ZW50ID0gY2xhc3NJbmZvVGV4dDtcclxuICAgIHRoaXMudXBkYXRlTGVhZGVyYm9hcmQoKTsgLy8gTG9hZCBhbmQgZGlzcGxheSBsZWFkZXJib2FyZCBkYXRhXHJcbiAgICB0aGlzLmdhbWVPdmVyU2NyZWVuRWxlbWVudC5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XHJcbiAgICB0aGlzLmhpZGVHYW1lVUkoKTtcclxuICAgIHRoaXMuaGlkZVF1ZXN0aW9uKCk7XHJcbiAgICB0aGlzLmhpZGVGbG9vclNlbGVjdGlvblVJKCk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgaGlkZUdhbWVPdmVyU2NyZWVuKCkge1xyXG4gICAgaWYgKHRoaXMuZ2FtZU92ZXJTY3JlZW5FbGVtZW50KSB0aGlzLmdhbWVPdmVyU2NyZWVuRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgc2hvd1F1ZXN0aW9uKHF1ZXN0aW9uRGF0YSkge1xyXG4gICAgaWYgKCF0aGlzLnF1ZXN0aW9uT3ZlcmxheSB8fCAhdGhpcy5xdWVzdGlvblRleHRFbGVtZW50IHx8ICF0aGlzLmFuc3dlckJ1dHRvbnNDb250YWluZXIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignW1VJTWFuYWdlcl0gUXVlc3Rpb24gVUkgbm90IHJlYWR5LCBjcmVhdGluZy4nKTtcclxuICAgICAgdGhpcy5jcmVhdGVRdWVzdGlvblVJKCk7XHJcbiAgICAgIGlmICghdGhpcy5xdWVzdGlvbk92ZXJsYXkgfHwgIXRoaXMucXVlc3Rpb25UZXh0RWxlbWVudCB8fCAhdGhpcy5hbnN3ZXJCdXR0b25zQ29udGFpbmVyKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICghcXVlc3Rpb25EYXRhKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tVSU1hbmFnZXJdIE5vIHF1ZXN0aW9uRGF0YSB0byBzaG93LicpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoIXRoaXMuZ2FtZXBsYXlNYW5hZ2VySW5zdGFuY2U/LmhhbmRsZUFuc3dlcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbVUlNYW5hZ2VyXSBDUklUOiBHYW1lcGxheU1hbmFnZXIvaGFuZGxlQW5zd2VyIG5vdCBzZXQvaW52YWxpZCEnKTtcclxuICAgICAgdGhpcy5mbGFzaE1lc3NhZ2UoJ0Vycm9yOiBHYW1lIGludGVyYWN0aW9uIChRKSBmYWlsZWQuJywgJ2Vycm9yJywgNTAwMCk7XHJcbiAgICAgIHRoaXMuaGlkZVF1ZXN0aW9uKCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMucXVlc3Rpb25UZXh0RWxlbWVudC50ZXh0Q29udGVudCA9IHF1ZXN0aW9uRGF0YS5xdWVzdGlvbjtcclxuICAgIHRoaXMuYW5zd2VyQnV0dG9uc0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcclxuICAgIHF1ZXN0aW9uRGF0YS5vcHRpb25zLmZvckVhY2goKG9wdGlvblRleHQsIGluZGV4KSA9PiB7XHJcbiAgICAgIGNvbnN0IGJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICBidG4udGV4dENvbnRlbnQgPSBvcHRpb25UZXh0O1xyXG4gICAgICBidG4uZGF0YXNldC5pbmRleCA9IGluZGV4LnRvU3RyaW5nKCk7XHJcbiAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKCdhbnN3ZXItYnV0dG9uJyk7XHJcbiAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PlxyXG4gICAgICAgIHRoaXMuZ2FtZXBsYXlNYW5hZ2VySW5zdGFuY2UuaGFuZGxlQW5zd2VyKHBhcnNlSW50KGUudGFyZ2V0LmRhdGFzZXQuaW5kZXgsIDEwKSlcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5hbnN3ZXJCdXR0b25zQ29udGFpbmVyLmFwcGVuZENoaWxkKGJ0bik7XHJcbiAgICB9KTtcclxuICAgIHRoaXMucXVlc3Rpb25PdmVybGF5LmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBoaWRlUXVlc3Rpb24oKSB7XHJcbiAgICBpZiAodGhpcy5xdWVzdGlvbk92ZXJsYXkpIHtcclxuICAgICAgdGhpcy5xdWVzdGlvbk92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xyXG4gICAgICBpZiAodGhpcy5xdWVzdGlvblRleHRFbGVtZW50KSB0aGlzLnF1ZXN0aW9uVGV4dEVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcclxuICAgICAgaWYgKHRoaXMuYW5zd2VyQnV0dG9uc0NvbnRhaW5lcikgdGhpcy5hbnN3ZXJCdXR0b25zQ29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIHNob3dGbG9vclNlbGVjdGlvblVJKG1pbkZsb29yLCBtYXhGbG9vciwgY3VycmVudEZsb29yKSB7XHJcbiAgICBpZiAoIXRoaXMuZmxvb3JTZWxlY3Rpb25QYW5lbCB8fCAhdGhpcy5mbG9vckJ1dHRvbnNDb250YWluZXIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignW1VJTWFuYWdlcl0gRmxvb3Igc2VsZWN0aW9uIFVJIG5vdCByZWFkeSwgY3JlYXRpbmcuJyk7XHJcbiAgICAgIHRoaXMuY3JlYXRlRmxvb3JTZWxlY3Rpb25VSSgpO1xyXG4gICAgICBpZiAoIXRoaXMuZmxvb3JTZWxlY3Rpb25QYW5lbCB8fCAhdGhpcy5mbG9vckJ1dHRvbnNDb250YWluZXIpIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICghdGhpcy5nYW1lcGxheU1hbmFnZXJJbnN0YW5jZT8uaGFuZGxlRmxvb3JTZWxlY3Rpb24pIHtcclxuICAgICAgY29uc29sZS5lcnJvcignW1VJTWFuYWdlcl0gQ1JJVDogR2FtZXBsYXlNYW5hZ2VyL2hhbmRsZUZsb29yU2VsZWN0aW9uIG5vdCBzZXQvaW52YWxpZCEnKTtcclxuICAgICAgdGhpcy5mbGFzaE1lc3NhZ2UoJ0Vycm9yOiBHYW1lIGludGVyYWN0aW9uIChGKSBmYWlsZWQuJywgJ2Vycm9yJywgNTAwMCk7XHJcbiAgICAgIHRoaXMuaGlkZUZsb29yU2VsZWN0aW9uVUkoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy5mbG9vckJ1dHRvbnNDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XHJcbiAgICBmb3IgKGxldCBmbG9vciA9IG1pbkZsb29yOyBmbG9vciA8PSBtYXhGbG9vcjsgZmxvb3IrKykge1xyXG4gICAgICBjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgICAgYnRuLnRleHRDb250ZW50ID0gYEZsb29yICR7Zmxvb3J9YDtcclxuICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoJ2Zsb29yLWJ1dHRvbicpO1xyXG4gICAgICBidG4uZGF0YXNldC5mbG9vciA9IGZsb29yLnRvU3RyaW5nKCk7XHJcbiAgICAgIGlmIChmbG9vciA9PT0gY3VycmVudEZsb29yKSB7XHJcbiAgICAgICAgYnRuLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICBidG4uY2xhc3NMaXN0LmFkZCgnY3VycmVudCcpO1xyXG4gICAgICB9IGVsc2VcclxuICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PlxyXG4gICAgICAgICAgdGhpcy5nYW1lcGxheU1hbmFnZXJJbnN0YW5jZS5oYW5kbGVGbG9vclNlbGVjdGlvbihmbG9vcilcclxuICAgICAgICApO1xyXG4gICAgICB0aGlzLmZsb29yQnV0dG9uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChidG4pO1xyXG4gICAgfVxyXG4gICAgdGhpcy5mbG9vclNlbGVjdGlvblBhbmVsLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBoaWRlRmxvb3JTZWxlY3Rpb25VSSgpIHtcclxuICAgIGlmICh0aGlzLmZsb29yU2VsZWN0aW9uUGFuZWwpIHRoaXMuZmxvb3JTZWxlY3Rpb25QYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgdXBkYXRlU2NvcmUoc2NvcmUsIHRhcmdldCkge1xyXG4gICAgaWYgKCF0aGlzLnNjb3JlRWxlbWVudCkgdGhpcy5zY29yZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NvcmUtdmFsdWUnKTtcclxuICAgIGlmICghdGhpcy50YXJnZXRFbGVtZW50KSB0aGlzLnRhcmdldEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NvcmUtdGFyZ2V0Jyk7XHJcbiAgICBpZiAodGhpcy5zY29yZUVsZW1lbnQpIHRoaXMuc2NvcmVFbGVtZW50LnRleHRDb250ZW50ID0gc2NvcmUudG9TdHJpbmcoKTtcclxuICAgIGlmICh0aGlzLnRhcmdldEVsZW1lbnQpIHRoaXMudGFyZ2V0RWxlbWVudC50ZXh0Q29udGVudCA9IHRhcmdldC50b1N0cmluZygpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHNob3dHYW1lVUkoKSB7XHJcbiAgICBjb25zb2xlLmxvZygnW1VJTWFuYWdlcl0gU2hvd2luZyBHYW1lIFVJLi4uJyk7XHJcbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZS1jYW52YXMnKTtcclxuICAgIGNvbnN0IHNjb3JlRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY29yZS1kaXNwbGF5Jyk7XHJcbiAgICBpZiAoY2FudmFzKSBjYW52YXMuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICBlbHNlIGNvbnNvbGUud2FybignW1VJTWFuYWdlcl0gI2dhbWUtY2FudmFzIG5vdCBmb3VuZC4nKTtcclxuICAgIGlmICh0aGlzLmNvbnRyb2xzQ29udGFpbmVyKSB0aGlzLmNvbnRyb2xzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuICAgIGVsc2UgY29uc29sZS53YXJuKCdbVUlNYW5hZ2VyXSBDb250cm9scyBjb250YWluZXIgbm90IGZvdW5kLicpO1xyXG4gICAgaWYgKHNjb3JlRGlzcGxheSkge1xyXG4gICAgICBzY29yZURpc3BsYXkuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuICAgICAgc2NvcmVEaXNwbGF5LmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuICAgIH0gZWxzZSBjb25zb2xlLndhcm4oJ1tVSU1hbmFnZXJdIFNjb3JlIGRpc3BsYXkgbm90IGZvdW5kLicpO1xyXG4gICAgaWYgKHRoaXMudGltZXJFbGVtZW50KSB0aGlzLnRpbWVyRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuXHJcbiAgICB0aGlzLmhpZGVRdWVzdGlvbigpO1xyXG4gICAgdGhpcy5oaWRlRmxvb3JTZWxlY3Rpb25VSSgpO1xyXG4gICAgdGhpcy5oaWRlR2FtZU92ZXJTY3JlZW4oKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBoaWRlR2FtZVVJKCkge1xyXG4gICAgY29uc29sZS5sb2coJ1tVSU1hbmFnZXJdIEhpZGluZyBHYW1lIFVJLi4uJyk7XHJcbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZS1jYW52YXMnKTtcclxuICAgIGNvbnN0IHNjb3JlRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY29yZS1kaXNwbGF5Jyk7XHJcbiAgICBpZiAoY2FudmFzKSBjYW52YXMuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIGlmICh0aGlzLmNvbnRyb2xzQ29udGFpbmVyKSB0aGlzLmNvbnRyb2xzQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcclxuICAgIGlmIChzY29yZURpc3BsYXkpIHtcclxuICAgICAgc2NvcmVEaXNwbGF5LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgIHNjb3JlRGlzcGxheS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy50aW1lckVsZW1lbnQpIHRoaXMudGltZXJFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgaW5pdGlhbGl6ZVRpbWVyKCkge1xyXG4gICAgaWYgKCF0aGlzLnRpbWVyRWxlbWVudCkge1xyXG4gICAgICB0aGlzLnRpbWVyRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lLXRpbWVyJyk7XHJcbiAgICAgIGlmICghdGhpcy50aW1lckVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLnRpbWVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHRoaXMudGltZXJFbGVtZW50LmlkID0gJ2dhbWUtdGltZXInO1xyXG4gICAgICAgIHRoaXMudGltZXJFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2dhbWUtdGltZXInKTtcclxuICAgICAgICBjb25zdCBnYW1lVWlDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZS1jb250YWluZXInKSB8fCBkb2N1bWVudC5ib2R5O1xyXG4gICAgICAgIGdhbWVVaUNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnRpbWVyRWxlbWVudCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1tVSU1hbmFnZXJdIFRpbWVyIGVsZW1lbnQgZHluYW1pY2FsbHkgY3JlYXRlZC4nKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy50aW1lckVsZW1lbnQudGV4dENvbnRlbnQgPSAnVGltZTogMDowMCc7XHJcbiAgICB0aGlzLnRpbWVyRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOyAvLyBIaWRkZW4gYnkgZGVmYXVsdFxyXG5cclxuICAgIGNvbnN0IHNhdmVkRGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdnYW1lTGVhZGVyYm9hcmQnKTtcclxuICAgIHRyeSB7XHJcbiAgICAgIHRoaXMubGVhZGVyYm9hcmREYXRhID0gc2F2ZWREYXRhID8gSlNPTi5wYXJzZShzYXZlZERhdGEpIDogW107XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tVSU1hbmFnZXJdIEVycm9yIHBhcnNpbmcgbGVhZGVyYm9hcmQgZnJvbSBsb2NhbFN0b3JhZ2U6JywgZSk7XHJcbiAgICAgIHRoaXMubGVhZGVyYm9hcmREYXRhID0gW107XHJcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdnYW1lTGVhZGVyYm9hcmQnKTtcclxuICAgIH1cclxuICAgIC8vIHVwZGF0ZUxlYWRlcmJvYXJkKCkgaXMgdXN1YWxseSBjYWxsZWQgd2hlbiBHYW1lT3ZlciBzY3JlZW4gaXMgc2hvd25cclxuICAgIGNvbnNvbGUubG9nKCdbVUlNYW5hZ2VyXSBUaW1lciBhbmQgbGVhZGVyYm9hcmQgZGF0YSBpbml0aWFsaXplZC4nKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBzdGFydFRpbWVyKCkge1xyXG4gICAgaWYgKHRoaXMudGltZXJJbnRlcnZhbElkKSB7XHJcbiAgICAgIC8vIENsZWFyIHByZXZpb3VzIGludGVydmFsIGlmIGFueVxyXG4gICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnRpbWVySW50ZXJ2YWxJZCk7XHJcbiAgICAgIHRoaXMudGltZXJJbnRlcnZhbElkID0gbnVsbDtcclxuICAgIH1cclxuICAgIGNvbnN0IGdhbWUgPSB0aGlzLmdhbWVwbGF5TWFuYWdlckluc3RhbmNlPy5nYW1lO1xyXG4gICAgaWYgKGdhbWUgJiYgZ2FtZS5nYW1lU3RhdGUgPT09IEdhbWVTdGF0ZS5QTEFZSU5HKSB7XHJcbiAgICAgIHRoaXMuZ2FtZVN0YXJ0VGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgIGBbVUlNYW5hZ2VyXSBHYW1lIHRpbWVyIHN0YXJ0aW5nLiBTdGFydCB0aW1lOiAke3RoaXMuZ2FtZVN0YXJ0VGltZX0uIFN0YXRlOiAke2dhbWUuZ2FtZVN0YXRlfWBcclxuICAgICAgKTtcclxuICAgICAgdGhpcy51cGRhdGVUaW1lcigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgIGBbVUlNYW5hZ2VyXSBUaW1lciBzdGFydCBkZW5pZWQuIEdhbWU6ICR7ISFnYW1lfSwgU3RhdGU6ICR7XHJcbiAgICAgICAgICBnYW1lPy5nYW1lU3RhdGVcclxuICAgICAgICB9LiBFeHBlY3RlZCBQTEFZSU5HLmBcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXRpYyB1cGRhdGVUaW1lcigpIHtcclxuICAgIGNvbnN0IGdhbWUgPSB0aGlzLmdhbWVwbGF5TWFuYWdlckluc3RhbmNlPy5nYW1lO1xyXG4gICAgaWYgKFxyXG4gICAgICAhdGhpcy5nYW1lU3RhcnRUaW1lIHx8XHJcbiAgICAgICFnYW1lIHx8XHJcbiAgICAgIChnYW1lLmdhbWVTdGF0ZSAhPT0gR2FtZVN0YXRlLlBMQVlJTkcgJiZcclxuICAgICAgICBnYW1lLmdhbWVTdGF0ZSAhPT0gR2FtZVN0YXRlLkFTS0lOR19RVUVTVElPTiAmJlxyXG4gICAgICAgIGdhbWUuZ2FtZVN0YXRlICE9PSBHYW1lU3RhdGUuU0VMRUNUSU5HX0ZMT09SICYmXHJcbiAgICAgICAgZ2FtZS5nYW1lU3RhdGUgIT09IEdhbWVTdGF0ZS5UUkFOU0lUSU9OSU5HKVxyXG4gICAgKSB7XHJcbiAgICAgIGlmICh0aGlzLnRpbWVySW50ZXJ2YWxJZCkge1xyXG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMudGltZXJJbnRlcnZhbElkKTtcclxuICAgICAgICB0aGlzLnRpbWVySW50ZXJ2YWxJZCA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZWxhcHNlZCA9IE1hdGguZmxvb3IoKERhdGUubm93KCkgLSB0aGlzLmdhbWVTdGFydFRpbWUpIC8gMTAwMCk7XHJcbiAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcihlbGFwc2VkIC8gNjApO1xyXG4gICAgY29uc3Qgc2Vjb25kcyA9IGVsYXBzZWQgJSA2MDtcclxuICAgIGlmICh0aGlzLnRpbWVyRWxlbWVudClcclxuICAgICAgdGhpcy50aW1lckVsZW1lbnQudGV4dENvbnRlbnQgPSBgVGltZTogJHttaW51dGVzfToke3NlY29uZHMudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfWA7XHJcbiAgICB0aGlzLnRpbWVySW50ZXJ2YWxJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLnVwZGF0ZVRpbWVyKCkpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHN0b3BUaW1lcih3YXNXaW4pIHtcclxuICAgIGlmICghdGhpcy5nYW1lU3RhcnRUaW1lKSByZXR1cm47IC8vIFRpbWVyIHdhc24ndCBydW5uaW5nXHJcbiAgICBpZiAodGhpcy50aW1lckludGVydmFsSWQpIHtcclxuICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy50aW1lckludGVydmFsSWQpO1xyXG4gICAgICB0aGlzLnRpbWVySW50ZXJ2YWxJZCA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBjb25zdCBlbmRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgIGNvbnN0IHRvdGFsVGltZSA9IChlbmRUaW1lIC0gdGhpcy5nYW1lU3RhcnRUaW1lKSAvIDEwMDA7XHJcbiAgICBjb25zb2xlLmxvZyhgW1VJTWFuYWdlcl0gVGltZXIgc3RvcHBlZC4gVGltZTogJHt0b3RhbFRpbWUudG9GaXhlZCgzKX1zLiBXaW46ICR7d2FzV2lufWApO1xyXG4gICAgaWYgKHdhc1dpbikge1xyXG4gICAgICB0aGlzLmxlYWRlcmJvYXJkRGF0YS5wdXNoKHtcclxuICAgICAgICBuYW1lOiBgUnVuICR7dGhpcy5sZWFkZXJib2FyZERhdGEubGVuZ3RoICsgMX1gLFxyXG4gICAgICAgIHRpbWU6IHRvdGFsVGltZSxcclxuICAgICAgICBkYXRlOiBuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygpLFxyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5sZWFkZXJib2FyZERhdGEuc29ydCgoYSwgYikgPT4gYS50aW1lIC0gYi50aW1lKTtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZ2FtZUxlYWRlcmJvYXJkJywgSlNPTi5zdHJpbmdpZnkodGhpcy5sZWFkZXJib2FyZERhdGEuc2xpY2UoMCwgMTApKSk7XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdbVUlNYW5hZ2VyXSBGYWlsZWQgdG8gc2F2ZSBsZWFkZXJib2FyZDonLCBlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy5nYW1lU3RhcnRUaW1lID0gMDsgLy8gUmVzZXQsIGVmZmVjdGl2ZWx5IHN0b3BwaW5nIHVwZGF0ZVRpbWVyIGxvb3BcclxuICAgIC8vIHVwZGF0ZUxlYWRlcmJvYXJkKCkgd2lsbCBiZSBjYWxsZWQgYnkgc2hvd0dhbWVPdmVyU2NyZWVuXHJcbiAgfVxyXG5cclxuICBzdGF0aWMgdXBkYXRlTGVhZGVyYm9hcmQoKSB7XHJcbiAgICBpZiAoIXRoaXMubGVhZGVyYm9hcmRCb2R5KSB7XHJcbiAgICAgIGNvbnN0IGdvU2NyZWVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWUtb3Zlci1zY3JlZW4nKTtcclxuICAgICAgaWYgKGdvU2NyZWVuKSB0aGlzLmxlYWRlcmJvYXJkQm9keSA9IGdvU2NyZWVuLnF1ZXJ5U2VsZWN0b3IoJyNsZWFkZXJib2FyZC1ib2R5Jyk7XHJcbiAgICAgIGlmICghdGhpcy5sZWFkZXJib2FyZEJvZHkpIHtcclxuICAgICAgICAvKiBjb25zb2xlLndhcm4oJ1tVSU1hbmFnZXJdIExlYWRlcmJvYXJkIGJvZHkgbm90IGZvdW5kIGZvciB1cGRhdGUuJyk7ICovIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy5sZWFkZXJib2FyZEJvZHkuaW5uZXJIVE1MID0gJyc7XHJcbiAgICBjb25zdCB0b3BTY29yZXMgPSB0aGlzLmxlYWRlcmJvYXJkRGF0YS5zbGljZSgwLCAxMCk7XHJcbiAgICBpZiAodG9wU2NvcmVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBjb25zdCByb3cgPSB0aGlzLmxlYWRlcmJvYXJkQm9keS5pbnNlcnRSb3coKTtcclxuICAgICAgY29uc3QgY2VsbCA9IHJvdy5pbnNlcnRDZWxsKCk7XHJcbiAgICAgIGNlbGwuY29sU3BhbiA9IDM7XHJcbiAgICAgIGNlbGwudGV4dENvbnRlbnQgPSAnTm8gcmVjb3JkcyB5ZXQuJztcclxuICAgICAgY2VsbC5zdHlsZS50ZXh0QWxpZ24gPSAnY2VudGVyJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRvcFNjb3Jlcy5mb3JFYWNoKChydW4pID0+IHtcclxuICAgICAgICBjb25zdCBtaW5zID0gTWF0aC5mbG9vcihydW4udGltZSAvIDYwKTtcclxuICAgICAgICBjb25zdCBzZWNzID0gTWF0aC5mbG9vcihydW4udGltZSAlIDYwKTtcclxuICAgICAgICBjb25zdCBtaWxscyA9IE1hdGguZmxvb3IoKHJ1bi50aW1lICogMTAwMCkgJSAxMDAwKTtcclxuICAgICAgICBjb25zdCByb3cgPSB0aGlzLmxlYWRlcmJvYXJkQm9keS5pbnNlcnRSb3coKTtcclxuICAgICAgICByb3cuaW5zZXJ0Q2VsbCgpLnRleHRDb250ZW50ID0gcnVuLm5hbWU7XHJcbiAgICAgICAgcm93Lmluc2VydENlbGwoKS50ZXh0Q29udGVudCA9IGAke21pbnN9OiR7c2Vjcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9LiR7bWlsbHNcclxuICAgICAgICAgIC50b1N0cmluZygpXHJcbiAgICAgICAgICAucGFkU3RhcnQoMywgJzAnKX1gO1xyXG4gICAgICAgIHJvdy5pbnNlcnRDZWxsKCkudGV4dENvbnRlbnQgPSBydW4uZGF0ZTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIi8vIHNyYy9jb3JlL0NoYXJhY3Rlci5qc1xyXG5cclxuZXhwb3J0IGNsYXNzIENoYXJhY3RlciB7XHJcbiAgLyoqIFN0YXRpYyBvYmplY3QgZm9yIGRpcmVjdGlvbiBjb25zdGFudHMgKi9cclxuICBzdGF0aWMgRGlyZWN0aW9uID0ge1xyXG4gICAgRE9XTjogMCxcclxuICAgIFJJR0hUOiAxLFxyXG4gICAgVVA6IDIsXHJcbiAgICBMRUZUOiAzLFxyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZXMgYSBuZXcgQ2hhcmFjdGVyIGluc3RhbmNlLlxyXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggLSBUaGUgcmVuZGVyaW5nIGNvbnRleHQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNwcml0ZVVybCAtIFVSTCBvZiB0aGUgY2hhcmFjdGVyJ3Mgc3ByaXRlIHNoZWV0LlxyXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gQ29uZmlndXJhdGlvbiBvcHRpb25zLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5mcmFtZVNpemU9MzJdIC0gU2l6ZSBvZiBvbmUgZnJhbWUgaW4gdGhlIHNwcml0ZSBzaGVldCAocGl4ZWxzKS5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZnJhbWVDb3VudD00XSAtIE51bWJlciBvZiBmcmFtZXMgcGVyIGFuaW1hdGlvbiBjeWNsZSAocGVyIGRpcmVjdGlvbikuXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNjYWxlPTJdIC0gU2NhbGluZyBmYWN0b3IgZm9yIHJlbmRlcmluZy5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3BlZWQ9M10gLSBNb3ZlbWVudCBzcGVlZCBpbiBwaXhlbHMgcGVyIHVwZGF0ZS5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYW5pbWF0aW9uU3BlZWQ9MTUwXSAtIE1pbGxpc2Vjb25kcyBwZXIgYW5pbWF0aW9uIGZyYW1lLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25Cb3hXaWR0aFJhdGlvPTAuNF0gLSBXaWR0aCBvZiBjb2xsaXNpb24gYm94IHJlbGF0aXZlIHRvIHJlbmRlclNpemUuXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkJveEhlaWdodFJhdGlvPTAuMl0gLSBIZWlnaHQgb2YgY29sbGlzaW9uIGJveCByZWxhdGl2ZSB0byByZW5kZXJTaXplLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25Cb3hGZWV0T2Zmc2V0UmF0aW89MC40XSAtIFZlcnRpY2FsIG9mZnNldCBvZiBjb2xsaXNpb24gYm94IGNlbnRlciBmcm9tIGNoYXJhY3RlciBjZW50ZXIgKHRvd2FyZHMgZmVldCksIHJlbGF0aXZlIHRvIHJlbmRlclNpemUuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoY3R4LCBzcHJpdGVVcmwsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgdGhpcy5jdHggPSBjdHg7XHJcbiAgICB0aGlzLnNwcml0ZSA9IG5ldyBJbWFnZSgpO1xyXG5cclxuICAgIC8vIENvbmZpZ3VyYXRpb24gd2l0aCBkZWZhdWx0c1xyXG4gICAgdGhpcy5mcmFtZVNpemUgPSBvcHRpb25zLmZyYW1lU2l6ZSB8fCAzMjtcclxuICAgIHRoaXMuZnJhbWVDb3VudCA9IG9wdGlvbnMuZnJhbWVDb3VudCB8fCA0OyAvLyBOdW1iZXIgb2YgZnJhbWVzIHBlciBkaXJlY3Rpb25cclxuICAgIHRoaXMuc2NhbGUgPSBvcHRpb25zLnNjYWxlIHx8IDI7XHJcbiAgICB0aGlzLnJlbmRlclNpemUgPSB0aGlzLmZyYW1lU2l6ZSAqIHRoaXMuc2NhbGU7XHJcbiAgICB0aGlzLnNwZWVkID0gb3B0aW9ucy5zcGVlZCB8fCAzO1xyXG4gICAgdGhpcy5hbmltYXRpb25TcGVlZCA9IG9wdGlvbnMuYW5pbWF0aW9uU3BlZWQgfHwgMTUwOyAvLyBtcyBwZXIgZnJhbWVcclxuXHJcbiAgICAvLyBDb2xsaXNpb24gQm94IENvbmZpZ3VyYXRpb25cclxuICAgIHRoaXMuY29sbGlzaW9uQm94V2lkdGhSYXRpbyA9IG9wdGlvbnMuY29sbGlzaW9uQm94V2lkdGhSYXRpbyB8fCAwLjQ7XHJcbiAgICB0aGlzLmNvbGxpc2lvbkJveEhlaWdodFJhdGlvID0gb3B0aW9ucy5jb2xsaXNpb25Cb3hIZWlnaHRSYXRpbyB8fCAwLjI7XHJcbiAgICB0aGlzLmNvbGxpc2lvbkJveEZlZXRPZmZzZXRSYXRpbyA9IG9wdGlvbnMuY29sbGlzaW9uQm94RmVldE9mZnNldFJhdGlvIHx8IDAuNDtcclxuXHJcbiAgICAvLyBTdGF0ZVxyXG4gICAgdGhpcy54ID0gMDsgLy8gV29ybGQgWCBjb29yZGluYXRlXHJcbiAgICB0aGlzLnkgPSAwOyAvLyBXb3JsZCBZIGNvb3JkaW5hdGVcclxuICAgIHRoaXMuY3VycmVudERpcmVjdGlvbiA9IENoYXJhY3Rlci5EaXJlY3Rpb24uRE9XTjsgLy8gU3RhcnQgZmFjaW5nIGRvd25cclxuICAgIHRoaXMuY3VycmVudEZyYW1lID0gMDsgLy8gQ3VycmVudCBhbmltYXRpb24gZnJhbWUgaW5kZXhcclxuICAgIHRoaXMuaXNNb3ZpbmcgPSBmYWxzZTsgLy8gSXMgdGhlIGNoYXJhY3RlciBjdXJyZW50bHkgbW92aW5nP1xyXG4gICAgdGhpcy5sYXN0RnJhbWVUaW1lID0gMDsgLy8gVGltZXN0YW1wIG9mIHRoZSBsYXN0IGZyYW1lIHVwZGF0ZVxyXG5cclxuICAgIC8vIExvYWQgc3ByaXRlIGFuZCBhZGQgaGFuZGxlcnNcclxuICAgIHRoaXMuc3ByaXRlLm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coYFtDaGFyYWN0ZXJdIFNwcml0ZSBsb2FkZWQgc3VjY2Vzc2Z1bGx5OiAke3Nwcml0ZVVybH1gKTtcclxuICAgIH07XHJcbiAgICB0aGlzLnNwcml0ZS5vbmVycm9yID0gKCkgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBbQ2hhcmFjdGVyXSBGYWlsZWQgdG8gbG9hZCBzcHJpdGU6ICR7c3ByaXRlVXJsfWApO1xyXG4gICAgfTtcclxuICAgIHRoaXMuc3ByaXRlLnNyYyA9IHNwcml0ZVVybDsgLy8gU3RhcnQgbG9hZGluZ1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlcyB0aGUgY2hhcmFjdGVyJ3MgYW5pbWF0aW9uIGZyYW1lIGJhc2VkIG9uIG1vdmVtZW50IHN0YXRlIGFuZCB0aW1lLlxyXG4gICAqIFNob3VsZCBiZSBjYWxsZWQgaW4gdGhlIGdhbWUncyB1cGRhdGUgbG9vcC5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gdGltZXN0YW1wIC0gVGhlIGN1cnJlbnQgaGlnaC1yZXNvbHV0aW9uIHRpbWVzdGFtcCAoZS5nLiwgZnJvbSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUpLlxyXG4gICAqL1xyXG4gIHVwZGF0ZUFuaW1hdGlvbih0aW1lc3RhbXApIHtcclxuICAgIGlmICghdGhpcy5pc01vdmluZykge1xyXG4gICAgICB0aGlzLmN1cnJlbnRGcmFtZSA9IDA7XHJcbiAgICAgIHRoaXMubGFzdEZyYW1lVGltZSA9IHRpbWVzdGFtcDtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKCF0aGlzLmxhc3RGcmFtZVRpbWUpIHtcclxuICAgICAgdGhpcy5sYXN0RnJhbWVUaW1lID0gdGltZXN0YW1wO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZWxhcHNlZCA9IHRpbWVzdGFtcCAtIHRoaXMubGFzdEZyYW1lVGltZTtcclxuICAgIGlmIChlbGFwc2VkID4gdGhpcy5hbmltYXRpb25TcGVlZCkge1xyXG4gICAgICB0aGlzLmN1cnJlbnRGcmFtZSA9ICh0aGlzLmN1cnJlbnRGcmFtZSArIDEpICUgdGhpcy5mcmFtZUNvdW50O1xyXG4gICAgICB0aGlzLmxhc3RGcmFtZVRpbWUgPSB0aW1lc3RhbXA7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDYWxjdWxhdGVzIHRoZSBjb2xsaXNpb24gYm91bmRpbmcgYm94IGJhc2VkIG9uIGEgcG90ZW50aWFsIHBvc2l0aW9uLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwb3NYIC0gVGhlIHBvdGVudGlhbCBYIGNvb3JkaW5hdGUgZm9yIHRoZSBjb2xsaXNpb24gY2hlY2suXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBvc1kgLSBUaGUgcG90ZW50aWFsIFkgY29vcmRpbmF0ZSBmb3IgdGhlIGNvbGxpc2lvbiBjaGVjay5cclxuICAgKiBAcmV0dXJucyB7e3RvcDogbnVtYmVyLCBib3R0b206IG51bWJlciwgbGVmdDogbnVtYmVyLCByaWdodDogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcn19IFRoZSBjb2xsaXNpb24gYm94IHByb3BlcnRpZXMuXHJcbiAgICovXHJcbiAgZ2V0Q29sbGlzaW9uQm94KHBvc1gsIHBvc1kpIHtcclxuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5yZW5kZXJTaXplICogdGhpcy5jb2xsaXNpb25Cb3hXaWR0aFJhdGlvO1xyXG4gICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5yZW5kZXJTaXplICogdGhpcy5jb2xsaXNpb25Cb3hIZWlnaHRSYXRpbztcclxuICAgIGNvbnN0IGhhbGZXaWR0aCA9IHdpZHRoIC8gMjtcclxuICAgIGNvbnN0IGZlZXRPZmZzZXRZID0gdGhpcy5yZW5kZXJTaXplICogdGhpcy5jb2xsaXNpb25Cb3hGZWV0T2Zmc2V0UmF0aW87XHJcbiAgICBjb25zdCB0b3AgPSBwb3NZICsgZmVldE9mZnNldFkgLSBoZWlnaHQgLyAyO1xyXG4gICAgY29uc3QgYm90dG9tID0gcG9zWSArIGZlZXRPZmZzZXRZICsgaGVpZ2h0IC8gMjtcclxuICAgIGNvbnN0IGxlZnQgPSBwb3NYIC0gaGFsZldpZHRoO1xyXG4gICAgY29uc3QgcmlnaHQgPSBwb3NYICsgaGFsZldpZHRoO1xyXG4gICAgcmV0dXJuIHsgdG9wLCBib3R0b20sIGxlZnQsIHJpZ2h0LCB3aWR0aCwgaGVpZ2h0IH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEcmF3cyB0aGUgY2hhcmFjdGVyIG9udG8gdGhlIGNhbnZhcyBhdCBpdHMgY3VycmVudCBwb3NpdGlvbixcclxuICAgKiBjb25zaWRlcmluZyB0aGUgY2FtZXJhIG9mZnNldC5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0WCAtIFRoZSBjYW1lcmEncyBYIG9mZnNldC5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0WSAtIFRoZSBjYW1lcmEncyBZIG9mZnNldC5cclxuICAgKi9cclxuICBkcmF3KG9mZnNldFgsIG9mZnNldFkpIHtcclxuICAgIGlmICghdGhpcy5zcHJpdGUuY29tcGxldGUgfHwgdGhpcy5zcHJpdGUubmF0dXJhbEhlaWdodCA9PT0gMCkge1xyXG4gICAgICByZXR1cm47IC8vIERvbid0IGRyYXcgaWYgc3ByaXRlIGlzbid0IHJlYWR5XHJcbiAgICB9XHJcbiAgICBjb25zdCBmcmFtZVggPSB0aGlzLmN1cnJlbnRGcmFtZSAqIHRoaXMuZnJhbWVTaXplO1xyXG4gICAgY29uc3QgZnJhbWVZID0gdGhpcy5jdXJyZW50RGlyZWN0aW9uICogdGhpcy5mcmFtZVNpemU7XHJcbiAgICBjb25zdCBzY3JlZW5YID0gTWF0aC5mbG9vcih0aGlzLnggLSB0aGlzLnJlbmRlclNpemUgLyAyICsgb2Zmc2V0WCk7XHJcbiAgICBjb25zdCBzY3JlZW5ZID0gTWF0aC5mbG9vcih0aGlzLnkgLSB0aGlzLnJlbmRlclNpemUgLyAyICsgb2Zmc2V0WSk7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgdGhpcy5jdHguZHJhd0ltYWdlKFxyXG4gICAgICAgIHRoaXMuc3ByaXRlLFxyXG4gICAgICAgIGZyYW1lWCxcclxuICAgICAgICBmcmFtZVksXHJcbiAgICAgICAgdGhpcy5mcmFtZVNpemUsXHJcbiAgICAgICAgdGhpcy5mcmFtZVNpemUsIC8vIFNvdXJjZSByZWN0XHJcbiAgICAgICAgc2NyZWVuWCxcclxuICAgICAgICBzY3JlZW5ZLFxyXG4gICAgICAgIHRoaXMucmVuZGVyU2l6ZSxcclxuICAgICAgICB0aGlzLnJlbmRlclNpemUgLy8gRGVzdCByZWN0XHJcbiAgICAgICk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tDaGFyYWN0ZXJdIEVycm9yIGRyYXdpbmcgc3ByaXRlOicsIGUpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCIvLyBzcmMvbWFwL0Jvb2suanNcclxuZXhwb3J0IGNsYXNzIEJvb2sge1xyXG4gIGNvbnN0cnVjdG9yKHgsIHksIGlkLCB0aWxlU2l6ZSkge1xyXG4gICAgdGhpcy54ID0geDtcclxuICAgIHRoaXMueSA9IHk7XHJcbiAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICB0aGlzLnRpbGVTaXplID0gdGlsZVNpemU7XHJcbiAgICB0aGlzLnNpemUgPSB0aWxlU2l6ZSAqIDAuNjtcclxuICAgIHRoaXMuY29sbGVjdGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmlzQ29sbGVjdGVkID0gZmFsc2U7XHJcbiAgfVxyXG4gIGRyYXcoY3R4LCBvZmZzZXRYLCBvZmZzZXRZLCBib29rSW1hZ2UpIHtcclxuICAgIGNvbnN0IHNjcmVlblggPSBNYXRoLmZsb29yKHRoaXMueCArIG9mZnNldFggLSB0aGlzLnNpemUgLyAyKTtcclxuICAgIGNvbnN0IHNjcmVlblkgPSBNYXRoLmZsb29yKHRoaXMueSArIG9mZnNldFkgLSB0aGlzLnNpemUgLyAyKTtcclxuICAgIGlmIChib29rSW1hZ2UpIHtcclxuICAgICAgY3R4LmRyYXdJbWFnZShib29rSW1hZ2UsIHNjcmVlblgsIHNjcmVlblksIHRoaXMuc2l6ZSwgdGhpcy5zaXplKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzhkNmU2Myc7XHJcbiAgICAgIGN0eC5maWxsUmVjdChzY3JlZW5YLCBzY3JlZW5ZLCB0aGlzLnNpemUsIHRoaXMuc2l6ZSk7XHJcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjNWQ0MDM3JztcclxuICAgICAgY3R4LnN0cm9rZVJlY3Qoc2NyZWVuWCwgc2NyZWVuWSwgdGhpcy5zaXplLCB0aGlzLnNpemUpO1xyXG4gICAgICBjdHguZmlsbFN0eWxlID0gJyNlZWUnO1xyXG4gICAgICBjdHguZm9udCA9IGAke3RoaXMuc2l6ZSAqIDAuNn1weCBBcmlhbGA7XHJcbiAgICAgIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcclxuICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xyXG4gICAgICBjdHguZmlsbFRleHQoJz8nLCBzY3JlZW5YICsgdGhpcy5zaXplIC8gMiwgc2NyZWVuWSArIHRoaXMuc2l6ZSAvIDIgKyAyKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiLy8gc3JjL3V0aWxzL21hcC5qc1xyXG5pbXBvcnQgeyBUSUxFX0NPUlJJRE9SLCBUSUxFX1JPT01fRkxPT1IsIFRJTEVfTElGVCB9IGZyb20gJy4vY29uc3RhbnRzLmpzJzsgLy8gUG90cnplYm5lIGRvIEJGU1xyXG5cclxuLyoqXHJcbiAqIEdlbmVydWplIGxvc293xIUgbGljemLEmSBjYcWCa293aXTEhSB6IHByemVkemlhxYJ1IFttaW4sIG1heF0gKHfFgsSFY3puaWUpLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gbWluIERvbG5hIGdyYW5pY2EuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXggR8Ozcm5hIGdyYW5pY2EuXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IExvc293YSBsaWN6YmEgY2HFgmtvd2l0YS5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByYW5kb21JbnQobWluLCBtYXgpIHtcclxuICBtaW4gPSBNYXRoLmNlaWwobWluKTtcclxuICBtYXggPSBNYXRoLmZsb29yKG1heCk7XHJcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBQcm9zdGEgKG5pZWtyeXB0b2dyYWZpY3puYSkgZnVua2NqYSBoYXNodWrEhWNhLlxyXG4gKiBVxbx5d2FuYSBkbyB1enlza2FuaWEgcHNldWRvbG9zb3dlaiwgYWxlIGRldGVybWluaXN0eWN6bmVqIHdhcnRvxZtjaSB6IGxpY3pieSAoa29vcmR5bmF0w7N3KS5cclxuICogQHBhcmFtIHtudW1iZXJ9IHNlZWQgWmlhcm5vIChucC4gc2tvbWJpbm93YW5lIGtvb3JkeW5hdHkpLlxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBCZXp6bmFrb3dhIDMyLWJpdG93YSBsaWN6YmEgY2HFgmtvd2l0YS5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzaW1wbGVIYXNoKHNlZWQpIHtcclxuICBsZXQgaCA9IHNlZWQgXiAweGRlYWRiZWVmOyAvLyBYT1IgeiB3YXJ0b8WbY2nEhSBwb2N6xIV0a293xIVcclxuICBoID0gTWF0aC5pbXVsKGggXiAoaCA+Pj4gMTYpLCAyMjQ2ODIyNTA3KTtcclxuICBoID0gTWF0aC5pbXVsKGggXiAoaCA+Pj4gMTMpLCAzMjY2NDg5OTA5KTtcclxuICByZXR1cm4gKGggXj0gaCA+Pj4gMTYpID4+PiAwOyAvLyBLb253ZXJzamEgZG8gbGljemJ5IGJleiB6bmFrdSAzMi1iaXRvd2VqXHJcbn1cclxuXHJcbi8vIC0tLSBGdW5rY2plIGtvbG9yw7N3IC0tLVxyXG5cclxuLyoqXHJcbiAqIEdlbmVydWplIGxvc293eSBvZGNpZcWEIHN6YXJvxZtjaSB3IHphZGFueW0gemFrcmVzaWUgamFzbm/Fm2NpICgwLTI1NSkuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5CcmlnaHRuZXNzIE1pbmltYWxuYSBqYXNub8WbxIcuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhCcmlnaHRuZXNzIE1ha3N5bWFsbmEgamFzbm/Fm8SHLlxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBLb2xvciB3IGZvcm1hY2llIHJnYigpLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbUdyYXkobWluQnJpZ2h0bmVzcywgbWF4QnJpZ2h0bmVzcykge1xyXG4gIGNvbnN0IGJyaWdodG5lc3MgPSByYW5kb21JbnQobWluQnJpZ2h0bmVzcywgbWF4QnJpZ2h0bmVzcyk7XHJcbiAgcmV0dXJuIGByZ2IoJHticmlnaHRuZXNzfSwke2JyaWdodG5lc3N9LCR7YnJpZ2h0bmVzc30pYDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdlbmVydWplIGxvc293eSBvZGNpZcWEIHN6YXJvxZtjaSBkbGEga29yeXRhcnp5LlxyXG4gKiBAcGFyYW0ge251bWJlcn0gbWluQnJpZ2h0bmVzcyBNaW5pbWFsbmEgamFzbm/Fm8SHLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4QnJpZ2h0bmVzcyBNYWtzeW1hbG5hIGphc25vxZvEhy5cclxuICogQHJldHVybnMge3N0cmluZ30gS29sb3IgdyBmb3JtYWNpZSByZ2IoKS5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByYW5kb21Db3JyaWRvckdyYXkobWluQnJpZ2h0bmVzcywgbWF4QnJpZ2h0bmVzcykge1xyXG4gIC8vIE1vxbxuYSB1xbx5xIcgdGVqIHNhbWVqIGxvZ2lraSBjbyByYW5kb21HcmF5IGx1YiB1Y3p5bmnEhyBqZSBuaWVjbyBjaWVwbGVqc3p5bWkvY2jFgm9kbmllanN6eW1pXHJcbiAgY29uc3QgYnJpZ2h0bmVzcyA9IHJhbmRvbUludChtaW5CcmlnaHRuZXNzLCBtYXhCcmlnaHRuZXNzKTtcclxuICByZXR1cm4gYHJnYigke2JyaWdodG5lc3N9LCR7YnJpZ2h0bmVzc30sJHticmlnaHRuZXNzfSlgO1xyXG59XHJcblxyXG4vKipcclxuICogRG9zdG9zb3d1amUgamFzbm/Fm8SHIGtvbG9ydSBIRVggKG5wLiAnI1JSR0dCQicpLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gaGV4Q29sb3IgS29sb3IgdyBmb3JtYWNpZSBIRVguXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBmYWN0b3IgV3Nww7PFgmN6eW5uaWsgamFzbm/Fm2NpICgxLjAgPSBiZXogem1pYW4sIDwxIGNpZW1uaWVqLCA+MSBqYcWbbmllaikuXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IE5vd3kga29sb3IgdyBmb3JtYWNpZSBIRVguXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gYWRqdXN0Q29sb3JCcmlnaHRuZXNzKGhleENvbG9yLCBmYWN0b3IpIHtcclxuICBpZiAoIWhleENvbG9yIHx8IHR5cGVvZiBoZXhDb2xvciAhPT0gJ3N0cmluZycgfHwgaGV4Q29sb3IubGVuZ3RoIDwgNykgcmV0dXJuIGhleENvbG9yOyAvLyBad3LDs8SHLCBqZcWbbGkga29sb3IgamVzdCBuaWVwcmF3aWTFgm93eVxyXG5cclxuICBsZXQgciA9IHBhcnNlSW50KGhleENvbG9yLnNsaWNlKDEsIDMpLCAxNik7XHJcbiAgbGV0IGcgPSBwYXJzZUludChoZXhDb2xvci5zbGljZSgzLCA1KSwgMTYpO1xyXG4gIGxldCBiID0gcGFyc2VJbnQoaGV4Q29sb3Iuc2xpY2UoNSwgNyksIDE2KTtcclxuXHJcbiAgciA9IE1hdGgubWluKDI1NSwgTWF0aC5tYXgoMCwgTWF0aC5yb3VuZChyICogZmFjdG9yKSkpO1xyXG4gIGcgPSBNYXRoLm1pbigyNTUsIE1hdGgubWF4KDAsIE1hdGgucm91bmQoZyAqIGZhY3RvcikpKTtcclxuICBiID0gTWF0aC5taW4oMjU1LCBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKGIgKiBmYWN0b3IpKSk7XHJcblxyXG4gIGNvbnN0IHJIZXggPSByLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gIGNvbnN0IGdIZXggPSBnLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gIGNvbnN0IGJIZXggPSBiLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpO1xyXG5cclxuICByZXR1cm4gYCMke3JIZXh9JHtnSGV4fSR7YkhleH1gO1xyXG59XHJcblxyXG4vKipcclxuICogV3lrb251amUgYWxnb3J5dG0gcHJ6ZXN6dWtpd2FuaWEgd3N6ZXJ6IChCRlMpIG5hIHNpYXRjZSBtYXB5LlxyXG4gKiBNb8W8ZSBiecSHIHXFvHl3YW55IGRvIHpuYWpkb3dhbmlhIMWbY2llxbxraSBsdWIgc3ByYXdkemFuaWEgb3NpxIVnYWxub8WbY2kuXHJcbiAqIEBwYXJhbSB7bnVtYmVyW11bXX0gbWFwR3JpZCBTaWF0a2EgbWFweSAoMkQgYXJyYXkgeiB3YXJ0b8WbY2lhbWkga2FmZWxrw7N3KS5cclxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0WCBQb2N6xIV0a293YSB3c3DDs8WCcnrEmWRuYSBYIGthZmVsa2EuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFkgUG9jesSFdGtvd2Egd3Nww7PFgnJ6xJlkbmEgWSBrYWZlbGthLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gY29scyBMaWN6YmEga29sdW1uIHcgbWFwR3JpZC5cclxuICogQHBhcmFtIHtudW1iZXJ9IHJvd3MgTGljemJhIHJ6xJlkw7N3IHcgbWFwR3JpZC5cclxuICogQHBhcmFtIHtudW1iZXJbXX0gd2Fsa2FibGVUaWxlVmFsdWVzIFRhYmxpY2Egd2FydG/Fm2NpIGthZmVsa8OzdyB1d2HFvGFueWNoIHphIHByemVjaG9kbmllIGRsYSB0ZWdvIEJGUy5cclxuICogQHJldHVybnMge3tyZWFjaGFibGU6IGJvb2xlYW59fSBPYmlla3Qgd3NrYXp1asSFY3ksIGN6eSBCRlMgb3NpxIVnbsSFxYIgb2tyZcWbbG9ueSBjZWwgKHcgdHltIHByenlwYWRrdSwgY3p5IHogcHVua3R1IHN0YXJ0b3dlZ28gbW/FvG5hIGRvasWbxIcgZG8ga29yeXRhcnphL3Bva29qdSkuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcGVyZm9ybUJGUyhtYXBHcmlkLCBzdGFydFgsIHN0YXJ0WSwgY29scywgcm93cywgd2Fsa2FibGVUaWxlVmFsdWVzKSB7XHJcbiAgY29uc3QgcXVldWUgPSBbW3N0YXJ0WCwgc3RhcnRZXV07XHJcbiAgY29uc3QgdmlzaXRlZCA9IG5ldyBTZXQoW2Ake3N0YXJ0WH0sJHtzdGFydFl9YF0pO1xyXG4gIGNvbnN0IGRpcmVjdGlvbnMgPSBbXHJcbiAgICBbMCwgLTFdLCAvLyBHw7NyYVxyXG4gICAgWzAsIDFdLCAvLyBEw7PFglxyXG4gICAgWy0xLCAwXSwgLy8gTGV3b1xyXG4gICAgWzEsIDBdLCAvLyBQcmF3b1xyXG4gIF07XHJcbiAgbGV0IHJlYWNoYWJsZSA9IGZhbHNlOyAvLyBGbGFnYSwgY3p5IEJGUyBkb3RhcsWCIGRvIGthZmVsa8OzdyBrb3J5dGFyemEvcG9rb2p1IChqZcWbbGkgc3p1a2FubyBvZCB3aW5keSlcclxuXHJcbiAgLy8gU3ByYXdkemVuaWUgcHVua3R1IHN0YXJ0b3dlZ28gKGplxZtsaSBzenVrYW15IG9zacSFZ2Fsbm/Fm2NpIHogd2luZHkpXHJcbiAgY29uc3Qgc3RhcnRUaWxlVmFsdWUgPSBtYXBHcmlkW3N0YXJ0WV0/LltzdGFydFhdO1xyXG4gIC8vIEN6eSBwdW5rdCBzdGFydG93eSAobnAuIHdpbmRhKSBqZXN0IGp1xbwgbmEgYmV6cGllY3pueW0gdGVyZW5pZSAoZGxhIGNlbHUgc3ByYXdkemVuaWEgb3NpxIVnYWxub8WbY2kpP1xyXG4gIC8vIFcgdHltIGtvbmtyZXRueW0gdcW8eWNpdSAoc3ByYXdkemVuaWUgd2luZHkpIGludGVyZXN1amUgbmFzLCBjenkgeiB3aW5keSBtb8W8bmEgZG90cnplxIcgZG8gS09SWVRBUlpBL1BPS09KVS5cclxuICAvLyBTYW1vIHN0YW5pZSBuYSB3aW5kemllIG5pZSBvem5hY3phIG9zacSFZ2Fsbm/Fm2NpIGJlenBpZWN6bmVqIHN0cmVmeS5cclxuICAvLyBTcHJhd2R6aW15IHPEhXNpYWTDs3cgd2luZHkuXHJcblxyXG4gIHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICBjb25zdCBbY3VyclgsIGN1cnJZXSA9IHF1ZXVlLnNoaWZ0KCk7XHJcblxyXG4gICAgZm9yIChjb25zdCBbZHgsIGR5XSBvZiBkaXJlY3Rpb25zKSB7XHJcbiAgICAgIGNvbnN0IG5leHRYID0gY3VyclggKyBkeDtcclxuICAgICAgY29uc3QgbmV4dFkgPSBjdXJyWSArIGR5O1xyXG4gICAgICBjb25zdCBrZXkgPSBgJHtuZXh0WH0sJHtuZXh0WX1gO1xyXG5cclxuICAgICAgLy8gU3ByYXdkemVuaWUgZ3JhbmljIGkgY3p5IGp1xbwgb2R3aWVkem9uZVxyXG4gICAgICBpZiAobmV4dFggPj0gMCAmJiBuZXh0WCA8IGNvbHMgJiYgbmV4dFkgPj0gMCAmJiBuZXh0WSA8IHJvd3MgJiYgIXZpc2l0ZWQuaGFzKGtleSkpIHtcclxuICAgICAgICBjb25zdCB0aWxlVmFsdWUgPSBtYXBHcmlkW25leHRZXT8uW25leHRYXTtcclxuICAgICAgICB2aXNpdGVkLmFkZChrZXkpOyAvLyBPZHdpZWR6YW15IG5pZXphbGXFvG5pZSBvZCB0eXB1XHJcblxyXG4gICAgICAgIC8vIEN6eSB0ZW4ga2FmZWxlayBqZXN0IHByemVjaG9kbmkgRExBIFRFR08gQkZTP1xyXG4gICAgICAgIGlmICh3YWxrYWJsZVRpbGVWYWx1ZXMuaW5jbHVkZXModGlsZVZhbHVlKSkge1xyXG4gICAgICAgICAgcXVldWUucHVzaChbbmV4dFgsIG5leHRZXSk7XHJcblxyXG4gICAgICAgICAgLy8gQ3p5IHRlbiBrYWZlbGVrIGplc3QgS09SWVRBUlpFTSBsdWIgUE9ExYFPR8SEIFBPS09KVT9cclxuICAgICAgICAgIC8vIEplxZtsaSB0YWssIHRvIHpuYWxlxbpsacWbbXkgYmV6cGllY3puxIUgc3RyZWbEmSBvc2nEhWdhbG7EhSB6IHB1bmt0dSBzdGFydG93ZWdvLlxyXG4gICAgICAgICAgaWYgKHRpbGVWYWx1ZSA9PT0gVElMRV9DT1JSSURPUiB8fCB0aWxlVmFsdWUgPT09IFRJTEVfUk9PTV9GTE9PUikge1xyXG4gICAgICAgICAgICByZWFjaGFibGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAvLyBNb8W8bmEgYnkgdHUgemFrb8WEY3p5xIcgcMSZdGzEmSwgamXFm2xpIGludGVyZXN1amUgbmFzIHR5bGtvIENaWSBqZXN0IG9zacSFZ2FsbmVcclxuICAgICAgICAgICAgLy8gcmV0dXJuIHsgcmVhY2hhYmxlOiB0cnVlIH07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vIFp3csOzxIcgd3luaWsgQkZTIC0gdyB0eW0gcHJ6eXBhZGt1LCBmbGFnxJkgb3NpxIVnYWxub8WbY2kgYmV6cGllY3puZWogc3RyZWZ5XHJcbiAgcmV0dXJuIHsgcmVhY2hhYmxlIH07XHJcbn1cclxuXHJcbi8vIC4uLiAoaW5uZSBuYXJ6xJlkemlhIG1hcHksIGplxZtsaSBpc3RuaWVqxIUpXHJcbiIsIi8vIHNyYy9tYXAvbWFwUmVuZGVyZXIuanNcclxuXHJcbmltcG9ydCB7IFRJTEVfV0FMTCwgVElMRV9DT1JSSURPUiwgVElMRV9ST09NX0ZMT09SLCBUSUxFX0xJRlQgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xyXG4vLyBSZW1vdmVkIHVudXNlZCByYW5kb21HcmF5LCByYW5kb21Db3JyaWRvckdyYXkgaW1wb3J0c1xyXG5pbXBvcnQgeyBhZGp1c3RDb2xvckJyaWdodG5lc3MsIHNpbXBsZUhhc2ggfSBmcm9tICcuLi91dGlscy9tYXAuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1hcFJlbmRlcmVyIHtcclxuICBjb25zdHJ1Y3Rvcih0aWxlU2l6ZSkge1xyXG4gICAgdGhpcy50aWxlU2l6ZSA9IHRpbGVTaXplO1xyXG4gICAgLy8gQ2FjaGUgaXMgbGVzcyBjcml0aWNhbCBub3cgZm9yIGJhc2UgdGlsZXMgYnV0IHN0aWxsIHVzZWZ1bCBmb3Igcm9vbSBmbG9vcnMvb3RoZXIgZWxlbWVudHNcclxuICAgIHRoaXMudGlsZUNvbG9ycyA9IHt9O1xyXG4gICAgdGhpcy5iYXNlV2FsbENvbG9yID0gJyMxYzFlMjInOyAvLyBTaW5nbGUsIGNvbnNpc3RlbnQgd2FsbCBjb2xvclxyXG4gICAgdGhpcy5iYXNlQ29ycmlkb3JDb2xvciA9ICcjYTBhMGEwJzsgLy8gU2luZ2xlLCBjb25zaXN0ZW50IGNvcnJpZG9yIGNvbG9yXHJcbiAgICB0aGlzLmJhc2VSb29tRmxvb3JDb2xvciA9ICcjYzBjMGMwJzsgLy8gRGVmYXVsdCByb29tIGZsb29yIChvdmVyd3JpdHRlbiBieSBkcmF3Um9vbURldGFpbHMpXHJcbiAgICB0aGlzLmxpZnRDb2xvciA9ICcjNzA3MDgwJzsgLy8gQ29uc2lzdGVudCBsaWZ0IGNvbG9yXHJcbiAgICB0aGlzLmVycm9yQ29sb3IgPSAnI2ZmMDBmZic7IC8vIEVycm9yIGNvbG9yXHJcbiAgfVxyXG5cclxuICAvLyBSZXNldCBjb2xvciBjYWNoZSB3aGVuIGEgbmV3IG1hcCBpcyBkcmF3biAoY2FsbGVkIGJ5IFByb2NlZHVyYWxNYXApXHJcbiAgcmVzZXRDb2xvckNhY2hlKCkge1xyXG4gICAgdGhpcy50aWxlQ29sb3JzID0ge307XHJcbiAgfVxyXG5cclxuICAvKiogR2V0IG9yIGdlbmVyYXRlIHRoZSBjb2xvciBmb3IgYSBzcGVjaWZpYyB0aWxlICovXHJcbiAgZ2V0VGlsZUNvbG9yKHIsIGMsIHRpbGVWYWx1ZSwgcm9vbXMpIHtcclxuICAgIC8vIE5PVEU6IFdlIHN0aWxsIHVzZSB0aGUgY2FjaGUga2V5LCBtYWlubHkgdXNlZnVsIGlmIHJvb21zIG5lZWQgc3BlY2lmaWNcclxuICAgIC8vIHRpbGUgY29sb3JzIG5vdCBoYW5kbGVkIGJ5IGRyYXdSb29tRGV0YWlscyBsYXRlciwgb3IgaWYgd2UgYWRkIG1vcmUgY29tcGxleCBsb2dpYy5cclxuICAgIC8vIEZvciB0aGUgYmFzZSB0aWxlcyBtb2RpZmllZCBiZWxvdywgaXQncyBsZXNzIGVzc2VudGlhbC5cclxuICAgIGNvbnN0IGtleSA9IGAke3J9LCR7Y31gO1xyXG4gICAgaWYgKHRoaXMudGlsZUNvbG9yc1trZXldKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnRpbGVDb2xvcnNba2V5XTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgY29sb3I7XHJcblxyXG4gICAgLy8gLS0tIFJFTU9WRUQgcGVyLXRpbGUgaGFzaC92YXJpYXRpb24gZm9yIGJhc2UgdHlwZXMgLS0tXHJcbiAgICAvLyBjb25zdCBoYXNoID0gc2ltcGxlSGFzaChyICogMTAwMCArIGMpO1xyXG4gICAgLy8gY29uc3QgdmFyaWF0aW9uID0gKChoYXNoICUgMjEpIC0gMTApIC8gMTAwO1xyXG5cclxuICAgIHN3aXRjaCAodGlsZVZhbHVlKSB7XHJcbiAgICAgIGNhc2UgVElMRV9XQUxMOlxyXG4gICAgICAgIC8vIFVzZSB0aGUgc2luZ2xlLCBjb25zaXN0ZW50IGJhc2UgY29sb3IgZGlyZWN0bHlcclxuICAgICAgICBjb2xvciA9IHRoaXMuYmFzZVdhbGxDb2xvcjtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBUSUxFX0NPUlJJRE9SOlxyXG4gICAgICAgIC8vIFVzZSB0aGUgc2luZ2xlLCBjb25zaXN0ZW50IGJhc2UgY29sb3IgZGlyZWN0bHlcclxuICAgICAgICBjb2xvciA9IHRoaXMuYmFzZUNvcnJpZG9yQ29sb3I7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgVElMRV9ST09NX0ZMT09SOlxyXG4gICAgICAgIC8vIFVzZSB0aGUgY29uc2lzdGVudCBiYXNlIHJvb20gZmxvb3IgY29sb3IuXHJcbiAgICAgICAgLy8gVGhpcyB3aWxsIGJlIG92ZXJ3cml0dGVuIGJ5IGRyYXdSb29tRGV0YWlscyBmb3IgYWN0dWFsIHJvb20gdGlsZXMuXHJcbiAgICAgICAgLy8gSXQgc2VydmVzIGFzIHRoZSBjb2xvciBpZiBhIFRJTEVfUk9PTV9GTE9PUiBzb21laG93IGV4aXN0cyBvdXRzaWRlIGEgZGVmaW5lZCByb29tLlxyXG4gICAgICAgIGNvbG9yID0gdGhpcy5iYXNlUm9vbUZsb29yQ29sb3I7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgVElMRV9MSUZUOlxyXG4gICAgICAgIC8vIFVzZSB0aGUgY29uc2lzdGVudCBsaWZ0IGNvbG9yXHJcbiAgICAgICAgY29sb3IgPSB0aGlzLmxpZnRDb2xvcjtcclxuICAgICAgICBicmVhaztcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICBjb2xvciA9IHRoaXMuZXJyb3JDb2xvcjsgLy8gRXJyb3IgY29sb3JcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuXHJcbiAgICAvLyBTdGlsbCBjYWNoZSB0aGUgcmVzdWx0XHJcbiAgICB0aGlzLnRpbGVDb2xvcnNba2V5XSA9IGNvbG9yO1xyXG4gICAgcmV0dXJuIGNvbG9yO1xyXG4gIH1cclxuXHJcbiAgLyoqIE1haW4gZHJhd2luZyBmdW5jdGlvbiAqL1xyXG4gIGRyYXcoY3R4LCBtYXBEYXRhLCBib29rSW1hZ2UgPSBudWxsKSB7XHJcbiAgICBjb25zdCB7IG1hcCwgcm9vbXMsIGJvb2tzLCBsaWZ0UG9zaXRpb24sIG9mZnNldFgsIG9mZnNldFksIGNvbHMsIHJvd3MgfSA9IG1hcERhdGE7XHJcblxyXG4gICAgLy8gUm91bmQgb2Zmc2V0cyBmb3Igc2hhcnBuZXNzXHJcbiAgICBjb25zdCBjdXJyZW50T2Zmc2V0WCA9IE1hdGguZmxvb3Iob2Zmc2V0WCk7XHJcbiAgICBjb25zdCBjdXJyZW50T2Zmc2V0WSA9IE1hdGguZmxvb3Iob2Zmc2V0WSk7XHJcblxyXG4gICAgLy8gRGV0ZXJtaW5lIHZpc2libGUgdGlsZXMgd2l0aCBhIHNtYWxsIGJ1ZmZlclxyXG4gICAgY29uc3Qgc3RhcnRDb2wgPSBNYXRoLm1heCgwLCBNYXRoLmZsb29yKC1jdXJyZW50T2Zmc2V0WCAvIHRoaXMudGlsZVNpemUpIC0gMSk7XHJcbiAgICBjb25zdCBlbmRDb2wgPSBNYXRoLm1pbihcclxuICAgICAgY29scyxcclxuICAgICAgTWF0aC5jZWlsKCgtY3VycmVudE9mZnNldFggKyBjdHguY2FudmFzLndpZHRoKSAvIHRoaXMudGlsZVNpemUpICsgMVxyXG4gICAgKTtcclxuICAgIGNvbnN0IHN0YXJ0Um93ID0gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcigtY3VycmVudE9mZnNldFkgLyB0aGlzLnRpbGVTaXplKSAtIDEpO1xyXG4gICAgY29uc3QgZW5kUm93ID0gTWF0aC5taW4oXHJcbiAgICAgIHJvd3MsXHJcbiAgICAgIE1hdGguY2VpbCgoLWN1cnJlbnRPZmZzZXRZICsgY3R4LmNhbnZhcy5oZWlnaHQpIC8gdGhpcy50aWxlU2l6ZSkgKyAxXHJcbiAgICApO1xyXG5cclxuICAgIGN0eC5zYXZlKCk7IC8vIFNhdmUgY29udGV4dCBzdGF0ZVxyXG5cclxuICAgIC8vIDEuIERyYXcgYmFzZSB0aWxlcyAod2FsbHMsIGNvcnJpZG9ycywgZGVmYXVsdCBmbG9vciwgbGlmdCBiYXNlKVxyXG4gICAgLy8gICAgVGhlc2Ugd2lsbCBub3cgdXNlIHRoZSBjb25zaXN0ZW50IGNvbG9ycyBmcm9tIGdldFRpbGVDb2xvci5cclxuICAgIHRoaXMuZHJhd0Jhc2VUaWxlcyhcclxuICAgICAgY3R4LFxyXG4gICAgICBtYXAsXHJcbiAgICAgIHJvb21zLFxyXG4gICAgICBjdXJyZW50T2Zmc2V0WCxcclxuICAgICAgY3VycmVudE9mZnNldFksXHJcbiAgICAgIGNvbHMsXHJcbiAgICAgIHJvd3MsXHJcbiAgICAgIHN0YXJ0Um93LFxyXG4gICAgICBlbmRSb3csXHJcbiAgICAgIHN0YXJ0Q29sLFxyXG4gICAgICBlbmRDb2xcclxuICAgICk7XHJcblxyXG4gICAgLy8gMi4gRHJhdyBzcGVjaWZpYyByb29tIGZsb29ycyBhbmQgZGVjb3JhdGlvbnNcclxuICAgIC8vICAgIFRoaXMgZnVuY3Rpb24gV0lMTCBhcHBseSBzcGVjaWZpYyBjb2xvcnMgYmFzZWQgb24gcm9vbSB0eXBlLFxyXG4gICAgLy8gICAgYW5kIHN1YnRsZSBwZXItdGlsZSB2YXJpYXRpb25zIFdJVEhJTiB0aGUgcm9vbSBmbG9vci5cclxuICAgIHRoaXMuZHJhd1Jvb21EZXRhaWxzKFxyXG4gICAgICBjdHgsXHJcbiAgICAgIG1hcCxcclxuICAgICAgcm9vbXMsXHJcbiAgICAgIGxpZnRQb3NpdGlvbixcclxuICAgICAgY3VycmVudE9mZnNldFgsXHJcbiAgICAgIGN1cnJlbnRPZmZzZXRZLFxyXG4gICAgICBjb2xzLFxyXG4gICAgICByb3dzLFxyXG4gICAgICBzdGFydFJvdyxcclxuICAgICAgZW5kUm93LFxyXG4gICAgICBzdGFydENvbCxcclxuICAgICAgZW5kQ29sXHJcbiAgICApO1xyXG5cclxuICAgIC8vIDMuIERyYXcgbGlmdCBkZXRhaWxzIChvdmVybGF5aW5nIHJvb20gZmxvb3JzIGlmIG5lZWRlZClcclxuICAgIHRoaXMuZHJhd0xpZnREZXRhaWxzKGN0eCwgbGlmdFBvc2l0aW9uLCBjdXJyZW50T2Zmc2V0WCwgY3VycmVudE9mZnNldFkpO1xyXG5cclxuICAgIC8vIDQuIERyYXcgYm9va3NcclxuICAgIHRoaXMuZHJhd0Jvb2tzKGN0eCwgYm9va3MsIGN1cnJlbnRPZmZzZXRYLCBjdXJyZW50T2Zmc2V0WSwgYm9va0ltYWdlKTtcclxuXHJcbiAgICBjdHgucmVzdG9yZSgpOyAvLyBSZXN0b3JlIGNvbnRleHQgc3RhdGVcclxuICB9XHJcblxyXG4gIC8qKiBEcmF3IGJhc2UgdGlsZXMgKi9cclxuICBkcmF3QmFzZVRpbGVzKGN0eCwgbWFwLCByb29tcywgb2Zmc2V0WCwgb2Zmc2V0WSwgY29scywgcm93cywgc3RhcnRSb3csIGVuZFJvdywgc3RhcnRDb2wsIGVuZENvbCkge1xyXG4gICAgY3R4LnNhdmUoKTtcclxuICAgIGN0eC5zaGFkb3dDb2xvciA9ICd0cmFuc3BhcmVudCc7XHJcblxyXG4gICAgY29uc3Qgd2FsbEVkZ2VDb2xvckRhcmsgPSAnIzM4MzgzOCc7XHJcbiAgICBjb25zdCB3YWxsRWRnZUNvbG9yTGlnaHQgPSAnIzYwNjA2MCc7XHJcbiAgICBjb25zdCB3YWxsVG9wRWRnZUNvbG9yID0gJyM3NTc1NzUnO1xyXG5cclxuICAgIGZvciAobGV0IHIgPSBzdGFydFJvdzsgciA8IGVuZFJvdzsgcisrKSB7XHJcbiAgICAgIGZvciAobGV0IGMgPSBzdGFydENvbDsgYyA8IGVuZENvbDsgYysrKSB7XHJcbiAgICAgICAgY29uc3QgdGlsZVZhbHVlID0gbWFwW3JdPy5bY107XHJcbiAgICAgICAgaWYgKHRpbGVWYWx1ZSA9PT0gdW5kZWZpbmVkKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2NyZWVuWCA9IE1hdGguZmxvb3IoYyAqIHRoaXMudGlsZVNpemUgKyBvZmZzZXRYKTtcclxuICAgICAgICBjb25zdCBzY3JlZW5ZID0gTWF0aC5mbG9vcihyICogdGhpcy50aWxlU2l6ZSArIG9mZnNldFkpO1xyXG4gICAgICAgIC8vIEdldCB0aGUgY29sb3IgLSBub3cgY29uc2lzdGVudCBmb3Igd2FsbHMvY29ycmlkb3JzL2RlZmF1bHQgZmxvb3IvbGlmdFxyXG4gICAgICAgIGNvbnN0IGNvbG9yID0gdGhpcy5nZXRUaWxlQ29sb3IociwgYywgdGlsZVZhbHVlLCByb29tcyk7XHJcblxyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBjb2xvcjtcclxuICAgICAgICBjdHguZmlsbFJlY3Qoc2NyZWVuWCwgc2NyZWVuWSwgdGhpcy50aWxlU2l6ZSwgdGhpcy50aWxlU2l6ZSk7XHJcblxyXG4gICAgICAgIC8vIC0tLSBXYWxsIEVkZ2VzIGFuZCBOb2lzZSAoU3RpbGwgQXBwbGllZCBmb3IgRGV0YWlsKSAtLS1cclxuICAgICAgICBpZiAodGlsZVZhbHVlID09PSBUSUxFX1dBTEwpIHtcclxuICAgICAgICAgIC8vIE5vaXNlIHRleHR1cmUgKGFwcGxpZWQgT04gVE9QIG9mIHRoZSBjb25zaXN0ZW50IGJhc2UgY29sb3IpXHJcbiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwwLDAsMC4wNiknO1xyXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcclxuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KFxyXG4gICAgICAgICAgICAgIHNjcmVlblggKyBNYXRoLnJhbmRvbSgpICogdGhpcy50aWxlU2l6ZSxcclxuICAgICAgICAgICAgICBzY3JlZW5ZICsgTWF0aC5yYW5kb20oKSAqIHRoaXMudGlsZVNpemUsXHJcbiAgICAgICAgICAgICAgMSxcclxuICAgICAgICAgICAgICAxXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gRWRnZSByZW5kZXJpbmcgKGFwcGxpZWQgT04gVE9QKVxyXG4gICAgICAgICAgY29uc3QgZWRnZVNpemUgPSAyO1xyXG4gICAgICAgICAgaWYgKHIgPiAwICYmIG1hcFtyIC0gMV0/LltjXSAhPT0gVElMRV9XQUxMKSB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB3YWxsVG9wRWRnZUNvbG9yO1xyXG4gICAgICAgICAgICBjdHguZmlsbFJlY3Qoc2NyZWVuWCwgc2NyZWVuWSwgdGhpcy50aWxlU2l6ZSwgZWRnZVNpemUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHIgPCByb3dzIC0gMSAmJiBtYXBbciArIDFdPy5bY10gIT09IFRJTEVfV0FMTCkge1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gd2FsbEVkZ2VDb2xvckRhcms7XHJcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdChzY3JlZW5YLCBzY3JlZW5ZICsgdGhpcy50aWxlU2l6ZSAtIGVkZ2VTaXplLCB0aGlzLnRpbGVTaXplLCBlZGdlU2l6ZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoYyA+IDAgJiYgbWFwW3JdPy5bYyAtIDFdICE9PSBUSUxFX1dBTEwpIHtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHdhbGxFZGdlQ29sb3JMaWdodDtcclxuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KHNjcmVlblgsIHNjcmVlblkgKyBlZGdlU2l6ZSwgZWRnZVNpemUsIHRoaXMudGlsZVNpemUgLSBlZGdlU2l6ZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoYyA8IGNvbHMgLSAxICYmIG1hcFtyXT8uW2MgKyAxXSAhPT0gVElMRV9XQUxMKSB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB3YWxsRWRnZUNvbG9yRGFyaztcclxuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KFxyXG4gICAgICAgICAgICAgIHNjcmVlblggKyB0aGlzLnRpbGVTaXplIC0gZWRnZVNpemUsXHJcbiAgICAgICAgICAgICAgc2NyZWVuWSArIGVkZ2VTaXplLFxyXG4gICAgICAgICAgICAgIGVkZ2VTaXplLFxyXG4gICAgICAgICAgICAgIHRoaXMudGlsZVNpemUgLSBlZGdlU2l6ZVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLy8gQ29ybmVyIGxvZ2ljIChyZW1haW5zIHRoZSBzYW1lKVxyXG4gICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICByID4gMCAmJlxyXG4gICAgICAgICAgICBjID4gMCAmJlxyXG4gICAgICAgICAgICBtYXBbciAtIDFdPy5bY10gIT09IFRJTEVfV0FMTCAmJlxyXG4gICAgICAgICAgICBtYXBbcl0/LltjIC0gMV0gIT09IFRJTEVfV0FMTCAmJlxyXG4gICAgICAgICAgICBtYXBbciAtIDFdPy5bYyAtIDFdICE9PSBUSUxFX1dBTExcclxuICAgICAgICAgICkge1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gd2FsbEVkZ2VDb2xvckxpZ2h0O1xyXG4gICAgICAgICAgICBjdHguZmlsbFJlY3Qoc2NyZWVuWCwgc2NyZWVuWSwgZWRnZVNpemUsIGVkZ2VTaXplKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgciA+IDAgJiZcclxuICAgICAgICAgICAgYyA8IGNvbHMgLSAxICYmXHJcbiAgICAgICAgICAgIG1hcFtyIC0gMV0/LltjXSAhPT0gVElMRV9XQUxMICYmXHJcbiAgICAgICAgICAgIG1hcFtyXT8uW2MgKyAxXSAhPT0gVElMRV9XQUxMICYmXHJcbiAgICAgICAgICAgIG1hcFtyIC0gMV0/LltjICsgMV0gIT09IFRJTEVfV0FMTFxyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB3YWxsVG9wRWRnZUNvbG9yO1xyXG4gICAgICAgICAgICBjdHguZmlsbFJlY3Qoc2NyZWVuWCArIHRoaXMudGlsZVNpemUgLSBlZGdlU2l6ZSwgc2NyZWVuWSwgZWRnZVNpemUsIGVkZ2VTaXplKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC8vIC4uLiBwb3RlbnRpYWxseSBvdGhlciBjb3JuZXJzXHJcbiAgICAgICAgfSBlbHNlIGlmICh0aWxlVmFsdWUgPT09IFRJTEVfQ09SUklET1IpIHtcclxuICAgICAgICAgIC8vIENvcnJpZG9yIE5vaXNlIChhcHBsaWVkIE9OIFRPUCBvZiB0aGUgY29uc2lzdGVudCBiYXNlIGNvbG9yKVxyXG4gICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwyNTUsMjU1LDAuMDMpJztcclxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdChcclxuICAgICAgICAgICAgICBzY3JlZW5YICsgTWF0aC5yYW5kb20oKSAqIHRoaXMudGlsZVNpemUsXHJcbiAgICAgICAgICAgICAgc2NyZWVuWSArIE1hdGgucmFuZG9tKCkgKiB0aGlzLnRpbGVTaXplLFxyXG4gICAgICAgICAgICAgIDEsXHJcbiAgICAgICAgICAgICAgMVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBOT1RFOiBObyBzcGVjaWFsIGRyYXdpbmcgbmVlZGVkIGhlcmUgZm9yIFRJTEVfUk9PTV9GTE9PUiBvciBUSUxFX0xJRlRcclxuICAgICAgICAvLyBhcyBkcmF3Um9vbURldGFpbHMgYW5kIGRyYXdMaWZ0RGV0YWlscyBoYW5kbGUgdGhlaXIgc3BlY2lmaWNzLlxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBjdHgucmVzdG9yZSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqIERyYXcgc3BlY2lmaWMgcm9vbSBmbG9vcnMgYW5kIGRlY29yYXRpb25zICovXHJcbiAgZHJhd1Jvb21EZXRhaWxzKFxyXG4gICAgY3R4LFxyXG4gICAgbWFwLFxyXG4gICAgcm9vbXMsXHJcbiAgICBsaWZ0UG9zaXRpb24sXHJcbiAgICBvZmZzZXRYLFxyXG4gICAgb2Zmc2V0WSxcclxuICAgIGNvbHMsXHJcbiAgICByb3dzLFxyXG4gICAgc3RhcnRSb3csXHJcbiAgICBlbmRSb3csXHJcbiAgICBzdGFydENvbCxcclxuICAgIGVuZENvbFxyXG4gICkge1xyXG4gICAgY3R4LnNhdmUoKTtcclxuICAgIGN0eC5zaGFkb3dDb2xvciA9ICd0cmFuc3BhcmVudCc7XHJcblxyXG4gICAgZm9yIChjb25zdCByb29tIG9mIHJvb21zKSB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICByb29tLmNvbCArIHJvb20ud2lkdGggPCBzdGFydENvbCB8fFxyXG4gICAgICAgIHJvb20uY29sID4gZW5kQ29sIHx8XHJcbiAgICAgICAgcm9vbS5yb3cgKyByb29tLmhlaWdodCA8IHN0YXJ0Um93IHx8XHJcbiAgICAgICAgcm9vbS5yb3cgPiBlbmRSb3dcclxuICAgICAgKVxyXG4gICAgICAgIGNvbnRpbnVlO1xyXG5cclxuICAgICAgY29uc3Qgcm9vbVNjcmVlblggPSBNYXRoLmZsb29yKHJvb20uY29sICogdGhpcy50aWxlU2l6ZSArIG9mZnNldFgpO1xyXG4gICAgICBjb25zdCByb29tU2NyZWVuWSA9IE1hdGguZmxvb3Iocm9vbS5yb3cgKiB0aGlzLnRpbGVTaXplICsgb2Zmc2V0WSk7XHJcbiAgICAgIGNvbnN0IHJvb21TY3JlZW5XID0gcm9vbS53aWR0aCAqIHRoaXMudGlsZVNpemU7XHJcbiAgICAgIGNvbnN0IHJvb21TY3JlZW5IID0gcm9vbS5oZWlnaHQgKiB0aGlzLnRpbGVTaXplO1xyXG5cclxuICAgICAgLy8gLS0tIERldGVybWluZSBGbG9vciBDb2xvciBCYXNlZCBvbiBSb29tIFR5cGUgKFRoaXMgbG9naWMgcmVtYWlucykgLS0tXHJcbiAgICAgIGxldCBmbG9vckNvbG9yID0gdGhpcy5iYXNlUm9vbUZsb29yQ29sb3I7IC8vIFN0YXJ0IHdpdGggZGVmYXVsdFxyXG4gICAgICAvLyBVc2UgYSBzZWVkIHRoYXQgY2hhbmdlcyBwZXIgcm9vbSBidXQgaXMgY29uc2lzdGVudCBmb3IgdGhhdCByb29tXHJcbiAgICAgIC8vIEFkZGVkIGZsb29yTnVtYmVyIGRlcGVuZGVuY3kgaWYgYXZhaWxhYmxlIGluIGB0aGlzYCwgb3RoZXJ3aXNlIHVzZSByb29tLmlkXHJcbiAgICAgIGNvbnN0IGZsb29yTnVtID0gdHlwZW9mIHRoaXMuZmxvb3JOdW1iZXIgPT09ICdudW1iZXInID8gdGhpcy5mbG9vck51bWJlciA6IDA7XHJcbiAgICAgIGxldCByb29tU2VlZCA9IHNpbXBsZUhhc2gocm9vbS5pZCkgKyBmbG9vck51bSAqIDEwMDsgLy8gVXNlIGhhc2ggb2YgSUQgZm9yIG1vcmUgdmFyaWF0aW9uXHJcblxyXG4gICAgICBzd2l0Y2ggKHJvb20udHlwZSkge1xyXG4gICAgICAgIGNhc2UgJ2NsYXNzcm9vbSc6XHJcbiAgICAgICAgICBmbG9vckNvbG9yID0gYWRqdXN0Q29sb3JCcmlnaHRuZXNzKCcjYTBjOGUwJywgMC45ICsgKHNpbXBsZUhhc2gocm9vbVNlZWQpICUgMTEpIC8gMTAwKTtcclxuICAgICAgICAgIGJyZWFrOyAvLyBCbHVpc2hcclxuICAgICAgICBjYXNlICdvZmZpY2UnOlxyXG4gICAgICAgICAgZmxvb3JDb2xvciA9IGFkanVzdENvbG9yQnJpZ2h0bmVzcyhcclxuICAgICAgICAgICAgJyNmMGU4YzAnLFxyXG4gICAgICAgICAgICAwLjkgKyAoc2ltcGxlSGFzaChyb29tU2VlZCArIDEpICUgMTEpIC8gMTAwXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgYnJlYWs7IC8vIEJlaWdlXHJcbiAgICAgICAgY2FzZSAnbGlicmFyeSc6XHJcbiAgICAgICAgICBmbG9vckNvbG9yID0gYWRqdXN0Q29sb3JCcmlnaHRuZXNzKFxyXG4gICAgICAgICAgICAnI2Q4YzBhOCcsXHJcbiAgICAgICAgICAgIDAuOSArIChzaW1wbGVIYXNoKHJvb21TZWVkICsgMikgJSAxMSkgLyAxMDBcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBicmVhazsgLy8gV29vZGVuXHJcbiAgICAgICAgY2FzZSAnZ3ltJzpcclxuICAgICAgICAgIGZsb29yQ29sb3IgPSBhZGp1c3RDb2xvckJyaWdodG5lc3MoXHJcbiAgICAgICAgICAgICcjYjBkMGIwJyxcclxuICAgICAgICAgICAgMC45ICsgKHNpbXBsZUhhc2gocm9vbVNlZWQgKyAzKSAlIDExKSAvIDEwMFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGJyZWFrOyAvLyBHcmVlbmlzaFxyXG4gICAgICAgIGNhc2UgJ2xhYic6XHJcbiAgICAgICAgICBmbG9vckNvbG9yID0gYWRqdXN0Q29sb3JCcmlnaHRuZXNzKFxyXG4gICAgICAgICAgICAnI2UwZTBmZicsXHJcbiAgICAgICAgICAgIDAuOSArIChzaW1wbGVIYXNoKHJvb21TZWVkICsgNCkgJSAxMSkgLyAxMDBcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBicmVhazsgLy8gTGlnaHQgYmx1ZS1wdXJwbGVcclxuICAgICAgICBjYXNlICdzdG9yYWdlJzpcclxuICAgICAgICAgIGZsb29yQ29sb3IgPSBhZGp1c3RDb2xvckJyaWdodG5lc3MoXHJcbiAgICAgICAgICAgICcjYjBhMDkwJyxcclxuICAgICAgICAgICAgMC45ICsgKHNpbXBsZUhhc2gocm9vbVNlZWQgKyA1KSAlIDExKSAvIDEwMFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGJyZWFrOyAvLyBHcmF5LWJyb3duXHJcbiAgICAgICAgY2FzZSAndXRpbGl0eSc6XHJcbiAgICAgICAgICBmbG9vckNvbG9yID0gYWRqdXN0Q29sb3JCcmlnaHRuZXNzKFxyXG4gICAgICAgICAgICAnI2IwYjBiMCcsXHJcbiAgICAgICAgICAgIDAuOSArIChzaW1wbGVIYXNoKHJvb21TZWVkICsgNikgJSAxMSkgLyAxMDBcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBicmVhazsgLy8gR3JheSBjb25jcmV0ZVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyAtLS0gRHJhdyBSb29tIEZsb29yIChUaWxlIGJ5IFRpbGUgd2l0aGluIFZpc2libGUgQXJlYSkgLS0tXHJcbiAgICAgIGZvciAoXHJcbiAgICAgICAgbGV0IHIgPSBNYXRoLm1heChyb29tLnJvdywgc3RhcnRSb3cpO1xyXG4gICAgICAgIHIgPCBNYXRoLm1pbihyb29tLnJvdyArIHJvb20uaGVpZ2h0LCBlbmRSb3cpO1xyXG4gICAgICAgIHIrK1xyXG4gICAgICApIHtcclxuICAgICAgICBmb3IgKFxyXG4gICAgICAgICAgbGV0IGMgPSBNYXRoLm1heChyb29tLmNvbCwgc3RhcnRDb2wpO1xyXG4gICAgICAgICAgYyA8IE1hdGgubWluKHJvb20uY29sICsgcm9vbS53aWR0aCwgZW5kQ29sKTtcclxuICAgICAgICAgIGMrK1xyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgY29uc3QgdGlsZVZhbHVlID0gbWFwW3JdPy5bY107XHJcbiAgICAgICAgICAvLyBPbmx5IGRyYXcgaWYgaXQncyBhY3R1YWxseSBhIFRJTEVfUk9PTV9GTE9PUlxyXG4gICAgICAgICAgaWYgKHRpbGVWYWx1ZSA9PT0gVElMRV9ST09NX0ZMT09SKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNjcmVlblggPSBNYXRoLmZsb29yKGMgKiB0aGlzLnRpbGVTaXplICsgb2Zmc2V0WCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHNjcmVlblkgPSBNYXRoLmZsb29yKHIgKiB0aGlzLnRpbGVTaXplICsgb2Zmc2V0WSk7XHJcblxyXG4gICAgICAgICAgICAvLyAtLS0gU3VidGxlIFBlci1UaWxlIFZhcmlhdGlvbiBXSVRISU4gUm9vbSBGbG9vciAoS2VwdCBmb3IgdGV4dHVyZSkgLS0tXHJcbiAgICAgICAgICAgIGNvbnN0IHRpbGVIYXNoID0gc2ltcGxlSGFzaChyICogNTAwMCArIGMgKiAzICsgcm9vbVNlZWQpOyAvLyBJbmNsdWRlIHJvb21TZWVkXHJcbiAgICAgICAgICAgIGNvbnN0IHZhcmlhdGlvbiA9ICgodGlsZUhhc2ggJSAxMSkgLSA1KSAvIDEwMDsgLy8gVmFyaWF0aW9uIC0wLjA1IHRvICswLjA1XHJcbiAgICAgICAgICAgIGNvbnN0IGJyaWdodG5lc3NGYWN0b3IgPSAwLjk4ICsgdmFyaWF0aW9uO1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gYWRqdXN0Q29sb3JCcmlnaHRuZXNzKGZsb29yQ29sb3IsIGJyaWdodG5lc3NGYWN0b3IpO1xyXG4gICAgICAgICAgICAvLyAtLS0gRW5kIFBlci1UaWxlIFZhcmlhdGlvbiAtLS1cclxuXHJcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdChzY3JlZW5YLCBzY3JlZW5ZLCB0aGlzLnRpbGVTaXplLCB0aGlzLnRpbGVTaXplKTtcclxuXHJcbiAgICAgICAgICAgIC8vIE9wdGlvbmFsIGZsb29yIHRleHR1cmUgKHJlbWFpbnMgdGhlIHNhbWUpXHJcbiAgICAgICAgICAgIGlmIChyb29tLnR5cGUgPT09ICdsYWInKSB7XHJcbiAgICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJ3JnYmEoMCwwLDAsMC4wOCknO1xyXG4gICAgICAgICAgICAgIGN0eC5saW5lV2lkdGggPSAxO1xyXG4gICAgICAgICAgICAgIGN0eC5zdHJva2VSZWN0KHNjcmVlblggKyAwLjUsIHNjcmVlblkgKyAwLjUsIHRoaXMudGlsZVNpemUgLSAxLCB0aGlzLnRpbGVTaXplIC0gMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIC0tLSBEcmF3IERlY29yYXRpb25zIChyZW1haW5zIHRoZSBzYW1lKSAtLS1cclxuICAgICAgdGhpcy5kcmF3Um9vbURlY29yYXRpb25zKGN0eCwgcm9vbSwgcm9vbVNjcmVlblgsIHJvb21TY3JlZW5ZLCByb29tU2NyZWVuVywgcm9vbVNjcmVlbkgpO1xyXG4gICAgfVxyXG4gICAgY3R4LnJlc3RvcmUoKTtcclxuICB9XHJcblxyXG4gIC8vIC0tLSBkcmF3TGlmdERldGFpbHMsIGRyYXdSb29tRGVjb3JhdGlvbnMsIGRyYXdCb29rcyByZW1haW4gdW5jaGFuZ2VkIC0tLVxyXG4gIC8vIC4uLiAoa2VlcCB0aGUgZXhpc3RpbmcgY29kZSBmb3IgdGhlc2UgbWV0aG9kcykgLi4uXHJcbiAgLyoqIE5hcnlzdWogZGV0YWxlIHdpbmR5IChwcnp5Y2lzaywga29udHVyKSAqL1xyXG4gIGRyYXdMaWZ0RGV0YWlscyhjdHgsIGxpZnRQb3NpdGlvbiwgb2Zmc2V0WCwgb2Zmc2V0WSkge1xyXG4gICAgaWYgKCFsaWZ0UG9zaXRpb24pIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBzY3JlZW5YID0gTWF0aC5mbG9vcihsaWZ0UG9zaXRpb24udGlsZVggKiB0aGlzLnRpbGVTaXplICsgb2Zmc2V0WCk7XHJcbiAgICBjb25zdCBzY3JlZW5ZID0gTWF0aC5mbG9vcihsaWZ0UG9zaXRpb24udGlsZVkgKiB0aGlzLnRpbGVTaXplICsgb2Zmc2V0WSk7XHJcblxyXG4gICAgLy8gU3ByYXdkxbosIGN6eSB3aW5kYSBqZXN0IHdpZG9jem5hIHByemVkIHJ5c293YW5pZW0gZGV0YWxpXHJcbiAgICBpZiAoXHJcbiAgICAgIHNjcmVlblggKyB0aGlzLnRpbGVTaXplIDwgMCB8fFxyXG4gICAgICBzY3JlZW5YID4gY3R4LmNhbnZhcy53aWR0aCB8fFxyXG4gICAgICBzY3JlZW5ZICsgdGhpcy50aWxlU2l6ZSA8IDAgfHxcclxuICAgICAgc2NyZWVuWSA+IGN0eC5jYW52YXMuaGVpZ2h0XHJcbiAgICApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGN0eC5zYXZlKCk7XHJcbiAgICBjdHguc2hhZG93Q29sb3IgPSAndHJhbnNwYXJlbnQnOyAvLyBCcmFrIGNpZW5pYSBkbGEgZGV0YWxpIHdpbmR5XHJcblxyXG4gICAgLy8gV3lyYcW6bmllanN6YSByYW1rYSB3aW5keVxyXG4gICAgY3R4LnN0cm9rZVN0eWxlID0gJyNkMGQwZDAnOyAvLyBKYXNuYSByYW1rYVxyXG4gICAgY3R4LmxpbmVXaWR0aCA9IDE7XHJcbiAgICBjdHguc3Ryb2tlUmVjdChzY3JlZW5YICsgMC41LCBzY3JlZW5ZICsgMC41LCB0aGlzLnRpbGVTaXplIC0gMSwgdGhpcy50aWxlU2l6ZSAtIDEpO1xyXG4gICAgY3R4LnN0cm9rZVN0eWxlID0gJyM0MDQwNDAnOyAvLyBDaWVtbnkgd2V3bsSZdHJ6bnkgY2llxYRcclxuICAgIGN0eC5zdHJva2VSZWN0KHNjcmVlblggKyAxLjUsIHNjcmVlblkgKyAxLjUsIHRoaXMudGlsZVNpemUgLSAzLCB0aGlzLnRpbGVTaXplIC0gMyk7XHJcblxyXG4gICAgLy8gVWxlcHN6b255IHByenljaXNrXHJcbiAgICBjb25zdCBidXR0b25SYWRpdXMgPSB0aGlzLnRpbGVTaXplICogMC4xNTsgLy8gVHJvY2jEmSB3acSZa3N6eVxyXG4gICAgY29uc3QgYnV0dG9uWCA9IHNjcmVlblggKyB0aGlzLnRpbGVTaXplICogMC44O1xyXG4gICAgY29uc3QgYnV0dG9uWSA9IHNjcmVlblkgKyB0aGlzLnRpbGVTaXplICogMC41O1xyXG5cclxuICAgIC8vIFBvZHN0YXdhIHByenljaXNrdSAoY2llbW5pZWpzemEpXHJcbiAgICBjdHguZmlsbFN0eWxlID0gJyM0NDQnO1xyXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgY3R4LmFyYyhidXR0b25YLCBidXR0b25ZLCBidXR0b25SYWRpdXMsIDAsIE1hdGguUEkgKiAyKTtcclxuICAgIGN0eC5maWxsKCk7XHJcblxyXG4gICAgLy8gU2FtIHByenljaXNrIChjemVyd29ueSlcclxuICAgIGN0eC5maWxsU3R5bGUgPSAnI2ZmNDQ0NCc7XHJcbiAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICBjdHguYXJjKGJ1dHRvblgsIGJ1dHRvblksIGJ1dHRvblJhZGl1cyAqIDAuOCwgMCwgTWF0aC5QSSAqIDIpO1xyXG4gICAgY3R4LmZpbGwoKTtcclxuXHJcbiAgICAvLyBPZGJsYXNrIG5hIHByenljaXNrdVxyXG4gICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSknO1xyXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgY3R4LmFyYyhcclxuICAgICAgYnV0dG9uWCAtIGJ1dHRvblJhZGl1cyAqIDAuMixcclxuICAgICAgYnV0dG9uWSAtIGJ1dHRvblJhZGl1cyAqIDAuMixcclxuICAgICAgYnV0dG9uUmFkaXVzICogMC4zLFxyXG4gICAgICAwLFxyXG4gICAgICBNYXRoLlBJICogMlxyXG4gICAgKTtcclxuICAgIGN0eC5maWxsKCk7XHJcblxyXG4gICAgY3R4LnJlc3RvcmUoKTtcclxuICB9XHJcblxyXG4gIC8qKiBOYXJ5c3VqIGRla29yYWNqZSBkbGEga29ua3JldG5lZ28gcG9rb2p1ICovXHJcbiAgZHJhd1Jvb21EZWNvcmF0aW9ucyhjdHgsIHJvb20sIHgsIHksIHcsIGgpIHtcclxuICAgIC8vIHgsIHkgdG8gbGV3eSBnw7NybnkgcsOzZyBwb2tvanUgbmEgZWtyYW5pZVxyXG4gICAgLy8gdywgaCB0byBzemVyb2tvxZvEhyBpIHd5c29rb8WbxIcgcG9rb2p1IG5hIGVrcmFuaWVcclxuICAgIGNvbnN0IHRzID0gdGhpcy50aWxlU2l6ZTtcclxuICAgIGNvbnN0IG1hcmdpbiA9IHRzICogMC4yOyAvLyBNbmllanN6eSBtYXJnaW5lc1xyXG4gICAgY29uc3Qgb2JqTWFyZ2luID0gdHMgKiAwLjE7IC8vIE9kc3TEmXAgbWnEmWR6eSBvYmlla3RhbWlcclxuICAgIGN0eC5saW5lV2lkdGggPSAxO1xyXG4gICAgY3R4LnN0cm9rZVN0eWxlID0gJyM0NDQnOyAvLyBDaWVtbmllanN6YSBkb215xZtsbmEgb2J3w7Nka2FcclxuXHJcbiAgICAvLyA9PT0gRlVOS0NKRSBQT01PQ05JQ1pFIERPIFJZU09XQU5JQSA9PT1cclxuICAgIGNvbnN0IGRyYXdSZWN0ID0gKHJ4LCByeSwgcncsIHJoLCBjb2xvciwgb3V0bGluZSA9IHRydWUpID0+IHtcclxuICAgICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yO1xyXG4gICAgICBjb25zdCBzY3JlZW5YID0gTWF0aC5mbG9vcih4ICsgcngpO1xyXG4gICAgICBjb25zdCBzY3JlZW5ZID0gTWF0aC5mbG9vcih5ICsgcnkpO1xyXG4gICAgICBjb25zdCBzY3JlZW5XID0gTWF0aC5mbG9vcihydyk7XHJcbiAgICAgIGNvbnN0IHNjcmVlbkggPSBNYXRoLmZsb29yKHJoKTtcclxuICAgICAgY3R4LmZpbGxSZWN0KHNjcmVlblgsIHNjcmVlblksIHNjcmVlblcsIHNjcmVlbkgpO1xyXG4gICAgICBpZiAob3V0bGluZSkge1xyXG4gICAgICAgIGN0eC5zdHJva2VSZWN0KHNjcmVlblggKyAwLjUsIHNjcmVlblkgKyAwLjUsIHNjcmVlblcgLSAxLCBzY3JlZW5IIC0gMSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBkcmF3Q2lyY2xlID0gKGN4LCBjeSwgcmFkaXVzLCBjb2xvciwgb3V0bGluZSA9IHRydWUpID0+IHtcclxuICAgICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yO1xyXG4gICAgICBjb25zdCBzY3JlZW5YID0gTWF0aC5mbG9vcih4ICsgY3gpO1xyXG4gICAgICBjb25zdCBzY3JlZW5ZID0gTWF0aC5mbG9vcih5ICsgY3kpO1xyXG4gICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgIGN0eC5hcmMoc2NyZWVuWCwgc2NyZWVuWSwgTWF0aC5mbG9vcihyYWRpdXMpLCAwLCBNYXRoLlBJICogMik7XHJcbiAgICAgIGN0eC5maWxsKCk7XHJcbiAgICAgIGlmIChvdXRsaW5lKSB7XHJcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgc3dpdGNoIChyb29tLnR5cGUpIHtcclxuICAgICAgY2FzZSAnY2xhc3Nyb29tJzogLy8gU2FsYSBsZWtjeWpuYVxyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjNWQ0MDM3JzsgLy8gQnLEhXpvd2Egb2J3w7Nka2EgZGxhIG1lYmxpXHJcbiAgICAgICAgY29uc3QgZGVza1cgPSB0cyAqIDAuNixcclxuICAgICAgICAgIGRlc2tIID0gdHMgKiAwLjQsXHJcbiAgICAgICAgICBjaGFpckggPSB0cyAqIDAuMjU7XHJcbiAgICAgICAgY29uc3Qgc3BhY2VYID0gdHMgKiAxLjAsXHJcbiAgICAgICAgICBzcGFjZVkgPSB0cyAqIDAuOTtcclxuICAgICAgICAvLyBUYWJsaWNhIG5hIGfDs3JuZWogxZtjaWFuaWVcclxuICAgICAgICBkcmF3UmVjdCh3ICogMC4yNSwgbWFyZ2luLCB3ICogMC41LCB0cyAqIDAuMiwgJyMzMzMnLCB0cnVlKTtcclxuICAgICAgICBkcmF3UmVjdCh3ICogMC4yNSArIDIsIG1hcmdpbiArIDIsIHcgKiAwLjUgLSA0LCB0cyAqIDAuMiAtIDQsICcjNENBRjUwJywgZmFsc2UpOyAvLyBaaWVsb25hIHBvd2llcnpjaG5pYVxyXG5cclxuICAgICAgICAvLyDFgWF3a2kgaSBrcnplc8WCYSB3IHJ6xJlkYWNoXHJcbiAgICAgICAgZm9yIChsZXQgciA9IDA7IDsgcisrKSB7XHJcbiAgICAgICAgICBjb25zdCByb3dZID0gbWFyZ2luICsgdHMgKiAwLjUgKyByICogc3BhY2VZO1xyXG4gICAgICAgICAgaWYgKHJvd1kgKyBkZXNrSCArIGNoYWlySCA+IGggLSBtYXJnaW4pIGJyZWFrOyAvLyBTcHJhd2R6ZW5pZSBjenkgem1pZcWbY2kgc2nEmSByesSFZFxyXG4gICAgICAgICAgZm9yIChsZXQgYyA9IDA7IDsgYysrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbFggPSBtYXJnaW4gKyBjICogc3BhY2VYO1xyXG4gICAgICAgICAgICBpZiAoY29sWCArIGRlc2tXID4gdyAtIG1hcmdpbikgYnJlYWs7IC8vIFNwcmF3ZHplbmllIGN6eSB6bWllxZtjaSBzacSZIGtvbHVtbmFcclxuICAgICAgICAgICAgLy8gxYFhd2thXHJcbiAgICAgICAgICAgIGRyYXdSZWN0KGNvbFgsIHJvd1ksIGRlc2tXLCBkZXNrSCwgJyM4QjQ1MTMnKTtcclxuICAgICAgICAgICAgLy8gS3J6ZXPFgm8gcG9uacW8ZWpcclxuICAgICAgICAgICAgZHJhd1JlY3QoY29sWCArIGRlc2tXICogMC4xLCByb3dZICsgZGVza0ggKyBvYmpNYXJnaW4sIGRlc2tXICogMC44LCBjaGFpckgsICcjNmE0YTNhJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnb2ZmaWNlJzogLy8gQml1cm9cclxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnIzVkNDAzNyc7XHJcbiAgICAgICAgLy8gQml1cmtvXHJcbiAgICAgICAgY29uc3QgdGFibGVXID0gTWF0aC5taW4odyAqIDAuNiwgdHMgKiAyLjUpO1xyXG4gICAgICAgIGNvbnN0IHRhYmxlSCA9IE1hdGgubWluKGggKiAwLjQsIHRzICogMS4yKTtcclxuICAgICAgICBkcmF3UmVjdChtYXJnaW4sIG1hcmdpbiwgdGFibGVXLCB0YWJsZUgsICcjYTA1MjJkJyk7XHJcbiAgICAgICAgLy8gS3J6ZXPFgm8gYml1cm93ZVxyXG4gICAgICAgIGRyYXdSZWN0KG1hcmdpbiArIHRhYmxlVyArIG9iak1hcmdpbiwgbWFyZ2luICsgdGFibGVIICogMC4xLCB0cyAqIDAuNiwgdHMgKiAwLjYsICcjNDQ0Jyk7XHJcbiAgICAgICAgLy8gU3phZmEgbmEgYWt0YVxyXG4gICAgICAgIGNvbnN0IGNhYmluZXRXID0gdHMgKiAwLjg7XHJcbiAgICAgICAgZHJhd1JlY3QodyAtIG1hcmdpbiAtIGNhYmluZXRXLCBtYXJnaW4sIGNhYmluZXRXLCBoIC0gbWFyZ2luICogMiwgJyM2QjRGNDEnKTtcclxuICAgICAgICAvLyBLb21wdXRlciBuYSBiaXVya3UgKHN5bWJvbGljem5pZSlcclxuICAgICAgICBkcmF3UmVjdChtYXJnaW4gKyBvYmpNYXJnaW4sIG1hcmdpbiArIG9iak1hcmdpbiwgdHMgKiAwLjUsIHRzICogMC40LCAnIzMzMycpOyAvLyBNb25pdG9yXHJcbiAgICAgICAgZHJhd1JlY3QoXHJcbiAgICAgICAgICBtYXJnaW4gKyBvYmpNYXJnaW4gKyB0cyAqIDAuMSxcclxuICAgICAgICAgIG1hcmdpbiArIG9iak1hcmdpbiArIHRzICogMC40ICsgMixcclxuICAgICAgICAgIHRzICogMC4zLFxyXG4gICAgICAgICAgdHMgKiAwLjEsXHJcbiAgICAgICAgICAnIzU1NSdcclxuICAgICAgICApOyAvLyBLbGF3aWF0dXJhXHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdsaWJyYXJ5JzogLy8gQmlibGlvdGVrYVxyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjNDAyYTEwJzsgLy8gQ2llbW5pZWpzemEgb2J3w7Nka2EgZGxhIHJlZ2HFgsOzd1xyXG4gICAgICAgIGNvbnN0IHNoZWxmVyA9IHRzICogMC42O1xyXG4gICAgICAgIGNvbnN0IHNoZWxmU3BhY2luZyA9IHRzICogMS41O1xyXG4gICAgICAgIC8vIFJlZ2HFgnkgdyBwaW9uaWVcclxuICAgICAgICBmb3IgKGxldCBzeCA9IG1hcmdpbjsgc3ggPCB3IC0gbWFyZ2luIC0gc2hlbGZXOyBzeCArPSBzaGVsZlNwYWNpbmcpIHtcclxuICAgICAgICAgIGRyYXdSZWN0KHN4LCBtYXJnaW4sIHNoZWxmVywgaCAtIG1hcmdpbiAqIDIsICcjNjU0MzIxJyk7XHJcbiAgICAgICAgICAvLyBMaW5pZSBww7PFgmVrXHJcbiAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAncmdiYSgwLDAsMCwwLjMpJztcclxuICAgICAgICAgIGZvciAobGV0IHNoZWxmWSA9IG1hcmdpbiArIHRzICogMC41OyBzaGVsZlkgPCBoIC0gbWFyZ2luOyBzaGVsZlkgKz0gdHMgKiAwLjcpIHtcclxuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICBjdHgubW92ZVRvKHggKyBzeCwgeSArIHNoZWxmWSk7XHJcbiAgICAgICAgICAgIGN0eC5saW5lVG8oeCArIHN4ICsgc2hlbGZXLCB5ICsgc2hlbGZZKTtcclxuICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJyM0MDJhMTAnOyAvLyBQcnp5d3LDs8SHIGfFgsOzd255IGtvbG9yIG9id8OzZGtpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFN0w7PFgiBkbyBjenl0YW5pYSAoamXFm2xpIGplc3QgbWllanNjZSlcclxuICAgICAgICBpZiAodyA+IHNoZWxmU3BhY2luZyAqIDEuNSkge1xyXG4gICAgICAgICAgY29uc3QgdGFibGVMaWJYID0gc2hlbGZXICsgbWFyZ2luICsgKHcgLSBzaGVsZlcgKiAyIC0gbWFyZ2luICogMiAtIHRzICogMS41KSAvIDI7IC8vIFd5xZtyb2RrdWogc3TDs8WCIG1pxJlkenkgcmVnYcWCYW1pXHJcbiAgICAgICAgICBpZiAodGFibGVMaWJYID4gc2hlbGZXICsgbWFyZ2luKSB7XHJcbiAgICAgICAgICAgIC8vIFVwZXduaWogc2nEmSwgxbxlIGplc3QgbWllanNjZVxyXG4gICAgICAgICAgICBkcmF3UmVjdCh0YWJsZUxpYlgsIGggKiAwLjMsIHRzICogMS41LCBoICogMC40LCAnIzk2NkYzMycpO1xyXG4gICAgICAgICAgICAvLyBLcnplc8WCYSBwcnp5IHN0b2xlXHJcbiAgICAgICAgICAgIGRyYXdSZWN0KHRhYmxlTGliWCArIHRzICogMC4yLCBoICogMC4zIC0gdHMgKiAwLjMsIHRzICogMC41LCB0cyAqIDAuMjUsICcjNmE0YTNhJyk7XHJcbiAgICAgICAgICAgIGRyYXdSZWN0KFxyXG4gICAgICAgICAgICAgIHRhYmxlTGliWCArIHRzICogMC4yLFxyXG4gICAgICAgICAgICAgIGggKiAwLjMgKyBoICogMC40ICsgb2JqTWFyZ2luLFxyXG4gICAgICAgICAgICAgIHRzICogMC41LFxyXG4gICAgICAgICAgICAgIHRzICogMC4yNSxcclxuICAgICAgICAgICAgICAnIzZhNGEzYSdcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdneW0nOiAvLyBTacWCb3duaWFcclxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnIzU1NSc7XHJcbiAgICAgICAgLy8gTWF0eSBkbyDEh3dpY3plxYRcclxuICAgICAgICBkcmF3UmVjdChtYXJnaW4sIG1hcmdpbiwgdyAqIDAuNCwgaCAqIDAuMywgJyM3Nzg4OTknKTtcclxuICAgICAgICBkcmF3UmVjdCh3IC0gbWFyZ2luIC0gdyAqIDAuMywgaCAtIG1hcmdpbiAtIGggKiAwLjQsIHcgKiAwLjMsIGggKiAwLjQsICcjNzc4ODk5Jyk7XHJcbiAgICAgICAgLy8gQmllxbxuaWEgKHN5bWJvbGljem5pZSlcclxuICAgICAgICBkcmF3UmVjdCh3ICogMC42LCBtYXJnaW4sIHRzICogMC44LCB0cyAqIDEuOCwgJyMzMzMnKTtcclxuICAgICAgICBkcmF3UmVjdCh3ICogMC42ICsgdHMgKiAwLjEsIG1hcmdpbiArIHRzICogMC4xLCB0cyAqIDAuNiwgdHMgKiAxLjYsICcjNTU1JywgZmFsc2UpO1xyXG4gICAgICAgIC8vIMWBYXdlY3prYVxyXG4gICAgICAgIGRyYXdSZWN0KG1hcmdpbiwgaCAqIDAuNSwgdHMgKiAxLjUsIHRzICogMC40LCAnIzhCNDUxMycpO1xyXG4gICAgICAgIC8vIFN0b2phayB6IGNpxJnFvGFya2FtaVxyXG4gICAgICAgIGRyYXdSZWN0KHcgLSBtYXJnaW4gLSB0cyAqIDAuNSwgbWFyZ2luLCB0cyAqIDAuNSwgdHMgKiAxLjUsICcjNDQ0Jyk7XHJcbiAgICAgICAgZHJhd0NpcmNsZSh3IC0gbWFyZ2luIC0gdHMgKiAwLjI1LCBtYXJnaW4gKyB0cyAqIDAuMywgdHMgKiAwLjE1LCAnIzY2NicpO1xyXG4gICAgICAgIGRyYXdDaXJjbGUodyAtIG1hcmdpbiAtIHRzICogMC4yNSwgbWFyZ2luICsgdHMgKiAwLjcsIHRzICogMC4xNSwgJyM2NjYnKTtcclxuICAgICAgICBkcmF3Q2lyY2xlKHcgLSBtYXJnaW4gLSB0cyAqIDAuMjUsIG1hcmdpbiArIHRzICogMS4xLCB0cyAqIDAuMTUsICcjNjY2Jyk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdsYWInOiAvLyBMYWJvcmF0b3JpdW1cclxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnIzY2OCc7XHJcbiAgICAgICAgLy8gU3RvxYJ5IGxhYm9yYXRvcnlqbmUgKGTFgnVnaWUpXHJcbiAgICAgICAgY29uc3QgbGFiVGFibGVIID0gdHMgKiAwLjg7XHJcbiAgICAgICAgZHJhd1JlY3QobWFyZ2luLCBtYXJnaW4sIHcgLSBtYXJnaW4gKiAyLCBsYWJUYWJsZUgsICcjZDBkMGQ4Jyk7IC8vIEphc25vc3phcnkgc3TDs8WCXHJcbiAgICAgICAgZHJhd1JlY3QobWFyZ2luLCBoIC0gbWFyZ2luIC0gbGFiVGFibGVILCB3IC0gbWFyZ2luICogMiwgbGFiVGFibGVILCAnI2QwZDBkOCcpO1xyXG4gICAgICAgIC8vIFNwcnrEmXQgbmEgc3RvxYJhY2hcclxuICAgICAgICBkcmF3UmVjdChtYXJnaW4gKyB0cyAqIDAuMiwgbWFyZ2luICsgdHMgKiAwLjEsIHRzICogMC41LCB0cyAqIDAuNSwgJyM0YTkwZTInKTsgLy8gQ2/FmyBuaWViaWVza2llZ29cclxuICAgICAgICBkcmF3UmVjdChtYXJnaW4gKyB0cyAqIDEuMCwgbWFyZ2luICsgdHMgKiAwLjEsIHRzICogMC4zLCB0cyAqIDAuNiwgJyNmNWE2MjMnKTsgLy8gQ2/FmyBwb21hcmHFhGN6b3dlZ29cclxuICAgICAgICBkcmF3Q2lyY2xlKHcgLSBtYXJnaW4gKiAyIC0gdHMgKiAwLjQsIG1hcmdpbiArIGxhYlRhYmxlSCAqIDAuNSwgdHMgKiAwLjIsICcjZTA0MDQwJywgdHJ1ZSk7IC8vIENvxZsgY3plcndvbmVnbyBva3LEhWfFgmVnb1xyXG4gICAgICAgIC8vIFN6YWZrYSB6IG9kY3p5bm5pa2FtaVxyXG4gICAgICAgIGRyYXdSZWN0KFxyXG4gICAgICAgICAgdyAqIDAuNCxcclxuICAgICAgICAgIG1hcmdpbiArIGxhYlRhYmxlSCArIG9iak1hcmdpbixcclxuICAgICAgICAgIHRzLFxyXG4gICAgICAgICAgaCAtIG1hcmdpbiAqIDIgLSBsYWJUYWJsZUggKiAyIC0gb2JqTWFyZ2luICogMixcclxuICAgICAgICAgICcjYTBhMGIwJ1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdzdG9yYWdlJzogLy8gTWFnYXp5blxyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjNGQ0MDMwJztcclxuICAgICAgICAvLyBQw7PFgmtpL3JlZ2HFgnkgbWV0YWxvd2VcclxuICAgICAgICBjb25zdCBtZXRhbFNoZWxmVyA9IHcgLSBtYXJnaW4gKiAyO1xyXG4gICAgICAgIGNvbnN0IG1ldGFsU2hlbGZIID0gdHMgKiAwLjU7XHJcbiAgICAgICAgZHJhd1JlY3QobWFyZ2luLCBtYXJnaW4sIG1ldGFsU2hlbGZXLCBtZXRhbFNoZWxmSCwgJyM5ZTllOWUnKTtcclxuICAgICAgICBkcmF3UmVjdChtYXJnaW4sIGggLSBtYXJnaW4gLSBtZXRhbFNoZWxmSCwgbWV0YWxTaGVsZlcsIG1ldGFsU2hlbGZILCAnIzllOWU5ZScpO1xyXG4gICAgICAgIC8vIFB1ZMWCYVxyXG4gICAgICAgIGNvbnN0IGJveFNpemUgPSB0cyAqIDAuNjtcclxuICAgICAgICBkcmF3UmVjdChtYXJnaW4gKyB0cyAqIDAuMiwgbWFyZ2luICsgbWV0YWxTaGVsZkggKyBvYmpNYXJnaW4sIGJveFNpemUsIGJveFNpemUsICcjYmY4ZjZmJyk7XHJcbiAgICAgICAgZHJhd1JlY3QobWFyZ2luICsgdHMgKiAxLjAsIG1hcmdpbiArIG1ldGFsU2hlbGZIICsgb2JqTWFyZ2luLCBib3hTaXplLCBib3hTaXplLCAnI2JmOGY2ZicpO1xyXG4gICAgICAgIGRyYXdSZWN0KFxyXG4gICAgICAgICAgdyAtIG1hcmdpbiAtIGJveFNpemUgKiAxLjUsXHJcbiAgICAgICAgICBtYXJnaW4gKyBtZXRhbFNoZWxmSCArIG9iak1hcmdpbiAqIDMsXHJcbiAgICAgICAgICBib3hTaXplICogMS4yLFxyXG4gICAgICAgICAgYm94U2l6ZSAqIDAuOCxcclxuICAgICAgICAgICcjYmY4ZjZmJ1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgLy8gU3RhcmUgYml1cmtvIHcgcm9ndVxyXG4gICAgICAgIGRyYXdSZWN0KHcgLSBtYXJnaW4gLSB0cywgaCAtIG1hcmdpbiAtIHRzLCB0cyAqIDAuOCwgdHMgKiAwLjgsICcjNmE0YTNhJyk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICd1dGlsaXR5JzogLy8gUG9taWVzemN6ZW5pZSBnb3Nwb2RhcmN6ZVxyXG4gICAgICBkZWZhdWx0OiAvLyBEb215xZtsbmUsIGplxZtsaSB0eXAgbmllem5hbnlcclxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnIzVkNDAzNyc7XHJcbiAgICAgICAgLy8gU2tyenlua2kvdXJ6xIVkemVuaWFcclxuICAgICAgICBkcmF3UmVjdCh3ICogMC4xLCBoICogMC4xNSwgdyAqIDAuMywgaCAqIDAuMjUsICcjQTA1MjJEJyk7XHJcbiAgICAgICAgZHJhd1JlY3QodyAqIDAuNiwgaCAqIDAuNSwgdyAqIDAuMywgaCAqIDAuNCwgJyNBMDUyMkQnKTtcclxuICAgICAgICAvLyBTemFmYSBtZXRhbG93YVxyXG4gICAgICAgIGRyYXdSZWN0KHcgLSBtYXJnaW4gLSB0cyAqIDAuNSwgbWFyZ2luLCB0cyAqIDAuNSwgaCAtIG1hcmdpbiAqIDIsICcjNzc3Jyk7XHJcbiAgICAgICAgLy8gUnVyeS9rYWJsZSAoc3ltYm9saWN6bmllKVxyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjNTU1JztcclxuICAgICAgICBjdHgubGluZVdpZHRoID0gMztcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4Lm1vdmVUbyh4ICsgbWFyZ2luLCB5ICsgaCAqIDAuOCk7XHJcbiAgICAgICAgY3R4LmxpbmVUbyh4ICsgdyAtIG1hcmdpbiwgeSArIGggKiAwLjgpO1xyXG4gICAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4Lm1vdmVUbyh4ICsgdyAqIDAuNywgeSArIG1hcmdpbik7XHJcbiAgICAgICAgY3R4LmxpbmVUbyh4ICsgdyAqIDAuNywgeSArIGggLSBtYXJnaW4pO1xyXG4gICAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgICAgICBjdHgubGluZVdpZHRoID0gMTsgLy8gUHJ6eXdyw7PEhyBncnVib8WbxIcgbGluaWlcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKiBOYXJ5c3VqIGtzacSFxbxraSAqL1xyXG4gIGRyYXdCb29rcyhjdHgsIGJvb2tzLCBvZmZzZXRYLCBvZmZzZXRZLCBib29rSW1hZ2UpIHtcclxuICAgIGlmICghYm9va3MgfHwgYm9va3MubGVuZ3RoID09PSAwKSByZXR1cm47XHJcbiAgICBjb25zdCBkZWZhdWx0Qm9va1NpemUgPSB0aGlzLnRpbGVTaXplICogMC42O1xyXG5cclxuICAgIGZvciAoY29uc3QgYm9vayBvZiBib29rcykge1xyXG4gICAgICBjb25zdCBpc0NvbGxlY3RlZCA9IGJvb2suaXNDb2xsZWN0ZWQgfHwgYm9vay5jb2xsZWN0ZWQ7IC8vIEhhbmRsZSBib3RoIHBvdGVudGlhbCBwcm9wZXJ0aWVzXHJcbiAgICAgIGlmICghaXNDb2xsZWN0ZWQpIHtcclxuICAgICAgICBjb25zdCBib29rU2l6ZSA9IGJvb2suc2l6ZSB8fCBkZWZhdWx0Qm9va1NpemU7XHJcbiAgICAgICAgLy8gUm91bmQgZHJhd2luZyBjb29yZGluYXRlc1xyXG4gICAgICAgIGNvbnN0IHNjcmVlblggPSBNYXRoLmZsb29yKGJvb2sueCArIG9mZnNldFggLSBib29rU2l6ZSAvIDIpO1xyXG4gICAgICAgIGNvbnN0IHNjcmVlblkgPSBNYXRoLmZsb29yKGJvb2sueSArIG9mZnNldFkgLSBib29rU2l6ZSAvIDIpO1xyXG5cclxuICAgICAgICAvLyBCYXNpYyB2aXNpYmlsaXR5IGNoZWNrXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgc2NyZWVuWCArIGJvb2tTaXplID4gMCAmJlxyXG4gICAgICAgICAgc2NyZWVuWCA8IGN0eC5jYW52YXMud2lkdGggJiZcclxuICAgICAgICAgIHNjcmVlblkgKyBib29rU2l6ZSA+IDAgJiZcclxuICAgICAgICAgIHNjcmVlblkgPCBjdHguY2FudmFzLmhlaWdodFxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgLy8gUHJlZmVyIGJvb2sncyBvd24gZHJhdyBtZXRob2QgaWYgYXZhaWxhYmxlXHJcbiAgICAgICAgICBpZiAodHlwZW9mIGJvb2suZHJhdyA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAvLyBQYXNzIHJvdW5kZWQgY29vcmRpbmF0ZXMgYW5kIHNpemVcclxuICAgICAgICAgICAgYm9vay5kcmF3KGN0eCwgb2Zmc2V0WCwgb2Zmc2V0WSwgYm9va0ltYWdlKTsgLy8gYm9vay5kcmF3IHNob3VsZCBoYW5kbGUgaXRzIG93biByb3VuZGluZyBpZiBuZWVkZWQgaW50ZXJuYWxseVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gRmFsbGJhY2sgZHJhd2luZ1xyXG4gICAgICAgICAgICBpZiAoYm9va0ltYWdlKSB7XHJcbiAgICAgICAgICAgICAgLy8gRHJhdyB3aXRoIHJvdW5kZWQgY29vcmRpbmF0ZXNcclxuICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKGJvb2tJbWFnZSwgc2NyZWVuWCwgc2NyZWVuWSwgYm9va1NpemUsIGJvb2tTaXplKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyM4ZDZlNjMnOyAvLyBCcm93biBib29rIGNvbG9yXHJcbiAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KHNjcmVlblgsIHNjcmVlblksIGJvb2tTaXplLCBib29rU2l6ZSk7XHJcbiAgICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJyM1ZDQwMzcnOyAvLyBEYXJrZXIgb3V0bGluZVxyXG4gICAgICAgICAgICAgIGN0eC5saW5lV2lkdGggPSAxO1xyXG4gICAgICAgICAgICAgIGN0eC5zdHJva2VSZWN0KHNjcmVlblggKyAwLjUsIHNjcmVlblkgKyAwLjUsIGJvb2tTaXplIC0gMSwgYm9va1NpemUgLSAxKTsgLy8gRHJhdyBib3JkZXIgbW9yZSBjbGVhcmx5XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn0gLy8gRW5kIGNsYXNzIE1hcFJlbmRlcmVyXHJcbiIsIi8vIHNyYy9tYXAvbWFwR2VuZXJhdG9yLmpzXHJcblxyXG5pbXBvcnQge1xyXG4gIFRJTEVfV0FMTCxcclxuICBUSUxFX0NPUlJJRE9SLFxyXG4gIFRJTEVfUk9PTV9GTE9PUixcclxuICBUSUxFX0xJRlQsXHJcbiAgR1lNX0NIQU5DRV9PTl9GSVJTVF9GTE9PUiwgLy8gVXBld25paiBzacSZLCDFvGUgdG8gamVzdCB6ZGVmaW5pb3dhbmUgdyBjb25zdGFudHMuanMgamFrbyBucC4gMC4yXHJcbn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcclxuaW1wb3J0IHsgcmFuZG9tSW50LCBwZXJmb3JtQkZTIH0gZnJvbSAnLi4vdXRpbHMvbWFwLmpzJztcclxuXHJcbmxldCBjb25zaXN0ZW50TGlmdENvb3JkcyA9IG51bGw7XHJcblxyXG5jb25zdCBERUZBVUxUX0dFTl9QQVJBTVMgPSB7XHJcbiAgbWluUm9vbVNpemU6IDUsXHJcbiAgbWF4Um9vbVNpemU6IDEwLFxyXG4gIGNvcnJpZG9yVGhpY2tuZXNzOiAxLFxyXG4gIG51bVJvb21zOiAxMixcclxuICBtYXhSb29tQXR0ZW1wdHM6IDIwMCxcclxuICByb29tVHlwZVdlaWdodHM6IHtcclxuICAgIGNsYXNzcm9vbTogNTAsXHJcbiAgICBvZmZpY2U6IDI1LFxyXG4gICAgbGlicmFyeTogMTUsXHJcbiAgICBneW06IDAsXHJcbiAgICB1dGlsaXR5OiAxMCxcclxuICAgIGxhYjogMTAsXHJcbiAgICBzdG9yYWdlOiA1LFxyXG4gIH0sXHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVMZXZlbERhdGEoY29uZmlnKSB7XHJcbiAgY29uc3QgeyBjb2xzLCByb3dzLCBmbG9vck51bWJlciwgbWluRmxvb3IsIHRpbGVTaXplLCBnZW5lcmF0aW9uUGFyYW1zOiB1c2VyUGFyYW1zIH0gPSBjb25maWc7XHJcbiAgY29uc3QgZ2VuUGFyYW1zID0geyAuLi5ERUZBVUxUX0dFTl9QQVJBTVMsIC4uLnVzZXJQYXJhbXMgfTtcclxuICBnZW5QYXJhbXMuZmxvb3JOdW1iZXIgPSBmbG9vck51bWJlcjsgLy8gRG9kYWplbXkgbnVtZXIgcGnEmXRyYSBkbyBnZW5QYXJhbXNcclxuXHJcbiAgZ2VuUGFyYW1zLnJvb21UeXBlV2VpZ2h0cy5neW0gPVxyXG4gICAgZmxvb3JOdW1iZXIgPT09IG1pbkZsb29yID8gKEdZTV9DSEFOQ0VfT05fRklSU1RfRkxPT1IgfHwgMCkgKiAxMDAgOiAwO1xyXG5cclxuICBpZiAoZmxvb3JOdW1iZXIgPT09IG1pbkZsb29yKSB7XHJcbiAgICBjb25zaXN0ZW50TGlmdENvb3JkcyA9IG51bGw7XHJcbiAgICBjb25zb2xlLmxvZyhgW01hcEdlbiBGbG9vciAke2Zsb29yTnVtYmVyfV0gUmVzZXQgY29uc2lzdGVudCBsaWZ0IGNvb3JkcyBmb3IgdGhlIGZpcnN0IGZsb29yLmApO1xyXG4gIH1cclxuXHJcbiAgY29uc29sZS5sb2coYFtNYXBHZW4gRmxvb3IgJHtmbG9vck51bWJlcn1dIFN0YXJ0aW5nIG1hcCBnZW5lcmF0aW9uICgke2NvbHN9eCR7cm93c30pLi4uYCk7XHJcbiAgY29uc3QgbWFwID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogcm93cyB9LCAoKSA9PiBBcnJheShjb2xzKS5maWxsKFRJTEVfV0FMTCkpO1xyXG4gIGNvbnN0IHJvb21zID0gW107XHJcbiAgbGV0IGxpZnRQb3NpdGlvbiA9IG51bGw7XHJcblxyXG4gIF9wbGFjZVJvb21zKG1hcCwgcm9vbXMsIGNvbHMsIHJvd3MsIGdlblBhcmFtcyk7XHJcblxyXG4gIGlmIChyb29tcy5sZW5ndGggPCAxKSB7XHJcbiAgICBjb25zdCBlcnJvck1zZyA9IGBbTWFwR2VuIEZsb29yICR7Zmxvb3JOdW1iZXJ9XSBDUklUSUNBTDogTm8gcm9vbXMgZ2VuZXJhdGVkLiBDYW5ub3QgcGxhY2UgbGlmdC5gO1xyXG4gICAgY29uc29sZS5lcnJvcihlcnJvck1zZyk7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNc2cpO1xyXG4gIH0gZWxzZSBpZiAocm9vbXMubGVuZ3RoID49IDIpIHtcclxuICAgIF9jb25uZWN0Um9vbXNCZXR0ZXIobWFwLCByb29tcywgY29scywgcm93cyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnNvbGUud2FybihcclxuICAgICAgYFtNYXBHZW4gRmxvb3IgJHtmbG9vck51bWJlcn1dIE9ubHkgMSByb29tIGdlbmVyYXRlZC4gTm8gY29ycmlkb3JzIG5lZWRlZCBiZXR3ZWVuIHJvb21zLmBcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgcGxhY2VkTGlmdERhdGEgPSBfcGxhY2VMaWZ0KFxyXG4gICAgICBtYXAsXHJcbiAgICAgIGNvbHMsXHJcbiAgICAgIHJvd3MsXHJcbiAgICAgIGZsb29yTnVtYmVyLFxyXG4gICAgICBtaW5GbG9vcixcclxuICAgICAgdGlsZVNpemUsXHJcbiAgICAgIGNvbnNpc3RlbnRMaWZ0Q29vcmRzLFxyXG4gICAgICByb29tc1xyXG4gICAgKTtcclxuICAgIGxpZnRQb3NpdGlvbiA9IHBsYWNlZExpZnREYXRhLnBvc2l0aW9uO1xyXG4gICAgaWYgKHBsYWNlZExpZnREYXRhLmNvb3Jkcykge1xyXG4gICAgICBjb25zaXN0ZW50TGlmdENvb3JkcyA9IHBsYWNlZExpZnREYXRhLmNvb3JkcztcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihgW01hcEdlbiBGbG9vciAke2Zsb29yTnVtYmVyfV0gQ1JJVElDQUw6IExpZnQgcGxhY2VtZW50IGZhaWxlZDpgLCBlcnJvcik7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYExpZnQgcGxhY2VtZW50IGZhaWxlZCBvbiBmbG9vciAke2Zsb29yTnVtYmVyfTogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gIH1cclxuXHJcbiAgX2Vuc3VyZU1hcEJvcmRlcnMobWFwLCBjb2xzLCByb3dzKTtcclxuXHJcbiAgaWYgKGxpZnRQb3NpdGlvbiAmJiAhX2lzTGlmdFJlYWNoYWJsZShtYXAsIGxpZnRQb3NpdGlvbiwgY29scywgcm93cykpIHtcclxuICAgIGNvbnNvbGUud2FybihcclxuICAgICAgYFtNYXBWYWxpZGF0aW9uIEZsb29yICR7Zmxvb3JOdW1iZXJ9XSBMaWZ0IGF0IHRpbGUoJHtsaWZ0UG9zaXRpb24udGlsZVh9LCAke2xpZnRQb3NpdGlvbi50aWxlWX0pIGluaXRpYWxseSB1bnJlYWNoYWJsZS4gQXR0ZW1wdGluZyBmaW5hbCBmb3JjZSBjb25uZWN0aW9uLmBcclxuICAgICk7XHJcbiAgICBjb25zdCBjb25uZWN0ZWQgPSBfZm9yY2VDb25uZWN0aW9uVG9Qb2ludChcclxuICAgICAgbWFwLFxyXG4gICAgICBsaWZ0UG9zaXRpb24udGlsZVgsXHJcbiAgICAgIGxpZnRQb3NpdGlvbi50aWxlWSxcclxuICAgICAgY29scyxcclxuICAgICAgcm93c1xyXG4gICAgKTtcclxuICAgIGlmICghY29ubmVjdGVkIHx8ICFfaXNMaWZ0UmVhY2hhYmxlKG1hcCwgbGlmdFBvc2l0aW9uLCBjb2xzLCByb3dzKSkge1xyXG4gICAgICBjb25zdCBlcnJvck1zZyA9IGBDUklUSUNBTDogUGxhY2VkIGxpZnQgYXQgdGlsZSgke2xpZnRQb3NpdGlvbi50aWxlWH0sICR7bGlmdFBvc2l0aW9uLnRpbGVZfSkgaXMgVU5SRUFDSEFCTEUgZXZlbiBhZnRlciBmb3JjZSBjb25uZWN0ISBHZW5lcmF0aW9uIGZhaWxlZC5gO1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBbTWFwR2VuIEZsb29yICR7Zmxvb3JOdW1iZXJ9XSAke2Vycm9yTXNnfWApO1xyXG4gICAgICBsb2dNYXBHcmlkRm9yRGVidWcobWFwLCBjb2xzLCByb3dzKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBMaWZ0IGlzIHVucmVhY2hhYmxlIG9uIGZsb29yICR7Zmxvb3JOdW1iZXJ9LiBDYW5ub3QgcHJvY2VlZC5gKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgIGBbTWFwVmFsaWRhdGlvbiBGbG9vciAke2Zsb29yTnVtYmVyfV0gTGlmdCBjb25uZWN0aW9uIHN1Y2Nlc3NmdWwgYWZ0ZXIgc2Vjb25kIGF0dGVtcHQuYFxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAobGlmdFBvc2l0aW9uKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcclxuICAgICAgYFtNYXBWYWxpZGF0aW9uIEZsb29yICR7Zmxvb3JOdW1iZXJ9XSBMaWZ0IGF0IHRpbGUoJHtsaWZ0UG9zaXRpb24udGlsZVh9LCAke2xpZnRQb3NpdGlvbi50aWxlWX0pIGlzIHJlYWNoYWJsZS5gXHJcbiAgICApO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYE1hcCBnZW5lcmF0ZWQgd2l0aG91dCBhIHZhbGlkIGxpZnQgcG9zaXRpb24gb24gZmxvb3IgJHtmbG9vck51bWJlcn0uYCk7XHJcbiAgfVxyXG5cclxuICBjb25zb2xlLmxvZyhgW01hcEdlbiBGbG9vciAke2Zsb29yTnVtYmVyfV0gTWFwIGdlbmVyYXRpb24gY29tcGxldGVkIHN1Y2Nlc3NmdWxseS5gKTtcclxuICByZXR1cm4geyBtYXAsIHJvb21zLCBsaWZ0UG9zaXRpb24gfTtcclxufVxyXG5cclxuZnVuY3Rpb24gX3BsYWNlUm9vbXMobWFwLCByb29tcywgY29scywgcm93cywgZ2VuUGFyYW1zKSB7XHJcbiAgY29uc3QgeyBtaW5Sb29tU2l6ZSwgbWF4Um9vbVNpemUsIG51bVJvb21zLCBtYXhSb29tQXR0ZW1wdHMsIHJvb21UeXBlV2VpZ2h0cyB9ID0gZ2VuUGFyYW1zO1xyXG4gIGxldCByb29tQXR0ZW1wdHMgPSAwO1xyXG4gIGNvbnN0IHdlaWdodGVkVHlwZXMgPSBbXTtcclxuXHJcbiAgZm9yIChjb25zdCB0eXBlIGluIHJvb21UeXBlV2VpZ2h0cykge1xyXG4gICAgY29uc3Qgd2VpZ2h0ID0gcm9vbVR5cGVXZWlnaHRzW3R5cGVdO1xyXG4gICAgaWYgKHdlaWdodCA+IDApIHtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3ZWlnaHQ7IGkrKykgd2VpZ2h0ZWRUeXBlcy5wdXNoKHR5cGUpO1xyXG4gICAgfVxyXG4gIH1cclxuICBpZiAod2VpZ2h0ZWRUeXBlcy5sZW5ndGggPT09IDApIHtcclxuICAgIHdlaWdodGVkVHlwZXMucHVzaCgndXRpbGl0eScpO1xyXG4gICAgY29uc29sZS53YXJuKFwiW01hcEdlbiBSb29tc10gTm8gcm9vbSB0eXBlcy4gRGVmYXVsdGluZyB0byAndXRpbGl0eScuXCIpO1xyXG4gIH1cclxuXHJcbiAgd2hpbGUgKHJvb21zLmxlbmd0aCA8IG51bVJvb21zICYmIHJvb21BdHRlbXB0cyA8IG1heFJvb21BdHRlbXB0cykge1xyXG4gICAgcm9vbUF0dGVtcHRzKys7XHJcbiAgICBjb25zdCByb29tV2lkdGggPSByYW5kb21JbnQobWluUm9vbVNpemUsIG1heFJvb21TaXplKTtcclxuICAgIGNvbnN0IHJvb21IZWlnaHQgPSByYW5kb21JbnQobWluUm9vbVNpemUsIG1heFJvb21TaXplKTtcclxuICAgIGNvbnN0IHJvb21Db2wgPSByYW5kb21JbnQoMSwgY29scyAtIHJvb21XaWR0aCAtIDIpOyAvLyAtMiB0byBsZWF2ZSBib3JkZXJcclxuICAgIGNvbnN0IHJvb21Sb3cgPSByYW5kb21JbnQoMSwgcm93cyAtIHJvb21IZWlnaHQgLSAyKTsgLy8gLTIgdG8gbGVhdmUgYm9yZGVyXHJcblxyXG4gICAgY29uc3Qgcm9vbVR5cGUgPSB3ZWlnaHRlZFR5cGVzW3JhbmRvbUludCgwLCB3ZWlnaHRlZFR5cGVzLmxlbmd0aCAtIDEpXTtcclxuICAgIGNvbnN0IG5ld1Jvb20gPSB7XHJcbiAgICAgIGNvbDogcm9vbUNvbCxcclxuICAgICAgcm93OiByb29tUm93LFxyXG4gICAgICB3aWR0aDogcm9vbVdpZHRoLFxyXG4gICAgICBoZWlnaHQ6IHJvb21IZWlnaHQsXHJcbiAgICAgIHR5cGU6IHJvb21UeXBlLFxyXG4gICAgICBpZDogYHJvb21fZiR7Z2VuUGFyYW1zLmZsb29yTnVtYmVyfV8ke3Jvb21zLmxlbmd0aCArIDF9YCxcclxuICAgICAgY2VudGVyVGlsZVg6IE1hdGguZmxvb3Iocm9vbUNvbCArIHJvb21XaWR0aCAvIDIpLFxyXG4gICAgICBjZW50ZXJUaWxlWTogTWF0aC5mbG9vcihyb29tUm93ICsgcm9vbUhlaWdodCAvIDIpLFxyXG4gICAgICBjb25uZWN0ZWQ6IGZhbHNlLFxyXG4gICAgICB4OiByb29tQ29sLFxyXG4gICAgICB5OiByb29tUm93LFxyXG4gICAgfTtcclxuXHJcbiAgICBsZXQgb3ZlcmxhcHMgPSBmYWxzZTtcclxuICAgIGNvbnN0IGJ1ZmZlciA9IDI7XHJcbiAgICBmb3IgKGNvbnN0IGV4aXN0aW5nUm9vbSBvZiByb29tcykge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgbmV3Um9vbS5jb2wgPCBleGlzdGluZ1Jvb20uY29sICsgZXhpc3RpbmdSb29tLndpZHRoICsgYnVmZmVyICYmXHJcbiAgICAgICAgbmV3Um9vbS5jb2wgKyBuZXdSb29tLndpZHRoICsgYnVmZmVyID4gZXhpc3RpbmdSb29tLmNvbCAmJlxyXG4gICAgICAgIG5ld1Jvb20ucm93IDwgZXhpc3RpbmdSb29tLnJvdyArIGV4aXN0aW5nUm9vbS5oZWlnaHQgKyBidWZmZXIgJiZcclxuICAgICAgICBuZXdSb29tLnJvdyArIG5ld1Jvb20uaGVpZ2h0ICsgYnVmZmVyID4gZXhpc3RpbmdSb29tLnJvd1xyXG4gICAgICApIHtcclxuICAgICAgICBvdmVybGFwcyA9IHRydWU7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoIW92ZXJsYXBzKSB7XHJcbiAgICAgIHJvb21zLnB1c2gobmV3Um9vbSk7XHJcbiAgICAgIGZvciAobGV0IHIgPSBuZXdSb29tLnJvdzsgciA8IG5ld1Jvb20ucm93ICsgbmV3Um9vbS5oZWlnaHQ7IHIrKykge1xyXG4gICAgICAgIGZvciAobGV0IGMgPSBuZXdSb29tLmNvbDsgYyA8IG5ld1Jvb20uY29sICsgbmV3Um9vbS53aWR0aDsgYysrKSB7XHJcbiAgICAgICAgICBpZiAociA+PSAwICYmIHIgPCByb3dzICYmIGMgPj0gMCAmJiBjIDwgY29scykgbWFwW3JdW2NdID0gVElMRV9ST09NX0ZMT09SO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBpZiAocm9vbXMubGVuZ3RoIDwgbnVtUm9vbXMpXHJcbiAgICBjb25zb2xlLndhcm4oYFtNYXBHZW4gUm9vbXNdIFBsYWNlZCAke3Jvb21zLmxlbmd0aH0vJHtudW1Sb29tc30gcm9vbXMuYCk7XHJcbiAgZWxzZSBjb25zb2xlLmxvZyhgW01hcEdlbiBSb29tc10gUGxhY2VkICR7cm9vbXMubGVuZ3RofSByb29tcy5gKTtcclxufVxyXG5cclxuZnVuY3Rpb24gX2Nvbm5lY3RSb29tc0JldHRlcihtYXAsIHJvb21zLCBjb2xzLCByb3dzKSB7XHJcbiAgaWYgKHJvb21zLmxlbmd0aCA8IDIpIHJldHVybjtcclxuICBjb25zb2xlLmxvZyhgW01hcEdlbiBDb25uZWN0XSBDb25uZWN0aW5nICR7cm9vbXMubGVuZ3RofSByb29tcy4uLmApO1xyXG4gIGNvbnN0IGNvbm5lY3RlZFNldCA9IG5ldyBTZXQoW3Jvb21zWzBdLmlkXSk7XHJcbiAgbGV0IHVuY29ubmVjdGVkUm9vbXMgPSByb29tcy5zbGljZSgxKTtcclxuXHJcbiAgd2hpbGUgKHVuY29ubmVjdGVkUm9vbXMubGVuZ3RoID4gMCkge1xyXG4gICAgbGV0IGJlc3REaXN0U3EgPSBJbmZpbml0eSxcclxuICAgICAgYmVzdFVuY1Jvb20gPSBudWxsLFxyXG4gICAgICBiZXN0Q29uUm9vbUlkID0gbnVsbCxcclxuICAgICAgYmVzdFVuY0lkeCA9IC0xO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1bmNvbm5lY3RlZFJvb21zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IHJvb21VID0gdW5jb25uZWN0ZWRSb29tc1tpXTtcclxuICAgICAgZm9yIChjb25zdCByb29tQyBvZiByb29tcykge1xyXG4gICAgICAgIGlmIChjb25uZWN0ZWRTZXQuaGFzKHJvb21DLmlkKSkge1xyXG4gICAgICAgICAgY29uc3QgZHggPSByb29tVS5jZW50ZXJUaWxlWCAtIHJvb21DLmNlbnRlclRpbGVYO1xyXG4gICAgICAgICAgY29uc3QgZHkgPSByb29tVS5jZW50ZXJUaWxlWSAtIHJvb21DLmNlbnRlclRpbGVZO1xyXG4gICAgICAgICAgY29uc3QgZGlzdFNxID0gZHggKiBkeCArIGR5ICogZHk7XHJcbiAgICAgICAgICBpZiAoZGlzdFNxIDwgYmVzdERpc3RTcSkge1xyXG4gICAgICAgICAgICBiZXN0RGlzdFNxID0gZGlzdFNxO1xyXG4gICAgICAgICAgICBiZXN0VW5jUm9vbSA9IHJvb21VO1xyXG4gICAgICAgICAgICBiZXN0Q29uUm9vbUlkID0gcm9vbUMuaWQ7XHJcbiAgICAgICAgICAgIGJlc3RVbmNJZHggPSBpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGJlc3RVbmNSb29tICYmIGJlc3RDb25Sb29tSWQgIT09IG51bGwpIHtcclxuICAgICAgY29uc3QgYmVzdENvblJvb20gPSByb29tcy5maW5kKChyKSA9PiByLmlkID09PSBiZXN0Q29uUm9vbUlkKTtcclxuICAgICAgaWYgKCFiZXN0Q29uUm9vbSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFtNYXBHZW4gQ29ubmVjdF0gRXJyb3IgZmluZGluZyBjb25uZWN0ZWQgcm9vbSAke2Jlc3RDb25Sb29tSWR9LmApO1xyXG4gICAgICAgIHVuY29ubmVjdGVkUm9vbXMuc3BsaWNlKGJlc3RVbmNJZHgsIDEpO1xyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9XHJcbiAgICAgIF9jYXJ2ZUNvcnJpZG9yQmV0d2VlbihtYXAsIGJlc3RDb25Sb29tLCBiZXN0VW5jUm9vbSwgY29scywgcm93cyk7XHJcbiAgICAgIGNvbm5lY3RlZFNldC5hZGQoYmVzdFVuY1Jvb20uaWQpO1xyXG4gICAgICB1bmNvbm5lY3RlZFJvb21zLnNwbGljZShiZXN0VW5jSWR4LCAxKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgJ1tNYXBHZW4gQ29ubmVjdF0gQ291bGQgbm90IGZpbmQgbmV4dCBwYWlyLiBSZW1haW5pbmc6JyxcclxuICAgICAgICB1bmNvbm5lY3RlZFJvb21zLm1hcCgocikgPT4gci5pZClcclxuICAgICAgKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGNvbnNvbGUubG9nKGBbTWFwR2VuIENvbm5lY3RdIEZpbmlzaGVkLiBDb25uZWN0ZWQ6ICR7Y29ubmVjdGVkU2V0LnNpemV9YCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9jYXJ2ZUNvcnJpZG9yQmV0d2VlbihtYXAsIHJvb21BLCByb29tQiwgY29scywgcm93cykge1xyXG4gIGNvbnN0IHsgY2VudGVyVGlsZVg6IGF4LCBjZW50ZXJUaWxlWTogYXkgfSA9IHJvb21BO1xyXG4gIGNvbnN0IHsgY2VudGVyVGlsZVg6IGJ4LCBjZW50ZXJUaWxlWTogYnkgfSA9IHJvb21CO1xyXG4gIGlmIChNYXRoLnJhbmRvbSgpIDwgMC41KSB7XHJcbiAgICBfY2FydmVIb3Jpem9udGFsQ29ycmlkb3IobWFwLCBheSwgYXgsIGJ4LCBjb2xzLCByb3dzKTtcclxuICAgIF9jYXJ2ZVZlcnRpY2FsQ29ycmlkb3IobWFwLCBieCwgYXksIGJ5LCBjb2xzLCByb3dzKTtcclxuICB9IGVsc2Uge1xyXG4gICAgX2NhcnZlVmVydGljYWxDb3JyaWRvcihtYXAsIGF4LCBheSwgYnksIGNvbHMsIHJvd3MpO1xyXG4gICAgX2NhcnZlSG9yaXpvbnRhbENvcnJpZG9yKG1hcCwgYnksIGF4LCBieCwgY29scywgcm93cyk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBfY2FydmVIb3Jpem9udGFsQ29ycmlkb3IobWFwLCByLCBjMSwgYzIsIGNvbHMsIHJvd3MpIHtcclxuICBpZiAociA8IDAgfHwgciA+PSByb3dzKSByZXR1cm47XHJcbiAgY29uc3Qgc3RhcnRDID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oYzEsIGMyKSksXHJcbiAgICBlbmRDID0gTWF0aC5taW4oY29scyAtIDEsIE1hdGgubWF4KGMxLCBjMikpO1xyXG4gIGZvciAobGV0IGMgPSBzdGFydEM7IGMgPD0gZW5kQzsgYysrKSBpZiAobWFwW3JdPy5bY10gPT09IFRJTEVfV0FMTCkgbWFwW3JdW2NdID0gVElMRV9DT1JSSURPUjtcclxufVxyXG5mdW5jdGlvbiBfY2FydmVWZXJ0aWNhbENvcnJpZG9yKG1hcCwgYywgcjEsIHIyLCBjb2xzLCByb3dzKSB7XHJcbiAgaWYgKGMgPCAwIHx8IGMgPj0gY29scykgcmV0dXJuO1xyXG4gIGNvbnN0IHN0YXJ0UiA9IE1hdGgubWF4KDAsIE1hdGgubWluKHIxLCByMikpLFxyXG4gICAgZW5kUiA9IE1hdGgubWluKHJvd3MgLSAxLCBNYXRoLm1heChyMSwgcjIpKTtcclxuICBmb3IgKGxldCByID0gc3RhcnRSOyByIDw9IGVuZFI7IHIrKykgaWYgKG1hcFtyXT8uW2NdID09PSBUSUxFX1dBTEwpIG1hcFtyXVtjXSA9IFRJTEVfQ09SUklET1I7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9nZXRUaWxlT3Blbm5lc3NEZXRhaWxzKHRpbGVYLCB0aWxlWSwgbWFwLCBjb2xzLCByb3dzKSB7XHJcbiAgY29uc3QgaXNXYWxrYWJsZSA9ICh4LCB5KSA9PiB7XHJcbiAgICBpZiAoeCA8IDAgfHwgeCA+PSBjb2xzIHx8IHkgPCAwIHx8IHkgPj0gcm93cykgcmV0dXJuIGZhbHNlO1xyXG4gICAgY29uc3QgdmFsID0gbWFwW3ldPy5beF07XHJcbiAgICByZXR1cm4gdmFsID09PSBUSUxFX0NPUlJJRE9SIHx8IHZhbCA9PT0gVElMRV9ST09NX0ZMT09SIHx8IHZhbCA9PT0gVElMRV9MSUZUO1xyXG4gIH07XHJcbiAgbGV0IG9wZW5TaWRlcyA9IDA7XHJcbiAgY29uc3QgZGVsdGFzID0gW1xyXG4gICAgeyBkeDogMCwgZHk6IC0xIH0sXHJcbiAgICB7IGR4OiAwLCBkeTogMSB9LFxyXG4gICAgeyBkeDogLTEsIGR5OiAwIH0sXHJcbiAgICB7IGR4OiAxLCBkeTogMCB9LFxyXG4gIF07XHJcbiAgbGV0IGZsYWdzID0gW2ZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlXTsgLy8gTixTLFcsRVxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZGVsdGFzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBpZiAoaXNXYWxrYWJsZSh0aWxlWCArIGRlbHRhc1tpXS5keCwgdGlsZVkgKyBkZWx0YXNbaV0uZHkpKSB7XHJcbiAgICAgIG9wZW5TaWRlcysrO1xyXG4gICAgICBmbGFnc1tpXSA9IHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGxldCBpc0Nob2tlcG9pbnQgPVxyXG4gICAgb3BlblNpZGVzID09PSAyICYmXHJcbiAgICAoKGZsYWdzWzBdICYmIGZsYWdzWzFdICYmICFmbGFnc1syXSAmJiAhZmxhZ3NbM10pIHx8XHJcbiAgICAgIChmbGFnc1syXSAmJiBmbGFnc1szXSAmJiAhZmxhZ3NbMF0gJiYgIWZsYWdzWzFdKSk7XHJcbiAgcmV0dXJuIHsgb3BlblNpZGVzLCBpc0Nob2tlcG9pbnQgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gX2ZpbmRMaWZ0UGxhY2VtZW50TG9jYXRpb24obWFwLCBjb2xzLCByb3dzLCByb29tc0xpc3QpIHtcclxuICBjb25zb2xlLmxvZyhgICBbTWFwR2VuIEZpbmRMaWZ0IFY2XSBTZWFyY2hpbmcgZm9yIGxpZnQgc3BvdCBJTlNJREUgYSByb29tLi4uYCk7XHJcbiAgaWYgKCFyb29tc0xpc3QgfHwgcm9vbXNMaXN0Lmxlbmd0aCA9PT0gMCkge1xyXG4gICAgY29uc29sZS53YXJuKGAgIFtNYXBHZW4gRmluZExpZnQgVjZdIE5vIHJvb21zLiBQbGFjZW1lbnQgd2lsbCBmYWlsLmApO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG4gIGNvbnN0IGNhbmRpZGF0ZXMgPSBbXTtcclxuICBmb3IgKGNvbnN0IHJvb20gb2Ygcm9vbXNMaXN0KSB7XHJcbiAgICBjb25zdCBzdGFydElDID0gcm9vbS5jb2wgKyAxLFxyXG4gICAgICBlbmRJQyA9IHJvb20uY29sICsgcm9vbS53aWR0aCAtIDI7XHJcbiAgICBjb25zdCBzdGFydElSID0gcm9vbS5yb3cgKyAxLFxyXG4gICAgICBlbmRJUiA9IHJvb20ucm93ICsgcm9vbS5oZWlnaHQgLSAyO1xyXG4gICAgaWYgKHN0YXJ0SUMgPD0gZW5kSUMgJiYgc3RhcnRJUiA8PSBlbmRJUikge1xyXG4gICAgICBmb3IgKGxldCByID0gc3RhcnRJUjsgciA8PSBlbmRJUjsgcisrKSB7XHJcbiAgICAgICAgZm9yIChsZXQgYyA9IHN0YXJ0SUM7IGMgPD0gZW5kSUM7IGMrKykge1xyXG4gICAgICAgICAgaWYgKG1hcFtyXT8uW2NdID09PSBUSUxFX1JPT01fRkxPT1IpIHtcclxuICAgICAgICAgICAgY29uc3QgZCA9IF9nZXRUaWxlT3Blbm5lc3NEZXRhaWxzKGMsIHIsIG1hcCwgY29scywgcm93cyk7XHJcbiAgICAgICAgICAgIGlmICghZC5pc0Nob2tlcG9pbnQgJiYgZC5vcGVuU2lkZXMgPj0gMikgY2FuZGlkYXRlcy5wdXNoKHsgdGlsZVg6IGMsIHRpbGVZOiByLCByb29tIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgYyA9IHJvb20uY2VudGVyVGlsZVgsXHJcbiAgICAgICAgciA9IHJvb20uY2VudGVyVGlsZVk7XHJcbiAgICAgIGlmIChcclxuICAgICAgICBjID49IHJvb20uY29sICYmXHJcbiAgICAgICAgYyA8IHJvb20uY29sICsgcm9vbS53aWR0aCAmJlxyXG4gICAgICAgIHIgPj0gcm9vbS5yb3cgJiZcclxuICAgICAgICByIDwgcm9vbS5yb3cgKyByb29tLmhlaWdodCAmJlxyXG4gICAgICAgIG1hcFtyXT8uW2NdID09PSBUSUxFX1JPT01fRkxPT1JcclxuICAgICAgKSB7XHJcbiAgICAgICAgY29uc3QgZCA9IF9nZXRUaWxlT3Blbm5lc3NEZXRhaWxzKGMsIHIsIG1hcCwgY29scywgcm93cyk7XHJcbiAgICAgICAgaWYgKCFkLmlzQ2hva2Vwb2ludCAmJiBkLm9wZW5TaWRlcyA+PSAxKSBjYW5kaWRhdGVzLnB1c2goeyB0aWxlWDogYywgdGlsZVk6IHIsIHJvb20gfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgaWYgKGNhbmRpZGF0ZXMubGVuZ3RoID4gMCkge1xyXG4gICAgY29uc3QgY1ggPSBNYXRoLmZsb29yKGNvbHMgLyAyKSxcclxuICAgICAgY1kgPSBNYXRoLmZsb29yKHJvd3MgLyAyKTtcclxuICAgIGNhbmRpZGF0ZXMuc29ydChcclxuICAgICAgKGEsIGIpID0+XHJcbiAgICAgICAgKGEudGlsZVggLSBjWCkgKiogMiArIChhLnRpbGVZIC0gY1kpICoqIDIgLSAoKGIudGlsZVggLSBjWCkgKiogMiArIChiLnRpbGVZIC0gY1kpICoqIDIpXHJcbiAgICApO1xyXG4gICAgY29uc3QgYmVzdCA9IGNhbmRpZGF0ZXNbMF07XHJcbiAgICBjb25zb2xlLmxvZyhcclxuICAgICAgYCAgW01hcEdlbiBGaW5kTGlmdCBWNl0gU2VsZWN0ZWQgSU4gUk9PTSAoJHtiZXN0LnJvb20uaWR9KSBAKCR7YmVzdC50aWxlWH0sJHtiZXN0LnRpbGVZfSkuYFxyXG4gICAgKTtcclxuICAgIHJldHVybiB7IHRpbGVYOiBiZXN0LnRpbGVYLCB0aWxlWTogYmVzdC50aWxlWSB9O1xyXG4gIH1cclxuICBjb25zb2xlLndhcm4oJ1tNYXBHZW4gRmluZExpZnQgVjZdIE5vIHN1aXRhYmxlIElOLVJPT00gbG9jYXRpb24uIFdpbGwgZmFpbC4nKTtcclxuICByZXR1cm4gbnVsbDtcclxufVxyXG5cclxuZnVuY3Rpb24gX3BsYWNlTGlmdChcclxuICBtYXAsXHJcbiAgY29scyxcclxuICByb3dzLFxyXG4gIGZsb29yTnVtYmVyLFxyXG4gIG1pbkZsb29yLFxyXG4gIHRpbGVTaXplLFxyXG4gIGN1cnJlbnRDb25zaXN0ZW50Q29vcmRzLFxyXG4gIHJvb21zTGlzdFxyXG4pIHtcclxuICBsZXQgY29vcmRzVG9Vc2UgPSBjdXJyZW50Q29uc2lzdGVudENvb3JkcyxcclxuICAgIG5ld2x5Rm91bmRDb29yZHMgPSBudWxsO1xyXG5cclxuICBpZiAoZmxvb3JOdW1iZXIgPT09IG1pbkZsb29yKSB7XHJcbiAgICBjb25zb2xlLmxvZyhgW01hcEdlbiBGJHtmbG9vck51bWJlcn1dIEZpbmRpbmcgaW5pdGlhbCBJTi1ST09NIGxpZnQgbG9jLi4uYCk7XHJcbiAgICBjb29yZHNUb1VzZSA9IF9maW5kTGlmdFBsYWNlbWVudExvY2F0aW9uKG1hcCwgY29scywgcm93cywgcm9vbXNMaXN0KTtcclxuICAgIGlmICghY29vcmRzVG9Vc2UpXHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgW01hcEdlbiBGJHtmbG9vck51bWJlcn1dIENSSVQ6IE5vIHZhbGlkIElOLVJPT00gbGlmdCBsb2Mgb24gbWluRmxvb3IuYCk7XHJcbiAgICBjb25zb2xlLmxvZyhcclxuICAgICAgYFtNYXBHZW4gRiR7Zmxvb3JOdW1iZXJ9XSBFc3RhYmxpc2hlZCBjb25zaXN0ZW50IElOLVJPT00gbGlmdCBAKCR7Y29vcmRzVG9Vc2UudGlsZVh9LCR7Y29vcmRzVG9Vc2UudGlsZVl9KWBcclxuICAgICk7XHJcbiAgICBuZXdseUZvdW5kQ29vcmRzID0gY29vcmRzVG9Vc2U7XHJcbiAgfSBlbHNlIGlmICghY29vcmRzVG9Vc2UpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihgW01hcEdlbiBMaWZ0XSBDUklUOiBNaXNzaW5nIGNvbnNpc3RlbnQgbGlmdCBjb29yZHMgZm9yIEYke2Zsb29yTnVtYmVyfS5gKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHsgdGlsZVgsIHRpbGVZIH0gPSBjb29yZHNUb1VzZTtcclxuICBpZiAodGlsZVkgPCAwIHx8IHRpbGVZID49IHJvd3MgfHwgdGlsZVggPCAwIHx8IHRpbGVYID49IGNvbHMpXHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFtNYXBHZW4gTGlmdF0gQ29vcmRzICgke3RpbGVYfSwke3RpbGVZfSkgb3V0IG9mIGJvdW5kcyBGJHtmbG9vck51bWJlcn0uYCk7XHJcblxyXG4gIGNvbnN0IHRpbGVWYWx1ZUJlZm9yZUxpZnQgPSBtYXBbdGlsZVldPy5bdGlsZVhdO1xyXG5cclxuICBpZiAobWFwW3RpbGVZXVt0aWxlWF0gPT09IFRJTEVfV0FMTCkge1xyXG4gICAgY29uc29sZS53YXJuKFxyXG4gICAgICBgW01hcEdlbiBGJHtmbG9vck51bWJlcn1dIExpZnQgbG9jICgke3RpbGVYfSwke3RpbGVZfSkgaXMgV0FMTC4gRm9yY2luZyBjb25uZWN0aW9uLi4uYFxyXG4gICAgKTtcclxuICAgIGNvbnN0IGNvbm5lY3RlZCA9IF9mb3JjZUNvbm5lY3Rpb25Ub1BvaW50KG1hcCwgdGlsZVgsIHRpbGVZLCBjb2xzLCByb3dzKTtcclxuICAgIGlmICghY29ubmVjdGVkICYmIG1hcFt0aWxlWV1bdGlsZVhdID09PSBUSUxFX1dBTEwpXHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgYFtNYXBHZW4gTGlmdENvbm5lY3RdIEZBSUxFRCB0byBjb25uZWN0IHdhbGwgQCgke3RpbGVYfSwke3RpbGVZfSkgJiBpdCBSRU1BSU5FRCBXQUxMLmBcclxuICAgICAgKTtcclxuICB9XHJcblxyXG4gIG1hcFt0aWxlWV1bdGlsZVhdID0gVElMRV9MSUZUOyAvLyBQbGFjZSBsaWZ0IHRpbGUgRklSU1RcclxuICBsZXQgbGlmdFJvb21PYmplY3QgPSBudWxsO1xyXG5cclxuICBmb3IgKGNvbnN0IHJvb20gb2Ygcm9vbXNMaXN0KSB7XHJcbiAgICBpZiAoXHJcbiAgICAgIHRpbGVYID49IHJvb20uY29sICYmXHJcbiAgICAgIHRpbGVYIDwgcm9vbS5jb2wgKyByb29tLndpZHRoICYmXHJcbiAgICAgIHRpbGVZID49IHJvb20ucm93ICYmXHJcbiAgICAgIHRpbGVZIDwgcm9vbS5yb3cgKyByb29tLmhlaWdodFxyXG4gICAgKSB7XHJcbiAgICAgIC8vIENoZWNrIGlmIHRoZSB0aWxlICpiZWZvcmUqIHBsYWNpbmcgdGhlIGxpZnQgd2FzIHBhcnQgb2YgdGhpcyByb29tJ3MgZmxvb3JcclxuICAgICAgaWYgKHRpbGVWYWx1ZUJlZm9yZUxpZnQgPT09IFRJTEVfUk9PTV9GTE9PUikge1xyXG4gICAgICAgIGxpZnRSb29tT2JqZWN0ID0gcm9vbTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICAgIGAgIFtNYXBHZW4gTGlmdCBGJHtmbG9vck51bWJlcn1dIExpZnQgQCgke3RpbGVYfSwke3RpbGVZfSkgaXMgb24gVElMRV9ST09NX0ZMT09SIHdpdGhpbiBleGlzdGluZyByb29tICR7cm9vbS5pZH0uYFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlmICghbGlmdFJvb21PYmplY3QpIHtcclxuICAgIC8vIFRoaXMgYmxvY2sgd2lsbCBleGVjdXRlIGlmOlxyXG4gICAgLy8gMS4gT24gbWluRmxvb3I6IF9maW5kTGlmdFBsYWNlbWVudExvY2F0aW9uIHBpY2tlZCBhIHRpbGUgdGhhdCB3YXNuJ3QgVElMRV9ST09NX0ZMT09SIChiYWQsIHNob3VsZCBlcnJvciBlYXJsaWVyKVxyXG4gICAgLy8gMi4gT24gTiA+IG1pbkZsb29yOiBUaGUgY29uc2lzdGVudExpZnRDb29yZHMgbGFuZGVkIG9uIHNvbWV0aGluZyBvdGhlciB0aGFuIGFuIGV4aXN0aW5nIHJvb20ncyBmbG9vciAoZS5nLiwgY29ycmlkb3IsIG9yIG5ld2x5IGNhcnZlZCB3YWxsIGlmIG1hcCBzdHJ1Y3R1cmUgY2hhbmdlZCBhIGxvdClcclxuICAgIGNvbnN0IG1lc3NhZ2VSZWFzb24gPSAhbGlmdFJvb21PYmplY3RcclxuICAgICAgPyAnTm90IGluIGV4aXN0aW5nIHJvb20gcmVnaW9uJ1xyXG4gICAgICA6IGBPcmlnaW5hbCB0aWxlIHdhcyAke3RpbGVWYWx1ZUJlZm9yZUxpZnR9LCBub3QgVElMRV9ST09NX0ZMT09SLmA7XHJcblxyXG4gICAgY29uc29sZS53YXJuKFxyXG4gICAgICBgW01hcEdlbiBGJHtmbG9vck51bWJlcn1dIExpZnQgQCgke3RpbGVYfSwke3RpbGVZfSkgd2lsbCB1c2UgY2FydmVkIGFsY292ZS4gUmVhc29uOiAke21lc3NhZ2VSZWFzb259YFxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAoZmxvb3JOdW1iZXIgPT09IG1pbkZsb29yICYmIHRpbGVWYWx1ZUJlZm9yZUxpZnQgIT09IFRJTEVfUk9PTV9GTE9PUikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgIGBbTWFwR2VuIEYke2Zsb29yTnVtYmVyfV0gQ1JJVElDQUwgTUlTTUFUQ0ggb24gbWluRmxvb3IhIF9maW5kTGlmdFBsYWNlbWVudExvY2F0aW9uIHNlbGVjdGVkICgke3RpbGVYfSwke3RpbGVZfSkgd2hpY2ggd2FzIHR5cGUgJHt0aWxlVmFsdWVCZWZvcmVMaWZ0fSwgbm90IFRJTEVfUk9PTV9GTE9PUi4gVGhpcyBpbmRpY2F0ZXMgYSBmbGF3IGluIF9maW5kTGlmdFBsYWNlbWVudExvY2F0aW9uLmBcclxuICAgICAgKTtcclxuICAgICAgLy8gRm9yY2luZyBhbGNvdmUgY3JlYXRpb24sIGJ1dCB0aGlzIGlzIGEgc3ltcHRvbSBvZiBhIGRlZXBlciBpc3N1ZSBmb3IgbWluRmxvb3IuXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgYWxjb3ZlU2l6ZSA9IDM7XHJcbiAgICBjb25zdCBhbGNvdmVDb2wgPSBNYXRoLm1heCgxLCB0aWxlWCAtIE1hdGguZmxvb3IoYWxjb3ZlU2l6ZSAvIDIpKTsgLy8gRW5zdXJlIGFsY292ZSBkb2Vzbid0IHN0YXJ0IGF0IGNvbCAwXHJcbiAgICBjb25zdCBhbGNvdmVSb3cgPSBNYXRoLm1heCgxLCB0aWxlWSAtIE1hdGguZmxvb3IoYWxjb3ZlU2l6ZSAvIDIpKTsgLy8gRW5zdXJlIGFsY292ZSBkb2Vzbid0IHN0YXJ0IGF0IHJvdyAwXHJcbiAgICAvLyBFbnN1cmUgYWxjb3ZlIGRvZXMgbm90IGdvIG91dCBvZiBib3VuZHMgYW5kIHJlc3BlY3RzIG1hcCBib3JkZXJzXHJcbiAgICBjb25zdCBhbGNvdmVXaWR0aCA9IE1hdGgubWluKGFsY292ZVNpemUsIGNvbHMgLSAxIC0gYWxjb3ZlQ29sKTtcclxuICAgIGNvbnN0IGFsY292ZUhlaWdodCA9IE1hdGgubWluKGFsY292ZVNpemUsIHJvd3MgLSAxIC0gYWxjb3ZlUm93KTtcclxuXHJcbiAgICBjb25zdCBuZXdMaWZ0Um9vbURhdGEgPSB7XHJcbiAgICAgIGNvbDogYWxjb3ZlQ29sLFxyXG4gICAgICByb3c6IGFsY292ZVJvdyxcclxuICAgICAgd2lkdGg6IGFsY292ZVdpZHRoLFxyXG4gICAgICBoZWlnaHQ6IGFsY292ZUhlaWdodCxcclxuICAgICAgdHlwZTogJ2xpZnRfYWxjb3ZlJyxcclxuICAgICAgaWQ6IGByb29tX2Yke2Zsb29yTnVtYmVyfV9saWZ0YWxjb3ZlXyR7dGlsZVh9XyR7dGlsZVl9YCxcclxuICAgICAgY2VudGVyVGlsZVg6IHRpbGVYLFxyXG4gICAgICBjZW50ZXJUaWxlWTogdGlsZVksXHJcbiAgICAgIGNvbm5lY3RlZDogdHJ1ZSxcclxuICAgICAgeDogYWxjb3ZlQ29sLFxyXG4gICAgICB5OiBhbGNvdmVSb3csXHJcbiAgICB9O1xyXG5cclxuICAgIGZvciAobGV0IHIgPSBuZXdMaWZ0Um9vbURhdGEucm93OyByIDwgbmV3TGlmdFJvb21EYXRhLnJvdyArIG5ld0xpZnRSb29tRGF0YS5oZWlnaHQ7IHIrKykge1xyXG4gICAgICBmb3IgKGxldCBjID0gbmV3TGlmdFJvb21EYXRhLmNvbDsgYyA8IG5ld0xpZnRSb29tRGF0YS5jb2wgKyBuZXdMaWZ0Um9vbURhdGEud2lkdGg7IGMrKykge1xyXG4gICAgICAgIGlmIChtYXBbcl0/LltjXSAhPT0gVElMRV9MSUZUKSB7XHJcbiAgICAgICAgICAvLyBEb24ndCBvdmVyd3JpdGUgdGhlIGxpZnQgaXRzZWxmXHJcbiAgICAgICAgICBpZiAociA+IDAgJiYgciA8IHJvd3MgLSAxICYmIGMgPiAwICYmIGMgPCBjb2xzIC0gMSkgbWFwW3JdW2NdID0gVElMRV9ST09NX0ZMT09SOyAvLyBDYXJ2ZSwgYXZvaWQgbWFwIGVkZ2VzXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByb29tc0xpc3QucHVzaChuZXdMaWZ0Um9vbURhdGEpO1xyXG4gICAgbGlmdFJvb21PYmplY3QgPSBuZXdMaWZ0Um9vbURhdGE7XHJcbiAgfVxyXG5cclxuICBpZiAoIWxpZnRSb29tT2JqZWN0KSB7XHJcbiAgICBjb25zdCBlcnJvck1zZyA9IGBbTWFwR2VuIExpZnQgRiR7Zmxvb3JOdW1iZXJ9XSBDUklUOiBDb3VsZCBOT1QgYXNzb2NpYXRlIGxpZnQgQCgke3RpbGVYfSwke3RpbGVZfSkgd2l0aCBhbnkgcm9vbSBvYmplY3QgZXZlbiBhZnRlciBhbGNvdmUgYXR0ZW1wdC5gO1xyXG4gICAgY29uc29sZS5lcnJvcihlcnJvck1zZyk7XHJcbiAgICBsb2dNYXBHcmlkRm9yRGVidWcobWFwLCBjb2xzLCByb3dzKTtcclxuICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1zZyk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBsaWZ0V29ybGRQb3MgPSB7XHJcbiAgICB4OiAodGlsZVggKyAwLjUpICogdGlsZVNpemUsXHJcbiAgICB5OiAodGlsZVkgKyAwLjUpICogdGlsZVNpemUsXHJcbiAgICB0aWxlWCxcclxuICAgIHRpbGVZLFxyXG4gICAgcm9vbUlkOiBsaWZ0Um9vbU9iamVjdC5pZCxcclxuICB9O1xyXG4gIGNvbnNvbGUubG9nKFxyXG4gICAgYFtNYXBHZW4gRiR7Zmxvb3JOdW1iZXJ9XSBQbGFjZWQgbGlmdCBAKCR7dGlsZVh9LCR7dGlsZVl9KSBpbiByb29tICR7XHJcbiAgICAgIGxpZnRSb29tT2JqZWN0LmlkXHJcbiAgICB9LiBXb3JsZDooJHtsaWZ0V29ybGRQb3MueC50b0ZpeGVkKDEpfSwke2xpZnRXb3JsZFBvcy55LnRvRml4ZWQoMSl9KWBcclxuICApO1xyXG4gIHJldHVybiB7IHBvc2l0aW9uOiBsaWZ0V29ybGRQb3MsIGNvb3JkczogbmV3bHlGb3VuZENvb3JkcyB8fCBjb29yZHNUb1VzZSB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBfZm9yY2VDb25uZWN0aW9uVG9Qb2ludChtYXAsIHRhcmdldFgsIHRhcmdldFksIGNvbHMsIHJvd3MpIHtcclxuICBjb25zb2xlLmxvZyhgICBbTWFwR2VuIENvbm5lY3RdIEZvcmNpbmcgY29ubmVjdGlvbiB0byAoJHt0YXJnZXRYfSwke3RhcmdldFl9KS4uLmApO1xyXG4gIGNvbnN0IGRpcnMgPSBbXHJcbiAgICBbMCwgLTFdLFxyXG4gICAgWzAsIDFdLFxyXG4gICAgWy0xLCAwXSxcclxuICAgIFsxLCAwXSxcclxuICBdO1xyXG4gIGZvciAoY29uc3QgW2R4LCBkeV0gb2YgZGlycykge1xyXG4gICAgY29uc3QgbnQgPSBtYXBbdGFyZ2V0WSArIGR5XT8uW3RhcmdldFggKyBkeF07XHJcbiAgICBpZiAobnQgPT09IFRJTEVfQ09SUklET1IgfHwgbnQgPT09IFRJTEVfUk9PTV9GTE9PUiB8fCBudCA9PT0gVElMRV9MSUZUKSB7XHJcbiAgICAgIGlmIChtYXBbdGFyZ2V0WV1bdGFyZ2V0WF0gPT09IFRJTEVfV0FMTCkgbWFwW3RhcmdldFldW3RhcmdldFhdID0gVElMRV9DT1JSSURPUjtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGNvbnN0IHEgPSBbW3RhcmdldFgsIHRhcmdldFksIDBdXSxcclxuICAgIHZpc2l0ZWQgPSBuZXcgU2V0KFtgJHt0YXJnZXRYfSwke3RhcmdldFl9YF0pO1xyXG4gIGNvbnN0IHBhdGhhYmxlID0gW1RJTEVfV0FMTCwgVElMRV9DT1JSSURPUiwgVElMRV9ST09NX0ZMT09SLCBUSUxFX0xJRlRdLFxyXG4gICAgdGFyZ2V0cyA9IFtUSUxFX0NPUlJJRE9SLCBUSUxFX1JPT01fRkxPT1JdO1xyXG4gIGxldCBjbG9zZXN0ID0gbnVsbCxcclxuICAgIG1pbkRpc3QgPSBJbmZpbml0eTtcclxuICB3aGlsZSAocS5sZW5ndGggPiAwKSB7XHJcbiAgICBjb25zdCBbY1gsIGNZLCBkXSA9IHEuc2hpZnQoKTtcclxuICAgIGlmIChkID49IG1pbkRpc3QgJiYgY2xvc2VzdCkgY29udGludWU7XHJcbiAgICBmb3IgKGNvbnN0IFtkeCwgZHldIG9mIGRpcnMpIHtcclxuICAgICAgY29uc3QgblggPSBjWCArIGR4LFxyXG4gICAgICAgIG5ZID0gY1kgKyBkeSxcclxuICAgICAgICBrZXkgPSBgJHtuWH0sJHtuWX1gO1xyXG4gICAgICBpZiAoblggPj0gMCAmJiBuWCA8IGNvbHMgJiYgblkgPj0gMCAmJiBuWSA8IHJvd3MgJiYgIXZpc2l0ZWQuaGFzKGtleSkpIHtcclxuICAgICAgICBjb25zdCB2YWwgPSBtYXBbblldPy5bblhdO1xyXG4gICAgICAgIHZpc2l0ZWQuYWRkKGtleSk7XHJcbiAgICAgICAgaWYgKHRhcmdldHMuaW5jbHVkZXModmFsKSkge1xyXG4gICAgICAgICAgaWYgKGQgKyAxIDw9IG1pbkRpc3QpIHtcclxuICAgICAgICAgICAgbWluRGlzdCA9IGQgKyAxO1xyXG4gICAgICAgICAgICBjbG9zZXN0ID0geyB4OiBuWCwgeTogblksIGRpc3Q6IG1pbkRpc3QgfTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKHBhdGhhYmxlLmluY2x1ZGVzKHZhbCkpIHtcclxuICAgICAgICAgIGlmIChkICsgMSA8IG1pbkRpc3QgfHwgIWNsb3Nlc3QpIHEucHVzaChbblgsIG5ZLCBkICsgMV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBpZiAoY2xvc2VzdCkge1xyXG4gICAgY29uc29sZS5sb2coXHJcbiAgICAgIGAgIFtNYXBHZW4gQ29ubmVjdF0gQ2xvc2VzdCB3YWxrYWJsZSBAKCR7Y2xvc2VzdC54fSwke2Nsb3Nlc3QueX0pLCBkaXN0ICR7Y2xvc2VzdC5kaXN0fS4gQ2FydmluZy4uLmBcclxuICAgICk7XHJcbiAgICBfY2FydmVIb3Jpem9udGFsQ29ycmlkb3IobWFwLCB0YXJnZXRZLCB0YXJnZXRYLCBjbG9zZXN0LngsIGNvbHMsIHJvd3MpO1xyXG4gICAgX2NhcnZlVmVydGljYWxDb3JyaWRvcihtYXAsIGNsb3Nlc3QueCwgdGFyZ2V0WSwgY2xvc2VzdC55LCBjb2xzLCByb3dzKTtcclxuICAgIGlmIChtYXBbdGFyZ2V0WV1bdGFyZ2V0WF0gPT09IFRJTEVfQ09SUklET1IgfHwgbWFwW3RhcmdldFldW3RhcmdldFhdID09PSBUSUxFX1JPT01fRkxPT1IpXHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgY29uc29sZS53YXJuKFxyXG4gICAgICBgICBbTWFwR2VuIENvbm5lY3RdIENhcnZlZCwgYnV0IHRhcmdldCAoJHt0YXJnZXRYfSwke3RhcmdldFl9KSBub3QgQ29ycmlkb3IvRmxvb3IgKGlzICR7bWFwW3RhcmdldFldW3RhcmdldFhdfSkuYFxyXG4gICAgKTtcclxuICAgIHJldHVybiBtYXBbdGFyZ2V0WV1bdGFyZ2V0WF0gIT09IFRJTEVfV0FMTDtcclxuICB9XHJcbiAgY29uc29sZS5lcnJvcihgICBbTWFwR2VuIENvbm5lY3RdIEZBSUxFRCB0byBmaW5kIEFOWSB3YWxrYWJsZSBmcm9tICgke3RhcmdldFh9LCR7dGFyZ2V0WX0pLmApO1xyXG4gIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuZnVuY3Rpb24gX2lzTGlmdFJlYWNoYWJsZShtYXAsIGxpZnRQb3MsIGNvbHMsIHJvd3MpIHtcclxuICBpZiAoIWxpZnRQb3MpIHJldHVybiBmYWxzZTtcclxuICBjb25zdCB7IHRpbGVYLCB0aWxlWSB9ID0gbGlmdFBvcztcclxuICBpZiAoXHJcbiAgICB0aWxlWSA8IDAgfHxcclxuICAgIHRpbGVZID49IHJvd3MgfHxcclxuICAgIHRpbGVYIDwgMCB8fFxyXG4gICAgdGlsZVggPj0gY29scyB8fFxyXG4gICAgbWFwW3RpbGVZXT8uW3RpbGVYXSAhPT0gVElMRV9MSUZUXHJcbiAgKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKGBbTWFwVmFsIFJlYWNoXSBJbnZhbGlkIGxpZnQgQCgke3RpbGVYfSwke3RpbGVZfSkgb3Igbm90IExJRlQuYCk7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG4gIGNvbnN0IHdhbGthYmxlID0gW1RJTEVfQ09SUklET1IsIFRJTEVfUk9PTV9GTE9PUiwgVElMRV9MSUZUXSxcclxuICAgIHRhcmdldHMgPSBbVElMRV9DT1JSSURPUiwgVElMRV9ST09NX0ZMT09SXTtcclxuICBjb25zdCB7IHJlYWNoYWJsZSB9ID0gcGVyZm9ybUJGUyhcclxuICAgIG1hcCxcclxuICAgIHRpbGVYLFxyXG4gICAgdGlsZVksXHJcbiAgICBjb2xzLFxyXG4gICAgcm93cyxcclxuICAgIHdhbGthYmxlLFxyXG4gICAgdGFyZ2V0cyxcclxuICAgICh0eCwgdHkpID0+IG1hcFt0eV0/Llt0eF1cclxuICApO1xyXG4gIGlmICghcmVhY2hhYmxlKSBjb25zb2xlLmVycm9yKGBbTWFwVmFsIFJlYWNoXSBGQUlMRUQuIExpZnQgQCgke3RpbGVYfSwke3RpbGVZfSkgaXNvbGF0ZWQuYCk7XHJcbiAgcmV0dXJuIHJlYWNoYWJsZTtcclxufVxyXG5cclxuZnVuY3Rpb24gX2Vuc3VyZU1hcEJvcmRlcnMobWFwLCBjb2xzLCByb3dzKSB7XHJcbiAgZm9yIChsZXQgYyA9IDA7IGMgPCBjb2xzOyBjKyspIHtcclxuICAgIG1hcFswXVtjXSA9IFRJTEVfV0FMTDtcclxuICAgIG1hcFtyb3dzIC0gMV1bY10gPSBUSUxFX1dBTEw7XHJcbiAgfVxyXG4gIGZvciAobGV0IHIgPSAwOyByIDwgcm93czsgcisrKSB7XHJcbiAgICBtYXBbcl1bMF0gPSBUSUxFX1dBTEw7XHJcbiAgICBtYXBbcl1bY29scyAtIDFdID0gVElMRV9XQUxMO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gbG9nTWFwR3JpZEZvckRlYnVnKG1hcCwgY29scywgcm93cykge1xyXG4gIGlmICghbWFwKSB7XHJcbiAgICBjb25zb2xlLmxvZygnW0RFQlVHIE1BUF0gbnVsbCBtYXAuJyk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG4gIGNvbnNvbGUubG9nKCctLS0gREVCVUcgTUFQIEdSSUQgLS0tJyk7XHJcbiAgbGV0IGggPSAnICAgJztcclxuICBmb3IgKGxldCBjID0gMDsgYyA8IGNvbHM7IGMrKykgaCArPSBjICUgMTAgPT09IDAgPyBNYXRoLmZsb29yKGMgLyAxMCkgOiAnICc7XHJcbiAgY29uc29sZS5sb2coaCk7XHJcbiAgaCA9ICcgICAnO1xyXG4gIGZvciAobGV0IGMgPSAwOyBjIDwgY29sczsgYysrKSBoICs9IGMgJSAxMDtcclxuICBjb25zb2xlLmxvZyhoKTtcclxuICBmb3IgKGxldCB5ID0gMDsgeSA8IHJvd3M7IHkrKykge1xyXG4gICAgaWYgKCFtYXBbeV0pIHtcclxuICAgICAgY29uc29sZS5sb2coYCR7eS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcgJyl9IFtST1cgVU5ERUZdYCk7XHJcbiAgICAgIGNvbnRpbnVlO1xyXG4gICAgfVxyXG4gICAgY29uc3QgclMgPSBtYXBbeV1cclxuICAgICAgLm1hcCgodCkgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAodCkge1xyXG4gICAgICAgICAgY2FzZSBUSUxFX1dBTEw6XHJcbiAgICAgICAgICAgIHJldHVybiAnIyc7XHJcbiAgICAgICAgICBjYXNlIFRJTEVfQ09SUklET1I6XHJcbiAgICAgICAgICAgIHJldHVybiAnLic7XHJcbiAgICAgICAgICBjYXNlIFRJTEVfUk9PTV9GTE9PUjpcclxuICAgICAgICAgICAgcmV0dXJuICcgJztcclxuICAgICAgICAgIGNhc2UgVElMRV9MSUZUOlxyXG4gICAgICAgICAgICByZXR1cm4gJ0wnO1xyXG4gICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgcmV0dXJuICc/JztcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIC5qb2luKCcnKTtcclxuICAgIGNvbnNvbGUubG9nKGAke3kudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnICcpfSAke3JTfWApO1xyXG4gIH1cclxuICBjb25zb2xlLmxvZygnLS0tIEVORCBERUJVRyBNQVAgR1JJRCAtLS0nKTtcclxufVxyXG4iLCIvLyBzcmMvbWFwL1Byb2NlZHVyYWxNYXAuanNcclxuaW1wb3J0IHsgQm9vayB9IGZyb20gJy4vQm9vay5qcyc7XHJcbmltcG9ydCB7IE1hcFJlbmRlcmVyIH0gZnJvbSAnLi9NYXBSZW5kZXJlci5qcyc7XHJcbmltcG9ydCB7IHJhbmRvbUludCB9IGZyb20gJy4uL3V0aWxzL21hcC5qcyc7XHJcbmltcG9ydCB7IGdlbmVyYXRlTGV2ZWxEYXRhIH0gZnJvbSAnLi9NYXBHZW4uanMnOyAvLyBVxbx5d2FteSBwb3ByYXduZWogbmF6d3lcclxuaW1wb3J0IHtcclxuICBUSUxFX1dBTEwsXHJcbiAgVElMRV9DT1JSSURPUixcclxuICBUSUxFX1JPT01fRkxPT1IsXHJcbiAgVElMRV9MSUZULFxyXG4gIExJRlRfSU5URVJBQ1RJT05fUkFESVVTX01VTFRJUExJRVIsXHJcbn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcclxuXHJcbmNvbnN0IERFQlVHX1BST0NfTUFQX0ZMT09SID0gbnVsbDsgLy8gWm1pZcWEIG5hIG51bWVyIHBpxJl0cmEgZG8gZGVidWdvd2FuaWFcclxuXHJcbmV4cG9ydCBjbGFzcyBQcm9jZWR1cmFsTWFwIHtcclxuICBjb25zdHJ1Y3RvcihjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0LCBmbG9vck51bWJlciwgbWluRmxvb3IsIG1heEZsb29yKSB7XHJcbiAgICB0aGlzLnRpbGVTaXplID0gMzI7XHJcbiAgICB0aGlzLmNvbHMgPSA0MDtcclxuICAgIHRoaXMucm93cyA9IDMwO1xyXG4gICAgdGhpcy53aWR0aCA9IHRoaXMuY29scyAqIHRoaXMudGlsZVNpemU7XHJcbiAgICB0aGlzLmhlaWdodCA9IHRoaXMucm93cyAqIHRoaXMudGlsZVNpemU7XHJcbiAgICB0aGlzLm9mZnNldFggPSAwO1xyXG4gICAgdGhpcy5vZmZzZXRZID0gMDtcclxuXHJcbiAgICB0aGlzLmZsb29yTnVtYmVyID0gZmxvb3JOdW1iZXI7XHJcbiAgICB0aGlzLm1pbkZsb29yID0gbWluRmxvb3I7XHJcbiAgICB0aGlzLm1heEZsb29yID0gbWF4Rmxvb3I7XHJcblxyXG4gICAgdGhpcy5tYXAgPSBudWxsO1xyXG4gICAgdGhpcy5yb29tcyA9IFtdO1xyXG4gICAgdGhpcy5ib29rcyA9IFtdO1xyXG4gICAgdGhpcy5saWZ0UG9zaXRpb24gPSBudWxsO1xyXG5cclxuICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgTWFwUmVuZGVyZXIodGhpcy50aWxlU2l6ZSk7XHJcbiAgICB0aGlzLnJlbmRlcmVyLmZsb29yTnVtYmVyID0gdGhpcy5mbG9vck51bWJlcjsgLy8gRGxhIE1hcFJlbmRlcmVyLCBqZcWbbGkgcG90cnplYnVqZVxyXG5cclxuICAgIGNvbnN0IGdlbmVyYXRpb25QYXJhbXMgPSB7XHJcbiAgICAgIC8vIFRlIHBhcmFtZXRyeSBzxIUgdcW8eXdhbmUgcHJ6ZXogZ2VuZXJhdGVMZXZlbERhdGFcclxuICAgICAgbWluUm9vbVNpemU6IDUsXHJcbiAgICAgIG1heFJvb21TaXplOiAxMCxcclxuICAgICAgY29ycmlkb3JUaGlja25lc3M6IDEsXHJcbiAgICAgIG51bVJvb21zOiAxMixcclxuICAgICAgbWF4Um9vbUF0dGVtcHRzOiAyMDAsXHJcbiAgICAgIGJvb2tzUGVyTWFwOiA1LFxyXG4gICAgICByb29tVHlwZVdlaWdodHM6IHtcclxuICAgICAgICBjbGFzc3Jvb206IDUwLFxyXG4gICAgICAgIG9mZmljZTogMjUsXHJcbiAgICAgICAgbGlicmFyeTogMTUsXHJcbiAgICAgICAgbGFiOiAxMCxcclxuICAgICAgICBzdG9yYWdlOiA1LFxyXG4gICAgICAgIHV0aWxpdHk6IDEwLFxyXG4gICAgICAgIGd5bTogMCwgLy8gZ3ltIGplc3QgbW9keWZpa293YW5lIHcgbWFwR2VuZXJhdG9yXHJcbiAgICAgIH0sXHJcbiAgICB9O1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGdlbmVyYXRpb25Db25maWcgPSB7XHJcbiAgICAgICAgY29sczogdGhpcy5jb2xzLFxyXG4gICAgICAgIHJvd3M6IHRoaXMucm93cyxcclxuICAgICAgICBmbG9vck51bWJlcjogdGhpcy5mbG9vck51bWJlcixcclxuICAgICAgICBtaW5GbG9vcjogdGhpcy5taW5GbG9vcixcclxuICAgICAgICBtYXhGbG9vcjogdGhpcy5tYXhGbG9vcixcclxuICAgICAgICB0aWxlU2l6ZTogdGhpcy50aWxlU2l6ZSxcclxuICAgICAgICBnZW5lcmF0aW9uUGFyYW1zOiBnZW5lcmF0aW9uUGFyYW1zLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgeyBtYXAsIHJvb21zLCBsaWZ0UG9zaXRpb24gfSA9IGdlbmVyYXRlTGV2ZWxEYXRhKGdlbmVyYXRpb25Db25maWcpO1xyXG5cclxuICAgICAgdGhpcy5tYXAgPSBtYXA7XHJcbiAgICAgIHRoaXMucm9vbXMgPSByb29tczsgLy8gcm9vbXMgdG8gbGlzdGEgb2JpZWt0w7N3IHogbWFwR2VuZXJhdG9yXHJcbiAgICAgIHRoaXMubGlmdFBvc2l0aW9uID0gbGlmdFBvc2l0aW9uO1xyXG5cclxuICAgICAgdGhpcy5yZW5kZXJlci5yZXNldENvbG9yQ2FjaGUoKTtcclxuICAgICAgdGhpcy5wbGFjZUJvb2tzUmVsaWFibHkoZ2VuZXJhdGlvblBhcmFtcy5ib29rc1Blck1hcCk7XHJcblxyXG4gICAgICBpZiAodGhpcy5mbG9vck51bWJlciA9PT0gREVCVUdfUFJPQ19NQVBfRkxPT1IpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICAgIGBbUHJvY01hcCBGJHt0aGlzLmZsb29yTnVtYmVyfV0gSW5pdCBjb21wbGV0ZS4gTGlmdEAoJHtsaWZ0UG9zaXRpb24/LnRpbGVYfSwke2xpZnRQb3NpdGlvbj8udGlsZVl9KS4gUm9vbXM6ICR7dGhpcy5yb29tcy5sZW5ndGh9YFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5sb2dNYXBHcmlkKCk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFtQcm9jTWFwIEYke3RoaXMuZmxvb3JOdW1iZXJ9XSBDUklUIEVSUiBkdXJpbmcgbWFwIGdlbi9zZXR1cDpgLCBlcnJvcik7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcGxhY2VCb29rc1JlbGlhYmx5KGJvb2tzUGVyTWFwKSB7XHJcbiAgICB0aGlzLmJvb2tzID0gW107XHJcbiAgICBjb25zdCBwb3RlbnRpYWxMb2NzID0gW107XHJcbiAgICBjb25zdCBwbGFjZWRDb29yZHMgPSBuZXcgU2V0KCk7XHJcbiAgICBmb3IgKGxldCByID0gMDsgciA8IHRoaXMucm93czsgcisrKSB7XHJcbiAgICAgIGZvciAobGV0IGMgPSAwOyBjIDwgdGhpcy5jb2xzOyBjKyspIHtcclxuICAgICAgICBjb25zdCB0aWxlVmFsID0gdGhpcy5tYXBbcl0/LltjXTtcclxuICAgICAgICBjb25zdCBpc0xpZnQgPVxyXG4gICAgICAgICAgdGhpcy5saWZ0UG9zaXRpb24gJiYgciA9PT0gdGhpcy5saWZ0UG9zaXRpb24udGlsZVkgJiYgYyA9PT0gdGhpcy5saWZ0UG9zaXRpb24udGlsZVg7XHJcbiAgICAgICAgaWYgKCh0aWxlVmFsID09PSBUSUxFX0NPUlJJRE9SIHx8IHRpbGVWYWwgPT09IFRJTEVfUk9PTV9GTE9PUikgJiYgIWlzTGlmdCkge1xyXG4gICAgICAgICAgcG90ZW50aWFsTG9jcy5wdXNoKHsgciwgYyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGxldCBwbGFjZWQgPSAwO1xyXG4gICAgd2hpbGUgKHBsYWNlZCA8IGJvb2tzUGVyTWFwICYmIHBvdGVudGlhbExvY3MubGVuZ3RoID4gMCkge1xyXG4gICAgICBjb25zdCByYW5kSWR4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG90ZW50aWFsTG9jcy5sZW5ndGgpO1xyXG4gICAgICBjb25zdCB7IHIsIGMgfSA9IHBvdGVudGlhbExvY3Muc3BsaWNlKHJhbmRJZHgsIDEpWzBdO1xyXG4gICAgICBjb25zdCBrZXkgPSBgJHtjfSwke3J9YDtcclxuICAgICAgaWYgKFxyXG4gICAgICAgICh0aGlzLm1hcFtyXT8uW2NdID09PSBUSUxFX0NPUlJJRE9SIHx8IHRoaXMubWFwW3JdPy5bY10gPT09IFRJTEVfUk9PTV9GTE9PUikgJiZcclxuICAgICAgICAhcGxhY2VkQ29vcmRzLmhhcyhrZXkpXHJcbiAgICAgICkge1xyXG4gICAgICAgIGNvbnN0IGJvb2tJZCA9IGBib29rX2Yke3RoaXMuZmxvb3JOdW1iZXJ9XyR7cGxhY2VkICsgMX1gO1xyXG4gICAgICAgIHRoaXMuYm9va3MucHVzaChcclxuICAgICAgICAgIG5ldyBCb29rKChjICsgMC41KSAqIHRoaXMudGlsZVNpemUsIChyICsgMC41KSAqIHRoaXMudGlsZVNpemUsIGJvb2tJZCwgdGhpcy50aWxlU2l6ZSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHBsYWNlZENvb3Jkcy5hZGQoa2V5KTtcclxuICAgICAgICBwbGFjZWQrKztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaXNXYWxrYWJsZSh3b3JsZFgsIHdvcmxkWSkge1xyXG4gICAgaWYgKCF0aGlzLm1hcCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgY29uc3QgdGlsZVggPSBNYXRoLmZsb29yKHdvcmxkWCAvIHRoaXMudGlsZVNpemUpLFxyXG4gICAgICB0aWxlWSA9IE1hdGguZmxvb3Iod29ybGRZIC8gdGhpcy50aWxlU2l6ZSk7XHJcbiAgICBpZiAodGlsZVggPCAwIHx8IHRpbGVYID49IHRoaXMuY29scyB8fCB0aWxlWSA8IDAgfHwgdGlsZVkgPj0gdGhpcy5yb3dzKSByZXR1cm4gZmFsc2U7XHJcbiAgICBjb25zdCB0aWxlVmFsID0gdGhpcy5tYXBbdGlsZVldPy5bdGlsZVhdO1xyXG4gICAgcmV0dXJuIHRpbGVWYWwgPT09IFRJTEVfQ09SUklET1IgfHwgdGlsZVZhbCA9PT0gVElMRV9ST09NX0ZMT09SIHx8IHRpbGVWYWwgPT09IFRJTEVfTElGVDtcclxuICB9XHJcblxyXG4gIGZpbmRSYW5kb21Jbml0aWFsU3Bhd25Qb3NpdGlvbihjaGFyYWN0ZXJGb3JDb2xsaXNpb25DaGVjayA9IG51bGwpIHtcclxuICAgIC8vIERvZGFqZW15IG9wY2pvbmFsbnkgYXJndW1lbnRcclxuICAgIGlmICghdGhpcy5tYXApIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICBjb25zdCBzdWl0YWJsZVRpbGVzID0gW107XHJcbiAgICBjb25zdCB0ZW1wQ2hhckNvbGxpc2lvbkJveCA9IGNoYXJhY3RlckZvckNvbGxpc2lvbkNoZWNrXHJcbiAgICAgID8ge1xyXG4gICAgICAgICAgd2lkdGg6IGNoYXJhY3RlckZvckNvbGxpc2lvbkNoZWNrLmNvbGxpc2lvbkJveFdpZHRoLFxyXG4gICAgICAgICAgaGVpZ2h0OiBjaGFyYWN0ZXJGb3JDb2xsaXNpb25DaGVjay5jb2xsaXNpb25Cb3hIZWlnaHQsXHJcbiAgICAgICAgfVxyXG4gICAgICA6IHsgd2lkdGg6IHRoaXMudGlsZVNpemUgKiAwLjYsIGhlaWdodDogdGhpcy50aWxlU2l6ZSAqIDAuOCB9OyAvLyBEb215xZtsbnkgcHJ6eWJsacW8b255IHJvem1pYXJcclxuXHJcbiAgICBjb25zdCBjaGVja0NhbmRpZGF0ZSA9IChjLCByKSA9PiB7XHJcbiAgICAgIGNvbnN0IHdvcmxkWCA9IChjICsgMC41KSAqIHRoaXMudGlsZVNpemU7XHJcbiAgICAgIGNvbnN0IHdvcmxkWSA9IChyICsgMC41KSAqIHRoaXMudGlsZVNpemU7XHJcblxyXG4gICAgICAvLyBTcHJhd2R6ZW5pZSAxOiBDenkgc2FtIGthZmVsZWsgamVzdCBvZHBvd2llZG5pIChuaWUgd2luZGEsIHBvZMWCb2dhL2tvcnl0YXJ6KVxyXG4gICAgICBjb25zdCB0aWxlVmFsdWUgPSB0aGlzLm1hcFtyXT8uW2NdO1xyXG4gICAgICBjb25zdCBpc0xpZnQgPVxyXG4gICAgICAgIHRoaXMubGlmdFBvc2l0aW9uICYmIHIgPT09IHRoaXMubGlmdFBvc2l0aW9uLnRpbGVZICYmIGMgPT09IHRoaXMubGlmdFBvc2l0aW9uLnRpbGVYO1xyXG4gICAgICBpZiAoISgodGlsZVZhbHVlID09PSBUSUxFX0NPUlJJRE9SIHx8IHRpbGVWYWx1ZSA9PT0gVElMRV9ST09NX0ZMT09SKSAmJiAhaXNMaWZ0KSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gU3ByYXdkemVuaWUgMjogQ3p5IGplc3Qgd3lzdGFyY3phasSFY28gb3R3YXJ0eSAob3Bjam9uYWxuZSwgYWxlIGRvYnJlIGRsYSBqYWtvxZtjaSlcclxuICAgICAgLy8gaWYgKCF0aGlzLmlzVGlsZU9wZW5Fbm91Z2goYywgciwgMiwgdHJ1ZSkpIHsgLy8gV3ltYWdham15IHByenluYWptbmllaiAyIG90d2FydHljaCBzdHJvbiwgdW5pa2FqIHfEhXNraWNoXHJcbiAgICAgIC8vICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIC8vIH1cclxuXHJcbiAgICAgIC8vIFNwcmF3ZHplbmllIDM6IFN5bXVsYWNqYSBrb2xpemppIHBvc3RhY2kgbmEgdHltIGthZmVsa3VcclxuICAgICAgLy8gTXVzaW15IHNwcmF3ZHppxIcsIGN6eSBwcm9zdG9rxIV0IGtvbGl6eWpueSBwb3N0YWNpIG5pZSB6YWNob2R6aSBuYSDFm2NpYW55XHJcbiAgICAgIGNvbnN0IGhhbGZDaGFyV2lkdGggPSB0ZW1wQ2hhckNvbGxpc2lvbkJveC53aWR0aCAvIDI7XHJcbiAgICAgIGNvbnN0IGhhbGZDaGFySGVpZ2h0ID0gdGVtcENoYXJDb2xsaXNpb25Cb3guaGVpZ2h0IC8gMjsgLy8gTHViIHXFvHlqIGNvbGxpc2lvbkJveEZlZXRPZmZzZXRSYXRpbyBkbGEgWVxyXG5cclxuICAgICAgY29uc3QgcG9pbnRzVG9WZXJpZnkgPSBbXHJcbiAgICAgICAgeyB4OiB3b3JsZFggLSBoYWxmQ2hhcldpZHRoLCB5OiB3b3JsZFkgLSBoYWxmQ2hhckhlaWdodCB9LCAvLyBMZXd5LWfDs3JueSBuYXJvxbxuaWsgcG9zdGFjaVxyXG4gICAgICAgIHsgeDogd29ybGRYICsgaGFsZkNoYXJXaWR0aCwgeTogd29ybGRZIC0gaGFsZkNoYXJIZWlnaHQgfSwgLy8gUHJhd3ktZ8Ozcm55XHJcbiAgICAgICAgeyB4OiB3b3JsZFggLSBoYWxmQ2hhcldpZHRoLCB5OiB3b3JsZFkgKyBoYWxmQ2hhckhlaWdodCB9LCAvLyBMZXd5LWRvbG55XHJcbiAgICAgICAgeyB4OiB3b3JsZFggKyBoYWxmQ2hhcldpZHRoLCB5OiB3b3JsZFkgKyBoYWxmQ2hhckhlaWdodCB9LCAvLyBQcmF3eS1kb2xueVxyXG4gICAgICAgIC8vIE1vxbxuYSBkb2RhxIcgxZtyb2RraSBrcmF3xJlkemksIGplxZtsaSBrb25pZWN6bmVcclxuICAgICAgICB7IHg6IHdvcmxkWCwgeTogd29ybGRZIC0gaGFsZkNoYXJIZWlnaHQgfSwgLy8gxZpyb2Rlay1nw7NyYVxyXG4gICAgICAgIHsgeDogd29ybGRYLCB5OiB3b3JsZFkgKyBoYWxmQ2hhckhlaWdodCB9LCAvLyDFmnJvZGVrLWTDs8WCXHJcbiAgICAgICAgeyB4OiB3b3JsZFggLSBoYWxmQ2hhcldpZHRoLCB5OiB3b3JsZFkgfSwgLy8gxZpyb2Rlay1sZXdvXHJcbiAgICAgICAgeyB4OiB3b3JsZFggKyBoYWxmQ2hhcldpZHRoLCB5OiB3b3JsZFkgfSwgLy8gxZpyb2Rlay1wcmF3b1xyXG4gICAgICBdO1xyXG5cclxuICAgICAgZm9yIChjb25zdCBwb2ludCBvZiBwb2ludHNUb1ZlcmlmeSkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc1dhbGthYmxlKHBvaW50LngsIHBvaW50LnkpKSB7XHJcbiAgICAgICAgICAvLyBpc1dhbGthYmxlIHNwcmF3ZHphIHR5cCBrYWZlbGthXHJcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgICBbU3Bhd24gQ2FuZGlkYXRlIEZhaWxdIFRpbGUgKCR7Y30sJHtyfSkgLT4gcG9pbnQgJHtKU09OLnN0cmluZ2lmeShwb2ludCl9IGlzIG5vdCB3YWxrYWJsZS5gKTtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gSmVkZW4geiBwdW5rdMOzdyBrb2xpenlqbnljaCBqZXN0IG5hIG5pZXByemVjaG9kbmltIGthZmVsa3VcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRydWU7IC8vIFdzenlzdGtpZSBwdW5rdHkgc8SFIG5hIFwid2Fsa2FibGVcIlxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBQcmVmZXJ1aiBtaWVqc2NhIGRhbGVqIG9kIGtyYXfEmWR6aVxyXG4gICAgZm9yIChsZXQgciA9IDE7IHIgPCB0aGlzLnJvd3MgLSAxOyByKyspIHtcclxuICAgICAgZm9yIChsZXQgYyA9IDE7IGMgPCB0aGlzLmNvbHMgLSAxOyBjKyspIHtcclxuICAgICAgICBpZiAoY2hlY2tDYW5kaWRhdGUoYywgcikpIHtcclxuICAgICAgICAgIGlmICh0aGlzLmlzVGlsZU9wZW5Fbm91Z2goYywgciwgMiwgdHJ1ZSkpXHJcbiAgICAgICAgICAgIC8vIERvZGF0a293ZSBrcnl0ZXJpdW0gamFrb8WbY2lcclxuICAgICAgICAgICAgc3VpdGFibGVUaWxlcy5wdXNoKHsgciwgYyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBKZcWbbGkgbmllIG1hIGlkZWFsbnljaCwgc3p1a2FqIHdzesSZZHppZVxyXG4gICAgaWYgKHN1aXRhYmxlVGlsZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICBgW1Byb2NNYXAgRiR7dGhpcy5mbG9vck51bWJlcn0gU3Bhd25dIE5vIGlkZWFsIG9wZW4gc3BvdHMgZm91bmQsIGNoZWNraW5nIGFsbCB2YWxpZCB0aWxlcy5gXHJcbiAgICAgICk7XHJcbiAgICAgIGZvciAobGV0IHIgPSAwOyByIDwgdGhpcy5yb3dzOyByKyspIHtcclxuICAgICAgICBmb3IgKGxldCBjID0gMDsgYyA8IHRoaXMuY29sczsgYysrKSB7XHJcbiAgICAgICAgICBpZiAoY2hlY2tDYW5kaWRhdGUoYywgcikpIHtcclxuICAgICAgICAgICAgc3VpdGFibGVUaWxlcy5wdXNoKHsgciwgYyB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoc3VpdGFibGVUaWxlcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICBgW1Byb2NNYXAgRiR7dGhpcy5mbG9vck51bWJlcn0gU3Bhd25dIENSSVRJQ0FMOiBObyBzdWl0YWJsZSBzcGF3biB0aWxlcyBmb3VuZCBhZnRlciB0aG9yb3VnaCBjaGVjayFgXHJcbiAgICAgICk7XHJcbiAgICAgIC8vIE9zdGF0ZWN6bnkgZmFsbGJhY2s6IMWbcm9kZWsgcGllcndzemVqIHpuYWxlemlvbmVqIHBvZMWCb2dpIHBva29qdSAoYmFyZHpvIGF3YXJ5am5lKVxyXG4gICAgICBmb3IgKGNvbnN0IHJvb20gb2YgdGhpcy5yb29tcykge1xyXG4gICAgICAgIGZvciAobGV0IHJPZmZzZXQgPSAwOyByT2Zmc2V0IDwgcm9vbS5oZWlnaHQ7IHJPZmZzZXQrKykge1xyXG4gICAgICAgICAgZm9yIChsZXQgY09mZnNldCA9IDA7IGNPZmZzZXQgPCByb29tLndpZHRoOyBjT2Zmc2V0KyspIHtcclxuICAgICAgICAgICAgY29uc3QgclRlc3QgPSByb29tLnkgKyByT2Zmc2V0O1xyXG4gICAgICAgICAgICBjb25zdCBjVGVzdCA9IHJvb20ueCArIGNPZmZzZXQ7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm1hcFtyVGVzdF0/LltjVGVzdF0gPT09IFRJTEVfUk9PTV9GTE9PUikge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICAgICAgICAgIGBbUHJvY01hcCBGJHt0aGlzLmZsb29yTnVtYmVyfSBTcGF3bl0gRU1FUkdFTkNZIEZBTExCQUNLIHRvIGZpcnN0IHJvb20gZmxvb3IgdGlsZTogKCR7Y1Rlc3R9LCR7clRlc3R9KWBcclxuICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgIHJldHVybiB7IHg6IChjVGVzdCArIDAuNSkgKiB0aGlzLnRpbGVTaXplLCB5OiAoclRlc3QgKyAwLjUpICogdGhpcy50aWxlU2l6ZSB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7IC8vIE5hcHJhd2TEmSBuaWUgbWEgZ2R6aWVcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IHIsIGMgfSA9IHN1aXRhYmxlVGlsZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogc3VpdGFibGVUaWxlcy5sZW5ndGgpXTtcclxuICAgIGNvbnNvbGUubG9nKGBbUHJvY01hcCBGJHt0aGlzLmZsb29yTnVtYmVyfSBTcGF3bl0gU2VsZWN0ZWQgc3Bhd24gdGlsZTogKCR7Y30sJHtyfSlgKTtcclxuICAgIHJldHVybiB7IHg6IChjICsgMC41KSAqIHRoaXMudGlsZVNpemUsIHk6IChyICsgMC41KSAqIHRoaXMudGlsZVNpemUgfTtcclxuICB9XHJcblxyXG4gIGlzVGlsZU9wZW5Fbm91Z2godGlsZVgsIHRpbGVZLCBtaW5PcGVuU2lkZXMgPSAyLCBhdm9pZE5hcnJvdyA9IGZhbHNlKSB7XHJcbiAgICBpZiAoIXRoaXMubWFwKSByZXR1cm4gZmFsc2U7XHJcbiAgICBsZXQgb3BlbkNvdW50ID0gMDtcclxuICAgIGNvbnN0IGRpcnMgPSBbXHJcbiAgICAgIFswLCAtMV0sXHJcbiAgICAgIFswLCAxXSxcclxuICAgICAgWy0xLCAwXSxcclxuICAgICAgWzEsIDBdLFxyXG4gICAgXTsgLy8gTixTLFcsRVxyXG4gICAgY29uc3QgaXNPcGVuID0gW2ZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGlycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBuWCA9IHRpbGVYICsgZGlyc1tpXVswXSxcclxuICAgICAgICBuWSA9IHRpbGVZICsgZGlyc1tpXVsxXTtcclxuICAgICAgaWYgKG5YID49IDAgJiYgblggPCB0aGlzLmNvbHMgJiYgblkgPj0gMCAmJiBuWSA8IHRoaXMucm93cykge1xyXG4gICAgICAgIGNvbnN0IHZhbCA9IHRoaXMubWFwW25ZXT8uW25YXTtcclxuICAgICAgICBpZiAodmFsID09PSBUSUxFX0NPUlJJRE9SIHx8IHZhbCA9PT0gVElMRV9ST09NX0ZMT09SIHx8IHZhbCA9PT0gVElMRV9MSUZUKSB7XHJcbiAgICAgICAgICBvcGVuQ291bnQrKztcclxuICAgICAgICAgIGlzT3BlbltpXSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAob3BlbkNvdW50IDwgbWluT3BlblNpZGVzKSByZXR1cm4gZmFsc2U7XHJcbiAgICBpZiAoYXZvaWROYXJyb3cgJiYgb3BlbkNvdW50ID09PSAyKSB7XHJcbiAgICAgIC8vIENoZWNrIGZvciAxLXRpbGUgd2lkZSBwYXNzYWdlXHJcbiAgICAgIGlmIChcclxuICAgICAgICAoaXNPcGVuWzBdICYmIGlzT3BlblsxXSAmJiAhaXNPcGVuWzJdICYmICFpc09wZW5bM10pIHx8XHJcbiAgICAgICAgKGlzT3BlblsyXSAmJiBpc09wZW5bM10gJiYgIWlzT3BlblswXSAmJiAhaXNPcGVuWzFdKVxyXG4gICAgICApXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICBmaW5kTmVhcmVzdFdhbGthYmxlVGlsZSh3b3JsZFgsIHdvcmxkWSwgbWF4UiA9IDgsIGV4Y2x1ZGVMaWZ0ID0gZmFsc2UsIGF2b2lkTmFycm93ID0gZmFsc2UpIHtcclxuICAgIGlmICghdGhpcy5tYXApIHJldHVybiBudWxsO1xyXG4gICAgY29uc3QgdFggPSBNYXRoLmZsb29yKHdvcmxkWCAvIHRoaXMudGlsZVNpemUpLFxyXG4gICAgICB0WSA9IE1hdGguZmxvb3Iod29ybGRZIC8gdGhpcy50aWxlU2l6ZSk7XHJcbiAgICBjb25zdCB0YXJnZXRzID0gW1RJTEVfQ09SUklET1IsIFRJTEVfUk9PTV9GTE9PUl07XHJcblxyXG4gICAgaWYgKHRYID49IDAgJiYgdFggPCB0aGlzLmNvbHMgJiYgdFkgPj0gMCAmJiB0WSA8IHRoaXMucm93cykge1xyXG4gICAgICBjb25zdCB2YWwgPSB0aGlzLm1hcFt0WV1bdFhdO1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgdGFyZ2V0cy5pbmNsdWRlcyh2YWwpICYmXHJcbiAgICAgICAgKCFleGNsdWRlTGlmdCB8fCB2YWwgIT09IFRJTEVfTElGVCkgJiZcclxuICAgICAgICB0aGlzLmlzVGlsZU9wZW5Fbm91Z2godFgsIHRZLCAyLCBhdm9pZE5hcnJvdylcclxuICAgICAgKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgeDogKHRYICsgMC41KSAqIHRoaXMudGlsZVNpemUsIHk6ICh0WSArIDAuNSkgKiB0aGlzLnRpbGVTaXplIH07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGZvciAobGV0IHIgPSAxOyByIDw9IG1heFI7IHIrKykge1xyXG4gICAgICBmb3IgKGxldCBkeSA9IC1yOyBkeSA8PSByOyBkeSsrKSB7XHJcbiAgICAgICAgZm9yIChsZXQgZHggPSAtcjsgZHggPD0gcjsgZHgrKykge1xyXG4gICAgICAgICAgaWYgKE1hdGguYWJzKGR4KSA8IHIgJiYgTWF0aC5hYnMoZHkpIDwgcikgY29udGludWU7IC8vIE9ubHkgb3V0ZXIgcmluZ1xyXG4gICAgICAgICAgY29uc3QgY1ggPSB0WCArIGR4LFxyXG4gICAgICAgICAgICBjWSA9IHRZICsgZHk7XHJcbiAgICAgICAgICBpZiAoY1ggPCAwIHx8IGNYID49IHRoaXMuY29scyB8fCBjWSA8IDAgfHwgY1kgPj0gdGhpcy5yb3dzKSBjb250aW51ZTtcclxuICAgICAgICAgIGNvbnN0IHZhbCA9IHRoaXMubWFwW2NZXT8uW2NYXTtcclxuICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgdGFyZ2V0cy5pbmNsdWRlcyh2YWwpICYmXHJcbiAgICAgICAgICAgICghZXhjbHVkZUxpZnQgfHwgdmFsICE9PSBUSUxFX0xJRlQpICYmXHJcbiAgICAgICAgICAgIHRoaXMuaXNUaWxlT3BlbkVub3VnaChjWCwgY1ksIDIsIGF2b2lkTmFycm93KVxyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHg6IChjWCArIDAuNSkgKiB0aGlzLnRpbGVTaXplLCB5OiAoY1kgKyAwLjUpICogdGhpcy50aWxlU2l6ZSB9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gQkZTIGZhbGxiYWNrIChzaW1wbGlmaWVkLCBjb3VsZCBiZSBtb3JlIHJvYnVzdClcclxuICAgIGNvbnN0IHEgPSBbW3RYLCB0WV1dLFxyXG4gICAgICB2aXNpdGVkID0gbmV3IFNldChbYCR7dFh9LCR7dFl9YF0pO1xyXG4gICAgY29uc3QgcGF0aGFibGVCRlMgPSBbVElMRV9DT1JSSURPUiwgVElMRV9ST09NX0ZMT09SLCBUSUxFX0xJRlRdO1xyXG4gICAgd2hpbGUgKHEubGVuZ3RoID4gMCkge1xyXG4gICAgICBjb25zdCBbY1gsIGNZXSA9IHEuc2hpZnQoKTtcclxuICAgICAgZm9yIChjb25zdCBbZHgsIGR5XSBvZiBbXHJcbiAgICAgICAgWzAsIC0xXSxcclxuICAgICAgICBbMCwgMV0sXHJcbiAgICAgICAgWy0xLCAwXSxcclxuICAgICAgICBbMSwgMF0sXHJcbiAgICAgIF0pIHtcclxuICAgICAgICBjb25zdCBuWCA9IGNYICsgZHgsXHJcbiAgICAgICAgICBuWSA9IGNZICsgZHksXHJcbiAgICAgICAgICBrZXkgPSBgJHtuWH0sJHtuWX1gO1xyXG4gICAgICAgIGlmIChuWCA+PSAwICYmIG5YIDwgdGhpcy5jb2xzICYmIG5ZID49IDAgJiYgblkgPCB0aGlzLnJvd3MgJiYgIXZpc2l0ZWQuaGFzKGtleSkpIHtcclxuICAgICAgICAgIGNvbnN0IHZhbCA9IHRoaXMubWFwW25ZXT8uW25YXTtcclxuICAgICAgICAgIHZpc2l0ZWQuYWRkKGtleSk7XHJcbiAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHRhcmdldHMuaW5jbHVkZXModmFsKSAmJlxyXG4gICAgICAgICAgICAoIWV4Y2x1ZGVMaWZ0IHx8IHZhbCAhPT0gVElMRV9MSUZUKSAmJlxyXG4gICAgICAgICAgICB0aGlzLmlzVGlsZU9wZW5Fbm91Z2goblgsIG5ZLCAyLCBhdm9pZE5hcnJvdylcclxuICAgICAgICAgICkge1xyXG4gICAgICAgICAgICByZXR1cm4geyB4OiAoblggKyAwLjUpICogdGhpcy50aWxlU2l6ZSwgeTogKG5ZICsgMC41KSAqIHRoaXMudGlsZVNpemUgfTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChwYXRoYWJsZUJGUy5pbmNsdWRlcyh2YWwpKSBxLnB1c2goW25YLCBuWV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICBnZXRSb29tQ29udGFpbmluZ1RpbGUodGlsZVgsIHRpbGVZKSB7XHJcbiAgICBpZiAoIXRoaXMucm9vbXMgfHwgdGhpcy5yb29tcy5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xyXG4gICAgZm9yIChjb25zdCByb29tIG9mIHRoaXMucm9vbXMpIHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIHRpbGVYID49IHJvb20uY29sICYmXHJcbiAgICAgICAgdGlsZVggPCByb29tLmNvbCArIHJvb20ud2lkdGggJiZcclxuICAgICAgICB0aWxlWSA+PSByb29tLnJvdyAmJlxyXG4gICAgICAgIHRpbGVZIDwgcm9vbS5yb3cgKyByb29tLmhlaWdodFxyXG4gICAgICApIHtcclxuICAgICAgICBjb25zdCBhY3R1YWxUaWxlID0gdGhpcy5tYXBbdGlsZVldPy5bdGlsZVhdO1xyXG4gICAgICAgIC8vIExpZnQgaXMgY29uc2lkZXJlZCBcImluXCIgYSByb29tIGlmIGl0J3MgYXQgdGhlIHJvb20ncyBjb29yZHMgYW5kIGlzIFRJTEVfTElGVCxcclxuICAgICAgICAvLyBvciBpZiB0aGUgdGlsZSBpcyBUSUxFX1JPT01fRkxPT1IgKGZvciBjaGVja2luZyBnZW5lcmFsIHJvb20gdGlsZXMpLlxyXG4gICAgICAgIC8vIEZvciBsaWZ0IHNwZWNpZmljYWxseSwgd2UgY2hlY2sgaWYgaXQncyB3aXRoaW4gdGhlIHJvb20ncyByZWN0YW5ndWxhciBib3VuZHMuXHJcbiAgICAgICAgLy8gVGhlIGBtYXBHZW5lcmF0b3JgIGVuc3VyZXMgdGhlIGBsaWZ0X2FsY292ZWAgdHlwZSByb29tIGlzIGNyZWF0ZWQgY29ycmVjdGx5LlxyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIGFjdHVhbFRpbGUgPT09IFRJTEVfTElGVCB8fFxyXG4gICAgICAgICAgKGFjdHVhbFRpbGUgPT09IFRJTEVfUk9PTV9GTE9PUiAmJiByb29tLnR5cGUgIT09ICdsaWZ0X2FsY292ZScpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICByZXR1cm4gcm9vbTtcclxuICAgICAgICB9IGVsc2UgaWYgKHJvb20udHlwZSA9PT0gJ2xpZnRfYWxjb3ZlJyAmJiBhY3R1YWxUaWxlID09PSBUSUxFX0xJRlQpIHtcclxuICAgICAgICAgIC8vIEV4cGxpY2l0bHkgZm9yIGxpZnRfYWxjb3ZlXHJcbiAgICAgICAgICByZXR1cm4gcm9vbTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIGNvbnNvbGUud2FybihgW1Byb2NNYXAgRiR7dGhpcy5mbG9vck51bWJlcn1dIFRpbGUgKCR7dGlsZVh9LCR7dGlsZVl9KSBub3QgaW4gYW55IHJvb20gb3Igbm90IHJvb20gZmxvb3IvbGlmdC5gKTtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgZ2V0Um9vbUNlbnRlcihyb29tKSB7XHJcbiAgICBpZiAoIXJvb20pIHJldHVybiBudWxsO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgeDogKHJvb20uY29sICsgcm9vbS53aWR0aCAvIDIpICogdGhpcy50aWxlU2l6ZSxcclxuICAgICAgeTogKHJvb20ucm93ICsgcm9vbS5oZWlnaHQgLyAyKSAqIHRoaXMudGlsZVNpemUsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgZ2V0U3Bhd25Qb2ludEluUm9vbU9mTGlmdChsaWZ0VGlsZVgsIGxpZnRUaWxlWSwgcHJlZmVycmVkRGlzdGFuY2UgPSAxKSB7XHJcbiAgICAvLyBUaGlzIGZ1bmN0aW9uIGNhbiBiZSBzaW1wbGlmaWVkIG9yIHVzZWQgYXMgYSBtb3JlIGZpbmUtZ3JhaW5lZCBzcGF3biBhZGp1c3RlclxyXG4gICAgLy8gaWYgZ2V0Um9vbUNlbnRlciArIGVuc3VyZUNoYXJhY3RlcklzT25XYWxrYWJsZVRpbGUgaXNuJ3QgcGVyZmVjdC5cclxuICAgIC8vIEZvciBub3csIGZpbmQgYSB0aWxlIGFkamFjZW50IHRvIHRoZSBsaWZ0IHRoYXQgaXMgcm9vbSBmbG9vci5cclxuICAgIGNvbnN0IHJvb20gPSB0aGlzLmdldFJvb21Db250YWluaW5nVGlsZShsaWZ0VGlsZVgsIGxpZnRUaWxlWSk7XHJcbiAgICBpZiAoIXJvb20pIHJldHVybiBudWxsO1xyXG5cclxuICAgIGNvbnN0IGRpcnMgPSBbXHJcbiAgICAgIHsgZHg6IDAsIGR5OiAtMSB9LFxyXG4gICAgICB7IGR4OiAwLCBkeTogMSB9LFxyXG4gICAgICB7IGR4OiAtMSwgZHk6IDAgfSxcclxuICAgICAgeyBkeDogMSwgZHk6IDAgfSxcclxuICAgIF07IC8vIE4sIFMsIFcsIEVcclxuICAgIGNvbnN0IGNhbmRpZGF0ZXMgPSBbXTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IGRpciBvZiBkaXJzKSB7XHJcbiAgICAgIGNvbnN0IGNoZWNrWCA9IGxpZnRUaWxlWCArIGRpci5keDtcclxuICAgICAgY29uc3QgY2hlY2tZID0gbGlmdFRpbGVZICsgZGlyLmR5O1xyXG4gICAgICAvLyBDaGVjayBpZiBhZGphY2VudCB0aWxlIGlzIHdpdGhpbiB0aGUgc2FtZSByb29tIGFuZCBpcyBhIGZsb29yIHRpbGVcclxuICAgICAgaWYgKFxyXG4gICAgICAgIGNoZWNrWCA+PSByb29tLmNvbCAmJlxyXG4gICAgICAgIGNoZWNrWCA8IHJvb20uY29sICsgcm9vbS53aWR0aCAmJlxyXG4gICAgICAgIGNoZWNrWSA+PSByb29tLnJvdyAmJlxyXG4gICAgICAgIGNoZWNrWSA8IHJvb20ucm93ICsgcm9vbS5oZWlnaHQgJiZcclxuICAgICAgICB0aGlzLm1hcFtjaGVja1ldPy5bY2hlY2tYXSA9PT0gVElMRV9ST09NX0ZMT09SXHJcbiAgICAgICkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzVGlsZU9wZW5Fbm91Z2goY2hlY2tYLCBjaGVja1ksIDIsIHRydWUpKSB7XHJcbiAgICAgICAgICAvLyBQcmVmZXIgb3BlbiBzcG90c1xyXG4gICAgICAgICAgY2FuZGlkYXRlcy5wdXNoKHsgeDogKGNoZWNrWCArIDAuNSkgKiB0aGlzLnRpbGVTaXplLCB5OiAoY2hlY2tZICsgMC41KSAqIHRoaXMudGlsZVNpemUgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoY2FuZGlkYXRlcy5sZW5ndGggPiAwKSByZXR1cm4gY2FuZGlkYXRlc1swXTsgLy8gUmV0dXJuIGZpcnN0IGdvb2QgY2FuZGlkYXRlXHJcblxyXG4gICAgLy8gRmFsbGJhY2s6IGlmIG5vIFwiZ29vZFwiIGFkamFjZW50IHNwb3QsIGp1c3QgdXNlIHJvb20gY2VudGVyICh3aGljaCBtaWdodCBiZSB0aGUgbGlmdCBpdHNlbGYpXHJcbiAgICAvLyBHYW1lcGxheU1hbmFnZXIncyBlbnN1cmVDaGFyYWN0ZXJJc09uV2Fsa2FibGVUaWxlIHdpbGwgaGFuZGxlIG51ZGdpbmcgb2ZmIHRoZSBsaWZ0LlxyXG4gICAgLy8gY29uc29sZS53YXJuKGBbUHJvY01hcCBGJHt0aGlzLmZsb29yTnVtYmVyfV0gZ2V0U3Bhd25Qb2ludEluUm9vbU9mTGlmdDogTm8gaWRlYWwgYWRqYWNlbnQgc3BvdCwgdXNpbmcgcm9vbSBjZW50ZXIgZm9yIGxpZnQgaW4gJHtyb29tLmlkfWApO1xyXG4gICAgcmV0dXJuIHRoaXMuZ2V0Um9vbUNlbnRlcihyb29tKTtcclxuICB9XHJcblxyXG4gIGZpbmROZWFyYnlVbmFuc3dlcmVkQm9vayh3b3JsZFgsIHdvcmxkWSwgcmFkaXVzID0gdGhpcy50aWxlU2l6ZSAqIDAuOCkge1xyXG4gICAgaWYgKCF0aGlzLmJvb2tzIHx8IHRoaXMuYm9va3MubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcclxuICAgIGxldCBjbG9zZXN0Qm9vayA9IG51bGwsXHJcbiAgICAgIG1pbkRpc3RTcSA9IHJhZGl1cyAqIHJhZGl1cztcclxuICAgIGZvciAoY29uc3QgYm9vayBvZiB0aGlzLmJvb2tzKSB7XHJcbiAgICAgIGlmICghYm9vay5pc0NvbGxlY3RlZCkge1xyXG4gICAgICAgIGNvbnN0IGRYID0gYm9vay54IC0gd29ybGRYLFxyXG4gICAgICAgICAgZFkgPSBib29rLnkgLSB3b3JsZFksXHJcbiAgICAgICAgICBkaXN0U3EgPSBkWCAqIGRYICsgZFkgKiBkWTtcclxuICAgICAgICBpZiAoZGlzdFNxIDwgbWluRGlzdFNxKSB7XHJcbiAgICAgICAgICBtaW5EaXN0U3EgPSBkaXN0U3E7XHJcbiAgICAgICAgICBjbG9zZXN0Qm9vayA9IGJvb2s7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY2xvc2VzdEJvb2s7XHJcbiAgfVxyXG5cclxuICBtYXJrQm9va0FzQ29sbGVjdGVkKGJvb2tUb0NvbGxlY3QpIHtcclxuICAgIGlmICghYm9va1RvQ29sbGVjdCB8fCAhdGhpcy5ib29rcykgcmV0dXJuIGZhbHNlO1xyXG4gICAgY29uc3QgYm9vayA9IHRoaXMuYm9va3MuZmluZCgoYikgPT4gYi5pZCA9PT0gYm9va1RvQ29sbGVjdC5pZCk7XHJcbiAgICBpZiAoYm9vayAmJiAhYm9vay5pc0NvbGxlY3RlZCkge1xyXG4gICAgICBib29rLmlzQ29sbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBmaW5kTmVhcmJ5TGlmdCh3b3JsZFgsIHdvcmxkWSwgcmFkaXVzID0gdGhpcy50aWxlU2l6ZSAqIExJRlRfSU5URVJBQ1RJT05fUkFESVVTX01VTFRJUExJRVIpIHtcclxuICAgIGlmICghdGhpcy5saWZ0UG9zaXRpb24pIHJldHVybiBudWxsO1xyXG4gICAgY29uc3QgZFggPSB3b3JsZFggLSB0aGlzLmxpZnRQb3NpdGlvbi54LFxyXG4gICAgICBkWSA9IHdvcmxkWSAtIHRoaXMubGlmdFBvc2l0aW9uLnk7XHJcbiAgICByZXR1cm4gZFggKiBkWCArIGRZICogZFkgPCByYWRpdXMgKiByYWRpdXMgPyB0aGlzLmxpZnRQb3NpdGlvbiA6IG51bGw7XHJcbiAgfVxyXG5cclxuICBnZXRMaWZ0UG9zaXRpb24oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5saWZ0UG9zaXRpb247XHJcbiAgfVxyXG5cclxuICBkcmF3KGN0eCwgYm9va0ltYWdlID0gbnVsbCkge1xyXG4gICAgaWYgKCF0aGlzLm1hcCB8fCAhdGhpcy5yZW5kZXJlcikgcmV0dXJuO1xyXG4gICAgdGhpcy5yZW5kZXJlci5kcmF3KFxyXG4gICAgICBjdHgsXHJcbiAgICAgIHtcclxuICAgICAgICBtYXA6IHRoaXMubWFwLFxyXG4gICAgICAgIHJvb21zOiB0aGlzLnJvb21zLFxyXG4gICAgICAgIGJvb2tzOiB0aGlzLmJvb2tzLFxyXG4gICAgICAgIGxpZnRQb3NpdGlvbjogdGhpcy5saWZ0UG9zaXRpb24sXHJcbiAgICAgICAgb2Zmc2V0WDogdGhpcy5vZmZzZXRYLFxyXG4gICAgICAgIG9mZnNldFk6IHRoaXMub2Zmc2V0WSxcclxuICAgICAgICBjb2xzOiB0aGlzLmNvbHMsXHJcbiAgICAgICAgcm93czogdGhpcy5yb3dzLFxyXG4gICAgICAgIHRpbGVTaXplOiB0aGlzLnRpbGVTaXplLFxyXG4gICAgICB9LFxyXG4gICAgICBib29rSW1hZ2VcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBsb2dNYXBHcmlkKCkge1xyXG4gICAgaWYgKCF0aGlzLm1hcCkge1xyXG4gICAgICBjb25zb2xlLmxvZyhgW1Byb2NNYXAgRiR7dGhpcy5mbG9vck51bWJlcn1dIE1hcCBncmlkIE4vQS5gKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coYC0tLSBNYXAgR3JpZCBGJHt0aGlzLmZsb29yTnVtYmVyfSAoJHt0aGlzLmNvbHN9eCR7dGhpcy5yb3dzfSkgLS0tYCk7XHJcbiAgICBsZXQgaCA9ICcgICAnO1xyXG4gICAgZm9yIChsZXQgYyA9IDA7IGMgPCB0aGlzLmNvbHM7IGMrKykgaCArPSBjICUgMTAgPT09IDAgPyBNYXRoLmZsb29yKGMgLyAxMCkgOiAnICc7XHJcbiAgICBjb25zb2xlLmxvZyhoKTtcclxuICAgIGggPSAnICAgJztcclxuICAgIGZvciAobGV0IGMgPSAwOyBjIDwgdGhpcy5jb2xzOyBjKyspIGggKz0gYyAlIDEwO1xyXG4gICAgY29uc29sZS5sb2coaCk7XHJcbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMucm93czsgeSsrKSB7XHJcbiAgICAgIGNvbnN0IHJOID0geS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcgJyk7XHJcbiAgICAgIGNvbnN0IHJTID0gdGhpcy5tYXBbeV1cclxuICAgICAgICAubWFwKCh0KSA9PiB7XHJcbiAgICAgICAgICBzd2l0Y2ggKHQpIHtcclxuICAgICAgICAgICAgY2FzZSBUSUxFX1dBTEw6XHJcbiAgICAgICAgICAgICAgcmV0dXJuICcjJztcclxuICAgICAgICAgICAgY2FzZSBUSUxFX0NPUlJJRE9SOlxyXG4gICAgICAgICAgICAgIHJldHVybiAnLic7XHJcbiAgICAgICAgICAgIGNhc2UgVElMRV9ST09NX0ZMT09SOlxyXG4gICAgICAgICAgICAgIHJldHVybiAnICc7XHJcbiAgICAgICAgICAgIGNhc2UgVElMRV9MSUZUOlxyXG4gICAgICAgICAgICAgIHJldHVybiAnTCc7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgcmV0dXJuICc/JztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5qb2luKCcnKTtcclxuICAgICAgY29uc29sZS5sb2coYCR7ck59ICR7clN9YCk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5saWZ0UG9zaXRpb24pXHJcbiAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgIGBMaWZ0IHRpbGUgbWFwWyR7dGhpcy5saWZ0UG9zaXRpb24udGlsZVl9XVske3RoaXMubGlmdFBvc2l0aW9uLnRpbGVYfV06ICR7XHJcbiAgICAgICAgICB0aGlzLm1hcFt0aGlzLmxpZnRQb3NpdGlvbi50aWxlWV0/Llt0aGlzLmxpZnRQb3NpdGlvbi50aWxlWF1cclxuICAgICAgICB9LiBSZXBvcnRlZCBAKCR7dGhpcy5saWZ0UG9zaXRpb24udGlsZVh9LCR7dGhpcy5saWZ0UG9zaXRpb24udGlsZVl9KWBcclxuICAgICAgKTtcclxuICAgIGVsc2UgY29uc29sZS5sb2coJ0xpZnQgTi9BLicpO1xyXG4gICAgY29uc29sZS5sb2coYC0tLSBFbmQgTWFwIEdyaWQgRiR7dGhpcy5mbG9vck51bWJlcn0gLS0tYCk7XHJcbiAgfVxyXG59XHJcbiIsIi8vIHNyYy9jb3JlL0xldmVsLmpzXHJcbmltcG9ydCB7IFByb2NlZHVyYWxNYXAgfSBmcm9tICcuLi9tYXAvUHJvY2VkdXJhbE1hcC5qcyc7XHJcbi8vIFJlbW92ZWQgVFJBTlNJVElPTl9aT05FX1JBRElVU19NVUxUSVBMSUVSIGltcG9ydFxyXG5cclxuLyoqXHJcbiAqINCa0LvQsNGB0YEgTGV2ZWwg0YPQv9GA0LDQstC70Y/QtdGCINGC0LXQutGD0YnQuNC8INGN0YLQsNC20L7QvCDQuCDQt9Cw0LPRgNGD0LfQutC+0Lkg0LrQsNGA0YIuXHJcbiAqINCb0L7Qs9C40LrQsCDQt9C+0L0g0L/QtdGA0LXRhdC+0LTQsCAodHJhbnNpdGlvbiB6b25lcykg0YPQtNCw0LvQtdC90LAsINGCLtC6LiDQu9C40YTRgiDRgNCw0LHQvtGC0LDQtdGCINC40L3QsNGH0LUuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTGV2ZWwge1xyXG4gIC8qKlxyXG4gICAqINCh0L7Qt9C00LDQtdGCINGN0LrQt9C10LzQv9C70Y/RgCBMZXZlbC5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gW21pbkZsb29yPTFdIC0g0J3QvtC80LXRgCDRgdCw0LzQvtCz0L4g0L3QuNC20L3QtdCz0L4g0Y3RgtCw0LbQsC5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gW21heEZsb29yPTNdIC0g0J3QvtC80LXRgCDRgdCw0LzQvtCz0L4g0LLQtdGA0YXQvdC10LPQviDRjdGC0LDQttCwLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKG1pbkZsb29yID0gMSwgbWF4Rmxvb3IgPSAzKSB7XHJcbiAgICBpZiAobWluRmxvb3IgPj0gbWF4Rmxvb3IpIHtcclxuICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgIGBMZXZlbCBjb25zdHJ1Y3RvcjogbWluRmxvb3IgKCR7bWluRmxvb3J9KSBtdXN0IGJlIGxlc3MgdGhhbiBtYXhGbG9vciAoJHttYXhGbG9vcn0pLiBVc2luZyBkZWZhdWx0cyAxIGFuZCAzLmBcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5taW5GbG9vciA9IDE7XHJcbiAgICAgIHRoaXMubWF4Rmxvb3IgPSAzO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5taW5GbG9vciA9IG1pbkZsb29yO1xyXG4gICAgICB0aGlzLm1heEZsb29yID0gbWF4Rmxvb3I7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jdXJyZW50Rmxvb3IgPSB0aGlzLm1pbkZsb29yO1xyXG4gICAgdGhpcy5jdXJyZW50TWFwID0gbnVsbDsgLy8gSW5zdGFuY2Ugb2YgUHJvY2VkdXJhbE1hcFxyXG4gICAgLy8gdGhpcy50cmFuc2l0aW9uWm9uZXMgPSBbXTsgLy8gUkVNT1ZFRCAtIE5vIGxvbmdlciBuZWVkZWQgZm9yIGxpZnRzXHJcbiAgICB0aGlzLnRpbGVTaXplID0gMzI7IC8vIERlZmF1bHQsIHdpbGwgYmUgdXBkYXRlZCBmcm9tIG1hcFxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog0JDRgdC40L3RhdGA0L7QvdC90L4g0LfQsNCz0YDRg9C20LDQtdGCICjQs9C10L3QtdGA0LjRgNGD0LXRgikg0LrQsNGA0YLRgyDQtNC70Y8g0YPQutCw0LfQsNC90L3QvtCz0L4g0Y3RgtCw0LbQsC5cclxuICAgKiBBc3N1bWVzIFByb2NlZHVyYWxNYXAgY29uc3RydWN0b3IgaGFuZGxlcyBnZW5lcmF0aW9uLCBsaWZ0IHBsYWNlbWVudCxcclxuICAgKiBhbmQgdGhyb3dzIG9uIGNyaXRpY2FsIGZhaWx1cmUgKGUuZy4sIHVucmVhY2hhYmxlIGxpZnQpLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmbG9vck51bWJlciAtINCd0L7QvNC10YAg0Y3RgtCw0LbQsCDQtNC70Y8g0LfQsNCz0YDRg9C30LrQuC5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gY2FudmFzV2lkdGggLSDQqNC40YDQuNC90LAg0LrQsNC90LLQsNGB0LAuXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGNhbnZhc0hlaWdodCAtINCS0YvRgdC+0YLQsCDQutCw0L3QstCw0YHQsC5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0g0J/RgNC+0LzQuNGBLCDQutC+0YLQvtGA0YvQuSDRgNCw0LfRgNC10YjQsNC10YLRgdGPINC/0L7RgdC70LUg0LfQsNCz0YDRg9C30LrQuCDRjdGC0LDQttCwLlxyXG4gICAqIEB0aHJvd3Mge0Vycm9yfSBJZiBQcm9jZWR1cmFsTWFwIGdlbmVyYXRpb24gb3IgdmFsaWRhdGlvbiBmYWlscy5cclxuICAgKi9cclxuICBhc3luYyBsb2FkRmxvb3IoZmxvb3JOdW1iZXIsIGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQpIHtcclxuICAgIGlmIChmbG9vck51bWJlciA8IHRoaXMubWluRmxvb3IgfHwgZmxvb3JOdW1iZXIgPiB0aGlzLm1heEZsb29yKSB7XHJcbiAgICAgIGNvbnN0IGVycm9yTXNnID0gYEF0dGVtcHRlZCB0byBsb2FkIGludmFsaWQgZmxvb3I6ICR7Zmxvb3JOdW1iZXJ9LiBBbGxvd2VkIHJhbmdlOiBbJHt0aGlzLm1pbkZsb29yfS0ke3RoaXMubWF4Rmxvb3J9XWA7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFtMZXZlbF0gJHtlcnJvck1zZ31gKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTXNnKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZyhgW0xldmVsXSBMb2FkaW5nIGZsb29yICR7Zmxvb3JOdW1iZXJ9Li4uYCk7XHJcbiAgICB0aGlzLmN1cnJlbnRGbG9vciA9IGZsb29yTnVtYmVyO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIFByb2NlZHVyYWxNYXAgY29uc3RydWN0b3Igbm93IGhhbmRsZXMgZ2VuZXJhdGlvbiBBTkQgdmFsaWRhdGlvbiAobGlrZSBsaWZ0IHJlYWNoYWJpbGl0eSkuXHJcbiAgICAgIC8vIEl0IHdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgZ2VuZXJhdGlvbiBmYWlscyBjcml0aWNhbGx5LlxyXG4gICAgICB0aGlzLmN1cnJlbnRNYXAgPSBuZXcgUHJvY2VkdXJhbE1hcChcclxuICAgICAgICBjYW52YXNXaWR0aCxcclxuICAgICAgICBjYW52YXNIZWlnaHQsXHJcbiAgICAgICAgdGhpcy5jdXJyZW50Rmxvb3IsXHJcbiAgICAgICAgdGhpcy5taW5GbG9vcixcclxuICAgICAgICB0aGlzLm1heEZsb29yXHJcbiAgICAgICk7XHJcblxyXG4gICAgICAvLyBCYXNpYyB2YWxpZGF0aW9uIGFmdGVyIGNyZWF0aW9uIChlbnN1cmUgbWFwIG9iamVjdCBsb29rcyByZWFzb25hYmxlKVxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgIXRoaXMuY3VycmVudE1hcC50aWxlU2l6ZSB8fFxyXG4gICAgICAgICF0aGlzLmN1cnJlbnRNYXAubWFwIHx8XHJcbiAgICAgICAgIXRoaXMuY3VycmVudE1hcC5ib29rcyB8fCAvLyBib29rcyBzaG91bGQgZXhpc3QgKGV2ZW4gaWYgZW1wdHkpXHJcbiAgICAgICAgIXRoaXMuY3VycmVudE1hcC5nZXRMaWZ0UG9zaXRpb24oKSAvLyBMaWZ0IHBvc2l0aW9uIE1VU1QgZXhpc3QgYWZ0ZXIgc3VjY2Vzc2Z1bCBnZW5lcmF0aW9uXHJcbiAgICAgICkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgICAgICdbTGV2ZWxdIFByb2NlZHVyYWxNYXAgaW5zdGFuY2UgaXMgbWlzc2luZyBlc3NlbnRpYWwgcHJvcGVydGllcyBhZnRlciBjcmVhdGlvbiAodGlsZVNpemUsIG1hcCwgYm9va3MsIG9yIGxpZnRQb3NpdGlvbikuJ1xyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMudGlsZVNpemUgPSB0aGlzLmN1cnJlbnRNYXAudGlsZVNpemU7XHJcbiAgICAgIGNvbnN0IGxpZnRQb3MgPSB0aGlzLmN1cnJlbnRNYXAuZ2V0TGlmdFBvc2l0aW9uKCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgIGAgIFtMZXZlbF0gTWFwIGdlbmVyYXRlZCBmb3IgZmxvb3IgJHt0aGlzLmN1cnJlbnRGbG9vcn0uIFRpbGVTaXplOiAke3RoaXMudGlsZVNpemV9LiBMaWZ0IGF0IHRpbGUoJHtsaWZ0UG9zLnRpbGVYfSwgJHtsaWZ0UG9zLnRpbGVZfSkuYFxyXG4gICAgICApO1xyXG5cclxuICAgICAgLy8gUkVNT1ZFRDogY3JlYXRlVHJhbnNpdGlvblpvbmVzKCkgY2FsbCBpcyBubyBsb25nZXIgbmVlZGVkLlxyXG5cclxuICAgICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgYFtMZXZlbF0gRmxvb3IgJHtmbG9vck51bWJlcn0gbG9hZGVkIHN1Y2Nlc3NmdWxseS4gTWFwIHNpemU6ICR7dGhpcy5jdXJyZW50TWFwLmNvbHN9eCR7dGhpcy5jdXJyZW50TWFwLnJvd3N9LiAke3RoaXMuY3VycmVudE1hcC5ib29rcy5sZW5ndGh9IGJvb2tzIHBsYWNlZC5gXHJcbiAgICAgICk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgIGBbTGV2ZWxdIENSSVRJQ0FMIEZBSUxVUkUgbG9hZGluZyBmbG9vciAke2Zsb29yTnVtYmVyfTogRmFpbGVkIHRvIGNyZWF0ZSBvciB2YWxpZGF0ZSBQcm9jZWR1cmFsTWFwOmAsXHJcbiAgICAgICAgZXJyb3JcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5jdXJyZW50TWFwID0gbnVsbDsgLy8gRW5zdXJlIHN0YXRlIGlzIGNsZWFuIG9uIGZhaWx1cmVcclxuICAgICAgLy8gUmV0aHJvdyB0aGUgZXJyb3IgZm9yIEdhbWUuanMgdG8gaGFuZGxlIChsaWtlbHkgc2hvdyBlcnJvciBtZXNzYWdlIGFuZCBzdG9wKVxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgYE1hcCBnZW5lcmF0aW9uL3ZhbGlkYXRpb24gZmFpbGVkIGZvciBmbG9vciAke2Zsb29yTnVtYmVyfS4gJHtlcnJvci5tZXNzYWdlIHx8IGVycm9yfWBcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXR1cm4gYSByZXNvbHZlZCBwcm9taXNlIChnZW5lcmF0aW9uIGl0c2VsZiBpcyBzeW5jaHJvbm91cyB3aXRoaW4gdGhlIGNvbnN0cnVjdG9yKVxyXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gIH1cclxuXHJcbiAgLy8gUkVNT1ZFRDogY3JlYXRlVHJhbnNpdGlvblpvbmVzKCkgbWV0aG9kIGlzIG9ic29sZXRlLlxyXG5cclxuICAvLyBSRU1PVkVEOiBnZXRDdXJyZW50VHJhbnNpdGlvblpvbmUoKSBtZXRob2QgaXMgb2Jzb2xldGUuIExpZnQgaW50ZXJhY3Rpb24gY2hlY2tlZCBkaWZmZXJlbnRseS5cclxuXHJcbiAgLyoqXHJcbiAgICog0JLQvtC30LLRgNCw0YnQsNC10YIg0LzQsNGB0YHQuNCyINC+0LHRitC10LrRgtC+0LIg0LrQvdC40LMg0L3QsCDRgtC10LrRg9GJ0LXQuSDQutCw0YDRgtC1LlxyXG4gICAqIEByZXR1cm5zIHtBcnJheTxvYmplY3Q+fSDQnNCw0YHRgdC40LIg0L7QsdGK0LXQutGC0L7QsiDQutC90LjQsy5cclxuICAgKi9cclxuICBnZXRDdXJyZW50Qm9va3MoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50TWFwID8gdGhpcy5jdXJyZW50TWFwLmJvb2tzIDogW107XHJcbiAgfVxyXG59XHJcbiIsIi8vIHNyYy9jb3JlL0dhbWVSZW5kZXJlci5qc1xyXG4vLyAoTm8gY2hhbmdlcyBuZWVkZWQgZnJvbSBwcmV2aW91cyBwcm92aWRlZCB2ZXJzaW9uLCBhc3N1bWluZyBpdCB3YXMgY29ycmVjdClcclxuaW1wb3J0IHsgQ2hhcmFjdGVyIH0gZnJvbSAnLi9DaGFyYWN0ZXIuanMnOyAvLyBPcHRpb25hbCBmb3IgdHlwZSBjaGVja3NcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lUmVuZGVyZXIge1xyXG4gIGNvbnN0cnVjdG9yKGdhbWUpIHtcclxuICAgIHRoaXMuZ2FtZSA9IGdhbWU7XHJcbiAgICB0aGlzLmNhbnZhcyA9IG51bGw7XHJcbiAgICB0aGlzLmN0eCA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBpbml0aWFsaXplQ2FudmFzKCkge1xyXG4gICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZS1jYW52YXMnKTtcclxuICAgIGlmICghdGhpcy5jYW52YXMpIHRocm93IG5ldyBFcnJvcihcIltSZW5kZXJlcl0gQ2FudmFzICdnYW1lLWNhbnZhcycgbm90IGZvdW5kIVwiKTtcclxuICAgIHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgIGlmICghdGhpcy5jdHgpIHRocm93IG5ldyBFcnJvcignW1JlbmRlcmVyXSBGYWlsZWQgdG8gZ2V0IDJEIGNvbnRleHQuJyk7XHJcbiAgICB0aGlzLmN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcclxuICAgIHRoaXMucmVzaXplQ2FudmFzKCk7XHJcbiAgICBjb25zb2xlLmxvZygnW1JlbmRlcmVyXSBDYW52YXMgaW5pdGlhbGl6ZWQuJyk7XHJcbiAgICByZXR1cm4geyBjYW52YXM6IHRoaXMuY2FudmFzLCBjdHg6IHRoaXMuY3R4IH07XHJcbiAgfVxyXG5cclxuICByZXNpemVDYW52YXMoKSB7XHJcbiAgICBpZiAoIXRoaXMuY2FudmFzKSByZXR1cm47XHJcbiAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xyXG4gICAgaWYgKHRoaXMuZ2FtZS5jaGFyYWN0ZXIgJiYgdGhpcy5nYW1lLmxldmVsPy5jdXJyZW50TWFwKSB7XHJcbiAgICAgIHRoaXMuY2VudGVyQ2FtZXJhT25DaGFyYWN0ZXIoKTtcclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKGBbUmVuZGVyZXJdIENhbnZhcyByZXNpemVkIHRvICR7dGhpcy5jYW52YXMud2lkdGh9eCR7dGhpcy5jYW52YXMuaGVpZ2h0fWApO1xyXG4gIH1cclxuXHJcbiAgY2VudGVyQ2FtZXJhT25DaGFyYWN0ZXIoKSB7XHJcbiAgICBjb25zdCB7IGNoYXJhY3RlciwgbGV2ZWwsIGNhbnZhcyB9ID0gdGhpcy5nYW1lO1xyXG4gICAgaWYgKGNoYXJhY3RlciAmJiBsZXZlbD8uY3VycmVudE1hcCAmJiBjYW52YXMpIHtcclxuICAgICAgbGV2ZWwuY3VycmVudE1hcC5vZmZzZXRYID0gTWF0aC5mbG9vcihjYW52YXMud2lkdGggLyAyIC0gY2hhcmFjdGVyLngpO1xyXG4gICAgICBsZXZlbC5jdXJyZW50TWFwLm9mZnNldFkgPSBNYXRoLmZsb29yKGNhbnZhcy5oZWlnaHQgLyAyIC0gY2hhcmFjdGVyLnkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZHJhd0ZyYW1lKCkge1xyXG4gICAgaWYgKCF0aGlzLmN0eCB8fCAhdGhpcy5jYW52YXMpIHJldHVybjtcclxuICAgIHRoaXMuY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcclxuICAgIGNvbnN0IG1hcCA9IHRoaXMuZ2FtZS5sZXZlbD8uY3VycmVudE1hcDtcclxuICAgIGNvbnN0IGNoYXIgPSB0aGlzLmdhbWUuY2hhcmFjdGVyO1xyXG4gICAgaWYgKG1hcCkge1xyXG4gICAgICBtYXAuZHJhdyh0aGlzLmN0eCwgdGhpcy5nYW1lLmJvb2tJbWFnZSk7XHJcbiAgICB9XHJcbiAgICBpZiAoY2hhciAmJiBtYXApIHtcclxuICAgICAgY2hhci5kcmF3KG1hcC5vZmZzZXRYLCBtYXAub2Zmc2V0WSk7XHJcbiAgICB9XHJcbiAgICAvLyB0aGlzLmRyYXdEZWJ1Z0luZm8oKTsgLy8gT3B0aW9uYWxcclxuICB9XHJcblxyXG4gIGRyYXdXaW5TY3JlZW4oKSB7XHJcbiAgICBpZiAoIXRoaXMuY3R4IHx8ICF0aGlzLmNhbnZhcykgcmV0dXJuO1xyXG4gICAgdGhpcy5jdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwgMCwgMCwgMC44KSc7XHJcbiAgICB0aGlzLmN0eC5maWxsUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcclxuICAgIHRoaXMuY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInO1xyXG4gICAgdGhpcy5jdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XHJcbiAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSAnbGltZSc7XHJcbiAgICAvLyBDb25zaWRlciB1c2luZyBhIGZvbnQgYXZhaWxhYmxlIG9uIG1vc3Qgc3lzdGVtcyBvciBpbmNsdWRlIG9uZSB2aWEgQ1NTIEBmb250LWZhY2VcclxuICAgIHRoaXMuY3R4LmZvbnQgPSAnY2xhbXAoMzJweCwgOHZ3LCA0OHB4KSBcIlByZXNzIFN0YXJ0IDJQXCIsIGN1cnNpdmUsIEFyaWFsLCBzYW5zLXNlcmlmJztcclxuICAgIHRoaXMuY3R4LmZpbGxUZXh0KCdaV1lDScSYU1RXTyEnLCB0aGlzLmNhbnZhcy53aWR0aCAvIDIsIHRoaXMuY2FudmFzLmhlaWdodCAvIDIgLSA4MCk7IC8vIFRyYW5zbGF0ZWRcclxuICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XHJcbiAgICB0aGlzLmN0eC5mb250ID0gJ2NsYW1wKDI0cHgsIDV2dywgMzJweCkgQXJpYWwsIHNhbnMtc2VyaWYnO1xyXG4gICAgdGhpcy5jdHguZmlsbFRleHQoXHJcbiAgICAgIGBaZWJyYW5vIHdzenlzdGtpZSAke3RoaXMuZ2FtZS50YXJnZXRCb29rc1RvV2lufSBrc2nEhcW8a2khYCwgLy8gVHJhbnNsYXRlZFxyXG4gICAgICB0aGlzLmNhbnZhcy53aWR0aCAvIDIsXHJcbiAgICAgIHRoaXMuY2FudmFzLmhlaWdodCAvIDJcclxuICAgICk7XHJcbiAgICB0aGlzLmN0eC5mb250ID0gJ2NsYW1wKDE4cHgsIDR2dywgMjRweCkgQXJpYWwsIHNhbnMtc2VyaWYnO1xyXG4gICAgdGhpcy5jdHguZmlsbFRleHQoJ1VuaXdlcnN5dGV0IHVyYXRvd2FueSEnLCB0aGlzLmNhbnZhcy53aWR0aCAvIDIsIHRoaXMuY2FudmFzLmhlaWdodCAvIDIgKyA2MCk7IC8vIFRyYW5zbGF0ZWRcclxuICAgIHRoaXMuY3R4LmZvbnQgPSAnY2xhbXAoMTRweCwgM3Z3LCAxOHB4KSBBcmlhbCwgc2Fucy1zZXJpZic7XHJcbiAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSAnI2NjYyc7XHJcbiAgICB0aGlzLmN0eC5maWxsVGV4dChcclxuICAgICAgJyhPZMWbd2llxbwgc3Ryb27EmSwgYWJ5IHphZ3JhxIcgcG9ub3duaWUpJywgLy8gVHJhbnNsYXRlZFxyXG4gICAgICB0aGlzLmNhbnZhcy53aWR0aCAvIDIsXHJcbiAgICAgIHRoaXMuY2FudmFzLmhlaWdodCAtIDUwXHJcbiAgICApO1xyXG4gIH1cclxuICAvLyBkcmF3RGVidWdJbmZvKCkgeyAuLi4gfSAvLyBPcHRpb25hbCBkZWJ1ZyBkcmF3aW5nXHJcbn1cclxuIiwiLy8gc3JjL2NvcmUvR2FtZXBsYXlNYW5hZ2VyLmpzXHJcbmltcG9ydCB7XHJcbiAgR2FtZVN0YXRlLFxyXG4gIExJRlRfQ09PTERPV05fTVMsXHJcbiAgVElMRV9XQUxMLFxyXG4gIFRJTEVfQ09SUklET1IsXHJcbiAgVElMRV9ST09NX0ZMT09SLFxyXG4gIFRJTEVfTElGVCxcclxuICBxdWVzdGlvbnMsXHJcbn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcclxuaW1wb3J0IHsgVUlNYW5hZ2VyIH0gZnJvbSAnLi4vVUkvVUlNYW5hZ2VyLmpzJztcclxuaW1wb3J0IHsgQ2hhcmFjdGVyIH0gZnJvbSAnLi9DaGFyYWN0ZXIuanMnO1xyXG5cclxuY29uc3QgREVCVUdfR01fRkxPT1IgPSBudWxsOyAvLyBVc3RhdyBuYSBudW1lciBwacSZdHJhIGRsYSBiYXJkemllaiBzemN6ZWfDs8WCb3d5Y2ggbG9nw7N3XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZXBsYXlNYW5hZ2VyIHtcclxuICBjb25zdHJ1Y3RvcihnYW1lKSB7XHJcbiAgICB0aGlzLmdhbWUgPSBnYW1lO1xyXG4gICAgdGhpcy5oYW5kbGVBbnN3ZXIgPSB0aGlzLmhhbmRsZUFuc3dlci5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5oYW5kbGVGbG9vclNlbGVjdGlvbiA9IHRoaXMuaGFuZGxlRmxvb3JTZWxlY3Rpb24uYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZSh0aW1lc3RhbXApIHtcclxuICAgIGlmICh0aGlzLmdhbWUuZ2FtZVN0YXRlID09PSBHYW1lU3RhdGUuUExBWUlORykgdGhpcy51cGRhdGVQbGF5aW5nU3RhdGUodGltZXN0YW1wKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZVBsYXlpbmdTdGF0ZSh0aW1lc3RhbXApIHtcclxuICAgIGNvbnN0IGNoYXIgPSB0aGlzLmdhbWUuY2hhcmFjdGVyO1xyXG4gICAgaWYgKCF0aGlzLmdhbWUubGV2ZWw/LmN1cnJlbnRNYXAgfHwgIWNoYXIgfHwgIXRoaXMuZ2FtZS5pbnB1dE1hbmFnZXIpIHJldHVybjtcclxuICAgIGNvbnN0IHsgbW92ZWQgfSA9IHRoaXMuaGFuZGxlTW92ZW1lbnQoKTtcclxuICAgIGlmIChjaGFyPy51cGRhdGVBbmltYXRpb24pIGNoYXIudXBkYXRlQW5pbWF0aW9uKHRpbWVzdGFtcCk7XHJcbiAgICBpZiAoIW1vdmVkICYmIHRoaXMuZ2FtZS5nYW1lU3RhdGUgPT09IEdhbWVTdGF0ZS5QTEFZSU5HKSB0aGlzLmhhbmRsZUludGVyYWN0aW9ucygpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlTW92ZW1lbnQoKSB7XHJcbiAgICBjb25zdCBjaGFyID0gdGhpcy5nYW1lLmNoYXJhY3RlcixcclxuICAgICAgbWFwID0gdGhpcy5nYW1lLmxldmVsLmN1cnJlbnRNYXAsXHJcbiAgICAgIGlucHV0ID0gdGhpcy5nYW1lLmlucHV0TWFuYWdlcjtcclxuICAgIGlmICghY2hhciB8fCAhbWFwIHx8ICFpbnB1dCkgcmV0dXJuIHsgbW92ZWQ6IGZhbHNlIH07XHJcbiAgICBjb25zdCBkaXIgPSBpbnB1dC5nZXRJbnB1dERpcmVjdGlvbigpO1xyXG4gICAgbGV0IGR4ID0gZGlyLnggKiBjaGFyLnNwZWVkLFxyXG4gICAgICBkeSA9IGRpci55ICogY2hhci5zcGVlZDtcclxuICAgIGxldCBhY3R1YWxYID0gMCxcclxuICAgICAgYWN0dWFsWSA9IDAsXHJcbiAgICAgIG1vdmVkID0gZmFsc2U7XHJcblxyXG4gICAgaWYgKGR4ICE9PSAwIHx8IGR5ICE9PSAwKSB7XHJcbiAgICAgIGNvbnN0IGNhbk1vdmVYID0gZHggIT09IDAgJiYgIXRoaXMuY2hlY2tDb2xsaXNpb24oY2hhci54ICsgZHgsIGNoYXIueSk7XHJcbiAgICAgIGNvbnN0IGNhbk1vdmVZID0gZHkgIT09IDAgJiYgIXRoaXMuY2hlY2tDb2xsaXNpb24oY2hhci54LCBjaGFyLnkgKyBkeSk7XHJcbiAgICAgIGlmIChjYW5Nb3ZlWCkgYWN0dWFsWCA9IGR4O1xyXG4gICAgICBpZiAoY2FuTW92ZVkpIGFjdHVhbFkgPSBkeTtcclxuXHJcbiAgICAgIGlmIChkeCAhPT0gMCAmJiBkeSAhPT0gMCAmJiB0aGlzLmNoZWNrQ29sbGlzaW9uKGNoYXIueCArIGR4LCBjaGFyLnkgKyBkeSkpIHtcclxuICAgICAgICAvLyBEaWFnb25hbCBibG9ja2VkXHJcbiAgICAgICAgaWYgKGNhbk1vdmVYICYmICFjYW5Nb3ZlWSkgYWN0dWFsWSA9IDA7IC8vIFNsaWRlIFhcclxuICAgICAgICBlbHNlIGlmIChjYW5Nb3ZlWSAmJiAhY2FuTW92ZVgpIGFjdHVhbFggPSAwOyAvLyBTbGlkZSBZXHJcbiAgICAgICAgZWxzZSBpZiAoIWNhbk1vdmVYICYmICFjYW5Nb3ZlWSkge1xyXG4gICAgICAgICAgYWN0dWFsWCA9IDA7XHJcbiAgICAgICAgICBhY3R1YWxZID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGFjdHVhbFggIT09IDAgfHwgYWN0dWFsWSAhPT0gMCkge1xyXG4gICAgICAgIGNoYXIueCArPSBhY3R1YWxYO1xyXG4gICAgICAgIGNoYXIueSArPSBhY3R1YWxZO1xyXG4gICAgICAgIG1vdmVkID0gdHJ1ZTtcclxuICAgICAgICBpZiAoTWF0aC5hYnMoYWN0dWFsWCkgPj0gTWF0aC5hYnMoYWN0dWFsWSkpIHtcclxuICAgICAgICAgIGlmIChhY3R1YWxYICE9PSAwKVxyXG4gICAgICAgICAgICBjaGFyLmN1cnJlbnREaXJlY3Rpb24gPVxyXG4gICAgICAgICAgICAgIGFjdHVhbFggPiAwID8gQ2hhcmFjdGVyLkRpcmVjdGlvbi5SSUdIVCA6IENoYXJhY3Rlci5EaXJlY3Rpb24uTEVGVDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYgKGFjdHVhbFkgIT09IDApXHJcbiAgICAgICAgICAgIGNoYXIuY3VycmVudERpcmVjdGlvbiA9IGFjdHVhbFkgPiAwID8gQ2hhcmFjdGVyLkRpcmVjdGlvbi5ET1dOIDogQ2hhcmFjdGVyLkRpcmVjdGlvbi5VUDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGNoYXIuaXNNb3ZpbmcgPSBtb3ZlZDtcclxuICAgIHJldHVybiB7IG1vdmVkIH07XHJcbiAgfVxyXG5cclxuICBjaGVja0NvbGxpc2lvbih0YXJnZXRYLCB0YXJnZXRZKSB7XHJcbiAgICBjb25zdCBtYXAgPSB0aGlzLmdhbWUubGV2ZWw/LmN1cnJlbnRNYXAsXHJcbiAgICAgIGNoYXIgPSB0aGlzLmdhbWUuY2hhcmFjdGVyO1xyXG4gICAgaWYgKCFtYXAgfHwgIWNoYXIpIHJldHVybiB0cnVlO1xyXG4gICAgY29uc3QgYm94ID0gY2hhci5nZXRDb2xsaXNpb25Cb3godGFyZ2V0WCwgdGFyZ2V0WSk7XHJcbiAgICBjb25zdCBwb2ludHMgPSBbXHJcbiAgICAgIHsgeDogYm94LmxlZnQsIHk6IGJveC50b3AgfSxcclxuICAgICAgeyB4OiBib3gucmlnaHQsIHk6IGJveC50b3AgfSxcclxuICAgICAgeyB4OiBib3gubGVmdCwgeTogYm94LmJvdHRvbSB9LFxyXG4gICAgICB7IHg6IGJveC5yaWdodCwgeTogYm94LmJvdHRvbSB9LFxyXG4gICAgICB7IHg6IHRhcmdldFgsIHk6IGJveC50b3AgfSxcclxuICAgICAgeyB4OiB0YXJnZXRYLCB5OiBib3guYm90dG9tIH0sXHJcbiAgICAgIHsgeDogYm94LmxlZnQsIHk6IHRhcmdldFkgKyBjaGFyLnJlbmRlclNpemUgKiBjaGFyLmNvbGxpc2lvbkJveEZlZXRPZmZzZXRSYXRpbyB9LFxyXG4gICAgICB7IHg6IGJveC5yaWdodCwgeTogdGFyZ2V0WSArIGNoYXIucmVuZGVyU2l6ZSAqIGNoYXIuY29sbGlzaW9uQm94RmVldE9mZnNldFJhdGlvIH0sXHJcbiAgICBdO1xyXG4gICAgZm9yIChjb25zdCBwIG9mIHBvaW50cykgaWYgKCFtYXAuaXNXYWxrYWJsZShwLngsIHAueSkpIHJldHVybiB0cnVlO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlSW50ZXJhY3Rpb25zKCkge1xyXG4gICAgY29uc3QgbWFwID0gdGhpcy5nYW1lLmxldmVsPy5jdXJyZW50TWFwLFxyXG4gICAgICBjaGFyID0gdGhpcy5nYW1lLmNoYXJhY3RlcjtcclxuICAgIGlmICghbWFwIHx8ICFjaGFyIHx8IHRoaXMuZ2FtZS5nYW1lU3RhdGUgIT09IEdhbWVTdGF0ZS5QTEFZSU5HKSByZXR1cm47XHJcbiAgICBjb25zdCBib29rID0gbWFwLmZpbmROZWFyYnlVbmFuc3dlcmVkQm9vayhjaGFyLngsIGNoYXIueSk7XHJcbiAgICBpZiAoYm9vaykge1xyXG4gICAgICB0aGlzLmluaXRpYXRlUXVlc3Rpb24oYm9vayk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICghdGhpcy5nYW1lLmxpZnRDb29sZG93bkFjdGl2ZSkge1xyXG4gICAgICBjb25zdCBsaWZ0ID0gbWFwLmZpbmROZWFyYnlMaWZ0KGNoYXIueCwgY2hhci55KTtcclxuICAgICAgaWYgKGxpZnQpIHRoaXMuaW5pdGlhdGVGbG9vclNlbGVjdGlvbigpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaW5pdGlhdGVRdWVzdGlvbihib29rKSB7XHJcbiAgICBpZiAodGhpcy5nYW1lLmdhbWVTdGF0ZSAhPT0gR2FtZVN0YXRlLlBMQVlJTkcpIHJldHVybjtcclxuICAgIHRoaXMuZ2FtZS5zZXRHYW1lU3RhdGUoR2FtZVN0YXRlLkFTS0lOR19RVUVTVElPTik7XHJcbiAgICBpZiAodGhpcy5nYW1lLmNoYXJhY3RlcikgdGhpcy5nYW1lLmNoYXJhY3Rlci5pc01vdmluZyA9IGZhbHNlO1xyXG4gICAgdGhpcy5nYW1lLmN1cnJlbnRCb29rVGFyZ2V0ID0gYm9vaztcclxuICAgIGlmICh0aGlzLmdhbWUuYXZhaWxhYmxlUXVlc3Rpb25zLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICB0aGlzLmdhbWUuYXZhaWxhYmxlUXVlc3Rpb25zID0gWy4uLnF1ZXN0aW9uc107XHJcbiAgICAgIGlmICh0aGlzLmdhbWUuYXZhaWxhYmxlUXVlc3Rpb25zLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIFVJTWFuYWdlci5mbGFzaE1lc3NhZ2UoJ0JyYWsgcHl0YcWEIScsICdlcnJvcicpO1xyXG4gICAgICAgIHRoaXMuZ2FtZS5zZXRHYW1lU3RhdGUoR2FtZVN0YXRlLlBMQVlJTkcpO1xyXG4gICAgICAgIHRoaXMuZ2FtZS5jdXJyZW50Qm9va1RhcmdldCA9IG51bGw7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCBxSWR4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5nYW1lLmF2YWlsYWJsZVF1ZXN0aW9ucy5sZW5ndGgpO1xyXG4gICAgdGhpcy5nYW1lLmN1cnJlbnRRdWVzdGlvbkRhdGEgPSB0aGlzLmdhbWUuYXZhaWxhYmxlUXVlc3Rpb25zLnNwbGljZShxSWR4LCAxKVswXTtcclxuICAgIFVJTWFuYWdlci5zaG93UXVlc3Rpb24odGhpcy5nYW1lLmN1cnJlbnRRdWVzdGlvbkRhdGEpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlQW5zd2VyKHNlbE9wdElkeCkge1xyXG4gICAgY29uc3QgeyBnYW1lU3RhdGUsIGN1cnJlbnRRdWVzdGlvbkRhdGEsIGN1cnJlbnRCb29rVGFyZ2V0LCBsZXZlbCB9ID0gdGhpcy5nYW1lO1xyXG4gICAgaWYgKGdhbWVTdGF0ZSAhPT0gR2FtZVN0YXRlLkFTS0lOR19RVUVTVElPTiB8fCAhY3VycmVudFF1ZXN0aW9uRGF0YSB8fCAhY3VycmVudEJvb2tUYXJnZXQpIHtcclxuICAgICAgVUlNYW5hZ2VyLmhpZGVRdWVzdGlvbigpO1xyXG4gICAgICB0aGlzLmdhbWUuY3VycmVudEJvb2tUYXJnZXQgPSBudWxsO1xyXG4gICAgICB0aGlzLmdhbWUuY3VycmVudFF1ZXN0aW9uRGF0YSA9IG51bGw7XHJcbiAgICAgIGlmICh0aGlzLmdhbWUuZ2FtZVN0YXRlICE9PSBHYW1lU3RhdGUuR0FNRV9PVkVSKSB0aGlzLmdhbWUuc2V0R2FtZVN0YXRlKEdhbWVTdGF0ZS5QTEFZSU5HKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgY29ycmVjdCA9IHNlbE9wdElkeCA9PT0gY3VycmVudFF1ZXN0aW9uRGF0YS5jb3JyZWN0QW5zd2VyO1xyXG4gICAgaWYgKGNvcnJlY3QpIHtcclxuICAgICAgVUlNYW5hZ2VyLmZsYXNoTWVzc2FnZSgnUHJhd2lkxYJvd28hJywgJ3N1Y2Nlc3MnLCAxNTAwKTtcclxuICAgICAgaWYgKGxldmVsPy5jdXJyZW50TWFwPy5tYXJrQm9va0FzQ29sbGVjdGVkKGN1cnJlbnRCb29rVGFyZ2V0KSkge1xyXG4gICAgICAgIHRoaXMuZ2FtZS50b3RhbEJvb2tzQ29sbGVjdGVkR2xvYmFsbHkrKztcclxuICAgICAgICBVSU1hbmFnZXIudXBkYXRlU2NvcmUodGhpcy5nYW1lLnRvdGFsQm9va3NDb2xsZWN0ZWRHbG9iYWxseSwgdGhpcy5nYW1lLnRhcmdldEJvb2tzVG9XaW4pO1xyXG4gICAgICAgIGlmICh0aGlzLmdhbWUudG90YWxCb29rc0NvbGxlY3RlZEdsb2JhbGx5ID49IHRoaXMuZ2FtZS50YXJnZXRCb29rc1RvV2luKSB7XHJcbiAgICAgICAgICBVSU1hbmFnZXIuaGlkZVF1ZXN0aW9uKCk7XHJcbiAgICAgICAgICB0aGlzLmdhbWUuX3NldEdhbWVPdmVyKHRydWUpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIFVJTWFuYWdlci5mbGFzaE1lc3NhZ2UoJ0LFgsSFZCB6YmllcmFuaWEhJywgJ2Vycm9yJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBVSU1hbmFnZXIuZmxhc2hNZXNzYWdlKCdOaWVwcmF3aWTFgm93YSEnLCAnZXJyb3InKTtcclxuICAgICAgdGhpcy5nYW1lLmF2YWlsYWJsZVF1ZXN0aW9ucy5wdXNoKGN1cnJlbnRRdWVzdGlvbkRhdGEpO1xyXG4gICAgfVxyXG4gICAgVUlNYW5hZ2VyLmhpZGVRdWVzdGlvbigpO1xyXG4gICAgdGhpcy5nYW1lLmN1cnJlbnRCb29rVGFyZ2V0ID0gbnVsbDtcclxuICAgIHRoaXMuZ2FtZS5jdXJyZW50UXVlc3Rpb25EYXRhID0gbnVsbDtcclxuICAgIGlmICh0aGlzLmdhbWUuZ2FtZVN0YXRlICE9PSBHYW1lU3RhdGUuR0FNRV9PVkVSKSB0aGlzLmdhbWUuc2V0R2FtZVN0YXRlKEdhbWVTdGF0ZS5QTEFZSU5HKTtcclxuICB9XHJcblxyXG4gIGluaXRpYXRlRmxvb3JTZWxlY3Rpb24oKSB7XHJcbiAgICBpZiAodGhpcy5nYW1lLmdhbWVTdGF0ZSAhPT0gR2FtZVN0YXRlLlBMQVlJTkcgfHwgdGhpcy5nYW1lLmxpZnRDb29sZG93bkFjdGl2ZSkgcmV0dXJuO1xyXG4gICAgdGhpcy5nYW1lLnNldEdhbWVTdGF0ZShHYW1lU3RhdGUuU0VMRUNUSU5HX0ZMT09SKTtcclxuICAgIGlmICh0aGlzLmdhbWUuY2hhcmFjdGVyKSB0aGlzLmdhbWUuY2hhcmFjdGVyLmlzTW92aW5nID0gZmFsc2U7XHJcbiAgICBVSU1hbmFnZXIuc2hvd0Zsb29yU2VsZWN0aW9uVUkoXHJcbiAgICAgIHRoaXMuZ2FtZS5sZXZlbC5taW5GbG9vcixcclxuICAgICAgdGhpcy5nYW1lLmxldmVsLm1heEZsb29yLFxyXG4gICAgICB0aGlzLmdhbWUubGV2ZWwuY3VycmVudEZsb29yXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlRmxvb3JTZWxlY3Rpb24oc2VsRmxvb3IpIHtcclxuICAgIGlmICh0aGlzLmdhbWUuZ2FtZVN0YXRlICE9PSBHYW1lU3RhdGUuU0VMRUNUSU5HX0ZMT09SKSB7XHJcbiAgICAgIFVJTWFuYWdlci5oaWRlRmxvb3JTZWxlY3Rpb25VSSgpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBVSU1hbmFnZXIuaGlkZUZsb29yU2VsZWN0aW9uVUkoKTtcclxuICAgIGlmIChcclxuICAgICAgc2VsRmxvb3IgPT09IHRoaXMuZ2FtZS5sZXZlbC5jdXJyZW50Rmxvb3IgfHxcclxuICAgICAgc2VsRmxvb3IgPCB0aGlzLmdhbWUubGV2ZWwubWluRmxvb3IgfHxcclxuICAgICAgc2VsRmxvb3IgPiB0aGlzLmdhbWUubGV2ZWwubWF4Rmxvb3JcclxuICAgICkge1xyXG4gICAgICB0aGlzLmdhbWUuc2V0R2FtZVN0YXRlKEdhbWVTdGF0ZS5QTEFZSU5HKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy5oYW5kbGVMaWZ0VHJhbnNpdGlvbihzZWxGbG9vcikuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICB0aGlzLmdhbWUuX2hhbmRsZUZhdGFsRXJyb3IoYELFgsSFZCBwcnplasWbY2lhOiAke2Vyci5tZXNzYWdlfWApO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBoYW5kbGVMaWZ0VHJhbnNpdGlvbih0YXJnZXRGbG9vcikge1xyXG4gICAgY29uc3QgZ2FtZSA9IHRoaXMuZ2FtZTtcclxuICAgIGNvbnN0IGlzRGVidWcgPVxyXG4gICAgICB0aGlzLmdhbWUubGV2ZWw/LmN1cnJlbnRGbG9vciA9PT0gREVCVUdfR01fRkxPT1IgfHwgdGFyZ2V0Rmxvb3IgPT09IERFQlVHX0dNX0ZMT09SO1xyXG5cclxuICAgIGlmIChpc0RlYnVnKVxyXG4gICAgICBjb25zb2xlLmxvZyhgW0dNIEYke3RhcmdldEZsb29yfSBMaWZ0VHJhbnNdIFN0YXJ0LiBDb29sZG93bjoke2dhbWUubGlmdENvb2xkb3duQWN0aXZlfWApO1xyXG4gICAgaWYgKGdhbWUubGlmdENvb2xkb3duQWN0aXZlICYmIGdhbWUuZ2FtZVN0YXRlICE9PSBHYW1lU3RhdGUuU0VMRUNUSU5HX0ZMT09SKSB7XHJcbiAgICAgIGlmIChpc0RlYnVnKVxyXG4gICAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICAgIGBbR00gRiR7dGFyZ2V0Rmxvb3J9IExpZnRUcmFuc10gQWJvcnRlZDogQ29vbGRvd24gb3IgaW52YWxpZCBzdGF0ZSAoJHtnYW1lLmdhbWVTdGF0ZX0pYFxyXG4gICAgICAgICk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmIChnYW1lLmdhbWVTdGF0ZSA9PT0gR2FtZVN0YXRlLlNFTEVDVElOR19GTE9PUikgZ2FtZS5zZXRHYW1lU3RhdGUoR2FtZVN0YXRlLlRSQU5TSVRJT05JTkcpO1xyXG4gICAgZWxzZSBpZiAoZ2FtZS5nYW1lU3RhdGUgIT09IEdhbWVTdGF0ZS5UUkFOU0lUSU9OSU5HKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICBgW0dNIEYke3RhcmdldEZsb29yfSBMaWZ0VHJhbnNdIFVuZXhwZWN0ZWQgc3RhdGUgJHtnYW1lLmdhbWVTdGF0ZX0uIEZvcmNpbmcgVFJBTlNJVElPTklORy5gXHJcbiAgICAgICk7XHJcbiAgICAgIGdhbWUuc2V0R2FtZVN0YXRlKEdhbWVTdGF0ZS5UUkFOU0lUSU9OSU5HKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZ2FtZS5jaGFyYWN0ZXIpIGdhbWUuY2hhcmFjdGVyLmlzTW92aW5nID0gZmFsc2U7XHJcbiAgICBVSU1hbmFnZXIuaGlkZVF1ZXN0aW9uKCk7XHJcbiAgICBVSU1hbmFnZXIuaGlkZUZsb29yU2VsZWN0aW9uVUkoKTtcclxuICAgIGdhbWUubGlmdENvb2xkb3duQWN0aXZlID0gdHJ1ZTtcclxuICAgIFVJTWFuYWdlci5mbGFzaE1lc3NhZ2UoYFByemVqxZtjaWUgbmEgcGnEmXRybyAke3RhcmdldEZsb29yfS4uLmAsICdpbmZvJywgTElGVF9DT09MRE9XTl9NUyAtIDIwMCk7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgZ2FtZS5sZXZlbC5sb2FkRmxvb3IodGFyZ2V0Rmxvb3IsIGdhbWUuY2FudmFzLndpZHRoLCBnYW1lLmNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICBjb25zdCBtYXBJbnN0ID0gZ2FtZS5sZXZlbC5jdXJyZW50TWFwO1xyXG4gICAgICBpZiAoIW1hcEluc3QpIHRocm93IG5ldyBFcnJvcihgTWFwIGluc3RhbmNlIG51bGwgZm9yIEYke3RhcmdldEZsb29yfS5gKTtcclxuICAgICAgY29uc3QgbGlmdERhdGEgPSBtYXBJbnN0LmdldExpZnRQb3NpdGlvbigpO1xyXG4gICAgICBpZiAoIWxpZnREYXRhKSB0aHJvdyBuZXcgRXJyb3IoYE5vIGxpZnQgcG9zIGRhdGEgb24gRiR7dGFyZ2V0Rmxvb3J9IWApO1xyXG4gICAgICBpZiAoaXNEZWJ1ZylcclxuICAgICAgICBjb25zb2xlLmxvZyhgICBbR00gRiR7dGFyZ2V0Rmxvb3J9IExpZnRUcmFuc10gTGlmdCBAKCR7bGlmdERhdGEudGlsZVh9LCR7bGlmdERhdGEudGlsZVl9KWApO1xyXG5cclxuICAgICAgbGV0IGZpbmFsU3Bhd24gPSBudWxsO1xyXG4gICAgICBjb25zdCBsaWZ0Um9vbSA9IG1hcEluc3QuZ2V0Um9vbUNvbnRhaW5pbmdUaWxlKGxpZnREYXRhLnRpbGVYLCBsaWZ0RGF0YS50aWxlWSk7XHJcblxyXG4gICAgICBpZiAobGlmdFJvb20pIHtcclxuICAgICAgICBpZiAoaXNEZWJ1ZylcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgICAgICBgICBbR00gRiR7dGFyZ2V0Rmxvb3J9IExpZnRUcmFuc10gTGlmdCBpbiByb29tICR7XHJcbiAgICAgICAgICAgICAgbGlmdFJvb20uaWQgfHwgJ04vQSdcclxuICAgICAgICAgICAgfS4gU3Bhd25pbmcgY2VudGVyLmBcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgZmluYWxTcGF3biA9IG1hcEluc3QuZ2V0Um9vbUNlbnRlcihsaWZ0Um9vbSk7XHJcbiAgICAgICAgaWYgKCFmaW5hbFNwYXduKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgICBgICBbR00gRiR7dGFyZ2V0Rmxvb3J9IExpZnRUcmFuc10gQ1JJVDogZ2V0Um9vbUNlbnRlciBudWxsIGZvciByb29tICR7XHJcbiAgICAgICAgICAgICAgbGlmdFJvb20uaWQgfHwgJ04vQSdcclxuICAgICAgICAgICAgfS4gRmFsbGJhY2suYFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGZpbmFsU3Bhd24gPSBtYXBJbnN0LmdldFNwYXduUG9pbnRJblJvb21PZkxpZnQobGlmdERhdGEudGlsZVgsIGxpZnREYXRhLnRpbGVZLCAxKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgIGAgIFtHTSBGJHt0YXJnZXRGbG9vcn0gTGlmdFRyYW5zXSBDUklUOiBMaWZ0IEAoJHtsaWZ0RGF0YS50aWxlWH0sJHtsaWZ0RGF0YS50aWxlWX0pIE5PVCBpbiBhbnkgcm9vbSEgRmFsbGJhY2sgbmVhciBsaWZ0LmBcclxuICAgICAgICApO1xyXG4gICAgICAgIGZpbmFsU3Bhd24gPVxyXG4gICAgICAgICAgbWFwSW5zdC5nZXRTcGF3blBvaW50SW5Sb29tT2ZMaWZ0KGxpZnREYXRhLnRpbGVYLCBsaWZ0RGF0YS50aWxlWSwgMSkgfHxcclxuICAgICAgICAgIG1hcEluc3QuZmluZE5lYXJlc3RXYWxrYWJsZVRpbGUobGlmdERhdGEueCwgbGlmdERhdGEueSwgMywgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICghZmluYWxTcGF3bikgZmluYWxTcGF3biA9IHsgeDogbGlmdERhdGEueCwgeTogbGlmdERhdGEueSB9OyAvLyBMYXN0IHJlc29ydDogbGlmdCB0aWxlIGl0c2VsZlxyXG4gICAgICBpZiAoIWZpbmFsU3Bhd24pIHRocm93IG5ldyBFcnJvcihgUEFOSUM6IE5vIHNwYXduIHBvcyBmb3IgRiR7dGFyZ2V0Rmxvb3J9LmApO1xyXG5cclxuICAgICAgZ2FtZS5jaGFyYWN0ZXIueCA9IGZpbmFsU3Bhd24ueDtcclxuICAgICAgZ2FtZS5jaGFyYWN0ZXIueSA9IGZpbmFsU3Bhd24ueTtcclxuICAgICAgaWYgKGlzRGVidWcpXHJcbiAgICAgICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgICBgICBbR00gRiR7dGFyZ2V0Rmxvb3J9IExpZnRUcmFuc10gSW5pdGlhbCBsYW5kIChwcmUtbnVkZ2UpOigke2dhbWUuY2hhcmFjdGVyLngudG9GaXhlZChcclxuICAgICAgICAgICAgMVxyXG4gICAgICAgICAgKX0sJHtnYW1lLmNoYXJhY3Rlci55LnRvRml4ZWQoMSl9KWBcclxuICAgICAgICApO1xyXG4gICAgICBnYW1lLmNoYXJhY3Rlci5jdXJyZW50RGlyZWN0aW9uID0gQ2hhcmFjdGVyLkRpcmVjdGlvbi5ET1dOO1xyXG4gICAgICBnYW1lLmNoYXJhY3Rlci5pc01vdmluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgdGhpcy5lbnN1cmVDaGFyYWN0ZXJJc09uV2Fsa2FibGVUaWxlKGZhbHNlKTsgLy8gYWxsb3dTdGFuZGluZ09uTGlmdD1mYWxzZVxyXG4gICAgICBpZiAoaXNEZWJ1ZylcclxuICAgICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICAgIGAgIFtHTSBGJHt0YXJnZXRGbG9vcn0gTGlmdFRyYW5zXSBGaW5hbCBwb3MgKHBvc3QtbnVkZ2UpOigke2dhbWUuY2hhcmFjdGVyLngudG9GaXhlZChcclxuICAgICAgICAgICAgMVxyXG4gICAgICAgICAgKX0sJHtnYW1lLmNoYXJhY3Rlci55LnRvRml4ZWQoMSl9KWBcclxuICAgICAgICApO1xyXG5cclxuICAgICAgZ2FtZS5yZW5kZXJlcj8uY2VudGVyQ2FtZXJhT25DaGFyYWN0ZXIoKTtcclxuICAgICAgZ2FtZS5zdGFydExpZnRDb29sZG93blRpbWVyKCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBbR00gRiR7dGFyZ2V0Rmxvb3J9IExpZnRUcmFuc10gRXJyb3I6YCwgZXJyb3IpO1xyXG4gICAgICBnYW1lLmxpZnRDb29sZG93bkFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgZ2FtZS5nYW1lU3RhdGUgPT09IEdhbWVTdGF0ZS5UUkFOU0lUSU9OSU5HIHx8XHJcbiAgICAgICAgZ2FtZS5nYW1lU3RhdGUgPT09IEdhbWVTdGF0ZS5TRUxFQ1RJTkdfRkxPT1JcclxuICAgICAgKVxyXG4gICAgICAgIGdhbWUuc2V0R2FtZVN0YXRlKEdhbWVTdGF0ZS5QTEFZSU5HKTtcclxuICAgICAgdGhpcy5nYW1lLl9oYW5kbGVGYXRhbEVycm9yKGBUcmFuc2l0aW9uIGVycm9yIHRvIEYke3RhcmdldEZsb29yfTogJHtlcnJvci5tZXNzYWdlIHx8IGVycm9yfWApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZW5zdXJlQ2hhcmFjdGVySXNPbldhbGthYmxlVGlsZShhbGxvd1N0YW5kaW5nT25MaWZ0ID0gZmFsc2UpIHtcclxuICAgIGNvbnN0IGNoYXIgPSB0aGlzLmdhbWUuY2hhcmFjdGVyLFxyXG4gICAgICBtYXAgPSB0aGlzLmdhbWUubGV2ZWw/LmN1cnJlbnRNYXA7XHJcbiAgICBpZiAoIWNoYXIgfHwgIW1hcCkgcmV0dXJuO1xyXG4gICAgY29uc3QgY1RYID0gTWF0aC5mbG9vcihjaGFyLnggLyBtYXAudGlsZVNpemUpLFxyXG4gICAgICBjVFkgPSBNYXRoLmZsb29yKGNoYXIueSAvIG1hcC50aWxlU2l6ZSk7XHJcbiAgICBjb25zdCBjVFYgPVxyXG4gICAgICBjVFggPj0gMCAmJiBjVFggPCBtYXAuY29scyAmJiBjVFkgPj0gMCAmJiBjVFkgPCBtYXAucm93cyA/IG1hcC5tYXBbY1RZXT8uW2NUWF0gOiBUSUxFX1dBTEw7XHJcbiAgICBjb25zdCBjZW50ZXJXYWxrYWJsZSA9IG1hcC5pc1dhbGthYmxlKGNoYXIueCwgY2hhci55KSxcclxuICAgICAgaXNMaWZ0ID0gY1RWID09PSBUSUxFX0xJRlQ7XHJcbiAgICBjb25zdCBzYWZlU3RhbmQgPSBjZW50ZXJXYWxrYWJsZSAmJiAoIWlzTGlmdCB8fCBhbGxvd1N0YW5kaW5nT25MaWZ0KTtcclxuICAgIGNvbnN0IGNvbGxpZGluZ1dhbGwgPSB0aGlzLmNoZWNrQ29sbGlzaW9uKGNoYXIueCwgY2hhci55KTtcclxuICAgIGNvbnN0IG5lZWRzTnVkZ2UgPSBjb2xsaWRpbmdXYWxsIHx8ICFzYWZlU3RhbmQ7XHJcbiAgICBjb25zdCBpc0RlYnVnID0gdGhpcy5nYW1lLmxldmVsPy5jdXJyZW50Rmxvb3IgPT09IERFQlVHX0dNX0ZMT09SO1xyXG5cclxuICAgIGlmIChuZWVkc051ZGdlKSB7XHJcbiAgICAgIGlmIChpc0RlYnVnKVxyXG4gICAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICAgIGBbR00gRiR7dGhpcy5nYW1lLmxldmVsLmN1cnJlbnRGbG9vcn0gQW50aVN0dWNrXSBDaGFyQCgke2NoYXIueC50b0ZpeGVkKFxyXG4gICAgICAgICAgICAxXHJcbiAgICAgICAgICApfSwke2NoYXIueS50b0ZpeGVkKFxyXG4gICAgICAgICAgICAxXHJcbiAgICAgICAgICApfSkgdGlsZSAke2NUVn0oJHtjVFh9LCR7Y1RZfSkgbmVlZHMgbnVkZ2UuIENvbGxpZGU6JHtjb2xsaWRpbmdXYWxsfSxTYWZlU3RhbmQ6JHtzYWZlU3RhbmR9KGFsbG93TGlmdDoke2FsbG93U3RhbmRpbmdPbkxpZnR9KWBcclxuICAgICAgICApO1xyXG4gICAgICBsZXQgc2FmZVNwb3QgPSBtYXAuZmluZE5lYXJlc3RXYWxrYWJsZVRpbGUoY2hhci54LCBjaGFyLnksIDgsIHRydWUsIHRydWUpO1xyXG4gICAgICBpZiAoIXNhZmVTcG90KSB7XHJcbiAgICAgICAgaWYgKGlzRGVidWcpXHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oYCAgW0FudGlTdHVja10gSW5pdGlhbCAoYXZvaWROYXJyb3cpIGZhaWxlZC4gUmV0cnlpbmcgYWxsb3dOYXJyb3cuLi5gKTtcclxuICAgICAgICBzYWZlU3BvdCA9IG1hcC5maW5kTmVhcmVzdFdhbGthYmxlVGlsZShjaGFyLngsIGNoYXIueSwgOCwgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICghc2FmZVNwb3QgJiYgaXNMaWZ0ICYmICFhbGxvd1N0YW5kaW5nT25MaWZ0KSB7XHJcbiAgICAgICAgaWYgKGlzRGVidWcpXHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oYCAgW0FudGlTdHVja10gQWxsb3dOYXJyb3cgZmFpbGVkLiBUcnlpbmcgYW55IHNwb3QgaW5jbC4gbGlmdC4uLmApO1xyXG4gICAgICAgIHNhZmVTcG90ID0gbWFwLmZpbmROZWFyZXN0V2Fsa2FibGVUaWxlKGNoYXIueCwgY2hhci55LCAzLCBmYWxzZSwgZmFsc2UpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChzYWZlU3BvdCkge1xyXG4gICAgICAgIGlmIChpc0RlYnVnKVxyXG4gICAgICAgICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgICAgIGAgIFtBbnRpU3R1Y2tdIE51ZGdpbmcgdG8gc2FmZTooJHtzYWZlU3BvdC54LnRvRml4ZWQoMSl9LCR7c2FmZVNwb3QueS50b0ZpeGVkKDEpfSlgXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIGNoYXIueCA9IHNhZmVTcG90Lng7XHJcbiAgICAgICAgY2hhci55ID0gc2FmZVNwb3QueTtcclxuICAgICAgICB0aGlzLmdhbWUucmVuZGVyZXI/LmNlbnRlckNhbWVyYU9uQ2hhcmFjdGVyKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKGlzRGVidWcpIGNvbnNvbGUuZXJyb3IoYCAgW0FudGlTdHVja10gQ1JJVDogTm8gc2FmZSBudWRnZSBzcG90LiBSYW5kb20gbWFwIHNwYXduLi4uYCk7XHJcbiAgICAgICAgY29uc3QgZW1lcmdlbmN5ID0gbWFwLmZpbmRSYW5kb21Jbml0aWFsU3Bhd25Qb3NpdGlvbigpO1xyXG4gICAgICAgIGlmIChlbWVyZ2VuY3kpIHtcclxuICAgICAgICAgIGlmIChpc0RlYnVnKVxyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICAgICAgYCAgW0FudGlTdHVja10gRW1lcmdlbmN5IHJhbmRvbTooJHtlbWVyZ2VuY3kueC50b0ZpeGVkKDEpfSwke2VtZXJnZW5jeS55LnRvRml4ZWQoMSl9KWBcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIGNoYXIueCA9IGVtZXJnZW5jeS54O1xyXG4gICAgICAgICAgY2hhci55ID0gZW1lcmdlbmN5Lnk7XHJcbiAgICAgICAgICB0aGlzLmdhbWUucmVuZGVyZXI/LmNlbnRlckNhbWVyYU9uQ2hhcmFjdGVyKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGlmIChpc0RlYnVnKSBjb25zb2xlLmVycm9yKCcgIFtBbnRpU3R1Y2tdIEVWRU4gUkFORE9NIFNQQVdOIEZBSUxFRCEgVW5yZWNvdmVyYWJsZS4nKTtcclxuICAgICAgICAgIHRoaXMuZ2FtZS5faGFuZGxlRmF0YWxFcnJvcignQW50aS1TdHVjayBzeXN0ZW0gZmFpbGVkOiBObyBzcGF3bmFibGUgdGlsZXMgZm91bmQuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIi8vIHNyYy9hdWRpby9BdWRpb01hbmFnZXIuanNcclxuXHJcbmltcG9ydCB0cmFjazFTcmMgZnJvbSAnLi4vLi4vYXNzZXRzL2F1ZGlvL2JhY2sxLm1wMyc7IC8vINCf0YDQuNC80LXRgCDQv9GD0YLQuCwg0L3QsNGB0YLRgNC+0LnRgtC1INC/0L7QtCDQstCw0YjRgyDRgdGC0YDRg9C60YLRg9GA0YNcclxuaW1wb3J0IHRyYWNrMlNyYyBmcm9tICcuLi8uLi9hc3NldHMvYXVkaW8vYmFjazIubXAzJztcclxuaW1wb3J0IHRyYWNrM1NyYyBmcm9tICcuLi8uLi9hc3NldHMvYXVkaW8vYmFjazMubXAzJztcclxuXHJcbmNvbnN0IERFRkFVTFRfTVVTSUNfVk9MVU1FID0gMC41O1xyXG5cclxuLy8g0JjRgdC/0L7Qu9GM0LfRg9C10Lwg0LjQvNC/0L7RgNGC0LjRgNC+0LLQsNC90L3Ri9C1INC40YHRhdC+0LTQvdC40LrQuFxyXG5jb25zdCBNVVNJQ19TT1VSQ0VTID0ge1xyXG4gIC8vINCf0LXRgNC10LjQvNC10L3QvtCy0LDQvdC+INC00LvRjyDRj9GB0L3QvtGB0YLQuFxyXG4gIHRyYWNrMTogdHJhY2sxU3JjLFxyXG4gIHRyYWNrMjogdHJhY2syU3JjLFxyXG4gIHRyYWNrMzogdHJhY2szU3JjLFxyXG59O1xyXG5cclxuLy8g0J/QvtGA0Y/QtNC+0LosINCyINC60L7RgtC+0YDQvtC8INGC0YDQtdC60Lgg0LHRg9C00YPRgiDQvNC10L3Rj9GC0YzRgdGPICjQvNC+0LbQvdC+INC40LfQvNC10L3QuNGC0Ywg0L3QsCDQtNGA0YPQs9GD0Y4g0LvQvtCz0LjQutGDKVxyXG5jb25zdCBUUkFDS19DWUNMRV9PUkRFUiA9IFsndHJhY2sxJywgJ3RyYWNrMicsICd0cmFjazMnXTtcclxuXHJcbmV4cG9ydCBjbGFzcyBBdWRpb01hbmFnZXIge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5tdXNpY1ZvbHVtZSA9IERFRkFVTFRfTVVTSUNfVk9MVU1FO1xyXG4gICAgdGhpcy5jdXJyZW50TXVzaWNFbGVtZW50ID0gbnVsbDtcclxuICAgIHRoaXMuY3VycmVudFRyYWNrS2V5ID0gbnVsbDtcclxuICAgIHRoaXMuaXNNdXNpY1BsYXlpbmcgPSBmYWxzZTtcclxuXHJcbiAgICBjb25zdCBzYXZlZFZvbHVtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdtdXNpY1ZvbHVtZScpO1xyXG4gICAgaWYgKHNhdmVkVm9sdW1lICE9PSBudWxsKSB7XHJcbiAgICAgIHRoaXMubXVzaWNWb2x1bWUgPSBwYXJzZUZsb2F0KHNhdmVkVm9sdW1lKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmF1ZGlvRWxlbWVudHMgPSB7fTtcclxuICAgIHRoaXMuX3ByZWxvYWRUcmFja3MoKTtcclxuICB9XHJcblxyXG4gIF9wcmVsb2FkVHJhY2tzKCkge1xyXG4gICAgY29uc29sZS5sb2coJ1tBdWRpb01hbmFnZXJdIFByZWxvYWRpbmcgdHJhY2tzIGZyb20gaW1wb3J0ZWQgc291cmNlcy4uLicpO1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gTVVTSUNfU09VUkNFUykge1xyXG4gICAgICBpZiAoTVVTSUNfU09VUkNFUy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgY29uc3QgYXVkaW9QYXRoID0gTVVTSUNfU09VUkNFU1trZXldOyAvLyDQmNGB0L/QvtC70YzQt9GD0LXQvCDQuNC80L/QvtGA0YLQuNGA0L7QstCw0L3QvdGL0Lkg0L/Rg9GC0YxcclxuICAgICAgICBjb25zdCBhdWRpbyA9IG5ldyBBdWRpbyhhdWRpb1BhdGgpO1xyXG4gICAgICAgIGF1ZGlvLnByZWxvYWQgPSAnYXV0byc7XHJcbiAgICAgICAgdGhpcy5hdWRpb0VsZW1lbnRzW2tleV0gPSBhdWRpbztcclxuICAgICAgICBjb25zb2xlLmxvZyhgICBQcmVsb2FkZWQgJHtrZXl9IGZyb20gJHthdWRpb1BhdGh9YCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldE11c2ljVm9sdW1lKHZvbHVtZSkge1xyXG4gICAgdGhpcy5tdXNpY1ZvbHVtZSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHZvbHVtZSkpOyAvLyDQntCz0YDQsNC90LjRh9C40LLQsNC10Lwg0L7RgiAwINC00L4gMVxyXG4gICAgaWYgKHRoaXMuY3VycmVudE11c2ljRWxlbWVudCkge1xyXG4gICAgICB0aGlzLmN1cnJlbnRNdXNpY0VsZW1lbnQudm9sdW1lID0gdGhpcy5tdXNpY1ZvbHVtZTtcclxuICAgIH1cclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdtdXNpY1ZvbHVtZScsIHRoaXMubXVzaWNWb2x1bWUudG9TdHJpbmcoKSk7IC8vINCh0L7RhdGA0LDQvdGP0LXQvCDQs9GA0L7QvNC60L7RgdGC0YxcclxuICAgIGNvbnNvbGUubG9nKGBbQXVkaW9NYW5hZ2VyXSBNdXNpYyB2b2x1bWUgc2V0IHRvOiAke3RoaXMubXVzaWNWb2x1bWV9YCk7XHJcbiAgfVxyXG5cclxuICBnZXRNdXNpY1ZvbHVtZSgpIHtcclxuICAgIHJldHVybiB0aGlzLm11c2ljVm9sdW1lO1xyXG4gIH1cclxuXHJcbiAgcGxheU11c2ljKHRyYWNrS2V5LCBsb29wID0gdHJ1ZSkge1xyXG4gICAgaWYgKCF0aGlzLmF1ZGlvRWxlbWVudHNbdHJhY2tLZXldKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihgW0F1ZGlvTWFuYWdlcl0gVHJhY2sgXCIke3RyYWNrS2V5fVwiIG5vdCBmb3VuZCBvciBub3QgcHJlbG9hZGVkLmApO1xyXG4gICAgICBpZiAoTVVTSUNfU09VUkNFU1t0cmFja0tleV0pIHtcclxuICAgICAgICAvLyDQn9GA0L7QstC10YDRj9C10Lwg0L3QsNC70LjRh9C40LUg0LIgTVVTSUNfU09VUkNFU1xyXG4gICAgICAgIHRoaXMuYXVkaW9FbGVtZW50c1t0cmFja0tleV0gPSBuZXcgQXVkaW8oTVVTSUNfU09VUkNFU1t0cmFja0tleV0pOyAvLyDQmNGB0L/QvtC70YzQt9GD0LXQvCDQuNC80L/QvtGA0YLQuNGA0L7QstCw0L3QvdGL0Lkg0L/Rg9GC0YxcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgYFtBdWRpb01hbmFnZXJdIFNvdXJjZSBmb3IgdHJhY2sgXCIke3RyYWNrS2V5fVwiIG5vdCBkZWZpbmVkIGluIE1VU0lDX1NPVVJDRVMuYFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuaXNNdXNpY1BsYXlpbmcgJiYgdGhpcy5jdXJyZW50VHJhY2tLZXkgPT09IHRyYWNrS2V5KSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuc3RvcE11c2ljKCk7XHJcblxyXG4gICAgdGhpcy5jdXJyZW50TXVzaWNFbGVtZW50ID0gdGhpcy5hdWRpb0VsZW1lbnRzW3RyYWNrS2V5XTtcclxuICAgIHRoaXMuY3VycmVudE11c2ljRWxlbWVudC52b2x1bWUgPSB0aGlzLm11c2ljVm9sdW1lO1xyXG4gICAgdGhpcy5jdXJyZW50TXVzaWNFbGVtZW50Lmxvb3AgPSBsb29wO1xyXG4gICAgdGhpcy5jdXJyZW50VHJhY2tLZXkgPSB0cmFja0tleTtcclxuXHJcbiAgICB0aGlzLmN1cnJlbnRNdXNpY0VsZW1lbnRcclxuICAgICAgLnBsYXkoKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5pc011c2ljUGxheWluZyA9IHRydWU7XHJcbiAgICAgICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgICBgW0F1ZGlvTWFuYWdlcl0gUGxheWluZyBtdXNpYzogJHt0cmFja0tleX0gKFZvbHVtZTogJHt0aGlzLmN1cnJlbnRNdXNpY0VsZW1lbnQudm9sdW1lfSlgXHJcbiAgICAgICAgKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFtBdWRpb01hbmFnZXJdIEVycm9yIHBsYXlpbmcgXCIke3RyYWNrS2V5fVwiOmAsIGVycm9yKTtcclxuICAgICAgICAvLyDQlNC+0LHQsNCy0YzRgtC1INCx0L7Qu9GM0YjQtSDQtNC10YLQsNC70LXQuSDQtNC70Y8g0L7RgtC70LDQtNC60Lgg0L/QvtC70LjRgtC40LrQuCDQsNCy0YLQvtCy0L7RgdC/0YDQvtC40LfQstC10LTQtdC90LjRj1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgICBgICBQbGF5YmFjayBmYWlsdXJlIGRldGFpbHM6IHVzZXJJbnRlcmFjdGVkIChjaGVjayBNZW51LmpzKSwgZG9jdW1lbnQuaGFzRm9jdXMoKTogJHtkb2N1bWVudC5oYXNGb2N1cygpfWBcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuaXNNdXNpY1BsYXlpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRNdXNpY0VsZW1lbnQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFRyYWNrS2V5ID0gbnVsbDtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBzdG9wTXVzaWMoKSB7XHJcbiAgICBpZiAodGhpcy5jdXJyZW50TXVzaWNFbGVtZW50KSB7XHJcbiAgICAgIHRoaXMuY3VycmVudE11c2ljRWxlbWVudC5wYXVzZSgpO1xyXG4gICAgICB0aGlzLmN1cnJlbnRNdXNpY0VsZW1lbnQuY3VycmVudFRpbWUgPSAwOyAvLyDQodCx0YDQvtGBINC90LAg0L3QsNGH0LDQu9C+XHJcbiAgICAgIHRoaXMuaXNNdXNpY1BsYXlpbmcgPSBmYWxzZTtcclxuICAgICAgY29uc29sZS5sb2coYFtBdWRpb01hbmFnZXJdIFN0b3BwZWQgbXVzaWM6ICR7dGhpcy5jdXJyZW50VHJhY2tLZXl9YCk7XHJcbiAgICAgIC8vINCd0LUg0L7Rh9C40YnQsNC10LwgY3VycmVudE11c2ljRWxlbWVudCDQuCBjdXJyZW50VHJhY2tLZXkg0LfQtNC10YHRjCDQv9C+0LvQvdC+0YHRgtGM0Y4sXHJcbiAgICAgIC8vINGH0YLQvtCx0Ysg0LzQvtC20L3QviDQsdGL0LvQviDQstC+0LfQvtCx0L3QvtCy0LjRgtGMLCDQtdGB0LvQuCDQvdGD0LbQvdC+LCDQvdC+INC00LvRjyDRgdC80LXQvdGLINGC0YDQtdC60LAg0Y3RgtC+INCe0JouXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDQktGL0LfRi9Cy0LDQtdGC0YHRjyDQv9GA0Lgg0YHQvNC10L3QtSDRjdGC0LDQttCwXHJcbiAgY2hhbmdlVHJhY2tGb3JGbG9vcihmbG9vck51bWJlcikge1xyXG4gICAgLy8g0J/RgNC+0YHRgtC+INGG0LjQutC70LjRh9C10YHQutC4INC80LXQvdGP0LXQvCDRgtGA0LXQutC4LiDQrdGC0LDQttC4INC+0LHRi9GH0L3QviAxLdC40L3QtNC10LrRgdC40YDQvtCy0LDQvdC90YvQtS5cclxuICAgIC8vIGZsb29yTnVtYmVyINC80L7QttC10YIg0LHRi9GC0Ywg0LvRjtCx0YvQvCwg0L/QvtGN0YLQvtC80YMg0LHQtdGA0LXQvCDQv9C+INC80L7QtNGD0LvRji5cclxuICAgIC8vINCY0YHQv9C+0LvRjNC30YPQtdC8IChmbG9vck51bWJlciAtIDEpINC10YHQu9C4INCy0LDRiNC4INGN0YLQsNC20Lgg0L3QsNGH0LjQvdCw0Y7RgtGB0Y8g0YEgMSwg0YfRgtC+0LHRiyDQuNC90LTQtdC60YEg0LHRi9C7INGBIDAuXHJcbiAgICAvLyDQldGB0LvQuCDRjdGC0LDQttC4INC80L7Qs9GD0YIg0LHRi9GC0YwgMCDQuNC70Lgg0L7RgtGA0LjRhtCw0YLQtdC70YzQvdGL0LzQuCwg0L3Rg9C20L3QsCDQtNGA0YPQs9Cw0Y8g0LvQvtCz0LjQutCwLlxyXG4gICAgLy8g0J/RgNC10LTQv9C+0LvQvtC20LjQvCwg0Y3RgtCw0LbQuCA+IDAuXHJcbiAgICBjb25zdCBhZGp1c3RlZEZsb29ySW5kZXggPSBNYXRoLm1heCgwLCBmbG9vck51bWJlciAtIDEpO1xyXG4gICAgY29uc3QgdHJhY2tJbmRleCA9IGFkanVzdGVkRmxvb3JJbmRleCAlIFRSQUNLX0NZQ0xFX09SREVSLmxlbmd0aDtcclxuICAgIGNvbnN0IG5ld1RyYWNrS2V5ID0gVFJBQ0tfQ1lDTEVfT1JERVJbdHJhY2tJbmRleF07XHJcblxyXG4gICAgaWYgKG5ld1RyYWNrS2V5KSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGBbQXVkaW9NYW5hZ2VyXSBGbG9vciAke2Zsb29yTnVtYmVyfSAtPiBNdXNpYyB0cmFjazogJHtuZXdUcmFja0tleX1gKTtcclxuICAgICAgdGhpcy5wbGF5TXVzaWMobmV3VHJhY2tLZXkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS53YXJuKGBbQXVkaW9NYW5hZ2VyXSBObyB0cmFjayBmb3VuZCBmb3IgZmxvb3IgaW5kZXggJHt0cmFja0luZGV4fS5gKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vINCc0LXRgtC+0LQg0LTQu9GPINC/0LXRgNCy0L7QvdCw0YfQsNC70YzQvdC+0LPQviDQt9Cw0L/Rg9GB0LrQsCDQvNGD0LfRi9C60LgsINC90LDQv9GA0LjQvNC10YAsINC/0YDQuCDRgdGC0LDRgNGC0LUg0LjQs9GA0YtcclxuICBzdGFydEluaXRpYWxNdXNpYyhpbml0aWFsRmxvb3IgPSAxKSB7XHJcbiAgICAvLyDQo9Cx0LXQtNC40LzRgdGPLCDRh9GC0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GMINCy0LfQsNC40LzQvtC00LXQudGB0YLQstC+0LLQsNC7INGB0L4g0YHRgtGA0LDQvdC40YbQtdC5LFxyXG4gICAgLy8g0L/RgNC10LbQtNC1INGH0LXQvCDQv9GL0YLQsNGC0YzRgdGPINCy0L7RgdC/0YDQvtC40LfQstC10YHRgtC4INC30LLRg9C6ICjQsdGA0LDRg9C30LXRgNGLINCx0LvQvtC60LjRgNGD0Y7RgiDQsNCy0YLQvtCy0L7RgdC/0YDQvtC40LfQstC10LTQtdC90LjQtSkuXHJcbiAgICAvLyDQrdGC0L7RgiDQvNC10YLQvtC0INC00L7Qu9C20LXQvSDQstGL0LfRi9Cy0LDRgtGM0YHRjyDQv9C+0YHQu9C1INC60LvQuNC60LAgXCJQbGF5XCIg0LIg0LPQu9Cw0LLQvdC+0Lwg0LzQtdC90Y4uXHJcbiAgICBjb25zb2xlLmxvZygnW0F1ZGlvTWFuYWdlcl0gQXR0ZW1wdGluZyB0byBzdGFydCBpbml0aWFsIG11c2ljLi4uJyk7XHJcbiAgICB0aGlzLmNoYW5nZVRyYWNrRm9yRmxvb3IoaW5pdGlhbEZsb29yKTtcclxuICB9XHJcbn1cclxuIiwiLy8gc3JjL2NvcmUvR2FtZS5qc1xyXG5pbXBvcnQgeyBJbnB1dE1hbmFnZXIgfSBmcm9tICcuL0lucHV0TWFuYWdlci5qcyc7XHJcbmltcG9ydCB7IFVJTWFuYWdlciB9IGZyb20gJy4uL1VJL1VJTWFuYWdlci5qcyc7XHJcbmltcG9ydCB7IENoYXJhY3RlciB9IGZyb20gJy4vQ2hhcmFjdGVyLmpzJztcclxuaW1wb3J0IHsgTGV2ZWwgfSBmcm9tICcuL0xldmVsLmpzJztcclxuaW1wb3J0IHsgR2FtZVN0YXRlLCBxdWVzdGlvbnMsIFRBUkdFVF9CT09LU19UT19XSU4sIExJRlRfQ09PTERPV05fTVMgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xyXG5pbXBvcnQgeyBHYW1lUmVuZGVyZXIgfSBmcm9tICcuL0dhbWVSZW5kZXJlci5qcyc7XHJcbmltcG9ydCB7IEdhbWVwbGF5TWFuYWdlciB9IGZyb20gJy4vR2FtZXBsYXlNYW5hZ2VyLmpzJztcclxuaW1wb3J0IHsgQXVkaW9NYW5hZ2VyIH0gZnJvbSAnLi4vYXVkaW8vQXVkaW9NYW5hZ2VyLmpzJztcclxuXHJcbi8vINCY0LzQv9C+0YDRgtGLINGB0L/RgNCw0LnRgtC+0LIgKNGD0LHQtdC00LjRgdGMLCDRh9GC0L4g0L/Rg9GC0Lgg0LrQvtGA0YDQtdC60YLQvdGLKVxyXG5pbXBvcnQgcmVkU3ByaXRlUGF0aCBmcm9tICcuLi8uLi9hc3NldHMvaW1hZ2VzL2NoYXJhY3Rlcl9yZWQucG5nJztcclxuaW1wb3J0IGJsdWVTcHJpdGVQYXRoIGZyb20gJy4uLy4uL2Fzc2V0cy9pbWFnZXMvY2hhcmFjdGVyX2JsdWUucG5nJztcclxuaW1wb3J0IHllbGxvd1Nwcml0ZVBhdGggZnJvbSAnLi4vLi4vYXNzZXRzL2ltYWdlcy9jaGFyYWN0ZXJfeWVsbG93LnBuZyc7XHJcbmltcG9ydCBncmVlblNwcml0ZVBhdGggZnJvbSAnLi4vLi4vYXNzZXRzL2ltYWdlcy9jaGFyYWN0ZXJfZ3JlZW4ucG5nJztcclxuaW1wb3J0IGJvb2tTcHJpdGVJbWFnZSBmcm9tICcuLi8uLi9hc3NldHMvaW1hZ2VzL2Jvb2sucG5nJztcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lIHtcclxuICBzdGF0aWMgQ1JFQVRPUl9OQU1FUyA9IFsnUmFmYcWCJywgJ0RpbWEnLCAnVmVuaWEnLCAnS2FjcGVyJ107XHJcbiAgc3RhdGljIENMQVNTX0FUVEVORElOR19JTkZPID0gJ0tsYXNhIDJQMlQgLyBQcm9qZWt0b3dhbmllIHN0cm9uIGludGVybmV0b3d5Y2gnO1xyXG5cclxuICBjb25zdHJ1Y3RvcihjaGFyYWN0ZXJDb2xvcikge1xyXG4gICAgY29uc29sZS5sb2coYFtHYW1lXSBJbml0aWFsaXppbmcgd2l0aCBjaGFyYWN0ZXI6ICR7Y2hhcmFjdGVyQ29sb3J9YCk7XHJcbiAgICBpZiAoIWNoYXJhY3RlckNvbG9yKSB7XHJcbiAgICAgIGNvbnN0IGVycm9yTXNnID0gJ1tHYW1lXSBDUklUSUNBTDogR2FtZSBpbml0aWFsaXplZCB3aXRob3V0IGEgY2hhcmFjdGVyQ29sb3IhJztcclxuICAgICAgY29uc29sZS5lcnJvcihlcnJvck1zZyk7XHJcbiAgICAgIGFsZXJ0KCdHYW1lIGNhbm5vdCBzdGFydDogbm8gY2hhcmFjdGVyIHdhcyBzZWxlY3RlZC4nKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTXNnKTtcclxuICAgIH1cclxuICAgIHRoaXMuY2hhcmFjdGVyQ29sb3IgPSBjaGFyYWN0ZXJDb2xvcjtcclxuICAgIHRoaXMuX2dhbWVTdGF0ZSA9IEdhbWVTdGF0ZS5JRExFO1xyXG4gICAgdGhpcy5pc1J1bm5pbmcgPSBmYWxzZTtcclxuXHJcbiAgICB0aGlzLnRvdGFsQm9va3NDb2xsZWN0ZWRHbG9iYWxseSA9IDA7XHJcbiAgICB0aGlzLnRhcmdldEJvb2tzVG9XaW4gPSBUQVJHRVRfQk9PS1NfVE9fV0lOO1xyXG4gICAgdGhpcy5hdmFpbGFibGVRdWVzdGlvbnMgPSBbXTtcclxuICAgIHRoaXMuY3VycmVudEJvb2tUYXJnZXQgPSBudWxsO1xyXG4gICAgdGhpcy5jdXJyZW50UXVlc3Rpb25EYXRhID0gbnVsbDtcclxuICAgIHRoaXMubGlmdENvb2xkb3duQWN0aXZlID0gZmFsc2U7XHJcbiAgICB0aGlzLmxpZnRDb29sZG93blRpbWVyID0gbnVsbDtcclxuICAgIHRoaXMuY2FudmFzID0gbnVsbDtcclxuICAgIHRoaXMuY3R4ID0gbnVsbDtcclxuICAgIHRoaXMuY2hhcmFjdGVyID0gbnVsbDtcclxuICAgIHRoaXMubGV2ZWwgPSBudWxsO1xyXG4gICAgdGhpcy5pbnB1dE1hbmFnZXIgPSBudWxsO1xyXG4gICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XHJcbiAgICB0aGlzLmdhbWVwbGF5TWFuYWdlciA9IG51bGw7XHJcbiAgICB0aGlzLmF1ZGlvTWFuYWdlciA9IG51bGw7XHJcbiAgICB0aGlzLnNwcml0ZXMgPSB7XHJcbiAgICAgIHJlZDogcmVkU3ByaXRlUGF0aCxcclxuICAgICAgYmx1ZTogYmx1ZVNwcml0ZVBhdGgsXHJcbiAgICAgIHllbGxvdzogeWVsbG93U3ByaXRlUGF0aCxcclxuICAgICAgZ3JlZW46IGdyZWVuU3ByaXRlUGF0aCxcclxuICAgIH07XHJcbiAgICB0aGlzLmJvb2tJbWFnZSA9IG51bGw7XHJcbiAgICB0aGlzLmdhbWVMb29wID0gdGhpcy5nYW1lTG9vcC5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5faGFuZGxlRmF0YWxFcnJvciA9IHRoaXMuX2hhbmRsZUZhdGFsRXJyb3IuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuX2JvdW5kS2V5RG93bkhhbmRsZXIgPSBudWxsO1xyXG4gICAgdGhpcy5fYm91bmRLZXlVcEhhbmRsZXIgPSBudWxsO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIHRoaXMuX2luaXRpYWxpemVDb3JlQ29tcG9uZW50cygpO1xyXG5cclxuICAgICAgdGhpcy5hdWRpb01hbmFnZXIgPSBuZXcgQXVkaW9NYW5hZ2VyKCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdbR2FtZV0gQXVkaW9NYW5hZ2VyIGNyZWF0ZWQuJyk7XHJcblxyXG4gICAgICB0aGlzLmdhbWVwbGF5TWFuYWdlciA9IG5ldyBHYW1lcGxheU1hbmFnZXIodGhpcyk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdbR2FtZV0gR2FtZXBsYXlNYW5hZ2VyIGNyZWF0ZWQuJyk7XHJcblxyXG4gICAgICB0aGlzLnJlbmRlcmVyID0gbmV3IEdhbWVSZW5kZXJlcih0aGlzKTtcclxuICAgICAgY29uc3QgeyBjYW52YXMsIGN0eCB9ID0gdGhpcy5yZW5kZXJlci5pbml0aWFsaXplQ2FudmFzKCk7XHJcbiAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xyXG4gICAgICB0aGlzLmN0eCA9IGN0eDtcclxuICAgICAgY29uc29sZS5sb2coJ1tHYW1lXSBSZW5kZXJlciBhbmQgQ2FudmFzIGluaXRpYWxpemVkLicpO1xyXG5cclxuICAgICAgVUlNYW5hZ2VyLnNldEdhbWVwbGF5TWFuYWdlcih0aGlzLmdhbWVwbGF5TWFuYWdlcik7XHJcbiAgICAgIFVJTWFuYWdlci5pbml0aWFsaXplVUkodGhpcy5pbnB1dE1hbmFnZXIpOyAvLyBUaW1lciBpcyBpbml0aWFsaXplZCBoZXJlLCBidXQgbm90IHN0YXJ0ZWRcclxuICAgICAgY29uc29sZS5sb2coJ1tHYW1lXSBVSU1hbmFnZXIgZm9yIGluLWdhbWUgVUkgaW5pdGlhbGl6ZWQuJyk7XHJcblxyXG4gICAgICB0aGlzLl9hZGRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgICAgY29uc29sZS5sb2coJ1tHYW1lXSBDb3JlIGNvbXBvbmVudHMgaW5pdGlhbGl6ZWQuIFdhaXRpbmcgZm9yIHRyaWdnZXJHYW1lU3RhcnQoKSBmcm9tIE1lbnUuJyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbR2FtZV0gU3luY2hyb25vdXMgY29yZSBpbml0aWFsaXphdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgICBhbGVydChgQ3JpdGljYWwgaW5pdGlhbGl6YXRpb24gZXJyb3I6ICR7ZXJyb3IubWVzc2FnZX0uIEdhbWUgY2Fubm90IHN0YXJ0LmApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0IGdhbWVTdGF0ZSgpIHtcclxuICAgIHJldHVybiB0aGlzLl9nYW1lU3RhdGU7XHJcbiAgfVxyXG5cclxuICBzZXRHYW1lU3RhdGUobmV3U3RhdGUpIHtcclxuICAgIGlmICh0aGlzLl9nYW1lU3RhdGUgIT09IG5ld1N0YXRlKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGBbR2FtZSBTdGF0ZV0gJHt0aGlzLl9nYW1lU3RhdGV9IC0+ICR7bmV3U3RhdGV9YCk7XHJcbiAgICAgIHRoaXMuX2dhbWVTdGF0ZSA9IG5ld1N0YXRlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2luaXRpYWxpemVDb3JlQ29tcG9uZW50cygpIHtcclxuICAgIHRoaXMuaW5wdXRNYW5hZ2VyID0gbmV3IElucHV0TWFuYWdlcigpO1xyXG4gICAgdGhpcy5sZXZlbCA9IG5ldyBMZXZlbCgxLCAzKTsgLy8gbWluRmxvb3IsIG1heEZsb29yXHJcbiAgfVxyXG5cclxuICBfYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4gdGhpcy5yZW5kZXJlcj8ucmVzaXplQ2FudmFzKCkpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgdHJpZ2dlckdhbWVTdGFydCgpIHtcclxuICAgIGlmICh0aGlzLmdhbWVTdGF0ZSAhPT0gR2FtZVN0YXRlLklETEUpIHtcclxuICAgICAgY29uc29sZS53YXJuKGBbR2FtZV0gdHJpZ2dlckdhbWVTdGFydCBjYWxsZWQgYnV0IGdhbWUgc3RhdGUgaXMgJHt0aGlzLmdhbWVTdGF0ZX0uIEFib3J0aW5nLmApO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZyhcclxuICAgICAgYFtHYW1lXSB0cmlnZ2VyR2FtZVN0YXJ0IHJlY2VpdmVkIGZvciBjaGFyYWN0ZXI6ICR7dGhpcy5jaGFyYWN0ZXJDb2xvcn0uIFN0YXJ0aW5nIGFzc2V0IGxvYWRpbmcuLi5gXHJcbiAgICApO1xyXG5cclxuICAgIGNvbnN0IGxvYWRpbmdPdmVybGF5ID0gVUlNYW5hZ2VyLmdldExvYWRpbmdPdmVybGF5KCk7XHJcbiAgICBpZiAobG9hZGluZ092ZXJsYXkpIGxvYWRpbmdPdmVybGF5LmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCB0aGlzLl9sb2FkQXNzZXRzQW5kVGhlblN0YXJ0TG9naWMoKTtcclxuICAgICAgY29uc29sZS5sb2coJ1tHYW1lXSBHYW1lIHN0YXJ0IHNlcXVlbmNlIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkuJyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICdbR2FtZV0gRXJyb3IgZHVyaW5nIF9sb2FkQXNzZXRzQW5kVGhlblN0YXJ0TG9naWMgKGZyb20gdHJpZ2dlckdhbWVTdGFydCk6JyxcclxuICAgICAgICBlcnJvclxyXG4gICAgICApO1xyXG4gICAgICBpZiAobG9hZGluZ092ZXJsYXkpIGxvYWRpbmdPdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcclxuICAgICAgaWYgKHRoaXMuZ2FtZVN0YXRlICE9PSBHYW1lU3RhdGUuR0FNRV9PVkVSKSB7XHJcbiAgICAgICAgLy8gQXZvaWQgZG91YmxlIGVycm9yIGhhbmRsaW5nIGlmIGFscmVhZHkgaGFuZGxlZFxyXG4gICAgICAgIHRoaXMuX2hhbmRsZUZhdGFsRXJyb3IoYEdhbWUgc3RhcnQgcHJvY2VzcyBmYWlsZWQ6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgX2xvYWRBc3NldHNBbmRUaGVuU3RhcnRMb2dpYygpIHtcclxuICAgIGNvbnN0IGxvYWRpbmdPdmVybGF5ID0gVUlNYW5hZ2VyLmdldExvYWRpbmdPdmVybGF5KCk7XHJcbiAgICB0cnkge1xyXG4gICAgICB0aGlzLnNldEdhbWVTdGF0ZShHYW1lU3RhdGUuTE9BRElORyk7XHJcbiAgICAgIGlmIChsb2FkaW5nT3ZlcmxheSAmJiAhbG9hZGluZ092ZXJsYXkuY2xhc3NMaXN0LmNvbnRhaW5zKCd2aXNpYmxlJykpIHtcclxuICAgICAgICBsb2FkaW5nT3ZlcmxheS5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGF3YWl0IHRoaXMuX2xvYWRBc3NldHMoKTtcclxuICAgICAgYXdhaXQgdGhpcy5fc3RhcnRHYW1lTG9naWMoKTtcclxuXHJcbiAgICAgIGlmIChsb2FkaW5nT3ZlcmxheSkgbG9hZGluZ092ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignW0dhbWVdIF9sb2FkQXNzZXRzQW5kVGhlblN0YXJ0TG9naWMgZmFpbGVkOicsIGVycm9yKTtcclxuICAgICAgaWYgKGxvYWRpbmdPdmVybGF5KSBsb2FkaW5nT3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZhdGFsRXJyb3IoYEFzc2V0IGxvYWRpbmcgb3IgZ2FtZSBsb2dpYyBzdGFydCBlcnJvcjogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIF9sb2FkQXNzZXRzKCkge1xyXG4gICAgY29uc29sZS5sb2coJ1tHYW1lXSBMb2FkaW5nIGFzc2V0cy4uLicpO1xyXG4gICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcclxuICAgIGNvbnN0IHNwcml0ZVBhdGhLZXkgPSB0aGlzLmNoYXJhY3RlckNvbG9yIHx8ICdyZWQnO1xyXG4gICAgY29uc3Qgc3ByaXRlUGF0aCA9IHRoaXMuc3ByaXRlc1tzcHJpdGVQYXRoS2V5XTtcclxuXHJcbiAgICBpZiAoIXNwcml0ZVBhdGgpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBTcHJpdGUgcGF0aCBmb3IgY2hhcmFjdGVyIGNvbG9yIFwiJHtzcHJpdGVQYXRoS2V5fVwiIGlzIHVuZGVmaW5lZC5gKTtcclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKGBbR2FtZV0gVXNpbmcgc3ByaXRlOiAke3Nwcml0ZVBhdGh9IGZvciBjaGFyYWN0ZXIgJHtzcHJpdGVQYXRoS2V5fWApO1xyXG5cclxuICAgIGlmICghdGhpcy5jdHgpIHRocm93IG5ldyBFcnJvcignQ2FudmFzIGNvbnRleHQgbm90IGF2YWlsYWJsZSBmb3IgQ2hhcmFjdGVyIGNyZWF0aW9uLicpO1xyXG4gICAgdGhpcy5jaGFyYWN0ZXIgPSBuZXcgQ2hhcmFjdGVyKHRoaXMuY3R4LCBzcHJpdGVQYXRoLCB7XHJcbiAgICAgIHNwZWVkOiAzLFxyXG4gICAgICBmcmFtZVNpemU6IDMyLFxyXG4gICAgICBzY2FsZTogMixcclxuICAgICAgYW5pbWF0aW9uU3BlZWQ6IDE1MCxcclxuICAgICAgZnJhbWVDb3VudDogNCxcclxuICAgIH0pO1xyXG4gICAgcHJvbWlzZXMucHVzaChcclxuICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIHRoaXMuY2hhcmFjdGVyLnNwcml0ZS5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhgICBbQXNzZXRzXSBDaGFyYWN0ZXIgc3ByaXRlIGxvYWRlZDogJHtzcHJpdGVQYXRofWApO1xyXG4gICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5jaGFyYWN0ZXIuc3ByaXRlLm9uZXJyb3IgPSAoZXJyKSA9PlxyXG4gICAgICAgICAgcmVqZWN0KFxyXG4gICAgICAgICAgICBuZXcgRXJyb3IoXHJcbiAgICAgICAgICAgICAgYEZhaWxlZCB0byBsb2FkIGNoYXJhY3RlciBzcHJpdGU6ICR7c3ByaXRlUGF0aH0uIERldGFpbHM6ICR7ZXJyLm1lc3NhZ2UgfHwgZXJyfWBcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgfSlcclxuICAgICk7XHJcblxyXG4gICAgaWYgKGJvb2tTcHJpdGVJbWFnZSkge1xyXG4gICAgICB0aGlzLmJvb2tJbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICB0aGlzLmJvb2tJbWFnZS5zcmMgPSBib29rU3ByaXRlSW1hZ2U7XHJcbiAgICAgIHByb21pc2VzLnB1c2goXHJcbiAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgIHRoaXMuYm9va0ltYWdlLm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYCAgW0Fzc2V0c10gQm9vayBpbWFnZSBsb2FkZWQ6ICR7Ym9va1Nwcml0ZUltYWdlfWApO1xyXG4gICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgdGhpcy5ib29rSW1hZ2Uub25lcnJvciA9ICgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgICAgICAgIGAgW0Fzc2V0c10gRmFpbGVkIHRvIGxvYWQgYm9vayBpbWFnZTogJHtib29rU3ByaXRlSW1hZ2V9LiBVc2luZyBmYWxsYmFjay5gXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHRoaXMuYm9va0ltYWdlID0gbnVsbDtcclxuICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9KVxyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS53YXJuKCdbQXNzZXRzXSBObyBib29rIHNwcml0ZS4gRmFsbGJhY2sgcmVuZGVyaW5nIHdpbGwgYmUgdXNlZC4nKTtcclxuICAgICAgdGhpcy5ib29rSW1hZ2UgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xyXG4gICAgY29uc29sZS5sb2coJ1tHYW1lXSBBbGwgdmlzdWFsIGFzc2V0cyBsb2FkZWQgc3VjY2Vzc2Z1bGx5LicpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgX3N0YXJ0R2FtZUxvZ2ljKCkge1xyXG4gICAgY29uc29sZS5sb2coJ1tHYW1lXSBTdGFydGluZyBjb3JlIGdhbWUgbG9naWMuLi4nKTtcclxuICAgIGlmIChcclxuICAgICAgIXRoaXMubGV2ZWwgfHxcclxuICAgICAgIXRoaXMuY2hhcmFjdGVyIHx8XHJcbiAgICAgICF0aGlzLmNhbnZhcyB8fFxyXG4gICAgICAhdGhpcy5yZW5kZXJlciB8fFxyXG4gICAgICAhdGhpcy5nYW1lcGxheU1hbmFnZXIgfHxcclxuICAgICAgIXRoaXMuYXVkaW9NYW5hZ2VyXHJcbiAgICApIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3Qgc3RhcnQgZ2FtZSAtIGVzc2VudGlhbCBjb21wb25lbnRzIG1pc3NpbmcuJyk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnNldEdhbWVTdGF0ZShHYW1lU3RhdGUuTE9BRElOR19MRVZFTCk7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgdGhpcy5sZXZlbC5sb2FkRmxvb3IodGhpcy5sZXZlbC5taW5GbG9vciwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XHJcbiAgICAgIGNvbnN0IGN1cnJlbnRNYXAgPSB0aGlzLmxldmVsLmN1cnJlbnRNYXA7XHJcbiAgICAgIGlmICghY3VycmVudE1hcCkgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gbG9hZCBpbml0aWFsIG1hcC4nKTtcclxuXHJcbiAgICAgIGNvbnN0IHN0YXJ0UG9zID0gY3VycmVudE1hcC5maW5kUmFuZG9tSW5pdGlhbFNwYXduUG9zaXRpb24odGhpcy5jaGFyYWN0ZXIpO1xyXG4gICAgICBpZiAoIXN0YXJ0UG9zKSB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmaW5kIGEgdmFsaWQgc3RhcnRpbmcgcG9zaXRpb24gb24gdGhlIG1hcCEnKTtcclxuICAgICAgdGhpcy5jaGFyYWN0ZXIueCA9IHN0YXJ0UG9zLng7XHJcbiAgICAgIHRoaXMuY2hhcmFjdGVyLnkgPSBzdGFydFBvcy55O1xyXG4gICAgICB0aGlzLmNoYXJhY3Rlci5jdXJyZW50RGlyZWN0aW9uID0gQ2hhcmFjdGVyLkRpcmVjdGlvbi5ET1dOO1xyXG4gICAgICB0aGlzLmNoYXJhY3Rlci5pc01vdmluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgdGhpcy5nYW1lcGxheU1hbmFnZXIuZW5zdXJlQ2hhcmFjdGVySXNPbldhbGthYmxlVGlsZShmYWxzZSk7XHJcblxyXG4gICAgICB0aGlzLnRvdGFsQm9va3NDb2xsZWN0ZWRHbG9iYWxseSA9IDA7XHJcbiAgICAgIHRoaXMuYXZhaWxhYmxlUXVlc3Rpb25zID0gWy4uLnF1ZXN0aW9uc107XHJcbiAgICAgIHRoaXMubGlmdENvb2xkb3duQWN0aXZlID0gZmFsc2U7XHJcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmxpZnRDb29sZG93blRpbWVyKTtcclxuICAgICAgdGhpcy5saWZ0Q29vbGRvd25UaW1lciA9IG51bGw7XHJcbiAgICAgIHRoaXMuY3VycmVudEJvb2tUYXJnZXQgPSBudWxsO1xyXG4gICAgICB0aGlzLmN1cnJlbnRRdWVzdGlvbkRhdGEgPSBudWxsO1xyXG5cclxuICAgICAgdGhpcy5yZW5kZXJlci5jZW50ZXJDYW1lcmFPbkNoYXJhY3RlcigpO1xyXG4gICAgICBVSU1hbmFnZXIudXBkYXRlU2NvcmUodGhpcy50b3RhbEJvb2tzQ29sbGVjdGVkR2xvYmFsbHksIHRoaXMudGFyZ2V0Qm9va3NUb1dpbik7XHJcbiAgICAgIFVJTWFuYWdlci5zaG93R2FtZVVJKCk7XHJcblxyXG4gICAgICB0aGlzLl9ib3VuZEtleURvd25IYW5kbGVyID0gdGhpcy5oYW5kbGVLZXlEb3duLmJpbmQodGhpcyk7XHJcbiAgICAgIHRoaXMuX2JvdW5kS2V5VXBIYW5kbGVyID0gdGhpcy5oYW5kbGVLZXlVcC5iaW5kKHRoaXMpO1xyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2JvdW5kS2V5RG93bkhhbmRsZXIpO1xyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9ib3VuZEtleVVwSGFuZGxlcik7XHJcblxyXG4gICAgICB0aGlzLmF1ZGlvTWFuYWdlci5zdGFydEluaXRpYWxNdXNpYyh0aGlzLmxldmVsLmN1cnJlbnRGbG9vcik7XHJcbiAgICAgIGNvbnNvbGUubG9nKGBbR2FtZV0gSW5pdGlhbCBtdXNpYyBzdGFydGVkIGZvciBmbG9vciAke3RoaXMubGV2ZWwuY3VycmVudEZsb29yfWApO1xyXG5cclxuICAgICAgdGhpcy5zZXRHYW1lU3RhdGUoR2FtZVN0YXRlLlBMQVlJTkcpOyAvLyBTZXQgc3RhdGUgQkVGT1JFIHN0YXJ0aW5nIHRpbWVyXHJcbiAgICAgIFVJTWFuYWdlci5zdGFydFRpbWVyKCk7IC8vIFVJTWFuYWdlciBjb250cm9scyB0aGUgdGltZXIgbG9naWNcclxuXHJcbiAgICAgIGlmICghdGhpcy5pc1J1bm5pbmcpIHtcclxuICAgICAgICB0aGlzLmlzUnVubmluZyA9IHRydWU7XHJcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuZ2FtZUxvb3ApO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdbR2FtZV0gR2FtZSBsb2dpYyBzdGFydGVkLiBHYW1lIGxvb3AgaXMgcnVubmluZy4nKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignW0dhbWVdIEVycm9yIGR1cmluZyBfc3RhcnRHYW1lTG9naWM6JywgZXJyb3IpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVGYXRhbEVycm9yKGBMZXZlbCBzdGFydCBwcm9jZXNzIGVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldEdhbWVPdmVyKHdpbiA9IHRydWUpIHtcclxuICAgIGlmICh0aGlzLmdhbWVTdGF0ZSA9PT0gR2FtZVN0YXRlLkdBTUVfT1ZFUikgcmV0dXJuO1xyXG4gICAgY29uc29sZS5sb2coYFtHYW1lXSBHYW1lIE92ZXIuIFdpbjogJHt3aW59YCk7IC8vIExvZyBiZWZvcmUgY2hhbmdpbmcgc3RhdGVcclxuICAgIHRoaXMuc2V0R2FtZVN0YXRlKEdhbWVTdGF0ZS5HQU1FX09WRVIpO1xyXG4gICAgdGhpcy5pc1J1bm5pbmcgPSBmYWxzZTtcclxuICAgIGlmICh0aGlzLmNoYXJhY3RlcikgdGhpcy5jaGFyYWN0ZXIuaXNNb3ZpbmcgPSBmYWxzZTtcclxuICAgIGNsZWFyVGltZW91dCh0aGlzLmxpZnRDb29sZG93blRpbWVyKTtcclxuICAgIGlmICh0aGlzLmF1ZGlvTWFuYWdlcikgdGhpcy5hdWRpb01hbmFnZXIuc3RvcE11c2ljKCk7XHJcblxyXG4gICAgaWYgKHRoaXMuX2JvdW5kS2V5RG93bkhhbmRsZXIpIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fYm91bmRLZXlEb3duSGFuZGxlcik7XHJcbiAgICBpZiAodGhpcy5fYm91bmRLZXlVcEhhbmRsZXIpIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX2JvdW5kS2V5VXBIYW5kbGVyKTtcclxuICAgIHRoaXMuX2JvdW5kS2V5RG93bkhhbmRsZXIgPSBudWxsO1xyXG4gICAgdGhpcy5fYm91bmRLZXlVcEhhbmRsZXIgPSBudWxsO1xyXG5cclxuICAgIFVJTWFuYWdlci5zdG9wVGltZXIod2luKTsgLy8gU3RvcCB0aW1lciBPTkNFXHJcbiAgICBVSU1hbmFnZXIuc2hvd0dhbWVPdmVyU2NyZWVuKHdpbiwgR2FtZS5DUkVBVE9SX05BTUVTLCBHYW1lLkNMQVNTX0FUVEVORElOR19JTkZPKTtcclxuICB9XHJcblxyXG4gIHN0b3BHYW1lKCkge1xyXG4gICAgY29uc29sZS5sb2coJ1tHYW1lXSBFeHBsaWNpdCBzdG9wR2FtZSByZXF1ZXN0ZWQuJyk7XHJcbiAgICBpZiAodGhpcy5nYW1lU3RhdGUgIT09IEdhbWVTdGF0ZS5HQU1FX09WRVIpIHtcclxuICAgICAgdGhpcy5fc2V0R2FtZU92ZXIoZmFsc2UpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS5sb2coJ1tHYW1lXSBzdG9wR2FtZSBjYWxsZWQsIGJ1dCBnYW1lIGlzIGFscmVhZHkgb3Zlci4nKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9oYW5kbGVGYXRhbEVycm9yKG1lc3NhZ2UsIHNob3dBbGVydCA9IHRydWUpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ1tHYW1lXSBGQVRBTCBFUlJPUjonLCBtZXNzYWdlKTtcclxuICAgIGlmIChzaG93QWxlcnQgJiYgdGhpcy5nYW1lU3RhdGUgIT09IEdhbWVTdGF0ZS5HQU1FX09WRVIpIHtcclxuICAgICAgVUlNYW5hZ2VyLmZsYXNoTWVzc2FnZShgRkFUQUwgRVJST1I6ICR7bWVzc2FnZX1gLCAnZXJyb3InLCAxNTAwMCk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5nYW1lU3RhdGUgIT09IEdhbWVTdGF0ZS5HQU1FX09WRVIpIHtcclxuICAgICAgdGhpcy5fc2V0R2FtZU92ZXIoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlS2V5RG93bihlKSB7XHJcbiAgICBpZiAodGhpcy5nYW1lU3RhdGUgIT09IEdhbWVTdGF0ZS5QTEFZSU5HIHx8ICF0aGlzLmlucHV0TWFuYWdlcikgcmV0dXJuO1xyXG4gICAgbGV0IGhhbmRsZWQgPSBmYWxzZTtcclxuICAgIGNvbnN0IGtleSA9IGUua2V5LnRvTG93ZXJDYXNlKCk7XHJcbiAgICBpZiAoWydhcnJvd3VwJywgJ3cnXS5pbmNsdWRlcyhrZXkpKSB7XHJcbiAgICAgIHRoaXMuaW5wdXRNYW5hZ2VyLnNldEtleSgndXAnLCB0cnVlKTtcclxuICAgICAgaGFuZGxlZCA9IHRydWU7XHJcbiAgICB9IGVsc2UgaWYgKFsnYXJyb3dkb3duJywgJ3MnXS5pbmNsdWRlcyhrZXkpKSB7XHJcbiAgICAgIHRoaXMuaW5wdXRNYW5hZ2VyLnNldEtleSgnZG93bicsIHRydWUpO1xyXG4gICAgICBoYW5kbGVkID0gdHJ1ZTtcclxuICAgIH0gZWxzZSBpZiAoWydhcnJvd2xlZnQnLCAnYSddLmluY2x1ZGVzKGtleSkpIHtcclxuICAgICAgdGhpcy5pbnB1dE1hbmFnZXIuc2V0S2V5KCdsZWZ0JywgdHJ1ZSk7XHJcbiAgICAgIGhhbmRsZWQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIGlmIChbJ2Fycm93cmlnaHQnLCAnZCddLmluY2x1ZGVzKGtleSkpIHtcclxuICAgICAgdGhpcy5pbnB1dE1hbmFnZXIuc2V0S2V5KCdyaWdodCcsIHRydWUpO1xyXG4gICAgICBoYW5kbGVkID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmIChoYW5kbGVkKSBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVLZXlVcChlKSB7XHJcbiAgICBpZiAoIXRoaXMuaW5wdXRNYW5hZ2VyKSByZXR1cm47XHJcbiAgICBjb25zdCBrZXkgPSBlLmtleS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgaWYgKFsnYXJyb3d1cCcsICd3J10uaW5jbHVkZXMoa2V5KSkgdGhpcy5pbnB1dE1hbmFnZXIuc2V0S2V5KCd1cCcsIGZhbHNlKTtcclxuICAgIGVsc2UgaWYgKFsnYXJyb3dkb3duJywgJ3MnXS5pbmNsdWRlcyhrZXkpKSB0aGlzLmlucHV0TWFuYWdlci5zZXRLZXkoJ2Rvd24nLCBmYWxzZSk7XHJcbiAgICBlbHNlIGlmIChbJ2Fycm93bGVmdCcsICdhJ10uaW5jbHVkZXMoa2V5KSkgdGhpcy5pbnB1dE1hbmFnZXIuc2V0S2V5KCdsZWZ0JywgZmFsc2UpO1xyXG4gICAgZWxzZSBpZiAoWydhcnJvd3JpZ2h0JywgJ2QnXS5pbmNsdWRlcyhrZXkpKSB0aGlzLmlucHV0TWFuYWdlci5zZXRLZXkoJ3JpZ2h0JywgZmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgZ2FtZUxvb3AodGltZXN0YW1wKSB7XHJcbiAgICBpZiAoIXRoaXMuaXNSdW5uaW5nIHx8IHRoaXMuZ2FtZVN0YXRlID09PSBHYW1lU3RhdGUuR0FNRV9PVkVSKSByZXR1cm47XHJcbiAgICB0aGlzLmdhbWVwbGF5TWFuYWdlcj8udXBkYXRlKHRpbWVzdGFtcCk7XHJcbiAgICB0aGlzLnJlbmRlcmVyPy5jZW50ZXJDYW1lcmFPbkNoYXJhY3RlcigpO1xyXG4gICAgdGhpcy5yZW5kZXJlcj8uZHJhd0ZyYW1lKCk7XHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5nYW1lTG9vcCk7XHJcbiAgfVxyXG5cclxuICBzdGFydExpZnRDb29sZG93blRpbWVyKCkge1xyXG4gICAgY2xlYXJUaW1lb3V0KHRoaXMubGlmdENvb2xkb3duVGltZXIpO1xyXG4gICAgY29uc29sZS5sb2coYFtHYW1lXSBTdGFydGluZyBsaWZ0IGNvb2xkb3duOiAke0xJRlRfQ09PTERPV05fTVN9bXMuYCk7XHJcbiAgICB0aGlzLmxpZnRDb29sZG93blRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHRoaXMubGlmdENvb2xkb3duQWN0aXZlID0gZmFsc2U7XHJcbiAgICAgIHRoaXMubGlmdENvb2xkb3duVGltZXIgPSBudWxsO1xyXG4gICAgICBpZiAodGhpcy5nYW1lU3RhdGUgPT09IEdhbWVTdGF0ZS5UUkFOU0lUSU9OSU5HKSB7XHJcbiAgICAgICAgdGhpcy5zZXRHYW1lU3RhdGUoR2FtZVN0YXRlLlBMQVlJTkcpOyAvLyBCYWNrIHRvIHBsYXlpbmcgYWZ0ZXIgdHJhbnNpdGlvblxyXG4gICAgICAgIFVJTWFuYWdlci5mbGFzaE1lc3NhZ2UoYEFycml2ZWQgYXQgZmxvb3IgJHt0aGlzLmxldmVsPy5jdXJyZW50Rmxvb3J9YCwgJ3N1Y2Nlc3MnLCAxNTAwKTtcclxuICAgICAgICAvLyBUaW1lciBzaG91bGQgY29udGludWUgcnVubmluZyBpZiBpdCB3YXMgYWxyZWFkeSBydW5uaW5nIGluIFRSQU5TSVRJT05JTkcgc3RhdGVcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICBgW0dhbWVUaW1lcl0gTGlmdCBjb29sZG93biBlbmRlZCwgYnV0IHN0YXRlIGlzICR7dGhpcy5nYW1lU3RhdGV9LiBObyBzdGF0ZSBjaGFuZ2UuYFxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH0sIExJRlRfQ09PTERPV05fTVMpO1xyXG4gIH1cclxufVxyXG4iLCIvLyBzcmMvVUkvTWVudS5qc1xyXG5pbXBvcnQgeyBHYW1lIH0gZnJvbSAnLi4vY29yZS9HYW1lLmpzJzsgLy8g0KPQsdC10LTQuNGB0YwsINGH0YLQviDQv9GD0YLRjCDQuiBHYW1lLmpzINCy0LXRgNC90YvQuVxyXG5pbXBvcnQgeyBVSU1hbmFnZXIgfSBmcm9tICcuL1VJTWFuYWdlci5qcyc7IC8vIFVJTWFuYWdlciDQtNC70Y8gZmxhc2gt0YHQvtC+0LHRidC10L3QuNC5INC4INC30LDQs9GA0YPQt9C+0YfQvdC+0LPQviDQvtCy0LXRgNC70LXRj1xyXG5cclxubGV0IGN1cnJlbnRHYW1lSW5zdGFuY2UgPSBudWxsOyAvLyDQn9C10YDQtdC80LXQvdC90LDRjyDQtNC70Y8g0YXRgNCw0L3QtdC90LjRjyDRgtC10LrRg9GJ0LXQs9C+INGN0LrQt9C10LzQv9C70Y/RgNCwINC40LPRgNGLXHJcblxyXG5leHBvcnQgY2xhc3MgTWVudSB7XHJcbiAgY29uc3RydWN0b3IoY2hhcmFjdGVySW1hZ2VTb3VyY2VzKSB7XHJcbiAgICB0aGlzLmNoYXJhY3RlckltYWdlU291cmNlcyA9IGNoYXJhY3RlckltYWdlU291cmNlcztcclxuICAgIHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXIgPSBudWxsO1xyXG4gICAgdGhpcy51c2VySW50ZXJhY3RlZCA9IGZhbHNlOyAvLyDQlNC70Y8g0L7RgtGB0LvQtdC20LjQstCw0L3QuNGPINC/0LXRgNCy0L7Qs9C+INCy0LfQsNC40LzQvtC00LXQudGB0YLQstC40Y9cclxuICAgIHRoaXMub3ZlcmxheSA9IG51bGw7IC8vINCe0LLQtdGA0LvQtdC5INC00LvRjyDQvNC+0LTQsNC70YzQvdGL0YUg0L7QutC+0L1cclxuICAgIHRoaXMuYXVkaW9NYW5hZ2VySW5zdGFuY2UgPSBudWxsOyAvLyDQlNC70Y8g0YXRgNCw0L3QtdC90LjRjyDRjdC60LfQtdC80L/Qu9GP0YDQsCBBdWRpb01hbmFnZXJcclxuXHJcbiAgICBjb25zb2xlLmxvZygnW01lbnVdIENvbnN0cnVjdG9yIGNhbGxlZC4gSW5pdGlhbGl6aW5nIGVsZW1lbnRzLi4uJyk7XHJcbiAgICB0aGlzLmluaXRpYWxpemVFbGVtZW50cygpO1xyXG5cclxuICAgIGlmICh0aGlzLmNoYXJhY3RlclBhbmVsICYmIHRoaXMuY2hhcmFjdGVyR3JpZCkge1xyXG4gICAgICAvLyDQn9GA0L7QstC10YDQutCwIGNoYXJhY3RlckdyaWQg0LLQsNC20L3QsFxyXG4gICAgICB0aGlzLnNldHVwQ2hhcmFjdGVySW1hZ2VzKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICdbTWVudSBDb25zdHJ1Y3Rvcl0gQ1JJVElDQUw6IGNoYXJhY3RlclBhbmVsIG9yIGNoYXJhY3RlckdyaWQgaXMgbnVsbCBBRlRFUiBpbml0aWFsaXplRWxlbWVudHMuIENhbm5vdCBzZXR1cCBpbWFnZXMuJ1xyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKCdbTWVudV0gQWRkaW5nIGV2ZW50IGxpc3RlbmVycy4uLicpO1xyXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5zaG93KCk7IC8vINCf0L7QutCw0LfRi9Cy0LDQtdC8INC80LXQvdGOINC/0YDQuCDQuNC90LjRhtC40LDQu9C40LfQsNGG0LjQuFxyXG4gICAgY29uc29sZS5sb2coJ1tNZW51XSBJbnN0YW5jZSBjcmVhdGVkIGFuZCBkaXNwbGF5ZWQuJyk7XHJcbiAgfVxyXG5cclxuICAvLyDQnNC10YLQvtC0INC00LvRjyDQv9C+0LvRg9GH0LXQvdC40Y8gQXVkaW9NYW5hZ2VyINC40LcgR2FtZS5qc1xyXG4gIHNldEF1ZGlvTWFuYWdlcihhdWRpb01hbmFnZXIpIHtcclxuICAgIHRoaXMuYXVkaW9NYW5hZ2VySW5zdGFuY2UgPSBhdWRpb01hbmFnZXI7XHJcbiAgICBjb25zb2xlLmxvZygnW01lbnVdIEF1ZGlvTWFuYWdlciBpbnN0YW5jZSByZWNlaXZlZCBpbiBNZW51LicpO1xyXG4gICAgaWYgKHRoaXMubXVzaWNWb2x1bWUgJiYgdGhpcy5hdWRpb01hbmFnZXJJbnN0YW5jZSkge1xyXG4gICAgICB0aGlzLm11c2ljVm9sdW1lLnZhbHVlID0gdGhpcy5hdWRpb01hbmFnZXJJbnN0YW5jZS5nZXRNdXNpY1ZvbHVtZSgpICogMTAwO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLm11c2ljVm9sdW1lKSB7XHJcbiAgICAgIC8vINCV0YHQu9C4IEF1ZGlvTWFuYWdlciDQtdGJ0LUg0L3QtSDQv9GA0LjRiNC10LssINC90L4g0YHQu9Cw0LnQtNC10YAg0LXRgdGC0YwsINGD0YHRgtCw0L3QvtCy0LjQvCDQt9C90LDRh9C10L3QuNC1INC40LcgbG9jYWxTdG9yYWdlXHJcbiAgICAgIGNvbnN0IHNhdmVkVm9sdW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ211c2ljVm9sdW1lJyk7XHJcbiAgICAgIGlmIChzYXZlZFZvbHVtZSAhPT0gbnVsbCkge1xyXG4gICAgICAgIHRoaXMubXVzaWNWb2x1bWUudmFsdWUgPSBwYXJzZUZsb2F0KHNhdmVkVm9sdW1lKSAqIDEwMDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLm11c2ljVm9sdW1lLnZhbHVlID0gNTA7IC8vIERlZmF1bHRcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaW5pdGlhbGl6ZUVsZW1lbnRzKCkge1xyXG4gICAgdGhpcy5tZW51Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lbnUtY29udGFpbmVyJyk7XHJcbiAgICBpZiAoIXRoaXMubWVudUNvbnRhaW5lcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbTWVudSBJbml0XSBDUklUSUNBTDogLm1lbnUtY29udGFpbmVyIG5vdCBmb3VuZCEnKTtcclxuICAgICAgcmV0dXJuOyAvLyDQn9GA0LXRgNGL0LLQsNC10LwsINC10YHQu9C4INC90LXRgiDQvtGB0L3QvtCy0L3QvtCz0L4g0LrQvtC90YLQtdC50L3QtdGA0LBcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNldHRpbmdzQnV0dG9uID0gdGhpcy5tZW51Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5zZXR0aW5ncy1idXR0b24nKTtcclxuICAgIHRoaXMucGxheUJ1dHRvbiA9IHRoaXMubWVudUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcucGxheS1idXR0b24nKTtcclxuICAgIHRoaXMuY2hhcmFjdGVyQnV0dG9uID0gdGhpcy5tZW51Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5jaGFyYWN0ZXItYnV0dG9uJyk7XHJcblxyXG4gICAgaWYgKCF0aGlzLnBsYXlCdXR0b24pIGNvbnNvbGUud2FybignW01lbnUgSW5pdF0gLnBsYXktYnV0dG9uIG5vdCBmb3VuZC4nKTtcclxuICAgIGVsc2UgdGhpcy5wbGF5QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuXHJcbiAgICBpZiAoIXRoaXMuY2hhcmFjdGVyQnV0dG9uKSBjb25zb2xlLndhcm4oJ1tNZW51IEluaXRdIC5jaGFyYWN0ZXItYnV0dG9uIG5vdCBmb3VuZC4nKTtcclxuICAgIGlmICghdGhpcy5zZXR0aW5nc0J1dHRvbikgY29uc29sZS53YXJuKCdbTWVudSBJbml0XSAuc2V0dGluZ3MtYnV0dG9uIG5vdCBmb3VuZC4nKTtcclxuXHJcbiAgICAvLyDQn9Cw0L3QtdC70Lgg0LvRg9GH0YjQtSDQuNGB0LrQsNGC0Ywg0L/QviDQstGB0LXQvNGDINC00L7QutGD0LzQtdC90YLRgywg0LXRgdC70Lgg0L7QvdC4INC90LUg0LLQu9C+0LbQtdC90Ysg0LIgLm1lbnUtY29udGFpbmVyXHJcbiAgICB0aGlzLnNldHRpbmdzUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2V0dGluZ3MtcGFuZWwnKTtcclxuICAgIGlmICh0aGlzLnNldHRpbmdzUGFuZWwpIHtcclxuICAgICAgLy8g0JXRgdC70Lgg0L/QsNC90LXQu9GMINC90LUg0LIgYm9keSwg0L/QtdGA0LXQvNC10YnQsNC10Lwg0LXQtSDRgtGD0LTQsCDQtNC70Y8g0LrQvtGA0YDQtdC60YLQvdC+0LPQviDQv9C+0LfQuNGG0LjQvtC90LjRgNC+0LLQsNC90LjRjyBmaXhlZFxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc1BhbmVsLnBhcmVudE5vZGUgIT09IGRvY3VtZW50LmJvZHkgJiZcclxuICAgICAgICB0aGlzLnNldHRpbmdzUGFuZWwucGFyZW50Tm9kZSAhPT0gdGhpcy5tZW51Q29udGFpbmVyIC8qIGFsbG93IGlmIG5lc3RlZCAqL1xyXG4gICAgICApIHtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuc2V0dGluZ3NQYW5lbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuc2V0dGluZ3NQYW5lbCkpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMubXVzaWNWb2x1bWUgPSB0aGlzLnNldHRpbmdzUGFuZWwucXVlcnlTZWxlY3RvcignI211c2ljLXZvbHVtZScpO1xyXG4gICAgICB0aGlzLnNmeFZvbHVtZSA9IHRoaXMuc2V0dGluZ3NQYW5lbC5xdWVyeVNlbGVjdG9yKCcjc2Z4LXZvbHVtZScpOyAvLyDQntGB0YLQsNCy0LjQvCwg0LXRgdC70Lgg0L/QvtC90LDQtNC+0LHQuNGC0YHRj1xyXG4gICAgICB0aGlzLmNsb3NlU2V0dGluZ3NCdXR0b24gPSB0aGlzLnNldHRpbmdzUGFuZWwucXVlcnlTZWxlY3RvcignLnBhbmVsLWNsb3NlLWJ1dHRvbicpO1xyXG4gICAgICBpZiAoIXRoaXMubXVzaWNWb2x1bWUpXHJcbiAgICAgICAgY29uc29sZS53YXJuKCdbTWVudSBJbml0XSAjbXVzaWMtdm9sdW1lIHNsaWRlciBub3QgZm91bmQgaW4gc2V0dGluZ3MgcGFuZWwuJyk7XHJcbiAgICAgIGlmICghdGhpcy5jbG9zZVNldHRpbmdzQnV0dG9uKVxyXG4gICAgICAgIGNvbnNvbGUud2FybignW01lbnUgSW5pdF0gLnBhbmVsLWNsb3NlLWJ1dHRvbiBub3QgZm91bmQgaW4gc2V0dGluZ3MgcGFuZWwuJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ1tNZW51IEluaXRdIC5zZXR0aW5ncy1wYW5lbCBub3QgZm91bmQuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jaGFyYWN0ZXJQYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGFyYWN0ZXItcGFuZWwnKTtcclxuICAgIGlmICh0aGlzLmNoYXJhY3RlclBhbmVsKSB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICB0aGlzLmNoYXJhY3RlclBhbmVsLnBhcmVudE5vZGUgIT09IGRvY3VtZW50LmJvZHkgJiZcclxuICAgICAgICB0aGlzLmNoYXJhY3RlclBhbmVsLnBhcmVudE5vZGUgIT09IHRoaXMubWVudUNvbnRhaW5lclxyXG4gICAgICApIHtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuY2hhcmFjdGVyUGFuZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmNoYXJhY3RlclBhbmVsKSk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5jaGFyYWN0ZXJHcmlkID0gdGhpcy5jaGFyYWN0ZXJQYW5lbC5xdWVyeVNlbGVjdG9yKCcuY2hhcmFjdGVyLWdyaWQnKTtcclxuICAgICAgdGhpcy5jbG9zZUNoYXJhY3RlclBhbmVsQnV0dG9uID0gdGhpcy5jaGFyYWN0ZXJQYW5lbC5xdWVyeVNlbGVjdG9yKCcucGFuZWwtY2xvc2UtYnV0dG9uJyk7XHJcbiAgICAgIGlmICghdGhpcy5jaGFyYWN0ZXJHcmlkKVxyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tNZW51IEluaXRdIENSSVRJQ0FMOiAuY2hhcmFjdGVyLWdyaWQgbm90IGZvdW5kIGluIGNoYXJhY3RlciBwYW5lbCEnKTtcclxuICAgICAgaWYgKCF0aGlzLmNsb3NlQ2hhcmFjdGVyUGFuZWxCdXR0b24pXHJcbiAgICAgICAgY29uc29sZS53YXJuKCdbTWVudSBJbml0XSAucGFuZWwtY2xvc2UtYnV0dG9uIG5vdCBmb3VuZCBpbiBjaGFyYWN0ZXIgcGFuZWwuJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbTWVudSBJbml0XSBDUklUSUNBTDogLmNoYXJhY3Rlci1wYW5lbCBub3QgZm91bmQhJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0KHQvtC30LTQsNC10Lwg0LjQu9C4INC90LDRhdC+0LTQuNC8INGN0LvQtdC80LXQvdGCINC00LvRjyDQvtGC0L7QsdGA0LDQttC10L3QuNGPINCy0YvQsdGA0LDQvdC90L7Qs9C+INC/0LXRgNGB0L7QvdCw0LbQsFxyXG4gICAgbGV0IGRpc3BsYXlDb250YWluZXIgPSB0aGlzLm1lbnVDb250YWluZXIucXVlcnlTZWxlY3RvcignLm1haW4tbWVudS1idXR0b25zJyk7XHJcbiAgICB0aGlzLnNlbGVjdGVkQ2hhcmFjdGVyRGlzcGxheSA9IGRpc3BsYXlDb250YWluZXJcclxuICAgICAgPyBkaXNwbGF5Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5zZWxlY3RlZC1jaGFyYWN0ZXItZGlzcGxheScpXHJcbiAgICAgIDogbnVsbDtcclxuXHJcbiAgICBpZiAoIXRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXJEaXNwbGF5KSB7XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXJEaXNwbGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXJEaXNwbGF5LmNsYXNzTmFtZSA9ICdzZWxlY3RlZC1jaGFyYWN0ZXItZGlzcGxheSc7XHJcbiAgICAgIGlmICh0aGlzLnBsYXlCdXR0b24gJiYgdGhpcy5wbGF5QnV0dG9uLnBhcmVudE5vZGUpIHtcclxuICAgICAgICB0aGlzLnBsYXlCdXR0b24ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5zZWxlY3RlZENoYXJhY3RlckRpc3BsYXksIHRoaXMucGxheUJ1dHRvbik7XHJcbiAgICAgIH0gZWxzZSBpZiAoZGlzcGxheUNvbnRhaW5lcikge1xyXG4gICAgICAgIC8vINCS0YHRgtCw0LLQu9GP0LXQvCDQv9C10YDQtdC0INCy0YLQvtGA0L7QuSDQutC90L7Qv9C60L7QuSAo0L/RgNC10LTQv9C+0LvQsNCz0LDRjywg0YfRgtC+INGN0YLQviBQbGF5KSDQuNC70Lgg0LIg0LrQvtC90LXRhlxyXG4gICAgICAgIGRpc3BsYXlDb250YWluZXIuaW5zZXJ0QmVmb3JlKFxyXG4gICAgICAgICAgdGhpcy5zZWxlY3RlZENoYXJhY3RlckRpc3BsYXksXHJcbiAgICAgICAgICBkaXNwbGF5Q29udGFpbmVyLmNoaWxkcmVuWzFdIHx8IG51bGxcclxuICAgICAgICApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMubWVudUNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnNlbGVjdGVkQ2hhcmFjdGVyRGlzcGxheSk7IC8vINC60YDQsNC50L3QuNC5INGB0LvRg9GH0LDQuVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aGlzLnVwZGF0ZVNlbGVjdGVkQ2hhcmFjdGVyRGlzcGxheSgpOyAvLyDQntCx0L3QvtCy0LvRj9C10Lwg0YLQtdC60YHRgiDQv9C+INGD0LzQvtC70YfQsNC90LjRjlxyXG4gIH1cclxuXHJcbiAgc2V0dXBDaGFyYWN0ZXJJbWFnZXMoKSB7XHJcbiAgICBpZiAoIXRoaXMuY2hhcmFjdGVyUGFuZWwgfHwgIXRoaXMuY2hhcmFjdGVyR3JpZCkge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ1tNZW51IHNldHVwQ2hhcmFjdGVySW1hZ2VzXSBDaGFyYWN0ZXIgcGFuZWwgb3IgZ3JpZCBub3QgZm91bmQuJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICghdGhpcy5jaGFyYWN0ZXJJbWFnZVNvdXJjZXMgfHwgT2JqZWN0LmtleXModGhpcy5jaGFyYWN0ZXJJbWFnZVNvdXJjZXMpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ1tNZW51IHNldHVwQ2hhcmFjdGVySW1hZ2VzXSBObyBjaGFyYWN0ZXIgaW1hZ2Ugc291cmNlcyBwcm92aWRlZC4nKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNoYXJhY3RlckNhcmRzID0gdGhpcy5jaGFyYWN0ZXJHcmlkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGFyYWN0ZXItY2FyZCcpO1xyXG4gICAgaWYgKGNoYXJhY3RlckNhcmRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ1tNZW51IHNldHVwQ2hhcmFjdGVySW1hZ2VzXSBObyBjaGFyYWN0ZXIgY2FyZHMgZm91bmQgaW4gdGhlIGdyaWQuJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjaGFyYWN0ZXJDYXJkcy5mb3JFYWNoKChjYXJkKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNoYXJhY3RlcktleSA9IGNhcmQuZGF0YXNldC5jaGFyYWN0ZXI7XHJcbiAgICAgIGNvbnN0IGltZ0VsZW1lbnQgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5jaGFyYWN0ZXItcHJldmlldyBpbWcnKTtcclxuXHJcbiAgICAgIGlmIChpbWdFbGVtZW50ICYmIHRoaXMuY2hhcmFjdGVySW1hZ2VTb3VyY2VzW2NoYXJhY3RlcktleV0pIHtcclxuICAgICAgICBpbWdFbGVtZW50LnNyYyA9IHRoaXMuY2hhcmFjdGVySW1hZ2VTb3VyY2VzW2NoYXJhY3RlcktleV07XHJcbiAgICAgIH0gZWxzZSBpZiAoaW1nRWxlbWVudCkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICAgIGBbTWVudSBzZXR1cENoYXJhY3RlckltYWdlc10gSW1hZ2UgZWxlbWVudCBmb3VuZCwgYnV0IG5vIHNvdXJjZSBmb3IgY2hhcmFjdGVyOiAke2NoYXJhY3RlcktleX1gXHJcbiAgICAgICAgKTtcclxuICAgICAgICBpbWdFbGVtZW50LmFsdCA9IGAke2NoYXJhY3RlcktleX0gcHJldmlldyBub3QgYXZhaWxhYmxlYDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBjb25zb2xlLndhcm4oYFtNZW51IHNldHVwQ2hhcmFjdGVySW1hZ2VzXSBObyBpbWcgdGFnIGZvdW5kIGluIGNhcmQgZm9yIGNoYXJhY3RlcjogJHtjaGFyYWN0ZXJLZXl9YCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8g0J7QsdGA0LDQsdC+0YLQutCwINC/0LXRgNCy0L7Qs9C+INCy0LfQsNC40LzQvtC00LXQudGB0YLQstC40Y8g0LTQu9GPINC/0L7Qu9C40YLQuNC60Lgg0LDQstGC0L7QstC+0YHQv9GA0L7QuNC30LLQtdC00LXQvdC40Y9cclxuICBoYW5kbGVGaXJzdEludGVyYWN0aW9uKCkge1xyXG4gICAgaWYgKCF0aGlzLnVzZXJJbnRlcmFjdGVkKSB7XHJcbiAgICAgIHRoaXMudXNlckludGVyYWN0ZWQgPSB0cnVlO1xyXG4gICAgICBjb25zb2xlLmxvZygnW01lbnVdIEZpcnN0IHVzZXIgaW50ZXJhY3Rpb24gcmVjb3JkZWQuJyk7XHJcbiAgICAgIC8vIEF1ZGlvTWFuYWdlciDQsdGD0LTQtdGCINGB0L7Qt9C00LDQvSDQsiBHYW1lLCDQvdC+INGN0YLQviDQstC30LDQuNC80L7QtNC10LnRgdGC0LLQuNC1INCy0LDQttC90L4g0LTQu9GPINCx0YDQsNGD0LfQtdGA0LBcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFkZEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgY29uc3QgYWRkSW50ZXJhY3RpdmVMaXN0ZW5lciA9IChlbGVtZW50LCBldmVudFR5cGUsIGhhbmRsZXJGbikgPT4ge1xyXG4gICAgICBpZiAoZWxlbWVudCkge1xyXG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5oYW5kbGVGaXJzdEludGVyYWN0aW9uKCk7IC8vINCg0LXQs9C40YHRgtGA0LjRgNGD0LXQvCDQstC30LDQuNC80L7QtNC10LnRgdGC0LLQuNC1XHJcbiAgICAgICAgICBoYW5kbGVyRm4uY2FsbCh0aGlzLCBldmVudCk7IC8vINCS0YvQt9GL0LLQsNC10Lwg0L7QsdGA0LDQsdC+0YLRh9C40LpcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBjb25zb2xlLndhcm4oYFtNZW51IGFkZEV2ZW50TGlzdGVuZXJzXSBFbGVtZW50IG5vdCBmb3VuZCBmb3IgbGlzdGVuZXI6ICR7ZWxlbWVudH1gKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBhZGRJbnRlcmFjdGl2ZUxpc3RlbmVyKHRoaXMuc2V0dGluZ3NCdXR0b24sICdjbGljaycsIHRoaXMudG9nZ2xlU2V0dGluZ3MpO1xyXG4gICAgYWRkSW50ZXJhY3RpdmVMaXN0ZW5lcih0aGlzLnBsYXlCdXR0b24sICdjbGljaycsIHRoaXMuc3RhcnRHYW1lKTtcclxuICAgIGFkZEludGVyYWN0aXZlTGlzdGVuZXIodGhpcy5jaGFyYWN0ZXJCdXR0b24sICdjbGljaycsIHRoaXMub3BlbkNoYXJhY3Rlck1vZGFsKTtcclxuXHJcbiAgICBpZiAodGhpcy5jbG9zZVNldHRpbmdzQnV0dG9uKSB7XHJcbiAgICAgIHRoaXMuY2xvc2VTZXR0aW5nc0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuY2xvc2VTZXR0aW5ncygpKTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5zZXR0aW5nc1BhbmVsKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignW01lbnUgYWRkRXZlbnRMaXN0ZW5lcnNdIENsb3NlIGJ1dHRvbiBmb3Igc2V0dGluZ3MgcGFuZWwgbm90IGZvdW5kLicpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmNsb3NlQ2hhcmFjdGVyUGFuZWxCdXR0b24pIHtcclxuICAgICAgdGhpcy5jbG9zZUNoYXJhY3RlclBhbmVsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5jbG9zZUNoYXJhY3Rlck1vZGFsKCkpO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLmNoYXJhY3RlclBhbmVsKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignW01lbnUgYWRkRXZlbnRMaXN0ZW5lcnNdIENsb3NlIGJ1dHRvbiBmb3IgY2hhcmFjdGVyIHBhbmVsIG5vdCBmb3VuZC4nKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5tdXNpY1ZvbHVtZSkge1xyXG4gICAgICAvLyDQo9GB0YLQsNC90LDQstC70LjQstCw0LXQvCDQvdCw0YfQsNC70YzQvdC+0LUg0LfQvdCw0YfQtdC90LjQtSDQuNC3IGxvY2FsU3RvcmFnZSwg0LXRgdC70LggQXVkaW9NYW5hZ2VyINC10YnQtSDQvdC1INC/0YDQuNGI0LXQu1xyXG4gICAgICBpZiAoIXRoaXMuYXVkaW9NYW5hZ2VySW5zdGFuY2UpIHtcclxuICAgICAgICBjb25zdCBzYXZlZFZvbHVtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdtdXNpY1ZvbHVtZScpO1xyXG4gICAgICAgIGlmIChzYXZlZFZvbHVtZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgdGhpcy5tdXNpY1ZvbHVtZS52YWx1ZSA9IHBhcnNlRmxvYXQoc2F2ZWRWb2x1bWUpICogMTAwO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLm11c2ljVm9sdW1lLnZhbHVlID0gNTA7IC8vINCU0LXRhNC+0LvRgtC90L7QtSDQt9C90LDRh9C10L3QuNC1INCz0YDQvtC80LrQvtGB0YLQuFxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5tdXNpY1ZvbHVtZS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKSA9PiB7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVGaXJzdEludGVyYWN0aW9uKCk7IC8vINCT0YDQvtC80LrQvtGB0YLRjCDRgtC+0LbQtSDQstC30LDQuNC80L7QtNC10LnRgdGC0LLQuNC1XHJcbiAgICAgICAgY29uc3QgbmV3Vm9sdW1lID0gcGFyc2VGbG9hdChlLnRhcmdldC52YWx1ZSkgLyAxMDA7XHJcbiAgICAgICAgaWYgKHRoaXMuYXVkaW9NYW5hZ2VySW5zdGFuY2UpIHtcclxuICAgICAgICAgIHRoaXMuYXVkaW9NYW5hZ2VySW5zdGFuY2Uuc2V0TXVzaWNWb2x1bWUobmV3Vm9sdW1lKTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGBbTWVudV0gTXVzaWMgdm9sdW1lIGNoYW5nZWQgdmlhIHNsaWRlciB0bzogJHtuZXdWb2x1bWV9YCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vINCV0YHQu9C4IEF1ZGlvTWFuYWdlciDQtdGJ0LUg0L3QtSDQt9C00LXRgdGMLCDRgdC+0YXRgNCw0L3Rj9C10Lwg0LIgbG9jYWxTdG9yYWdlLCBHYW1lLT5BdWRpb01hbmFnZXIg0L/QvtC00YXQstCw0YLQuNGCXHJcbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbXVzaWNWb2x1bWUnLCBuZXdWb2x1bWUudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICAgICdbTWVudV0gTXVzaWMgdm9sdW1lIHNsaWRlciBjaGFuZ2VkLCBBdWRpb01hbmFnZXIgbm90IGF2YWlsYWJsZS4gU2F2ZWQgdG8gbG9jYWxTdG9yYWdlLidcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5zZnhWb2x1bWUpIHtcclxuICAgICAgLyogLi4uINC+0LHRgNCw0LHQvtGC0YfQuNC6INC00LvRjyBTRlggLi4uICovXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuY2hhcmFjdGVyR3JpZCkge1xyXG4gICAgICB0aGlzLmNoYXJhY3RlckdyaWQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcclxuICAgICAgICBjb25zdCBjbGlja2VkQ2FyZCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCcuY2hhcmFjdGVyLWNhcmQnKTtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICBjbGlja2VkQ2FyZCAmJlxyXG4gICAgICAgICAgdGhpcy5jaGFyYWN0ZXJQYW5lbCAmJlxyXG4gICAgICAgICAgdGhpcy5jaGFyYWN0ZXJQYW5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ3Zpc2libGUnKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgdGhpcy5oYW5kbGVGaXJzdEludGVyYWN0aW9uKCk7XHJcbiAgICAgICAgICB0aGlzLnNlbGVjdENoYXJhY3RlcihjbGlja2VkQ2FyZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9wZW5DaGFyYWN0ZXJNb2RhbCgpIHtcclxuICAgIGlmICghdGhpcy5jaGFyYWN0ZXJQYW5lbCkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdDaGFyYWN0ZXIgcGFuZWwgbm90IGZvdW5kLicpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB0aGlzLmNoYXJhY3RlclBhbmVsLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuICAgIGlmICh0aGlzLnNldHRpbmdzUGFuZWw/LmNsYXNzTGlzdC5jb250YWlucygndmlzaWJsZScpKSB0aGlzLmNsb3NlU2V0dGluZ3MoKTtcclxuICAgIHRoaXMuX2Vuc3VyZU92ZXJsYXkoKS5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XHJcbiAgfVxyXG5cclxuICBjbG9zZUNoYXJhY3Rlck1vZGFsKCkge1xyXG4gICAgdGhpcy5jaGFyYWN0ZXJQYW5lbD8uY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xyXG4gICAgdGhpcy5vdmVybGF5Py5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XHJcbiAgfVxyXG5cclxuICBzZWxlY3RDaGFyYWN0ZXIoY2FyZEVsZW1lbnQpIHtcclxuICAgIGlmICghdGhpcy5jaGFyYWN0ZXJHcmlkIHx8ICFjYXJkRWxlbWVudD8uZGF0YXNldD8uY2hhcmFjdGVyKSByZXR1cm47XHJcbiAgICB0aGlzLnNlbGVjdGVkQ2hhcmFjdGVyID0gY2FyZEVsZW1lbnQuZGF0YXNldC5jaGFyYWN0ZXI7XHJcblxyXG4gICAgdGhpcy5jaGFyYWN0ZXJHcmlkXHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hhcmFjdGVyLWNhcmQnKVxyXG4gICAgICAuZm9yRWFjaCgoYykgPT4gYy5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpKTtcclxuICAgIGNhcmRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XHJcblxyXG4gICAgaWYgKHRoaXMucGxheUJ1dHRvbikgdGhpcy5wbGF5QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcblxyXG4gICAgdGhpcy51cGRhdGVTZWxlY3RlZENoYXJhY3RlckRpc3BsYXkoKTtcclxuICAgIHRoaXMuY2xvc2VDaGFyYWN0ZXJNb2RhbCgpO1xyXG4gICAgVUlNYW5hZ2VyLmZsYXNoTWVzc2FnZShcclxuICAgICAgYENoYXJhY3RlciAke1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0aGlzLnNlbGVjdGVkQ2hhcmFjdGVyLnNsaWNlKDEpXHJcbiAgICAgIH0gc2VsZWN0ZWQhYCxcclxuICAgICAgJ3N1Y2Nlc3MnLFxyXG4gICAgICAyMDAwXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlU2VsZWN0ZWRDaGFyYWN0ZXJEaXNwbGF5KCkge1xyXG4gICAgaWYgKCF0aGlzLnNlbGVjdGVkQ2hhcmFjdGVyRGlzcGxheSkgcmV0dXJuO1xyXG4gICAgaWYgKFxyXG4gICAgICB0aGlzLnNlbGVjdGVkQ2hhcmFjdGVyICYmXHJcbiAgICAgIHRoaXMuY2hhcmFjdGVySW1hZ2VTb3VyY2VzICYmXHJcbiAgICAgIHRoaXMuY2hhcmFjdGVySW1hZ2VTb3VyY2VzW3RoaXMuc2VsZWN0ZWRDaGFyYWN0ZXJdXHJcbiAgICApIHtcclxuICAgICAgY29uc3QgY2hhcmFjdGVyS2V5ID0gdGhpcy5zZWxlY3RlZENoYXJhY3RlcjtcclxuICAgICAgY29uc3QgaW1nU3JjID0gdGhpcy5jaGFyYWN0ZXJJbWFnZVNvdXJjZXNbY2hhcmFjdGVyS2V5XTtcclxuICAgICAgbGV0IGRpc3BsYXllZE5hbWUgPSBjaGFyYWN0ZXJLZXkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBjaGFyYWN0ZXJLZXkuc2xpY2UoMSk7XHJcblxyXG4gICAgICAvLyDQn9GL0YLQsNC10LzRgdGPINC/0L7Qu9GD0YfQuNGC0Ywg0LHQvtC70LXQtSDQv9C+0LvQvdC+0LUg0LjQvNGPINC40Lcg0LrQsNGA0YLQvtGH0LrQuFxyXG4gICAgICBpZiAodGhpcy5jaGFyYWN0ZXJHcmlkKSB7XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRDYXJkSDMgPSB0aGlzLmNoYXJhY3RlckdyaWQucXVlcnlTZWxlY3RvcihcclxuICAgICAgICAgIGAuY2hhcmFjdGVyLWNhcmRbZGF0YS1jaGFyYWN0ZXI9XCIke2NoYXJhY3RlcktleX1cIl0gaDNgXHJcbiAgICAgICAgKTtcclxuICAgICAgICBpZiAoc2VsZWN0ZWRDYXJkSDMpIGRpc3BsYXllZE5hbWUgPSBzZWxlY3RlZENhcmRIMy50ZXh0Q29udGVudDtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnNlbGVjdGVkQ2hhcmFjdGVyRGlzcGxheS5pbm5lckhUTUwgPSBgPGltZyBzcmM9XCIke2ltZ1NyY31cIiBhbHQ9XCIke2Rpc3BsYXllZE5hbWV9XCIgY2xhc3M9XCJzZWxlY3RlZC1jaGFyLXByZXZpZXctaW1nXCI+IDxzcGFuIGNsYXNzPVwic2VsZWN0ZWQtY2hhci1uYW1lIGNoYXItbmFtZS0ke2NoYXJhY3RlcktleX1cIj4ke2Rpc3BsYXllZE5hbWV9PC9zcGFuPmA7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNlbGVjdGVkQ2hhcmFjdGVyRGlzcGxheS5pbm5lckhUTUwgPVxyXG4gICAgICAgICc8c3BhbiBzdHlsZT1cImNvbG9yOiNhYWE7XCI+Tm8gY2hhcmFjdGVyIHNlbGVjdGVkPC9zcGFuPic7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB0b2dnbGVTZXR0aW5ncygpIHtcclxuICAgIGlmICghdGhpcy5zZXR0aW5nc1BhbmVsKSByZXR1cm47XHJcbiAgICBjb25zdCBpc1Zpc2libGUgPSB0aGlzLnNldHRpbmdzUGFuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCd2aXNpYmxlJyk7XHJcbiAgICBpc1Zpc2libGUgPyB0aGlzLmNsb3NlU2V0dGluZ3MoKSA6IHRoaXMub3BlblNldHRpbmdzKCk7XHJcbiAgfVxyXG5cclxuICBvcGVuU2V0dGluZ3MoKSB7XHJcbiAgICBpZiAoIXRoaXMuc2V0dGluZ3NQYW5lbCkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdTZXR0aW5ncyBwYW5lbCBub3QgZm91bmQuJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuc2V0dGluZ3NQYW5lbC5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XHJcbiAgICBpZiAodGhpcy5jaGFyYWN0ZXJQYW5lbD8uY2xhc3NMaXN0LmNvbnRhaW5zKCd2aXNpYmxlJykpIHRoaXMuY2xvc2VDaGFyYWN0ZXJNb2RhbCgpO1xyXG4gICAgdGhpcy5fZW5zdXJlT3ZlcmxheSgpLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTsgLy8g0J/QvtC60LDQt9GL0LLQsNC10Lwg0L7QstC10YDQu9C10Lkg0Lgg0LTQu9GPINC90LDRgdGC0YDQvtC10LpcclxuXHJcbiAgICBpZiAodGhpcy5tdXNpY1ZvbHVtZSAmJiB0aGlzLmF1ZGlvTWFuYWdlckluc3RhbmNlKSB7XHJcbiAgICAgIHRoaXMubXVzaWNWb2x1bWUudmFsdWUgPSB0aGlzLmF1ZGlvTWFuYWdlckluc3RhbmNlLmdldE11c2ljVm9sdW1lKCkgKiAxMDA7XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMubXVzaWNWb2x1bWUpIHtcclxuICAgICAgY29uc3Qgc2F2ZWRWb2x1bWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbXVzaWNWb2x1bWUnKTtcclxuICAgICAgdGhpcy5tdXNpY1ZvbHVtZS52YWx1ZSA9IHNhdmVkVm9sdW1lID8gcGFyc2VGbG9hdChzYXZlZFZvbHVtZSkgKiAxMDAgOiA1MDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNsb3NlU2V0dGluZ3MoKSB7XHJcbiAgICB0aGlzLnNldHRpbmdzUGFuZWw/LmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcclxuICAgIHRoaXMub3ZlcmxheT8uY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpOyAvLyDQodC60YDRi9Cy0LDQtdC8INC+0LLQtdGA0LvQtdC5XHJcbiAgfVxyXG5cclxuICBfZW5zdXJlT3ZlcmxheSgpIHtcclxuICAgIGlmICghdGhpcy5vdmVybGF5KSB7XHJcbiAgICAgIHRoaXMub3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICB0aGlzLm92ZXJsYXkuY2xhc3NOYW1lID0gJ3VpLW1vZGFsLW92ZXJsYXknOyAvLyDQntCx0YnQuNC5INC60LvQsNGB0YEg0LTQu9GPINC+0LLQtdGA0LvQtdGPXHJcbiAgICAgIHRoaXMub3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgLy8g0JfQsNC60YDRi9Cy0LDQtdC8INCw0LrRgtC40LLQvdGD0Y4g0LzQvtC00LDQu9C60YMg0L/RgNC4INC60LvQuNC60LUg0L3QsCDQvtCy0LXRgNC70LXQuVxyXG4gICAgICAgIGlmIChlLnRhcmdldCA9PT0gdGhpcy5vdmVybGF5KSB7XHJcbiAgICAgICAgICBpZiAodGhpcy5jaGFyYWN0ZXJQYW5lbD8uY2xhc3NMaXN0LmNvbnRhaW5zKCd2aXNpYmxlJykpIHRoaXMuY2xvc2VDaGFyYWN0ZXJNb2RhbCgpO1xyXG4gICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3NQYW5lbD8uY2xhc3NMaXN0LmNvbnRhaW5zKCd2aXNpYmxlJykpIHRoaXMuY2xvc2VTZXR0aW5ncygpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5vdmVybGF5KTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLm92ZXJsYXk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBzdGFydEdhbWUoKSB7XHJcbiAgICBpZiAoIXRoaXMudXNlckludGVyYWN0ZWQpIHtcclxuICAgICAgVUlNYW5hZ2VyLmZsYXNoTWVzc2FnZShcclxuICAgICAgICAnUGxlYXNlIGludGVyYWN0IHdpdGggdGhlIG1lbnUgZmlyc3QgKGUuZy4sIGNsaWNrIGEgYnV0dG9uIG9yIGNob29zZSBhIGNoYXJhY3RlcikuJyxcclxuICAgICAgICAnd2FybmluZycsXHJcbiAgICAgICAgMzAwMFxyXG4gICAgICApO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoIXRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXIpIHtcclxuICAgICAgVUlNYW5hZ2VyLmZsYXNoTWVzc2FnZSgnUGxlYXNlIHNlbGVjdCBhIGNoYXJhY3RlciBmaXJzdCEnLCAnd2FybmluZycsIDI1MDApO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbG9hZGluZ092ZXJsYXkgPSBVSU1hbmFnZXIuZ2V0TG9hZGluZ092ZXJsYXkoKTsgLy8gVUlNYW5hZ2VyINGD0L/RgNCw0LLQu9GP0LXRgiDQuNC8XHJcbiAgICBpZiAobG9hZGluZ092ZXJsYXkpIGxvYWRpbmdPdmVybGF5LmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuXHJcbiAgICB0aGlzLmhpZGUoKTsgLy8g0KHQutGA0YvQstCw0LXQvCDQvNC10L3RjlxyXG5cclxuICAgIGNvbnN0IGdhbWVDYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZS1jYW52YXMnKTtcclxuICAgIGlmIChnYW1lQ2FudmFzKSB7XHJcbiAgICAgIGdhbWVDYW52YXMuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7IC8vINCf0L7QutCw0LfRi9Cy0LDQtdC8INC60LDQvdCy0LDRgVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS5lcnJvcignW01lbnVdIENSSVRJQ0FMOiAjZ2FtZS1jYW52YXMgbm90IGZvdW5kIScpO1xyXG4gICAgICBpZiAobG9hZGluZ092ZXJsYXkpIGxvYWRpbmdPdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcclxuICAgICAgdGhpcy5zaG93KCk7IC8vINCf0L7QutCw0LfRi9Cy0LDQtdC8INC80LXQvdGOINC+0LHRgNCw0YLQvdC+LCDQtdGB0LvQuCDQutCw0L3QstCw0YHQsCDQvdC10YJcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIC8vINCV0YHQu9C4INC10YHRgtGMINGB0YLQsNGA0LDRjyDQuNCz0YDQsCwg0L7RgdGC0LDQvdCw0LLQu9C40LLQsNC10Lwg0LXRkSAo0YXQvtGC0Y8gcmVsb2FkINC90LAgR2FtZSBPdmVyINC70YPRh9GI0LUpXHJcbiAgICAgIGlmIChjdXJyZW50R2FtZUluc3RhbmNlICYmIHR5cGVvZiBjdXJyZW50R2FtZUluc3RhbmNlLnN0b3BHYW1lID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1tNZW51XSBTdG9wcGluZyBwcmV2aW91cyBnYW1lIGluc3RhbmNlLicpO1xyXG4gICAgICAgIGN1cnJlbnRHYW1lSW5zdGFuY2Uuc3RvcEdhbWUoKTsgLy8g0K3RgtC+INC/0L7QutCw0LbQtdGCIEdhbWUgT3ZlciDRjdC60YDQsNC9INGB0YLQsNGA0L7QuSDQuNCz0YDRi1xyXG4gICAgICAgIGN1cnJlbnRHYW1lSW5zdGFuY2UgPSBudWxsOyAvLyDQntGH0LjRidCw0LXQvCDRgdGB0YvQu9C60YNcclxuICAgICAgICAvLyDQnNC+0LbQtdGCINC/0L7RgtGA0LXQsdC+0LLQsNGC0YzRgdGPINC90LXQsdC+0LvRjNGI0LDRjyDQt9Cw0LTQtdGA0LbQutCwLCDRh9GC0L7QsdGLIERPTSDRgdGC0LDRgNC+0Lkg0LjQs9GA0Ysg0YPRgdC/0LXQuyDQvtGH0LjRgdGC0LjRgtGM0YHRjyxcclxuICAgICAgICAvLyDQvdC+INC+0LHRi9GH0L3QviByZWxvYWQoKSDQvdCwIEdhbWUgT3ZlciDRgNC10YjQsNC10YIg0Y3RgtGDINC/0YDQvtCx0LvQtdC80YMg0LvRg9GH0YjQtS5cclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS5sb2coYFtNZW51XSBDcmVhdGluZyBuZXcgR2FtZSBpbnN0YW5jZSB3aXRoIGNoYXJhY3RlcjogJHt0aGlzLnNlbGVjdGVkQ2hhcmFjdGVyfWApO1xyXG4gICAgICBjdXJyZW50R2FtZUluc3RhbmNlID0gbmV3IEdhbWUodGhpcy5zZWxlY3RlZENoYXJhY3Rlcik7IC8vINCf0LXRgNC10LTQsNC10Lwg0YbQstC10YJcclxuXHJcbiAgICAgIC8vINCSINC60L7QvdGB0YLRgNGD0LrRgtC+0YDQtSBHYW1lINGB0L7Qt9C00LDQtdGC0YHRjyBBdWRpb01hbmFnZXIuIEdhbWUg0LTQvtC70LbQtdC9INC/0LXRgNC10LTQsNGC0Ywg0LXQs9C+INC+0LHRgNCw0YLQvdC+INCyIE1lbnUuXHJcbiAgICAgIC8vINCU0LvRjyDRjdGC0L7Qs9C+INCyIEdhbWUuanMg0LTQvtC70LbQtdC9INCx0YvRgtGMINCy0YvQt9C+0LIgbWVudUluc3RhbmNlLnNldEF1ZGlvTWFuYWdlcih0aGlzLmF1ZGlvTWFuYWdlcik7XHJcbiAgICAgIC8vINCt0YLQviDRgtGA0LXQsdGD0LXRgiwg0YfRgtC+0LHRiyBHYW1lINC30L3QsNC7INC+IG1lbnVJbnN0YW5jZS4g0J/RgNC+0YnQtSwg0LXRgdC70LggR2FtZSDRgdCw0Lwg0YPQv9GA0LDQstC70Y/QtdGCIFVJINCz0YDQvtC80LrQvtGB0YLQuFxyXG4gICAgICAvLyDRh9C10YDQtdC3IFVJTWFuYWdlciwg0LjQu9C4INC10YHQu9C4IE1lbnUg0L3QsNC/0YDRj9C80YPRjiDQuNGB0L/QvtC70YzQt9GD0LXRgiBsb2NhbFN0b3JhZ2Ug0LTQu9GPINC90LDRh9Cw0LvRjNC90L7QuSDRg9GB0YLQsNC90L7QstC60Lgg0LPRgNC+0LzQutC+0YHRgtC4LFxyXG4gICAgICAvLyDQsCBBdWRpb01hbmFnZXIg0L/RgNC4INGB0YLQsNGA0YLQtSDRh9C40YLQsNC10YIg0LjQtyBsb2NhbFN0b3JhZ2UuXHJcblxyXG4gICAgICAvLyDQktCQ0JbQndCeOiBHYW1lLmpzINC00L7Qu9C20LXQvSDRgdCw0Lwg0LLRi9C30LLQsNGC0Ywg0YHQstC+0LkgdHJpZ2dlckdhbWVTdGFydCgpINC/0L7RgdC70LUg0YHQstC+0LXQuSDQuNC90LjRhtC40LDQu9C40LfQsNGG0LjQuC5cclxuICAgICAgLy8gTWVudS5qcyDQv9GA0L7RgdGC0L4g0YHQvtC30LTQsNC10YIg0Y3QutC30LXQvNC/0LvRj9GAIEdhbWUuXHJcbiAgICAgIC8vINCV0YHQu9C4IEdhbWUg0L3QtSDQt9Cw0L/Rg9GB0LrQsNC10YIgdHJpZ2dlckdhbWVTdGFydCgpINCw0LLRgtC+0LzQsNGC0LjRh9C10YHQutC4INC40Lcg0LrQvtC90YHRgtGA0YPQutGC0L7RgNCwICjRh9GC0L4g0YHQtdC50YfQsNGBINGC0LDQuiksXHJcbiAgICAgIC8vINGC0L4gTWVudSDQtNC+0LvQttC10L0g0LXQs9C+INCy0YvQt9Cy0LDRgtGMOlxyXG4gICAgICBpZiAoY3VycmVudEdhbWVJbnN0YW5jZSAmJiB0eXBlb2YgY3VycmVudEdhbWVJbnN0YW5jZS50cmlnZ2VyR2FtZVN0YXJ0ID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgYXdhaXQgY3VycmVudEdhbWVJbnN0YW5jZS50cmlnZ2VyR2FtZVN0YXJ0KCk7IC8vINCX0LDQv9GD0YHQutCw0LXQvCDQv9GA0L7RhtC10YHRgSDQt9Cw0LPRgNGD0LfQutC4INC4INGB0YLQsNGA0YLQsCDQuNCz0YDRi1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignR2FtZSBpbnN0YW5jZSBjcmVhdGVkLCBidXQgdHJpZ2dlckdhbWVTdGFydCBpcyBub3QgYXZhaWxhYmxlLicpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDQn9C+0YHQu9C1INGD0YHQv9C10YjQvdC+0LPQviBjdXJyZW50R2FtZUluc3RhbmNlLnRyaWdnZXJHYW1lU3RhcnQoKVxyXG4gICAgICAvLyBsb2FkaW5nT3ZlcmxheSDQsdGD0LTQtdGCINGB0LrRgNGL0YIg0LLQvdGD0YLRgNC4INC70L7Qs9C40LrQuCBHYW1lLmpzXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbTWVudV0gRXJyb3IgZHVyaW5nIGdhbWUgaW5pdGlhbGl6YXRpb24gb3Igc3RhcnQ6JywgZXJyb3IpO1xyXG4gICAgICBVSU1hbmFnZXIuZmxhc2hNZXNzYWdlKGBHYW1lIFN0YXJ0IEZhaWxlZDogJHtlcnJvci5tZXNzYWdlfWAsICdlcnJvcicsIDEwMDAwKTtcclxuICAgICAgaWYgKGxvYWRpbmdPdmVybGF5KSBsb2FkaW5nT3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XHJcbiAgICAgIHRoaXMuc2hvdygpOyAvLyDQn9C+0LrQsNC30YvQstCw0LXQvCDQvNC10L3RjiDQvtCx0YDQsNGC0L3QvlxyXG4gICAgICBpZiAoZ2FtZUNhbnZhcykgZ2FtZUNhbnZhcy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOyAvLyDQodC60YDRi9Cy0LDQtdC8INC60LDQvdCy0LDRgVxyXG4gICAgICBjdXJyZW50R2FtZUluc3RhbmNlID0gbnVsbDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNob3coKSB7XHJcbiAgICBpZiAodGhpcy5tZW51Q29udGFpbmVyKSB0aGlzLm1lbnVDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsgLy8g0LjQu9C4ICdibG9jaydcclxuICAgIC8vINCj0LHQtdC00LjQvNGB0Y8sINGH0YLQviDQuNCz0YDQvtCy0YvQtSDRjdC70LXQvNC10L3RgtGLINGB0LrRgNGL0YLRiywg0LXRgdC70Lgg0L/QvtC60LDQt9GL0LLQsNC10Lwg0LzQtdC90Y5cclxuICAgIGNvbnN0IGdhbWVDYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZS1jYW52YXMnKTtcclxuICAgIGlmIChnYW1lQ2FudmFzKSBnYW1lQ2FudmFzLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICBVSU1hbmFnZXIuaGlkZUdhbWVVSSgpOyAvLyDQodC60YDRi9Cy0LDQtdGCINC60L7QvdGC0YDQvtC70YssINC+0YfQutC4LCDRgtCw0LnQvNC10YBcclxuICAgIFVJTWFuYWdlci5oaWRlR2FtZU92ZXJTY3JlZW4oKTtcclxuICAgIC8vINCX0LDQs9GA0YPQt9C+0YfQvdGL0Lkg0L7QstC10YDQu9C10Lkg0YLQvtC20LUg0LvRg9GH0YjQtSDRgdC60YDRi9GC0YwsINC10YHQu9C4INC80Ysg0LIg0LzQtdC90Y5cclxuICAgIGNvbnN0IGxvYWRpbmdPdmVybGF5ID0gVUlNYW5hZ2VyLmdldExvYWRpbmdPdmVybGF5KCk7XHJcbiAgICBpZiAobG9hZGluZ092ZXJsYXkpIGxvYWRpbmdPdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcclxuICB9XHJcblxyXG4gIGhpZGUoKSB7XHJcbiAgICBpZiAodGhpcy5tZW51Q29udGFpbmVyKSB0aGlzLm1lbnVDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICB9XHJcbn1cclxuXHJcbi8vINCt0LrRgdC/0L7RgNGC0LjRgNGD0LXQvCBNZW51INC4IGN1cnJlbnRHYW1lSW5zdGFuY2UgKNC10YHQu9C4INC+0L0g0L3Rg9C20LXQvSDQs9C00LUt0YLQviDQtdGJ0LUsINGF0L7RgtGPINC70YPRh9GI0LUg0LjQt9Cx0LXQs9Cw0YLRjCDQs9C70L7QsdCw0LvRjNC90YvRhSDRgdGB0YvQu9C+0LopXHJcbmV4cG9ydCB7IGN1cnJlbnRHYW1lSW5zdGFuY2UgfTtcclxuIiwiLy8g0J/RgNC10LTQv9C+0LvQvtC20LjQvCwg0Y3RgtC+IHNyYy9tYWluLmpzXHJcbmltcG9ydCB7IE1lbnUgfSBmcm9tICcuL1VJL01lbnUuanMnO1xyXG5cclxuaW1wb3J0ICcuLi9jc3Mvc3R5bGVzLmNzcyc7IC8vINCf0YPRgtGMINC6IENTUyAo0LXRgdC70Lgg0L7QvSDRgyDRgtC10LHRjyDQtdGB0YLRjClcclxuLy8g0J/Rg9GC0Lgg0Log0LjQt9C+0LHRgNCw0LbQtdC90LjRj9C8INC00L7Qu9C20L3RiyDQsdGL0YLRjCDQvtGC0L3QvtGB0LjRgtC10LvRjNC90L4gbWFpbi5qc1xyXG5pbXBvcnQgcmVkU3R1ZGVudEltZyBmcm9tICcuLi9hc3NldHMvaW1hZ2VzL3JlZC5wbmcnOyAvLyDQn9GA0L7QstC10YDRjCDRjdGC0Lgg0L/Rg9GC0LghXHJcbmltcG9ydCBibHVlU3R1ZGVudEltZyBmcm9tICcuLi9hc3NldHMvaW1hZ2VzL2JsdWUucG5nJztcclxuaW1wb3J0IHllbGxvd1N0dWRlbnRJbWcgZnJvbSAnLi4vYXNzZXRzL2ltYWdlcy95ZWxsb3cucG5nJztcclxuaW1wb3J0IGdyZWVuU3R1ZGVudEltZyBmcm9tICcuLi9hc3NldHMvaW1hZ2VzL2dyZWVuLnBuZyc7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKCdbbWFpbi5qc10gRE9NQ29udGVudExvYWRlZC4gSW5pdGlhbGl6aW5nIE1lbnUuLi4nKTtcclxuXHJcbiAgY29uc3QgY2hhcmFjdGVySW1hZ2VTb3VyY2VzID0ge1xyXG4gICAgcmVkOiByZWRTdHVkZW50SW1nLFxyXG4gICAgYmx1ZTogYmx1ZVN0dWRlbnRJbWcsXHJcbiAgICB5ZWxsb3c6IHllbGxvd1N0dWRlbnRJbWcsXHJcbiAgICBncmVlbjogZ3JlZW5TdHVkZW50SW1nLFxyXG4gIH07XHJcblxyXG4gIG5ldyBNZW51KGNoYXJhY3RlckltYWdlU291cmNlcyk7IC8vIE1lbnUg0YLQtdC/0LXRgNGMINCz0LvQsNCy0L3Ri9C5INC60L7QvdGC0YDQvtC70LvQtdGAIFVJINC00LvRjyDQvNC10L3RjlxyXG4gIGNvbnNvbGUubG9nKCdbbWFpbi5qc10gTWVudSBpbnN0YW5jZSBjcmVhdGVkLicpO1xyXG59KTtcclxuIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJnIiwiZ2xvYmFsVGhpcyIsInRoaXMiLCJGdW5jdGlvbiIsImUiLCJ3aW5kb3ciLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwibG9jYXRpb24iLCJkb2N1bWVudCIsImN1cnJlbnRTY3JpcHQiLCJ0YWdOYW1lIiwidG9VcHBlckNhc2UiLCJzcmMiLCJzY3JpcHRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJsZW5ndGgiLCJpIiwidGVzdCIsIkVycm9yIiwicmVwbGFjZSIsInAiLCJJbnB1dE1hbmFnZXIiLCJjb25zdHJ1Y3RvciIsImtleXMiLCJ1cCIsImRvd24iLCJsZWZ0IiwicmlnaHQiLCJzZXRLZXkiLCJrZXkiLCJpc1ByZXNzZWQiLCJoYXNPd25Qcm9wZXJ0eSIsImdldElucHV0RGlyZWN0aW9uIiwieCIsInkiLCJHYW1lU3RhdGUiLCJMT0FESU5HIiwiTUVOVSIsIlBMQVlJTkciLCJBU0tJTkdfUVVFU1RJT04iLCJTRUxFQ1RJTkdfRkxPT1IiLCJUUkFOU0lUSU9OSU5HIiwiR0FNRV9PVkVSIiwicXVlc3Rpb25zIiwicXVlc3Rpb24iLCJvcHRpb25zIiwiY29ycmVjdEFuc3dlciIsIlVJTWFuYWdlciIsInN0YXRpYyIsInNldEdhbWVwbGF5TWFuYWdlciIsIm1hbmFnZXIiLCJnYW1lcGxheU1hbmFnZXJJbnN0YW5jZSIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsImluaXRpYWxpemVVSSIsImlucHV0TWFuYWdlciIsIndhcm4iLCJjcmVhdGVDb250cm9scyIsImNyZWF0ZVF1ZXN0aW9uVUkiLCJjcmVhdGVGbG9vclNlbGVjdGlvblVJIiwiZW5zdXJlRmxhc2hNZXNzYWdlQ29udGFpbmVyIiwiZ2V0TG9hZGluZ092ZXJsYXkiLCJjcmVhdGVHYW1lT3ZlclNjcmVlbiIsImluaXRpYWxpemVUaW1lciIsImNvbnRyb2xzQ29udGFpbmVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJjcmVhdGVFbGVtZW50IiwiaWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJpbm5lckhUTUwiLCJkaXJlY3Rpb24iLCJpY29uIiwiZ3JpZEFyZWEiLCJmb3JFYWNoIiwiYnRuIiwiY2xhc3NOYW1lIiwidGV4dENvbnRlbnQiLCJzdHlsZSIsImRhdGFzZXQiLCJzdGFydCIsInByZXZlbnREZWZhdWx0IiwiZW5kIiwicmVtb3ZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInBhc3NpdmUiLCJzY29yZURpc3AiLCJzY29yZUVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidGFyZ2V0RWxlbWVudCIsImRpdiIsInF1ZXN0aW9uT3ZlcmxheSIsInF1ZXN0aW9uVGV4dEVsZW1lbnQiLCJhbnN3ZXJCdXR0b25zQ29udGFpbmVyIiwiZmxvb3JTZWxlY3Rpb25QYW5lbCIsImZsb29yQnV0dG9uc0NvbnRhaW5lciIsImZsYXNoTWVzc2FnZUNvbnRhaW5lciIsImZsYXNoTWVzc2FnZSIsIm1lc3NhZ2UiLCJ0eXBlIiwiZHVyYXRpb24iLCJjb250YWluZXIiLCJtc2dFbCIsIm1zZ0lkIiwiRGF0ZSIsIm5vdyIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNsZWFyVGltZW91dCIsImZsYXNoTWVzc2FnZVRpbWVvdXRzIiwic2V0VGltZW91dCIsImVuZEhhbmRsZXIiLCJwcm9wZXJ0eU5hbWUiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJvbmNlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImxvYWRpbmdPdmVybGF5RWxlbWVudCIsInRleHQiLCJnYW1lT3ZlclNjcmVlbkVsZW1lbnQiLCJnYW1lT3ZlclRpdGxlRWxlbWVudCIsImNyZWF0b3JOYW1lc0xpc3RFbGVtZW50IiwiY2xhc3NJbmZvRWxlbWVudCIsInJldHVyblRvTWVudUJ1dHRvbkVsZW1lbnQiLCJsZWFkZXJib2FyZEJvZHkiLCJyZWxvYWQiLCJzaG93R2FtZU92ZXJTY3JlZW4iLCJpc1dpbiIsImNyZWF0b3JzIiwiY2xhc3NJbmZvVGV4dCIsIm5hbWUiLCJsaSIsInVwZGF0ZUxlYWRlcmJvYXJkIiwiaGlkZUdhbWVVSSIsImhpZGVRdWVzdGlvbiIsImhpZGVGbG9vclNlbGVjdGlvblVJIiwiaGlkZUdhbWVPdmVyU2NyZWVuIiwic2hvd1F1ZXN0aW9uIiwicXVlc3Rpb25EYXRhIiwiaGFuZGxlQW5zd2VyIiwib3B0aW9uVGV4dCIsImluZGV4IiwicGFyc2VJbnQiLCJ0YXJnZXQiLCJzaG93Rmxvb3JTZWxlY3Rpb25VSSIsIm1pbkZsb29yIiwibWF4Rmxvb3IiLCJjdXJyZW50Rmxvb3IiLCJoYW5kbGVGbG9vclNlbGVjdGlvbiIsImZsb29yIiwiZGlzYWJsZWQiLCJ1cGRhdGVTY29yZSIsInNjb3JlIiwic2hvd0dhbWVVSSIsImNhbnZhcyIsInNjb3JlRGlzcGxheSIsImRpc3BsYXkiLCJ0aW1lckVsZW1lbnQiLCJzYXZlZERhdGEiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwibGVhZGVyYm9hcmREYXRhIiwiSlNPTiIsInBhcnNlIiwicmVtb3ZlSXRlbSIsInN0YXJ0VGltZXIiLCJ0aW1lckludGVydmFsSWQiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImdhbWUiLCJnYW1lU3RhdGUiLCJnYW1lU3RhcnRUaW1lIiwidXBkYXRlVGltZXIiLCJlbGFwc2VkIiwibWludXRlcyIsInNlY29uZHMiLCJwYWRTdGFydCIsInN0b3BUaW1lciIsIndhc1dpbiIsInRvdGFsVGltZSIsInRvRml4ZWQiLCJwdXNoIiwidGltZSIsImRhdGUiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJzb3J0IiwiYSIsImIiLCJzZXRJdGVtIiwic3RyaW5naWZ5Iiwic2xpY2UiLCJnb1NjcmVlbiIsInRvcFNjb3JlcyIsImNlbGwiLCJpbnNlcnRSb3ciLCJpbnNlcnRDZWxsIiwiY29sU3BhbiIsInRleHRBbGlnbiIsInJ1biIsIm1pbnMiLCJzZWNzIiwibWlsbHMiLCJyb3ciLCJDaGFyYWN0ZXIiLCJET1dOIiwiUklHSFQiLCJVUCIsIkxFRlQiLCJjdHgiLCJzcHJpdGVVcmwiLCJzcHJpdGUiLCJJbWFnZSIsImZyYW1lU2l6ZSIsImZyYW1lQ291bnQiLCJzY2FsZSIsInJlbmRlclNpemUiLCJzcGVlZCIsImFuaW1hdGlvblNwZWVkIiwiY29sbGlzaW9uQm94V2lkdGhSYXRpbyIsImNvbGxpc2lvbkJveEhlaWdodFJhdGlvIiwiY29sbGlzaW9uQm94RmVldE9mZnNldFJhdGlvIiwiY3VycmVudERpcmVjdGlvbiIsIkRpcmVjdGlvbiIsImN1cnJlbnRGcmFtZSIsImlzTW92aW5nIiwibGFzdEZyYW1lVGltZSIsIm9ubG9hZCIsIm9uZXJyb3IiLCJ1cGRhdGVBbmltYXRpb24iLCJ0aW1lc3RhbXAiLCJnZXRDb2xsaXNpb25Cb3giLCJwb3NYIiwicG9zWSIsIndpZHRoIiwiaGVpZ2h0IiwiaGFsZldpZHRoIiwiZmVldE9mZnNldFkiLCJ0b3AiLCJib3R0b20iLCJkcmF3Iiwib2Zmc2V0WCIsIm9mZnNldFkiLCJjb21wbGV0ZSIsIm5hdHVyYWxIZWlnaHQiLCJmcmFtZVgiLCJmcmFtZVkiLCJzY3JlZW5YIiwic2NyZWVuWSIsImRyYXdJbWFnZSIsIkJvb2siLCJ0aWxlU2l6ZSIsInNpemUiLCJjb2xsZWN0ZWQiLCJpc0NvbGxlY3RlZCIsImJvb2tJbWFnZSIsImZpbGxTdHlsZSIsImZpbGxSZWN0Iiwic3Ryb2tlU3R5bGUiLCJzdHJva2VSZWN0IiwiZm9udCIsInRleHRCYXNlbGluZSIsImZpbGxUZXh0IiwicmFuZG9tSW50IiwibWluIiwibWF4IiwiY2VpbCIsInNpbXBsZUhhc2giLCJzZWVkIiwiaCIsImltdWwiLCJhZGp1c3RDb2xvckJyaWdodG5lc3MiLCJoZXhDb2xvciIsImZhY3RvciIsInIiLCJyb3VuZCIsIk1hcFJlbmRlcmVyIiwidGlsZUNvbG9ycyIsImJhc2VXYWxsQ29sb3IiLCJiYXNlQ29ycmlkb3JDb2xvciIsImJhc2VSb29tRmxvb3JDb2xvciIsImxpZnRDb2xvciIsImVycm9yQ29sb3IiLCJyZXNldENvbG9yQ2FjaGUiLCJnZXRUaWxlQ29sb3IiLCJjIiwidGlsZVZhbHVlIiwicm9vbXMiLCJjb2xvciIsIm1hcERhdGEiLCJtYXAiLCJib29rcyIsImxpZnRQb3NpdGlvbiIsImNvbHMiLCJyb3dzIiwiY3VycmVudE9mZnNldFgiLCJjdXJyZW50T2Zmc2V0WSIsInN0YXJ0Q29sIiwiZW5kQ29sIiwic3RhcnRSb3ciLCJlbmRSb3ciLCJzYXZlIiwiZHJhd0Jhc2VUaWxlcyIsImRyYXdSb29tRGV0YWlscyIsImRyYXdMaWZ0RGV0YWlscyIsImRyYXdCb29rcyIsInJlc3RvcmUiLCJzaGFkb3dDb2xvciIsIndhbGxFZGdlQ29sb3JEYXJrIiwid2FsbEVkZ2VDb2xvckxpZ2h0Iiwid2FsbFRvcEVkZ2VDb2xvciIsInVuZGVmaW5lZCIsImVkZ2VTaXplIiwicm9vbSIsImNvbCIsInJvb21TY3JlZW5YIiwicm9vbVNjcmVlblkiLCJyb29tU2NyZWVuVyIsInJvb21TY3JlZW5IIiwiZmxvb3JDb2xvciIsImZsb29yTnVtIiwiZmxvb3JOdW1iZXIiLCJyb29tU2VlZCIsImJyaWdodG5lc3NGYWN0b3IiLCJsaW5lV2lkdGgiLCJkcmF3Um9vbURlY29yYXRpb25zIiwidGlsZVgiLCJ0aWxlWSIsImJ1dHRvblJhZGl1cyIsImJ1dHRvblgiLCJidXR0b25ZIiwiYmVnaW5QYXRoIiwiYXJjIiwiUEkiLCJmaWxsIiwidyIsInRzIiwibWFyZ2luIiwib2JqTWFyZ2luIiwiZHJhd1JlY3QiLCJyeCIsInJ5IiwicnciLCJyaCIsIm91dGxpbmUiLCJzY3JlZW5XIiwic2NyZWVuSCIsImRyYXdDaXJjbGUiLCJjeCIsImN5IiwicmFkaXVzIiwic3Ryb2tlIiwiZGVza1ciLCJkZXNrSCIsImNoYWlySCIsInNwYWNlWCIsInNwYWNlWSIsInJvd1kiLCJjb2xYIiwidGFibGVXIiwidGFibGVIIiwiY2FiaW5ldFciLCJzaGVsZlciLCJzaGVsZlNwYWNpbmciLCJzeCIsInNoZWxmWSIsIm1vdmVUbyIsImxpbmVUbyIsInRhYmxlTGliWCIsImxhYlRhYmxlSCIsIm1ldGFsU2hlbGZXIiwibWV0YWxTaGVsZkgiLCJib3hTaXplIiwiZGVmYXVsdEJvb2tTaXplIiwiYm9vayIsImJvb2tTaXplIiwiY29uc2lzdGVudExpZnRDb29yZHMiLCJERUZBVUxUX0dFTl9QQVJBTVMiLCJtaW5Sb29tU2l6ZSIsIm1heFJvb21TaXplIiwiY29ycmlkb3JUaGlja25lc3MiLCJudW1Sb29tcyIsIm1heFJvb21BdHRlbXB0cyIsInJvb21UeXBlV2VpZ2h0cyIsImNsYXNzcm9vbSIsIm9mZmljZSIsImxpYnJhcnkiLCJneW0iLCJ1dGlsaXR5IiwibGFiIiwic3RvcmFnZSIsIl9jYXJ2ZUNvcnJpZG9yQmV0d2VlbiIsInJvb21BIiwicm9vbUIiLCJjZW50ZXJUaWxlWCIsImF4IiwiY2VudGVyVGlsZVkiLCJheSIsImJ4IiwiYnkiLCJfY2FydmVIb3Jpem9udGFsQ29ycmlkb3IiLCJfY2FydmVWZXJ0aWNhbENvcnJpZG9yIiwiYzEiLCJjMiIsInN0YXJ0QyIsImVuZEMiLCJyMSIsInIyIiwic3RhcnRSIiwiZW5kUiIsIl9nZXRUaWxlT3Blbm5lc3NEZXRhaWxzIiwiaXNXYWxrYWJsZSIsInZhbCIsIm9wZW5TaWRlcyIsImRlbHRhcyIsImR4IiwiZHkiLCJmbGFncyIsImlzQ2hva2Vwb2ludCIsIl9mb3JjZUNvbm5lY3Rpb25Ub1BvaW50IiwidGFyZ2V0WCIsInRhcmdldFkiLCJkaXJzIiwibnQiLCJxIiwidmlzaXRlZCIsIlNldCIsInBhdGhhYmxlIiwidGFyZ2V0cyIsImNsb3Nlc3QiLCJtaW5EaXN0IiwiSW5maW5pdHkiLCJjWCIsImNZIiwiZCIsInNoaWZ0IiwiblgiLCJuWSIsImhhcyIsImluY2x1ZGVzIiwiZGlzdCIsIl9pc0xpZnRSZWFjaGFibGUiLCJsaWZ0UG9zIiwicmVhY2hhYmxlIiwibWFwR3JpZCIsInN0YXJ0WCIsInN0YXJ0WSIsIndhbGthYmxlVGlsZVZhbHVlcyIsInF1ZXVlIiwiZGlyZWN0aW9ucyIsImN1cnJYIiwiY3VyclkiLCJuZXh0WCIsIm5leHRZIiwicGVyZm9ybUJGUyIsImxvZ01hcEdyaWRGb3JEZWJ1ZyIsInJTIiwidCIsImpvaW4iLCJQcm9jZWR1cmFsTWFwIiwiY2FudmFzV2lkdGgiLCJjYW52YXNIZWlnaHQiLCJyZW5kZXJlciIsImdlbmVyYXRpb25QYXJhbXMiLCJib29rc1Blck1hcCIsImdlbmVyYXRpb25Db25maWciLCJjb25maWciLCJ1c2VyUGFyYW1zIiwiZ2VuUGFyYW1zIiwiQXJyYXkiLCJmcm9tIiwicm9vbUF0dGVtcHRzIiwid2VpZ2h0ZWRUeXBlcyIsIndlaWdodCIsInJvb21XaWR0aCIsInJvb21IZWlnaHQiLCJyb29tQ29sIiwicm9vbVJvdyIsIm5ld1Jvb20iLCJjb25uZWN0ZWQiLCJvdmVybGFwcyIsImJ1ZmZlciIsImV4aXN0aW5nUm9vbSIsIl9wbGFjZVJvb21zIiwiZXJyb3JNc2ciLCJjb25uZWN0ZWRTZXQiLCJ1bmNvbm5lY3RlZFJvb21zIiwiYmVzdERpc3RTcSIsImJlc3RVbmNSb29tIiwiYmVzdENvblJvb21JZCIsImJlc3RVbmNJZHgiLCJyb29tVSIsInJvb21DIiwiZGlzdFNxIiwiYmVzdENvblJvb20iLCJmaW5kIiwic3BsaWNlIiwiX2Nvbm5lY3RSb29tc0JldHRlciIsInBsYWNlZExpZnREYXRhIiwiY3VycmVudENvbnNpc3RlbnRDb29yZHMiLCJyb29tc0xpc3QiLCJjb29yZHNUb1VzZSIsIm5ld2x5Rm91bmRDb29yZHMiLCJjYW5kaWRhdGVzIiwic3RhcnRJQyIsImVuZElDIiwic3RhcnRJUiIsImVuZElSIiwiYmVzdCIsIl9maW5kTGlmdFBsYWNlbWVudExvY2F0aW9uIiwidGlsZVZhbHVlQmVmb3JlTGlmdCIsImxpZnRSb29tT2JqZWN0IiwibWVzc2FnZVJlYXNvbiIsImFsY292ZVNpemUiLCJhbGNvdmVDb2wiLCJhbGNvdmVSb3ciLCJuZXdMaWZ0Um9vbURhdGEiLCJsaWZ0V29ybGRQb3MiLCJyb29tSWQiLCJwb3NpdGlvbiIsImNvb3JkcyIsIl9wbGFjZUxpZnQiLCJfZW5zdXJlTWFwQm9yZGVycyIsImdlbmVyYXRlTGV2ZWxEYXRhIiwicGxhY2VCb29rc1JlbGlhYmx5IiwibG9nTWFwR3JpZCIsInBvdGVudGlhbExvY3MiLCJwbGFjZWRDb29yZHMiLCJ0aWxlVmFsIiwiaXNMaWZ0IiwicGxhY2VkIiwicmFuZElkeCIsImJvb2tJZCIsIndvcmxkWCIsIndvcmxkWSIsImZpbmRSYW5kb21Jbml0aWFsU3Bhd25Qb3NpdGlvbiIsImNoYXJhY3RlckZvckNvbGxpc2lvbkNoZWNrIiwic3VpdGFibGVUaWxlcyIsInRlbXBDaGFyQ29sbGlzaW9uQm94IiwiY29sbGlzaW9uQm94V2lkdGgiLCJjb2xsaXNpb25Cb3hIZWlnaHQiLCJjaGVja0NhbmRpZGF0ZSIsImhhbGZDaGFyV2lkdGgiLCJoYWxmQ2hhckhlaWdodCIsInBvaW50c1RvVmVyaWZ5IiwicG9pbnQiLCJpc1RpbGVPcGVuRW5vdWdoIiwick9mZnNldCIsImNPZmZzZXQiLCJyVGVzdCIsImNUZXN0IiwibWluT3BlblNpZGVzIiwiYXZvaWROYXJyb3ciLCJvcGVuQ291bnQiLCJpc09wZW4iLCJmaW5kTmVhcmVzdFdhbGthYmxlVGlsZSIsIm1heFIiLCJleGNsdWRlTGlmdCIsInRYIiwidFkiLCJhYnMiLCJwYXRoYWJsZUJGUyIsImdldFJvb21Db250YWluaW5nVGlsZSIsImFjdHVhbFRpbGUiLCJnZXRSb29tQ2VudGVyIiwiZ2V0U3Bhd25Qb2ludEluUm9vbU9mTGlmdCIsImxpZnRUaWxlWCIsImxpZnRUaWxlWSIsInByZWZlcnJlZERpc3RhbmNlIiwiZGlyIiwiY2hlY2tYIiwiY2hlY2tZIiwiZmluZE5lYXJieVVuYW5zd2VyZWRCb29rIiwiY2xvc2VzdEJvb2siLCJtaW5EaXN0U3EiLCJkWCIsImRZIiwibWFya0Jvb2tBc0NvbGxlY3RlZCIsImJvb2tUb0NvbGxlY3QiLCJmaW5kTmVhcmJ5TGlmdCIsImdldExpZnRQb3NpdGlvbiIsInJOIiwiTGV2ZWwiLCJjdXJyZW50TWFwIiwibG9hZEZsb29yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJnZXRDdXJyZW50Qm9va3MiLCJHYW1lUmVuZGVyZXIiLCJpbml0aWFsaXplQ2FudmFzIiwiZ2V0Q29udGV4dCIsImltYWdlU21vb3RoaW5nRW5hYmxlZCIsInJlc2l6ZUNhbnZhcyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImNoYXJhY3RlciIsImxldmVsIiwiY2VudGVyQ2FtZXJhT25DaGFyYWN0ZXIiLCJkcmF3RnJhbWUiLCJjbGVhclJlY3QiLCJjaGFyIiwiZHJhd1dpblNjcmVlbiIsInRhcmdldEJvb2tzVG9XaW4iLCJERUJVR19HTV9GTE9PUiIsIkdhbWVwbGF5TWFuYWdlciIsImJpbmQiLCJ1cGRhdGUiLCJ1cGRhdGVQbGF5aW5nU3RhdGUiLCJtb3ZlZCIsImhhbmRsZU1vdmVtZW50IiwiaGFuZGxlSW50ZXJhY3Rpb25zIiwiaW5wdXQiLCJhY3R1YWxYIiwiYWN0dWFsWSIsImNhbk1vdmVYIiwiY2hlY2tDb2xsaXNpb24iLCJjYW5Nb3ZlWSIsImJveCIsInBvaW50cyIsImluaXRpYXRlUXVlc3Rpb24iLCJsaWZ0Q29vbGRvd25BY3RpdmUiLCJpbml0aWF0ZUZsb29yU2VsZWN0aW9uIiwic2V0R2FtZVN0YXRlIiwiY3VycmVudEJvb2tUYXJnZXQiLCJhdmFpbGFibGVRdWVzdGlvbnMiLCJxSWR4IiwiY3VycmVudFF1ZXN0aW9uRGF0YSIsInNlbE9wdElkeCIsInRvdGFsQm9va3NDb2xsZWN0ZWRHbG9iYWxseSIsIl9zZXRHYW1lT3ZlciIsInNlbEZsb29yIiwiaGFuZGxlTGlmdFRyYW5zaXRpb24iLCJjYXRjaCIsImVyciIsIl9oYW5kbGVGYXRhbEVycm9yIiwidGFyZ2V0Rmxvb3IiLCJpc0RlYnVnIiwiTElGVF9DT09MRE9XTl9NUyIsIm1hcEluc3QiLCJsaWZ0RGF0YSIsImZpbmFsU3Bhd24iLCJsaWZ0Um9vbSIsImVuc3VyZUNoYXJhY3RlcklzT25XYWxrYWJsZVRpbGUiLCJzdGFydExpZnRDb29sZG93blRpbWVyIiwiYWxsb3dTdGFuZGluZ09uTGlmdCIsImNUWCIsImNUWSIsImNUViIsInNhZmVTdGFuZCIsImNvbGxpZGluZ1dhbGwiLCJuZWVkc051ZGdlIiwic2FmZVNwb3QiLCJlbWVyZ2VuY3kiLCJNVVNJQ19TT1VSQ0VTIiwidHJhY2sxIiwidHJhY2syIiwidHJhY2szIiwiVFJBQ0tfQ1lDTEVfT1JERVIiLCJBdWRpb01hbmFnZXIiLCJtdXNpY1ZvbHVtZSIsImN1cnJlbnRNdXNpY0VsZW1lbnQiLCJjdXJyZW50VHJhY2tLZXkiLCJpc011c2ljUGxheWluZyIsInNhdmVkVm9sdW1lIiwicGFyc2VGbG9hdCIsImF1ZGlvRWxlbWVudHMiLCJfcHJlbG9hZFRyYWNrcyIsImF1ZGlvUGF0aCIsImF1ZGlvIiwiQXVkaW8iLCJwcmVsb2FkIiwic2V0TXVzaWNWb2x1bWUiLCJ2b2x1bWUiLCJnZXRNdXNpY1ZvbHVtZSIsInBsYXlNdXNpYyIsInRyYWNrS2V5IiwibG9vcCIsInN0b3BNdXNpYyIsInBsYXkiLCJ0aGVuIiwiaGFzRm9jdXMiLCJwYXVzZSIsImN1cnJlbnRUaW1lIiwiY2hhbmdlVHJhY2tGb3JGbG9vciIsInRyYWNrSW5kZXgiLCJuZXdUcmFja0tleSIsInN0YXJ0SW5pdGlhbE11c2ljIiwiaW5pdGlhbEZsb29yIiwiR2FtZSIsImNoYXJhY3RlckNvbG9yIiwiYWxlcnQiLCJfZ2FtZVN0YXRlIiwiSURMRSIsImlzUnVubmluZyIsImxpZnRDb29sZG93blRpbWVyIiwiZ2FtZXBsYXlNYW5hZ2VyIiwiYXVkaW9NYW5hZ2VyIiwic3ByaXRlcyIsInJlZCIsImJsdWUiLCJ5ZWxsb3ciLCJncmVlbiIsImdhbWVMb29wIiwiX2JvdW5kS2V5RG93bkhhbmRsZXIiLCJfYm91bmRLZXlVcEhhbmRsZXIiLCJfaW5pdGlhbGl6ZUNvcmVDb21wb25lbnRzIiwiX2FkZEV2ZW50TGlzdGVuZXJzIiwibmV3U3RhdGUiLCJ0cmlnZ2VyR2FtZVN0YXJ0IiwibG9hZGluZ092ZXJsYXkiLCJfbG9hZEFzc2V0c0FuZFRoZW5TdGFydExvZ2ljIiwiY29udGFpbnMiLCJfbG9hZEFzc2V0cyIsIl9zdGFydEdhbWVMb2dpYyIsInByb21pc2VzIiwic3ByaXRlUGF0aEtleSIsInNwcml0ZVBhdGgiLCJyZWplY3QiLCJhbGwiLCJMT0FESU5HX0xFVkVMIiwic3RhcnRQb3MiLCJoYW5kbGVLZXlEb3duIiwiaGFuZGxlS2V5VXAiLCJ3aW4iLCJDUkVBVE9SX05BTUVTIiwiQ0xBU1NfQVRURU5ESU5HX0lORk8iLCJzdG9wR2FtZSIsInNob3dBbGVydCIsImhhbmRsZWQiLCJ0b0xvd2VyQ2FzZSIsImN1cnJlbnRHYW1lSW5zdGFuY2UiLCJNZW51IiwiY2hhcmFjdGVySW1hZ2VTb3VyY2VzIiwic2VsZWN0ZWRDaGFyYWN0ZXIiLCJ1c2VySW50ZXJhY3RlZCIsIm92ZXJsYXkiLCJhdWRpb01hbmFnZXJJbnN0YW5jZSIsImluaXRpYWxpemVFbGVtZW50cyIsImNoYXJhY3RlclBhbmVsIiwiY2hhcmFjdGVyR3JpZCIsInNldHVwQ2hhcmFjdGVySW1hZ2VzIiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJzaG93Iiwic2V0QXVkaW9NYW5hZ2VyIiwidmFsdWUiLCJtZW51Q29udGFpbmVyIiwic2V0dGluZ3NCdXR0b24iLCJwbGF5QnV0dG9uIiwiY2hhcmFjdGVyQnV0dG9uIiwic2V0dGluZ3NQYW5lbCIsInNmeFZvbHVtZSIsImNsb3NlU2V0dGluZ3NCdXR0b24iLCJjbG9zZUNoYXJhY3RlclBhbmVsQnV0dG9uIiwiZGlzcGxheUNvbnRhaW5lciIsInNlbGVjdGVkQ2hhcmFjdGVyRGlzcGxheSIsImluc2VydEJlZm9yZSIsImNoaWxkcmVuIiwidXBkYXRlU2VsZWN0ZWRDaGFyYWN0ZXJEaXNwbGF5IiwiT2JqZWN0IiwiY2hhcmFjdGVyQ2FyZHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY2FyZCIsImNoYXJhY3RlcktleSIsImltZ0VsZW1lbnQiLCJhbHQiLCJoYW5kbGVGaXJzdEludGVyYWN0aW9uIiwiYWRkSW50ZXJhY3RpdmVMaXN0ZW5lciIsImVsZW1lbnQiLCJldmVudFR5cGUiLCJoYW5kbGVyRm4iLCJldmVudCIsImNhbGwiLCJ0b2dnbGVTZXR0aW5ncyIsInN0YXJ0R2FtZSIsIm9wZW5DaGFyYWN0ZXJNb2RhbCIsImNsb3NlU2V0dGluZ3MiLCJjbG9zZUNoYXJhY3Rlck1vZGFsIiwibmV3Vm9sdW1lIiwiY2xpY2tlZENhcmQiLCJzZWxlY3RDaGFyYWN0ZXIiLCJfZW5zdXJlT3ZlcmxheSIsImNhcmRFbGVtZW50IiwiY2hhckF0IiwiaW1nU3JjIiwiZGlzcGxheWVkTmFtZSIsInNlbGVjdGVkQ2FyZEgzIiwib3BlblNldHRpbmdzIiwiaGlkZSIsImdhbWVDYW52YXMiXSwic291cmNlUm9vdCI6IiJ9