(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var i=e.g.document;if(!t&&i&&(i.currentScript&&"SCRIPT"===i.currentScript.tagName.toUpperCase()&&(t=i.currentScript.src),!t)){var o=i.getElementsByTagName("script");if(o.length)for(var a=o.length-1;a>-1&&(!t||!/^http(s?):/.test(t));)t=o[a--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();class t{constructor(){this.keys={up:!1,down:!1,left:!1,right:!1}}setKey(e,t){this.keys.hasOwnProperty(e)&&(this.keys[e]=t)}getInputDirection(){let e=0,t=0;return this.keys.up&&(t-=1),this.keys.down&&(t+=1),this.keys.left&&(e-=1),this.keys.right&&(e+=1),{x:e,y:t}}}const i={LOADING:"LOADING",MENU:"MENU",PLAYING:"PLAYING",ASKING_QUESTION:"ASKING_QUESTION",SELECTING_FLOOR:"SELECTING_FLOOR",TRANSITIONING:"TRANSITIONING",GAME_OVER:"GAME_OVER"},o=[{question:"Który język programowania jest znany ze swojej wszechstronności i używany zarówno w backendzie (Node.js), jak i frontendzie?",options:["Python","Java","JavaScript","C#"],correctAnswer:2},{question:"Co oznacza skrót HTML?",options:["HyperText Markup Language","High Transfer Machine Language","Hyperlink and Text Management Language","Home Tool Markup Language"],correctAnswer:0},{question:"Która struktura danych działa na zasadzie LIFO (Last-In, First-Out)?",options:["Kolejka (Queue)","Stos (Stack)","Lista (List)","Drzewo (Tree)"],correctAnswer:1},{question:"Jak nazywa się proces znajdowania i naprawiania błędów w kodzie?",options:["Kompilacja","Testowanie","Debugowanie","Refaktoryzacja"],correctAnswer:2},{question:"Który paradygmat programowania opiera się na koncepcji 'obiektów', które mogą zawierać dane i kod?",options:["Programowanie funkcyjne","Programowanie proceduralne","Programowanie obiektowe","Programowanie logiczne"],correctAnswer:2},{question:"Co oznacza CSS?",options:["Cascading Style Sheets","Computer Style Syntax","Creative Styling System","Colorful Style Scripts"],correctAnswer:0},{question:"Który operator w JavaScript służy do ścisłego porównania (wartość i typ)?",options:["==","=","===","!="],correctAnswer:2},{question:"Jak nazywa się popularny system kontroli wersji używany przez programistów?",options:["Subversion (SVN)","Git","Mercurial","CVS"],correctAnswer:1},{question:"Który typ pętli w większości języków programowania jest najbardziej odpowiedni do iteracji po elementach tablicy, gdy nie znamy ich liczby?",options:["for","while","do...while","foreach (lub for...of)"],correctAnswer:3},{question:"Co to jest API?",options:["Advanced Programming Interface","Application Programming Interface","Automated Program Interaction","Algorithmic Processing Input"],correctAnswer:1},{question:"Co to jest PLC i do czego najczęściej służy w automatyce?",options:["Programowalny Logic Controller, do sterowania procesami przemysłowymi","Personal Learning Computer, do nauki programowania","Power Line Communication, do przesyłu danych przez sieć elektryczną","Project Lifecycle Cost, do zarządzania kosztami projektu"],correctAnswer:0},{question:"Za co odpowiada przysłona (apertura) w aparacie fotograficznym?",options:["Kontrolę czasu naświetlania","Regulację głębi ostrości i ilości wpadającego światła","Ustawienie balansu bieli","Stabilizację obrazu"],correctAnswer:1},{question:"Który element komputera jest odpowiedzialny za tymczasowe przechowywanie danych używanych przez procesor?",options:["Dysk twardy (HDD/SSD)","Karta graficzna (GPU)","Pamięć RAM","Płyta główna"],correctAnswer:2},{question:"W jakim języku programowania najczęściej pisane są skrypty po stronie serwera (backend)?",options:["HTML","CSS","SQL","PHP, Python lub Node.js (JavaScript)"],correctAnswer:3},{question:"Jaki typ sygnału charakteryzuje się płynną zmianą wartości w czasie, w przeciwieństwie do sygnału cyfrowego?",options:["Binarny","Analogowy","Zero-jedynkowy","Impulsowy"],correctAnswer:1},{question:"Który parametr ustawia czułość matrycy aparatu na światło i wpływa na poziom szumów na zdjęciu?",options:["Czas naświetlania","Przysłona","ISO","Ogniskowa"],correctAnswer:2},{question:"Co to jest adres IP w sieci komputerowej?",options:["Unikalny identyfikator urządzenia w sieci","Nazwa użytkownika do logowania","Adres strony internetowej","Typ kabla sieciowego"],correctAnswer:0},{question:"Czym różni się instrukcja warunkowa `if` od pętli `while` w programowaniu?",options:["`if` powtarza blok kodu, `while` sprawdza warunek jednokrotnie","`if` sprawdza warunek jednokrotnie, `while` powtarza blok kodu dopóki warunek jest prawdziwy","Nie ma między nimi różnicy","`if` służy tylko do deklarowania zmiennych, `while` do operacji matematycznych"],correctAnswer:1},{question:"Do czego najczęściej służy czujnik ciśnienia w systemie automatyki?",options:["Pomiaru temperatury","Pomiaru odległości","Pomiaru siły","Pomiaru ciśnienia"],correctAnswer:3},{question:"Co oznacza zasada trójpodziału w kompozycji fotograficznej?",options:["Dzielenie obrazu na 3 równe części pionowo i poziomo i umieszczanie kluczowych elementów na liniach lub ich przecięciach","Używanie tylko 3 głównych kolorów w kadrze","Robienie zawsze 3 zdjęć tej samej sceny","Balansowanie 3 głównych obiektów w kadrze"],correctAnswer:0},{question:"Jaka jest podstawowa rola systemu operacyjnego?",options:["Tworzenie grafiki komputerowej","Zarządzanie zasobami sprzętowymi i programowymi komputera","Pisanie kodu programów","Przeglądanie Internetu"],correctAnswer:1},{question:"Jakiego typu danych najczęściej użyjesz do przechowywania wieku osoby (liczba całkowita)?",options:["String (ciąg znaków)","Boolean (wartość logiczna)","Float (liczba zmiennoprzecinkowa)","Integer (liczba całkowita)"],correctAnswer:3},{question:"Element wykonawczy (aktuator) w systemie automatyki to urządzenie, które...",options:["Odczytuje dane z czujników","Wykonuje komendy ze sterownika, aby wykonać fizyczne działanie (np. ruch)","Przechowuje dane historyczne","Służy do komunikacji z operatorem"],correctAnswer:1},{question:"Który format pliku graficznego jest bezstratny i często używany w profesjonalnej edycji, zachowując maksymalną jakość kosztem rozmiaru?",options:["JPEG","GIF","PNG","RAW"],correctAnswer:3},{question:"Co chroni sieć komputerową przed nieautoryzowanym dostępem z zewnątrz?",options:["Router","Switch","Modem","Firewall (zapora sieciowa)"],correctAnswer:3},{question:"Co to jest IDE (Integrated Development Environment) w kontekście programowania?",options:["System operacyjny","Narzędzie do zarządzania bazą danych","Zintegrowane środowisko programistyczne (edytor kodu, kompilator, debugger w jednym)","Protokół sieciowy"],correctAnswer:2},{question:"Przykładem czujnika zbliżeniowego, wykrywającego obecność obiektu bez fizycznego kontaktu, może być:",options:["Termometr","Fotokomórka","Manometr (czujnik ciśnienia)","Akcelerometr"],correctAnswer:1},{question:"Do czego służy balans bieli (white balance) w aparacie fotograficznym?",options:["Do regulacji ostrości","Do korekcji kolorów, aby biały wyglądał na biały niezależnie od źródła światła","Do ustawiania czasu naświetlania","Do dodawania efektów specjalnych"],correctAnswer:1},{question:"Który protokół jest używany do bezpiecznego (szyfrowanego) przesyłania stron internetowych?",options:["HTTP","FTP","SMTP","HTTPS"],correctAnswer:3},{question:"Co to jest zmienna w programowaniu?",options:["Funkcja wykonująca określone zadanie","Typ pętli","Nazwane miejsce w pamięci komputera służące do przechowywania danych","Polecenie wyświetlające tekst na ekranie"],correctAnswer:2}];class a{static scoreElement=null;static targetElement=null;static controlsContainer=null;static questionOverlay=null;static questionTextElement=null;static answerButtonsContainer=null;static floorSelectionPanel=null;static floorButtonsContainer=null;static flashMessageContainer=null;static loadingOverlayElement=null;static gameOverScreenElement=null;static gameOverTitleElement=null;static creatorNamesListElement=null;static classInfoElement=null;static returnToMenuButtonElement=null;static leaderboardBody=null;static gameplayManagerInstance=null;static flashMessageTimeouts={};static timerElement=null;static gameStartTime=0;static leaderboardData=[];static setGameplayManager(e){e?(this.gameplayManagerInstance=e,console.log("[UIManager] GameplayManager instance registered successfully.")):console.error("[UIManager] Attempted to set GameplayManager instance to null or undefined!")}static initializeUI(e){console.log("[UIManager] Initializing in-game UI elements..."),e||console.warn("[UIManager] InputManager not provided to initializeUI. On-screen controls might not function."),this.createControls(e),this.createQuestionUI(),this.createFloorSelectionUI(),this.ensureFlashMessageContainer(),this.getLoadingOverlay(),this.createGameOverScreen(),this.initializeTimer(),this.gameplayManagerInstance||console.warn("[UIManager] WARNING: GameplayManager instance is NOT SET at the end of initializeUI. Interactive UI elements (questions, floors) might not work correctly."),console.log("[UIManager] In-game UI element initialization complete.")}static createControls(e){this.controlsContainer=document.getElementById("controls-container"),this.controlsContainer||(this.controlsContainer=document.createElement("div"),this.controlsContainer.id="controls-container",this.controlsContainer.classList.add("controls-container"),document.body.appendChild(this.controlsContainer)),this.controlsContainer.innerHTML="",[{direction:"up",icon:"↑",gridArea:"up"},{direction:"left",icon:"←",gridArea:"left"},{direction:"right",icon:"→",gridArea:"right"},{direction:"down",icon:"↓",gridArea:"down"}].forEach((({direction:t,icon:i,gridArea:o})=>{const a=document.createElement("button");if(a.className=`control-btn ${t}`,a.textContent=i,a.style.gridArea=o,a.dataset.direction=t,e){const i=i=>{e.setKey(t,!0),a.classList.add("active"),i.preventDefault()},o=i=>{e.keys[t]&&e.setKey(t,!1),a.classList.remove("active"),i.preventDefault()};a.addEventListener("touchstart",i,{passive:!1}),a.addEventListener("touchend",o,{passive:!1}),a.addEventListener("touchcancel",o,{passive:!1}),a.addEventListener("mousedown",i),a.addEventListener("mouseup",o),a.addEventListener("mouseleave",o)}this.controlsContainer.appendChild(a)}));const t=document.getElementById("score-display");if(t)this.scoreElement=t.querySelector("#score-value"),this.targetElement=t.querySelector("#score-target");else{const e=document.createElement("div");e.id="score-display",e.classList.add("score-display"),e.innerHTML='Books: <span id="score-value">0</span> / <span id="score-target">?</span>',document.body.appendChild(e),this.scoreElement=e.querySelector("#score-value"),this.targetElement=e.querySelector("#score-target")}this.scoreElement&&(this.scoreElement.textContent="0"),this.targetElement&&(this.targetElement.textContent="?")}static createQuestionUI(){this.questionOverlay=document.getElementById("question-overlay"),this.questionOverlay||(this.questionOverlay=document.createElement("div"),this.questionOverlay.id="question-overlay",this.questionOverlay.classList.add("ui-panel"),this.questionOverlay.innerHTML='\n        <div id="blackboard-content">\n          <h2>Question</h2>\n          <div id="question-box">\n            <p id="question-text"></p>\n            <div id="answer-buttons"></div>\n          </div>\n        </div>',document.body.appendChild(this.questionOverlay)),this.questionTextElement=this.questionOverlay.querySelector("#question-text"),this.answerButtonsContainer=this.questionOverlay.querySelector("#answer-buttons"),this.questionTextElement&&this.answerButtonsContainer||console.error("[UIManager] Failed to find/create child elements of question UI!")}static createFloorSelectionUI(){this.floorSelectionPanel=document.getElementById("floor-selection-ui"),this.floorSelectionPanel||(this.floorSelectionPanel=document.createElement("div"),this.floorSelectionPanel.id="floor-selection-ui",this.floorSelectionPanel.classList.add("ui-panel"),this.floorSelectionPanel.innerHTML='\n        <h2>Select Floor</h2>\n        <div id="floor-buttons-container"></div>',document.body.appendChild(this.floorSelectionPanel)),this.floorButtonsContainer=this.floorSelectionPanel.querySelector("#floor-buttons-container"),this.floorButtonsContainer||console.error("[UIManager] Failed to find/create floor buttons container!")}static ensureFlashMessageContainer(){return this.flashMessageContainer=document.getElementById("flash-message-container"),this.flashMessageContainer||(this.flashMessageContainer=document.createElement("div"),this.flashMessageContainer.id="flash-message-container",document.body.appendChild(this.flashMessageContainer)),this.flashMessageContainer}static flashMessage(e,t="info",i=3e3){const o=this.ensureFlashMessageContainer();if(!o)return void console.error("[UIManager] Flash message container not found or creatable.");const a=document.createElement("div");a.textContent=e,a.className="flash-message",a.classList.add(`flash-${t}`);const s=`flash-${Date.now()}-${Math.random().toString(36).substr(2,5)}`;a.id=s,o.appendChild(a),requestAnimationFrame((()=>{a.classList.add("visible")})),clearTimeout(this.flashMessageTimeouts[s]),this.flashMessageTimeouts[s]=setTimeout((()=>{a.classList.remove("visible");const e=e=>{"opacity"!==e.propertyName&&"transform"!==e.propertyName||(a.parentNode&&a.parentNode.removeChild(a),delete this.flashMessageTimeouts[s])};a.addEventListener("transitionend",e,{once:!0}),setTimeout((()=>{a.parentNode&&(a.removeEventListener("transitionend",e),a.parentNode.removeChild(a)),delete this.flashMessageTimeouts[s]}),500)}),i)}static getLoadingOverlay(){if(!this.loadingOverlayElement&&(this.loadingOverlayElement=document.getElementById("loading-overlay"),!this.loadingOverlayElement)){this.loadingOverlayElement=document.createElement("div"),this.loadingOverlayElement.id="loading-overlay",this.loadingOverlayElement.className="loading-overlay";const e=document.createElement("p");e.textContent="Loading...",this.loadingOverlayElement.appendChild(e),document.body.appendChild(this.loadingOverlayElement),console.log("[UIManager] Loading overlay created and appended to body.")}return this.loadingOverlayElement}static createGameOverScreen(){this.gameOverScreenElement=document.getElementById("game-over-screen"),this.gameOverScreenElement?(this.gameOverTitleElement=this.gameOverScreenElement.querySelector("#game-over-title"),this.creatorNamesListElement=this.gameOverScreenElement.querySelector("#creator-names"),this.classInfoElement=this.gameOverScreenElement.querySelector("#class-info"),this.returnToMenuButtonElement=this.gameOverScreenElement.querySelector("#return-to-menu-button"),this.leaderboardBody=this.gameOverScreenElement.querySelector("#leaderboard-body"),this.gameOverTitleElement&&this.creatorNamesListElement&&this.classInfoElement&&this.returnToMenuButtonElement&&this.leaderboardBody?(this.returnToMenuButtonElement.addEventListener("click",(()=>{window.location.reload()})),this.updateLeaderboard(),console.log("[UIManager] Game Over screen elements initialized.")):console.error("[UIManager] Failed to find one or more child elements of the game over screen (or leaderboard body)!")):console.error("[UIManager] CRITICAL: #game-over-screen element not found in HTML!")}static showGameOverScreen(e,t=[],i=""){this.gameOverScreenElement||(console.error("[UIManager] Game Over Screen not initialized, attempting to create."),this.createGameOverScreen(),this.gameOverScreenElement)?(this.gameOverTitleElement&&(this.gameOverTitleElement.textContent=e?"Congratulations! You Escaped!":"Game Over",this.gameOverTitleElement.className=e?"win-title":"lose-title"),this.creatorNamesListElement&&(this.creatorNamesListElement.innerHTML="",t.forEach((e=>{const t=document.createElement("li");t.textContent=e,this.creatorNamesListElement.appendChild(t)}))),this.classInfoElement&&(this.classInfoElement.textContent=i),this.updateLeaderboard(),this.gameOverScreenElement.classList.add("visible"),this.hideGameUI(),this.hideQuestion(),this.hideFloorSelectionUI()):console.error("[UIManager] Still unable to show Game Over screen.")}static hideGameOverScreen(){this.gameOverScreenElement&&this.gameOverScreenElement.classList.remove("visible")}static showQuestion(e){if(this.questionOverlay&&this.questionTextElement&&this.answerButtonsContainer||(console.error("[UIManager] Question UI not ready."),this.createQuestionUI(),this.questionOverlay&&this.questionTextElement&&this.answerButtonsContainer))if(e){if(!this.gameplayManagerInstance||"function"!=typeof this.gameplayManagerInstance.handleAnswer)return console.error("[UIManager] CRITICAL: GameplayManager or its handleAnswer method is not set or invalid!"),this.flashMessage("Error: Game interaction system failed (Q).","error",5e3),void this.hideQuestion();this.questionTextElement.textContent=e.question,this.answerButtonsContainer.innerHTML="",e.options.forEach(((e,t)=>{const i=document.createElement("button");i.textContent=e,i.dataset.index=t.toString(),i.classList.add("answer-button"),i.addEventListener("click",(e=>{const t=parseInt(e.target.dataset.index,10);this.gameplayManagerInstance.handleAnswer(t)})),this.answerButtonsContainer.appendChild(i)})),this.questionOverlay.classList.add("visible")}else console.error("[UIManager] Cannot show question - no questionData provided.")}static hideQuestion(){this.questionOverlay&&(this.questionOverlay.classList.remove("visible"),this.questionTextElement&&(this.questionTextElement.textContent=""),this.answerButtonsContainer&&(this.answerButtonsContainer.innerHTML=""))}static showFloorSelectionUI(e,t,i){if(this.floorSelectionPanel&&this.floorButtonsContainer||(console.error("[UIManager] Floor selection UI not ready."),this.createFloorSelectionUI(),this.floorSelectionPanel&&this.floorButtonsContainer)){if(!this.gameplayManagerInstance||"function"!=typeof this.gameplayManagerInstance.handleFloorSelection)return console.error("[UIManager] CRITICAL: GameplayManager or its handleFloorSelection method is not set or invalid!"),this.flashMessage("Error: Game interaction system failed (F).","error",5e3),void this.hideFloorSelectionUI();this.floorButtonsContainer.innerHTML="";for(let o=e;o<=t;o++){const e=document.createElement("button");e.textContent=`Floor ${o}`,e.classList.add("floor-button"),e.dataset.floor=o.toString(),o===i?(e.disabled=!0,e.classList.add("current")):e.addEventListener("click",(()=>{this.gameplayManagerInstance.handleFloorSelection(o)})),this.floorButtonsContainer.appendChild(e)}this.floorSelectionPanel.classList.add("visible")}}static hideFloorSelectionUI(){this.floorSelectionPanel&&this.floorSelectionPanel.classList.remove("visible")}static updateScore(e,t){this.scoreElement||(this.scoreElement=document.getElementById("score-value")),this.targetElement||(this.targetElement=document.getElementById("score-target")),this.scoreElement&&(this.scoreElement.textContent=e.toString()),this.targetElement&&(this.targetElement.textContent=t.toString())}static showGameUI(){console.log("[UIManager] Showing Game UI...");const e=document.getElementById("game-canvas"),t=document.getElementById("score-display");e?e.style.display="block":console.warn("[UIManager] Canvas element (#game-canvas) not found to show."),this.controlsContainer?this.controlsContainer.classList.add("visible"):console.warn("[UIManager] Controls container not found to show."),t?(t.style.display="flex",t.classList.add("visible")):console.warn("[UIManager] Score display not found to show."),this.timerElement&&(this.timerElement.style.display="block"),this.hideQuestion(),this.hideFloorSelectionUI(),this.hideGameOverScreen()}static hideGameUI(){console.log("[UIManager] Hiding Game UI...");const e=document.getElementById("game-canvas"),t=document.getElementById("score-display");e&&(e.style.display="none"),this.controlsContainer&&this.controlsContainer.classList.remove("visible"),t&&(t.style.display="none",t.classList.remove("visible")),this.timerElement&&(this.timerElement.style.display="none")}static initializeTimer(){this.timerElement||(this.timerElement=document.getElementById("game-timer"),this.timerElement)||(this.timerElement=document.createElement("div"),this.timerElement.id="game-timer",this.timerElement.classList.add("game-timer"),document.body.appendChild(this.timerElement)),this.timerElement.textContent="Time: 0:00",this.timerElement.style.display="none";const e=localStorage.getItem("gameLeaderboard");this.leaderboardData=e?JSON.parse(e):[],this.updateLeaderboard()}static startTimer(){this.gameplayManagerInstance?.game?.gameState===i.PLAYING?(this.gameStartTime=Date.now(),this.updateTimer(),console.log("[UIManager] Game timer started.")):console.warn("[UIManager] Timer start requested, but game is not in PLAYING state.")}static updateTimer(){const e=this.gameplayManagerInstance?.game;if(!this.timerElement||!this.gameStartTime||!e||e.gameState!==i.PLAYING&&e.gameState!==i.QUESTION&&e.gameState!==i.TRANSITIONING)return;const t=Math.floor((Date.now()-this.gameStartTime)/1e3),o=Math.floor(t/60),a=t%60;this.timerElement.textContent=`Time: ${o}:${a.toString().padStart(2,"0")}`,requestAnimationFrame((()=>this.updateTimer()))}static stopTimer(e){if(!this.gameStartTime)return;const t=(Date.now()-this.gameStartTime)/1e3;if(console.log(`[UIManager] Game timer stopped. Total time: ${t.toFixed(3)}s. Win: ${e}`),e){const e=`Run ${this.leaderboardData.length+1}`;this.leaderboardData.push({name:e,time:t,date:(new Date).toLocaleDateString()}),this.leaderboardData.sort(((e,t)=>e.time-t.time));try{localStorage.setItem("gameLeaderboard",JSON.stringify(this.leaderboardData.slice(0,10)))}catch(e){console.error("[UIManager] Failed to save leaderboard to localStorage:",e)}}this.gameStartTime=0,this.updateLeaderboard()}static updateLeaderboard(){if(!this.leaderboardBody)return;this.leaderboardBody.innerHTML="";const e=this.leaderboardData.slice(0,10);if(0===e.length){const e=this.leaderboardBody.insertRow().insertCell();e.colSpan=3,e.textContent="No records yet. Be the first!",e.style.textAlign="center"}else e.forEach((e=>{const t=Math.floor(e.time/60),i=Math.floor(e.time%60),o=Math.floor(1e3*e.time%1e3),a=this.leaderboardBody.insertRow();a.insertCell().textContent=e.name,a.insertCell().textContent=`${t}:${i.toString().padStart(2,"0")}.${o.toString().padStart(3,"0")}`,a.insertCell().textContent=e.date}))}}class s{static Direction={DOWN:0,RIGHT:1,UP:2,LEFT:3};constructor(e,t,i={}){this.ctx=e,this.sprite=new Image,this.frameSize=i.frameSize||32,this.frameCount=i.frameCount||4,this.scale=i.scale||2,this.renderSize=this.frameSize*this.scale,this.speed=i.speed||3,this.animationSpeed=i.animationSpeed||150,this.collisionBoxWidthRatio=i.collisionBoxWidthRatio||.4,this.collisionBoxHeightRatio=i.collisionBoxHeightRatio||.2,this.collisionBoxFeetOffsetRatio=i.collisionBoxFeetOffsetRatio||.4,this.x=0,this.y=0,this.currentDirection=s.Direction.DOWN,this.currentFrame=0,this.isMoving=!1,this.lastFrameTime=0,this.sprite.onload=()=>{console.log(`[Character] Sprite loaded successfully: ${t}`)},this.sprite.onerror=()=>{console.error(`[Character] Failed to load sprite: ${t}`)},this.sprite.src=t}updateAnimation(e){if(!this.isMoving)return this.currentFrame=0,void(this.lastFrameTime=e);this.lastFrameTime||(this.lastFrameTime=e),e-this.lastFrameTime>this.animationSpeed&&(this.currentFrame=(this.currentFrame+1)%this.frameCount,this.lastFrameTime=e)}getCollisionBox(e,t){const i=this.renderSize*this.collisionBoxWidthRatio,o=this.renderSize*this.collisionBoxHeightRatio,a=i/2,s=this.renderSize*this.collisionBoxFeetOffsetRatio;return{top:t+s-o/2,bottom:t+s+o/2,left:e-a,right:e+a,width:i,height:o}}draw(e,t){if(!this.sprite.complete||0===this.sprite.naturalHeight)return;const i=this.currentFrame*this.frameSize,o=this.currentDirection*this.frameSize,a=Math.floor(this.x-this.renderSize/2+e),s=Math.floor(this.y-this.renderSize/2+t);try{this.ctx.drawImage(this.sprite,i,o,this.frameSize,this.frameSize,a,s,this.renderSize,this.renderSize)}catch(e){console.error("[Character] Error drawing sprite:",e)}}}class n{constructor(e,t,i,o){this.x=e,this.y=t,this.id=i,this.tileSize=o,this.size=.6*o,this.collected=!1,this.isCollected=!1}draw(e,t,i,o){const a=Math.floor(this.x+t-this.size/2),s=Math.floor(this.y+i-this.size/2);o?e.drawImage(o,a,s,this.size,this.size):(e.fillStyle="#8d6e63",e.fillRect(a,s,this.size,this.size),e.strokeStyle="#5d4037",e.strokeRect(a,s,this.size,this.size),e.fillStyle="#eee",e.font=.6*this.size+"px Arial",e.textAlign="center",e.textBaseline="middle",e.fillText("?",a+this.size/2,s+this.size/2+2))}}function r(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}function l(e){let t=3735928559^e;return t=Math.imul(t^t>>>16,2246822507),t=Math.imul(t^t>>>13,3266489909),(t^=t>>>16)>>>0}function c(e,t){if(!e||"string"!=typeof e||e.length<7)return e;let i=parseInt(e.slice(1,3),16),o=parseInt(e.slice(3,5),16),a=parseInt(e.slice(5,7),16);return i=Math.min(255,Math.max(0,Math.round(i*t))),o=Math.min(255,Math.max(0,Math.round(o*t))),a=Math.min(255,Math.max(0,Math.round(a*t))),`#${i.toString(16).padStart(2,"0")}${o.toString(16).padStart(2,"0")}${a.toString(16).padStart(2,"0")}`}class h{constructor(e){this.tileSize=e,this.tileColors={},this.baseWallColor="#1c1e22",this.baseCorridorColor="#a0a0a0",this.baseRoomFloorColor="#c0c0c0",this.liftColor="#707080",this.errorColor="#ff00ff"}resetColorCache(){this.tileColors={}}getTileColor(e,t,i,o){const a=`${e},${t}`;if(this.tileColors[a])return this.tileColors[a];let s;switch(i){case 0:s=this.baseWallColor;break;case 1:s=this.baseCorridorColor;break;case 2:s=this.baseRoomFloorColor;break;case 3:s=this.liftColor;break;default:s=this.errorColor}return this.tileColors[a]=s,s}draw(e,t,i=null){const{map:o,rooms:a,books:s,liftPosition:n,offsetX:r,offsetY:l,cols:c,rows:h}=t,d=Math.floor(r),m=Math.floor(l),u=Math.max(0,Math.floor(-d/this.tileSize)-1),g=Math.min(c,Math.ceil((-d+e.canvas.width)/this.tileSize)+1),f=Math.max(0,Math.floor(-m/this.tileSize)-1),p=Math.min(h,Math.ceil((-m+e.canvas.height)/this.tileSize)+1);e.save(),this.drawBaseTiles(e,o,a,d,m,c,h,f,p,u,g),this.drawRoomDetails(e,o,a,n,d,m,c,h,f,p,u,g),this.drawLiftDetails(e,n,d,m),this.drawBooks(e,s,d,m,i),e.restore()}drawBaseTiles(e,t,i,o,a,s,n,r,l,c,h){e.save(),e.shadowColor="transparent";const d="#383838",m="#606060",u="#757575";for(let g=r;g<l;g++)for(let r=c;r<h;r++){const l=t[g]?.[r];if(void 0===l)continue;const c=Math.floor(r*this.tileSize+o),h=Math.floor(g*this.tileSize+a),f=this.getTileColor(g,r,l,i);if(e.fillStyle=f,e.fillRect(c,h,this.tileSize,this.tileSize),0===l){e.fillStyle="rgba(0,0,0,0.06)";for(let t=0;t<5;t++)e.fillRect(c+Math.random()*this.tileSize,h+Math.random()*this.tileSize,1,1);const i=2;g>0&&0!==t[g-1]?.[r]&&(e.fillStyle=u,e.fillRect(c,h,this.tileSize,i)),g<n-1&&0!==t[g+1]?.[r]&&(e.fillStyle=d,e.fillRect(c,h+this.tileSize-i,this.tileSize,i)),r>0&&0!==t[g]?.[r-1]&&(e.fillStyle=m,e.fillRect(c,h+i,i,this.tileSize-i)),r<s-1&&0!==t[g]?.[r+1]&&(e.fillStyle=d,e.fillRect(c+this.tileSize-i,h+i,i,this.tileSize-i)),g>0&&r>0&&0!==t[g-1]?.[r]&&0!==t[g]?.[r-1]&&0!==t[g-1]?.[r-1]&&(e.fillStyle=m,e.fillRect(c,h,i,i)),g>0&&r<s-1&&0!==t[g-1]?.[r]&&0!==t[g]?.[r+1]&&0!==t[g-1]?.[r+1]&&(e.fillStyle=u,e.fillRect(c+this.tileSize-i,h,i,i))}else if(1===l){e.fillStyle="rgba(255,255,255,0.03)";for(let t=0;t<3;t++)e.fillRect(c+Math.random()*this.tileSize,h+Math.random()*this.tileSize,1,1)}}e.restore()}drawRoomDetails(e,t,i,o,a,s,n,r,h,d,m,u){e.save(),e.shadowColor="transparent";for(const o of i){if(o.col+o.width<m||o.col>u||o.row+o.height<h||o.row>d)continue;const i=Math.floor(o.col*this.tileSize+a),n=Math.floor(o.row*this.tileSize+s),r=o.width*this.tileSize,g=o.height*this.tileSize;let f=this.baseRoomFloorColor;const p="number"==typeof this.floorNumber?this.floorNumber:0;let y=l(o.id)+100*p;switch(o.type){case"classroom":f=c("#a0c8e0",.9+l(y)%11/100);break;case"office":f=c("#f0e8c0",.9+l(y+1)%11/100);break;case"library":f=c("#d8c0a8",.9+l(y+2)%11/100);break;case"gym":f=c("#b0d0b0",.9+l(y+3)%11/100);break;case"lab":f=c("#e0e0ff",.9+l(y+4)%11/100);break;case"storage":f=c("#b0a090",.9+l(y+5)%11/100);break;case"utility":f=c("#b0b0b0",.9+l(y+6)%11/100)}for(let i=Math.max(o.row,h);i<Math.min(o.row+o.height,d);i++)for(let n=Math.max(o.col,m);n<Math.min(o.col+o.width,u);n++){const r=t[i]?.[n];if(2===r){const t=Math.floor(n*this.tileSize+a),r=Math.floor(i*this.tileSize+s),h=.98+(l(5e3*i+3*n+y)%11-5)/100;e.fillStyle=c(f,h),e.fillRect(t,r,this.tileSize,this.tileSize),"lab"===o.type&&(e.strokeStyle="rgba(0,0,0,0.08)",e.lineWidth=1,e.strokeRect(t+.5,r+.5,this.tileSize-1,this.tileSize-1))}}this.drawRoomDecorations(e,o,i,n,r,g)}e.restore()}drawLiftDetails(e,t,i,o){if(!t)return;const a=Math.floor(t.tileX*this.tileSize+i),s=Math.floor(t.tileY*this.tileSize+o);if(a+this.tileSize<0||a>e.canvas.width||s+this.tileSize<0||s>e.canvas.height)return;e.save(),e.shadowColor="transparent",e.strokeStyle="#d0d0d0",e.lineWidth=1,e.strokeRect(a+.5,s+.5,this.tileSize-1,this.tileSize-1),e.strokeStyle="#404040",e.strokeRect(a+1.5,s+1.5,this.tileSize-3,this.tileSize-3);const n=.15*this.tileSize,r=a+.8*this.tileSize,l=s+.5*this.tileSize;e.fillStyle="#444",e.beginPath(),e.arc(r,l,n,0,2*Math.PI),e.fill(),e.fillStyle="#ff4444",e.beginPath(),e.arc(r,l,.8*n,0,2*Math.PI),e.fill(),e.fillStyle="rgba(255, 255, 255, 0.5)",e.beginPath(),e.arc(r-.2*n,l-.2*n,.3*n,0,2*Math.PI),e.fill(),e.restore()}drawRoomDecorations(e,t,i,o,a,s){const n=this.tileSize,r=.2*n,l=.1*n;e.lineWidth=1,e.strokeStyle="#444";const c=(t,a,s,n,r,l=!0)=>{e.fillStyle=r;const c=Math.floor(i+t),h=Math.floor(o+a),d=Math.floor(s),m=Math.floor(n);e.fillRect(c,h,d,m),l&&e.strokeRect(c+.5,h+.5,d-1,m-1)},h=(t,a,s,n,r=!0)=>{e.fillStyle=n;const l=Math.floor(i+t),c=Math.floor(o+a);e.beginPath(),e.arc(l,c,Math.floor(s),0,2*Math.PI),e.fill(),r&&e.stroke()};switch(t.type){case"classroom":e.strokeStyle="#5d4037";const t=.6*n,d=.4*n,m=.25*n,u=1*n,g=.9*n;c(.25*a,r,.5*a,.2*n,"#333",!0),c(.25*a+2,r+2,.5*a-4,.2*n-4,"#4CAF50",!1);for(let e=0;;e++){const i=r+.5*n+e*g;if(i+d+m>s-r)break;for(let e=0;;e++){const o=r+e*u;if(o+t>a-r)break;c(o,i,t,d,"#8B4513"),c(o+.1*t,i+d+l,.8*t,m,"#6a4a3a")}}break;case"office":e.strokeStyle="#5d4037";const f=Math.min(.6*a,2.5*n),p=Math.min(.4*s,1.2*n);c(r,r,f,p,"#a0522d"),c(r+f+l,r+.1*p,.6*n,.6*n,"#444");const y=.8*n;c(a-r-y,r,y,s-2*r,"#6B4F41"),c(r+l,r+l,.5*n,.4*n,"#333"),c(r+l+.1*n,r+l+.4*n+2,.3*n,.1*n,"#555");break;case"library":e.strokeStyle="#402a10";const w=.6*n,S=1.5*n;for(let t=r;t<a-r-w;t+=S){c(t,r,w,s-2*r,"#654321"),e.strokeStyle="rgba(0,0,0,0.3)";for(let a=r+.5*n;a<s-r;a+=.7*n)e.beginPath(),e.moveTo(i+t,o+a),e.lineTo(i+t+w,o+a),e.stroke();e.strokeStyle="#402a10"}if(a>1.5*S){const e=w+r+(a-2*w-2*r-1.5*n)/2;e>w+r&&(c(e,.3*s,1.5*n,.4*s,"#966F33"),c(e+.2*n,.3*s-.3*n,.5*n,.25*n,"#6a4a3a"),c(e+.2*n,.3*s+.4*s+l,.5*n,.25*n,"#6a4a3a"))}break;case"gym":e.strokeStyle="#555",c(r,r,.4*a,.3*s,"#778899"),c(a-r-.3*a,s-r-.4*s,.3*a,.4*s,"#778899"),c(.6*a,r,.8*n,1.8*n,"#333"),c(.6*a+.1*n,r+.1*n,.6*n,1.6*n,"#555",!1),c(r,.5*s,1.5*n,.4*n,"#8B4513"),c(a-r-.5*n,r,.5*n,1.5*n,"#444"),h(a-r-.25*n,r+.3*n,.15*n,"#666"),h(a-r-.25*n,r+.7*n,.15*n,"#666"),h(a-r-.25*n,r+1.1*n,.15*n,"#666");break;case"lab":e.strokeStyle="#668";const M=.8*n;c(r,r,a-2*r,M,"#d0d0d8"),c(r,s-r-M,a-2*r,M,"#d0d0d8"),c(r+.2*n,r+.1*n,.5*n,.5*n,"#4a90e2"),c(r+1*n,r+.1*n,.3*n,.6*n,"#f5a623"),h(a-2*r-.4*n,r+.5*M,.2*n,"#e04040",!0),c(.4*a,r+M+l,n,s-2*r-2*M-2*l,"#a0a0b0");break;case"storage":e.strokeStyle="#4d4030";const v=a-2*r,b=.5*n;c(r,r,v,b,"#9e9e9e"),c(r,s-r-b,v,b,"#9e9e9e");const C=.6*n;c(r+.2*n,r+b+l,C,C,"#bf8f6f"),c(r+1*n,r+b+l,C,C,"#bf8f6f"),c(a-r-1.5*C,r+b+3*l,1.2*C,.8*C,"#bf8f6f"),c(a-r-n,s-r-n,.8*n,.8*n,"#6a4a3a");break;default:e.strokeStyle="#5d4037",c(.1*a,.15*s,.3*a,.25*s,"#A0522D"),c(.6*a,.5*s,.3*a,.4*s,"#A0522D"),c(a-r-.5*n,r,.5*n,s-2*r,"#777"),e.strokeStyle="#555",e.lineWidth=3,e.beginPath(),e.moveTo(i+r,o+.8*s),e.lineTo(i+a-r,o+.8*s),e.stroke(),e.beginPath(),e.moveTo(i+.7*a,o+r),e.lineTo(i+.7*a,o+s-r),e.stroke(),e.lineWidth=1}}drawBooks(e,t,i,o,a){if(!t||0===t.length)return;const s=.6*this.tileSize;for(const n of t)if(!n.isCollected&&!n.collected){const t=n.size||s,r=Math.floor(n.x+i-t/2),l=Math.floor(n.y+o-t/2);r+t>0&&r<e.canvas.width&&l+t>0&&l<e.canvas.height&&("function"==typeof n.draw?n.draw(e,i,o,a):a?e.drawImage(a,r,l,t,t):(e.fillStyle="#8d6e63",e.fillRect(r,l,t,t),e.strokeStyle="#5d4037",e.lineWidth=1,e.strokeRect(r+.5,l+.5,t-1,t-1)))}}}let d=null;const m={minRoomSize:5,maxRoomSize:10,corridorThickness:1,numRooms:12,maxRoomAttempts:200,roomTypeWeights:{classroom:50,office:25,library:15,gym:0,utility:10}};function u(e,t,i,o,a){const{centerTileX:s,centerTileY:n}=t,{centerTileX:r,centerTileY:l}=i;Math.random()<.5?(g(e,n,s,r,o,a),f(e,r,n,l,o,a)):(f(e,s,n,l,o,a),g(e,l,s,r,o,a))}function g(e,t,i,o,a,s){if(t<0||t>=s)return;const n=Math.max(0,Math.min(i,o)),r=Math.min(a-1,Math.max(i,o));for(let i=n;i<=r;i++)0===e[t]?.[i]&&(e[t][i]=1)}function f(e,t,i,o,a,s){if(t<0||t>=a)return;const n=Math.max(0,Math.min(i,o)),r=Math.min(s-1,Math.max(i,o));for(let i=n;i<=r;i++)0===e[i]?.[t]&&(e[i][t]=1)}function p(e,t,i,o,a){const s=(e,t,i,o,a)=>{if(e<0||e>=o||t<0||t>=a)return!1;const s=i[t]?.[e];return 1===s||2===s||3===s};let n=0;const r=[{dx:0,dy:-1},{dx:0,dy:1},{dx:-1,dy:0},{dx:1,dy:0}];let l=[!1,!1,!1,!1];for(let c=0;c<r.length;c++)s(e+r[c].dx,t+r[c].dy,i,o,a)&&(n++,l[c]=!0);let c=!1;if(2===n){const[e,t,i,o]=l;(e&&t&&!i&&!o||i&&o&&!e&&!t)&&(c=!0)}return{openSides:n,isChokepoint:c}}function y(e,t,i,o,a){console.log(`  [MapGen Connect] Trying to connect wall at tile(${t}, ${i}) to walkable area...`);const s=[[0,-1],[0,1],[-1,0],[1,0]];let n=!1,r=null;for(const[o,a]of s){const s=t+o,l=i+a,c=e[l]?.[s];if(1===c||2===c||3===c){n=!0,r={x:s,y:l};break}}if(n)return console.log(`  [MapGen Connect] Target(${t}, ${i}) is adjacent to walkable at (${r.x}, ${r.y}). Setting target to Corridor.`),e[i][t]=1,!0;console.log("  [MapGen Connect] Target not adjacent. Searching nearest walkable (Corridor/Floor) via BFS...");const l=[[t,i,0]],c=new Set([`${t},${i}`]),h=[0,1,2,3],d=[1,2];let m=null,u=1/0;for(;l.length>0;){const[t,i,n]=l.shift();if(!(n>=u))for(const[r,g]of s){const s=t+r,f=i+g,p=`${s},${f}`;if(s>=0&&s<o&&f>=0&&f<a&&!c.has(p)){const t=e[f]?.[s];c.add(p),d.includes(t)?n+1<u&&(u=n+1,m={x:s,y:f,dist:u},console.log(`    [BFS] Found potential target at (${s}, ${f}), dist ${u}`)):h.includes(t)&&n+1<u&&l.push([s,f,n+1])}}}return m?(console.log(`  [MapGen Connect] Found closest walkable at tile(${m.x}, ${m.y}) distance ${m.dist}. Carving path...`),g(e,i,t,m.x,o,a),f(e,m.x,i,m.y,o,a),console.log("  [MapGen Connect] Carved path attempt finished."),1===e[i][t]||2===e[i][t]?(console.log(`    [Verify] Target tile (${t},${i}) is now walkable (Type: ${e[i][t]})`),!0):(console.warn(`  [MapGen Connect] Carving done, but target tile(${t}, ${i}) is still WALL (Value: ${e[i][t]}). Setting manually.`),e[i][t]=1,!0)):(console.error(`  [MapGen Connect] FAILED to find ANY nearby walkable (Corridor/Floor) via BFS from wall at tile(${t}, ${i}). Cannot connect.`),!1)}function w(e,t,i,o){if(!t)return!1;const{tileX:a,tileY:s}=t;if(s<0||s>=o||a<0||a>=i||3!==e[s]?.[a])return console.error(`[MapValidation Reachability] Invalid lift position provided: (${a}, ${s})`),!1;const{reachable:n}=function(e,t,i,o,a,s){const n=[[t,i]],r=new Set([`${t},${i}`]),l=[[0,-1],[0,1],[-1,0],[1,0]];let c=!1;for(e[i];n.length>0;){const[t,i]=n.shift();for(const[h,d]of l){const l=t+h,m=i+d,u=`${l},${m}`;if(l>=0&&l<o&&m>=0&&m<a&&!r.has(u)){const t=e[m]?.[l];r.add(u),s.includes(t)&&(n.push([l,m]),1!==t&&2!==t||(c=!0))}}}return{reachable:c}}(e,a,s,i,o,[1,2,3]);return n||console.error(`[MapValidation Reachability] FAILED. Lift at tile(${a}, ${s}) is isolated from corridors/rooms.`),n}class S{constructor(e,t,i,o,a){this.tileSize=32,this.cols=40,this.rows=30,this.width=this.cols*this.tileSize,this.height=this.rows*this.tileSize,this.offsetX=0,this.offsetY=0,this.floorNumber=i,this.minFloor=o,this.maxFloor=a,this.map=null,this.rooms=[],this.books=[],this.liftPosition=null,this.renderer=new h(this.tileSize);const s={minRoomSize:5,maxRoomSize:10,corridorThickness:1,numRooms:12,maxRoomAttempts:200,booksPerMap:5,roomTypeWeights:{classroom:50,office:25,library:15,lab:10,storage:5,utility:10}};try{const e={cols:this.cols,rows:this.rows,floorNumber:this.floorNumber,minFloor:this.minFloor,maxFloor:this.maxFloor,tileSize:this.tileSize,generationParams:s},{map:t,rooms:i,liftPosition:o}=function(e){const{cols:t,rows:i,floorNumber:o,minFloor:a,tileSize:s,generationParams:n}=e,l={...m,...n};l.roomTypeWeights.gym=o===a?60:0,o===a&&(d=null,console.log(`[MapGen Floor ${o}] Reset consistent lift coords for the first floor.`)),console.log(`[MapGen Floor ${o}] Starting map generation (${t}x${i})...`);const c=Array.from({length:i},(()=>Array(t).fill(0))),h=[];let g=null;!function(e,t,i,o,a){const{minRoomSize:s,maxRoomSize:n,numRooms:l,maxRoomAttempts:c,roomTypeWeights:h}=a;let d=0;const m=[];let u=0;for(const e in h){const t=h[e];if(t>0){u+=t;for(let i=0;i<t;i++)m.push(e)}}for(0===m.length&&(m.push("utility"),console.warn("[MapGen Rooms] No room type weights provided or all are zero. Defaulting to 'utility'."));t.length<l&&d<c;){d++;const a=r(s,n),l=r(s,n),c=r(1,i-a-1),h=r(1,o-l-1),u={col:c,row:h,width:a,height:l,type:m[r(0,m.length-1)],id:`room_${t.length+1}`,centerTileX:Math.floor(c+a/2),centerTileY:Math.floor(h+l/2),connected:!1};let g=!1;const f=2;for(const e of t)if(u.col<e.col+e.width+f&&u.col+u.width+f>e.col&&u.row<e.row+e.height+f&&u.row+u.height+f>e.row){g=!0;break}if(!g){t.push(u);for(let t=u.row;t<u.row+u.height;t++)for(let a=u.col;a<u.col+u.width;a++)t>=0&&t<o&&a>=0&&a<i&&(e[t][a]=2)}}t.length<l?console.warn(`[MapGen Rooms] Placed only ${t.length}/${l} rooms after ${d} attempts.`):console.log(`[MapGen Rooms] Placed ${t.length} rooms after ${d} attempts.`)}(c,h,t,i,l),h.length<2&&o!==a?console.warn(`[MapGen Floor ${o}] Placed only ${h.length} rooms. Expect limited connectivity.`):h.length>=2&&function(e,t,i,o){if(t.length<2)return;console.log(`[MapGen Connect] Connecting ${t.length} rooms (improved)...`);const a=new Set([t[0].id]);let s=t.slice(1);for(;s.length>0;){let n=1/0,r=null,l=null,c=-1;for(let e=0;e<s.length;e++){const i=s[e];for(const o of t)if(a.has(o.id)){const t=i.centerTileX-o.centerTileX,a=i.centerTileY-o.centerTileY,s=t*t+a*a;s<n&&(n=s,r=i,l=o.id,c=e)}}if(!r||null===l){console.error("[MapGen Connect] Could not find next pair of rooms to connect. Breaking loop. Remaining unconnected:",s.map((e=>e.id)));break}{const n=t.find((e=>e.id===l));if(!n){console.error(`[MapGen Connect] Error: Could not find connected room with ID ${l}. Skipping connection.`),s.splice(c,1);continue}u(e,n,r,i,o),a.add(r.id),s.splice(c,1)}}console.log(`[MapGen Connect] Finished connecting rooms. Connected count: ${a.size}`)}(c,h,t,i);try{const e=function(e,t,i,o,a,s,n,r){let l=n,c=null;if(o!==a||l){if(!l&&o>a)throw new Error(`[MapGen Lift] Missing consistent coordinates for floor ${o}.`)}else console.log(`[MapGen Floor ${o}] Finding initial lift placement location...`),l=function(e,t,i,o){const a=Math.floor(t/2),s=Math.floor(i/2);let n=null;if(console.log("  [MapGen FindLift V3] Searching for optimal lift spot INSIDE a room..."),!o||0===o.length)return console.warn("  [MapGen FindLift V3] No rooms available to place a lift in. Fallback will be used by caller."),null;for(const r of o){const o=r.col+1,l=r.col+r.width-2,c=r.row+1,h=r.row+r.height-2;if(!(o>l||c>h))for(let d=c;d<=h;d++)for(let c=o;c<=l;c++){let o=0;o-=((c-a)*(c-a)+(d-s)*(d-s))/30;const l=p(c,d,e,t,i);if(l.openSides<1)continue;l.isChokepoint&&(o-=700),o+=120*l.openSides;let h=0,m=0;const u=[{dx:0,dy:-1},{dx:0,dy:1},{dx:-1,dy:0},{dx:1,dy:0}];for(const o of u){const a=c+o.dx,s=d+o.dy;if(s>=0&&s<i&&a>=0&&a<t){const o=e[s]?.[a];if(1===o||2===o){m++;const o=p(a,s,e,t,i);1===o.openSides&&(h=Math.max(h,3e4)),o.isChokepoint&&(h=Math.max(h,500))}}}0===m&&l.openSides<2||(o-=h,(null===n||o>n.score)&&(n={tileX:c,tileY:d,score:o,debug_room:r.id}))}}return n?(console.log(`  [MapGen FindLift V3] Selected best spot IN ROOM (${n.debug_room}) at tile(${n.tileX}, ${n.tileY}). Score: ${n.score.toFixed(0)}.`),{tileX:n.tileX,tileY:n.tileY}):(console.warn("[MapGen FindLift V3] No suitable IN-ROOM location found with internal tiles. Fallback will be used by caller."),null)}(e,t,i,r),l||(console.warn(`[MapGen Floor ${o}] No ideal IN-ROOM lift location found. Forcing placement near center.`),l={tileX:Math.floor(t/2),tileY:Math.floor(i/2)}),console.log(`[MapGen Floor ${o}] Established consistent lift coords at tile(${l.tileX}, ${l.tileY})`),c=l;const{tileX:h,tileY:d}=l;if(d<0||d>=i||h<0||h>=t){const e=Math.max(1,Math.min(t-2,h)),a=Math.max(1,Math.min(i-2,d));throw console.error(`[MapGen Lift] Coords (${h}, ${d}) are outside map bounds on floor ${o}. Adjusted to (${e},${a})`),l={tileX:e,tileY:a},new Error(`[MapGen Lift] Coords (${l.tileX}, ${l.tileY}) are outside map bounds on floor ${o}.`)}0===e[d][h]?(console.warn(`[MapGen Floor ${o}] Lift location tile(${h}, ${d}) is a wall (likely fallback). Forcing connection...`),y(e,h,d,t,i)?(console.log("  [MapGen Lift Connect] Connection attempt finished for wall at lift location."),0===e[d][h]&&(console.warn(`  [MapGen Lift Connect] Force connection completed, but target tile (${h},${d}) remained WALL. Setting to CORRIDOR.`),e[d][h]=1)):console.error(`[MapGen Lift Connect] FAILED to connect wall at lift location tile(${h}, ${d}). Lift might be isolated.`)):console.log(`  [MapGen Lift] Lift location tile(${h}, ${d}) is already walkable (Type: ${e[d][h]}).`),e[d][h]=3;const m={x:(h+.5)*s,y:(d+.5)*s,tileX:h,tileY:d};return console.log(`[MapGen Floor ${o}] Placed/Confirmed lift at tile(${h}, ${d}). World: (${m.x.toFixed(1)}, ${m.y.toFixed(1)})`),{position:m,coords:c||l}}(c,t,i,o,a,s,d,h);g=e.position,e.coords&&(d=e.coords)}catch(e){throw console.error(`[MapGen Floor ${o}] CRITICAL: Lift placement failed:`,e),new Error(`Lift placement failed on floor ${o}: ${e.message}`)}if(function(e,t,i){console.log("  [MapGen] Ensuring map borders are walls.");for(let o=0;o<t;o++)void 0!==e[0]?.[o]&&(e[0][o]=0),void 0!==e[i-1]?.[o]&&(e[i-1][o]=0);for(let o=0;o<i;o++)void 0!==e[o]?.[0]&&(e[o][0]=0),void 0!==e[o]?.[t-1]&&(e[o][t-1]=0)}(c,t,i),g&&!w(c,g,t,i)){if(console.warn(`[MapValidation Floor ${o}] Lift at tile(${g.tileX}, ${g.tileY}) initially unreachable. Attempting final force connection.`),!y(c,g.tileX,g.tileY,t,i)||!w(c,g,t,i)){const e=`CRITICAL: Placed lift at tile(${g.tileX}, ${g.tileY}) is UNREACHABLE even after force connect! Generation failed.`;throw console.error(`[MapGen Floor ${o}] ${e}`),new Error(`Lift is unreachable on floor ${o}. Cannot proceed.`)}console.log(`[MapValidation Floor ${o}] Lift connection successful after second attempt.`)}else{if(!g)throw new Error(`Map generated without a valid lift position on floor ${o}.`);console.log(`[MapValidation Floor ${o}] Lift at tile(${g.tileX}, ${g.tileY}) is reachable.`)}return console.log(`[MapGen Floor ${o}] Map generation completed successfully.`),{map:c,rooms:h,liftPosition:g}}(e);this.map=t,this.rooms=i,this.liftPosition=o,this.renderer.resetColorCache(),this.placeBooksReliably(s.booksPerMap),3===this.floorNumber&&console.log(`[ProcMap F${this.floorNumber}] Init complete. Lift at tile (${o?.tileX}, ${o?.tileY}).`)}catch(e){throw console.error(`[ProcMap F${this.floorNumber}] CRITICAL ERROR during map generation or setup:`,e),e}}placeBooksReliably(e){this.books=[];const t=[],i=new Set;for(let e=0;e<this.rows;e++)for(let i=0;i<this.cols;i++){const o=this.map[e]?.[i],a=this.liftPosition&&e===this.liftPosition.tileY&&i===this.liftPosition.tileX;1!==o&&2!==o||a||t.push({r:e,c:i})}let o=0;for(;o<e&&t.length>0;){const e=Math.floor(Math.random()*t.length),{r:a,c:s}=t.splice(e,1)[0],r=`${s},${a}`;if((1===this.map[a]?.[s]||2===this.map[a]?.[s])&&!i.has(r)){const e=(s+.5)*this.tileSize,t=(a+.5)*this.tileSize,l=`book_f${this.floorNumber}_${o+1}`;this.books.push(new n(e,t,l,this.tileSize)),i.add(r),o++}}}isWalkable(e,t){if(!this.map)return!1;const i=Math.floor(e/this.tileSize),o=Math.floor(t/this.tileSize);if(i<0||i>=this.cols||o<0||o>=this.rows)return!1;const a=this.map[o]?.[i];return 1===a||2===a||3===a}findRandomInitialSpawnPosition(){if(!this.map)return;const e=[];for(let t=1;t<this.rows-1;t++)for(let i=1;i<this.cols-1;i++){const o=this.map[t]?.[i],a=this.liftPosition&&t===this.liftPosition.tileY&&i===this.liftPosition.tileX;1!==o&&2!==o||a||this.isTileOpenEnough(i,t,3,!0)&&e.push({r:t,c:i})}if(0===e.length)for(let t=0;t<this.rows;t++)for(let i=0;i<this.cols;i++){const o=this.map[t]?.[i],a=this.liftPosition&&t===this.liftPosition.tileY&&i===this.liftPosition.tileX;1!==o&&2!==o||a||this.isTileOpenEnough(i,t,2,!0)&&e.push({r:t,c:i})}if(0===e.length)for(let t=0;t<this.rows;t++)for(let i=0;i<this.cols;i++){const o=this.map[t]?.[i],a=this.liftPosition&&t===this.liftPosition.tileY&&i===this.liftPosition.tileX;1!==o&&2!==o||a||e.push({r:t,c:i})}if(0===e.length)return void console.error(`[ProcMap F${this.floorNumber} RandomSpawn] CRITICAL: No suitable spawn tiles found!`);const{r:t,c:i}=e[Math.floor(Math.random()*e.length)];return{x:(i+.5)*this.tileSize,y:(t+.5)*this.tileSize}}isTileOpenEnough(e,t,i=2,o=!1){if(this.floorNumber,!this.map)return!1;let a=0;const s=[[0,-1,"N"],[0,1,"S"],[-1,0,"W"],[1,0,"E"]],n=[!1,!1,!1,!1];for(let i=0;i<s.length;i++){const[o,r,l]=s[i],c=e+o,h=t+r;let d=0;c>=0&&c<this.cols&&h>=0&&h<this.rows&&(d=this.map[h]?.[c],1!==d&&2!==d&&3!==d||(a++,n[i]=!0))}if(a<i)return!1;if(o&&2===a){if(n[0]&&n[1]&&!n[2]&&!n[3])return!1;if(n[2]&&n[3]&&!n[0]&&!n[1])return!1}return!0}findNearestWalkableTile(e,t,i=8,o=!1,a=!1){if(this.floorNumber,!this.map)return null;const s=Math.floor(e/this.tileSize),n=Math.floor(t/this.tileSize),r=[1,2];if(s>=0&&s<this.cols&&n>=0&&n<this.rows){const e=this.map[n][s];if(r.includes(e)&&(!o||3!==e)){const e=2;if(this.isTileOpenEnough(s,n,e,a))return{x:(s+.5)*this.tileSize,y:(n+.5)*this.tileSize}}}for(let e=1;e<=i;e++){const t=2;for(let i=-e;i<=e;i++)for(let l=-e;l<=e;l++){if(Math.abs(l)<e&&Math.abs(i)<e)continue;const c=s+l,h=n+i;if(c<0||c>=this.cols||h<0||h>=this.rows)continue;const d=this.map[h]?.[c];if(r.includes(d)&&(!o||3!==d)&&this.isTileOpenEnough(c,h,t,a))return{x:(c+.5)*this.tileSize,y:(h+.5)*this.tileSize}}}const l=[[s,n]],c=new Set([`${s},${n}`]),h=[[0,-1],[0,1],[-1,0],[1,0]],d=[1,2,3];for(;l.length>0;){const[e,t]=l.shift();for(const[i,s]of h){const n=e+i,h=t+s,m=`${n},${h}`;if(n>=0&&n<this.cols&&h>=0&&h<this.rows&&!c.has(m)){const e=this.map[h]?.[n];if(c.add(m),r.includes(e)&&(!o||3!==e)&&this.isTileOpenEnough(n,h,2,a))return{x:(n+.5)*this.tileSize,y:(h+.5)*this.tileSize};d.includes(e)&&l.push([n,h])}}}return null}getSpawnPointInRoomOfLift(e,t,i=2){this.floorNumber;let o=null,a=null,s=null;const n=[{dx:0,dy:-1},{dx:0,dy:1},{dx:-1,dy:0},{dx:1,dy:0}];for(const i of n){const n=e+i.dx,r=t+i.dy;if(n>=0&&n<this.cols&&r>=0&&r<this.rows&&2===this.map[r]?.[n])for(const e of this.rooms)if(n>=e.x&&n<e.x+e.width&&r>=e.y&&r<e.y+e.height){o=e,a={x:n,y:r},s={dx:i.dx,dy:i.dy};break}if(o)break}if(!o)for(const i of n){const r=e+i.dx,l=t+i.dy;if(!(r<0||r>=this.cols||l<0||l>=this.rows||1!==this.map[l]?.[r])){for(const e of n){if(e.dx===-i.dx&&e.dy===-i.dy)continue;const t=r+e.dx,n=l+e.dy;if(t>=0&&t<this.cols&&n>=0&&n<this.rows&&2===this.map[n]?.[t])for(const i of this.rooms)if(t>=i.x&&t<i.x+i.width&&n>=i.y&&n<i.y+i.height){o=i,a={x:t,y:n},s={dx:e.dx,dy:e.dy};break}if(o)break}if(o)break}}if(!o||!a||!s)return null;const r=s.dx,l=s.dy;for(let e=i-1;e>=0;e--){const t=a.x+r*e,i=a.y+l*e;if(t>=o.x&&t<o.x+o.width&&i>=o.y&&i<o.y+o.height&&2===this.map[i]?.[t]){const e=t+r,a=i+l,s=e>=o.x&&e<o.x+o.width&&a>=o.y&&a<o.y+o.height&&2===this.map[a]?.[e];if(this.isTileOpenEnough(t,i,2,!0)&&s)return{x:(t+.5)*this.tileSize,y:(i+.5)*this.tileSize}}}return this.isTileOpenEnough(a.x,a.y,2,!0)?{x:(a.x+.5)*this.tileSize,y:(a.y+.5)*this.tileSize}:null}findNearbyUnansweredBook(e,t,i=.8*this.tileSize){if(!this.books||0===this.books.length)return null;let o=null,a=i*i;for(const i of this.books)if(!i.isCollected){const s=i.x-e,n=i.y-t,r=s*s+n*n;r<a&&(a=r,o=i)}return o}markBookAsCollected(e){if(!e||!this.books)return!1;const t=this.books.find((t=>t.id===e.id));return!(!t||t.isCollected||(t.isCollected=!0,0))}findNearbyLift(e,t,i=.7*this.tileSize){if(!this.liftPosition)return null;const o=e-this.liftPosition.x,a=t-this.liftPosition.y;return o*o+a*a<i*i?this.liftPosition:null}getLiftPosition(){return this.liftPosition}draw(e,t=null){if(!this.map||!this.renderer)return;const i={map:this.map,rooms:this.rooms,books:this.books,liftPosition:this.liftPosition,offsetX:this.offsetX,offsetY:this.offsetY,cols:this.cols,rows:this.rows,tileSize:this.tileSize};this.renderer.draw(e,i,t)}logMapGrid(){if(!this.map)return void console.log(`[ProcMap F${this.floorNumber}] Map grid not available.`);console.log(`--- Map Grid Floor ${this.floorNumber} (${this.cols}x${this.rows}) ---`);let e="   ";for(let t=0;t<this.cols;t++)e+=t%10==0?Math.floor(t/10):" ";console.log(e),e="   ";for(let t=0;t<this.cols;t++)e+=t%10;console.log(e);for(let e=0;e<this.rows;e++){const t=e.toString().padStart(2," "),i=this.map[e].map((e=>{switch(e){case 0:return"#";case 1:return".";case 2:return" ";case 3:return"L";default:return"?"}})).join("");console.log(`${t} ${i}`)}this.liftPosition?(console.log(`Lift actual tile type in map[${this.liftPosition.tileY}][${this.liftPosition.tileX}]: ${this.map[this.liftPosition.tileY]?.[this.liftPosition.tileX]}`),console.log(`Lift reported at tile: (${this.liftPosition.tileX}, ${this.liftPosition.tileY})`)):console.log("Lift position not set."),console.log(`--- End Map Grid Floor ${this.floorNumber} ---`)}}class M{constructor(e=1,t=3){e>=t?(console.warn(`Level constructor: minFloor (${e}) must be less than maxFloor (${t}). Using defaults 1 and 3.`),this.minFloor=1,this.maxFloor=3):(this.minFloor=e,this.maxFloor=t),this.currentFloor=this.minFloor,this.currentMap=null,this.tileSize=32}async loadFloor(e,t,i){if(e<this.minFloor||e>this.maxFloor){const t=`Attempted to load invalid floor: ${e}. Allowed range: [${this.minFloor}-${this.maxFloor}]`;throw console.error(`[Level] ${t}`),new Error(t)}console.log(`[Level] Loading floor ${e}...`),this.currentFloor=e;try{if(this.currentMap=new S(t,i,this.currentFloor,this.minFloor,this.maxFloor),!(this.currentMap.tileSize&&this.currentMap.map&&this.currentMap.books&&this.currentMap.getLiftPosition()))throw new Error("[Level] ProceduralMap instance is missing essential properties after creation (tileSize, map, books, or liftPosition).");this.tileSize=this.currentMap.tileSize;const o=this.currentMap.getLiftPosition();console.log(`  [Level] Map generated for floor ${this.currentFloor}. TileSize: ${this.tileSize}. Lift at tile(${o.tileX}, ${o.tileY}).`),console.log(`[Level] Floor ${e} loaded successfully. Map size: ${this.currentMap.cols}x${this.currentMap.rows}. ${this.currentMap.books.length} books placed.`)}catch(t){throw console.error(`[Level] CRITICAL FAILURE loading floor ${e}: Failed to create or validate ProceduralMap:`,t),this.currentMap=null,new Error(`Map generation/validation failed for floor ${e}. ${t.message||t}`)}return Promise.resolve()}getCurrentBooks(){return this.currentMap?this.currentMap.books:[]}}class v{constructor(e){this.game=e,this.canvas=null,this.ctx=null}initializeCanvas(){if(this.canvas=document.getElementById("game-canvas"),!this.canvas)throw new Error("[Renderer] Canvas 'game-canvas' not found!");if(this.ctx=this.canvas.getContext("2d"),!this.ctx)throw new Error("[Renderer] Failed to get 2D context.");return this.ctx.imageSmoothingEnabled=!1,this.resizeCanvas(),console.log("[Renderer] Canvas initialized."),{canvas:this.canvas,ctx:this.ctx}}resizeCanvas(){this.canvas&&(this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.game.character&&this.game.level?.currentMap&&this.centerCameraOnCharacter(),console.log(`[Renderer] Canvas resized to ${this.canvas.width}x${this.canvas.height}`))}centerCameraOnCharacter(){const{character:e,level:t,canvas:i}=this.game;e&&t?.currentMap&&i&&(t.currentMap.offsetX=Math.floor(i.width/2-e.x),t.currentMap.offsetY=Math.floor(i.height/2-e.y))}drawFrame(){if(!this.ctx||!this.canvas)return;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);const e=this.game.level?.currentMap,t=this.game.character;e&&e.draw(this.ctx,this.game.bookImage),t&&e&&t.draw(e.offsetX,e.offsetY)}drawWinScreen(){this.ctx&&this.canvas&&(this.ctx.fillStyle="rgba(0, 0, 0, 0.8)",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillStyle="lime",this.ctx.font='clamp(32px, 8vw, 48px) "Press Start 2P", cursive, Arial, sans-serif',this.ctx.fillText("ZWYCIĘSTWO!",this.canvas.width/2,this.canvas.height/2-80),this.ctx.fillStyle="white",this.ctx.font="clamp(24px, 5vw, 32px) Arial, sans-serif",this.ctx.fillText(`Zebrano wszystkie ${this.game.targetBooksToWin} książki!`,this.canvas.width/2,this.canvas.height/2),this.ctx.font="clamp(18px, 4vw, 24px) Arial, sans-serif",this.ctx.fillText("Uniwersytet uratowany!",this.canvas.width/2,this.canvas.height/2+60),this.ctx.font="clamp(14px, 3vw, 18px) Arial, sans-serif",this.ctx.fillStyle="#ccc",this.ctx.fillText("(Odśwież stronę, aby zagrać ponownie)",this.canvas.width/2,this.canvas.height-50))}}class b{constructor(e){this.game=e,this.handleAnswer=this.handleAnswer.bind(this),this.handleFloorSelection=this.handleFloorSelection.bind(this)}update(e){this.game.gameState===i.PLAYING&&this.updatePlayingState(e)}updatePlayingState(e){const t=this.game.character;if(!this.game.level?.currentMap||!t||!this.game.inputManager)return;const{moved:o}=this.handleMovement();t&&"function"==typeof t.updateAnimation&&t.updateAnimation(e),o||this.game.gameState!==i.PLAYING||this.handleInteractions()}handleMovement(){const e=this.game.character,t=this.game.level.currentMap,i=this.game.inputManager;if(!e||!t||!i)return{moved:!1};const o=i.getInputDirection();let a=o.x*e.speed,n=o.y*e.speed,r=0,l=0,c=!1;if(0!==a||0!==n){const t=0!==a&&!this.checkCollision(e.x+a,e.y),i=0!==n&&!this.checkCollision(e.x,e.y+n);t&&(r=a),i&&(l=n),0!==a&&0!==n&&this.checkCollision(e.x+a,e.y+n)&&(t&&!i?l=0:i&&!t?r=0:t||i||(r=0,l=0)),0===r&&0===l||(e.x+=r,e.y+=l,c=!0,Math.abs(r)>=Math.abs(l)?0!==r&&(e.currentDirection=r>0?s.Direction.RIGHT:s.Direction.LEFT):0!==l&&(e.currentDirection=l>0?s.Direction.DOWN:s.Direction.UP))}return e.isMoving=c,{moved:c}}checkCollision(e,t){const i=this.game.level?.currentMap,o=this.game.character;if(!i||!o)return!0;const a=o.getCollisionBox(e,t),s=[{x:a.left,y:a.top},{x:a.right,y:a.top},{x:a.left,y:a.bottom},{x:a.right,y:a.bottom},{x:e,y:a.top},{x:e,y:a.bottom},{x:a.left,y:t+o.renderSize*o.collisionBoxFeetOffsetRatio},{x:a.right,y:t+o.renderSize*o.collisionBoxFeetOffsetRatio}];for(const e of s)if(!i.isWalkable(e.x,e.y))return!0;return!1}handleInteractions(){const e=this.game.level?.currentMap,t=this.game.character;if(!e||!t||this.game.gameState!==i.PLAYING)return;const o=e.findNearbyUnansweredBook(t.x,t.y);o?this.initiateQuestion(o):this.game.liftCooldownActive||e.findNearbyLift(t.x,t.y)&&this.initiateFloorSelection()}initiateQuestion(e){if(this.game.gameState!==i.PLAYING)return;if(this.game.setGameState(i.ASKING_QUESTION),this.game.character&&(this.game.character.isMoving=!1),this.game.currentBookTarget=e,0===this.game.availableQuestions.length&&(this.game.availableQuestions=[...o],0===this.game.availableQuestions.length))return a.flashMessage("Błąd: Brak dostępnych pytań!","error"),this.game.setGameState(i.PLAYING),void(this.game.currentBookTarget=null);const t=Math.floor(Math.random()*this.game.availableQuestions.length);this.game.currentQuestionData=this.game.availableQuestions.splice(t,1)[0],a.showQuestion(this.game.currentQuestionData)}handleAnswer(e){const{gameState:t,currentQuestionData:o,currentBookTarget:s,level:n}=this.game;if(t!==i.ASKING_QUESTION||!o||!s)return a.hideQuestion(),this.game.currentBookTarget=null,this.game.currentQuestionData=null,void(this.game.gameState!==i.GAME_OVER&&this.game.setGameState(i.PLAYING));if(e===o.correctAnswer){a.flashMessage("Prawidłowo!","success",1500);const e=n?.currentMap?.markBookAsCollected(s);if(e){if(this.game.totalBooksCollectedGlobally++,a.updateScore(this.game.totalBooksCollectedGlobally,this.game.targetBooksToWin),this.game.totalBooksCollectedGlobally>=this.game.targetBooksToWin)return a.hideQuestion(),void this.game._setGameOver(!0)}else a.flashMessage("Błąd zbierania książki!","error")}else a.flashMessage("Nieprawidłowa odpowiedź!","error"),this.game.availableQuestions.push(o);a.hideQuestion(),this.game.currentBookTarget=null,this.game.currentQuestionData=null,this.game.gameState!==i.GAME_OVER&&this.game.setGameState(i.PLAYING)}initiateFloorSelection(){this.game.gameState!==i.PLAYING||this.game.liftCooldownActive||(this.game.setGameState(i.SELECTING_FLOOR),this.game.character&&(this.game.character.isMoving=!1),a.showFloorSelectionUI(this.game.level.minFloor,this.game.level.maxFloor,this.game.level.currentFloor))}handleFloorSelection(e){this.game.gameState===i.SELECTING_FLOOR?(a.hideFloorSelectionUI(),e===this.game.level.currentFloor||e<this.game.level.minFloor||e>this.game.level.maxFloor?this.game.setGameState(i.PLAYING):this.handleLiftTransition(e).catch((e=>{this.game._handleFatalError(`Błąd przejścia na piętro: ${e.message}`)}))):a.hideFloorSelectionUI()}async handleLiftTransition(e){const t=this.game,o=3===t.level?.currentFloor||3===e;if(o&&console.log(`[GameplayManager F${e} handleLiftTransition] Starting transition. Cooldown: ${t.liftCooldownActive}`),t.gameState===i.SELECTING_FLOOR&&!t.liftCooldownActive){t.setGameState(i.TRANSITIONING),t.character&&(t.character.isMoving=!1),a.hideQuestion(),a.hideFloorSelectionUI(),t.liftCooldownActive=!0,a.flashMessage(`Przejście na piętro ${e}...`,"info",1800);try{await t.level.loadFloor(e,t.canvas.width,t.canvas.height);const i=t.level.currentMap;if(!i)throw new Error(`Map object is null for floor ${e}.`);const a=i.getLiftPosition();if(!a)throw new Error(`No lift position data on loaded floor ${e}!`);o&&console.log(`  [GM F${e} LiftTransition] Lift tile: (${a.tileX},${a.tileY}), World:(${a.x.toFixed(1)},${a.y.toFixed(1)})`);let n=null;if(n=i.getSpawnPointInRoomOfLift(a.tileX,a.tileY,2),o&&console.log(`  [GM F${e} LiftTransition] From getSpawnPointInRoomOfLift:`,n?{x:n.x.toFixed(1),y:n.y.toFixed(1)}:null),n||(o&&console.warn(`  [GM F${e} LiftTransition] getSpawnPointInRoomOfLift failed. Using findNearestWalkableTile...`),n=i.findNearestWalkableTile(a.x,a.y,5,!0,!0),o&&console.log(`  [GM F${e} LiftTransition] From findNearestWalkableTile:`,n?{x:n.x.toFixed(1),y:n.y.toFixed(1)}:null)),!n){o&&console.error(`  [GM F${e} LiftTransition] All spawn methods failed. Using random spawn...`);const t=i.findRandomInitialSpawnPosition();if(!t)throw new Error(`EMERGENCY SPAWN FAILED on floor ${e}!`);n=t,o&&console.log(`  [GM F${e} LiftTransition] From emergencySpawn:`,n?{x:n.x.toFixed(1),y:n.y.toFixed(1)}:null)}t.character.x=n.x,t.character.y=n.y,o&&console.log(`  [GM F${e} LiftTransition] Final landing: (${t.character.x.toFixed(1)}, ${t.character.y.toFixed(1)})`),t.character.currentDirection=s.Direction.DOWN,t.character.isMoving=!1,t.renderer?.centerCameraOnCharacter(),this.ensureCharacterIsOnWalkableTile(!1),t.startLiftCooldownTimer()}catch(o){console.error(`[GM F${e} LiftTransition] Error during transition:`,o),t.liftCooldownActive=!1,t.gameState!==i.GAME_OVER&&t.setGameState(i.PLAYING),t._handleFatalError(`Transition error to floor ${e}: ${o.message||o}`)}}}ensureCharacterIsOnWalkableTile(e=!1){const t=this.game.character,i=this.game.level?.currentMap;if(!t||!i)return;const o=Math.floor(t.x/i.tileSize),a=Math.floor(t.y/i.tileSize),s=o>=0&&o<i.cols&&a>=0&&a<i.rows?i.map[a]?.[o]:0,n=i.isWalkable(t.x,t.y)&&(!(3===s)||e),r=this.checkCollision(t.x,t.y);if(r||!n){const e=3===this.game.level?.currentFloor;e&&console.warn(`[GameplayManager F${this.game.level.currentFloor} AntiStuck] Char at (${t.x.toFixed(1)},${t.y.toFixed(1)}) -> tile (${o},${a}) needs nudge. Colliding:${r}, SafeStand:${n}`);const s=i.findNearestWalkableTile(t.x,t.y,8,!0,!0);if(s)e&&console.log(`  [AntiStuck] Nudging to safe spot: (${s.x.toFixed(1)},${s.y.toFixed(1)})`),t.x=s.x,t.y=s.y,this.game.renderer?.centerCameraOnCharacter();else{e&&console.error("  [AntiStuck] CRITICAL: Could not find any safe spot to nudge. Trying random.");const o=i.findRandomInitialSpawnPosition();o?(e&&console.warn(`  [AntiStuck] Emergency nudge to random: (${o.x.toFixed(1)},${o.y.toFixed(1)})`),t.x=o.x,t.y=o.y,this.game.renderer?.centerCameraOnCharacter()):(e&&console.error("  [AntiStuck] EVEN RANDOM SPAWN FAILED! Game might be broken."),this.game._handleFatalError("Anti-Stuck system failed critically."))}}}}const C={track1:e.p+"assets/audio/back126c4c9e8849503fadb12.mp3",track2:e.p+"assets/audio/back2ddba92be3cd8ac98633a.mp3",track3:e.p+"assets/audio/back381530afe1194de9f2bb1.mp3"},k=["track1","track2","track3"];class z{constructor(){this.musicVolume=.5,this.currentMusicElement=null,this.currentTrackKey=null,this.isMusicPlaying=!1;const e=localStorage.getItem("musicVolume");null!==e&&(this.musicVolume=parseFloat(e)),this.audioElements={},this._preloadTracks()}_preloadTracks(){console.log("[AudioManager] Preloading tracks from imported sources...");for(const e in C)if(C.hasOwnProperty(e)){const t=C[e],i=new Audio(t);i.preload="auto",this.audioElements[e]=i,console.log(`  Preloaded ${e} from ${t}`)}}setMusicVolume(e){this.musicVolume=Math.max(0,Math.min(1,e)),this.currentMusicElement&&(this.currentMusicElement.volume=this.musicVolume),localStorage.setItem("musicVolume",this.musicVolume.toString()),console.log(`[AudioManager] Music volume set to: ${this.musicVolume}`)}getMusicVolume(){return this.musicVolume}playMusic(e,t=!0){if(!this.audioElements[e]){if(console.warn(`[AudioManager] Track "${e}" not found or not preloaded.`),!C[e])return void console.error(`[AudioManager] Source for track "${e}" not defined in MUSIC_SOURCES.`);this.audioElements[e]=new Audio(C[e])}this.isMusicPlaying&&this.currentTrackKey===e||(this.stopMusic(),this.currentMusicElement=this.audioElements[e],this.currentMusicElement.volume=this.musicVolume,this.currentMusicElement.loop=t,this.currentTrackKey=e,this.currentMusicElement.play().then((()=>{this.isMusicPlaying=!0,console.log(`[AudioManager] Playing music: ${e} (Volume: ${this.currentMusicElement.volume})`)})).catch((t=>{console.error(`[AudioManager] Error playing "${e}":`,t),console.error(`  Playback failure details: userInteracted (check Menu.js), document.hasFocus(): ${document.hasFocus()}`),this.isMusicPlaying=!1,this.currentMusicElement=null,this.currentTrackKey=null})))}stopMusic(){this.currentMusicElement&&(this.currentMusicElement.pause(),this.currentMusicElement.currentTime=0,this.isMusicPlaying=!1,console.log(`[AudioManager] Stopped music: ${this.currentTrackKey}`))}changeTrackForFloor(e){const t=Math.max(0,e-1)%k.length,i=k[t];i?(console.log(`[AudioManager] Floor ${e} -> Music track: ${i}`),this.playMusic(i)):console.warn(`[AudioManager] No track found for floor index ${t}.`)}startInitialMusic(e=1){console.log("[AudioManager] Attempting to start initial music..."),this.changeTrackForFloor(e)}}const I=e.p+"assets/images/character_red9229918d5325fcdf2e6e.png",E=e.p+"assets/images/character_blue7b9b140f7eb486e8a968.png",L=e.p+"assets/images/character_yellowff53afbc44f903d97313.png",x=e.p+"assets/images/character_green007c77c97eef8cbb1e94.png",$=e.p+"assets/images/booka54431ef16a38389c12e.png";class T{static CREATOR_NAMES=["Rafał","Dima","Venia","Kacper"];static CLASS_ATTENDING_INFO="Klasa 2P2T / Projektowanie stron internetowych";constructor(e){if(console.log(`[Game] Initializing with character: ${e}`),!e){const e="[Game] CRITICAL: Game initialized without a characterColor!";throw console.error(e),alert("Game cannot start: no character was selected."),new Error(e)}this.characterColor=e,this._gameState=i.IDLE,this.isRunning=!1,this.totalBooksCollectedGlobally=0,this.targetBooksToWin=15,this.availableQuestions=[],this.currentBookTarget=null,this.currentQuestionData=null,this.liftCooldownActive=!1,this.liftCooldownTimer=null,this.canvas=null,this.ctx=null,this.character=null,this.level=null,this.inputManager=null,this.renderer=null,this.gameplayManager=null,this.audioManager=null,this.sprites={red:I,blue:E,yellow:L,green:x},this.bookImage=null,this.gameLoop=this.gameLoop.bind(this),this._handleFatalError=this._handleFatalError.bind(this),this._boundKeyDownHandler=null,this._boundKeyUpHandler=null;try{this._initializeCoreComponents(),this.audioManager=new z,console.log("[Game] AudioManager created."),this.gameplayManager=new b(this),console.log("[Game] GameplayManager created."),this.renderer=new v(this);const{canvas:e,ctx:t}=this.renderer.initializeCanvas();this.canvas=e,this.ctx=t,console.log("[Game] Renderer and Canvas initialized."),a.setGameplayManager(this.gameplayManager),a.initializeUI(this.inputManager),console.log("[Game] UIManager for in-game UI initialized."),this._addEventListeners(),console.log("[Game] Core components initialized. Waiting for triggerGameStart() from Menu.")}catch(e){console.error("[Game] Synchronous core initialization failed:",e),alert(`Critical initialization error: ${e.message}. Game cannot start.`)}}get gameState(){return this._gameState}setGameState(e){this._gameState!==e&&(console.log(`[Game State] ${this._gameState} -> ${e}`),this._gameState=e)}_initializeCoreComponents(){this.inputManager=new t,this.level=new M(1,3)}_addEventListeners(){window.addEventListener("resize",(()=>this.renderer?.resizeCanvas()))}async triggerGameStart(){if(this.gameState!==i.IDLE)return void console.warn(`[Game] triggerGameStart called but game state is ${this.gameState}. Current character: ${this.characterColor}. Aborting.`);console.log(`[Game] triggerGameStart received for character: ${this.characterColor}. Starting asset loading...`);const e=a.getLoadingOverlay();e&&e.classList.add("visible");try{await this._loadAssetsAndThenStartLogic(),console.log("[Game] Game start sequence (assets and logic) completed successfully.")}catch(t){console.error("[Game] Error during _loadAssetsAndThenStartLogic (called from triggerGameStart):",t),e&&e.classList.remove("visible"),this.gameState!==i.GAME_OVER&&this._handleFatalError(`Game start process failed: ${t.message}`)}}async _loadAssetsAndThenStartLogic(){const e=a.getLoadingOverlay();try{this.setGameState(i.LOADING),e&&!e.classList.contains("visible")&&e.classList.add("visible"),await this._loadAssets(),await this._startGameLogic(),e&&e.classList.remove("visible")}catch(t){throw console.error("[Game] _loadAssetsAndThenStartLogic failed:",t),e&&e.classList.remove("visible"),this._handleFatalError(`Asset loading or game logic start error: ${t.message}`),t}}async _loadAssets(){console.log("[Game] Loading assets...");const e=[],t=this.characterColor||"red",i=this.sprites[t];if(!i)throw new Error(`Sprite path for character color "${t}" is undefined.`);if(console.log(`[Game] Using sprite path: ${i} for character ${t}`),!this.ctx)throw new Error("Canvas context not available for Character creation.");this.character=new s(this.ctx,i,{speed:3,frameSize:32,scale:2,animationSpeed:150,frameCount:4}),e.push(new Promise(((e,t)=>{this.character.sprite.onload=()=>{console.log(`  [Assets] Character sprite loaded: ${i}`),e()},this.character.sprite.onerror=e=>t(new Error(`Failed to load character sprite: ${i}. Details: ${e.message||e}`))}))),$?(this.bookImage=new Image,this.bookImage.src=$,e.push(new Promise((e=>{this.bookImage.onload=()=>{console.log(`  [Assets] Book image loaded: ${$}`),e()},this.bookImage.onerror=()=>{console.warn(` [Assets] Failed to load book image: ${$}. Using fallback.`),this.bookImage=null,e()}})))):(console.warn("[Assets] No book sprite path provided. Book will use fallback rendering."),this.bookImage=null),await Promise.all(e),console.log("[Game] All visual assets loaded successfully.")}async _startGameLogic(){if(console.log("[Game] Starting core game logic..."),!(this.level&&this.character&&this.canvas&&this.renderer&&this.gameplayManager&&this.audioManager))throw new Error("Cannot start game - essential components are missing.");this.setGameState(i.LOADING_LEVEL);try{await this.level.loadFloor(this.level.minFloor,this.canvas.width,this.canvas.height);const e=this.level.currentMap;if(!e)throw new Error("Failed to load initial map. Map object is null.");const t=e.findRandomInitialSpawnPosition();if(!t)throw new Error("Failed to find a valid starting position on the map!");this.character.x=t.x,this.character.y=t.y,this.character.currentDirection=s.Direction.DOWN,this.character.isMoving=!1,this.gameplayManager.ensureCharacterIsOnWalkableTile(!1),this.totalBooksCollectedGlobally=0,this.availableQuestions=[...o],this.liftCooldownActive=!1,clearTimeout(this.liftCooldownTimer),this.liftCooldownTimer=null,this.currentBookTarget=null,this.currentQuestionData=null,this.renderer.centerCameraOnCharacter(),a.updateScore(this.totalBooksCollectedGlobally,this.targetBooksToWin),a.showGameUI(),this._boundKeyDownHandler=this.handleKeyDown.bind(this),this._boundKeyUpHandler=this.handleKeyUp.bind(this),window.addEventListener("keydown",this._boundKeyDownHandler),window.addEventListener("keyup",this._boundKeyUpHandler),this.audioManager.startInitialMusic(this.level.currentFloor),console.log(`[Game] Initial music started (or attempted) for floor ${this.level.currentFloor}`),this.setGameState(i.PLAYING),a.startTimer(),this.isRunning||(this.isRunning=!0,requestAnimationFrame(this.gameLoop),console.log("[Game] Game logic started. Game loop is running."))}catch(e){throw console.error("[Game] Error during _startGameLogic:",e),this._handleFatalError(`Level start process error: ${e.message}`),e}}_setGameOver(e=!0){this.gameState!==i.GAME_OVER&&(console.log(`[Game] Setting game over. Win: ${e}`),this.setGameState(i.GAME_OVER),this.isRunning=!1,this.character&&(this.character.isMoving=!1),clearTimeout(this.liftCooldownTimer),this.audioManager&&this.audioManager.stopMusic(),this._boundKeyDownHandler&&window.removeEventListener("keydown",this._boundKeyDownHandler),this._boundKeyUpHandler&&window.removeEventListener("keyup",this._boundKeyUpHandler),this._boundKeyDownHandler=null,this._boundKeyUpHandler=null,a.stopTimer(e),a.showGameOverScreen(e,T.CREATOR_NAMES,T.CLASS_ATTENDING_INFO))}stopGame(){console.log("[Game] Explicit stopGame requested."),this.gameState!==i.GAME_OVER?this._setGameOver(!1):console.log("[Game] stopGame called, but game is already over.")}_handleFatalError(e,t=!0){console.error("[Game] FATAL ERROR:",e),t&&this.gameState!==i.GAME_OVER&&a.flashMessage(`FATAL ERROR: ${e}`,"error",15e3),this.gameState!==i.GAME_OVER&&this._setGameOver(!1)}handleKeyDown(e){if(this.gameState!==i.PLAYING||!this.inputManager)return;let t=!1;const o=e.key.toLowerCase();["arrowup","w"].includes(o)?(this.inputManager.setKey("up",!0),t=!0):["arrowdown","s"].includes(o)?(this.inputManager.setKey("down",!0),t=!0):["arrowleft","a"].includes(o)?(this.inputManager.setKey("left",!0),t=!0):["arrowright","d"].includes(o)&&(this.inputManager.setKey("right",!0),t=!0),t&&e.preventDefault()}handleKeyUp(e){if(!this.inputManager)return;const t=e.key.toLowerCase();["arrowup","w"].includes(t)?this.inputManager.setKey("up",!1):["arrowdown","s"].includes(t)?this.inputManager.setKey("down",!1):["arrowleft","a"].includes(t)?this.inputManager.setKey("left",!1):["arrowright","d"].includes(t)&&this.inputManager.setKey("right",!1)}gameLoop(e){this.isRunning&&this.gameState!==i.GAME_OVER&&(this.gameplayManager?.update(e),this.renderer?.centerCameraOnCharacter(),this.renderer?.drawFrame(),requestAnimationFrame(this.gameLoop))}startLiftCooldownTimer(){clearTimeout(this.liftCooldownTimer),console.log("[Game] Starting lift cooldown timer: 2000ms."),this.liftCooldownTimer=setTimeout((()=>{this.liftCooldownActive=!1,this.liftCooldownTimer=null,this.gameState===i.TRANSITIONING?(this.setGameState(i.PLAYING),a.flashMessage(`Arrived at floor ${this.level?.currentFloor}`,"success",1500)):console.warn(`[GameTimer] Lift cooldown ended, but game state is ${this.gameState}. No state change applied.`)}),2e3)}}let F=null;class G{constructor(e){this.characterImageSources=e,this.selectedCharacter=null,this.userInteracted=!1,this.overlay=null,this.audioManagerInstance=null,console.log("[Menu] Constructor called. Initializing elements..."),this.initializeElements(),this.characterPanel&&this.characterGrid?this.setupCharacterImages():console.error("[Menu Constructor] CRITICAL: characterPanel or characterGrid is null AFTER initializeElements. Cannot setup images."),console.log("[Menu] Adding event listeners..."),this.addEventListeners(),this.show(),console.log("[Menu] Instance created and displayed.")}setAudioManager(e){if(this.audioManagerInstance=e,console.log("[Menu] AudioManager instance received in Menu."),this.musicVolume&&this.audioManagerInstance)this.musicVolume.value=100*this.audioManagerInstance.getMusicVolume();else if(this.musicVolume){const e=localStorage.getItem("musicVolume");this.musicVolume.value=null!==e?100*parseFloat(e):50}}initializeElements(){if(this.menuContainer=document.querySelector(".menu-container"),!this.menuContainer)return void console.error("[Menu Init] CRITICAL: .menu-container not found!");this.settingsButton=this.menuContainer.querySelector(".settings-button"),this.playButton=this.menuContainer.querySelector(".play-button"),this.characterButton=this.menuContainer.querySelector(".character-button"),this.playButton?this.playButton.disabled=!0:console.warn("[Menu Init] .play-button not found."),this.characterButton||console.warn("[Menu Init] .character-button not found."),this.settingsButton||console.warn("[Menu Init] .settings-button not found."),this.settingsPanel=document.querySelector(".settings-panel"),this.settingsPanel?(this.settingsPanel.parentNode!==document.body&&this.settingsPanel.parentNode!==this.menuContainer&&document.body.appendChild(this.settingsPanel.parentNode.removeChild(this.settingsPanel)),this.musicVolume=this.settingsPanel.querySelector("#music-volume"),this.sfxVolume=this.settingsPanel.querySelector("#sfx-volume"),this.closeSettingsButton=this.settingsPanel.querySelector(".panel-close-button"),this.musicVolume||console.warn("[Menu Init] #music-volume slider not found in settings panel."),this.closeSettingsButton||console.warn("[Menu Init] .panel-close-button not found in settings panel.")):console.warn("[Menu Init] .settings-panel not found."),this.characterPanel=document.querySelector(".character-panel"),this.characterPanel?(this.characterPanel.parentNode!==document.body&&this.characterPanel.parentNode!==this.menuContainer&&document.body.appendChild(this.characterPanel.parentNode.removeChild(this.characterPanel)),this.characterGrid=this.characterPanel.querySelector(".character-grid"),this.closeCharacterPanelButton=this.characterPanel.querySelector(".panel-close-button"),this.characterGrid||console.error("[Menu Init] CRITICAL: .character-grid not found in character panel!"),this.closeCharacterPanelButton||console.warn("[Menu Init] .panel-close-button not found in character panel.")):console.error("[Menu Init] CRITICAL: .character-panel not found!");let e=this.menuContainer.querySelector(".main-menu-buttons");this.selectedCharacterDisplay=e?e.querySelector(".selected-character-display"):null,this.selectedCharacterDisplay||(this.selectedCharacterDisplay=document.createElement("div"),this.selectedCharacterDisplay.className="selected-character-display",this.playButton&&this.playButton.parentNode?this.playButton.parentNode.insertBefore(this.selectedCharacterDisplay,this.playButton):e?e.insertBefore(this.selectedCharacterDisplay,e.children[1]||null):this.menuContainer.appendChild(this.selectedCharacterDisplay)),this.updateSelectedCharacterDisplay()}setupCharacterImages(){if(!this.characterPanel||!this.characterGrid)return void console.warn("[Menu setupCharacterImages] Character panel or grid not found.");if(!this.characterImageSources||0===Object.keys(this.characterImageSources).length)return void console.warn("[Menu setupCharacterImages] No character image sources provided.");const e=this.characterGrid.querySelectorAll(".character-card");0!==e.length?e.forEach((e=>{const t=e.dataset.character,i=e.querySelector(".character-preview img");i&&this.characterImageSources[t]?i.src=this.characterImageSources[t]:i&&(console.warn(`[Menu setupCharacterImages] Image element found, but no source for character: ${t}`),i.alt=`${t} preview not available`)})):console.warn("[Menu setupCharacterImages] No character cards found in the grid.")}handleFirstInteraction(){this.userInteracted||(this.userInteracted=!0,console.log("[Menu] First user interaction recorded."))}addEventListeners(){const e=(e,t,i)=>{e&&e.addEventListener(t,(e=>{this.handleFirstInteraction(),i.call(this,e)}))};if(e(this.settingsButton,"click",this.toggleSettings),e(this.playButton,"click",this.startGame),e(this.characterButton,"click",this.openCharacterModal),this.closeSettingsButton?this.closeSettingsButton.addEventListener("click",(()=>this.closeSettings())):this.settingsPanel&&console.warn("[Menu addEventListeners] Close button for settings panel not found."),this.closeCharacterPanelButton?this.closeCharacterPanelButton.addEventListener("click",(()=>this.closeCharacterModal())):this.characterPanel&&console.warn("[Menu addEventListeners] Close button for character panel not found."),this.musicVolume){if(!this.audioManagerInstance){const e=localStorage.getItem("musicVolume");this.musicVolume.value=null!==e?100*parseFloat(e):50}this.musicVolume.addEventListener("input",(e=>{this.handleFirstInteraction();const t=parseFloat(e.target.value)/100;this.audioManagerInstance?(this.audioManagerInstance.setMusicVolume(t),console.log(`[Menu] Music volume changed via slider to: ${t}`)):(localStorage.setItem("musicVolume",t.toString()),console.warn("[Menu] Music volume slider changed, AudioManager not available. Saved to localStorage."))}))}this.sfxVolume,this.characterGrid&&this.characterGrid.addEventListener("click",(e=>{const t=e.target.closest(".character-card");t&&this.characterPanel&&this.characterPanel.classList.contains("visible")&&(this.handleFirstInteraction(),this.selectCharacter(t))}))}openCharacterModal(){this.characterPanel?(this.characterPanel.classList.add("visible"),this.settingsPanel?.classList.contains("visible")&&this.closeSettings(),this._ensureOverlay().classList.add("visible")):console.error("Character panel not found.")}closeCharacterModal(){this.characterPanel?.classList.remove("visible"),this.overlay?.classList.remove("visible")}selectCharacter(e){this.characterGrid&&e?.dataset?.character&&(this.selectedCharacter=e.dataset.character,this.characterGrid.querySelectorAll(".character-card").forEach((e=>e.classList.remove("selected"))),e.classList.add("selected"),this.playButton&&(this.playButton.disabled=!1),this.updateSelectedCharacterDisplay(),this.closeCharacterModal(),a.flashMessage(`Character ${this.selectedCharacter.charAt(0).toUpperCase()+this.selectedCharacter.slice(1)} selected!`,"success",2e3))}updateSelectedCharacterDisplay(){if(this.selectedCharacterDisplay)if(this.selectedCharacter&&this.characterImageSources&&this.characterImageSources[this.selectedCharacter]){const e=this.selectedCharacter,t=this.characterImageSources[e];let i=e.charAt(0).toUpperCase()+e.slice(1);if(this.characterGrid){const t=this.characterGrid.querySelector(`.character-card[data-character="${e}"] h3`);t&&(i=t.textContent)}this.selectedCharacterDisplay.innerHTML=`<img src="${t}" alt="${i}" class="selected-char-preview-img"> <span class="selected-char-name char-name-${e}">${i}</span>`}else this.selectedCharacterDisplay.innerHTML='<span style="color:#aaa;">No character selected</span>'}toggleSettings(){this.settingsPanel&&(this.settingsPanel.classList.contains("visible")?this.closeSettings():this.openSettings())}openSettings(){if(this.settingsPanel){if(this.settingsPanel.classList.add("visible"),this.characterPanel?.classList.contains("visible")&&this.closeCharacterModal(),this._ensureOverlay().classList.add("visible"),this.musicVolume&&this.audioManagerInstance)this.musicVolume.value=100*this.audioManagerInstance.getMusicVolume();else if(this.musicVolume){const e=localStorage.getItem("musicVolume");this.musicVolume.value=e?100*parseFloat(e):50}}else console.error("Settings panel not found.")}closeSettings(){this.settingsPanel?.classList.remove("visible"),this.overlay?.classList.remove("visible")}_ensureOverlay(){return this.overlay||(this.overlay=document.createElement("div"),this.overlay.className="ui-modal-overlay",this.overlay.addEventListener("click",(e=>{e.target===this.overlay&&(this.characterPanel?.classList.contains("visible")&&this.closeCharacterModal(),this.settingsPanel?.classList.contains("visible")&&this.closeSettings())})),document.body.appendChild(this.overlay)),this.overlay}async startGame(){if(!this.userInteracted)return void a.flashMessage("Please interact with the menu first (e.g., click a button or choose a character).","warning",3e3);if(!this.selectedCharacter)return void a.flashMessage("Please select a character first!","warning",2500);const e=a.getLoadingOverlay();e&&e.classList.add("visible"),this.hide();const t=document.getElementById("game-canvas");if(!t)return console.error("[Menu] CRITICAL: #game-canvas not found!"),e&&e.classList.remove("visible"),void this.show();t.style.display="block";try{if(F&&"function"==typeof F.stopGame&&(console.log("[Menu] Stopping previous game instance."),F.stopGame(),F=null),console.log(`[Menu] Creating new Game instance with character: ${this.selectedCharacter}`),F=new T(this.selectedCharacter),!F||"function"!=typeof F.triggerGameStart)throw new Error("Game instance created, but triggerGameStart is not available.");await F.triggerGameStart()}catch(i){console.error("[Menu] Error during game initialization or start:",i),a.flashMessage(`Game Start Failed: ${i.message}`,"error",1e4),e&&e.classList.remove("visible"),this.show(),t&&(t.style.display="none"),F=null}}show(){this.menuContainer&&(this.menuContainer.style.display="flex");const e=document.getElementById("game-canvas");e&&(e.style.display="none"),a.hideGameUI(),a.hideGameOverScreen();const t=a.getLoadingOverlay();t&&t.classList.remove("visible")}hide(){this.menuContainer&&(this.menuContainer.style.display="none")}}const A=e.p+"assets/images/redc0823efecc8ece1a10c4.png",P=e.p+"assets/images/bluea60b5a2890283d3db0d0.png",O=e.p+"assets/images/yellowe7fd8d3003d4e49a0ad5.png",N=e.p+"assets/images/green1ba3e373f73ba58a2658.png";document.addEventListener("DOMContentLoaded",(()=>{console.log("[main.js] DOMContentLoaded. Initializing Menu..."),new G({red:A,blue:P,yellow:O,green:N}),console.log("[main.js] Menu instance created.")}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWNsckIsTUFBTW9GLFFBQVUsT0FDN0QsRSxvTkN6YUY3SixTQUFTK0UsaUJBQWlCLG9CQUFvQixLQUM1Q25DLFFBQVFDLElBQUksb0RBU1osSUFBSWdzQixFQVAwQixDQUM1QmpDLElBQUssRUFDTEMsS0FBTSxFQUNOQyxPQUFRLEVBQ1JDLE1BQU8sSUFJVG5xQixRQUFRQyxJQUFJLG1DQUFtQyxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGVudC1nYW1lL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3N0dWRlbnQtZ2FtZS93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL3N0dWRlbnQtZ2FtZS93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9zdHVkZW50LWdhbWUvLi9qcy9jb3JlL0lucHV0TWFuYWdlci5qcyIsIndlYnBhY2s6Ly9zdHVkZW50LWdhbWUvLi9qcy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vc3R1ZGVudC1nYW1lLy4vanMvVUkvVUlNYW5hZ2VyLmpzIiwid2VicGFjazovL3N0dWRlbnQtZ2FtZS8uL2pzL2NvcmUvQ2hhcmFjdGVyLmpzIiwid2VicGFjazovL3N0dWRlbnQtZ2FtZS8uL2pzL21hcC9Cb29rLmpzIiwid2VicGFjazovL3N0dWRlbnQtZ2FtZS8uL2pzL3V0aWxzL21hcC5qcyIsIndlYnBhY2s6Ly9zdHVkZW50LWdhbWUvLi9qcy9tYXAvTWFwUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vc3R1ZGVudC1nYW1lLy4vanMvbWFwL01hcEdlbi5qcyIsIndlYnBhY2s6Ly9zdHVkZW50LWdhbWUvLi9qcy9tYXAvUHJvY2VkdXJhbE1hcC5qcyIsIndlYnBhY2s6Ly9zdHVkZW50LWdhbWUvLi9qcy9jb3JlL0xldmVsLmpzIiwid2VicGFjazovL3N0dWRlbnQtZ2FtZS8uL2pzL2NvcmUvR2FtZVJlbmRlcmVyLmpzIiwid2VicGFjazovL3N0dWRlbnQtZ2FtZS8uL2pzL2NvcmUvR2FtZXBsYXlNYW5hZ2VyLmpzIiwid2VicGFjazovL3N0dWRlbnQtZ2FtZS8uL2pzL2F1ZGlvL0F1ZGlvTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9zdHVkZW50LWdhbWUvLi9qcy9jb3JlL0dhbWUuanMiLCJ3ZWJwYWNrOi8vc3R1ZGVudC1nYW1lLy4vanMvVUkvTWVudS5qcyIsIndlYnBhY2s6Ly9zdHVkZW50LWdhbWUvLi9qcy9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdCAmJiBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PT0gJ1NDUklQVCcpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmM7XG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkge1xuXHRcdFx0dmFyIGkgPSBzY3JpcHRzLmxlbmd0aCAtIDE7XG5cdFx0XHR3aGlsZSAoaSA+IC0xICYmICghc2NyaXB0VXJsIHx8ICEvXmh0dHAocz8pOi8udGVzdChzY3JpcHRVcmwpKSkgc2NyaXB0VXJsID0gc2NyaXB0c1tpLS1dLnNyYztcblx0XHR9XG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvXmJsb2I6LywgXCJcIikucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsIi8vIHNyYy9jb3JlL0lucHV0TWFuYWdlci5qc1xyXG5leHBvcnQgY2xhc3MgSW5wdXRNYW5hZ2VyIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMua2V5cyA9IHtcclxuICAgICAgdXA6IGZhbHNlLFxyXG4gICAgICBkb3duOiBmYWxzZSxcclxuICAgICAgbGVmdDogZmFsc2UsXHJcbiAgICAgIHJpZ2h0OiBmYWxzZSxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzZXRLZXkoa2V5LCBpc1ByZXNzZWQpIHtcclxuICAgIGlmICh0aGlzLmtleXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICB0aGlzLmtleXNba2V5XSA9IGlzUHJlc3NlZDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldElucHV0RGlyZWN0aW9uKCkge1xyXG4gICAgbGV0IHggPSAwO1xyXG4gICAgbGV0IHkgPSAwO1xyXG4gICAgaWYgKHRoaXMua2V5cy51cCkgeSAtPSAxO1xyXG4gICAgaWYgKHRoaXMua2V5cy5kb3duKSB5ICs9IDE7XHJcbiAgICBpZiAodGhpcy5rZXlzLmxlZnQpIHggLT0gMTtcclxuICAgIGlmICh0aGlzLmtleXMucmlnaHQpIHggKz0gMTtcclxuICAgIHJldHVybiB7IHgsIHkgfTtcclxuICB9XHJcbn1cclxuIiwiLy8gc3JjL3V0aWxzL2NvbnN0YW50cy5qc1xyXG5cclxuLy8gRGVmaW5pY2plIHR5cMOzdyBrYWZlbGvDs3cgbWFweVxyXG5leHBvcnQgY29uc3QgVElMRV9XQUxMID0gMDsgLy8gxZpjaWFuYVxyXG5leHBvcnQgY29uc3QgVElMRV9DT1JSSURPUiA9IDE7IC8vIEtvcnl0YXJ6XHJcbmV4cG9ydCBjb25zdCBUSUxFX1JPT01fRkxPT1IgPSAyOyAvLyBQb2TFgm9nYSBwb2tvanVcclxuZXhwb3J0IGNvbnN0IFRJTEVfTElGVCA9IDM7IC8vIFdpbmRhXHJcbi8vIE1vxbxuYSBkb2RhxIcgd2nEmWNlaiB0eXDDs3csIG5wLiBUSUxFX0RPT1IsIFRJTEVfV0lORE9XIGl0cC5cclxuXHJcbi8vIFN0YW55IGdyeVxyXG5leHBvcnQgY29uc3QgR2FtZVN0YXRlID0ge1xyXG4gIExPQURJTkc6ICdMT0FESU5HJywgLy8gxYFhZG93YW5pZSB6YXNvYsOzdywgZ2VuZXJvd2FuaWUgcG96aW9tdVxyXG4gIE1FTlU6ICdNRU5VJywgLy8gTWVudSBnxYLDs3duZSAod3liw7NyIHBvc3RhY2kpXHJcbiAgUExBWUlORzogJ1BMQVlJTkcnLCAvLyBHxYLDs3duYSByb3pncnl3a2FcclxuICBBU0tJTkdfUVVFU1RJT046ICdBU0tJTkdfUVVFU1RJT04nLCAvLyBXecWbd2lldGxhbmllIHB5dGFuaWFcclxuICBTRUxFQ1RJTkdfRkxPT1I6ICdTRUxFQ1RJTkdfRkxPT1InLCAvLyBXecWbd2lldGxhbmllIFVJIHd5Ym9ydSBwacSZdHJhXHJcbiAgVFJBTlNJVElPTklORzogJ1RSQU5TSVRJT05JTkcnLCAvLyBBbmltYWNqYS9vY3pla2l3YW5pZSBuYSBwcnplasWbY2llIHdpbmR5XHJcbiAgR0FNRV9PVkVSOiAnR0FNRV9PVkVSJywgLy8gS29uaWVjIGdyeSAod3lncmFuYSBsdWIgcHJ6ZWdyYW5hKVxyXG59O1xyXG5cclxuLy8gUGFyYW1ldHJ5IHJvemdyeXdraVxyXG5leHBvcnQgY29uc3QgVEFSR0VUX0JPT0tTX1RPX1dJTiA9IDE1OyAvLyBMaWN6YmEga3NpxIXFvGVrIGRvIHplYnJhbmlhLCBhYnkgd3lncmHEhyAoZ2xvYmFsbmllKVxyXG5leHBvcnQgY29uc3QgTElGVF9DT09MRE9XTl9NUyA9IDIwMDA7IC8vIEN6YXMgb2Rub3dpZW5pYSB3aW5keSB3IG1pbGlzZWt1bmRhY2ggKDIgc2VrdW5keSlcclxuZXhwb3J0IGNvbnN0IExJRlRfSU5URVJBQ1RJT05fUkFESVVTX01VTFRJUExJRVIgPSAwLjc7IC8vIE1ub8W8bmlrIHByb21pZW5pYSBpbnRlcmFrY2ppIHogd2luZMSFICh3emdsxJlkZW0gdGlsZVNpemUpXHJcblxyXG4vLyBTemFuc2EgbmEgcG9qYXdpZW5pZSBzacSZIHNpxYJvd25pIG5hIHBpZXJ3c3p5bSBwacSZdHJ6ZSAoMC4wIGRvIDEuMClcclxuZXhwb3J0IGNvbnN0IEdZTV9DSEFOQ0VfT05fRklSU1RfRkxPT1IgPSAwLjY7IC8vIDYwJSBzemFuc3lcclxuXHJcbi8vIFB5dGFuaWEgaSBvZHBvd2llZHppXHJcbmV4cG9ydCBjb25zdCBxdWVzdGlvbnMgPSBbXHJcbiAge1xyXG4gICAgcXVlc3Rpb246XHJcbiAgICAgICdLdMOzcnkgasSZenlrIHByb2dyYW1vd2FuaWEgamVzdCB6bmFueSB6ZSBzd29qZWogd3N6ZWNoc3Ryb25ub8WbY2kgaSB1xbx5d2FueSB6YXLDs3dubyB3IGJhY2tlbmR6aWUgKE5vZGUuanMpLCBqYWsgaSBmcm9udGVuZHppZT8nLFxyXG4gICAgb3B0aW9uczogWydQeXRob24nLCAnSmF2YScsICdKYXZhU2NyaXB0JywgJ0MjJ10sXHJcbiAgICBjb3JyZWN0QW5zd2VyOiAyLCAvLyBJbmRla3MgcG9wcmF3bmVqIG9kcG93aWVkemkgKEphdmFTY3JpcHQpXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjogJ0NvIG96bmFjemEgc2tyw7N0IEhUTUw/JyxcclxuICAgIG9wdGlvbnM6IFtcclxuICAgICAgJ0h5cGVyVGV4dCBNYXJrdXAgTGFuZ3VhZ2UnLFxyXG4gICAgICAnSGlnaCBUcmFuc2ZlciBNYWNoaW5lIExhbmd1YWdlJyxcclxuICAgICAgJ0h5cGVybGluayBhbmQgVGV4dCBNYW5hZ2VtZW50IExhbmd1YWdlJyxcclxuICAgICAgJ0hvbWUgVG9vbCBNYXJrdXAgTGFuZ3VhZ2UnLFxyXG4gICAgXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDAsXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjogJ0t0w7NyYSBzdHJ1a3R1cmEgZGFueWNoIGR6aWHFgmEgbmEgemFzYWR6aWUgTElGTyAoTGFzdC1JbiwgRmlyc3QtT3V0KT8nLFxyXG4gICAgb3B0aW9uczogWydLb2xlamthIChRdWV1ZSknLCAnU3RvcyAoU3RhY2spJywgJ0xpc3RhIChMaXN0KScsICdEcnpld28gKFRyZWUpJ10sXHJcbiAgICBjb3JyZWN0QW5zd2VyOiAxLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcXVlc3Rpb246ICdKYWsgbmF6eXdhIHNpxJkgcHJvY2VzIHpuYWpkb3dhbmlhIGkgbmFwcmF3aWFuaWEgYsWCxJlkw7N3IHcga29kemllPycsXHJcbiAgICBvcHRpb25zOiBbJ0tvbXBpbGFjamEnLCAnVGVzdG93YW5pZScsICdEZWJ1Z293YW5pZScsICdSZWZha3Rvcnl6YWNqYSddLFxyXG4gICAgY29ycmVjdEFuc3dlcjogMixcclxuICB9LFxyXG4gIHtcclxuICAgIHF1ZXN0aW9uOlxyXG4gICAgICBcIkt0w7NyeSBwYXJhZHlnbWF0IHByb2dyYW1vd2FuaWEgb3BpZXJhIHNpxJkgbmEga29uY2VwY2ppICdvYmlla3TDs3cnLCBrdMOzcmUgbW9nxIUgemF3aWVyYcSHIGRhbmUgaSBrb2Q/XCIsXHJcbiAgICBvcHRpb25zOiBbXHJcbiAgICAgICdQcm9ncmFtb3dhbmllIGZ1bmtjeWpuZScsXHJcbiAgICAgICdQcm9ncmFtb3dhbmllIHByb2NlZHVyYWxuZScsXHJcbiAgICAgICdQcm9ncmFtb3dhbmllIG9iaWVrdG93ZScsXHJcbiAgICAgICdQcm9ncmFtb3dhbmllIGxvZ2ljem5lJyxcclxuICAgIF0sXHJcbiAgICBjb3JyZWN0QW5zd2VyOiAyLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcXVlc3Rpb246ICdDbyBvem5hY3phIENTUz8nLFxyXG4gICAgb3B0aW9uczogW1xyXG4gICAgICAnQ2FzY2FkaW5nIFN0eWxlIFNoZWV0cycsXHJcbiAgICAgICdDb21wdXRlciBTdHlsZSBTeW50YXgnLFxyXG4gICAgICAnQ3JlYXRpdmUgU3R5bGluZyBTeXN0ZW0nLFxyXG4gICAgICAnQ29sb3JmdWwgU3R5bGUgU2NyaXB0cycsXHJcbiAgICBdLFxyXG4gICAgY29ycmVjdEFuc3dlcjogMCxcclxuICB9LFxyXG4gIHtcclxuICAgIHF1ZXN0aW9uOiAnS3TDs3J5IG9wZXJhdG9yIHcgSmF2YVNjcmlwdCBzxYJ1xbx5IGRvIMWbY2lzxYJlZ28gcG9yw7N3bmFuaWEgKHdhcnRvxZvEhyBpIHR5cCk/JyxcclxuICAgIG9wdGlvbnM6IFsnPT0nLCAnPScsICc9PT0nLCAnIT0nXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjogJ0phayBuYXp5d2Egc2nEmSBwb3B1bGFybnkgc3lzdGVtIGtvbnRyb2xpIHdlcnNqaSB1xbx5d2FueSBwcnpleiBwcm9ncmFtaXN0w7N3PycsXHJcbiAgICBvcHRpb25zOiBbJ1N1YnZlcnNpb24gKFNWTiknLCAnR2l0JywgJ01lcmN1cmlhbCcsICdDVlMnXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDEsXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjpcclxuICAgICAgJ0t0w7NyeSB0eXAgcMSZdGxpIHcgd2nEmWtzem/Fm2NpIGrEmXp5a8OzdyBwcm9ncmFtb3dhbmlhIGplc3QgbmFqYmFyZHppZWogb2Rwb3dpZWRuaSBkbyBpdGVyYWNqaSBwbyBlbGVtZW50YWNoIHRhYmxpY3ksIGdkeSBuaWUgem5hbXkgaWNoIGxpY3pieT8nLFxyXG4gICAgb3B0aW9uczogWydmb3InLCAnd2hpbGUnLCAnZG8uLi53aGlsZScsICdmb3JlYWNoIChsdWIgZm9yLi4ub2YpJ10sXHJcbiAgICBjb3JyZWN0QW5zd2VyOiAzLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcXVlc3Rpb246ICdDbyB0byBqZXN0IEFQST8nLFxyXG4gICAgb3B0aW9uczogW1xyXG4gICAgICAnQWR2YW5jZWQgUHJvZ3JhbW1pbmcgSW50ZXJmYWNlJyxcclxuICAgICAgJ0FwcGxpY2F0aW9uIFByb2dyYW1taW5nIEludGVyZmFjZScsXHJcbiAgICAgICdBdXRvbWF0ZWQgUHJvZ3JhbSBJbnRlcmFjdGlvbicsXHJcbiAgICAgICdBbGdvcml0aG1pYyBQcm9jZXNzaW5nIElucHV0JyxcclxuICAgIF0sXHJcbiAgICBjb3JyZWN0QW5zd2VyOiAxLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcXVlc3Rpb246ICdDbyB0byBqZXN0IFBMQyBpIGRvIGN6ZWdvIG5hamN6xJnFm2NpZWogc8WCdcW8eSB3IGF1dG9tYXR5Y2U/JyxcclxuICAgIG9wdGlvbnM6IFtcclxuICAgICAgJ1Byb2dyYW1vd2FsbnkgTG9naWMgQ29udHJvbGxlciwgZG8gc3Rlcm93YW5pYSBwcm9jZXNhbWkgcHJ6ZW15c8WCb3d5bWknLFxyXG4gICAgICAnUGVyc29uYWwgTGVhcm5pbmcgQ29tcHV0ZXIsIGRvIG5hdWtpIHByb2dyYW1vd2FuaWEnLFxyXG4gICAgICAnUG93ZXIgTGluZSBDb21tdW5pY2F0aW9uLCBkbyBwcnplc3nFgnUgZGFueWNoIHByemV6IHNpZcSHIGVsZWt0cnljem7EhScsXHJcbiAgICAgICdQcm9qZWN0IExpZmVjeWNsZSBDb3N0LCBkbyB6YXJ6xIVkemFuaWEga29zenRhbWkgcHJvamVrdHUnLFxyXG4gICAgXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDAsXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjogJ1phIGNvIG9kcG93aWFkYSBwcnp5c8WCb25hIChhcGVydHVyYSkgdyBhcGFyYWNpZSBmb3RvZ3JhZmljem55bT8nLFxyXG4gICAgb3B0aW9uczogW1xyXG4gICAgICAnS29udHJvbMSZIGN6YXN1IG5hxZt3aWV0bGFuaWEnLFxyXG4gICAgICAnUmVndWxhY2rEmSBnxYLEmWJpIG9zdHJvxZtjaSBpIGlsb8WbY2kgd3BhZGFqxIVjZWdvIMWbd2lhdMWCYScsXHJcbiAgICAgICdVc3Rhd2llbmllIGJhbGFuc3UgYmllbGknLFxyXG4gICAgICAnU3RhYmlsaXphY2rEmSBvYnJhenUnLFxyXG4gICAgXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDEsXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjpcclxuICAgICAgJ0t0w7NyeSBlbGVtZW50IGtvbXB1dGVyYSBqZXN0IG9kcG93aWVkemlhbG55IHphIHR5bWN6YXNvd2UgcHJ6ZWNob3d5d2FuaWUgZGFueWNoIHXFvHl3YW55Y2ggcHJ6ZXogcHJvY2Vzb3I/JyxcclxuICAgIG9wdGlvbnM6IFsnRHlzayB0d2FyZHkgKEhERC9TU0QpJywgJ0thcnRhIGdyYWZpY3puYSAoR1BVKScsICdQYW1pxJnEhyBSQU0nLCAnUMWCeXRhIGfFgsOzd25hJ10sXHJcbiAgICBjb3JyZWN0QW5zd2VyOiAyLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcXVlc3Rpb246XHJcbiAgICAgICdXIGpha2ltIGrEmXp5a3UgcHJvZ3JhbW93YW5pYSBuYWpjesSZxZtjaWVqIHBpc2FuZSBzxIUgc2tyeXB0eSBwbyBzdHJvbmllIHNlcndlcmEgKGJhY2tlbmQpPycsXHJcbiAgICBvcHRpb25zOiBbJ0hUTUwnLCAnQ1NTJywgJ1NRTCcsICdQSFAsIFB5dGhvbiBsdWIgTm9kZS5qcyAoSmF2YVNjcmlwdCknXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDMsXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjpcclxuICAgICAgJ0pha2kgdHlwIHN5Z25hxYJ1IGNoYXJha3Rlcnl6dWplIHNpxJkgcMWCeW5uxIUgem1pYW7EhSB3YXJ0b8WbY2kgdyBjemFzaWUsIHcgcHJ6ZWNpd2llxYRzdHdpZSBkbyBzeWduYcWCdSBjeWZyb3dlZ28/JyxcclxuICAgIG9wdGlvbnM6IFsnQmluYXJueScsICdBbmFsb2dvd3knLCAnWmVyby1qZWR5bmtvd3knLCAnSW1wdWxzb3d5J10sXHJcbiAgICBjb3JyZWN0QW5zd2VyOiAxLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcXVlc3Rpb246XHJcbiAgICAgICdLdMOzcnkgcGFyYW1ldHIgdXN0YXdpYSBjenXFgm/Fm8SHIG1hdHJ5Y3kgYXBhcmF0dSBuYSDFm3dpYXTFgm8gaSB3cMWCeXdhIG5hIHBvemlvbSBzenVtw7N3IG5hIHpkasSZY2l1PycsXHJcbiAgICBvcHRpb25zOiBbJ0N6YXMgbmHFm3dpZXRsYW5pYScsICdQcnp5c8WCb25hJywgJ0lTTycsICdPZ25pc2tvd2EnXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjogJ0NvIHRvIGplc3QgYWRyZXMgSVAgdyBzaWVjaSBrb21wdXRlcm93ZWo/JyxcclxuICAgIG9wdGlvbnM6IFtcclxuICAgICAgJ1VuaWthbG55IGlkZW50eWZpa2F0b3IgdXJ6xIVkemVuaWEgdyBzaWVjaScsXHJcbiAgICAgICdOYXp3YSB1xbx5dGtvd25pa2EgZG8gbG9nb3dhbmlhJyxcclxuICAgICAgJ0FkcmVzIHN0cm9ueSBpbnRlcm5ldG93ZWonLFxyXG4gICAgICAnVHlwIGthYmxhIHNpZWNpb3dlZ28nLFxyXG4gICAgXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDAsXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjogJ0N6eW0gcsOzxbxuaSBzacSZIGluc3RydWtjamEgd2FydW5rb3dhIGBpZmAgb2QgcMSZdGxpIGB3aGlsZWAgdyBwcm9ncmFtb3dhbml1PycsXHJcbiAgICBvcHRpb25zOiBbXHJcbiAgICAgICdgaWZgIHBvd3RhcnphIGJsb2sga29kdSwgYHdoaWxlYCBzcHJhd2R6YSB3YXJ1bmVrIGplZG5va3JvdG5pZScsXHJcbiAgICAgICdgaWZgIHNwcmF3ZHphIHdhcnVuZWsgamVkbm9rcm90bmllLCBgd2hpbGVgIHBvd3RhcnphIGJsb2sga29kdSBkb3DDs2tpIHdhcnVuZWsgamVzdCBwcmF3ZHppd3knLFxyXG4gICAgICAnTmllIG1hIG1pxJlkenkgbmltaSByw7PFvG5pY3knLFxyXG4gICAgICAnYGlmYCBzxYJ1xbx5IHR5bGtvIGRvIGRla2xhcm93YW5pYSB6bWllbm55Y2gsIGB3aGlsZWAgZG8gb3BlcmFjamkgbWF0ZW1hdHljem55Y2gnLFxyXG4gICAgXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDEsXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjogJ0RvIGN6ZWdvIG5hamN6xJnFm2NpZWogc8WCdcW8eSBjenVqbmlrIGNpxZtuaWVuaWEgdyBzeXN0ZW1pZSBhdXRvbWF0eWtpPycsXHJcbiAgICBvcHRpb25zOiBbJ1BvbWlhcnUgdGVtcGVyYXR1cnknLCAnUG9taWFydSBvZGxlZ8WCb8WbY2knLCAnUG9taWFydSBzacWCeScsICdQb21pYXJ1IGNpxZtuaWVuaWEnXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDMsXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjogJ0NvIG96bmFjemEgemFzYWRhIHRyw7NqcG9kemlhxYJ1IHcga29tcG96eWNqaSBmb3RvZ3JhZmljem5laj8nLFxyXG4gICAgb3B0aW9uczogW1xyXG4gICAgICAnRHppZWxlbmllIG9icmF6dSBuYSAzIHLDs3duZSBjesSZxZtjaSBwaW9ub3dvIGkgcG96aW9tbyBpIHVtaWVzemN6YW5pZSBrbHVjem93eWNoIGVsZW1lbnTDs3cgbmEgbGluaWFjaCBsdWIgaWNoIHByemVjacSZY2lhY2gnLFxyXG4gICAgICAnVcW8eXdhbmllIHR5bGtvIDMgZ8WCw7N3bnljaCBrb2xvcsOzdyB3IGthZHJ6ZScsXHJcbiAgICAgICdSb2JpZW5pZSB6YXdzemUgMyB6ZGrEmcSHIHRlaiBzYW1laiBzY2VueScsXHJcbiAgICAgICdCYWxhbnNvd2FuaWUgMyBnxYLDs3dueWNoIG9iaWVrdMOzdyB3IGthZHJ6ZScsXHJcbiAgICBdLFxyXG4gICAgY29ycmVjdEFuc3dlcjogMCxcclxuICB9LFxyXG4gIHtcclxuICAgIHF1ZXN0aW9uOiAnSmFrYSBqZXN0IHBvZHN0YXdvd2Egcm9sYSBzeXN0ZW11IG9wZXJhY3lqbmVnbz8nLFxyXG4gICAgb3B0aW9uczogW1xyXG4gICAgICAnVHdvcnplbmllIGdyYWZpa2kga29tcHV0ZXJvd2VqJyxcclxuICAgICAgJ1phcnrEhWR6YW5pZSB6YXNvYmFtaSBzcHJ6xJl0b3d5bWkgaSBwcm9ncmFtb3d5bWkga29tcHV0ZXJhJyxcclxuICAgICAgJ1Bpc2FuaWUga29kdSBwcm9ncmFtw7N3JyxcclxuICAgICAgJ1ByemVnbMSFZGFuaWUgSW50ZXJuZXR1JyxcclxuICAgIF0sXHJcbiAgICBjb3JyZWN0QW5zd2VyOiAxLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcXVlc3Rpb246XHJcbiAgICAgICdKYWtpZWdvIHR5cHUgZGFueWNoIG5hamN6xJnFm2NpZWogdcW8eWplc3ogZG8gcHJ6ZWNob3d5d2FuaWEgd2lla3Ugb3NvYnkgKGxpY3piYSBjYcWCa293aXRhKT8nLFxyXG4gICAgb3B0aW9uczogW1xyXG4gICAgICAnU3RyaW5nIChjacSFZyB6bmFrw7N3KScsXHJcbiAgICAgICdCb29sZWFuICh3YXJ0b8WbxIcgbG9naWN6bmEpJyxcclxuICAgICAgJ0Zsb2F0IChsaWN6YmEgem1pZW5ub3ByemVjaW5rb3dhKScsXHJcbiAgICAgICdJbnRlZ2VyIChsaWN6YmEgY2HFgmtvd2l0YSknLFxyXG4gICAgXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDMsXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjogJ0VsZW1lbnQgd3lrb25hd2N6eSAoYWt0dWF0b3IpIHcgc3lzdGVtaWUgYXV0b21hdHlraSB0byB1cnrEhWR6ZW5pZSwga3TDs3JlLi4uJyxcclxuICAgIG9wdGlvbnM6IFtcclxuICAgICAgJ09kY3p5dHVqZSBkYW5lIHogY3p1am5pa8OzdycsXHJcbiAgICAgICdXeWtvbnVqZSBrb21lbmR5IHplIHN0ZXJvd25pa2EsIGFieSB3eWtvbmHEhyBmaXp5Y3puZSBkemlhxYJhbmllIChucC4gcnVjaCknLFxyXG4gICAgICAnUHJ6ZWNob3d1amUgZGFuZSBoaXN0b3J5Y3puZScsXHJcbiAgICAgICdTxYJ1xbx5IGRvIGtvbXVuaWthY2ppIHogb3BlcmF0b3JlbScsXHJcbiAgICBdLFxyXG4gICAgY29ycmVjdEFuc3dlcjogMSxcclxuICB9LFxyXG4gIHtcclxuICAgIHF1ZXN0aW9uOlxyXG4gICAgICAnS3TDs3J5IGZvcm1hdCBwbGlrdSBncmFmaWN6bmVnbyBqZXN0IGJlenN0cmF0bnkgaSBjesSZc3RvIHXFvHl3YW55IHcgcHJvZmVzam9uYWxuZWogZWR5Y2ppLCB6YWNob3d1asSFYyBtYWtzeW1hbG7EhSBqYWtvxZvEhyBrb3N6dGVtIHJvem1pYXJ1PycsXHJcbiAgICBvcHRpb25zOiBbJ0pQRUcnLCAnR0lGJywgJ1BORycsICdSQVcnXSxcclxuICAgIGNvcnJlY3RBbnN3ZXI6IDMsXHJcbiAgfSxcclxuICB7XHJcbiAgICBxdWVzdGlvbjogJ0NvIGNocm9uaSBzaWXEhyBrb21wdXRlcm93xIUgcHJ6ZWQgbmllYXV0b3J5em93YW55bSBkb3N0xJlwZW0geiB6ZXduxIV0cno/JyxcclxuICAgIG9wdGlvbnM6IFsnUm91dGVyJywgJ1N3aXRjaCcsICdNb2RlbScsICdGaXJld2FsbCAoemFwb3JhIHNpZWNpb3dhKSddLFxyXG4gICAgY29ycmVjdEFuc3dlcjogMyxcclxuICB9LFxyXG4gIHtcclxuICAgIHF1ZXN0aW9uOiAnQ28gdG8gamVzdCBJREUgKEludGVncmF0ZWQgRGV2ZWxvcG1lbnQgRW52aXJvbm1lbnQpIHcga29udGVrxZtjaWUgcHJvZ3JhbW93YW5pYT8nLFxyXG4gICAgb3B0aW9uczogW1xyXG4gICAgICAnU3lzdGVtIG9wZXJhY3lqbnknLFxyXG4gICAgICAnTmFyesSZZHppZSBkbyB6YXJ6xIVkemFuaWEgYmF6xIUgZGFueWNoJyxcclxuICAgICAgJ1ppbnRlZ3Jvd2FuZSDFm3JvZG93aXNrbyBwcm9ncmFtaXN0eWN6bmUgKGVkeXRvciBrb2R1LCBrb21waWxhdG9yLCBkZWJ1Z2dlciB3IGplZG55bSknLFxyXG4gICAgICAnUHJvdG9rw7PFgiBzaWVjaW93eScsXHJcbiAgICBdLFxyXG4gICAgY29ycmVjdEFuc3dlcjogMixcclxuICB9LFxyXG4gIHtcclxuICAgIHF1ZXN0aW9uOlxyXG4gICAgICAnUHJ6eWvFgmFkZW0gY3p1am5pa2EgemJsacW8ZW5pb3dlZ28sIHd5a3J5d2FqxIVjZWdvIG9iZWNub8WbxIcgb2JpZWt0dSBiZXogZml6eWN6bmVnbyBrb250YWt0dSwgbW/FvGUgYnnEhzonLFxyXG4gICAgb3B0aW9uczogWydUZXJtb21ldHInLCAnRm90b2tvbcOzcmthJywgJ01hbm9tZXRyIChjenVqbmlrIGNpxZtuaWVuaWEpJywgJ0FrY2VsZXJvbWV0ciddLFxyXG4gICAgY29ycmVjdEFuc3dlcjogMSxcclxuICB9LFxyXG4gIHtcclxuICAgIHF1ZXN0aW9uOiAnRG8gY3plZ28gc8WCdcW8eSBiYWxhbnMgYmllbGkgKHdoaXRlIGJhbGFuY2UpIHcgYXBhcmFjaWUgZm90b2dyYWZpY3pueW0/JyxcclxuICAgIG9wdGlvbnM6IFtcclxuICAgICAgJ0RvIHJlZ3VsYWNqaSBvc3Ryb8WbY2knLFxyXG4gICAgICAnRG8ga29yZWtjamkga29sb3LDs3csIGFieSBiaWHFgnkgd3lnbMSFZGHFgiBuYSBiaWHFgnkgbmllemFsZcW8bmllIG9kIMW6csOzZMWCYSDFm3dpYXTFgmEnLFxyXG4gICAgICAnRG8gdXN0YXdpYW5pYSBjemFzdSBuYcWbd2lldGxhbmlhJyxcclxuICAgICAgJ0RvIGRvZGF3YW5pYSBlZmVrdMOzdyBzcGVjamFsbnljaCcsXHJcbiAgICBdLFxyXG4gICAgY29ycmVjdEFuc3dlcjogMSxcclxuICB9LFxyXG4gIHtcclxuICAgIHF1ZXN0aW9uOlxyXG4gICAgICAnS3TDs3J5IHByb3Rva8OzxYIgamVzdCB1xbx5d2FueSBkbyBiZXpwaWVjem5lZ28gKHN6eWZyb3dhbmVnbykgcHJ6ZXN5xYJhbmlhIHN0cm9uIGludGVybmV0b3d5Y2g/JyxcclxuICAgIG9wdGlvbnM6IFsnSFRUUCcsICdGVFAnLCAnU01UUCcsICdIVFRQUyddLFxyXG4gICAgY29ycmVjdEFuc3dlcjogMyxcclxuICB9LFxyXG4gIHtcclxuICAgIHF1ZXN0aW9uOiAnQ28gdG8gamVzdCB6bWllbm5hIHcgcHJvZ3JhbW93YW5pdT8nLFxyXG4gICAgb3B0aW9uczogW1xyXG4gICAgICAnRnVua2NqYSB3eWtvbnVqxIVjYSBva3JlxZtsb25lIHphZGFuaWUnLFxyXG4gICAgICAnVHlwIHDEmXRsaScsXHJcbiAgICAgICdOYXp3YW5lIG1pZWpzY2UgdyBwYW1pxJljaSBrb21wdXRlcmEgc8WCdcW8xIVjZSBkbyBwcnplY2hvd3l3YW5pYSBkYW55Y2gnLFxyXG4gICAgICAnUG9sZWNlbmllIHd5xZt3aWV0bGFqxIVjZSB0ZWtzdCBuYSBla3JhbmllJyxcclxuICAgIF0sXHJcbiAgICBjb3JyZWN0QW5zd2VyOiAyLFxyXG4gIH0sXHJcbiAgLy8gRG9kYWogd2nEmWNlaiBweXRhxYQgdHV0YWpcclxuXTtcclxuIiwiLy8gc3JjL1VJL1VJTWFuYWdlci5qc1xyXG5pbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnOyAvLyDQmNGB0L/QvtC70YzQt9GD0LXRgtGB0Y8g0LTQu9GPINC70L7Qs9C40LrQuCDRgtCw0LnQvNC10YDQsFxyXG5cclxuZXhwb3J0IGNsYXNzIFVJTWFuYWdlciB7XHJcbiAgLy8g0KHQstC+0LnRgdGC0LLQsCDQtNC70Y8g0Y3Qu9C10LzQtdC90YLQvtCyINC40LPRgNC+0LLQvtCz0L4gVUlcclxuICBzdGF0aWMgc2NvcmVFbGVtZW50ID0gbnVsbDtcclxuICBzdGF0aWMgdGFyZ2V0RWxlbWVudCA9IG51bGw7XHJcbiAgc3RhdGljIGNvbnRyb2xzQ29udGFpbmVyID0gbnVsbDtcclxuICBzdGF0aWMgcXVlc3Rpb25PdmVybGF5ID0gbnVsbDtcclxuICBzdGF0aWMgcXVlc3Rpb25UZXh0RWxlbWVudCA9IG51bGw7XHJcbiAgc3RhdGljIGFuc3dlckJ1dHRvbnNDb250YWluZXIgPSBudWxsO1xyXG4gIHN0YXRpYyBmbG9vclNlbGVjdGlvblBhbmVsID0gbnVsbDtcclxuICBzdGF0aWMgZmxvb3JCdXR0b25zQ29udGFpbmVyID0gbnVsbDtcclxuICBzdGF0aWMgZmxhc2hNZXNzYWdlQ29udGFpbmVyID0gbnVsbDtcclxuICBzdGF0aWMgbG9hZGluZ092ZXJsYXlFbGVtZW50ID0gbnVsbDtcclxuXHJcbiAgLy8g0K3Qu9C10LzQtdC90YLRiyDQtNC70Y8g0Y3QutGA0LDQvdCwIEdhbWUgT3ZlclxyXG4gIHN0YXRpYyBnYW1lT3ZlclNjcmVlbkVsZW1lbnQgPSBudWxsO1xyXG4gIHN0YXRpYyBnYW1lT3ZlclRpdGxlRWxlbWVudCA9IG51bGw7XHJcbiAgc3RhdGljIGNyZWF0b3JOYW1lc0xpc3RFbGVtZW50ID0gbnVsbDtcclxuICBzdGF0aWMgY2xhc3NJbmZvRWxlbWVudCA9IG51bGw7XHJcbiAgc3RhdGljIHJldHVyblRvTWVudUJ1dHRvbkVsZW1lbnQgPSBudWxsO1xyXG4gIHN0YXRpYyBsZWFkZXJib2FyZEJvZHkgPSBudWxsOyAvLyB0Ym9keSDRgtCw0LHQu9C40YbRiyDQu9C40LTQtdGA0L7QslxyXG5cclxuICBzdGF0aWMgZ2FtZXBsYXlNYW5hZ2VySW5zdGFuY2UgPSBudWxsO1xyXG4gIHN0YXRpYyBmbGFzaE1lc3NhZ2VUaW1lb3V0cyA9IHt9O1xyXG5cclxuICBzdGF0aWMgdGltZXJFbGVtZW50ID0gbnVsbDtcclxuICBzdGF0aWMgZ2FtZVN0YXJ0VGltZSA9IDA7XHJcbiAgc3RhdGljIGxlYWRlcmJvYXJkRGF0YSA9IFtdOyAvLyDQlNCw0L3QvdGL0LUg0YLQsNCx0LvQuNGG0Ysg0LvQuNC00LXRgNC+0LJcclxuXHJcbiAgLy8gQXVkaW9NYW5hZ2VyINC30LTQtdGB0Ywg0L3QtSDQvdGD0LbQtdC9LCDRgi7Qui4gVUlNYW5hZ2VyINC90LUg0YPQv9GA0LDQstC70Y/QtdGCINCz0YDQvtC80LrQvtGB0YLRjNGOINC90LDQv9GA0Y/QvNGD0Y4uXHJcbiAgLy8gTWVudS5qcyDQuCBBdWRpb01hbmFnZXIuanMg0LfQsNC90LjQvNCw0Y7RgtGB0Y8g0Y3RgtC40LwuXHJcblxyXG4gIHN0YXRpYyBzZXRHYW1lcGxheU1hbmFnZXIobWFuYWdlcikge1xyXG4gICAgaWYgKCFtYW5hZ2VyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tVSU1hbmFnZXJdIEF0dGVtcHRlZCB0byBzZXQgR2FtZXBsYXlNYW5hZ2VyIGluc3RhbmNlIHRvIG51bGwgb3IgdW5kZWZpbmVkIScpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB0aGlzLmdhbWVwbGF5TWFuYWdlckluc3RhbmNlID0gbWFuYWdlcjtcclxuICAgIGNvbnNvbGUubG9nKCdbVUlNYW5hZ2VyXSBHYW1lcGxheU1hbmFnZXIgaW5zdGFuY2UgcmVnaXN0ZXJlZCBzdWNjZXNzZnVsbHkuJyk7XHJcbiAgfVxyXG5cclxuICAvLyDQmNC90LjRhtC40LDQu9C40LfQuNGA0YPQtdGCINCi0J7Qm9Cs0JrQniDQstC90YPRgtGA0LjQuNCz0YDQvtCy0YvQtSDRjdC70LXQvNC10L3RgtGLIFVJXHJcbiAgc3RhdGljIGluaXRpYWxpemVVSShpbnB1dE1hbmFnZXIpIHtcclxuICAgIGNvbnNvbGUubG9nKCdbVUlNYW5hZ2VyXSBJbml0aWFsaXppbmcgaW4tZ2FtZSBVSSBlbGVtZW50cy4uLicpO1xyXG5cclxuICAgIC8vINCf0YDQvtCy0LXRgNC60LAgaW5wdXRNYW5hZ2VyLCDRgtCw0Log0LrQsNC6INC+0L0g0LjRgdC/0L7Qu9GM0LfRg9C10YLRgdGPINC00LvRjyDQutC+0L3RgtGA0L7Qu9C+0LJcclxuICAgIGlmICghaW5wdXRNYW5hZ2VyKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICAnW1VJTWFuYWdlcl0gSW5wdXRNYW5hZ2VyIG5vdCBwcm92aWRlZCB0byBpbml0aWFsaXplVUkuIE9uLXNjcmVlbiBjb250cm9scyBtaWdodCBub3QgZnVuY3Rpb24uJ1xyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vINCh0L7Qt9C00LDQvdC40LUg0Lgg0L3QsNGB0YLRgNC+0LnQutCwINGN0LvQtdC80LXQvdGC0L7Qsiwg0LjRgdC/0L7Qu9GM0LfRg9C10LzRi9GFINCy0L4g0LLRgNC10LzRjyDQuNCz0YDRi1xyXG4gICAgdGhpcy5jcmVhdGVDb250cm9scyhpbnB1dE1hbmFnZXIpOyAvLyDQrdC60YDQsNC90L3Ri9C1INC60L3QvtC/0LrQuCDRg9C/0YDQsNCy0LvQtdC90LjRj1xyXG4gICAgdGhpcy5jcmVhdGVRdWVzdGlvblVJKCk7IC8vINCf0LDQvdC10LvRjCDRgSDQstC+0L/RgNC+0YHQsNC80LhcclxuICAgIHRoaXMuY3JlYXRlRmxvb3JTZWxlY3Rpb25VSSgpOyAvLyDQn9Cw0L3QtdC70Ywg0LLRi9Cx0L7RgNCwINGN0YLQsNC20LBcclxuICAgIHRoaXMuZW5zdXJlRmxhc2hNZXNzYWdlQ29udGFpbmVyKCk7IC8vINCa0L7QvdGC0LXQudC90LXRgCDQtNC70Y8gZmxhc2gt0YHQvtC+0LHRidC10L3QuNC5XHJcbiAgICB0aGlzLmdldExvYWRpbmdPdmVybGF5KCk7IC8vINCf0L7Qu9GD0YfQsNC10Lwv0YHQvtC30LTQsNC10Lwg0L7QstC10YDQu9C10Lkg0LfQsNCz0YDRg9C30LrQuCAo0L3QviDQvdC1INC/0L7QutCw0LfRi9Cy0LDQtdC8KVxyXG4gICAgdGhpcy5jcmVhdGVHYW1lT3ZlclNjcmVlbigpOyAvLyDQrdC60YDQsNC9INC30LDQstC10YDRiNC10L3QuNGPINC40LPRgNGLICjQstC60LvRjtGH0LDRjyDRgtCw0LHQu9C40YbRgyDQu9C40LTQtdGA0L7QsilcclxuICAgIHRoaXMuaW5pdGlhbGl6ZVRpbWVyKCk7IC8vINCt0LvQtdC80LXQvdGCINGC0LDQudC80LXRgNCwINC40LPRgNGLXHJcblxyXG4gICAgLy8g0J/RgNC+0LLQtdGA0LrQsCwg0YfRgtC+IEdhbWVwbGF5TWFuYWdlciDQsdGL0Lsg0YPRgdGC0LDQvdC+0LLQu9C10L0gKNCy0LDQttC90L4g0LTQu9GPINC40L3RgtC10YDQsNC60YLQuNCy0L3Ri9GFIFVJINC/0LDQvdC10LvQtdC5KVxyXG4gICAgaWYgKCF0aGlzLmdhbWVwbGF5TWFuYWdlckluc3RhbmNlKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICAnW1VJTWFuYWdlcl0gV0FSTklORzogR2FtZXBsYXlNYW5hZ2VyIGluc3RhbmNlIGlzIE5PVCBTRVQgYXQgdGhlIGVuZCBvZiBpbml0aWFsaXplVUkuICcgK1xyXG4gICAgICAgICAgJ0ludGVyYWN0aXZlIFVJIGVsZW1lbnRzIChxdWVzdGlvbnMsIGZsb29ycykgbWlnaHQgbm90IHdvcmsgY29ycmVjdGx5LidcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKCdbVUlNYW5hZ2VyXSBJbi1nYW1lIFVJIGVsZW1lbnQgaW5pdGlhbGl6YXRpb24gY29tcGxldGUuJyk7XHJcbiAgfVxyXG5cclxuICAvLyDQnNC10YLQvtC00YsgY3JlYXRlQ29udHJvbHMsIGNyZWF0ZVF1ZXN0aW9uVUksIGNyZWF0ZUZsb29yU2VsZWN0aW9uVUksIGVuc3VyZUZsYXNoTWVzc2FnZUNvbnRhaW5lcixcclxuICAvLyBnZXRMb2FkaW5nT3ZlcmxheSwgY3JlYXRlR2FtZU92ZXJTY3JlZW4sIHNob3dHYW1lT3ZlclNjcmVlbiwgaGlkZUdhbWVPdmVyU2NyZWVuLFxyXG4gIC8vIHNob3dRdWVzdGlvbiwgaGlkZVF1ZXN0aW9uLCBzaG93Rmxvb3JTZWxlY3Rpb25VSSwgaGlkZUZsb29yU2VsZWN0aW9uVUksIHVwZGF0ZVNjb3JlLFxyXG4gIC8vIHNob3dHYW1lVUksIGhpZGVHYW1lVUksIGluaXRpYWxpemVUaW1lciwgc3RhcnRUaW1lciwgdXBkYXRlVGltZXIsIHN0b3BUaW1lciwgdXBkYXRlTGVhZGVyYm9hcmRcclxuICAvLyDQntCh0KLQkNCu0KLQodCvINCi0JDQmtCY0JzQmCDQltCVLCDQmtCQ0Jog0JIg0J/QntCb0J3QntCZINCS0JXQoNCh0JjQmCBVSU1hbmFnZXIuanMg0LjQtyDRgtCy0L7QtdCz0L4g0L/RgNC10LTRi9C00YPRidC10LPQviDQt9Cw0L/RgNC+0YHQsCxcclxuICAvLyDRgtCw0Log0LrQsNC6INC+0L3QuCDRg9C20LUg0LHRi9C70Lgg0YHRhNC+0LrRg9GB0LjRgNC+0LLQsNC90Ysg0L3QsCDQstC90YPRgtGA0LjQuNCz0YDQvtCy0L7QvCBVSS5cclxuICAvLyDQryDQvdC1INCx0YPQtNGDINC40YUg0LfQtNC10YHRjCDQtNGD0LHQu9C40YDQvtCy0LDRgtGMINC00LvRjyDQutGA0LDRgtC60L7RgdGC0LgsINC90L4g0YLRiyDQtNC+0LvQttC10L0g0YHQutC+0L/QuNGA0L7QstCw0YLRjCDQuNGFINC40Lcg0YHQstC+0LXQs9C+XHJcbiAgLy8g0LrQvtC00LAgVUlNYW5hZ2VyLmpzLCDQutC+0YLQvtGA0YvQuSDRjyDRgtC10LHQtSDRgNCw0L3QtdC1INC/0YDQuNGB0YvQu9Cw0LsgKNGC0L7Rgiwg0LPQtNC1INC10YnQtSDQkdCr0JvQkCDQu9C+0LPQuNC60LAg0LPQu9Cw0LLQvdC+0LPQviDQvNC10L3RjixcclxuICAvLyDQvdC+INGB0LDQvNC4INGN0YLQuCDQvNC10YLQvtC00Ysg0YPQttC1INCx0YvQu9C4INC/0YDQsNCy0LjQu9GM0L3Ri9C80Lgg0LTQu9GPINC40L3Qs9C10LnQvCBVSSkuXHJcbiAgLy8g0JLQsNC20L3Qvjogc2hvd0dhbWVVSSgpINC4IGhpZGVHYW1lVUkoKSDQvdC1INC00L7Qu9C20L3RiyDQv9GL0YLQsNGC0YzRgdGPINGD0L/RgNCw0LLQu9GP0YLRjCDQs9C70LDQstC90YvQvCDQvNC10L3Rji5cclxuXHJcbiAgLy8g0J/RgNC40LzQtdGAINC+0LTQvdC+0LPQviDQuNC3INC80LXRgtC+0LTQvtCyLCDRh9GC0L7QsdGLINC/0L7QutCw0LfQsNGC0YwsINGH0YLQviDQvtC90Lgg0L7RgdGC0LDRjtGC0YHRjzpcclxuICBzdGF0aWMgY3JlYXRlQ29udHJvbHMoaW5wdXRNYW5hZ2VyKSB7XHJcbiAgICB0aGlzLmNvbnRyb2xzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRyb2xzLWNvbnRhaW5lcicpO1xyXG4gICAgaWYgKCF0aGlzLmNvbnRyb2xzQ29udGFpbmVyKSB7XHJcbiAgICAgIHRoaXMuY29udHJvbHNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgdGhpcy5jb250cm9sc0NvbnRhaW5lci5pZCA9ICdjb250cm9scy1jb250YWluZXInO1xyXG4gICAgICB0aGlzLmNvbnRyb2xzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2NvbnRyb2xzLWNvbnRhaW5lcicpO1xyXG4gICAgICAvLyDQktCw0LbQvdC+OiBBcHBlbmQg0Log0L/RgNCw0LLQuNC70YzQvdC+0LzRgyDRgNC+0LTQuNGC0LXQu9GM0YHQutC+0LzRgyDRjdC70LXQvNC10L3RgtGDLCDQtdGB0LvQuCDRjdGC0L4g0L3QtSBib2R5XHJcbiAgICAgIC8vINCd0LDQv9GA0LjQvNC10YAsINC6INGB0L/QtdGG0LjQsNC70YzQvdC+0LzRgyAjZ2FtZS11aS1sYXllciDQtdGB0LvQuCDQvtC9INC10YHRgtGMXHJcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5jb250cm9sc0NvbnRhaW5lcik7XHJcbiAgICB9XHJcbiAgICB0aGlzLmNvbnRyb2xzQ29udGFpbmVyLmlubmVySFRNTCA9ICcnOyAvLyDQntGH0LjRgdGC0LrQsCDQtNC70Y8g0L/QtdGA0LXQuNC90LjRhtC40LDQu9C40LfQsNGG0LjQuFxyXG5cclxuICAgIGNvbnN0IGFycm93cyA9IFtcclxuICAgICAgeyBkaXJlY3Rpb246ICd1cCcsIGljb246ICfihpEnLCBncmlkQXJlYTogJ3VwJyB9LFxyXG4gICAgICB7IGRpcmVjdGlvbjogJ2xlZnQnLCBpY29uOiAn4oaQJywgZ3JpZEFyZWE6ICdsZWZ0JyB9LFxyXG4gICAgICB7IGRpcmVjdGlvbjogJ3JpZ2h0JywgaWNvbjogJ+KGkicsIGdyaWRBcmVhOiAncmlnaHQnIH0sXHJcbiAgICAgIHsgZGlyZWN0aW9uOiAnZG93bicsIGljb246ICfihpMnLCBncmlkQXJlYTogJ2Rvd24nIH0sXHJcbiAgICBdO1xyXG5cclxuICAgIGFycm93cy5mb3JFYWNoKCh7IGRpcmVjdGlvbiwgaWNvbiwgZ3JpZEFyZWEgfSkgPT4ge1xyXG4gICAgICBjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgICAgYnRuLmNsYXNzTmFtZSA9IGBjb250cm9sLWJ0biAke2RpcmVjdGlvbn1gO1xyXG4gICAgICBidG4udGV4dENvbnRlbnQgPSBpY29uO1xyXG4gICAgICBidG4uc3R5bGUuZ3JpZEFyZWEgPSBncmlkQXJlYTtcclxuICAgICAgYnRuLmRhdGFzZXQuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xyXG5cclxuICAgICAgaWYgKGlucHV0TWFuYWdlcikge1xyXG4gICAgICAgIC8vINCi0L7Qu9GM0LrQviDQtdGB0LvQuCBpbnB1dE1hbmFnZXIg0L/QtdGA0LXQtNCw0L1cclxuICAgICAgICBjb25zdCBzdGFydFByZXNzID0gKGUpID0+IHtcclxuICAgICAgICAgIGlucHV0TWFuYWdlci5zZXRLZXkoZGlyZWN0aW9uLCB0cnVlKTtcclxuICAgICAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IGVuZFByZXNzID0gKGUpID0+IHtcclxuICAgICAgICAgIC8vINCf0YDQvtCy0LXRgNGP0LXQvCwg0YfRgtC+INC60LvRjtGHINCy0YHQtSDQtdGJ0LUg0YPQtNC10YDQttC40LLQsNC10YLRgdGPINGN0YLQuNC8INC40L3RgdGC0LDQvdGB0L7QvCBJbnB1dE1hbmFnZXJcclxuICAgICAgICAgIC8vINCt0YLQviDQv9C+0LvQtdC30L3Qviwg0LXRgdC70Lgg0LzQvtC20LXRgiDQsdGL0YLRjCDQvdC10YHQutC+0LvRjNC60L4g0LjRgdGC0L7Rh9C90LjQutC+0LIg0YHQvtCx0YvRgtC40LlcclxuICAgICAgICAgIGlmIChpbnB1dE1hbmFnZXIua2V5c1tkaXJlY3Rpb25dKSB7XHJcbiAgICAgICAgICAgIGlucHV0TWFuYWdlci5zZXRLZXkoZGlyZWN0aW9uLCBmYWxzZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBidG4uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHN0YXJ0UHJlc3MsIHsgcGFzc2l2ZTogZmFsc2UgfSk7XHJcbiAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgZW5kUHJlc3MsIHsgcGFzc2l2ZTogZmFsc2UgfSk7XHJcbiAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgZW5kUHJlc3MsIHsgcGFzc2l2ZTogZmFsc2UgfSk7XHJcbiAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHN0YXJ0UHJlc3MpO1xyXG4gICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgZW5kUHJlc3MpO1xyXG4gICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgZW5kUHJlc3MpOyAvLyDQldGB0LvQuCDQvNGL0YjRjCDRg9GI0LvQsCDRgSDQutC90L7Qv9C60LgsINC+0YLQv9GD0YHQutCw0LXQvFxyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuY29udHJvbHNDb250YWluZXIuYXBwZW5kQ2hpbGQoYnRuKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPINC+0YLQvtCx0YDQsNC20LXQvdC40Y8g0L7Rh9C60L7QslxyXG4gICAgY29uc3Qgc2NvcmVEaXNwbGF5Q29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Njb3JlLWRpc3BsYXknKTtcclxuICAgIGlmICghc2NvcmVEaXNwbGF5Q29udGFpbmVyKSB7XHJcbiAgICAgIGNvbnN0IHNjb3JlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHNjb3JlRGl2LmlkID0gJ3Njb3JlLWRpc3BsYXknO1xyXG4gICAgICBzY29yZURpdi5jbGFzc0xpc3QuYWRkKCdzY29yZS1kaXNwbGF5Jyk7XHJcbiAgICAgIHNjb3JlRGl2LmlubmVySFRNTCA9IGBCb29rczogPHNwYW4gaWQ9XCJzY29yZS12YWx1ZVwiPjA8L3NwYW4+IC8gPHNwYW4gaWQ9XCJzY29yZS10YXJnZXRcIj4/PC9zcGFuPmA7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NvcmVEaXYpOyAvLyDQkNC90LDQu9C+0LPQuNGH0L3Qviwg0LvRg9GH0YjQtSDQsiDRgdC/0LXRhtC40LDQu9GM0L3Ri9C5INC60L7QvdGC0LXQudC90LXRgFxyXG4gICAgICB0aGlzLnNjb3JlRWxlbWVudCA9IHNjb3JlRGl2LnF1ZXJ5U2VsZWN0b3IoJyNzY29yZS12YWx1ZScpO1xyXG4gICAgICB0aGlzLnRhcmdldEVsZW1lbnQgPSBzY29yZURpdi5xdWVyeVNlbGVjdG9yKCcjc2NvcmUtdGFyZ2V0Jyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNjb3JlRWxlbWVudCA9IHNjb3JlRGlzcGxheUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjc2NvcmUtdmFsdWUnKTtcclxuICAgICAgdGhpcy50YXJnZXRFbGVtZW50ID0gc2NvcmVEaXNwbGF5Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNzY29yZS10YXJnZXQnKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLnNjb3JlRWxlbWVudCkgdGhpcy5zY29yZUVsZW1lbnQudGV4dENvbnRlbnQgPSAnMCc7XHJcbiAgICBpZiAodGhpcy50YXJnZXRFbGVtZW50KSB0aGlzLnRhcmdldEVsZW1lbnQudGV4dENvbnRlbnQgPSAnPyc7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgY3JlYXRlUXVlc3Rpb25VSSgpIHtcclxuICAgIHRoaXMucXVlc3Rpb25PdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3F1ZXN0aW9uLW92ZXJsYXknKTtcclxuICAgIGlmICghdGhpcy5xdWVzdGlvbk92ZXJsYXkpIHtcclxuICAgICAgdGhpcy5xdWVzdGlvbk92ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgdGhpcy5xdWVzdGlvbk92ZXJsYXkuaWQgPSAncXVlc3Rpb24tb3ZlcmxheSc7XHJcbiAgICAgIHRoaXMucXVlc3Rpb25PdmVybGF5LmNsYXNzTGlzdC5hZGQoJ3VpLXBhbmVsJyk7XHJcbiAgICAgIHRoaXMucXVlc3Rpb25PdmVybGF5LmlubmVySFRNTCA9IGBcclxuICAgICAgICA8ZGl2IGlkPVwiYmxhY2tib2FyZC1jb250ZW50XCI+XHJcbiAgICAgICAgICA8aDI+UXVlc3Rpb248L2gyPlxyXG4gICAgICAgICAgPGRpdiBpZD1cInF1ZXN0aW9uLWJveFwiPlxyXG4gICAgICAgICAgICA8cCBpZD1cInF1ZXN0aW9uLXRleHRcIj48L3A+XHJcbiAgICAgICAgICAgIDxkaXYgaWQ9XCJhbnN3ZXItYnV0dG9uc1wiPjwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+YDtcclxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnF1ZXN0aW9uT3ZlcmxheSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnF1ZXN0aW9uVGV4dEVsZW1lbnQgPSB0aGlzLnF1ZXN0aW9uT3ZlcmxheS5xdWVyeVNlbGVjdG9yKCcjcXVlc3Rpb24tdGV4dCcpO1xyXG4gICAgdGhpcy5hbnN3ZXJCdXR0b25zQ29udGFpbmVyID0gdGhpcy5xdWVzdGlvbk92ZXJsYXkucXVlcnlTZWxlY3RvcignI2Fuc3dlci1idXR0b25zJyk7XHJcbiAgICBpZiAoIXRoaXMucXVlc3Rpb25UZXh0RWxlbWVudCB8fCAhdGhpcy5hbnN3ZXJCdXR0b25zQ29udGFpbmVyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tVSU1hbmFnZXJdIEZhaWxlZCB0byBmaW5kL2NyZWF0ZSBjaGlsZCBlbGVtZW50cyBvZiBxdWVzdGlvbiBVSSEnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXRpYyBjcmVhdGVGbG9vclNlbGVjdGlvblVJKCkge1xyXG4gICAgdGhpcy5mbG9vclNlbGVjdGlvblBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zsb29yLXNlbGVjdGlvbi11aScpO1xyXG4gICAgaWYgKCF0aGlzLmZsb29yU2VsZWN0aW9uUGFuZWwpIHtcclxuICAgICAgdGhpcy5mbG9vclNlbGVjdGlvblBhbmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHRoaXMuZmxvb3JTZWxlY3Rpb25QYW5lbC5pZCA9ICdmbG9vci1zZWxlY3Rpb24tdWknO1xyXG4gICAgICB0aGlzLmZsb29yU2VsZWN0aW9uUGFuZWwuY2xhc3NMaXN0LmFkZCgndWktcGFuZWwnKTtcclxuICAgICAgdGhpcy5mbG9vclNlbGVjdGlvblBhbmVsLmlubmVySFRNTCA9IGBcclxuICAgICAgICA8aDI+U2VsZWN0IEZsb29yPC9oMj5cclxuICAgICAgICA8ZGl2IGlkPVwiZmxvb3ItYnV0dG9ucy1jb250YWluZXJcIj48L2Rpdj5gO1xyXG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZmxvb3JTZWxlY3Rpb25QYW5lbCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmZsb29yQnV0dG9uc0NvbnRhaW5lciA9IHRoaXMuZmxvb3JTZWxlY3Rpb25QYW5lbC5xdWVyeVNlbGVjdG9yKCcjZmxvb3ItYnV0dG9ucy1jb250YWluZXInKTtcclxuICAgIGlmICghdGhpcy5mbG9vckJ1dHRvbnNDb250YWluZXIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignW1VJTWFuYWdlcl0gRmFpbGVkIHRvIGZpbmQvY3JlYXRlIGZsb29yIGJ1dHRvbnMgY29udGFpbmVyIScpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGVuc3VyZUZsYXNoTWVzc2FnZUNvbnRhaW5lcigpIHtcclxuICAgIHRoaXMuZmxhc2hNZXNzYWdlQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZsYXNoLW1lc3NhZ2UtY29udGFpbmVyJyk7XHJcbiAgICBpZiAoIXRoaXMuZmxhc2hNZXNzYWdlQ29udGFpbmVyKSB7XHJcbiAgICAgIHRoaXMuZmxhc2hNZXNzYWdlQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHRoaXMuZmxhc2hNZXNzYWdlQ29udGFpbmVyLmlkID0gJ2ZsYXNoLW1lc3NhZ2UtY29udGFpbmVyJztcclxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmZsYXNoTWVzc2FnZUNvbnRhaW5lcik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy5mbGFzaE1lc3NhZ2VDb250YWluZXI7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZmxhc2hNZXNzYWdlKG1lc3NhZ2UsIHR5cGUgPSAnaW5mbycsIGR1cmF0aW9uID0gMzAwMCkge1xyXG4gICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5lbnN1cmVGbGFzaE1lc3NhZ2VDb250YWluZXIoKTtcclxuICAgIGlmICghY29udGFpbmVyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tVSU1hbmFnZXJdIEZsYXNoIG1lc3NhZ2UgY29udGFpbmVyIG5vdCBmb3VuZCBvciBjcmVhdGFibGUuJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IG1lc3NhZ2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBtZXNzYWdlRWxlbWVudC50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XHJcbiAgICBtZXNzYWdlRWxlbWVudC5jbGFzc05hbWUgPSAnZmxhc2gtbWVzc2FnZSc7XHJcbiAgICBtZXNzYWdlRWxlbWVudC5jbGFzc0xpc3QuYWRkKGBmbGFzaC0ke3R5cGV9YCk7XHJcbiAgICBjb25zdCBtZXNzYWdlSWQgPSBgZmxhc2gtJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA1KX1gO1xyXG4gICAgbWVzc2FnZUVsZW1lbnQuaWQgPSBtZXNzYWdlSWQ7XHJcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQobWVzc2FnZUVsZW1lbnQpO1xyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgbWVzc2FnZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xyXG4gICAgfSk7XHJcbiAgICBjbGVhclRpbWVvdXQodGhpcy5mbGFzaE1lc3NhZ2VUaW1lb3V0c1ttZXNzYWdlSWRdKTtcclxuICAgIGNvbnN0IHJlbW92ZUVsZW1lbnQgPSAoKSA9PiB7XHJcbiAgICAgIG1lc3NhZ2VFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcclxuICAgICAgY29uc3QgaGFuZGxlVHJhbnNpdGlvbkVuZCA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIGlmIChldmVudC5wcm9wZXJ0eU5hbWUgPT09ICdvcGFjaXR5JyB8fCBldmVudC5wcm9wZXJ0eU5hbWUgPT09ICd0cmFuc2Zvcm0nKSB7XHJcbiAgICAgICAgICBpZiAobWVzc2FnZUVsZW1lbnQucGFyZW50Tm9kZSkgbWVzc2FnZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChtZXNzYWdlRWxlbWVudCk7XHJcbiAgICAgICAgICBkZWxldGUgdGhpcy5mbGFzaE1lc3NhZ2VUaW1lb3V0c1ttZXNzYWdlSWRdO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgICAgbWVzc2FnZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGhhbmRsZVRyYW5zaXRpb25FbmQsIHsgb25jZTogdHJ1ZSB9KTtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKG1lc3NhZ2VFbGVtZW50LnBhcmVudE5vZGUpIHtcclxuICAgICAgICAgIG1lc3NhZ2VFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBoYW5kbGVUcmFuc2l0aW9uRW5kKTtcclxuICAgICAgICAgIG1lc3NhZ2VFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobWVzc2FnZUVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkZWxldGUgdGhpcy5mbGFzaE1lc3NhZ2VUaW1lb3V0c1ttZXNzYWdlSWRdO1xyXG4gICAgICB9LCA1MDApOyAvLyDQl9Cw0L/QsNGB0L3QvtC5INGC0LDQudC80LDRg9GCXHJcbiAgICB9O1xyXG4gICAgdGhpcy5mbGFzaE1lc3NhZ2VUaW1lb3V0c1ttZXNzYWdlSWRdID0gc2V0VGltZW91dChyZW1vdmVFbGVtZW50LCBkdXJhdGlvbik7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0TG9hZGluZ092ZXJsYXkoKSB7XHJcbiAgICBpZiAoIXRoaXMubG9hZGluZ092ZXJsYXlFbGVtZW50KSB7XHJcbiAgICAgIHRoaXMubG9hZGluZ092ZXJsYXlFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvYWRpbmctb3ZlcmxheScpO1xyXG4gICAgICBpZiAoIXRoaXMubG9hZGluZ092ZXJsYXlFbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5sb2FkaW5nT3ZlcmxheUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICB0aGlzLmxvYWRpbmdPdmVybGF5RWxlbWVudC5pZCA9ICdsb2FkaW5nLW92ZXJsYXknO1xyXG4gICAgICAgIHRoaXMubG9hZGluZ092ZXJsYXlFbGVtZW50LmNsYXNzTmFtZSA9ICdsb2FkaW5nLW92ZXJsYXknOyAvLyBDU1Mg0LTQvtC70LbQtdC9INGB0LrRgNGL0LLQsNGC0Ywg0L/QviDRg9C80L7Qu9GH0LDQvdC40Y5cclxuICAgICAgICBjb25zdCBsb2FkaW5nVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuICAgICAgICBsb2FkaW5nVGV4dC50ZXh0Q29udGVudCA9ICdMb2FkaW5nLi4uJztcclxuICAgICAgICB0aGlzLmxvYWRpbmdPdmVybGF5RWxlbWVudC5hcHBlbmRDaGlsZChsb2FkaW5nVGV4dCk7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmxvYWRpbmdPdmVybGF5RWxlbWVudCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1tVSU1hbmFnZXJdIExvYWRpbmcgb3ZlcmxheSBjcmVhdGVkIGFuZCBhcHBlbmRlZCB0byBib2R5LicpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy5sb2FkaW5nT3ZlcmxheUVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgY3JlYXRlR2FtZU92ZXJTY3JlZW4oKSB7XHJcbiAgICB0aGlzLmdhbWVPdmVyU2NyZWVuRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lLW92ZXItc2NyZWVuJyk7XHJcbiAgICBpZiAoIXRoaXMuZ2FtZU92ZXJTY3JlZW5FbGVtZW50KSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tVSU1hbmFnZXJdIENSSVRJQ0FMOiAjZ2FtZS1vdmVyLXNjcmVlbiBlbGVtZW50IG5vdCBmb3VuZCBpbiBIVE1MIScpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB0aGlzLmdhbWVPdmVyVGl0bGVFbGVtZW50ID0gdGhpcy5nYW1lT3ZlclNjcmVlbkVsZW1lbnQucXVlcnlTZWxlY3RvcignI2dhbWUtb3Zlci10aXRsZScpO1xyXG4gICAgdGhpcy5jcmVhdG9yTmFtZXNMaXN0RWxlbWVudCA9IHRoaXMuZ2FtZU92ZXJTY3JlZW5FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjcmVhdG9yLW5hbWVzJyk7XHJcbiAgICB0aGlzLmNsYXNzSW5mb0VsZW1lbnQgPSB0aGlzLmdhbWVPdmVyU2NyZWVuRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcjY2xhc3MtaW5mbycpO1xyXG4gICAgdGhpcy5yZXR1cm5Ub01lbnVCdXR0b25FbGVtZW50ID1cclxuICAgICAgdGhpcy5nYW1lT3ZlclNjcmVlbkVsZW1lbnQucXVlcnlTZWxlY3RvcignI3JldHVybi10by1tZW51LWJ1dHRvbicpO1xyXG4gICAgdGhpcy5sZWFkZXJib2FyZEJvZHkgPSB0aGlzLmdhbWVPdmVyU2NyZWVuRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcjbGVhZGVyYm9hcmQtYm9keScpO1xyXG5cclxuICAgIGlmIChcclxuICAgICAgIXRoaXMuZ2FtZU92ZXJUaXRsZUVsZW1lbnQgfHxcclxuICAgICAgIXRoaXMuY3JlYXRvck5hbWVzTGlzdEVsZW1lbnQgfHxcclxuICAgICAgIXRoaXMuY2xhc3NJbmZvRWxlbWVudCB8fFxyXG4gICAgICAhdGhpcy5yZXR1cm5Ub01lbnVCdXR0b25FbGVtZW50IHx8XHJcbiAgICAgICF0aGlzLmxlYWRlcmJvYXJkQm9keVxyXG4gICAgKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgJ1tVSU1hbmFnZXJdIEZhaWxlZCB0byBmaW5kIG9uZSBvciBtb3JlIGNoaWxkIGVsZW1lbnRzIG9mIHRoZSBnYW1lIG92ZXIgc2NyZWVuIChvciBsZWFkZXJib2FyZCBib2R5KSEnXHJcbiAgICAgICk7XHJcbiAgICAgIHJldHVybjsgLy8g0J/RgNC10YDRi9Cy0LDQtdC8LCDQtdGB0LvQuCDQstCw0LbQvdGL0LUg0Y3Qu9C10LzQtdC90YLRiyDQvtGC0YHRg9GC0YHRgtCy0YPRjtGCXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5yZXR1cm5Ub01lbnVCdXR0b25FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAvLyDQn9C10YDQtdC30LDQs9GA0YPQt9C60LAg0YHRgtGA0LDQvdC40YbRiyDQtNC70Y8g0LLQvtC30LLRgNCw0YLQsCDQsiDQs9C70LDQstC90L7QtSDQvNC10L3RjiAo0YPQv9GA0LDQstC70Y/QtdGC0YHRjyBNZW51LmpzKVxyXG4gICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMudXBkYXRlTGVhZGVyYm9hcmQoKTsgLy8g0JjQvdC40YbQuNCw0LvQuNC30LjRgNGD0LXQvC/QvtGH0LjRidCw0LXQvCDRgtCw0LHQu9C40YbRgyDQu9C40LTQtdGA0L7QsiDQv9GA0Lgg0YHQvtC30LTQsNC90LjQuCDRjdC60YDQsNC90LBcclxuICAgIGNvbnNvbGUubG9nKCdbVUlNYW5hZ2VyXSBHYW1lIE92ZXIgc2NyZWVuIGVsZW1lbnRzIGluaXRpYWxpemVkLicpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHNob3dHYW1lT3ZlclNjcmVlbihpc1dpbiwgY3JlYXRvcnMgPSBbXSwgY2xhc3NJbmZvVGV4dCA9ICcnKSB7XHJcbiAgICBpZiAoIXRoaXMuZ2FtZU92ZXJTY3JlZW5FbGVtZW50KSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tVSU1hbmFnZXJdIEdhbWUgT3ZlciBTY3JlZW4gbm90IGluaXRpYWxpemVkLCBhdHRlbXB0aW5nIHRvIGNyZWF0ZS4nKTtcclxuICAgICAgdGhpcy5jcmVhdGVHYW1lT3ZlclNjcmVlbigpOyAvLyDQn9C+0L/Ri9GC0LrQsCDRgdC+0LfQtNCw0YLRjCwg0LXRgdC70Lgg0LXQs9C+INC90LXRglxyXG4gICAgICBpZiAoIXRoaXMuZ2FtZU92ZXJTY3JlZW5FbGVtZW50KSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignW1VJTWFuYWdlcl0gU3RpbGwgdW5hYmxlIHRvIHNob3cgR2FtZSBPdmVyIHNjcmVlbi4nKTtcclxuICAgICAgICByZXR1cm47IC8vINCV0YHQu9C4INC90LUg0YPQtNCw0LvQvtGB0Ywg0YHQvtC30LTQsNGC0YwsINCy0YvRhdC+0LTQuNC8XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5nYW1lT3ZlclRpdGxlRWxlbWVudCkge1xyXG4gICAgICB0aGlzLmdhbWVPdmVyVGl0bGVFbGVtZW50LnRleHRDb250ZW50ID0gaXNXaW4gPyAnQ29uZ3JhdHVsYXRpb25zISBZb3UgRXNjYXBlZCEnIDogJ0dhbWUgT3Zlcic7XHJcbiAgICAgIHRoaXMuZ2FtZU92ZXJUaXRsZUVsZW1lbnQuY2xhc3NOYW1lID0gaXNXaW4gPyAnd2luLXRpdGxlJyA6ICdsb3NlLXRpdGxlJzsgLy8g0JTQu9GPINGB0YLQuNC70LjQt9Cw0YbQuNC4XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuY3JlYXRvck5hbWVzTGlzdEVsZW1lbnQpIHtcclxuICAgICAgdGhpcy5jcmVhdG9yTmFtZXNMaXN0RWxlbWVudC5pbm5lckhUTUwgPSAnJzsgLy8g0J7Rh9C40YnQsNC10Lwg0L/RgNC10LTRi9C00YPRidC40LVcclxuICAgICAgY3JlYXRvcnMuZm9yRWFjaCgobmFtZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcclxuICAgICAgICBsaS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5jcmVhdG9yTmFtZXNMaXN0RWxlbWVudC5hcHBlbmRDaGlsZChsaSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmNsYXNzSW5mb0VsZW1lbnQpIHtcclxuICAgICAgdGhpcy5jbGFzc0luZm9FbGVtZW50LnRleHRDb250ZW50ID0gY2xhc3NJbmZvVGV4dDtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnVwZGF0ZUxlYWRlcmJvYXJkKCk7IC8vINCe0LHQvdC+0LLQu9GP0LXQvCDQtNCw0L3QvdGL0LUg0YLQsNCx0LvQuNGG0Ysg0LvQuNC00LXRgNC+0LJcclxuXHJcbiAgICB0aGlzLmdhbWVPdmVyU2NyZWVuRWxlbWVudC5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7IC8vINCf0L7QutCw0LfRi9Cy0LDQtdC8INGN0LrRgNCw0L1cclxuICAgIHRoaXMuaGlkZUdhbWVVSSgpOyAvLyDQodC60YDRi9Cy0LDQtdC8INC+0YHQvdC+0LLQvdC+0Lkg0LjQs9GA0L7QstC+0LkgVUkgKNC60LDQvdCy0LDRgSwg0LrQvtC90YLRgNC+0LvRiywg0L7Rh9C60LgsINGC0LDQudC80LXRgClcclxuICAgIHRoaXMuaGlkZVF1ZXN0aW9uKCk7IC8vINCh0LrRgNGL0LLQsNC10Lwg0L/QsNC90LXQu9GMINCy0L7Qv9GA0L7RgdC+0LJcclxuICAgIHRoaXMuaGlkZUZsb29yU2VsZWN0aW9uVUkoKTsgLy8g0KHQutGA0YvQstCw0LXQvCDQv9Cw0L3QtdC70Ywg0LLRi9Cx0L7RgNCwINGN0YLQsNC20LXQuVxyXG4gICAgLy8g0JPQu9Cw0LLQvdC+0LUg0LzQtdC90Y4g0YPQttC1INC00L7Qu9C20L3QviDQsdGL0YLRjCDRgdC60YDRi9GC0L4gTWVudS5qc1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGhpZGVHYW1lT3ZlclNjcmVlbigpIHtcclxuICAgIGlmICh0aGlzLmdhbWVPdmVyU2NyZWVuRWxlbWVudCkge1xyXG4gICAgICB0aGlzLmdhbWVPdmVyU2NyZWVuRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgc2hvd1F1ZXN0aW9uKHF1ZXN0aW9uRGF0YSkge1xyXG4gICAgLy8gLi4uICjQrdGC0L7RgiDQvNC10YLQvtC0INC+0YHRgtCw0LXRgtGB0Y8g0LrQsNC6INCyINC/0YDQtdC00YvQtNGD0YnQtdC8INC/0L7Qu9C90L7QvCBVSU1hbmFnZXIuanMpXHJcbiAgICBpZiAoIXRoaXMucXVlc3Rpb25PdmVybGF5IHx8ICF0aGlzLnF1ZXN0aW9uVGV4dEVsZW1lbnQgfHwgIXRoaXMuYW5zd2VyQnV0dG9uc0NvbnRhaW5lcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbVUlNYW5hZ2VyXSBRdWVzdGlvbiBVSSBub3QgcmVhZHkuJyk7XHJcbiAgICAgIHRoaXMuY3JlYXRlUXVlc3Rpb25VSSgpO1xyXG4gICAgICBpZiAoIXRoaXMucXVlc3Rpb25PdmVybGF5IHx8ICF0aGlzLnF1ZXN0aW9uVGV4dEVsZW1lbnQgfHwgIXRoaXMuYW5zd2VyQnV0dG9uc0NvbnRhaW5lcilcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoIXF1ZXN0aW9uRGF0YSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbVUlNYW5hZ2VyXSBDYW5ub3Qgc2hvdyBxdWVzdGlvbiAtIG5vIHF1ZXN0aW9uRGF0YSBwcm92aWRlZC4nKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKFxyXG4gICAgICAhdGhpcy5nYW1lcGxheU1hbmFnZXJJbnN0YW5jZSB8fFxyXG4gICAgICB0eXBlb2YgdGhpcy5nYW1lcGxheU1hbmFnZXJJbnN0YW5jZS5oYW5kbGVBbnN3ZXIgIT09ICdmdW5jdGlvbidcclxuICAgICkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICdbVUlNYW5hZ2VyXSBDUklUSUNBTDogR2FtZXBsYXlNYW5hZ2VyIG9yIGl0cyBoYW5kbGVBbnN3ZXIgbWV0aG9kIGlzIG5vdCBzZXQgb3IgaW52YWxpZCEnXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuZmxhc2hNZXNzYWdlKCdFcnJvcjogR2FtZSBpbnRlcmFjdGlvbiBzeXN0ZW0gZmFpbGVkIChRKS4nLCAnZXJyb3InLCA1MDAwKTtcclxuICAgICAgdGhpcy5oaWRlUXVlc3Rpb24oKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy5xdWVzdGlvblRleHRFbGVtZW50LnRleHRDb250ZW50ID0gcXVlc3Rpb25EYXRhLnF1ZXN0aW9uO1xyXG4gICAgdGhpcy5hbnN3ZXJCdXR0b25zQ29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xyXG4gICAgcXVlc3Rpb25EYXRhLm9wdGlvbnMuZm9yRWFjaCgob3B0aW9uVGV4dCwgaW5kZXgpID0+IHtcclxuICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9IG9wdGlvblRleHQ7XHJcbiAgICAgIGJ1dHRvbi5kYXRhc2V0LmluZGV4ID0gaW5kZXgudG9TdHJpbmcoKTtcclxuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2Fuc3dlci1idXR0b24nKTtcclxuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCBzZWxlY3RlZEluZGV4ID0gcGFyc2VJbnQoZS50YXJnZXQuZGF0YXNldC5pbmRleCwgMTApO1xyXG4gICAgICAgIHRoaXMuZ2FtZXBsYXlNYW5hZ2VySW5zdGFuY2UuaGFuZGxlQW5zd2VyKHNlbGVjdGVkSW5kZXgpO1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5hbnN3ZXJCdXR0b25zQ29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbik7XHJcbiAgICB9KTtcclxuICAgIHRoaXMucXVlc3Rpb25PdmVybGF5LmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBoaWRlUXVlc3Rpb24oKSB7XHJcbiAgICAvLyAuLi4gKNCt0YLQvtGCINC80LXRgtC+0LQg0L7RgdGC0LDQtdGC0YHRjyDQutCw0Log0LIg0L/RgNC10LTRi9C00YPRidC10Lwg0L/QvtC70L3QvtC8IFVJTWFuYWdlci5qcylcclxuICAgIGlmICh0aGlzLnF1ZXN0aW9uT3ZlcmxheSkge1xyXG4gICAgICB0aGlzLnF1ZXN0aW9uT3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XHJcbiAgICAgIGlmICh0aGlzLnF1ZXN0aW9uVGV4dEVsZW1lbnQpIHRoaXMucXVlc3Rpb25UZXh0RWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xyXG4gICAgICBpZiAodGhpcy5hbnN3ZXJCdXR0b25zQ29udGFpbmVyKSB0aGlzLmFuc3dlckJ1dHRvbnNDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgc2hvd0Zsb29yU2VsZWN0aW9uVUkobWluRmxvb3IsIG1heEZsb29yLCBjdXJyZW50Rmxvb3IpIHtcclxuICAgIC8vIC4uLiAo0K3RgtC+0YIg0LzQtdGC0L7QtCDQvtGB0YLQsNC10YLRgdGPINC60LDQuiDQsiDQv9GA0LXQtNGL0LTRg9GJ0LXQvCDQv9C+0LvQvdC+0LwgVUlNYW5hZ2VyLmpzKVxyXG4gICAgaWYgKCF0aGlzLmZsb29yU2VsZWN0aW9uUGFuZWwgfHwgIXRoaXMuZmxvb3JCdXR0b25zQ29udGFpbmVyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tVSU1hbmFnZXJdIEZsb29yIHNlbGVjdGlvbiBVSSBub3QgcmVhZHkuJyk7XHJcbiAgICAgIHRoaXMuY3JlYXRlRmxvb3JTZWxlY3Rpb25VSSgpO1xyXG4gICAgICBpZiAoIXRoaXMuZmxvb3JTZWxlY3Rpb25QYW5lbCB8fCAhdGhpcy5mbG9vckJ1dHRvbnNDb250YWluZXIpIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmIChcclxuICAgICAgIXRoaXMuZ2FtZXBsYXlNYW5hZ2VySW5zdGFuY2UgfHxcclxuICAgICAgdHlwZW9mIHRoaXMuZ2FtZXBsYXlNYW5hZ2VySW5zdGFuY2UuaGFuZGxlRmxvb3JTZWxlY3Rpb24gIT09ICdmdW5jdGlvbidcclxuICAgICkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICdbVUlNYW5hZ2VyXSBDUklUSUNBTDogR2FtZXBsYXlNYW5hZ2VyIG9yIGl0cyBoYW5kbGVGbG9vclNlbGVjdGlvbiBtZXRob2QgaXMgbm90IHNldCBvciBpbnZhbGlkISdcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5mbGFzaE1lc3NhZ2UoJ0Vycm9yOiBHYW1lIGludGVyYWN0aW9uIHN5c3RlbSBmYWlsZWQgKEYpLicsICdlcnJvcicsIDUwMDApO1xyXG4gICAgICB0aGlzLmhpZGVGbG9vclNlbGVjdGlvblVJKCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuZmxvb3JCdXR0b25zQ29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xyXG4gICAgZm9yIChsZXQgZmxvb3IgPSBtaW5GbG9vcjsgZmxvb3IgPD0gbWF4Rmxvb3I7IGZsb29yKyspIHtcclxuICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9IGBGbG9vciAke2Zsb29yfWA7XHJcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdmbG9vci1idXR0b24nKTtcclxuICAgICAgYnV0dG9uLmRhdGFzZXQuZmxvb3IgPSBmbG9vci50b1N0cmluZygpO1xyXG4gICAgICBpZiAoZmxvb3IgPT09IGN1cnJlbnRGbG9vcikge1xyXG4gICAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2N1cnJlbnQnKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLmdhbWVwbGF5TWFuYWdlckluc3RhbmNlLmhhbmRsZUZsb29yU2VsZWN0aW9uKGZsb29yKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmZsb29yQnV0dG9uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b24pO1xyXG4gICAgfVxyXG4gICAgdGhpcy5mbG9vclNlbGVjdGlvblBhbmVsLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBoaWRlRmxvb3JTZWxlY3Rpb25VSSgpIHtcclxuICAgIC8vIC4uLiAo0K3RgtC+0YIg0LzQtdGC0L7QtCDQvtGB0YLQsNC10YLRgdGPINC60LDQuiDQsiDQv9GA0LXQtNGL0LTRg9GJ0LXQvCDQv9C+0LvQvdC+0LwgVUlNYW5hZ2VyLmpzKVxyXG4gICAgaWYgKHRoaXMuZmxvb3JTZWxlY3Rpb25QYW5lbCkge1xyXG4gICAgICB0aGlzLmZsb29yU2VsZWN0aW9uUGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIHVwZGF0ZVNjb3JlKHNjb3JlLCB0YXJnZXQpIHtcclxuICAgIC8vIC4uLiAo0K3RgtC+0YIg0LzQtdGC0L7QtCDQvtGB0YLQsNC10YLRgdGPINC60LDQuiDQsiDQv9GA0LXQtNGL0LTRg9GJ0LXQvCDQv9C+0LvQvdC+0LwgVUlNYW5hZ2VyLmpzKVxyXG4gICAgaWYgKCF0aGlzLnNjb3JlRWxlbWVudCkgdGhpcy5zY29yZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NvcmUtdmFsdWUnKTtcclxuICAgIGlmICghdGhpcy50YXJnZXRFbGVtZW50KSB0aGlzLnRhcmdldEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NvcmUtdGFyZ2V0Jyk7XHJcbiAgICBpZiAodGhpcy5zY29yZUVsZW1lbnQpIHRoaXMuc2NvcmVFbGVtZW50LnRleHRDb250ZW50ID0gc2NvcmUudG9TdHJpbmcoKTtcclxuICAgIGlmICh0aGlzLnRhcmdldEVsZW1lbnQpIHRoaXMudGFyZ2V0RWxlbWVudC50ZXh0Q29udGVudCA9IHRhcmdldC50b1N0cmluZygpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHNob3dHYW1lVUkoKSB7XHJcbiAgICAvLyDQn9C+0LrQsNC30YvQstCw0LXRgiDRjdC70LXQvNC10L3RgtGLLCDQvdC10L7QsdGF0L7QtNC40LzRi9C1INCy0L4g0LLRgNC10LzRjyDQuNCz0YDRi1xyXG4gICAgY29uc29sZS5sb2coJ1tVSU1hbmFnZXJdIFNob3dpbmcgR2FtZSBVSS4uLicpO1xyXG4gICAgLy8g0JPQu9Cw0LLQvdC+0LUg0LzQtdC90Y4g0LTQvtC70LbQvdC+INCx0YvRgtGMINGD0LbQtSDRgdC60YDRi9GC0L4gTWVudS5qc1xyXG5cclxuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lLWNhbnZhcycpO1xyXG4gICAgY29uc3Qgc2NvcmVEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Njb3JlLWRpc3BsYXknKTtcclxuXHJcbiAgICBpZiAoY2FudmFzKSBjYW52YXMuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7IC8vINCj0LHQtdC00LjQvNGB0Y8sINGH0YLQviDQutCw0L3QstCw0YEg0LLQuNC00LjQvFxyXG4gICAgZWxzZSBjb25zb2xlLndhcm4oJ1tVSU1hbmFnZXJdIENhbnZhcyBlbGVtZW50ICgjZ2FtZS1jYW52YXMpIG5vdCBmb3VuZCB0byBzaG93LicpO1xyXG5cclxuICAgIGlmICh0aGlzLmNvbnRyb2xzQ29udGFpbmVyKSB0aGlzLmNvbnRyb2xzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuICAgIGVsc2UgY29uc29sZS53YXJuKCdbVUlNYW5hZ2VyXSBDb250cm9scyBjb250YWluZXIgbm90IGZvdW5kIHRvIHNob3cuJyk7XHJcblxyXG4gICAgaWYgKHNjb3JlRGlzcGxheSkge1xyXG4gICAgICBzY29yZURpc3BsYXkuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsgLy8g0LjQu9C4ICdibG9jaydcclxuICAgICAgc2NvcmVEaXNwbGF5LmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignW1VJTWFuYWdlcl0gU2NvcmUgZGlzcGxheSBub3QgZm91bmQgdG8gc2hvdy4nKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy50aW1lckVsZW1lbnQpIHtcclxuICAgICAgdGhpcy50aW1lckVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7IC8vINC40LvQuCAnZmxleCdcclxuICAgIH1cclxuXHJcbiAgICAvLyDQo9Cx0LXQtNC40LzRgdGPLCDRh9GC0L4g0L/QsNC90LXQu9C4INCy0L7Qv9GA0L7RgdC+0LIsINGN0YLQsNC20LXQuSDQuCBHYW1lIE92ZXIg0YHQutGA0YvRgtGLINC/0YDQuCDQv9C+0LrQsNC30LUg0L7RgdC90L7QstC90L7Qs9C+INC40LPRgNC+0LLQvtCz0L4gVUlcclxuICAgIHRoaXMuaGlkZVF1ZXN0aW9uKCk7XHJcbiAgICB0aGlzLmhpZGVGbG9vclNlbGVjdGlvblVJKCk7XHJcbiAgICB0aGlzLmhpZGVHYW1lT3ZlclNjcmVlbigpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGhpZGVHYW1lVUkoKSB7XHJcbiAgICAvLyDQodC60YDRi9Cy0LDQtdGCINGN0LvQtdC80LXQvdGC0Ysg0LDQutGC0LjQstC90L7QuSDQuNCz0YDRiyAo0L3QsNC/0YDQuNC80LXRgCwg0L/RgNC4INC/0L7QutCw0LfQtSBHYW1lIE92ZXIg0LjQu9C4INCy0L7Qt9Cy0YDQsNGC0LUg0LIg0LzQtdC90Y4pXHJcbiAgICBjb25zb2xlLmxvZygnW1VJTWFuYWdlcl0gSGlkaW5nIEdhbWUgVUkuLi4nKTtcclxuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lLWNhbnZhcycpO1xyXG4gICAgY29uc3Qgc2NvcmVEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Njb3JlLWRpc3BsYXknKTtcclxuXHJcbiAgICBpZiAoY2FudmFzKSBjYW52YXMuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIGlmICh0aGlzLmNvbnRyb2xzQ29udGFpbmVyKSB0aGlzLmNvbnRyb2xzQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcclxuICAgIGlmIChzY29yZURpc3BsYXkpIHtcclxuICAgICAgc2NvcmVEaXNwbGF5LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgIHNjb3JlRGlzcGxheS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy50aW1lckVsZW1lbnQpIHtcclxuICAgICAgdGhpcy50aW1lckVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXRpYyBpbml0aWFsaXplVGltZXIoKSB7XHJcbiAgICAvLyAuLi4gKNCt0YLQvtGCINC80LXRgtC+0LQg0L7RgdGC0LDQtdGC0YHRjyDQutCw0Log0LIg0L/RgNC10LTRi9C00YPRidC10Lwg0L/QvtC70L3QvtC8IFVJTWFuYWdlci5qcylcclxuICAgIGlmICghdGhpcy50aW1lckVsZW1lbnQpIHtcclxuICAgICAgdGhpcy50aW1lckVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZS10aW1lcicpO1xyXG4gICAgICBpZiAoIXRoaXMudGltZXJFbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy50aW1lckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICB0aGlzLnRpbWVyRWxlbWVudC5pZCA9ICdnYW1lLXRpbWVyJztcclxuICAgICAgICB0aGlzLnRpbWVyRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdnYW1lLXRpbWVyJyk7XHJcbiAgICAgICAgY29uc3QgZ2FtZUNvbnRhaW5lciA9IGRvY3VtZW50LmJvZHk7IC8vINCY0LvQuCDQsdC+0LvQtdC1INGB0L/QtdGG0LjRhNC40YfQvdGL0Lkg0LrQvtC90YLQtdC50L3QtdGAXHJcbiAgICAgICAgZ2FtZUNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnRpbWVyRWxlbWVudCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMudGltZXJFbGVtZW50LnRleHRDb250ZW50ID0gJ1RpbWU6IDA6MDAnO1xyXG4gICAgdGhpcy50aW1lckVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJzsgLy8g0KHQutGA0YvRgiDQv9C+INGD0LzQvtC70YfQsNC90LjRjiwg0L/QvtC60LDQttC10YLRgdGPINGBIHNob3dHYW1lVUlcclxuXHJcbiAgICBjb25zdCBzYXZlZERhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZ2FtZUxlYWRlcmJvYXJkJyk7XHJcbiAgICB0aGlzLmxlYWRlcmJvYXJkRGF0YSA9IHNhdmVkRGF0YSA/IEpTT04ucGFyc2Uoc2F2ZWREYXRhKSA6IFtdO1xyXG4gICAgdGhpcy51cGRhdGVMZWFkZXJib2FyZCgpOyAvLyDQntCx0L3QvtCy0LvRj9C10Lwg0YLQsNCx0LvQuNGG0YMg0LvQuNC00LXRgNC+0LIgKNC10YHQu9C4INC+0L3QsCDRg9C20LUg0LXRgdGC0Ywg0LIgRE9NKVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIHN0YXJ0VGltZXIoKSB7XHJcbiAgICAvLyAuLi4gKNCt0YLQvtGCINC80LXRgtC+0LQg0L7RgdGC0LDQtdGC0YHRjyDQutCw0Log0LIg0L/RgNC10LTRi9C00YPRidC10Lwg0L/QvtC70L3QvtC8IFVJTWFuYWdlci5qcylcclxuICAgIC8vINCf0YDQvtCy0LXRgNC60LAsINGH0YLQviDQuNCz0YDQsCDQsiDRgdC+0YHRgtC+0Y/QvdC40LggUExBWUlORywg0YfRgtC+0LHRiyDRgtCw0LnQvNC10YAg0L3QtSDQt9Cw0L/Rg9GB0LrQsNC70YHRjyDQv9GA0LXQttC00LXQstGA0LXQvNC10L3QvdC+XHJcbiAgICBpZiAodGhpcy5nYW1lcGxheU1hbmFnZXJJbnN0YW5jZT8uZ2FtZT8uZ2FtZVN0YXRlID09PSBHYW1lU3RhdGUuUExBWUlORykge1xyXG4gICAgICB0aGlzLmdhbWVTdGFydFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICB0aGlzLnVwZGF0ZVRpbWVyKCk7IC8vINCX0LDQv9GD0YHQutCw0LXQvCDRhtC40LrQuyDQvtCx0L3QvtCy0LvQtdC90LjRj1xyXG4gICAgICBjb25zb2xlLmxvZygnW1VJTWFuYWdlcl0gR2FtZSB0aW1lciBzdGFydGVkLicpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS53YXJuKCdbVUlNYW5hZ2VyXSBUaW1lciBzdGFydCByZXF1ZXN0ZWQsIGJ1dCBnYW1lIGlzIG5vdCBpbiBQTEFZSU5HIHN0YXRlLicpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIHVwZGF0ZVRpbWVyKCkge1xyXG4gICAgLy8gLi4uICjQrdGC0L7RgiDQvNC10YLQvtC0INC+0YHRgtCw0LXRgtGB0Y8g0LrQsNC6INCyINC/0YDQtdC00YvQtNGD0YnQtdC8INC/0L7Qu9C90L7QvCBVSU1hbmFnZXIuanMpXHJcbiAgICBjb25zdCBnYW1lID0gdGhpcy5nYW1lcGxheU1hbmFnZXJJbnN0YW5jZT8uZ2FtZTtcclxuICAgIGlmIChcclxuICAgICAgIXRoaXMudGltZXJFbGVtZW50IHx8XHJcbiAgICAgICF0aGlzLmdhbWVTdGFydFRpbWUgfHxcclxuICAgICAgIWdhbWUgfHxcclxuICAgICAgKGdhbWUuZ2FtZVN0YXRlICE9PSBHYW1lU3RhdGUuUExBWUlORyAmJlxyXG4gICAgICAgIGdhbWUuZ2FtZVN0YXRlICE9PSBHYW1lU3RhdGUuUVVFU1RJT04gJiZcclxuICAgICAgICBnYW1lLmdhbWVTdGF0ZSAhPT0gR2FtZVN0YXRlLlRSQU5TSVRJT05JTkcpXHJcbiAgICApIHtcclxuICAgICAgcmV0dXJuOyAvLyDQntGB0YLQsNC90LDQstC70LjQstCw0LXQvCDRhtC40LrQuywg0LXRgdC70Lgg0LjQs9GA0LAg0L3QtdCw0LrRgtC40LLQvdCwXHJcbiAgICB9XHJcbiAgICBjb25zdCBlbGFwc2VkID0gTWF0aC5mbG9vcigoRGF0ZS5ub3coKSAtIHRoaXMuZ2FtZVN0YXJ0VGltZSkgLyAxMDAwKTtcclxuICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKGVsYXBzZWQgLyA2MCk7XHJcbiAgICBjb25zdCBzZWNvbmRzID0gZWxhcHNlZCAlIDYwO1xyXG4gICAgdGhpcy50aW1lckVsZW1lbnQudGV4dENvbnRlbnQgPSBgVGltZTogJHttaW51dGVzfToke3NlY29uZHMudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfWA7XHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy51cGRhdGVUaW1lcigpKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBzdG9wVGltZXIod2FzV2luKSB7XHJcbiAgICAvLyAuLi4gKNCt0YLQvtGCINC80LXRgtC+0LQg0L7RgdGC0LDQtdGC0YHRjyDQutCw0Log0LIg0L/RgNC10LTRi9C00YPRidC10Lwg0L/QvtC70L3QvtC8IFVJTWFuYWdlci5qcylcclxuICAgIGlmICghdGhpcy5nYW1lU3RhcnRUaW1lKSByZXR1cm47IC8vINCi0LDQudC80LXRgCDQvdC1INCx0YvQuyDQt9Cw0L/Rg9GJ0LXQvVxyXG4gICAgY29uc3QgZW5kVGltZSA9IERhdGUubm93KCk7XHJcbiAgICBjb25zdCB0b3RhbFRpbWUgPSAoZW5kVGltZSAtIHRoaXMuZ2FtZVN0YXJ0VGltZSkgLyAxMDAwOyAvLyDQktGA0LXQvNGPINCyINGB0LXQutGD0L3QtNCw0YVcclxuICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICBgW1VJTWFuYWdlcl0gR2FtZSB0aW1lciBzdG9wcGVkLiBUb3RhbCB0aW1lOiAke3RvdGFsVGltZS50b0ZpeGVkKDMpfXMuIFdpbjogJHt3YXNXaW59YFxyXG4gICAgKTtcclxuICAgIGlmICh3YXNXaW4pIHtcclxuICAgICAgY29uc3QgcnVuTmFtZSA9IGBSdW4gJHt0aGlzLmxlYWRlcmJvYXJkRGF0YS5sZW5ndGggKyAxfWA7XHJcbiAgICAgIHRoaXMubGVhZGVyYm9hcmREYXRhLnB1c2goe1xyXG4gICAgICAgIG5hbWU6IHJ1bk5hbWUsXHJcbiAgICAgICAgdGltZTogdG90YWxUaW1lLFxyXG4gICAgICAgIGRhdGU6IG5ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCksXHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLmxlYWRlcmJvYXJkRGF0YS5zb3J0KChhLCBiKSA9PiBhLnRpbWUgLSBiLnRpbWUpO1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdnYW1lTGVhZGVyYm9hcmQnLCBKU09OLnN0cmluZ2lmeSh0aGlzLmxlYWRlcmJvYXJkRGF0YS5zbGljZSgwLCAxMCkpKTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tVSU1hbmFnZXJdIEZhaWxlZCB0byBzYXZlIGxlYWRlcmJvYXJkIHRvIGxvY2FsU3RvcmFnZTonLCBlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy5nYW1lU3RhcnRUaW1lID0gMDsgLy8g0KHQsdGA0LDRgdGL0LLQsNC10Lwg0LLRgNC10LzRjyDRgdGC0LDRgNGC0LBcclxuICAgIHRoaXMudXBkYXRlTGVhZGVyYm9hcmQoKTsgLy8g0J7QsdC90L7QstC70Y/QtdC8INC+0YLQvtCx0YDQsNC20LXQvdC40LUg0YLQsNCx0LvQuNGG0Ysg0LvQuNC00LXRgNC+0LJcclxuICB9XHJcblxyXG4gIHN0YXRpYyB1cGRhdGVMZWFkZXJib2FyZCgpIHtcclxuICAgIC8vIC4uLiAo0K3RgtC+0YIg0LzQtdGC0L7QtCDQvtGB0YLQsNC10YLRgdGPINC60LDQuiDQsiDQv9GA0LXQtNGL0LTRg9GJ0LXQvCDQv9C+0LvQvdC+0LwgVUlNYW5hZ2VyLmpzKVxyXG4gICAgLy8gdGhpcy5sZWFkZXJib2FyZEJvZHkg0L/QvtC70YPRh9Cw0LXRgtGB0Y8g0LIgY3JlYXRlR2FtZU92ZXJTY3JlZW5cclxuICAgIGlmICghdGhpcy5sZWFkZXJib2FyZEJvZHkpIHtcclxuICAgICAgLy8gY29uc29sZS53YXJuKCdbVUlNYW5hZ2VyXSBMZWFkZXJib2FyZCB0YWJsZSBib2R5IG5vdCBmb3VuZCBmb3IgdXBkYXRlLicpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB0aGlzLmxlYWRlcmJvYXJkQm9keS5pbm5lckhUTUwgPSAnJztcclxuICAgIGNvbnN0IHRvcFNjb3JlcyA9IHRoaXMubGVhZGVyYm9hcmREYXRhLnNsaWNlKDAsIDEwKTtcclxuICAgIGlmICh0b3BTY29yZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGNvbnN0IHJvdyA9IHRoaXMubGVhZGVyYm9hcmRCb2R5Lmluc2VydFJvdygpO1xyXG4gICAgICBjb25zdCBjZWxsID0gcm93Lmluc2VydENlbGwoKTtcclxuICAgICAgY2VsbC5jb2xTcGFuID0gMztcclxuICAgICAgY2VsbC50ZXh0Q29udGVudCA9ICdObyByZWNvcmRzIHlldC4gQmUgdGhlIGZpcnN0ISc7XHJcbiAgICAgIGNlbGwuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0b3BTY29yZXMuZm9yRWFjaCgocnVuKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3IocnVuLnRpbWUgLyA2MCk7XHJcbiAgICAgICAgY29uc3Qgc2Vjb25kcyA9IE1hdGguZmxvb3IocnVuLnRpbWUgJSA2MCk7XHJcbiAgICAgICAgY29uc3QgbWlsbGlzZWNvbmRzID0gTWF0aC5mbG9vcigocnVuLnRpbWUgKiAxMDAwKSAlIDEwMDApO1xyXG4gICAgICAgIGNvbnN0IHJvdyA9IHRoaXMubGVhZGVyYm9hcmRCb2R5Lmluc2VydFJvdygpO1xyXG4gICAgICAgIHJvdy5pbnNlcnRDZWxsKCkudGV4dENvbnRlbnQgPSBydW4ubmFtZTtcclxuICAgICAgICByb3cuaW5zZXJ0Q2VsbCgpLnRleHRDb250ZW50ID0gYCR7bWludXRlc306JHtzZWNvbmRzXHJcbiAgICAgICAgICAudG9TdHJpbmcoKVxyXG4gICAgICAgICAgLnBhZFN0YXJ0KDIsICcwJyl9LiR7bWlsbGlzZWNvbmRzLnRvU3RyaW5nKCkucGFkU3RhcnQoMywgJzAnKX1gO1xyXG4gICAgICAgIHJvdy5pbnNlcnRDZWxsKCkudGV4dENvbnRlbnQgPSBydW4uZGF0ZTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIi8vIHNyYy9jb3JlL0NoYXJhY3Rlci5qc1xyXG5cclxuZXhwb3J0IGNsYXNzIENoYXJhY3RlciB7XHJcbiAgLyoqIFN0YXRpYyBvYmplY3QgZm9yIGRpcmVjdGlvbiBjb25zdGFudHMgKi9cclxuICBzdGF0aWMgRGlyZWN0aW9uID0ge1xyXG4gICAgRE9XTjogMCxcclxuICAgIFJJR0hUOiAxLFxyXG4gICAgVVA6IDIsXHJcbiAgICBMRUZUOiAzLFxyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZXMgYSBuZXcgQ2hhcmFjdGVyIGluc3RhbmNlLlxyXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggLSBUaGUgcmVuZGVyaW5nIGNvbnRleHQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNwcml0ZVVybCAtIFVSTCBvZiB0aGUgY2hhcmFjdGVyJ3Mgc3ByaXRlIHNoZWV0LlxyXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gQ29uZmlndXJhdGlvbiBvcHRpb25zLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5mcmFtZVNpemU9MzJdIC0gU2l6ZSBvZiBvbmUgZnJhbWUgaW4gdGhlIHNwcml0ZSBzaGVldCAocGl4ZWxzKS5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZnJhbWVDb3VudD00XSAtIE51bWJlciBvZiBmcmFtZXMgcGVyIGFuaW1hdGlvbiBjeWNsZSAocGVyIGRpcmVjdGlvbikuXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNjYWxlPTJdIC0gU2NhbGluZyBmYWN0b3IgZm9yIHJlbmRlcmluZy5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3BlZWQ9M10gLSBNb3ZlbWVudCBzcGVlZCBpbiBwaXhlbHMgcGVyIHVwZGF0ZS5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYW5pbWF0aW9uU3BlZWQ9MTUwXSAtIE1pbGxpc2Vjb25kcyBwZXIgYW5pbWF0aW9uIGZyYW1lLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25Cb3hXaWR0aFJhdGlvPTAuNF0gLSBXaWR0aCBvZiBjb2xsaXNpb24gYm94IHJlbGF0aXZlIHRvIHJlbmRlclNpemUuXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkJveEhlaWdodFJhdGlvPTAuMl0gLSBIZWlnaHQgb2YgY29sbGlzaW9uIGJveCByZWxhdGl2ZSB0byByZW5kZXJTaXplLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25Cb3hGZWV0T2Zmc2V0UmF0aW89MC40XSAtIFZlcnRpY2FsIG9mZnNldCBvZiBjb2xsaXNpb24gYm94IGNlbnRlciBmcm9tIGNoYXJhY3RlciBjZW50ZXIgKHRvd2FyZHMgZmVldCksIHJlbGF0aXZlIHRvIHJlbmRlclNpemUuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoY3R4LCBzcHJpdGVVcmwsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgdGhpcy5jdHggPSBjdHg7XHJcbiAgICB0aGlzLnNwcml0ZSA9IG5ldyBJbWFnZSgpO1xyXG5cclxuICAgIC8vIENvbmZpZ3VyYXRpb24gd2l0aCBkZWZhdWx0c1xyXG4gICAgdGhpcy5mcmFtZVNpemUgPSBvcHRpb25zLmZyYW1lU2l6ZSB8fCAzMjtcclxuICAgIHRoaXMuZnJhbWVDb3VudCA9IG9wdGlvbnMuZnJhbWVDb3VudCB8fCA0OyAvLyBOdW1iZXIgb2YgZnJhbWVzIHBlciBkaXJlY3Rpb25cclxuICAgIHRoaXMuc2NhbGUgPSBvcHRpb25zLnNjYWxlIHx8IDI7XHJcbiAgICB0aGlzLnJlbmRlclNpemUgPSB0aGlzLmZyYW1lU2l6ZSAqIHRoaXMuc2NhbGU7XHJcbiAgICB0aGlzLnNwZWVkID0gb3B0aW9ucy5zcGVlZCB8fCAzO1xyXG4gICAgdGhpcy5hbmltYXRpb25TcGVlZCA9IG9wdGlvbnMuYW5pbWF0aW9uU3BlZWQgfHwgMTUwOyAvLyBtcyBwZXIgZnJhbWVcclxuXHJcbiAgICAvLyBDb2xsaXNpb24gQm94IENvbmZpZ3VyYXRpb25cclxuICAgIHRoaXMuY29sbGlzaW9uQm94V2lkdGhSYXRpbyA9IG9wdGlvbnMuY29sbGlzaW9uQm94V2lkdGhSYXRpbyB8fCAwLjQ7XHJcbiAgICB0aGlzLmNvbGxpc2lvbkJveEhlaWdodFJhdGlvID0gb3B0aW9ucy5jb2xsaXNpb25Cb3hIZWlnaHRSYXRpbyB8fCAwLjI7XHJcbiAgICB0aGlzLmNvbGxpc2lvbkJveEZlZXRPZmZzZXRSYXRpbyA9IG9wdGlvbnMuY29sbGlzaW9uQm94RmVldE9mZnNldFJhdGlvIHx8IDAuNDtcclxuXHJcbiAgICAvLyBTdGF0ZVxyXG4gICAgdGhpcy54ID0gMDsgLy8gV29ybGQgWCBjb29yZGluYXRlXHJcbiAgICB0aGlzLnkgPSAwOyAvLyBXb3JsZCBZIGNvb3JkaW5hdGVcclxuICAgIHRoaXMuY3VycmVudERpcmVjdGlvbiA9IENoYXJhY3Rlci5EaXJlY3Rpb24uRE9XTjsgLy8gU3RhcnQgZmFjaW5nIGRvd25cclxuICAgIHRoaXMuY3VycmVudEZyYW1lID0gMDsgLy8gQ3VycmVudCBhbmltYXRpb24gZnJhbWUgaW5kZXhcclxuICAgIHRoaXMuaXNNb3ZpbmcgPSBmYWxzZTsgLy8gSXMgdGhlIGNoYXJhY3RlciBjdXJyZW50bHkgbW92aW5nP1xyXG4gICAgdGhpcy5sYXN0RnJhbWVUaW1lID0gMDsgLy8gVGltZXN0YW1wIG9mIHRoZSBsYXN0IGZyYW1lIHVwZGF0ZVxyXG5cclxuICAgIC8vIExvYWQgc3ByaXRlIGFuZCBhZGQgaGFuZGxlcnNcclxuICAgIHRoaXMuc3ByaXRlLm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coYFtDaGFyYWN0ZXJdIFNwcml0ZSBsb2FkZWQgc3VjY2Vzc2Z1bGx5OiAke3Nwcml0ZVVybH1gKTtcclxuICAgIH07XHJcbiAgICB0aGlzLnNwcml0ZS5vbmVycm9yID0gKCkgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBbQ2hhcmFjdGVyXSBGYWlsZWQgdG8gbG9hZCBzcHJpdGU6ICR7c3ByaXRlVXJsfWApO1xyXG4gICAgfTtcclxuICAgIHRoaXMuc3ByaXRlLnNyYyA9IHNwcml0ZVVybDsgLy8gU3RhcnQgbG9hZGluZ1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlcyB0aGUgY2hhcmFjdGVyJ3MgYW5pbWF0aW9uIGZyYW1lIGJhc2VkIG9uIG1vdmVtZW50IHN0YXRlIGFuZCB0aW1lLlxyXG4gICAqIFNob3VsZCBiZSBjYWxsZWQgaW4gdGhlIGdhbWUncyB1cGRhdGUgbG9vcC5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gdGltZXN0YW1wIC0gVGhlIGN1cnJlbnQgaGlnaC1yZXNvbHV0aW9uIHRpbWVzdGFtcCAoZS5nLiwgZnJvbSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUpLlxyXG4gICAqL1xyXG4gIHVwZGF0ZUFuaW1hdGlvbih0aW1lc3RhbXApIHtcclxuICAgIGlmICghdGhpcy5pc01vdmluZykge1xyXG4gICAgICB0aGlzLmN1cnJlbnRGcmFtZSA9IDA7XHJcbiAgICAgIHRoaXMubGFzdEZyYW1lVGltZSA9IHRpbWVzdGFtcDtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKCF0aGlzLmxhc3RGcmFtZVRpbWUpIHtcclxuICAgICAgdGhpcy5sYXN0RnJhbWVUaW1lID0gdGltZXN0YW1wO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZWxhcHNlZCA9IHRpbWVzdGFtcCAtIHRoaXMubGFzdEZyYW1lVGltZTtcclxuICAgIGlmIChlbGFwc2VkID4gdGhpcy5hbmltYXRpb25TcGVlZCkge1xyXG4gICAgICB0aGlzLmN1cnJlbnRGcmFtZSA9ICh0aGlzLmN1cnJlbnRGcmFtZSArIDEpICUgdGhpcy5mcmFtZUNvdW50O1xyXG4gICAgICB0aGlzLmxhc3RGcmFtZVRpbWUgPSB0aW1lc3RhbXA7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDYWxjdWxhdGVzIHRoZSBjb2xsaXNpb24gYm91bmRpbmcgYm94IGJhc2VkIG9uIGEgcG90ZW50aWFsIHBvc2l0aW9uLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwb3NYIC0gVGhlIHBvdGVudGlhbCBYIGNvb3JkaW5hdGUgZm9yIHRoZSBjb2xsaXNpb24gY2hlY2suXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBvc1kgLSBUaGUgcG90ZW50aWFsIFkgY29vcmRpbmF0ZSBmb3IgdGhlIGNvbGxpc2lvbiBjaGVjay5cclxuICAgKiBAcmV0dXJucyB7e3RvcDogbnVtYmVyLCBib3R0b206IG51bWJlciwgbGVmdDogbnVtYmVyLCByaWdodDogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcn19IFRoZSBjb2xsaXNpb24gYm94IHByb3BlcnRpZXMuXHJcbiAgICovXHJcbiAgZ2V0Q29sbGlzaW9uQm94KHBvc1gsIHBvc1kpIHtcclxuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5yZW5kZXJTaXplICogdGhpcy5jb2xsaXNpb25Cb3hXaWR0aFJhdGlvO1xyXG4gICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5yZW5kZXJTaXplICogdGhpcy5jb2xsaXNpb25Cb3hIZWlnaHRSYXRpbztcclxuICAgIGNvbnN0IGhhbGZXaWR0aCA9IHdpZHRoIC8gMjtcclxuICAgIGNvbnN0IGZlZXRPZmZzZXRZID0gdGhpcy5yZW5kZXJTaXplICogdGhpcy5jb2xsaXNpb25Cb3hGZWV0T2Zmc2V0UmF0aW87XHJcbiAgICBjb25zdCB0b3AgPSBwb3NZICsgZmVldE9mZnNldFkgLSBoZWlnaHQgLyAyO1xyXG4gICAgY29uc3QgYm90dG9tID0gcG9zWSArIGZlZXRPZmZzZXRZICsgaGVpZ2h0IC8gMjtcclxuICAgIGNvbnN0IGxlZnQgPSBwb3NYIC0gaGFsZldpZHRoO1xyXG4gICAgY29uc3QgcmlnaHQgPSBwb3NYICsgaGFsZldpZHRoO1xyXG4gICAgcmV0dXJuIHsgdG9wLCBib3R0b20sIGxlZnQsIHJpZ2h0LCB3aWR0aCwgaGVpZ2h0IH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEcmF3cyB0aGUgY2hhcmFjdGVyIG9udG8gdGhlIGNhbnZhcyBhdCBpdHMgY3VycmVudCBwb3NpdGlvbixcclxuICAgKiBjb25zaWRlcmluZyB0aGUgY2FtZXJhIG9mZnNldC5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0WCAtIFRoZSBjYW1lcmEncyBYIG9mZnNldC5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0WSAtIFRoZSBjYW1lcmEncyBZIG9mZnNldC5cclxuICAgKi9cclxuICBkcmF3KG9mZnNldFgsIG9mZnNldFkpIHtcclxuICAgIGlmICghdGhpcy5zcHJpdGUuY29tcGxldGUgfHwgdGhpcy5zcHJpdGUubmF0dXJhbEhlaWdodCA9PT0gMCkge1xyXG4gICAgICByZXR1cm47IC8vIERvbid0IGRyYXcgaWYgc3ByaXRlIGlzbid0IHJlYWR5XHJcbiAgICB9XHJcbiAgICBjb25zdCBmcmFtZVggPSB0aGlzLmN1cnJlbnRGcmFtZSAqIHRoaXMuZnJhbWVTaXplO1xyXG4gICAgY29uc3QgZnJhbWVZID0gdGhpcy5jdXJyZW50RGlyZWN0aW9uICogdGhpcy5mcmFtZVNpemU7XHJcbiAgICBjb25zdCBzY3JlZW5YID0gTWF0aC5mbG9vcih0aGlzLnggLSB0aGlzLnJlbmRlclNpemUgLyAyICsgb2Zmc2V0WCk7XHJcbiAgICBjb25zdCBzY3JlZW5ZID0gTWF0aC5mbG9vcih0aGlzLnkgLSB0aGlzLnJlbmRlclNpemUgLyAyICsgb2Zmc2V0WSk7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgdGhpcy5jdHguZHJhd0ltYWdlKFxyXG4gICAgICAgIHRoaXMuc3ByaXRlLFxyXG4gICAgICAgIGZyYW1lWCxcclxuICAgICAgICBmcmFtZVksXHJcbiAgICAgICAgdGhpcy5mcmFtZVNpemUsXHJcbiAgICAgICAgdGhpcy5mcmFtZVNpemUsIC8vIFNvdXJjZSByZWN0XHJcbiAgICAgICAgc2NyZWVuWCxcclxuICAgICAgICBzY3JlZW5ZLFxyXG4gICAgICAgIHRoaXMucmVuZGVyU2l6ZSxcclxuICAgICAgICB0aGlzLnJlbmRlclNpemUgLy8gRGVzdCByZWN0XHJcbiAgICAgICk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tDaGFyYWN0ZXJdIEVycm9yIGRyYXdpbmcgc3ByaXRlOicsIGUpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCIvLyBzcmMvbWFwL0Jvb2suanNcclxuZXhwb3J0IGNsYXNzIEJvb2sge1xyXG4gIGNvbnN0cnVjdG9yKHgsIHksIGlkLCB0aWxlU2l6ZSkge1xyXG4gICAgdGhpcy54ID0geDtcclxuICAgIHRoaXMueSA9IHk7XHJcbiAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICB0aGlzLnRpbGVTaXplID0gdGlsZVNpemU7XHJcbiAgICB0aGlzLnNpemUgPSB0aWxlU2l6ZSAqIDAuNjtcclxuICAgIHRoaXMuY29sbGVjdGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmlzQ29sbGVjdGVkID0gZmFsc2U7XHJcbiAgfVxyXG4gIGRyYXcoY3R4LCBvZmZzZXRYLCBvZmZzZXRZLCBib29rSW1hZ2UpIHtcclxuICAgIGNvbnN0IHNjcmVlblggPSBNYXRoLmZsb29yKHRoaXMueCArIG9mZnNldFggLSB0aGlzLnNpemUgLyAyKTtcclxuICAgIGNvbnN0IHNjcmVlblkgPSBNYXRoLmZsb29yKHRoaXMueSArIG9mZnNldFkgLSB0aGlzLnNpemUgLyAyKTtcclxuICAgIGlmIChib29rSW1hZ2UpIHtcclxuICAgICAgY3R4LmRyYXdJbWFnZShib29rSW1hZ2UsIHNjcmVlblgsIHNjcmVlblksIHRoaXMuc2l6ZSwgdGhpcy5zaXplKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzhkNmU2Myc7XHJcbiAgICAgIGN0eC5maWxsUmVjdChzY3JlZW5YLCBzY3JlZW5ZLCB0aGlzLnNpemUsIHRoaXMuc2l6ZSk7XHJcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjNWQ0MDM3JztcclxuICAgICAgY3R4LnN0cm9rZVJlY3Qoc2NyZWVuWCwgc2NyZWVuWSwgdGhpcy5zaXplLCB0aGlzLnNpemUpO1xyXG4gICAgICBjdHguZmlsbFN0eWxlID0gJyNlZWUnO1xyXG4gICAgICBjdHguZm9udCA9IGAke3RoaXMuc2l6ZSAqIDAuNn1weCBBcmlhbGA7XHJcbiAgICAgIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcclxuICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xyXG4gICAgICBjdHguZmlsbFRleHQoJz8nLCBzY3JlZW5YICsgdGhpcy5zaXplIC8gMiwgc2NyZWVuWSArIHRoaXMuc2l6ZSAvIDIgKyAyKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiLy8gc3JjL3V0aWxzL21hcC5qc1xyXG5pbXBvcnQgeyBUSUxFX0NPUlJJRE9SLCBUSUxFX1JPT01fRkxPT1IsIFRJTEVfTElGVCB9IGZyb20gJy4vY29uc3RhbnRzLmpzJzsgLy8gUG90cnplYm5lIGRvIEJGU1xyXG5cclxuLyoqXHJcbiAqIEdlbmVydWplIGxvc293xIUgbGljemLEmSBjYcWCa293aXTEhSB6IHByemVkemlhxYJ1IFttaW4sIG1heF0gKHfFgsSFY3puaWUpLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gbWluIERvbG5hIGdyYW5pY2EuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXggR8Ozcm5hIGdyYW5pY2EuXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IExvc293YSBsaWN6YmEgY2HFgmtvd2l0YS5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByYW5kb21JbnQobWluLCBtYXgpIHtcclxuICBtaW4gPSBNYXRoLmNlaWwobWluKTtcclxuICBtYXggPSBNYXRoLmZsb29yKG1heCk7XHJcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBQcm9zdGEgKG5pZWtyeXB0b2dyYWZpY3puYSkgZnVua2NqYSBoYXNodWrEhWNhLlxyXG4gKiBVxbx5d2FuYSBkbyB1enlza2FuaWEgcHNldWRvbG9zb3dlaiwgYWxlIGRldGVybWluaXN0eWN6bmVqIHdhcnRvxZtjaSB6IGxpY3pieSAoa29vcmR5bmF0w7N3KS5cclxuICogQHBhcmFtIHtudW1iZXJ9IHNlZWQgWmlhcm5vIChucC4gc2tvbWJpbm93YW5lIGtvb3JkeW5hdHkpLlxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBCZXp6bmFrb3dhIDMyLWJpdG93YSBsaWN6YmEgY2HFgmtvd2l0YS5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzaW1wbGVIYXNoKHNlZWQpIHtcclxuICBsZXQgaCA9IHNlZWQgXiAweGRlYWRiZWVmOyAvLyBYT1IgeiB3YXJ0b8WbY2nEhSBwb2N6xIV0a293xIVcclxuICBoID0gTWF0aC5pbXVsKGggXiAoaCA+Pj4gMTYpLCAyMjQ2ODIyNTA3KTtcclxuICBoID0gTWF0aC5pbXVsKGggXiAoaCA+Pj4gMTMpLCAzMjY2NDg5OTA5KTtcclxuICByZXR1cm4gKGggXj0gaCA+Pj4gMTYpID4+PiAwOyAvLyBLb253ZXJzamEgZG8gbGljemJ5IGJleiB6bmFrdSAzMi1iaXRvd2VqXHJcbn1cclxuXHJcbi8vIC0tLSBGdW5rY2plIGtvbG9yw7N3IC0tLVxyXG5cclxuLyoqXHJcbiAqIEdlbmVydWplIGxvc293eSBvZGNpZcWEIHN6YXJvxZtjaSB3IHphZGFueW0gemFrcmVzaWUgamFzbm/Fm2NpICgwLTI1NSkuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5CcmlnaHRuZXNzIE1pbmltYWxuYSBqYXNub8WbxIcuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhCcmlnaHRuZXNzIE1ha3N5bWFsbmEgamFzbm/Fm8SHLlxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBLb2xvciB3IGZvcm1hY2llIHJnYigpLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbUdyYXkobWluQnJpZ2h0bmVzcywgbWF4QnJpZ2h0bmVzcykge1xyXG4gIGNvbnN0IGJyaWdodG5lc3MgPSByYW5kb21JbnQobWluQnJpZ2h0bmVzcywgbWF4QnJpZ2h0bmVzcyk7XHJcbiAgcmV0dXJuIGByZ2IoJHticmlnaHRuZXNzfSwke2JyaWdodG5lc3N9LCR7YnJpZ2h0bmVzc30pYDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdlbmVydWplIGxvc293eSBvZGNpZcWEIHN6YXJvxZtjaSBkbGEga29yeXRhcnp5LlxyXG4gKiBAcGFyYW0ge251bWJlcn0gbWluQnJpZ2h0bmVzcyBNaW5pbWFsbmEgamFzbm/Fm8SHLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4QnJpZ2h0bmVzcyBNYWtzeW1hbG5hIGphc25vxZvEhy5cclxuICogQHJldHVybnMge3N0cmluZ30gS29sb3IgdyBmb3JtYWNpZSByZ2IoKS5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByYW5kb21Db3JyaWRvckdyYXkobWluQnJpZ2h0bmVzcywgbWF4QnJpZ2h0bmVzcykge1xyXG4gIC8vIE1vxbxuYSB1xbx5xIcgdGVqIHNhbWVqIGxvZ2lraSBjbyByYW5kb21HcmF5IGx1YiB1Y3p5bmnEhyBqZSBuaWVjbyBjaWVwbGVqc3p5bWkvY2jFgm9kbmllanN6eW1pXHJcbiAgY29uc3QgYnJpZ2h0bmVzcyA9IHJhbmRvbUludChtaW5CcmlnaHRuZXNzLCBtYXhCcmlnaHRuZXNzKTtcclxuICByZXR1cm4gYHJnYigke2JyaWdodG5lc3N9LCR7YnJpZ2h0bmVzc30sJHticmlnaHRuZXNzfSlgO1xyXG59XHJcblxyXG4vKipcclxuICogRG9zdG9zb3d1amUgamFzbm/Fm8SHIGtvbG9ydSBIRVggKG5wLiAnI1JSR0dCQicpLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gaGV4Q29sb3IgS29sb3IgdyBmb3JtYWNpZSBIRVguXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBmYWN0b3IgV3Nww7PFgmN6eW5uaWsgamFzbm/Fm2NpICgxLjAgPSBiZXogem1pYW4sIDwxIGNpZW1uaWVqLCA+MSBqYcWbbmllaikuXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IE5vd3kga29sb3IgdyBmb3JtYWNpZSBIRVguXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gYWRqdXN0Q29sb3JCcmlnaHRuZXNzKGhleENvbG9yLCBmYWN0b3IpIHtcclxuICBpZiAoIWhleENvbG9yIHx8IHR5cGVvZiBoZXhDb2xvciAhPT0gJ3N0cmluZycgfHwgaGV4Q29sb3IubGVuZ3RoIDwgNykgcmV0dXJuIGhleENvbG9yOyAvLyBad3LDs8SHLCBqZcWbbGkga29sb3IgamVzdCBuaWVwcmF3aWTFgm93eVxyXG5cclxuICBsZXQgciA9IHBhcnNlSW50KGhleENvbG9yLnNsaWNlKDEsIDMpLCAxNik7XHJcbiAgbGV0IGcgPSBwYXJzZUludChoZXhDb2xvci5zbGljZSgzLCA1KSwgMTYpO1xyXG4gIGxldCBiID0gcGFyc2VJbnQoaGV4Q29sb3Iuc2xpY2UoNSwgNyksIDE2KTtcclxuXHJcbiAgciA9IE1hdGgubWluKDI1NSwgTWF0aC5tYXgoMCwgTWF0aC5yb3VuZChyICogZmFjdG9yKSkpO1xyXG4gIGcgPSBNYXRoLm1pbigyNTUsIE1hdGgubWF4KDAsIE1hdGgucm91bmQoZyAqIGZhY3RvcikpKTtcclxuICBiID0gTWF0aC5taW4oMjU1LCBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKGIgKiBmYWN0b3IpKSk7XHJcblxyXG4gIGNvbnN0IHJIZXggPSByLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gIGNvbnN0IGdIZXggPSBnLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gIGNvbnN0IGJIZXggPSBiLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpO1xyXG5cclxuICByZXR1cm4gYCMke3JIZXh9JHtnSGV4fSR7YkhleH1gO1xyXG59XHJcblxyXG4vKipcclxuICogV3lrb251amUgYWxnb3J5dG0gcHJ6ZXN6dWtpd2FuaWEgd3N6ZXJ6IChCRlMpIG5hIHNpYXRjZSBtYXB5LlxyXG4gKiBNb8W8ZSBiecSHIHXFvHl3YW55IGRvIHpuYWpkb3dhbmlhIMWbY2llxbxraSBsdWIgc3ByYXdkemFuaWEgb3NpxIVnYWxub8WbY2kuXHJcbiAqIEBwYXJhbSB7bnVtYmVyW11bXX0gbWFwR3JpZCBTaWF0a2EgbWFweSAoMkQgYXJyYXkgeiB3YXJ0b8WbY2lhbWkga2FmZWxrw7N3KS5cclxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0WCBQb2N6xIV0a293YSB3c3DDs8WCcnrEmWRuYSBYIGthZmVsa2EuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFkgUG9jesSFdGtvd2Egd3Nww7PFgnJ6xJlkbmEgWSBrYWZlbGthLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gY29scyBMaWN6YmEga29sdW1uIHcgbWFwR3JpZC5cclxuICogQHBhcmFtIHtudW1iZXJ9IHJvd3MgTGljemJhIHJ6xJlkw7N3IHcgbWFwR3JpZC5cclxuICogQHBhcmFtIHtudW1iZXJbXX0gd2Fsa2FibGVUaWxlVmFsdWVzIFRhYmxpY2Egd2FydG/Fm2NpIGthZmVsa8OzdyB1d2HFvGFueWNoIHphIHByemVjaG9kbmllIGRsYSB0ZWdvIEJGUy5cclxuICogQHJldHVybnMge3tyZWFjaGFibGU6IGJvb2xlYW59fSBPYmlla3Qgd3NrYXp1asSFY3ksIGN6eSBCRlMgb3NpxIVnbsSFxYIgb2tyZcWbbG9ueSBjZWwgKHcgdHltIHByenlwYWRrdSwgY3p5IHogcHVua3R1IHN0YXJ0b3dlZ28gbW/FvG5hIGRvasWbxIcgZG8ga29yeXRhcnphL3Bva29qdSkuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcGVyZm9ybUJGUyhtYXBHcmlkLCBzdGFydFgsIHN0YXJ0WSwgY29scywgcm93cywgd2Fsa2FibGVUaWxlVmFsdWVzKSB7XHJcbiAgY29uc3QgcXVldWUgPSBbW3N0YXJ0WCwgc3RhcnRZXV07XHJcbiAgY29uc3QgdmlzaXRlZCA9IG5ldyBTZXQoW2Ake3N0YXJ0WH0sJHtzdGFydFl9YF0pO1xyXG4gIGNvbnN0IGRpcmVjdGlvbnMgPSBbXHJcbiAgICBbMCwgLTFdLCAvLyBHw7NyYVxyXG4gICAgWzAsIDFdLCAvLyBEw7PFglxyXG4gICAgWy0xLCAwXSwgLy8gTGV3b1xyXG4gICAgWzEsIDBdLCAvLyBQcmF3b1xyXG4gIF07XHJcbiAgbGV0IHJlYWNoYWJsZSA9IGZhbHNlOyAvLyBGbGFnYSwgY3p5IEJGUyBkb3RhcsWCIGRvIGthZmVsa8OzdyBrb3J5dGFyemEvcG9rb2p1IChqZcWbbGkgc3p1a2FubyBvZCB3aW5keSlcclxuXHJcbiAgLy8gU3ByYXdkemVuaWUgcHVua3R1IHN0YXJ0b3dlZ28gKGplxZtsaSBzenVrYW15IG9zacSFZ2Fsbm/Fm2NpIHogd2luZHkpXHJcbiAgY29uc3Qgc3RhcnRUaWxlVmFsdWUgPSBtYXBHcmlkW3N0YXJ0WV0/LltzdGFydFhdO1xyXG4gIC8vIEN6eSBwdW5rdCBzdGFydG93eSAobnAuIHdpbmRhKSBqZXN0IGp1xbwgbmEgYmV6cGllY3pueW0gdGVyZW5pZSAoZGxhIGNlbHUgc3ByYXdkemVuaWEgb3NpxIVnYWxub8WbY2kpP1xyXG4gIC8vIFcgdHltIGtvbmtyZXRueW0gdcW8eWNpdSAoc3ByYXdkemVuaWUgd2luZHkpIGludGVyZXN1amUgbmFzLCBjenkgeiB3aW5keSBtb8W8bmEgZG90cnplxIcgZG8gS09SWVRBUlpBL1BPS09KVS5cclxuICAvLyBTYW1vIHN0YW5pZSBuYSB3aW5kemllIG5pZSBvem5hY3phIG9zacSFZ2Fsbm/Fm2NpIGJlenBpZWN6bmVqIHN0cmVmeS5cclxuICAvLyBTcHJhd2R6aW15IHPEhXNpYWTDs3cgd2luZHkuXHJcblxyXG4gIHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICBjb25zdCBbY3VyclgsIGN1cnJZXSA9IHF1ZXVlLnNoaWZ0KCk7XHJcblxyXG4gICAgZm9yIChjb25zdCBbZHgsIGR5XSBvZiBkaXJlY3Rpb25zKSB7XHJcbiAgICAgIGNvbnN0IG5leHRYID0gY3VyclggKyBkeDtcclxuICAgICAgY29uc3QgbmV4dFkgPSBjdXJyWSArIGR5O1xyXG4gICAgICBjb25zdCBrZXkgPSBgJHtuZXh0WH0sJHtuZXh0WX1gO1xyXG5cclxuICAgICAgLy8gU3ByYXdkemVuaWUgZ3JhbmljIGkgY3p5IGp1xbwgb2R3aWVkem9uZVxyXG4gICAgICBpZiAobmV4dFggPj0gMCAmJiBuZXh0WCA8IGNvbHMgJiYgbmV4dFkgPj0gMCAmJiBuZXh0WSA8IHJvd3MgJiYgIXZpc2l0ZWQuaGFzKGtleSkpIHtcclxuICAgICAgICBjb25zdCB0aWxlVmFsdWUgPSBtYXBHcmlkW25leHRZXT8uW25leHRYXTtcclxuICAgICAgICB2aXNpdGVkLmFkZChrZXkpOyAvLyBPZHdpZWR6YW15IG5pZXphbGXFvG5pZSBvZCB0eXB1XHJcblxyXG4gICAgICAgIC8vIEN6eSB0ZW4ga2FmZWxlayBqZXN0IHByemVjaG9kbmkgRExBIFRFR08gQkZTP1xyXG4gICAgICAgIGlmICh3YWxrYWJsZVRpbGVWYWx1ZXMuaW5jbHVkZXModGlsZVZhbHVlKSkge1xyXG4gICAgICAgICAgcXVldWUucHVzaChbbmV4dFgsIG5leHRZXSk7XHJcblxyXG4gICAgICAgICAgLy8gQ3p5IHRlbiBrYWZlbGVrIGplc3QgS09SWVRBUlpFTSBsdWIgUE9ExYFPR8SEIFBPS09KVT9cclxuICAgICAgICAgIC8vIEplxZtsaSB0YWssIHRvIHpuYWxlxbpsacWbbXkgYmV6cGllY3puxIUgc3RyZWbEmSBvc2nEhWdhbG7EhSB6IHB1bmt0dSBzdGFydG93ZWdvLlxyXG4gICAgICAgICAgaWYgKHRpbGVWYWx1ZSA9PT0gVElMRV9DT1JSSURPUiB8fCB0aWxlVmFsdWUgPT09IFRJTEVfUk9PTV9GTE9PUikge1xyXG4gICAgICAgICAgICByZWFjaGFibGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAvLyBNb8W8bmEgYnkgdHUgemFrb8WEY3p5xIcgcMSZdGzEmSwgamXFm2xpIGludGVyZXN1amUgbmFzIHR5bGtvIENaWSBqZXN0IG9zacSFZ2FsbmVcclxuICAgICAgICAgICAgLy8gcmV0dXJuIHsgcmVhY2hhYmxlOiB0cnVlIH07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vIFp3csOzxIcgd3luaWsgQkZTIC0gdyB0eW0gcHJ6eXBhZGt1LCBmbGFnxJkgb3NpxIVnYWxub8WbY2kgYmV6cGllY3puZWogc3RyZWZ5XHJcbiAgcmV0dXJuIHsgcmVhY2hhYmxlIH07XHJcbn1cclxuXHJcbi8vIC4uLiAoaW5uZSBuYXJ6xJlkemlhIG1hcHksIGplxZtsaSBpc3RuaWVqxIUpXHJcbiIsIi8vIHNyYy9tYXAvbWFwUmVuZGVyZXIuanNcclxuXHJcbmltcG9ydCB7IFRJTEVfV0FMTCwgVElMRV9DT1JSSURPUiwgVElMRV9ST09NX0ZMT09SLCBUSUxFX0xJRlQgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xyXG4vLyBSZW1vdmVkIHVudXNlZCByYW5kb21HcmF5LCByYW5kb21Db3JyaWRvckdyYXkgaW1wb3J0c1xyXG5pbXBvcnQgeyBhZGp1c3RDb2xvckJyaWdodG5lc3MsIHNpbXBsZUhhc2ggfSBmcm9tICcuLi91dGlscy9tYXAuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1hcFJlbmRlcmVyIHtcclxuICBjb25zdHJ1Y3Rvcih0aWxlU2l6ZSkge1xyXG4gICAgdGhpcy50aWxlU2l6ZSA9IHRpbGVTaXplO1xyXG4gICAgLy8gQ2FjaGUgaXMgbGVzcyBjcml0aWNhbCBub3cgZm9yIGJhc2UgdGlsZXMgYnV0IHN0aWxsIHVzZWZ1bCBmb3Igcm9vbSBmbG9vcnMvb3RoZXIgZWxlbWVudHNcclxuICAgIHRoaXMudGlsZUNvbG9ycyA9IHt9O1xyXG4gICAgdGhpcy5iYXNlV2FsbENvbG9yID0gJyMxYzFlMjInOyAvLyBTaW5nbGUsIGNvbnNpc3RlbnQgd2FsbCBjb2xvclxyXG4gICAgdGhpcy5iYXNlQ29ycmlkb3JDb2xvciA9ICcjYTBhMGEwJzsgLy8gU2luZ2xlLCBjb25zaXN0ZW50IGNvcnJpZG9yIGNvbG9yXHJcbiAgICB0aGlzLmJhc2VSb29tRmxvb3JDb2xvciA9ICcjYzBjMGMwJzsgLy8gRGVmYXVsdCByb29tIGZsb29yIChvdmVyd3JpdHRlbiBieSBkcmF3Um9vbURldGFpbHMpXHJcbiAgICB0aGlzLmxpZnRDb2xvciA9ICcjNzA3MDgwJzsgLy8gQ29uc2lzdGVudCBsaWZ0IGNvbG9yXHJcbiAgICB0aGlzLmVycm9yQ29sb3IgPSAnI2ZmMDBmZic7IC8vIEVycm9yIGNvbG9yXHJcbiAgfVxyXG5cclxuICAvLyBSZXNldCBjb2xvciBjYWNoZSB3aGVuIGEgbmV3IG1hcCBpcyBkcmF3biAoY2FsbGVkIGJ5IFByb2NlZHVyYWxNYXApXHJcbiAgcmVzZXRDb2xvckNhY2hlKCkge1xyXG4gICAgdGhpcy50aWxlQ29sb3JzID0ge307XHJcbiAgfVxyXG5cclxuICAvKiogR2V0IG9yIGdlbmVyYXRlIHRoZSBjb2xvciBmb3IgYSBzcGVjaWZpYyB0aWxlICovXHJcbiAgZ2V0VGlsZUNvbG9yKHIsIGMsIHRpbGVWYWx1ZSwgcm9vbXMpIHtcclxuICAgIC8vIE5PVEU6IFdlIHN0aWxsIHVzZSB0aGUgY2FjaGUga2V5LCBtYWlubHkgdXNlZnVsIGlmIHJvb21zIG5lZWQgc3BlY2lmaWNcclxuICAgIC8vIHRpbGUgY29sb3JzIG5vdCBoYW5kbGVkIGJ5IGRyYXdSb29tRGV0YWlscyBsYXRlciwgb3IgaWYgd2UgYWRkIG1vcmUgY29tcGxleCBsb2dpYy5cclxuICAgIC8vIEZvciB0aGUgYmFzZSB0aWxlcyBtb2RpZmllZCBiZWxvdywgaXQncyBsZXNzIGVzc2VudGlhbC5cclxuICAgIGNvbnN0IGtleSA9IGAke3J9LCR7Y31gO1xyXG4gICAgaWYgKHRoaXMudGlsZUNvbG9yc1trZXldKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnRpbGVDb2xvcnNba2V5XTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgY29sb3I7XHJcblxyXG4gICAgLy8gLS0tIFJFTU9WRUQgcGVyLXRpbGUgaGFzaC92YXJpYXRpb24gZm9yIGJhc2UgdHlwZXMgLS0tXHJcbiAgICAvLyBjb25zdCBoYXNoID0gc2ltcGxlSGFzaChyICogMTAwMCArIGMpO1xyXG4gICAgLy8gY29uc3QgdmFyaWF0aW9uID0gKChoYXNoICUgMjEpIC0gMTApIC8gMTAwO1xyXG5cclxuICAgIHN3aXRjaCAodGlsZVZhbHVlKSB7XHJcbiAgICAgIGNhc2UgVElMRV9XQUxMOlxyXG4gICAgICAgIC8vIFVzZSB0aGUgc2luZ2xlLCBjb25zaXN0ZW50IGJhc2UgY29sb3IgZGlyZWN0bHlcclxuICAgICAgICBjb2xvciA9IHRoaXMuYmFzZVdhbGxDb2xvcjtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBUSUxFX0NPUlJJRE9SOlxyXG4gICAgICAgIC8vIFVzZSB0aGUgc2luZ2xlLCBjb25zaXN0ZW50IGJhc2UgY29sb3IgZGlyZWN0bHlcclxuICAgICAgICBjb2xvciA9IHRoaXMuYmFzZUNvcnJpZG9yQ29sb3I7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgVElMRV9ST09NX0ZMT09SOlxyXG4gICAgICAgIC8vIFVzZSB0aGUgY29uc2lzdGVudCBiYXNlIHJvb20gZmxvb3IgY29sb3IuXHJcbiAgICAgICAgLy8gVGhpcyB3aWxsIGJlIG92ZXJ3cml0dGVuIGJ5IGRyYXdSb29tRGV0YWlscyBmb3IgYWN0dWFsIHJvb20gdGlsZXMuXHJcbiAgICAgICAgLy8gSXQgc2VydmVzIGFzIHRoZSBjb2xvciBpZiBhIFRJTEVfUk9PTV9GTE9PUiBzb21laG93IGV4aXN0cyBvdXRzaWRlIGEgZGVmaW5lZCByb29tLlxyXG4gICAgICAgIGNvbG9yID0gdGhpcy5iYXNlUm9vbUZsb29yQ29sb3I7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgVElMRV9MSUZUOlxyXG4gICAgICAgIC8vIFVzZSB0aGUgY29uc2lzdGVudCBsaWZ0IGNvbG9yXHJcbiAgICAgICAgY29sb3IgPSB0aGlzLmxpZnRDb2xvcjtcclxuICAgICAgICBicmVhaztcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICBjb2xvciA9IHRoaXMuZXJyb3JDb2xvcjsgLy8gRXJyb3IgY29sb3JcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuXHJcbiAgICAvLyBTdGlsbCBjYWNoZSB0aGUgcmVzdWx0XHJcbiAgICB0aGlzLnRpbGVDb2xvcnNba2V5XSA9IGNvbG9yO1xyXG4gICAgcmV0dXJuIGNvbG9yO1xyXG4gIH1cclxuXHJcbiAgLyoqIE1haW4gZHJhd2luZyBmdW5jdGlvbiAqL1xyXG4gIGRyYXcoY3R4LCBtYXBEYXRhLCBib29rSW1hZ2UgPSBudWxsKSB7XHJcbiAgICBjb25zdCB7IG1hcCwgcm9vbXMsIGJvb2tzLCBsaWZ0UG9zaXRpb24sIG9mZnNldFgsIG9mZnNldFksIGNvbHMsIHJvd3MgfSA9IG1hcERhdGE7XHJcblxyXG4gICAgLy8gUm91bmQgb2Zmc2V0cyBmb3Igc2hhcnBuZXNzXHJcbiAgICBjb25zdCBjdXJyZW50T2Zmc2V0WCA9IE1hdGguZmxvb3Iob2Zmc2V0WCk7XHJcbiAgICBjb25zdCBjdXJyZW50T2Zmc2V0WSA9IE1hdGguZmxvb3Iob2Zmc2V0WSk7XHJcblxyXG4gICAgLy8gRGV0ZXJtaW5lIHZpc2libGUgdGlsZXMgd2l0aCBhIHNtYWxsIGJ1ZmZlclxyXG4gICAgY29uc3Qgc3RhcnRDb2wgPSBNYXRoLm1heCgwLCBNYXRoLmZsb29yKC1jdXJyZW50T2Zmc2V0WCAvIHRoaXMudGlsZVNpemUpIC0gMSk7XHJcbiAgICBjb25zdCBlbmRDb2wgPSBNYXRoLm1pbihcclxuICAgICAgY29scyxcclxuICAgICAgTWF0aC5jZWlsKCgtY3VycmVudE9mZnNldFggKyBjdHguY2FudmFzLndpZHRoKSAvIHRoaXMudGlsZVNpemUpICsgMVxyXG4gICAgKTtcclxuICAgIGNvbnN0IHN0YXJ0Um93ID0gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcigtY3VycmVudE9mZnNldFkgLyB0aGlzLnRpbGVTaXplKSAtIDEpO1xyXG4gICAgY29uc3QgZW5kUm93ID0gTWF0aC5taW4oXHJcbiAgICAgIHJvd3MsXHJcbiAgICAgIE1hdGguY2VpbCgoLWN1cnJlbnRPZmZzZXRZICsgY3R4LmNhbnZhcy5oZWlnaHQpIC8gdGhpcy50aWxlU2l6ZSkgKyAxXHJcbiAgICApO1xyXG5cclxuICAgIGN0eC5zYXZlKCk7IC8vIFNhdmUgY29udGV4dCBzdGF0ZVxyXG5cclxuICAgIC8vIDEuIERyYXcgYmFzZSB0aWxlcyAod2FsbHMsIGNvcnJpZG9ycywgZGVmYXVsdCBmbG9vciwgbGlmdCBiYXNlKVxyXG4gICAgLy8gICAgVGhlc2Ugd2lsbCBub3cgdXNlIHRoZSBjb25zaXN0ZW50IGNvbG9ycyBmcm9tIGdldFRpbGVDb2xvci5cclxuICAgIHRoaXMuZHJhd0Jhc2VUaWxlcyhcclxuICAgICAgY3R4LFxyXG4gICAgICBtYXAsXHJcbiAgICAgIHJvb21zLFxyXG4gICAgICBjdXJyZW50T2Zmc2V0WCxcclxuICAgICAgY3VycmVudE9mZnNldFksXHJcbiAgICAgIGNvbHMsXHJcbiAgICAgIHJvd3MsXHJcbiAgICAgIHN0YXJ0Um93LFxyXG4gICAgICBlbmRSb3csXHJcbiAgICAgIHN0YXJ0Q29sLFxyXG4gICAgICBlbmRDb2xcclxuICAgICk7XHJcblxyXG4gICAgLy8gMi4gRHJhdyBzcGVjaWZpYyByb29tIGZsb29ycyBhbmQgZGVjb3JhdGlvbnNcclxuICAgIC8vICAgIFRoaXMgZnVuY3Rpb24gV0lMTCBhcHBseSBzcGVjaWZpYyBjb2xvcnMgYmFzZWQgb24gcm9vbSB0eXBlLFxyXG4gICAgLy8gICAgYW5kIHN1YnRsZSBwZXItdGlsZSB2YXJpYXRpb25zIFdJVEhJTiB0aGUgcm9vbSBmbG9vci5cclxuICAgIHRoaXMuZHJhd1Jvb21EZXRhaWxzKFxyXG4gICAgICBjdHgsXHJcbiAgICAgIG1hcCxcclxuICAgICAgcm9vbXMsXHJcbiAgICAgIGxpZnRQb3NpdGlvbixcclxuICAgICAgY3VycmVudE9mZnNldFgsXHJcbiAgICAgIGN1cnJlbnRPZmZzZXRZLFxyXG4gICAgICBjb2xzLFxyXG4gICAgICByb3dzLFxyXG4gICAgICBzdGFydFJvdyxcclxuICAgICAgZW5kUm93LFxyXG4gICAgICBzdGFydENvbCxcclxuICAgICAgZW5kQ29sXHJcbiAgICApO1xyXG5cclxuICAgIC8vIDMuIERyYXcgbGlmdCBkZXRhaWxzIChvdmVybGF5aW5nIHJvb20gZmxvb3JzIGlmIG5lZWRlZClcclxuICAgIHRoaXMuZHJhd0xpZnREZXRhaWxzKGN0eCwgbGlmdFBvc2l0aW9uLCBjdXJyZW50T2Zmc2V0WCwgY3VycmVudE9mZnNldFkpO1xyXG5cclxuICAgIC8vIDQuIERyYXcgYm9va3NcclxuICAgIHRoaXMuZHJhd0Jvb2tzKGN0eCwgYm9va3MsIGN1cnJlbnRPZmZzZXRYLCBjdXJyZW50T2Zmc2V0WSwgYm9va0ltYWdlKTtcclxuXHJcbiAgICBjdHgucmVzdG9yZSgpOyAvLyBSZXN0b3JlIGNvbnRleHQgc3RhdGVcclxuICB9XHJcblxyXG4gIC8qKiBEcmF3IGJhc2UgdGlsZXMgKi9cclxuICBkcmF3QmFzZVRpbGVzKGN0eCwgbWFwLCByb29tcywgb2Zmc2V0WCwgb2Zmc2V0WSwgY29scywgcm93cywgc3RhcnRSb3csIGVuZFJvdywgc3RhcnRDb2wsIGVuZENvbCkge1xyXG4gICAgY3R4LnNhdmUoKTtcclxuICAgIGN0eC5zaGFkb3dDb2xvciA9ICd0cmFuc3BhcmVudCc7XHJcblxyXG4gICAgY29uc3Qgd2FsbEVkZ2VDb2xvckRhcmsgPSAnIzM4MzgzOCc7XHJcbiAgICBjb25zdCB3YWxsRWRnZUNvbG9yTGlnaHQgPSAnIzYwNjA2MCc7XHJcbiAgICBjb25zdCB3YWxsVG9wRWRnZUNvbG9yID0gJyM3NTc1NzUnO1xyXG5cclxuICAgIGZvciAobGV0IHIgPSBzdGFydFJvdzsgciA8IGVuZFJvdzsgcisrKSB7XHJcbiAgICAgIGZvciAobGV0IGMgPSBzdGFydENvbDsgYyA8IGVuZENvbDsgYysrKSB7XHJcbiAgICAgICAgY29uc3QgdGlsZVZhbHVlID0gbWFwW3JdPy5bY107XHJcbiAgICAgICAgaWYgKHRpbGVWYWx1ZSA9PT0gdW5kZWZpbmVkKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2NyZWVuWCA9IE1hdGguZmxvb3IoYyAqIHRoaXMudGlsZVNpemUgKyBvZmZzZXRYKTtcclxuICAgICAgICBjb25zdCBzY3JlZW5ZID0gTWF0aC5mbG9vcihyICogdGhpcy50aWxlU2l6ZSArIG9mZnNldFkpO1xyXG4gICAgICAgIC8vIEdldCB0aGUgY29sb3IgLSBub3cgY29uc2lzdGVudCBmb3Igd2FsbHMvY29ycmlkb3JzL2RlZmF1bHQgZmxvb3IvbGlmdFxyXG4gICAgICAgIGNvbnN0IGNvbG9yID0gdGhpcy5nZXRUaWxlQ29sb3IociwgYywgdGlsZVZhbHVlLCByb29tcyk7XHJcblxyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBjb2xvcjtcclxuICAgICAgICBjdHguZmlsbFJlY3Qoc2NyZWVuWCwgc2NyZWVuWSwgdGhpcy50aWxlU2l6ZSwgdGhpcy50aWxlU2l6ZSk7XHJcblxyXG4gICAgICAgIC8vIC0tLSBXYWxsIEVkZ2VzIGFuZCBOb2lzZSAoU3RpbGwgQXBwbGllZCBmb3IgRGV0YWlsKSAtLS1cclxuICAgICAgICBpZiAodGlsZVZhbHVlID09PSBUSUxFX1dBTEwpIHtcclxuICAgICAgICAgIC8vIE5vaXNlIHRleHR1cmUgKGFwcGxpZWQgT04gVE9QIG9mIHRoZSBjb25zaXN0ZW50IGJhc2UgY29sb3IpXHJcbiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwwLDAsMC4wNiknO1xyXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcclxuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KFxyXG4gICAgICAgICAgICAgIHNjcmVlblggKyBNYXRoLnJhbmRvbSgpICogdGhpcy50aWxlU2l6ZSxcclxuICAgICAgICAgICAgICBzY3JlZW5ZICsgTWF0aC5yYW5kb20oKSAqIHRoaXMudGlsZVNpemUsXHJcbiAgICAgICAgICAgICAgMSxcclxuICAgICAgICAgICAgICAxXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gRWRnZSByZW5kZXJpbmcgKGFwcGxpZWQgT04gVE9QKVxyXG4gICAgICAgICAgY29uc3QgZWRnZVNpemUgPSAyO1xyXG4gICAgICAgICAgaWYgKHIgPiAwICYmIG1hcFtyIC0gMV0/LltjXSAhPT0gVElMRV9XQUxMKSB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB3YWxsVG9wRWRnZUNvbG9yO1xyXG4gICAgICAgICAgICBjdHguZmlsbFJlY3Qoc2NyZWVuWCwgc2NyZWVuWSwgdGhpcy50aWxlU2l6ZSwgZWRnZVNpemUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHIgPCByb3dzIC0gMSAmJiBtYXBbciArIDFdPy5bY10gIT09IFRJTEVfV0FMTCkge1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gd2FsbEVkZ2VDb2xvckRhcms7XHJcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdChzY3JlZW5YLCBzY3JlZW5ZICsgdGhpcy50aWxlU2l6ZSAtIGVkZ2VTaXplLCB0aGlzLnRpbGVTaXplLCBlZGdlU2l6ZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoYyA+IDAgJiYgbWFwW3JdPy5bYyAtIDFdICE9PSBUSUxFX1dBTEwpIHtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHdhbGxFZGdlQ29sb3JMaWdodDtcclxuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KHNjcmVlblgsIHNjcmVlblkgKyBlZGdlU2l6ZSwgZWRnZVNpemUsIHRoaXMudGlsZVNpemUgLSBlZGdlU2l6ZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoYyA8IGNvbHMgLSAxICYmIG1hcFtyXT8uW2MgKyAxXSAhPT0gVElMRV9XQUxMKSB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB3YWxsRWRnZUNvbG9yRGFyaztcclxuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KFxyXG4gICAgICAgICAgICAgIHNjcmVlblggKyB0aGlzLnRpbGVTaXplIC0gZWRnZVNpemUsXHJcbiAgICAgICAgICAgICAgc2NyZWVuWSArIGVkZ2VTaXplLFxyXG4gICAgICAgICAgICAgIGVkZ2VTaXplLFxyXG4gICAgICAgICAgICAgIHRoaXMudGlsZVNpemUgLSBlZGdlU2l6ZVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLy8gQ29ybmVyIGxvZ2ljIChyZW1haW5zIHRoZSBzYW1lKVxyXG4gICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICByID4gMCAmJlxyXG4gICAgICAgICAgICBjID4gMCAmJlxyXG4gICAgICAgICAgICBtYXBbciAtIDFdPy5bY10gIT09IFRJTEVfV0FMTCAmJlxyXG4gICAgICAgICAgICBtYXBbcl0/LltjIC0gMV0gIT09IFRJTEVfV0FMTCAmJlxyXG4gICAgICAgICAgICBtYXBbciAtIDFdPy5bYyAtIDFdICE9PSBUSUxFX1dBTExcclxuICAgICAgICAgICkge1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gd2FsbEVkZ2VDb2xvckxpZ2h0O1xyXG4gICAgICAgICAgICBjdHguZmlsbFJlY3Qoc2NyZWVuWCwgc2NyZWVuWSwgZWRnZVNpemUsIGVkZ2VTaXplKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgciA+IDAgJiZcclxuICAgICAgICAgICAgYyA8IGNvbHMgLSAxICYmXHJcbiAgICAgICAgICAgIG1hcFtyIC0gMV0/LltjXSAhPT0gVElMRV9XQUxMICYmXHJcbiAgICAgICAgICAgIG1hcFtyXT8uW2MgKyAxXSAhPT0gVElMRV9XQUxMICYmXHJcbiAgICAgICAgICAgIG1hcFtyIC0gMV0/LltjICsgMV0gIT09IFRJTEVfV0FMTFxyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB3YWxsVG9wRWRnZUNvbG9yO1xyXG4gICAgICAgICAgICBjdHguZmlsbFJlY3Qoc2NyZWVuWCArIHRoaXMudGlsZVNpemUgLSBlZGdlU2l6ZSwgc2NyZWVuWSwgZWRnZVNpemUsIGVkZ2VTaXplKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC8vIC4uLiBwb3RlbnRpYWxseSBvdGhlciBjb3JuZXJzXHJcbiAgICAgICAgfSBlbHNlIGlmICh0aWxlVmFsdWUgPT09IFRJTEVfQ09SUklET1IpIHtcclxuICAgICAgICAgIC8vIENvcnJpZG9yIE5vaXNlIChhcHBsaWVkIE9OIFRPUCBvZiB0aGUgY29uc2lzdGVudCBiYXNlIGNvbG9yKVxyXG4gICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwyNTUsMjU1LDAuMDMpJztcclxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdChcclxuICAgICAgICAgICAgICBzY3JlZW5YICsgTWF0aC5yYW5kb20oKSAqIHRoaXMudGlsZVNpemUsXHJcbiAgICAgICAgICAgICAgc2NyZWVuWSArIE1hdGgucmFuZG9tKCkgKiB0aGlzLnRpbGVTaXplLFxyXG4gICAgICAgICAgICAgIDEsXHJcbiAgICAgICAgICAgICAgMVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBOT1RFOiBObyBzcGVjaWFsIGRyYXdpbmcgbmVlZGVkIGhlcmUgZm9yIFRJTEVfUk9PTV9GTE9PUiBvciBUSUxFX0xJRlRcclxuICAgICAgICAvLyBhcyBkcmF3Um9vbURldGFpbHMgYW5kIGRyYXdMaWZ0RGV0YWlscyBoYW5kbGUgdGhlaXIgc3BlY2lmaWNzLlxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBjdHgucmVzdG9yZSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqIERyYXcgc3BlY2lmaWMgcm9vbSBmbG9vcnMgYW5kIGRlY29yYXRpb25zICovXHJcbiAgZHJhd1Jvb21EZXRhaWxzKFxyXG4gICAgY3R4LFxyXG4gICAgbWFwLFxyXG4gICAgcm9vbXMsXHJcbiAgICBsaWZ0UG9zaXRpb24sXHJcbiAgICBvZmZzZXRYLFxyXG4gICAgb2Zmc2V0WSxcclxuICAgIGNvbHMsXHJcbiAgICByb3dzLFxyXG4gICAgc3RhcnRSb3csXHJcbiAgICBlbmRSb3csXHJcbiAgICBzdGFydENvbCxcclxuICAgIGVuZENvbFxyXG4gICkge1xyXG4gICAgY3R4LnNhdmUoKTtcclxuICAgIGN0eC5zaGFkb3dDb2xvciA9ICd0cmFuc3BhcmVudCc7XHJcblxyXG4gICAgZm9yIChjb25zdCByb29tIG9mIHJvb21zKSB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICByb29tLmNvbCArIHJvb20ud2lkdGggPCBzdGFydENvbCB8fFxyXG4gICAgICAgIHJvb20uY29sID4gZW5kQ29sIHx8XHJcbiAgICAgICAgcm9vbS5yb3cgKyByb29tLmhlaWdodCA8IHN0YXJ0Um93IHx8XHJcbiAgICAgICAgcm9vbS5yb3cgPiBlbmRSb3dcclxuICAgICAgKVxyXG4gICAgICAgIGNvbnRpbnVlO1xyXG5cclxuICAgICAgY29uc3Qgcm9vbVNjcmVlblggPSBNYXRoLmZsb29yKHJvb20uY29sICogdGhpcy50aWxlU2l6ZSArIG9mZnNldFgpO1xyXG4gICAgICBjb25zdCByb29tU2NyZWVuWSA9IE1hdGguZmxvb3Iocm9vbS5yb3cgKiB0aGlzLnRpbGVTaXplICsgb2Zmc2V0WSk7XHJcbiAgICAgIGNvbnN0IHJvb21TY3JlZW5XID0gcm9vbS53aWR0aCAqIHRoaXMudGlsZVNpemU7XHJcbiAgICAgIGNvbnN0IHJvb21TY3JlZW5IID0gcm9vbS5oZWlnaHQgKiB0aGlzLnRpbGVTaXplO1xyXG5cclxuICAgICAgLy8gLS0tIERldGVybWluZSBGbG9vciBDb2xvciBCYXNlZCBvbiBSb29tIFR5cGUgKFRoaXMgbG9naWMgcmVtYWlucykgLS0tXHJcbiAgICAgIGxldCBmbG9vckNvbG9yID0gdGhpcy5iYXNlUm9vbUZsb29yQ29sb3I7IC8vIFN0YXJ0IHdpdGggZGVmYXVsdFxyXG4gICAgICAvLyBVc2UgYSBzZWVkIHRoYXQgY2hhbmdlcyBwZXIgcm9vbSBidXQgaXMgY29uc2lzdGVudCBmb3IgdGhhdCByb29tXHJcbiAgICAgIC8vIEFkZGVkIGZsb29yTnVtYmVyIGRlcGVuZGVuY3kgaWYgYXZhaWxhYmxlIGluIGB0aGlzYCwgb3RoZXJ3aXNlIHVzZSByb29tLmlkXHJcbiAgICAgIGNvbnN0IGZsb29yTnVtID0gdHlwZW9mIHRoaXMuZmxvb3JOdW1iZXIgPT09ICdudW1iZXInID8gdGhpcy5mbG9vck51bWJlciA6IDA7XHJcbiAgICAgIGxldCByb29tU2VlZCA9IHNpbXBsZUhhc2gocm9vbS5pZCkgKyBmbG9vck51bSAqIDEwMDsgLy8gVXNlIGhhc2ggb2YgSUQgZm9yIG1vcmUgdmFyaWF0aW9uXHJcblxyXG4gICAgICBzd2l0Y2ggKHJvb20udHlwZSkge1xyXG4gICAgICAgIGNhc2UgJ2NsYXNzcm9vbSc6XHJcbiAgICAgICAgICBmbG9vckNvbG9yID0gYWRqdXN0Q29sb3JCcmlnaHRuZXNzKCcjYTBjOGUwJywgMC45ICsgKHNpbXBsZUhhc2gocm9vbVNlZWQpICUgMTEpIC8gMTAwKTtcclxuICAgICAgICAgIGJyZWFrOyAvLyBCbHVpc2hcclxuICAgICAgICBjYXNlICdvZmZpY2UnOlxyXG4gICAgICAgICAgZmxvb3JDb2xvciA9IGFkanVzdENvbG9yQnJpZ2h0bmVzcyhcclxuICAgICAgICAgICAgJyNmMGU4YzAnLFxyXG4gICAgICAgICAgICAwLjkgKyAoc2ltcGxlSGFzaChyb29tU2VlZCArIDEpICUgMTEpIC8gMTAwXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgYnJlYWs7IC8vIEJlaWdlXHJcbiAgICAgICAgY2FzZSAnbGlicmFyeSc6XHJcbiAgICAgICAgICBmbG9vckNvbG9yID0gYWRqdXN0Q29sb3JCcmlnaHRuZXNzKFxyXG4gICAgICAgICAgICAnI2Q4YzBhOCcsXHJcbiAgICAgICAgICAgIDAuOSArIChzaW1wbGVIYXNoKHJvb21TZWVkICsgMikgJSAxMSkgLyAxMDBcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBicmVhazsgLy8gV29vZGVuXHJcbiAgICAgICAgY2FzZSAnZ3ltJzpcclxuICAgICAgICAgIGZsb29yQ29sb3IgPSBhZGp1c3RDb2xvckJyaWdodG5lc3MoXHJcbiAgICAgICAgICAgICcjYjBkMGIwJyxcclxuICAgICAgICAgICAgMC45ICsgKHNpbXBsZUhhc2gocm9vbVNlZWQgKyAzKSAlIDExKSAvIDEwMFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGJyZWFrOyAvLyBHcmVlbmlzaFxyXG4gICAgICAgIGNhc2UgJ2xhYic6XHJcbiAgICAgICAgICBmbG9vckNvbG9yID0gYWRqdXN0Q29sb3JCcmlnaHRuZXNzKFxyXG4gICAgICAgICAgICAnI2UwZTBmZicsXHJcbiAgICAgICAgICAgIDAuOSArIChzaW1wbGVIYXNoKHJvb21TZWVkICsgNCkgJSAxMSkgLyAxMDBcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBicmVhazsgLy8gTGlnaHQgYmx1ZS1wdXJwbGVcclxuICAgICAgICBjYXNlICdzdG9yYWdlJzpcclxuICAgICAgICAgIGZsb29yQ29sb3IgPSBhZGp1c3RDb2xvckJyaWdodG5lc3MoXHJcbiAgICAgICAgICAgICcjYjBhMDkwJyxcclxuICAgICAgICAgICAgMC45ICsgKHNpbXBsZUhhc2gocm9vbVNlZWQgKyA1KSAlIDExKSAvIDEwMFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGJyZWFrOyAvLyBHcmF5LWJyb3duXHJcbiAgICAgICAgY2FzZSAndXRpbGl0eSc6XHJcbiAgICAgICAgICBmbG9vckNvbG9yID0gYWRqdXN0Q29sb3JCcmlnaHRuZXNzKFxyXG4gICAgICAgICAgICAnI2IwYjBiMCcsXHJcbiAgICAgICAgICAgIDAuOSArIChzaW1wbGVIYXNoKHJvb21TZWVkICsgNikgJSAxMSkgLyAxMDBcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBicmVhazsgLy8gR3JheSBjb25jcmV0ZVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyAtLS0gRHJhdyBSb29tIEZsb29yIChUaWxlIGJ5IFRpbGUgd2l0aGluIFZpc2libGUgQXJlYSkgLS0tXHJcbiAgICAgIGZvciAoXHJcbiAgICAgICAgbGV0IHIgPSBNYXRoLm1heChyb29tLnJvdywgc3RhcnRSb3cpO1xyXG4gICAgICAgIHIgPCBNYXRoLm1pbihyb29tLnJvdyArIHJvb20uaGVpZ2h0LCBlbmRSb3cpO1xyXG4gICAgICAgIHIrK1xyXG4gICAgICApIHtcclxuICAgICAgICBmb3IgKFxyXG4gICAgICAgICAgbGV0IGMgPSBNYXRoLm1heChyb29tLmNvbCwgc3RhcnRDb2wpO1xyXG4gICAgICAgICAgYyA8IE1hdGgubWluKHJvb20uY29sICsgcm9vbS53aWR0aCwgZW5kQ29sKTtcclxuICAgICAgICAgIGMrK1xyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgY29uc3QgdGlsZVZhbHVlID0gbWFwW3JdPy5bY107XHJcbiAgICAgICAgICAvLyBPbmx5IGRyYXcgaWYgaXQncyBhY3R1YWxseSBhIFRJTEVfUk9PTV9GTE9PUlxyXG4gICAgICAgICAgaWYgKHRpbGVWYWx1ZSA9PT0gVElMRV9ST09NX0ZMT09SKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNjcmVlblggPSBNYXRoLmZsb29yKGMgKiB0aGlzLnRpbGVTaXplICsgb2Zmc2V0WCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHNjcmVlblkgPSBNYXRoLmZsb29yKHIgKiB0aGlzLnRpbGVTaXplICsgb2Zmc2V0WSk7XHJcblxyXG4gICAgICAgICAgICAvLyAtLS0gU3VidGxlIFBlci1UaWxlIFZhcmlhdGlvbiBXSVRISU4gUm9vbSBGbG9vciAoS2VwdCBmb3IgdGV4dHVyZSkgLS0tXHJcbiAgICAgICAgICAgIGNvbnN0IHRpbGVIYXNoID0gc2ltcGxlSGFzaChyICogNTAwMCArIGMgKiAzICsgcm9vbVNlZWQpOyAvLyBJbmNsdWRlIHJvb21TZWVkXHJcbiAgICAgICAgICAgIGNvbnN0IHZhcmlhdGlvbiA9ICgodGlsZUhhc2ggJSAxMSkgLSA1KSAvIDEwMDsgLy8gVmFyaWF0aW9uIC0wLjA1IHRvICswLjA1XHJcbiAgICAgICAgICAgIGNvbnN0IGJyaWdodG5lc3NGYWN0b3IgPSAwLjk4ICsgdmFyaWF0aW9uO1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gYWRqdXN0Q29sb3JCcmlnaHRuZXNzKGZsb29yQ29sb3IsIGJyaWdodG5lc3NGYWN0b3IpO1xyXG4gICAgICAgICAgICAvLyAtLS0gRW5kIFBlci1UaWxlIFZhcmlhdGlvbiAtLS1cclxuXHJcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdChzY3JlZW5YLCBzY3JlZW5ZLCB0aGlzLnRpbGVTaXplLCB0aGlzLnRpbGVTaXplKTtcclxuXHJcbiAgICAgICAgICAgIC8vIE9wdGlvbmFsIGZsb29yIHRleHR1cmUgKHJlbWFpbnMgdGhlIHNhbWUpXHJcbiAgICAgICAgICAgIGlmIChyb29tLnR5cGUgPT09ICdsYWInKSB7XHJcbiAgICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJ3JnYmEoMCwwLDAsMC4wOCknO1xyXG4gICAgICAgICAgICAgIGN0eC5saW5lV2lkdGggPSAxO1xyXG4gICAgICAgICAgICAgIGN0eC5zdHJva2VSZWN0KHNjcmVlblggKyAwLjUsIHNjcmVlblkgKyAwLjUsIHRoaXMudGlsZVNpemUgLSAxLCB0aGlzLnRpbGVTaXplIC0gMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIC0tLSBEcmF3IERlY29yYXRpb25zIChyZW1haW5zIHRoZSBzYW1lKSAtLS1cclxuICAgICAgdGhpcy5kcmF3Um9vbURlY29yYXRpb25zKGN0eCwgcm9vbSwgcm9vbVNjcmVlblgsIHJvb21TY3JlZW5ZLCByb29tU2NyZWVuVywgcm9vbVNjcmVlbkgpO1xyXG4gICAgfVxyXG4gICAgY3R4LnJlc3RvcmUoKTtcclxuICB9XHJcblxyXG4gIC8vIC0tLSBkcmF3TGlmdERldGFpbHMsIGRyYXdSb29tRGVjb3JhdGlvbnMsIGRyYXdCb29rcyByZW1haW4gdW5jaGFuZ2VkIC0tLVxyXG4gIC8vIC4uLiAoa2VlcCB0aGUgZXhpc3RpbmcgY29kZSBmb3IgdGhlc2UgbWV0aG9kcykgLi4uXHJcbiAgLyoqIE5hcnlzdWogZGV0YWxlIHdpbmR5IChwcnp5Y2lzaywga29udHVyKSAqL1xyXG4gIGRyYXdMaWZ0RGV0YWlscyhjdHgsIGxpZnRQb3NpdGlvbiwgb2Zmc2V0WCwgb2Zmc2V0WSkge1xyXG4gICAgaWYgKCFsaWZ0UG9zaXRpb24pIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBzY3JlZW5YID0gTWF0aC5mbG9vcihsaWZ0UG9zaXRpb24udGlsZVggKiB0aGlzLnRpbGVTaXplICsgb2Zmc2V0WCk7XHJcbiAgICBjb25zdCBzY3JlZW5ZID0gTWF0aC5mbG9vcihsaWZ0UG9zaXRpb24udGlsZVkgKiB0aGlzLnRpbGVTaXplICsgb2Zmc2V0WSk7XHJcblxyXG4gICAgLy8gU3ByYXdkxbosIGN6eSB3aW5kYSBqZXN0IHdpZG9jem5hIHByemVkIHJ5c293YW5pZW0gZGV0YWxpXHJcbiAgICBpZiAoXHJcbiAgICAgIHNjcmVlblggKyB0aGlzLnRpbGVTaXplIDwgMCB8fFxyXG4gICAgICBzY3JlZW5YID4gY3R4LmNhbnZhcy53aWR0aCB8fFxyXG4gICAgICBzY3JlZW5ZICsgdGhpcy50aWxlU2l6ZSA8IDAgfHxcclxuICAgICAgc2NyZWVuWSA+IGN0eC5jYW52YXMuaGVpZ2h0XHJcbiAgICApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGN0eC5zYXZlKCk7XHJcbiAgICBjdHguc2hhZG93Q29sb3IgPSAndHJhbnNwYXJlbnQnOyAvLyBCcmFrIGNpZW5pYSBkbGEgZGV0YWxpIHdpbmR5XHJcblxyXG4gICAgLy8gV3lyYcW6bmllanN6YSByYW1rYSB3aW5keVxyXG4gICAgY3R4LnN0cm9rZVN0eWxlID0gJyNkMGQwZDAnOyAvLyBKYXNuYSByYW1rYVxyXG4gICAgY3R4LmxpbmVXaWR0aCA9IDE7XHJcbiAgICBjdHguc3Ryb2tlUmVjdChzY3JlZW5YICsgMC41LCBzY3JlZW5ZICsgMC41LCB0aGlzLnRpbGVTaXplIC0gMSwgdGhpcy50aWxlU2l6ZSAtIDEpO1xyXG4gICAgY3R4LnN0cm9rZVN0eWxlID0gJyM0MDQwNDAnOyAvLyBDaWVtbnkgd2V3bsSZdHJ6bnkgY2llxYRcclxuICAgIGN0eC5zdHJva2VSZWN0KHNjcmVlblggKyAxLjUsIHNjcmVlblkgKyAxLjUsIHRoaXMudGlsZVNpemUgLSAzLCB0aGlzLnRpbGVTaXplIC0gMyk7XHJcblxyXG4gICAgLy8gVWxlcHN6b255IHByenljaXNrXHJcbiAgICBjb25zdCBidXR0b25SYWRpdXMgPSB0aGlzLnRpbGVTaXplICogMC4xNTsgLy8gVHJvY2jEmSB3acSZa3N6eVxyXG4gICAgY29uc3QgYnV0dG9uWCA9IHNjcmVlblggKyB0aGlzLnRpbGVTaXplICogMC44O1xyXG4gICAgY29uc3QgYnV0dG9uWSA9IHNjcmVlblkgKyB0aGlzLnRpbGVTaXplICogMC41O1xyXG5cclxuICAgIC8vIFBvZHN0YXdhIHByenljaXNrdSAoY2llbW5pZWpzemEpXHJcbiAgICBjdHguZmlsbFN0eWxlID0gJyM0NDQnO1xyXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgY3R4LmFyYyhidXR0b25YLCBidXR0b25ZLCBidXR0b25SYWRpdXMsIDAsIE1hdGguUEkgKiAyKTtcclxuICAgIGN0eC5maWxsKCk7XHJcblxyXG4gICAgLy8gU2FtIHByenljaXNrIChjemVyd29ueSlcclxuICAgIGN0eC5maWxsU3R5bGUgPSAnI2ZmNDQ0NCc7XHJcbiAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICBjdHguYXJjKGJ1dHRvblgsIGJ1dHRvblksIGJ1dHRvblJhZGl1cyAqIDAuOCwgMCwgTWF0aC5QSSAqIDIpO1xyXG4gICAgY3R4LmZpbGwoKTtcclxuXHJcbiAgICAvLyBPZGJsYXNrIG5hIHByenljaXNrdVxyXG4gICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSknO1xyXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgY3R4LmFyYyhcclxuICAgICAgYnV0dG9uWCAtIGJ1dHRvblJhZGl1cyAqIDAuMixcclxuICAgICAgYnV0dG9uWSAtIGJ1dHRvblJhZGl1cyAqIDAuMixcclxuICAgICAgYnV0dG9uUmFkaXVzICogMC4zLFxyXG4gICAgICAwLFxyXG4gICAgICBNYXRoLlBJICogMlxyXG4gICAgKTtcclxuICAgIGN0eC5maWxsKCk7XHJcblxyXG4gICAgY3R4LnJlc3RvcmUoKTtcclxuICB9XHJcblxyXG4gIC8qKiBOYXJ5c3VqIGRla29yYWNqZSBkbGEga29ua3JldG5lZ28gcG9rb2p1ICovXHJcbiAgZHJhd1Jvb21EZWNvcmF0aW9ucyhjdHgsIHJvb20sIHgsIHksIHcsIGgpIHtcclxuICAgIC8vIHgsIHkgdG8gbGV3eSBnw7NybnkgcsOzZyBwb2tvanUgbmEgZWtyYW5pZVxyXG4gICAgLy8gdywgaCB0byBzemVyb2tvxZvEhyBpIHd5c29rb8WbxIcgcG9rb2p1IG5hIGVrcmFuaWVcclxuICAgIGNvbnN0IHRzID0gdGhpcy50aWxlU2l6ZTtcclxuICAgIGNvbnN0IG1hcmdpbiA9IHRzICogMC4yOyAvLyBNbmllanN6eSBtYXJnaW5lc1xyXG4gICAgY29uc3Qgb2JqTWFyZ2luID0gdHMgKiAwLjE7IC8vIE9kc3TEmXAgbWnEmWR6eSBvYmlla3RhbWlcclxuICAgIGN0eC5saW5lV2lkdGggPSAxO1xyXG4gICAgY3R4LnN0cm9rZVN0eWxlID0gJyM0NDQnOyAvLyBDaWVtbmllanN6YSBkb215xZtsbmEgb2J3w7Nka2FcclxuXHJcbiAgICAvLyA9PT0gRlVOS0NKRSBQT01PQ05JQ1pFIERPIFJZU09XQU5JQSA9PT1cclxuICAgIGNvbnN0IGRyYXdSZWN0ID0gKHJ4LCByeSwgcncsIHJoLCBjb2xvciwgb3V0bGluZSA9IHRydWUpID0+IHtcclxuICAgICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yO1xyXG4gICAgICBjb25zdCBzY3JlZW5YID0gTWF0aC5mbG9vcih4ICsgcngpO1xyXG4gICAgICBjb25zdCBzY3JlZW5ZID0gTWF0aC5mbG9vcih5ICsgcnkpO1xyXG4gICAgICBjb25zdCBzY3JlZW5XID0gTWF0aC5mbG9vcihydyk7XHJcbiAgICAgIGNvbnN0IHNjcmVlbkggPSBNYXRoLmZsb29yKHJoKTtcclxuICAgICAgY3R4LmZpbGxSZWN0KHNjcmVlblgsIHNjcmVlblksIHNjcmVlblcsIHNjcmVlbkgpO1xyXG4gICAgICBpZiAob3V0bGluZSkge1xyXG4gICAgICAgIGN0eC5zdHJva2VSZWN0KHNjcmVlblggKyAwLjUsIHNjcmVlblkgKyAwLjUsIHNjcmVlblcgLSAxLCBzY3JlZW5IIC0gMSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBkcmF3Q2lyY2xlID0gKGN4LCBjeSwgcmFkaXVzLCBjb2xvciwgb3V0bGluZSA9IHRydWUpID0+IHtcclxuICAgICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yO1xyXG4gICAgICBjb25zdCBzY3JlZW5YID0gTWF0aC5mbG9vcih4ICsgY3gpO1xyXG4gICAgICBjb25zdCBzY3JlZW5ZID0gTWF0aC5mbG9vcih5ICsgY3kpO1xyXG4gICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgIGN0eC5hcmMoc2NyZWVuWCwgc2NyZWVuWSwgTWF0aC5mbG9vcihyYWRpdXMpLCAwLCBNYXRoLlBJICogMik7XHJcbiAgICAgIGN0eC5maWxsKCk7XHJcbiAgICAgIGlmIChvdXRsaW5lKSB7XHJcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgc3dpdGNoIChyb29tLnR5cGUpIHtcclxuICAgICAgY2FzZSAnY2xhc3Nyb29tJzogLy8gU2FsYSBsZWtjeWpuYVxyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjNWQ0MDM3JzsgLy8gQnLEhXpvd2Egb2J3w7Nka2EgZGxhIG1lYmxpXHJcbiAgICAgICAgY29uc3QgZGVza1cgPSB0cyAqIDAuNixcclxuICAgICAgICAgIGRlc2tIID0gdHMgKiAwLjQsXHJcbiAgICAgICAgICBjaGFpckggPSB0cyAqIDAuMjU7XHJcbiAgICAgICAgY29uc3Qgc3BhY2VYID0gdHMgKiAxLjAsXHJcbiAgICAgICAgICBzcGFjZVkgPSB0cyAqIDAuOTtcclxuICAgICAgICAvLyBUYWJsaWNhIG5hIGfDs3JuZWogxZtjaWFuaWVcclxuICAgICAgICBkcmF3UmVjdCh3ICogMC4yNSwgbWFyZ2luLCB3ICogMC41LCB0cyAqIDAuMiwgJyMzMzMnLCB0cnVlKTtcclxuICAgICAgICBkcmF3UmVjdCh3ICogMC4yNSArIDIsIG1hcmdpbiArIDIsIHcgKiAwLjUgLSA0LCB0cyAqIDAuMiAtIDQsICcjNENBRjUwJywgZmFsc2UpOyAvLyBaaWVsb25hIHBvd2llcnpjaG5pYVxyXG5cclxuICAgICAgICAvLyDFgWF3a2kgaSBrcnplc8WCYSB3IHJ6xJlkYWNoXHJcbiAgICAgICAgZm9yIChsZXQgciA9IDA7IDsgcisrKSB7XHJcbiAgICAgICAgICBjb25zdCByb3dZID0gbWFyZ2luICsgdHMgKiAwLjUgKyByICogc3BhY2VZO1xyXG4gICAgICAgICAgaWYgKHJvd1kgKyBkZXNrSCArIGNoYWlySCA+IGggLSBtYXJnaW4pIGJyZWFrOyAvLyBTcHJhd2R6ZW5pZSBjenkgem1pZcWbY2kgc2nEmSByesSFZFxyXG4gICAgICAgICAgZm9yIChsZXQgYyA9IDA7IDsgYysrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbFggPSBtYXJnaW4gKyBjICogc3BhY2VYO1xyXG4gICAgICAgICAgICBpZiAoY29sWCArIGRlc2tXID4gdyAtIG1hcmdpbikgYnJlYWs7IC8vIFNwcmF3ZHplbmllIGN6eSB6bWllxZtjaSBzacSZIGtvbHVtbmFcclxuICAgICAgICAgICAgLy8gxYFhd2thXHJcbiAgICAgICAgICAgIGRyYXdSZWN0KGNvbFgsIHJvd1ksIGRlc2tXLCBkZXNrSCwgJyM4QjQ1MTMnKTtcclxuICAgICAgICAgICAgLy8gS3J6ZXPFgm8gcG9uacW8ZWpcclxuICAgICAgICAgICAgZHJhd1JlY3QoY29sWCArIGRlc2tXICogMC4xLCByb3dZICsgZGVza0ggKyBvYmpNYXJnaW4sIGRlc2tXICogMC44LCBjaGFpckgsICcjNmE0YTNhJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnb2ZmaWNlJzogLy8gQml1cm9cclxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnIzVkNDAzNyc7XHJcbiAgICAgICAgLy8gQml1cmtvXHJcbiAgICAgICAgY29uc3QgdGFibGVXID0gTWF0aC5taW4odyAqIDAuNiwgdHMgKiAyLjUpO1xyXG4gICAgICAgIGNvbnN0IHRhYmxlSCA9IE1hdGgubWluKGggKiAwLjQsIHRzICogMS4yKTtcclxuICAgICAgICBkcmF3UmVjdChtYXJnaW4sIG1hcmdpbiwgdGFibGVXLCB0YWJsZUgsICcjYTA1MjJkJyk7XHJcbiAgICAgICAgLy8gS3J6ZXPFgm8gYml1cm93ZVxyXG4gICAgICAgIGRyYXdSZWN0KG1hcmdpbiArIHRhYmxlVyArIG9iak1hcmdpbiwgbWFyZ2luICsgdGFibGVIICogMC4xLCB0cyAqIDAuNiwgdHMgKiAwLjYsICcjNDQ0Jyk7XHJcbiAgICAgICAgLy8gU3phZmEgbmEgYWt0YVxyXG4gICAgICAgIGNvbnN0IGNhYmluZXRXID0gdHMgKiAwLjg7XHJcbiAgICAgICAgZHJhd1JlY3QodyAtIG1hcmdpbiAtIGNhYmluZXRXLCBtYXJnaW4sIGNhYmluZXRXLCBoIC0gbWFyZ2luICogMiwgJyM2QjRGNDEnKTtcclxuICAgICAgICAvLyBLb21wdXRlciBuYSBiaXVya3UgKHN5bWJvbGljem5pZSlcclxuICAgICAgICBkcmF3UmVjdChtYXJnaW4gKyBvYmpNYXJnaW4sIG1hcmdpbiArIG9iak1hcmdpbiwgdHMgKiAwLjUsIHRzICogMC40LCAnIzMzMycpOyAvLyBNb25pdG9yXHJcbiAgICAgICAgZHJhd1JlY3QoXHJcbiAgICAgICAgICBtYXJnaW4gKyBvYmpNYXJnaW4gKyB0cyAqIDAuMSxcclxuICAgICAgICAgIG1hcmdpbiArIG9iak1hcmdpbiArIHRzICogMC40ICsgMixcclxuICAgICAgICAgIHRzICogMC4zLFxyXG4gICAgICAgICAgdHMgKiAwLjEsXHJcbiAgICAgICAgICAnIzU1NSdcclxuICAgICAgICApOyAvLyBLbGF3aWF0dXJhXHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdsaWJyYXJ5JzogLy8gQmlibGlvdGVrYVxyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjNDAyYTEwJzsgLy8gQ2llbW5pZWpzemEgb2J3w7Nka2EgZGxhIHJlZ2HFgsOzd1xyXG4gICAgICAgIGNvbnN0IHNoZWxmVyA9IHRzICogMC42O1xyXG4gICAgICAgIGNvbnN0IHNoZWxmU3BhY2luZyA9IHRzICogMS41O1xyXG4gICAgICAgIC8vIFJlZ2HFgnkgdyBwaW9uaWVcclxuICAgICAgICBmb3IgKGxldCBzeCA9IG1hcmdpbjsgc3ggPCB3IC0gbWFyZ2luIC0gc2hlbGZXOyBzeCArPSBzaGVsZlNwYWNpbmcpIHtcclxuICAgICAgICAgIGRyYXdSZWN0KHN4LCBtYXJnaW4sIHNoZWxmVywgaCAtIG1hcmdpbiAqIDIsICcjNjU0MzIxJyk7XHJcbiAgICAgICAgICAvLyBMaW5pZSBww7PFgmVrXHJcbiAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAncmdiYSgwLDAsMCwwLjMpJztcclxuICAgICAgICAgIGZvciAobGV0IHNoZWxmWSA9IG1hcmdpbiArIHRzICogMC41OyBzaGVsZlkgPCBoIC0gbWFyZ2luOyBzaGVsZlkgKz0gdHMgKiAwLjcpIHtcclxuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICBjdHgubW92ZVRvKHggKyBzeCwgeSArIHNoZWxmWSk7XHJcbiAgICAgICAgICAgIGN0eC5saW5lVG8oeCArIHN4ICsgc2hlbGZXLCB5ICsgc2hlbGZZKTtcclxuICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJyM0MDJhMTAnOyAvLyBQcnp5d3LDs8SHIGfFgsOzd255IGtvbG9yIG9id8OzZGtpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFN0w7PFgiBkbyBjenl0YW5pYSAoamXFm2xpIGplc3QgbWllanNjZSlcclxuICAgICAgICBpZiAodyA+IHNoZWxmU3BhY2luZyAqIDEuNSkge1xyXG4gICAgICAgICAgY29uc3QgdGFibGVMaWJYID0gc2hlbGZXICsgbWFyZ2luICsgKHcgLSBzaGVsZlcgKiAyIC0gbWFyZ2luICogMiAtIHRzICogMS41KSAvIDI7IC8vIFd5xZtyb2RrdWogc3TDs8WCIG1pxJlkenkgcmVnYcWCYW1pXHJcbiAgICAgICAgICBpZiAodGFibGVMaWJYID4gc2hlbGZXICsgbWFyZ2luKSB7XHJcbiAgICAgICAgICAgIC8vIFVwZXduaWogc2nEmSwgxbxlIGplc3QgbWllanNjZVxyXG4gICAgICAgICAgICBkcmF3UmVjdCh0YWJsZUxpYlgsIGggKiAwLjMsIHRzICogMS41LCBoICogMC40LCAnIzk2NkYzMycpO1xyXG4gICAgICAgICAgICAvLyBLcnplc8WCYSBwcnp5IHN0b2xlXHJcbiAgICAgICAgICAgIGRyYXdSZWN0KHRhYmxlTGliWCArIHRzICogMC4yLCBoICogMC4zIC0gdHMgKiAwLjMsIHRzICogMC41LCB0cyAqIDAuMjUsICcjNmE0YTNhJyk7XHJcbiAgICAgICAgICAgIGRyYXdSZWN0KFxyXG4gICAgICAgICAgICAgIHRhYmxlTGliWCArIHRzICogMC4yLFxyXG4gICAgICAgICAgICAgIGggKiAwLjMgKyBoICogMC40ICsgb2JqTWFyZ2luLFxyXG4gICAgICAgICAgICAgIHRzICogMC41LFxyXG4gICAgICAgICAgICAgIHRzICogMC4yNSxcclxuICAgICAgICAgICAgICAnIzZhNGEzYSdcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdneW0nOiAvLyBTacWCb3duaWFcclxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnIzU1NSc7XHJcbiAgICAgICAgLy8gTWF0eSBkbyDEh3dpY3plxYRcclxuICAgICAgICBkcmF3UmVjdChtYXJnaW4sIG1hcmdpbiwgdyAqIDAuNCwgaCAqIDAuMywgJyM3Nzg4OTknKTtcclxuICAgICAgICBkcmF3UmVjdCh3IC0gbWFyZ2luIC0gdyAqIDAuMywgaCAtIG1hcmdpbiAtIGggKiAwLjQsIHcgKiAwLjMsIGggKiAwLjQsICcjNzc4ODk5Jyk7XHJcbiAgICAgICAgLy8gQmllxbxuaWEgKHN5bWJvbGljem5pZSlcclxuICAgICAgICBkcmF3UmVjdCh3ICogMC42LCBtYXJnaW4sIHRzICogMC44LCB0cyAqIDEuOCwgJyMzMzMnKTtcclxuICAgICAgICBkcmF3UmVjdCh3ICogMC42ICsgdHMgKiAwLjEsIG1hcmdpbiArIHRzICogMC4xLCB0cyAqIDAuNiwgdHMgKiAxLjYsICcjNTU1JywgZmFsc2UpO1xyXG4gICAgICAgIC8vIMWBYXdlY3prYVxyXG4gICAgICAgIGRyYXdSZWN0KG1hcmdpbiwgaCAqIDAuNSwgdHMgKiAxLjUsIHRzICogMC40LCAnIzhCNDUxMycpO1xyXG4gICAgICAgIC8vIFN0b2phayB6IGNpxJnFvGFya2FtaVxyXG4gICAgICAgIGRyYXdSZWN0KHcgLSBtYXJnaW4gLSB0cyAqIDAuNSwgbWFyZ2luLCB0cyAqIDAuNSwgdHMgKiAxLjUsICcjNDQ0Jyk7XHJcbiAgICAgICAgZHJhd0NpcmNsZSh3IC0gbWFyZ2luIC0gdHMgKiAwLjI1LCBtYXJnaW4gKyB0cyAqIDAuMywgdHMgKiAwLjE1LCAnIzY2NicpO1xyXG4gICAgICAgIGRyYXdDaXJjbGUodyAtIG1hcmdpbiAtIHRzICogMC4yNSwgbWFyZ2luICsgdHMgKiAwLjcsIHRzICogMC4xNSwgJyM2NjYnKTtcclxuICAgICAgICBkcmF3Q2lyY2xlKHcgLSBtYXJnaW4gLSB0cyAqIDAuMjUsIG1hcmdpbiArIHRzICogMS4xLCB0cyAqIDAuMTUsICcjNjY2Jyk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdsYWInOiAvLyBMYWJvcmF0b3JpdW1cclxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnIzY2OCc7XHJcbiAgICAgICAgLy8gU3RvxYJ5IGxhYm9yYXRvcnlqbmUgKGTFgnVnaWUpXHJcbiAgICAgICAgY29uc3QgbGFiVGFibGVIID0gdHMgKiAwLjg7XHJcbiAgICAgICAgZHJhd1JlY3QobWFyZ2luLCBtYXJnaW4sIHcgLSBtYXJnaW4gKiAyLCBsYWJUYWJsZUgsICcjZDBkMGQ4Jyk7IC8vIEphc25vc3phcnkgc3TDs8WCXHJcbiAgICAgICAgZHJhd1JlY3QobWFyZ2luLCBoIC0gbWFyZ2luIC0gbGFiVGFibGVILCB3IC0gbWFyZ2luICogMiwgbGFiVGFibGVILCAnI2QwZDBkOCcpO1xyXG4gICAgICAgIC8vIFNwcnrEmXQgbmEgc3RvxYJhY2hcclxuICAgICAgICBkcmF3UmVjdChtYXJnaW4gKyB0cyAqIDAuMiwgbWFyZ2luICsgdHMgKiAwLjEsIHRzICogMC41LCB0cyAqIDAuNSwgJyM0YTkwZTInKTsgLy8gQ2/FmyBuaWViaWVza2llZ29cclxuICAgICAgICBkcmF3UmVjdChtYXJnaW4gKyB0cyAqIDEuMCwgbWFyZ2luICsgdHMgKiAwLjEsIHRzICogMC4zLCB0cyAqIDAuNiwgJyNmNWE2MjMnKTsgLy8gQ2/FmyBwb21hcmHFhGN6b3dlZ29cclxuICAgICAgICBkcmF3Q2lyY2xlKHcgLSBtYXJnaW4gKiAyIC0gdHMgKiAwLjQsIG1hcmdpbiArIGxhYlRhYmxlSCAqIDAuNSwgdHMgKiAwLjIsICcjZTA0MDQwJywgdHJ1ZSk7IC8vIENvxZsgY3plcndvbmVnbyBva3LEhWfFgmVnb1xyXG4gICAgICAgIC8vIFN6YWZrYSB6IG9kY3p5bm5pa2FtaVxyXG4gICAgICAgIGRyYXdSZWN0KFxyXG4gICAgICAgICAgdyAqIDAuNCxcclxuICAgICAgICAgIG1hcmdpbiArIGxhYlRhYmxlSCArIG9iak1hcmdpbixcclxuICAgICAgICAgIHRzLFxyXG4gICAgICAgICAgaCAtIG1hcmdpbiAqIDIgLSBsYWJUYWJsZUggKiAyIC0gb2JqTWFyZ2luICogMixcclxuICAgICAgICAgICcjYTBhMGIwJ1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdzdG9yYWdlJzogLy8gTWFnYXp5blxyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjNGQ0MDMwJztcclxuICAgICAgICAvLyBQw7PFgmtpL3JlZ2HFgnkgbWV0YWxvd2VcclxuICAgICAgICBjb25zdCBtZXRhbFNoZWxmVyA9IHcgLSBtYXJnaW4gKiAyO1xyXG4gICAgICAgIGNvbnN0IG1ldGFsU2hlbGZIID0gdHMgKiAwLjU7XHJcbiAgICAgICAgZHJhd1JlY3QobWFyZ2luLCBtYXJnaW4sIG1ldGFsU2hlbGZXLCBtZXRhbFNoZWxmSCwgJyM5ZTllOWUnKTtcclxuICAgICAgICBkcmF3UmVjdChtYXJnaW4sIGggLSBtYXJnaW4gLSBtZXRhbFNoZWxmSCwgbWV0YWxTaGVsZlcsIG1ldGFsU2hlbGZILCAnIzllOWU5ZScpO1xyXG4gICAgICAgIC8vIFB1ZMWCYVxyXG4gICAgICAgIGNvbnN0IGJveFNpemUgPSB0cyAqIDAuNjtcclxuICAgICAgICBkcmF3UmVjdChtYXJnaW4gKyB0cyAqIDAuMiwgbWFyZ2luICsgbWV0YWxTaGVsZkggKyBvYmpNYXJnaW4sIGJveFNpemUsIGJveFNpemUsICcjYmY4ZjZmJyk7XHJcbiAgICAgICAgZHJhd1JlY3QobWFyZ2luICsgdHMgKiAxLjAsIG1hcmdpbiArIG1ldGFsU2hlbGZIICsgb2JqTWFyZ2luLCBib3hTaXplLCBib3hTaXplLCAnI2JmOGY2ZicpO1xyXG4gICAgICAgIGRyYXdSZWN0KFxyXG4gICAgICAgICAgdyAtIG1hcmdpbiAtIGJveFNpemUgKiAxLjUsXHJcbiAgICAgICAgICBtYXJnaW4gKyBtZXRhbFNoZWxmSCArIG9iak1hcmdpbiAqIDMsXHJcbiAgICAgICAgICBib3hTaXplICogMS4yLFxyXG4gICAgICAgICAgYm94U2l6ZSAqIDAuOCxcclxuICAgICAgICAgICcjYmY4ZjZmJ1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgLy8gU3RhcmUgYml1cmtvIHcgcm9ndVxyXG4gICAgICAgIGRyYXdSZWN0KHcgLSBtYXJnaW4gLSB0cywgaCAtIG1hcmdpbiAtIHRzLCB0cyAqIDAuOCwgdHMgKiAwLjgsICcjNmE0YTNhJyk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICd1dGlsaXR5JzogLy8gUG9taWVzemN6ZW5pZSBnb3Nwb2RhcmN6ZVxyXG4gICAgICBkZWZhdWx0OiAvLyBEb215xZtsbmUsIGplxZtsaSB0eXAgbmllem5hbnlcclxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnIzVkNDAzNyc7XHJcbiAgICAgICAgLy8gU2tyenlua2kvdXJ6xIVkemVuaWFcclxuICAgICAgICBkcmF3UmVjdCh3ICogMC4xLCBoICogMC4xNSwgdyAqIDAuMywgaCAqIDAuMjUsICcjQTA1MjJEJyk7XHJcbiAgICAgICAgZHJhd1JlY3QodyAqIDAuNiwgaCAqIDAuNSwgdyAqIDAuMywgaCAqIDAuNCwgJyNBMDUyMkQnKTtcclxuICAgICAgICAvLyBTemFmYSBtZXRhbG93YVxyXG4gICAgICAgIGRyYXdSZWN0KHcgLSBtYXJnaW4gLSB0cyAqIDAuNSwgbWFyZ2luLCB0cyAqIDAuNSwgaCAtIG1hcmdpbiAqIDIsICcjNzc3Jyk7XHJcbiAgICAgICAgLy8gUnVyeS9rYWJsZSAoc3ltYm9saWN6bmllKVxyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjNTU1JztcclxuICAgICAgICBjdHgubGluZVdpZHRoID0gMztcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4Lm1vdmVUbyh4ICsgbWFyZ2luLCB5ICsgaCAqIDAuOCk7XHJcbiAgICAgICAgY3R4LmxpbmVUbyh4ICsgdyAtIG1hcmdpbiwgeSArIGggKiAwLjgpO1xyXG4gICAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4Lm1vdmVUbyh4ICsgdyAqIDAuNywgeSArIG1hcmdpbik7XHJcbiAgICAgICAgY3R4LmxpbmVUbyh4ICsgdyAqIDAuNywgeSArIGggLSBtYXJnaW4pO1xyXG4gICAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgICAgICBjdHgubGluZVdpZHRoID0gMTsgLy8gUHJ6eXdyw7PEhyBncnVib8WbxIcgbGluaWlcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKiBOYXJ5c3VqIGtzacSFxbxraSAqL1xyXG4gIGRyYXdCb29rcyhjdHgsIGJvb2tzLCBvZmZzZXRYLCBvZmZzZXRZLCBib29rSW1hZ2UpIHtcclxuICAgIGlmICghYm9va3MgfHwgYm9va3MubGVuZ3RoID09PSAwKSByZXR1cm47XHJcbiAgICBjb25zdCBkZWZhdWx0Qm9va1NpemUgPSB0aGlzLnRpbGVTaXplICogMC42O1xyXG5cclxuICAgIGZvciAoY29uc3QgYm9vayBvZiBib29rcykge1xyXG4gICAgICBjb25zdCBpc0NvbGxlY3RlZCA9IGJvb2suaXNDb2xsZWN0ZWQgfHwgYm9vay5jb2xsZWN0ZWQ7IC8vIEhhbmRsZSBib3RoIHBvdGVudGlhbCBwcm9wZXJ0aWVzXHJcbiAgICAgIGlmICghaXNDb2xsZWN0ZWQpIHtcclxuICAgICAgICBjb25zdCBib29rU2l6ZSA9IGJvb2suc2l6ZSB8fCBkZWZhdWx0Qm9va1NpemU7XHJcbiAgICAgICAgLy8gUm91bmQgZHJhd2luZyBjb29yZGluYXRlc1xyXG4gICAgICAgIGNvbnN0IHNjcmVlblggPSBNYXRoLmZsb29yKGJvb2sueCArIG9mZnNldFggLSBib29rU2l6ZSAvIDIpO1xyXG4gICAgICAgIGNvbnN0IHNjcmVlblkgPSBNYXRoLmZsb29yKGJvb2sueSArIG9mZnNldFkgLSBib29rU2l6ZSAvIDIpO1xyXG5cclxuICAgICAgICAvLyBCYXNpYyB2aXNpYmlsaXR5IGNoZWNrXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgc2NyZWVuWCArIGJvb2tTaXplID4gMCAmJlxyXG4gICAgICAgICAgc2NyZWVuWCA8IGN0eC5jYW52YXMud2lkdGggJiZcclxuICAgICAgICAgIHNjcmVlblkgKyBib29rU2l6ZSA+IDAgJiZcclxuICAgICAgICAgIHNjcmVlblkgPCBjdHguY2FudmFzLmhlaWdodFxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgLy8gUHJlZmVyIGJvb2sncyBvd24gZHJhdyBtZXRob2QgaWYgYXZhaWxhYmxlXHJcbiAgICAgICAgICBpZiAodHlwZW9mIGJvb2suZHJhdyA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAvLyBQYXNzIHJvdW5kZWQgY29vcmRpbmF0ZXMgYW5kIHNpemVcclxuICAgICAgICAgICAgYm9vay5kcmF3KGN0eCwgb2Zmc2V0WCwgb2Zmc2V0WSwgYm9va0ltYWdlKTsgLy8gYm9vay5kcmF3IHNob3VsZCBoYW5kbGUgaXRzIG93biByb3VuZGluZyBpZiBuZWVkZWQgaW50ZXJuYWxseVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gRmFsbGJhY2sgZHJhd2luZ1xyXG4gICAgICAgICAgICBpZiAoYm9va0ltYWdlKSB7XHJcbiAgICAgICAgICAgICAgLy8gRHJhdyB3aXRoIHJvdW5kZWQgY29vcmRpbmF0ZXNcclxuICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKGJvb2tJbWFnZSwgc2NyZWVuWCwgc2NyZWVuWSwgYm9va1NpemUsIGJvb2tTaXplKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyM4ZDZlNjMnOyAvLyBCcm93biBib29rIGNvbG9yXHJcbiAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KHNjcmVlblgsIHNjcmVlblksIGJvb2tTaXplLCBib29rU2l6ZSk7XHJcbiAgICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJyM1ZDQwMzcnOyAvLyBEYXJrZXIgb3V0bGluZVxyXG4gICAgICAgICAgICAgIGN0eC5saW5lV2lkdGggPSAxO1xyXG4gICAgICAgICAgICAgIGN0eC5zdHJva2VSZWN0KHNjcmVlblggKyAwLjUsIHNjcmVlblkgKyAwLjUsIGJvb2tTaXplIC0gMSwgYm9va1NpemUgLSAxKTsgLy8gRHJhdyBib3JkZXIgbW9yZSBjbGVhcmx5XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn0gLy8gRW5kIGNsYXNzIE1hcFJlbmRlcmVyXHJcbiIsIi8vIHNyYy9tYXAvbWFwR2VuZXJhdG9yLmpzXHJcblxyXG5pbXBvcnQge1xyXG4gIFRJTEVfV0FMTCxcclxuICBUSUxFX0NPUlJJRE9SLFxyXG4gIFRJTEVfUk9PTV9GTE9PUixcclxuICBUSUxFX0xJRlQsXHJcbiAgR1lNX0NIQU5DRV9PTl9GSVJTVF9GTE9PUixcclxufSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xyXG5pbXBvcnQgeyByYW5kb21JbnQsIHBlcmZvcm1CRlMgfSBmcm9tICcuLi91dGlscy9tYXAuanMnOyAvLyBBc3N1bWluZyBwZXJmb3JtQkZTIGlzIGluIG1hcC5qc1xyXG5cclxuLy8gLS0tIE1vZHVsZS1sZXZlbCBzdGF0ZSBmb3IgbGlmdCBjb25zaXN0ZW5jeSAtLS1cclxubGV0IGNvbnNpc3RlbnRMaWZ0Q29vcmRzID0gbnVsbDtcclxuXHJcbi8vIC0tLSBHZW5lcmF0aW9uIFBhcmFtZXRlcnMgKERlZmF1bHRzKSAtLS1cclxuY29uc3QgREVGQVVMVF9HRU5fUEFSQU1TID0ge1xyXG4gIG1pblJvb21TaXplOiA1LFxyXG4gIG1heFJvb21TaXplOiAxMCxcclxuICBjb3JyaWRvclRoaWNrbmVzczogMSwgLy8gQ3VycmVudGx5IGhhcmRjb2RlZCB0byAxIGluIGNhcnZpbmcgZnVuY3NcclxuICBudW1Sb29tczogMTIsXHJcbiAgbWF4Um9vbUF0dGVtcHRzOiAyMDAsXHJcbiAgcm9vbVR5cGVXZWlnaHRzOiB7XHJcbiAgICBjbGFzc3Jvb206IDUwLFxyXG4gICAgb2ZmaWNlOiAyNSxcclxuICAgIGxpYnJhcnk6IDE1LFxyXG4gICAgZ3ltOiAwLCAvLyBCYXNlIHdlaWdodCwgYWRqdXN0ZWQgYmFzZWQgb24gZmxvb3JcclxuICAgIHV0aWxpdHk6IDEwLFxyXG4gIH0sXHJcbn07XHJcblxyXG4vLyAtLS0gQ29yZSBHZW5lcmF0aW9uIEZ1bmN0aW9uIC0tLVxyXG4vLyBJbiBnZW5lcmF0ZUxldmVsRGF0YSwgbWFrZSBzdXJlIHRvIHBhc3MgYHJvb21zYCB0byBgX3BsYWNlTGlmdGBcclxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlTGV2ZWxEYXRhKGNvbmZpZykge1xyXG4gIGNvbnN0IHsgY29scywgcm93cywgZmxvb3JOdW1iZXIsIG1pbkZsb29yLCB0aWxlU2l6ZSwgZ2VuZXJhdGlvblBhcmFtczogdXNlclBhcmFtcyB9ID0gY29uZmlnO1xyXG4gIGNvbnN0IGdlblBhcmFtcyA9IHsgLi4uREVGQVVMVF9HRU5fUEFSQU1TLCAuLi51c2VyUGFyYW1zIH07XHJcblxyXG4gIGdlblBhcmFtcy5yb29tVHlwZVdlaWdodHMuZ3ltID0gZmxvb3JOdW1iZXIgPT09IG1pbkZsb29yID8gR1lNX0NIQU5DRV9PTl9GSVJTVF9GTE9PUiAqIDEwMCA6IDA7XHJcblxyXG4gIGlmIChmbG9vck51bWJlciA9PT0gbWluRmxvb3IpIHtcclxuICAgIGNvbnNpc3RlbnRMaWZ0Q29vcmRzID0gbnVsbDtcclxuICAgIGNvbnNvbGUubG9nKGBbTWFwR2VuIEZsb29yICR7Zmxvb3JOdW1iZXJ9XSBSZXNldCBjb25zaXN0ZW50IGxpZnQgY29vcmRzIGZvciB0aGUgZmlyc3QgZmxvb3IuYCk7XHJcbiAgfVxyXG5cclxuICBjb25zb2xlLmxvZyhgW01hcEdlbiBGbG9vciAke2Zsb29yTnVtYmVyfV0gU3RhcnRpbmcgbWFwIGdlbmVyYXRpb24gKCR7Y29sc314JHtyb3dzfSkuLi5gKTtcclxuICBjb25zdCBtYXAgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiByb3dzIH0sICgpID0+IEFycmF5KGNvbHMpLmZpbGwoVElMRV9XQUxMKSk7XHJcbiAgY29uc3Qgcm9vbXMgPSBbXTsgLy8gVGhpcyBpcyB0aGUgYHJvb21zTGlzdGBcclxuICBsZXQgbGlmdFBvc2l0aW9uID0gbnVsbDtcclxuXHJcbiAgX3BsYWNlUm9vbXMobWFwLCByb29tcywgY29scywgcm93cywgZ2VuUGFyYW1zKTsgLy8gcm9vbXMgaXMgcG9wdWxhdGVkIGhlcmVcclxuXHJcbiAgaWYgKHJvb21zLmxlbmd0aCA8IDIgJiYgZmxvb3JOdW1iZXIgIT09IG1pbkZsb29yKSB7XHJcbiAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgIGBbTWFwR2VuIEZsb29yICR7Zmxvb3JOdW1iZXJ9XSBQbGFjZWQgb25seSAke3Jvb21zLmxlbmd0aH0gcm9vbXMuIEV4cGVjdCBsaW1pdGVkIGNvbm5lY3Rpdml0eS5gXHJcbiAgICApO1xyXG4gIH0gZWxzZSBpZiAocm9vbXMubGVuZ3RoID49IDIpIHtcclxuICAgIF9jb25uZWN0Um9vbXNCZXR0ZXIobWFwLCByb29tcywgY29scywgcm93cyk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgcGxhY2VkTGlmdERhdGEgPSBfcGxhY2VMaWZ0KFxyXG4gICAgICBtYXAsXHJcbiAgICAgIGNvbHMsXHJcbiAgICAgIHJvd3MsXHJcbiAgICAgIGZsb29yTnVtYmVyLFxyXG4gICAgICBtaW5GbG9vcixcclxuICAgICAgdGlsZVNpemUsXHJcbiAgICAgIGNvbnNpc3RlbnRMaWZ0Q29vcmRzLFxyXG4gICAgICByb29tcyAvLyBQQVNTIFRIRSBHRU5FUkFURUQgUk9PTVMgTElTVCBIRVJFXHJcbiAgICApO1xyXG4gICAgbGlmdFBvc2l0aW9uID0gcGxhY2VkTGlmdERhdGEucG9zaXRpb247XHJcbiAgICBpZiAocGxhY2VkTGlmdERhdGEuY29vcmRzKSB7XHJcbiAgICAgIGNvbnNpc3RlbnRMaWZ0Q29vcmRzID0gcGxhY2VkTGlmdERhdGEuY29vcmRzO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKGBbTWFwR2VuIEZsb29yICR7Zmxvb3JOdW1iZXJ9XSBDUklUSUNBTDogTGlmdCBwbGFjZW1lbnQgZmFpbGVkOmAsIGVycm9yKTtcclxuICAgIHRocm93IG5ldyBFcnJvcihgTGlmdCBwbGFjZW1lbnQgZmFpbGVkIG9uIGZsb29yICR7Zmxvb3JOdW1iZXJ9OiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgfVxyXG5cclxuICBfZW5zdXJlTWFwQm9yZGVycyhtYXAsIGNvbHMsIHJvd3MpO1xyXG5cclxuICBpZiAobGlmdFBvc2l0aW9uICYmICFfaXNMaWZ0UmVhY2hhYmxlKG1hcCwgbGlmdFBvc2l0aW9uLCBjb2xzLCByb3dzKSkge1xyXG4gICAgY29uc29sZS53YXJuKFxyXG4gICAgICBgW01hcFZhbGlkYXRpb24gRmxvb3IgJHtmbG9vck51bWJlcn1dIExpZnQgYXQgdGlsZSgke2xpZnRQb3NpdGlvbi50aWxlWH0sICR7bGlmdFBvc2l0aW9uLnRpbGVZfSkgaW5pdGlhbGx5IHVucmVhY2hhYmxlLiBBdHRlbXB0aW5nIGZpbmFsIGZvcmNlIGNvbm5lY3Rpb24uYFxyXG4gICAgKTtcclxuICAgIGNvbnN0IGNvbm5lY3RlZCA9IF9mb3JjZUNvbm5lY3Rpb25Ub1BvaW50KFxyXG4gICAgICBtYXAsXHJcbiAgICAgIGxpZnRQb3NpdGlvbi50aWxlWCxcclxuICAgICAgbGlmdFBvc2l0aW9uLnRpbGVZLFxyXG4gICAgICBjb2xzLFxyXG4gICAgICByb3dzXHJcbiAgICApO1xyXG4gICAgaWYgKCFjb25uZWN0ZWQgfHwgIV9pc0xpZnRSZWFjaGFibGUobWFwLCBsaWZ0UG9zaXRpb24sIGNvbHMsIHJvd3MpKSB7XHJcbiAgICAgIGNvbnN0IGVycm9yTXNnID0gYENSSVRJQ0FMOiBQbGFjZWQgbGlmdCBhdCB0aWxlKCR7bGlmdFBvc2l0aW9uLnRpbGVYfSwgJHtsaWZ0UG9zaXRpb24udGlsZVl9KSBpcyBVTlJFQUNIQUJMRSBldmVuIGFmdGVyIGZvcmNlIGNvbm5lY3QhIEdlbmVyYXRpb24gZmFpbGVkLmA7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFtNYXBHZW4gRmxvb3IgJHtmbG9vck51bWJlcn1dICR7ZXJyb3JNc2d9YCk7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTGlmdCBpcyB1bnJlYWNoYWJsZSBvbiBmbG9vciAke2Zsb29yTnVtYmVyfS4gQ2Fubm90IHByb2NlZWQuYCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICBgW01hcFZhbGlkYXRpb24gRmxvb3IgJHtmbG9vck51bWJlcn1dIExpZnQgY29ubmVjdGlvbiBzdWNjZXNzZnVsIGFmdGVyIHNlY29uZCBhdHRlbXB0LmBcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9IGVsc2UgaWYgKGxpZnRQb3NpdGlvbikge1xyXG4gICAgY29uc29sZS5sb2coXHJcbiAgICAgIGBbTWFwVmFsaWRhdGlvbiBGbG9vciAke2Zsb29yTnVtYmVyfV0gTGlmdCBhdCB0aWxlKCR7bGlmdFBvc2l0aW9uLnRpbGVYfSwgJHtsaWZ0UG9zaXRpb24udGlsZVl9KSBpcyByZWFjaGFibGUuYFxyXG4gICAgKTtcclxuICB9IGVsc2Uge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBNYXAgZ2VuZXJhdGVkIHdpdGhvdXQgYSB2YWxpZCBsaWZ0IHBvc2l0aW9uIG9uIGZsb29yICR7Zmxvb3JOdW1iZXJ9LmApO1xyXG4gIH1cclxuXHJcbiAgY29uc29sZS5sb2coYFtNYXBHZW4gRmxvb3IgJHtmbG9vck51bWJlcn1dIE1hcCBnZW5lcmF0aW9uIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkuYCk7XHJcbiAgcmV0dXJuIHsgbWFwLCByb29tcywgbGlmdFBvc2l0aW9uIH07XHJcbn1cclxuXHJcbi8vIC0tLSBIZWxwZXI6IFBsYWNlIFJvb21zIC0tLVxyXG5mdW5jdGlvbiBfcGxhY2VSb29tcyhtYXAsIHJvb21zLCBjb2xzLCByb3dzLCBnZW5QYXJhbXMpIHtcclxuICBjb25zdCB7IG1pblJvb21TaXplLCBtYXhSb29tU2l6ZSwgbnVtUm9vbXMsIG1heFJvb21BdHRlbXB0cywgcm9vbVR5cGVXZWlnaHRzIH0gPSBnZW5QYXJhbXM7XHJcbiAgbGV0IHJvb21BdHRlbXB0cyA9IDA7XHJcblxyXG4gIGNvbnN0IHdlaWdodGVkVHlwZXMgPSBbXTtcclxuICBsZXQgdG90YWxXZWlnaHQgPSAwO1xyXG4gIGZvciAoY29uc3QgdHlwZSBpbiByb29tVHlwZVdlaWdodHMpIHtcclxuICAgIGNvbnN0IHdlaWdodCA9IHJvb21UeXBlV2VpZ2h0c1t0eXBlXTtcclxuICAgIGlmICh3ZWlnaHQgPiAwKSB7XHJcbiAgICAgIHRvdGFsV2VpZ2h0ICs9IHdlaWdodDtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3ZWlnaHQ7IGkrKykge1xyXG4gICAgICAgIHdlaWdodGVkVHlwZXMucHVzaCh0eXBlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICAvLyBFbnN1cmUgd2VpZ2h0ZWRUeXBlcyBpcyBub3QgZW1wdHkgaWYgYWxsIHdlaWdodHMgYXJlIDAgKGVkZ2UgY2FzZSlcclxuICBpZiAod2VpZ2h0ZWRUeXBlcy5sZW5ndGggPT09IDApIHtcclxuICAgIHdlaWdodGVkVHlwZXMucHVzaCgndXRpbGl0eScpOyAvLyBEZWZhdWx0IGZhbGxiYWNrXHJcbiAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgIFwiW01hcEdlbiBSb29tc10gTm8gcm9vbSB0eXBlIHdlaWdodHMgcHJvdmlkZWQgb3IgYWxsIGFyZSB6ZXJvLiBEZWZhdWx0aW5nIHRvICd1dGlsaXR5Jy5cIlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHdoaWxlIChyb29tcy5sZW5ndGggPCBudW1Sb29tcyAmJiByb29tQXR0ZW1wdHMgPCBtYXhSb29tQXR0ZW1wdHMpIHtcclxuICAgIHJvb21BdHRlbXB0cysrO1xyXG4gICAgY29uc3Qgcm9vbVdpZHRoID0gcmFuZG9tSW50KG1pblJvb21TaXplLCBtYXhSb29tU2l6ZSk7XHJcbiAgICBjb25zdCByb29tSGVpZ2h0ID0gcmFuZG9tSW50KG1pblJvb21TaXplLCBtYXhSb29tU2l6ZSk7XHJcbiAgICAvLyBFbnN1cmUgcm9vbSBmaXRzIHdpdGhpbiBtYXAgYm91bmRhcmllcyAobGVhdmluZyAxLXRpbGUgYm9yZGVyKVxyXG4gICAgY29uc3Qgcm9vbUNvbCA9IHJhbmRvbUludCgxLCBjb2xzIC0gcm9vbVdpZHRoIC0gMSk7XHJcbiAgICBjb25zdCByb29tUm93ID0gcmFuZG9tSW50KDEsIHJvd3MgLSByb29tSGVpZ2h0IC0gMSk7XHJcblxyXG4gICAgY29uc3Qgcm9vbVR5cGUgPSB3ZWlnaHRlZFR5cGVzW3JhbmRvbUludCgwLCB3ZWlnaHRlZFR5cGVzLmxlbmd0aCAtIDEpXTtcclxuXHJcbiAgICBjb25zdCBuZXdSb29tID0ge1xyXG4gICAgICBjb2w6IHJvb21Db2wsXHJcbiAgICAgIHJvdzogcm9vbVJvdyxcclxuICAgICAgd2lkdGg6IHJvb21XaWR0aCxcclxuICAgICAgaGVpZ2h0OiByb29tSGVpZ2h0LFxyXG4gICAgICB0eXBlOiByb29tVHlwZSxcclxuICAgICAgaWQ6IGByb29tXyR7cm9vbXMubGVuZ3RoICsgMX1gLFxyXG4gICAgICBjZW50ZXJUaWxlWDogTWF0aC5mbG9vcihyb29tQ29sICsgcm9vbVdpZHRoIC8gMiksXHJcbiAgICAgIGNlbnRlclRpbGVZOiBNYXRoLmZsb29yKHJvb21Sb3cgKyByb29tSGVpZ2h0IC8gMiksXHJcbiAgICAgIGNvbm5lY3RlZDogZmFsc2UsXHJcbiAgICB9O1xyXG5cclxuICAgIGxldCBvdmVybGFwcyA9IGZhbHNlO1xyXG4gICAgY29uc3QgYnVmZmVyID0gMjsgLy8gS2VlcCBhIGJ1ZmZlciBiZXR3ZWVuIHJvb21zXHJcbiAgICBmb3IgKGNvbnN0IGV4aXN0aW5nUm9vbSBvZiByb29tcykge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgbmV3Um9vbS5jb2wgPCBleGlzdGluZ1Jvb20uY29sICsgZXhpc3RpbmdSb29tLndpZHRoICsgYnVmZmVyICYmXHJcbiAgICAgICAgbmV3Um9vbS5jb2wgKyBuZXdSb29tLndpZHRoICsgYnVmZmVyID4gZXhpc3RpbmdSb29tLmNvbCAmJlxyXG4gICAgICAgIG5ld1Jvb20ucm93IDwgZXhpc3RpbmdSb29tLnJvdyArIGV4aXN0aW5nUm9vbS5oZWlnaHQgKyBidWZmZXIgJiZcclxuICAgICAgICBuZXdSb29tLnJvdyArIG5ld1Jvb20uaGVpZ2h0ICsgYnVmZmVyID4gZXhpc3RpbmdSb29tLnJvd1xyXG4gICAgICApIHtcclxuICAgICAgICBvdmVybGFwcyA9IHRydWU7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoIW92ZXJsYXBzKSB7XHJcbiAgICAgIHJvb21zLnB1c2gobmV3Um9vbSk7XHJcbiAgICAgIC8vIENhcnZlIHJvb20gZmxvb3JcclxuICAgICAgZm9yIChsZXQgciA9IG5ld1Jvb20ucm93OyByIDwgbmV3Um9vbS5yb3cgKyBuZXdSb29tLmhlaWdodDsgcisrKSB7XHJcbiAgICAgICAgZm9yIChsZXQgYyA9IG5ld1Jvb20uY29sOyBjIDwgbmV3Um9vbS5jb2wgKyBuZXdSb29tLndpZHRoOyBjKyspIHtcclxuICAgICAgICAgIC8vIERvdWJsZSBjaGVjayBib3VuZHMganVzdCBpbiBjYXNlIGNhbGN1bGF0aW9uIHdhcyBvZmZcclxuICAgICAgICAgIGlmIChyID49IDAgJiYgciA8IHJvd3MgJiYgYyA+PSAwICYmIGMgPCBjb2xzKSB7XHJcbiAgICAgICAgICAgIG1hcFtyXVtjXSA9IFRJTEVfUk9PTV9GTE9PUjtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgaWYgKHJvb21zLmxlbmd0aCA8IG51bVJvb21zKSB7XHJcbiAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgIGBbTWFwR2VuIFJvb21zXSBQbGFjZWQgb25seSAke3Jvb21zLmxlbmd0aH0vJHtudW1Sb29tc30gcm9vbXMgYWZ0ZXIgJHtyb29tQXR0ZW1wdHN9IGF0dGVtcHRzLmBcclxuICAgICk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnNvbGUubG9nKGBbTWFwR2VuIFJvb21zXSBQbGFjZWQgJHtyb29tcy5sZW5ndGh9IHJvb21zIGFmdGVyICR7cm9vbUF0dGVtcHRzfSBhdHRlbXB0cy5gKTtcclxuICB9XHJcbn1cclxuXHJcbi8vIC0tLSBIZWxwZXI6IENvbm5lY3QgUm9vbXMgLS0tXHJcbmZ1bmN0aW9uIF9jb25uZWN0Um9vbXNCZXR0ZXIobWFwLCByb29tcywgY29scywgcm93cykge1xyXG4gIGlmIChyb29tcy5sZW5ndGggPCAyKSByZXR1cm47XHJcbiAgY29uc29sZS5sb2coYFtNYXBHZW4gQ29ubmVjdF0gQ29ubmVjdGluZyAke3Jvb21zLmxlbmd0aH0gcm9vbXMgKGltcHJvdmVkKS4uLmApO1xyXG5cclxuICAvLyBVc2UgYSBTZXQgZm9yIGZhc3RlciBjaGVja2luZyBvZiBjb25uZWN0ZWQgc3RhdHVzXHJcbiAgY29uc3QgY29ubmVjdGVkU2V0ID0gbmV3IFNldChbcm9vbXNbMF0uaWRdKTtcclxuICBsZXQgdW5jb25uZWN0ZWRSb29tcyA9IHJvb21zLnNsaWNlKDEpOyAvLyBTdGFydCB3aXRoIGFsbCBidXQgdGhlIGZpcnN0XHJcblxyXG4gIHdoaWxlICh1bmNvbm5lY3RlZFJvb21zLmxlbmd0aCA+IDApIHtcclxuICAgIGxldCBiZXN0RGlzdGFuY2VTcSA9IEluZmluaXR5O1xyXG4gICAgbGV0IGJlc3RVbmNvbm5lY3RlZFJvb20gPSBudWxsO1xyXG4gICAgbGV0IGJlc3RDb25uZWN0ZWRSb29tSWQgPSBudWxsOyAvLyBTdG9yZSBJRCBvZiB0aGUgY29ubmVjdGVkIHJvb21cclxuICAgIGxldCBiZXN0VW5jb25uZWN0ZWRJbmRleCA9IC0xO1xyXG5cclxuICAgIC8vIEZpbmQgdGhlIHVuY29ubmVjdGVkIHJvb20gY2xvc2VzdCB0byBBTlkgY29ubmVjdGVkIHJvb21cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdW5jb25uZWN0ZWRSb29tcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCByb29tVSA9IHVuY29ubmVjdGVkUm9vbXNbaV07XHJcbiAgICAgIGZvciAoY29uc3Qgcm9vbUMgb2Ygcm9vbXMpIHtcclxuICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggQUxMIHJvb21zXHJcbiAgICAgICAgaWYgKGNvbm5lY3RlZFNldC5oYXMocm9vbUMuaWQpKSB7XHJcbiAgICAgICAgICAvLyBDaGVjayBpZiByb29tQyBpcyBjb25uZWN0ZWRcclxuICAgICAgICAgIGNvbnN0IGR4ID0gcm9vbVUuY2VudGVyVGlsZVggLSByb29tQy5jZW50ZXJUaWxlWDtcclxuICAgICAgICAgIGNvbnN0IGR5ID0gcm9vbVUuY2VudGVyVGlsZVkgLSByb29tQy5jZW50ZXJUaWxlWTtcclxuICAgICAgICAgIGNvbnN0IGRpc3RTcSA9IGR4ICogZHggKyBkeSAqIGR5O1xyXG4gICAgICAgICAgaWYgKGRpc3RTcSA8IGJlc3REaXN0YW5jZVNxKSB7XHJcbiAgICAgICAgICAgIGJlc3REaXN0YW5jZVNxID0gZGlzdFNxO1xyXG4gICAgICAgICAgICBiZXN0VW5jb25uZWN0ZWRSb29tID0gcm9vbVU7XHJcbiAgICAgICAgICAgIGJlc3RDb25uZWN0ZWRSb29tSWQgPSByb29tQy5pZDtcclxuICAgICAgICAgICAgYmVzdFVuY29ubmVjdGVkSW5kZXggPSBpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChiZXN0VW5jb25uZWN0ZWRSb29tICYmIGJlc3RDb25uZWN0ZWRSb29tSWQgIT09IG51bGwpIHtcclxuICAgICAgLy8gRmluZCB0aGUgYWN0dWFsIGNvbm5lY3RlZCByb29tIG9iamVjdCB1c2luZyB0aGUgSURcclxuICAgICAgY29uc3QgYmVzdENvbm5lY3RlZFJvb20gPSByb29tcy5maW5kKChyKSA9PiByLmlkID09PSBiZXN0Q29ubmVjdGVkUm9vbUlkKTtcclxuICAgICAgaWYgKCFiZXN0Q29ubmVjdGVkUm9vbSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgICBgW01hcEdlbiBDb25uZWN0XSBFcnJvcjogQ291bGQgbm90IGZpbmQgY29ubmVjdGVkIHJvb20gd2l0aCBJRCAke2Jlc3RDb25uZWN0ZWRSb29tSWR9LiBTa2lwcGluZyBjb25uZWN0aW9uLmBcclxuICAgICAgICApO1xyXG4gICAgICAgIC8vIFJlbW92ZSB0aGUgcHJvYmxlbWF0aWMgdW5jb25uZWN0ZWQgcm9vbSB0byBhdm9pZCBpbmZpbml0ZSBsb29wXHJcbiAgICAgICAgdW5jb25uZWN0ZWRSb29tcy5zcGxpY2UoYmVzdFVuY29ubmVjdGVkSW5kZXgsIDEpO1xyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBfY2FydmVDb3JyaWRvckJldHdlZW4obWFwLCBiZXN0Q29ubmVjdGVkUm9vbSwgYmVzdFVuY29ubmVjdGVkUm9vbSwgY29scywgcm93cyk7XHJcbiAgICAgIGNvbm5lY3RlZFNldC5hZGQoYmVzdFVuY29ubmVjdGVkUm9vbS5pZCk7IC8vIEFkZCB0aGUgbmV3bHkgY29ubmVjdGVkIHJvb20gSUQgdG8gdGhlIHNldFxyXG4gICAgICB1bmNvbm5lY3RlZFJvb21zLnNwbGljZShiZXN0VW5jb25uZWN0ZWRJbmRleCwgMSk7IC8vIFJlbW92ZSBmcm9tIHVuY29ubmVjdGVkIGxpc3RcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgJ1tNYXBHZW4gQ29ubmVjdF0gQ291bGQgbm90IGZpbmQgbmV4dCBwYWlyIG9mIHJvb21zIHRvIGNvbm5lY3QuIEJyZWFraW5nIGxvb3AuIFJlbWFpbmluZyB1bmNvbm5lY3RlZDonLFxyXG4gICAgICAgIHVuY29ubmVjdGVkUm9vbXMubWFwKChyKSA9PiByLmlkKVxyXG4gICAgICApO1xyXG4gICAgICBicmVhazsgLy8gQXZvaWQgaW5maW5pdGUgbG9vcCBpZiBzb21ldGhpbmcgd2VudCB3cm9uZ1xyXG4gICAgfVxyXG4gIH1cclxuICBjb25zb2xlLmxvZyhgW01hcEdlbiBDb25uZWN0XSBGaW5pc2hlZCBjb25uZWN0aW5nIHJvb21zLiBDb25uZWN0ZWQgY291bnQ6ICR7Y29ubmVjdGVkU2V0LnNpemV9YCk7XHJcbn1cclxuXHJcbi8vIC0tLSBIZWxwZXI6IENhcnZlIENvcnJpZG9ycyAtLS1cclxuZnVuY3Rpb24gX2NhcnZlQ29ycmlkb3JCZXR3ZWVuKG1hcCwgcm9vbUEsIHJvb21CLCBjb2xzLCByb3dzKSB7XHJcbiAgY29uc3QgeyBjZW50ZXJUaWxlWDogYXgsIGNlbnRlclRpbGVZOiBheSB9ID0gcm9vbUE7XHJcbiAgY29uc3QgeyBjZW50ZXJUaWxlWDogYngsIGNlbnRlclRpbGVZOiBieSB9ID0gcm9vbUI7XHJcbiAgLy8gUmFuZG9tbHkgY2hvb3NlIEwtc2hhcGUgZGlyZWN0aW9uIChIb3Jpem9udGFsIHRoZW4gVmVydGljYWwsIG9yIFZlcnRpY2FsIHRoZW4gSG9yaXpvbnRhbClcclxuICBpZiAoTWF0aC5yYW5kb20oKSA8IDAuNSkge1xyXG4gICAgLy8gSCB0aGVuIFZcclxuICAgIF9jYXJ2ZUhvcml6b250YWxDb3JyaWRvcihtYXAsIGF5LCBheCwgYngsIGNvbHMsIHJvd3MpO1xyXG4gICAgX2NhcnZlVmVydGljYWxDb3JyaWRvcihtYXAsIGJ4LCBheSwgYnksIGNvbHMsIHJvd3MpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBWIHRoZW4gSFxyXG4gICAgX2NhcnZlVmVydGljYWxDb3JyaWRvcihtYXAsIGF4LCBheSwgYnksIGNvbHMsIHJvd3MpO1xyXG4gICAgX2NhcnZlSG9yaXpvbnRhbENvcnJpZG9yKG1hcCwgYnksIGF4LCBieCwgY29scywgcm93cyk7XHJcbiAgfVxyXG59XHJcbmZ1bmN0aW9uIF9jYXJ2ZUhvcml6b250YWxDb3JyaWRvcihtYXAsIHIsIGMxLCBjMiwgY29scywgcm93cykge1xyXG4gIC8vIEVuc3VyZSByb3cgaXMgdmFsaWRcclxuICBpZiAociA8IDAgfHwgciA+PSByb3dzKSByZXR1cm47XHJcbiAgY29uc3Qgc3RhcnRDb2wgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihjMSwgYzIpKTsgLy8gQ2xhbXAgdG8gbWFwIGJvdW5kc1xyXG4gIGNvbnN0IGVuZENvbCA9IE1hdGgubWluKGNvbHMgLSAxLCBNYXRoLm1heChjMSwgYzIpKTsgLy8gQ2xhbXAgdG8gbWFwIGJvdW5kc1xyXG4gIGZvciAobGV0IGMgPSBzdGFydENvbDsgYyA8PSBlbmRDb2w7IGMrKykge1xyXG4gICAgLy8gT25seSBjYXJ2ZSBpZiBpdCdzIGN1cnJlbnRseSBhIHdhbGxcclxuICAgIGlmIChtYXBbcl0/LltjXSA9PT0gVElMRV9XQUxMKSB7XHJcbiAgICAgIG1hcFtyXVtjXSA9IFRJTEVfQ09SUklET1I7XHJcbiAgICB9XHJcbiAgICAvLyBPcHRpb25hbDogQWxzbyBjYXJ2ZSBhZGphY2VudCB2ZXJ0aWNhbCB0aWxlcyBmb3IgdGhpY2tuZXNzID4gMVxyXG4gICAgLy8gaWYgKHRoaWNrbmVzcyA+IDEgJiYgcisxIDwgcm93cyAmJiBtYXBbcisxXT8uW2NdID09PSBUSUxFX1dBTEwpIG1hcFtyKzFdW2NdID0gVElMRV9DT1JSSURPUjtcclxuICB9XHJcbn1cclxuZnVuY3Rpb24gX2NhcnZlVmVydGljYWxDb3JyaWRvcihtYXAsIGMsIHIxLCByMiwgY29scywgcm93cykge1xyXG4gIC8vIEVuc3VyZSBjb2wgaXMgdmFsaWRcclxuICBpZiAoYyA8IDAgfHwgYyA+PSBjb2xzKSByZXR1cm47XHJcbiAgY29uc3Qgc3RhcnRSb3cgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihyMSwgcjIpKTsgLy8gQ2xhbXAgdG8gbWFwIGJvdW5kc1xyXG4gIGNvbnN0IGVuZFJvdyA9IE1hdGgubWluKHJvd3MgLSAxLCBNYXRoLm1heChyMSwgcjIpKTsgLy8gQ2xhbXAgdG8gbWFwIGJvdW5kc1xyXG4gIGZvciAobGV0IHIgPSBzdGFydFJvdzsgciA8PSBlbmRSb3c7IHIrKykge1xyXG4gICAgLy8gT25seSBjYXJ2ZSBpZiBpdCdzIGN1cnJlbnRseSBhIHdhbGxcclxuICAgIGlmIChtYXBbcl0/LltjXSA9PT0gVElMRV9XQUxMKSB7XHJcbiAgICAgIG1hcFtyXVtjXSA9IFRJTEVfQ09SUklET1I7XHJcbiAgICB9XHJcbiAgICAvLyBPcHRpb25hbDogQWxzbyBjYXJ2ZSBhZGphY2VudCBob3Jpem9udGFsIHRpbGVzIGZvciB0aGlja25lc3MgPiAxXHJcbiAgICAvLyBpZiAodGhpY2tuZXNzID4gMSAmJiBjKzEgPCBjb2xzICYmIG1hcFtyXT8uW2MrMV0gPT09IFRJTEVfV0FMTCkgbWFwW3JdW2MrMV0gPSBUSUxFX0NPUlJJRE9SO1xyXG4gIH1cclxufVxyXG5cclxuLy8gLS0tIE5FVyBIRUxQRVI6IEdldCBUaWxlIE9wZW5uZXNzIERldGFpbHMgLS0tXHJcbmZ1bmN0aW9uIF9nZXRUaWxlT3Blbm5lc3NEZXRhaWxzKHRpbGVYLCB0aWxlWSwgbWFwLCBjb2xzLCByb3dzKSB7XHJcbiAgLy8gTG9jYWwgd2Fsa2FibGUgZGVmaW5pdGlvbiBmb3IgdGhpcyBoZWxwZXJcclxuICBjb25zdCBpc1RpbGVXYWxrYWJsZSA9ICh4LCB5LCBjdXJyZW50TWFwLCBtYXBDb2xzLCBtYXBSb3dzKSA9PiB7XHJcbiAgICBpZiAoeCA8IDAgfHwgeCA+PSBtYXBDb2xzIHx8IHkgPCAwIHx8IHkgPj0gbWFwUm93cykgcmV0dXJuIGZhbHNlO1xyXG4gICAgY29uc3QgdGlsZVZhbCA9IGN1cnJlbnRNYXBbeV0/Llt4XTtcclxuICAgIHJldHVybiB0aWxlVmFsID09PSBUSUxFX0NPUlJJRE9SIHx8IHRpbGVWYWwgPT09IFRJTEVfUk9PTV9GTE9PUiB8fCB0aWxlVmFsID09PSBUSUxFX0xJRlQ7XHJcbiAgfTtcclxuXHJcbiAgbGV0IG9wZW5TaWRlcyA9IDA7XHJcbiAgLy8gT3JkZXI6IE4sIFMsIFcsIEVcclxuICBjb25zdCBuZWlnaGJvckRlbHRhcyA9IFtcclxuICAgIHsgZHg6IDAsIGR5OiAtMSB9LFxyXG4gICAgeyBkeDogMCwgZHk6IDEgfSxcclxuICAgIHsgZHg6IC0xLCBkeTogMCB9LFxyXG4gICAgeyBkeDogMSwgZHk6IDAgfSxcclxuICBdO1xyXG4gIGxldCB3YWxrYWJsZU5laWdoYm9yRmxhZ3MgPSBbZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2VdOyAvLyBOLCBTLCBXLCBFXHJcblxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbmVpZ2hib3JEZWx0YXMubGVuZ3RoOyBpKyspIHtcclxuICAgIGNvbnN0IG54ID0gdGlsZVggKyBuZWlnaGJvckRlbHRhc1tpXS5keDtcclxuICAgIGNvbnN0IG55ID0gdGlsZVkgKyBuZWlnaGJvckRlbHRhc1tpXS5keTtcclxuICAgIGlmIChpc1RpbGVXYWxrYWJsZShueCwgbnksIG1hcCwgY29scywgcm93cykpIHtcclxuICAgICAgb3BlblNpZGVzKys7XHJcbiAgICAgIHdhbGthYmxlTmVpZ2hib3JGbGFnc1tpXSA9IHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBsZXQgaXNDaG9rZXBvaW50ID0gZmFsc2U7XHJcbiAgaWYgKG9wZW5TaWRlcyA9PT0gMikge1xyXG4gICAgY29uc3QgW04sIFMsIFcsIEVdID0gd2Fsa2FibGVOZWlnaGJvckZsYWdzO1xyXG4gICAgLy8gVmVydGljYWwgY2hva2Vwb2ludCAoTiZTIG9wZW4sIFcmRSBjbG9zZWQpIE9SIEhvcml6b250YWwgY2hva2Vwb2ludCAoVyZFIG9wZW4sIE4mUyBjbG9zZWQpXHJcbiAgICBpZiAoKE4gJiYgUyAmJiAhVyAmJiAhRSkgfHwgKFcgJiYgRSAmJiAhTiAmJiAhUykpIHtcclxuICAgICAgaXNDaG9rZXBvaW50ID0gdHJ1ZTtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHsgb3BlblNpZGVzLCBpc0Nob2tlcG9pbnQgfTtcclxufVxyXG5cclxuLy8gLS0tIEhlbHBlcjogUGxhY2UgTGlmdCAtLS1cclxuLy8gVGFrZXMgY3VycmVudCBgbGlmdENvb3Jkc2AgYW5kIHJldHVybnMgdGhlIHVzZWQvZm91bmQgY29vcmRzIGFuZCBwb3NpdGlvblxyXG4vLyBNb2RpZnkgX3BsYWNlTGlmdCB0byBwYXNzIHRoZSByb29tcyBsaXN0IHRvIF9maW5kTGlmdFBsYWNlbWVudExvY2F0aW9uXHJcbmZ1bmN0aW9uIF9wbGFjZUxpZnQoXHJcbiAgbWFwLFxyXG4gIGNvbHMsXHJcbiAgcm93cyxcclxuICBmbG9vck51bWJlcixcclxuICBtaW5GbG9vcixcclxuICB0aWxlU2l6ZSxcclxuICBjdXJyZW50Q29uc2lzdGVudENvb3JkcyxcclxuICByb29tc0xpc3RcclxuKSB7XHJcbiAgLy8gQWRkZWQgcm9vbXNMaXN0XHJcbiAgbGV0IGNvb3Jkc1RvVXNlID0gY3VycmVudENvbnNpc3RlbnRDb29yZHM7XHJcbiAgbGV0IG5ld2x5Rm91bmRDb29yZHMgPSBudWxsO1xyXG5cclxuICAvLyBGaW5kIGNvb3JkcyBvbmx5IG9uIHRoZSBmaXJzdCBmbG9vciBpZiBub3QgYWxyZWFkeSBzZXRcclxuICBpZiAoZmxvb3JOdW1iZXIgPT09IG1pbkZsb29yICYmICFjb29yZHNUb1VzZSkge1xyXG4gICAgY29uc29sZS5sb2coYFtNYXBHZW4gRmxvb3IgJHtmbG9vck51bWJlcn1dIEZpbmRpbmcgaW5pdGlhbCBsaWZ0IHBsYWNlbWVudCBsb2NhdGlvbi4uLmApO1xyXG4gICAgY29vcmRzVG9Vc2UgPSBfZmluZExpZnRQbGFjZW1lbnRMb2NhdGlvbihtYXAsIGNvbHMsIHJvd3MsIHJvb21zTGlzdCk7IC8vIFBBU1Mgcm9vbXNMaXN0XHJcbiAgICBpZiAoIWNvb3Jkc1RvVXNlKSB7XHJcbiAgICAgIC8vIEZhbGxiYWNrOiBpZiBubyBnb29kIHJvb20gc3BvdCwgdHJ5IHRoZSBwcmV2aW91cyBnZW5lcmFsIGZpbmQgbG9naWMgKHdoaWNoIGluY2x1ZGVzIGNvcnJpZG9ycylcclxuICAgICAgLy8gRm9yIHNpbXBsaWNpdHkgaGVyZSwgd2UnbGwganVzdCBnbyB0byB0aGUgY2VudGVyLiBBIG1vcmUgcm9idXN0IGZhbGxiYWNrIGNvdWxkIGJlIHRvIGNhbGxcclxuICAgICAgLy8gYSB2ZXJzaW9uIG9mIF9maW5kTGlmdFBsYWNlbWVudExvY2F0aW9uIHRoYXQgKmRvZXMqIGNvbnNpZGVyIGNvcnJpZG9ycy5cclxuICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgIGBbTWFwR2VuIEZsb29yICR7Zmxvb3JOdW1iZXJ9XSBObyBpZGVhbCBJTi1ST09NIGxpZnQgbG9jYXRpb24gZm91bmQuIEZvcmNpbmcgcGxhY2VtZW50IG5lYXIgY2VudGVyLmBcclxuICAgICAgKTtcclxuICAgICAgY29vcmRzVG9Vc2UgPSB7IHRpbGVYOiBNYXRoLmZsb29yKGNvbHMgLyAyKSwgdGlsZVk6IE1hdGguZmxvb3Iocm93cyAvIDIpIH07XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZyhcclxuICAgICAgYFtNYXBHZW4gRmxvb3IgJHtmbG9vck51bWJlcn1dIEVzdGFibGlzaGVkIGNvbnNpc3RlbnQgbGlmdCBjb29yZHMgYXQgdGlsZSgke2Nvb3Jkc1RvVXNlLnRpbGVYfSwgJHtjb29yZHNUb1VzZS50aWxlWX0pYFxyXG4gICAgKTtcclxuICAgIG5ld2x5Rm91bmRDb29yZHMgPSBjb29yZHNUb1VzZTtcclxuICB9IGVsc2UgaWYgKCFjb29yZHNUb1VzZSAmJiBmbG9vck51bWJlciA+IG1pbkZsb29yKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFtNYXBHZW4gTGlmdF0gTWlzc2luZyBjb25zaXN0ZW50IGNvb3JkaW5hdGVzIGZvciBmbG9vciAke2Zsb29yTnVtYmVyfS5gKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHsgdGlsZVgsIHRpbGVZIH0gPSBjb29yZHNUb1VzZTtcclxuXHJcbiAgLy8gQmFzaWMgYm91bmRzIGNoZWNrIGZvciBzYWZldHlcclxuICBpZiAodGlsZVkgPCAwIHx8IHRpbGVZID49IHJvd3MgfHwgdGlsZVggPCAwIHx8IHRpbGVYID49IGNvbHMpIHtcclxuICAgIC8vIFRoaXMgbWlnaHQgaGFwcGVuIGlmIHRoZSBmYWxsYmFjayBjb29yZHMgYXJlIGJhZCBvbiBhIHZlcnkgc21hbGwgbWFwXHJcbiAgICBjb25zdCBzYWZlRmFsbGJhY2tYID0gTWF0aC5tYXgoMSwgTWF0aC5taW4oY29scyAtIDIsIHRpbGVYKSk7XHJcbiAgICBjb25zdCBzYWZlRmFsbGJhY2tZID0gTWF0aC5tYXgoMSwgTWF0aC5taW4ocm93cyAtIDIsIHRpbGVZKSk7XHJcbiAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICBgW01hcEdlbiBMaWZ0XSBDb29yZHMgKCR7dGlsZVh9LCAke3RpbGVZfSkgYXJlIG91dHNpZGUgbWFwIGJvdW5kcyBvbiBmbG9vciAke2Zsb29yTnVtYmVyfS4gQWRqdXN0ZWQgdG8gKCR7c2FmZUZhbGxiYWNrWH0sJHtzYWZlRmFsbGJhY2tZfSlgXHJcbiAgICApO1xyXG4gICAgY29vcmRzVG9Vc2UgPSB7IHRpbGVYOiBzYWZlRmFsbGJhY2tYLCB0aWxlWTogc2FmZUZhbGxiYWNrWSB9O1xyXG4gICAgLy8gUmUtYXNzaWduIHRpbGVYLCB0aWxlWSBmb3IgdGhlIHJlc3Qgb2YgdGhlIGZ1bmN0aW9uXHJcbiAgICAvLyBUaGlzIGlzIGEgYml0IGhhY2t5OyBpZGVhbGx5LCB0aGUgcHJpbWFyeSBmaW5kIGxvZ2ljIG9yIGl0cyBmYWxsYmFjayBzaG91bGQgYWx3YXlzIHJldHVybiB2YWxpZCBjb29yZHMuXHJcbiAgICAvLyBIb3dldmVyLCBpZiBgY29uc2lzdGVudExpZnRDb29yZHNgIHdlcmUgc29tZWhvdyBpbnZhbGlkIGZyb20gYSBwcmV2aW91cyBmbG9vciwgdGhpcyBjb3VsZCBiZSBhbiBpc3N1ZS5cclxuICAgIC8vIEZvciBub3csIHdlJ2xsIGFzc3VtZSBgX2ZpbmRMaWZ0UGxhY2VtZW50TG9jYXRpb25gIG9yIGl0cyBkaXJlY3QgZmFsbGJhY2sgaXMgcm9idXN0IGVub3VnaC5cclxuICAgIC8vIFRoZSBvcmlnaW5hbCBlcnJvciB0aHJvdyBpcyBiZXR0ZXIgaWYgd2UgZXhwZWN0IGBjb29yZHNUb1VzZWAgdG8gYWx3YXlzIGJlIHZhbGlkIGZyb20gZ2VuZXJhdGlvbi5cclxuICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgYFtNYXBHZW4gTGlmdF0gQ29vcmRzICgke2Nvb3Jkc1RvVXNlLnRpbGVYfSwgJHtjb29yZHNUb1VzZS50aWxlWX0pIGFyZSBvdXRzaWRlIG1hcCBib3VuZHMgb24gZmxvb3IgJHtmbG9vck51bWJlcn0uYFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8vIENoZWNrIGlmIHRoZSBjaG9zZW4gc3BvdCBpcyBhIHdhbGw7IGlmIHNvLCBhdHRlbXB0IGNvbm5lY3Rpb25cclxuICAvLyBUaGlzIGlzIGNydWNpYWwgaWYgdGhlIGZhbGxiYWNrIChjZW50ZXIgb2YgbWFwKSB3YXMgdXNlZC5cclxuICBpZiAobWFwW3RpbGVZXVt0aWxlWF0gPT09IFRJTEVfV0FMTCkge1xyXG4gICAgY29uc29sZS53YXJuKFxyXG4gICAgICBgW01hcEdlbiBGbG9vciAke2Zsb29yTnVtYmVyfV0gTGlmdCBsb2NhdGlvbiB0aWxlKCR7dGlsZVh9LCAke3RpbGVZfSkgaXMgYSB3YWxsIChsaWtlbHkgZmFsbGJhY2spLiBGb3JjaW5nIGNvbm5lY3Rpb24uLi5gXHJcbiAgICApO1xyXG4gICAgY29uc3QgY29ubmVjdGVkID0gX2ZvcmNlQ29ubmVjdGlvblRvUG9pbnQobWFwLCB0aWxlWCwgdGlsZVksIGNvbHMsIHJvd3MpO1xyXG4gICAgaWYgKCFjb25uZWN0ZWQpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICBgW01hcEdlbiBMaWZ0IENvbm5lY3RdIEZBSUxFRCB0byBjb25uZWN0IHdhbGwgYXQgbGlmdCBsb2NhdGlvbiB0aWxlKCR7dGlsZVh9LCAke3RpbGVZfSkuIExpZnQgbWlnaHQgYmUgaXNvbGF0ZWQuYFxyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS5sb2coYCAgW01hcEdlbiBMaWZ0IENvbm5lY3RdIENvbm5lY3Rpb24gYXR0ZW1wdCBmaW5pc2hlZCBmb3Igd2FsbCBhdCBsaWZ0IGxvY2F0aW9uLmApO1xyXG4gICAgICBpZiAobWFwW3RpbGVZXVt0aWxlWF0gPT09IFRJTEVfV0FMTCkge1xyXG4gICAgICAgIC8vIERvdWJsZSBjaGVjayBhZnRlciBjb25uZWN0aW9uXHJcbiAgICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgICAgYCAgW01hcEdlbiBMaWZ0IENvbm5lY3RdIEZvcmNlIGNvbm5lY3Rpb24gY29tcGxldGVkLCBidXQgdGFyZ2V0IHRpbGUgKCR7dGlsZVh9LCR7dGlsZVl9KSByZW1haW5lZCBXQUxMLiBTZXR0aW5nIHRvIENPUlJJRE9SLmBcclxuICAgICAgICApO1xyXG4gICAgICAgIG1hcFt0aWxlWV1bdGlsZVhdID0gVElMRV9DT1JSSURPUjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICBjb25zb2xlLmxvZyhcclxuICAgICAgYCAgW01hcEdlbiBMaWZ0XSBMaWZ0IGxvY2F0aW9uIHRpbGUoJHt0aWxlWH0sICR7dGlsZVl9KSBpcyBhbHJlYWR5IHdhbGthYmxlIChUeXBlOiAke21hcFt0aWxlWV1bdGlsZVhdfSkuYFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8vIFBsYWNlIHRoZSBsaWZ0IHRpbGVcclxuICBtYXBbdGlsZVldW3RpbGVYXSA9IFRJTEVfTElGVDtcclxuXHJcbiAgY29uc3QgbGlmdFdvcmxkUG9zID0ge1xyXG4gICAgeDogKHRpbGVYICsgMC41KSAqIHRpbGVTaXplLFxyXG4gICAgeTogKHRpbGVZICsgMC41KSAqIHRpbGVTaXplLFxyXG4gICAgdGlsZVg6IHRpbGVYLFxyXG4gICAgdGlsZVk6IHRpbGVZLFxyXG4gIH07XHJcblxyXG4gIGNvbnNvbGUubG9nKFxyXG4gICAgYFtNYXBHZW4gRmxvb3IgJHtmbG9vck51bWJlcn1dIFBsYWNlZC9Db25maXJtZWQgbGlmdCBhdCB0aWxlKCR7dGlsZVh9LCAke3RpbGVZfSkuIFdvcmxkOiAoJHtsaWZ0V29ybGRQb3MueC50b0ZpeGVkKFxyXG4gICAgICAxXHJcbiAgICApfSwgJHtsaWZ0V29ybGRQb3MueS50b0ZpeGVkKDEpfSlgXHJcbiAgKTtcclxuXHJcbiAgcmV0dXJuIHsgcG9zaXRpb246IGxpZnRXb3JsZFBvcywgY29vcmRzOiBuZXdseUZvdW5kQ29vcmRzIHx8IGNvb3Jkc1RvVXNlIH07XHJcbn1cclxuXHJcbi8vIC0tLSBNT0RJRklFRCBIZWxwZXI6IEZpbmQgTGlmdCBMb2NhdGlvbiAoRm9yIEZpcnN0IEZsb29yKSAtLS1cclxuZnVuY3Rpb24gX2ZpbmRMaWZ0UGxhY2VtZW50TG9jYXRpb24obWFwLCBjb2xzLCByb3dzLCByb29tc0xpc3QpIHtcclxuICAvLyBBZGRlZCByb29tc0xpc3QgcGFyYW1ldGVyXHJcbiAgY29uc3QgY2VudGVyWCA9IE1hdGguZmxvb3IoY29scyAvIDIpO1xyXG4gIGNvbnN0IGNlbnRlclkgPSBNYXRoLmZsb29yKHJvd3MgLyAyKTtcclxuXHJcbiAgbGV0IGJlc3RTcG90Q2FuZGlkYXRlID0gbnVsbDtcclxuXHJcbiAgY29uc29sZS5sb2coYCAgW01hcEdlbiBGaW5kTGlmdCBWM10gU2VhcmNoaW5nIGZvciBvcHRpbWFsIGxpZnQgc3BvdCBJTlNJREUgYSByb29tLi4uYCk7XHJcblxyXG4gIGlmICghcm9vbXNMaXN0IHx8IHJvb21zTGlzdC5sZW5ndGggPT09IDApIHtcclxuICAgIGNvbnNvbGUud2FybihcclxuICAgICAgYCAgW01hcEdlbiBGaW5kTGlmdCBWM10gTm8gcm9vbXMgYXZhaWxhYmxlIHRvIHBsYWNlIGEgbGlmdCBpbi4gRmFsbGJhY2sgd2lsbCBiZSB1c2VkIGJ5IGNhbGxlci5gXHJcbiAgICApO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICBmb3IgKGNvbnN0IHJvb20gb2Ygcm9vbXNMaXN0KSB7XHJcbiAgICAvLyBJdGVyYXRlIFwiaW50ZXJuYWxcIiBmbG9vciB0aWxlcyBvZiB0aGUgcm9vbS5cclxuICAgIC8vIEludGVybmFsIHRpbGVzIGFyZSBhdCBsZWFzdCAxIHRpbGUgYXdheSBmcm9tIHRoZSByb29tJ3MgYm91bmRpbmcgd2FsbHMuXHJcbiAgICAvLyBSZXF1aXJlcyByb29tIHRvIGJlIGF0IGxlYXN0IDN4MyBpbiBzaXplIHRvIGhhdmUgYW55IGludGVybmFsIHRpbGVzLlxyXG4gICAgLy8gKG1pblJvb21TaXplIGlzIDUsIHNvIGEgNXg1IHJvb20gaGFzIGEgM3gzIGludGVybmFsIGFyZWEpXHJcbiAgICBjb25zdCBzdGFydEludGVybmFsQ29sID0gcm9vbS5jb2wgKyAxO1xyXG4gICAgY29uc3QgZW5kSW50ZXJuYWxDb2wgPSByb29tLmNvbCArIHJvb20ud2lkdGggLSAyO1xyXG4gICAgY29uc3Qgc3RhcnRJbnRlcm5hbFJvdyA9IHJvb20ucm93ICsgMTtcclxuICAgIGNvbnN0IGVuZEludGVybmFsUm93ID0gcm9vbS5yb3cgKyByb29tLmhlaWdodCAtIDI7XHJcblxyXG4gICAgaWYgKHN0YXJ0SW50ZXJuYWxDb2wgPiBlbmRJbnRlcm5hbENvbCB8fCBzdGFydEludGVybmFsUm93ID4gZW5kSW50ZXJuYWxSb3cpIHtcclxuICAgICAgLy8gUm9vbSBpcyB0b28gc21hbGwgKGUuZy4sIDJ4TiBvciBOeDIpIHRvIGhhdmUgXCJpbnRlcm5hbFwiIHRpbGVzIGJ5IHRoaXMgZGVmaW5pdGlvbi5cclxuICAgICAgLy8gV2UgY291bGQgaXRlcmF0ZSBhbGwgcm9vbS5jb2wgdG8gcm9vbS5jb2wgKyByb29tLndpZHRoIC0xIGV0Yy4gaWYgd2Ugd2FudCB0byBpbmNsdWRlIGVkZ2VzLlxyXG4gICAgICAvLyBGb3Igbm93LCBzdGlja2luZyB0byBcImludGVybmFsXCIgZm9yIGJldHRlciBwbGFjZW1lbnQuXHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKGAgICAgW0ZpbmRMaWZ0IFYzXSBSb29tICR7cm9vbS5pZH0gKCR7cm9vbS53aWR0aH14JHtyb29tLmhlaWdodH0pIHRvbyBzbWFsbCBmb3IgaW50ZXJuYWwgdGlsZXMuIFNraXBwaW5nLmApO1xyXG4gICAgICBjb250aW51ZTtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCByID0gc3RhcnRJbnRlcm5hbFJvdzsgciA8PSBlbmRJbnRlcm5hbFJvdzsgcisrKSB7XHJcbiAgICAgIGZvciAobGV0IGMgPSBzdGFydEludGVybmFsQ29sOyBjIDw9IGVuZEludGVybmFsQ29sOyBjKyspIHtcclxuICAgICAgICAvLyBCeSBkZWZpbml0aW9uLCBtYXBbcl1bY10gc2hvdWxkIGJlIFRJTEVfUk9PTV9GTE9PUiBoZXJlLlxyXG5cclxuICAgICAgICBsZXQgY3VycmVudFNjb3JlID0gMDtcclxuICAgICAgICBjb25zdCBkaXN0U3EgPSAoYyAtIGNlbnRlclgpICogKGMgLSBjZW50ZXJYKSArIChyIC0gY2VudGVyWSkgKiAociAtIGNlbnRlclkpO1xyXG4gICAgICAgIGN1cnJlbnRTY29yZSAtPSBkaXN0U3EgLyAzMDsgLy8gUHJveGltaXR5IGJvbnVzXHJcblxyXG4gICAgICAgIGNvbnN0IGRldGFpbHNTZWxmID0gX2dldFRpbGVPcGVubmVzc0RldGFpbHMoYywgciwgbWFwLCBjb2xzLCByb3dzKTtcclxuXHJcbiAgICAgICAgaWYgKGRldGFpbHNTZWxmLm9wZW5TaWRlcyA8IDEpIHtcclxuICAgICAgICAgIC8vIFNob3VsZCBoYXZlIGF0IGxlYXN0IDEgY29ubmVjdGlvbiBpZiBpdCdzIGEgdmFsaWQgaW50ZXJuYWwgcm9vbSB0aWxlLlxyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZGV0YWlsc1NlbGYuaXNDaG9rZXBvaW50KSB7XHJcbiAgICAgICAgICBjdXJyZW50U2NvcmUgLT0gNzAwOyAvLyBQZW5hbGl6ZSBpZiBsaWZ0IHRpbGUgaXRzZWxmIHdvdWxkIGZvcm0gYSBjaG9rZXBvaW50XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGN1cnJlbnRTY29yZSArPSBkZXRhaWxzU2VsZi5vcGVuU2lkZXMgKiAxMjA7IC8vIE1vcmUgb3BlbiBzaWRlcyBmb3IgdGhlIGxpZnQgdGlsZSBhcmUgZ29vZC5cclxuXHJcbiAgICAgICAgbGV0IHdvcnN0QWNjZXNzUGVuYWx0eUZyb21OZWlnaGJvcnMgPSAwO1xyXG4gICAgICAgIGxldCBudW1BY3R1YWxBY2Nlc3NQb2ludHMgPSAwO1xyXG4gICAgICAgIGNvbnN0IG5laWdoYm9yRGVsdGFzID0gW1xyXG4gICAgICAgICAgeyBkeDogMCwgZHk6IC0xIH0sXHJcbiAgICAgICAgICB7IGR4OiAwLCBkeTogMSB9LFxyXG4gICAgICAgICAgeyBkeDogLTEsIGR5OiAwIH0sXHJcbiAgICAgICAgICB7IGR4OiAxLCBkeTogMCB9LFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgZGVsdGEgb2YgbmVpZ2hib3JEZWx0YXMpIHtcclxuICAgICAgICAgIGNvbnN0IG5jQWNjZXNzID0gYyArIGRlbHRhLmR4O1xyXG4gICAgICAgICAgY29uc3QgbnJBY2Nlc3MgPSByICsgZGVsdGEuZHk7XHJcblxyXG4gICAgICAgICAgaWYgKG5yQWNjZXNzID49IDAgJiYgbnJBY2Nlc3MgPCByb3dzICYmIG5jQWNjZXNzID49IDAgJiYgbmNBY2Nlc3MgPCBjb2xzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFjY2Vzc1RpbGVUeXBlID0gbWFwW25yQWNjZXNzXT8uW25jQWNjZXNzXTtcclxuICAgICAgICAgICAgaWYgKGFjY2Vzc1RpbGVUeXBlID09PSBUSUxFX0NPUlJJRE9SIHx8IGFjY2Vzc1RpbGVUeXBlID09PSBUSUxFX1JPT01fRkxPT1IpIHtcclxuICAgICAgICAgICAgICBudW1BY3R1YWxBY2Nlc3NQb2ludHMrKztcclxuICAgICAgICAgICAgICBjb25zdCBkZXRhaWxzQWNjZXNzVGlsZSA9IF9nZXRUaWxlT3Blbm5lc3NEZXRhaWxzKFxyXG4gICAgICAgICAgICAgICAgbmNBY2Nlc3MsXHJcbiAgICAgICAgICAgICAgICBuckFjY2VzcyxcclxuICAgICAgICAgICAgICAgIG1hcCxcclxuICAgICAgICAgICAgICAgIGNvbHMsXHJcbiAgICAgICAgICAgICAgICByb3dzXHJcbiAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKGRldGFpbHNBY2Nlc3NUaWxlLm9wZW5TaWRlcyA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgLy8gQWNjZXNzIHRpbGUgb25seSBsZWFkcyB0byBvdXIgY2FuZGlkYXRlIChpdCdzIGEgc3R1YilcclxuICAgICAgICAgICAgICAgIHdvcnN0QWNjZXNzUGVuYWx0eUZyb21OZWlnaGJvcnMgPSBNYXRoLm1heCh3b3JzdEFjY2Vzc1BlbmFsdHlGcm9tTmVpZ2hib3JzLCAzMDAwMCk7IC8vIE1hc3NpdmUgcGVuYWx0eVxyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgaWYgKGRldGFpbHNBY2Nlc3NUaWxlLmlzQ2hva2Vwb2ludCkge1xyXG4gICAgICAgICAgICAgICAgd29yc3RBY2Nlc3NQZW5hbHR5RnJvbU5laWdoYm9ycyA9IE1hdGgubWF4KHdvcnN0QWNjZXNzUGVuYWx0eUZyb21OZWlnaGJvcnMsIDUwMCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiB0aGUgbGlmdCBjYW5kaWRhdGUgaXMgaW4gdGhlIG1pZGRsZSBvZiBhIHJvb20sIG51bUFjdHVhbEFjY2Vzc1BvaW50cyBtaWdodCBiZSBsb3dcclxuICAgICAgICAvLyBpZiBpdCdzIHN1cnJvdW5kZWQgYnkgb3RoZXIgVElMRV9ST09NX0ZMT09SIG9mIHRoZSAqc2FtZSogcm9vbS5cclxuICAgICAgICAvLyBkZXRhaWxzU2VsZi5vcGVuU2lkZXMgaXMgYSBiZXR0ZXIgbWVhc3VyZSBvZiBpdHMgXCJlbWJlZGRuZXNzXCIgaW4gdGhpcyBjYXNlLlxyXG4gICAgICAgIC8vIFRoZSBjcml0aWNhbCBwYXJ0IGlzIHRoYXQgYHdvcnN0QWNjZXNzUGVuYWx0eUZyb21OZWlnaGJvcnNgIGNhdGNoZXMgYmFkICpleHRlcm5hbCogYWNjZXNzLlxyXG4gICAgICAgIGlmIChudW1BY3R1YWxBY2Nlc3NQb2ludHMgPT09IDAgJiYgZGV0YWlsc1NlbGYub3BlblNpZGVzIDwgMikge1xyXG4gICAgICAgICAgLy8gSWYgaXQgaGFzIG5vIGRpcmVjdCBjb3JyaWRvci9vdGhlciByb29tIGFjY2VzcyBBTkQgaXMgYWxzbyB2ZXJ5IGNsb3NlZCBvZmYgaXRzZWxmXHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGN1cnJlbnRTY29yZSAtPSB3b3JzdEFjY2Vzc1BlbmFsdHlGcm9tTmVpZ2hib3JzO1xyXG5cclxuICAgICAgICBpZiAoYmVzdFNwb3RDYW5kaWRhdGUgPT09IG51bGwgfHwgY3VycmVudFNjb3JlID4gYmVzdFNwb3RDYW5kaWRhdGUuc2NvcmUpIHtcclxuICAgICAgICAgIGJlc3RTcG90Q2FuZGlkYXRlID0ge1xyXG4gICAgICAgICAgICB0aWxlWDogYyxcclxuICAgICAgICAgICAgdGlsZVk6IHIsXHJcbiAgICAgICAgICAgIHNjb3JlOiBjdXJyZW50U2NvcmUsXHJcbiAgICAgICAgICAgIGRlYnVnX3Jvb206IHJvb20uaWQsXHJcbiAgICAgICAgICAgIC8vIEFkZCBvdGhlciBkZWJ1ZyBmaWVsZHMgZnJvbSBwcmV2aW91cyB2ZXJzaW9uIGlmIG5lZWRlZFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlmIChiZXN0U3BvdENhbmRpZGF0ZSkge1xyXG4gICAgY29uc29sZS5sb2coXHJcbiAgICAgIGAgIFtNYXBHZW4gRmluZExpZnQgVjNdIFNlbGVjdGVkIGJlc3Qgc3BvdCBJTiBST09NICgke2Jlc3RTcG90Q2FuZGlkYXRlLmRlYnVnX3Jvb219KSBhdCB0aWxlKCR7YmVzdFNwb3RDYW5kaWRhdGUudGlsZVh9LCAke2Jlc3RTcG90Q2FuZGlkYXRlLnRpbGVZfSkuIGAgK1xyXG4gICAgICAgIGBTY29yZTogJHtiZXN0U3BvdENhbmRpZGF0ZS5zY29yZS50b0ZpeGVkKDApfS5gXHJcbiAgICApO1xyXG4gICAgcmV0dXJuIHsgdGlsZVg6IGJlc3RTcG90Q2FuZGlkYXRlLnRpbGVYLCB0aWxlWTogYmVzdFNwb3RDYW5kaWRhdGUudGlsZVkgfTtcclxuICB9XHJcblxyXG4gIGNvbnNvbGUud2FybihcclxuICAgICdbTWFwR2VuIEZpbmRMaWZ0IFYzXSBObyBzdWl0YWJsZSBJTi1ST09NIGxvY2F0aW9uIGZvdW5kIHdpdGggaW50ZXJuYWwgdGlsZXMuIEZhbGxiYWNrIHdpbGwgYmUgdXNlZCBieSBjYWxsZXIuJ1xyXG4gICk7XHJcbiAgcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcbi8vIC0tLSBIZWxwZXI6IEZvcmNlIENvbm5lY3Rpb24gLS0tXHJcbmZ1bmN0aW9uIF9mb3JjZUNvbm5lY3Rpb25Ub1BvaW50KG1hcCwgdGFyZ2V0WCwgdGFyZ2V0WSwgY29scywgcm93cykge1xyXG4gIGNvbnNvbGUubG9nKFxyXG4gICAgYCAgW01hcEdlbiBDb25uZWN0XSBUcnlpbmcgdG8gY29ubmVjdCB3YWxsIGF0IHRpbGUoJHt0YXJnZXRYfSwgJHt0YXJnZXRZfSkgdG8gd2Fsa2FibGUgYXJlYS4uLmBcclxuICApO1xyXG4gIGNvbnN0IGRpcmVjdGlvbnMgPSBbXHJcbiAgICBbMCwgLTFdLFxyXG4gICAgWzAsIDFdLFxyXG4gICAgWy0xLCAwXSxcclxuICAgIFsxLCAwXSxcclxuICBdO1xyXG4gIGxldCBpc0FkamFjZW50VG9XYWxrYWJsZSA9IGZhbHNlO1xyXG4gIGxldCBhZGphY2VudFdhbGthYmxlQ29vcmQgPSBudWxsO1xyXG5cclxuICAvLyAxLiBDaGVjayBpZiBhbHJlYWR5IGFkamFjZW50IHRvIGEgd2Fsa2FibGUgdGlsZVxyXG4gIGZvciAoY29uc3QgW2R4LCBkeV0gb2YgZGlyZWN0aW9ucykge1xyXG4gICAgY29uc3QgbnggPSB0YXJnZXRYICsgZHg7XHJcbiAgICBjb25zdCBueSA9IHRhcmdldFkgKyBkeTtcclxuICAgIGNvbnN0IG5laWdoYm9yVGlsZSA9IG1hcFtueV0/LltueF07XHJcbiAgICBpZiAoXHJcbiAgICAgIG5laWdoYm9yVGlsZSA9PT0gVElMRV9DT1JSSURPUiB8fFxyXG4gICAgICBuZWlnaGJvclRpbGUgPT09IFRJTEVfUk9PTV9GTE9PUiB8fFxyXG4gICAgICBuZWlnaGJvclRpbGUgPT09IFRJTEVfTElGVFxyXG4gICAgKSB7XHJcbiAgICAgIGlzQWRqYWNlbnRUb1dhbGthYmxlID0gdHJ1ZTtcclxuICAgICAgYWRqYWNlbnRXYWxrYWJsZUNvb3JkID0geyB4OiBueCwgeTogbnkgfTtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpZiAoaXNBZGphY2VudFRvV2Fsa2FibGUpIHtcclxuICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICBgICBbTWFwR2VuIENvbm5lY3RdIFRhcmdldCgke3RhcmdldFh9LCAke3RhcmdldFl9KSBpcyBhZGphY2VudCB0byB3YWxrYWJsZSBhdCAoJHthZGphY2VudFdhbGthYmxlQ29vcmQueH0sICR7YWRqYWNlbnRXYWxrYWJsZUNvb3JkLnl9KS4gU2V0dGluZyB0YXJnZXQgdG8gQ29ycmlkb3IuYFxyXG4gICAgKTtcclxuICAgIC8vIE1ha2UgdGhlIHRhcmdldCB0aWxlIGl0c2VsZiB3YWxrYWJsZSAoQ29ycmlkb3IgaXMgYSBzYWZlIGJldClcclxuICAgIG1hcFt0YXJnZXRZXVt0YXJnZXRYXSA9IFRJTEVfQ09SUklET1I7XHJcbiAgICByZXR1cm4gdHJ1ZTsgLy8gQ29ubmVjdGlvbiBpcyB0cml2aWFsXHJcbiAgfVxyXG5cclxuICAvLyAyLiBJZiBub3QgYWRqYWNlbnQsIGZpbmQgdGhlIG5lYXJlc3Qgd2Fsa2FibGUgdGlsZSAoQ29ycmlkb3Igb3IgRmxvb3IpIHVzaW5nIEJGU1xyXG4gIGNvbnNvbGUubG9nKFxyXG4gICAgYCAgW01hcEdlbiBDb25uZWN0XSBUYXJnZXQgbm90IGFkamFjZW50LiBTZWFyY2hpbmcgbmVhcmVzdCB3YWxrYWJsZSAoQ29ycmlkb3IvRmxvb3IpIHZpYSBCRlMuLi5gXHJcbiAgKTtcclxuICBjb25zdCBxdWV1ZSA9IFtbdGFyZ2V0WCwgdGFyZ2V0WSwgMF1dOyAvLyB4LCB5LCBkaXN0YW5jZVxyXG4gIGNvbnN0IHZpc2l0ZWQgPSBuZXcgU2V0KFtgJHt0YXJnZXRYfSwke3RhcmdldFl9YF0pO1xyXG4gIGNvbnN0IGJmc1BhdGhhYmxlID0gW1RJTEVfV0FMTCwgVElMRV9DT1JSSURPUiwgVElMRV9ST09NX0ZMT09SLCBUSUxFX0xJRlRdOyAvLyBDYW4gcGF0aCB0aHJvdWdoIGFueXRoaW5nXHJcbiAgY29uc3QgdGFyZ2V0V2Fsa2FibGUgPSBbVElMRV9DT1JSSURPUiwgVElMRV9ST09NX0ZMT09SXTtcclxuICBsZXQgY2xvc2VzdFdhbGthYmxlID0gbnVsbDtcclxuICBsZXQgbWluRm91bmREaXN0ID0gSW5maW5pdHk7XHJcblxyXG4gIHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICBjb25zdCBbY3VyclgsIGN1cnJZLCBkaXN0XSA9IHF1ZXVlLnNoaWZ0KCk7XHJcblxyXG4gICAgLy8gSWYgd2UgYWxyZWFkeSBmb3VuZCAqYSogd2Fsa2FibGUgdGlsZSwgZG9uJ3QgZXhwbG9yZSBwYXRocyBsb25nZXIgdGhhbiB0aGF0XHJcbiAgICBpZiAoZGlzdCA+PSBtaW5Gb3VuZERpc3QpIGNvbnRpbnVlO1xyXG5cclxuICAgIGZvciAoY29uc3QgW2R4LCBkeV0gb2YgZGlyZWN0aW9ucykge1xyXG4gICAgICBjb25zdCBuZXh0WCA9IGN1cnJYICsgZHg7XHJcbiAgICAgIGNvbnN0IG5leHRZID0gY3VyclkgKyBkeTtcclxuICAgICAgY29uc3Qga2V5ID0gYCR7bmV4dFh9LCR7bmV4dFl9YDtcclxuXHJcbiAgICAgIGlmIChuZXh0WCA+PSAwICYmIG5leHRYIDwgY29scyAmJiBuZXh0WSA+PSAwICYmIG5leHRZIDwgcm93cyAmJiAhdmlzaXRlZC5oYXMoa2V5KSkge1xyXG4gICAgICAgIGNvbnN0IHRpbGVWYWx1ZSA9IG1hcFtuZXh0WV0/LltuZXh0WF07XHJcbiAgICAgICAgdmlzaXRlZC5hZGQoa2V5KTtcclxuXHJcbiAgICAgICAgLy8gRm91bmQgYSB0YXJnZXQgd2Fsa2FibGUgdGlsZT9cclxuICAgICAgICBpZiAodGFyZ2V0V2Fsa2FibGUuaW5jbHVkZXModGlsZVZhbHVlKSkge1xyXG4gICAgICAgICAgaWYgKGRpc3QgKyAxIDwgbWluRm91bmREaXN0KSB7XHJcbiAgICAgICAgICAgIC8vIEZvdW5kIGEgY2xvc2VyIG9uZVxyXG4gICAgICAgICAgICBtaW5Gb3VuZERpc3QgPSBkaXN0ICsgMTtcclxuICAgICAgICAgICAgY2xvc2VzdFdhbGthYmxlID0geyB4OiBuZXh0WCwgeTogbmV4dFksIGRpc3Q6IG1pbkZvdW5kRGlzdCB9O1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICAgICAgICBgICAgIFtCRlNdIEZvdW5kIHBvdGVudGlhbCB0YXJnZXQgYXQgKCR7bmV4dFh9LCAke25leHRZfSksIGRpc3QgJHttaW5Gb3VuZERpc3R9YFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLy8gRG9uJ3QgcHVzaCB0aGlzIHRhcmdldCBvbnRvIHF1ZXVlLCB3ZSBzdG9wIHNlYXJjaGluZyBmcm9tIGhlcmVcclxuICAgICAgICB9IGVsc2UgaWYgKGJmc1BhdGhhYmxlLmluY2x1ZGVzKHRpbGVWYWx1ZSkpIHtcclxuICAgICAgICAgIC8vIENhbiBjb250aW51ZSBzZWFyY2hpbmcgZnJvbSB0aGlzIG5laWdoYm9yIGlmIGl0J3MgcGF0aGFibGUgYW5kIGNsb3NlciB0aGFuIGN1cnJlbnQgYmVzdFxyXG4gICAgICAgICAgaWYgKGRpc3QgKyAxIDwgbWluRm91bmREaXN0KSB7XHJcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goW25leHRYLCBuZXh0WSwgZGlzdCArIDFdKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIDMuIENhcnZlIHBhdGggaWYgYSB3YWxrYWJsZSB0aWxlIHdhcyBmb3VuZFxyXG4gIGlmIChjbG9zZXN0V2Fsa2FibGUpIHtcclxuICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICBgICBbTWFwR2VuIENvbm5lY3RdIEZvdW5kIGNsb3Nlc3Qgd2Fsa2FibGUgYXQgdGlsZSgke2Nsb3Nlc3RXYWxrYWJsZS54fSwgJHtjbG9zZXN0V2Fsa2FibGUueX0pIGRpc3RhbmNlICR7Y2xvc2VzdFdhbGthYmxlLmRpc3R9LiBDYXJ2aW5nIHBhdGguLi5gXHJcbiAgICApO1xyXG4gICAgLy8gU2ltcGxlIEwtc2hhcGVkIGNhcnZpbmcgZnJvbSB0YXJnZXQgdG8gY2xvc2VzdCB3YWxrYWJsZVxyXG4gICAgX2NhcnZlSG9yaXpvbnRhbENvcnJpZG9yKG1hcCwgdGFyZ2V0WSwgdGFyZ2V0WCwgY2xvc2VzdFdhbGthYmxlLngsIGNvbHMsIHJvd3MpO1xyXG4gICAgX2NhcnZlVmVydGljYWxDb3JyaWRvcihtYXAsIGNsb3Nlc3RXYWxrYWJsZS54LCB0YXJnZXRZLCBjbG9zZXN0V2Fsa2FibGUueSwgY29scywgcm93cyk7XHJcbiAgICBjb25zb2xlLmxvZyhgICBbTWFwR2VuIENvbm5lY3RdIENhcnZlZCBwYXRoIGF0dGVtcHQgZmluaXNoZWQuYCk7XHJcblxyXG4gICAgLy8gVmVyaWZ5IHRoZSB0YXJnZXQgdGlsZSBpdHNlbGYgYmVjYW1lIHdhbGthYmxlIChzaG91bGQgYmUgY29ycmlkb3Igbm93KVxyXG4gICAgaWYgKG1hcFt0YXJnZXRZXVt0YXJnZXRYXSA9PT0gVElMRV9DT1JSSURPUiB8fCBtYXBbdGFyZ2V0WV1bdGFyZ2V0WF0gPT09IFRJTEVfUk9PTV9GTE9PUikge1xyXG4gICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICBgICAgIFtWZXJpZnldIFRhcmdldCB0aWxlICgke3RhcmdldFh9LCR7dGFyZ2V0WX0pIGlzIG5vdyB3YWxrYWJsZSAoVHlwZTogJHttYXBbdGFyZ2V0WV1bdGFyZ2V0WF19KWBcclxuICAgICAgKTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgYCAgW01hcEdlbiBDb25uZWN0XSBDYXJ2aW5nIGRvbmUsIGJ1dCB0YXJnZXQgdGlsZSgke3RhcmdldFh9LCAke3RhcmdldFl9KSBpcyBzdGlsbCBXQUxMIChWYWx1ZTogJHttYXBbdGFyZ2V0WV1bdGFyZ2V0WF19KS4gU2V0dGluZyBtYW51YWxseS5gXHJcbiAgICAgICk7XHJcbiAgICAgIC8vIEZvcmNlIGl0IGp1c3QgaW4gY2FzZSBjYXJ2aW5nIGxvZ2ljIGhhZCBhbiBlZGdlIGNhc2VcclxuICAgICAgbWFwW3RhcmdldFldW3RhcmdldFhdID0gVElMRV9DT1JSSURPUjtcclxuICAgICAgcmV0dXJuIHRydWU7IC8vIEFzc3VtZSBzdWNjZXNzIGlmIHdlIGZvdW5kIGEgcGF0aCBhbmQgZm9yY2VkIHRoZSB0aWxlXHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgIGAgIFtNYXBHZW4gQ29ubmVjdF0gRkFJTEVEIHRvIGZpbmQgQU5ZIG5lYXJieSB3YWxrYWJsZSAoQ29ycmlkb3IvRmxvb3IpIHZpYSBCRlMgZnJvbSB3YWxsIGF0IHRpbGUoJHt0YXJnZXRYfSwgJHt0YXJnZXRZfSkuIENhbm5vdCBjb25uZWN0LmBcclxuICAgICk7XHJcbiAgICByZXR1cm4gZmFsc2U7IC8vIENvbm5lY3Rpb24gZmFpbGVkXHJcbiAgfVxyXG59XHJcblxyXG4vLyAtLS0gSGVscGVyOiBDaGVjayBMaWZ0IFJlYWNoYWJpbGl0eSAtLS1cclxuZnVuY3Rpb24gX2lzTGlmdFJlYWNoYWJsZShtYXAsIGxpZnRQb3NpdGlvbiwgY29scywgcm93cykge1xyXG4gIGlmICghbGlmdFBvc2l0aW9uKSByZXR1cm4gZmFsc2U7XHJcbiAgY29uc3QgeyB0aWxlWCwgdGlsZVkgfSA9IGxpZnRQb3NpdGlvbjtcclxuICBpZiAoXHJcbiAgICB0aWxlWSA8IDAgfHxcclxuICAgIHRpbGVZID49IHJvd3MgfHxcclxuICAgIHRpbGVYIDwgMCB8fFxyXG4gICAgdGlsZVggPj0gY29scyB8fFxyXG4gICAgbWFwW3RpbGVZXT8uW3RpbGVYXSAhPT0gVElMRV9MSUZUXHJcbiAgKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICBgW01hcFZhbGlkYXRpb24gUmVhY2hhYmlsaXR5XSBJbnZhbGlkIGxpZnQgcG9zaXRpb24gcHJvdmlkZWQ6ICgke3RpbGVYfSwgJHt0aWxlWX0pYFxyXG4gICAgKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8vIFVzZSBCRlMgdXRpbGl0eSBmdW5jdGlvbiB0byBjaGVjayByZWFjaGFiaWxpdHkgZnJvbSB0aGUgbGlmdCB0aWxlXHJcbiAgLy8gV2UgbmVlZCB0byBrbm93IGlmIHRoZSBsaWZ0IGNhbiByZWFjaCAqYW55KiBUSUxFX0NPUlJJRE9SIG9yIFRJTEVfUk9PTV9GTE9PUlxyXG4gIGNvbnN0IHdhbGthYmxlRm9yTGlmdFNlYXJjaCA9IFtUSUxFX0NPUlJJRE9SLCBUSUxFX1JPT01fRkxPT1IsIFRJTEVfTElGVF07IC8vIEJGUyBjYW4gdHJhdmVyc2UgdGhlc2VcclxuICBjb25zdCB0YXJnZXRUaWxlcyA9IFtUSUxFX0NPUlJJRE9SLCBUSUxFX1JPT01fRkxPT1JdOyAvLyBTdWNjZXNzIGlmIEJGUyBmaW5kcyBvbmUgb2YgdGhlc2VcclxuXHJcbiAgY29uc3QgeyByZWFjaGFibGUgfSA9IHBlcmZvcm1CRlMoXHJcbiAgICBtYXAsXHJcbiAgICB0aWxlWCxcclxuICAgIHRpbGVZLFxyXG4gICAgY29scyxcclxuICAgIHJvd3MsXHJcbiAgICB3YWxrYWJsZUZvckxpZnRTZWFyY2gsXHJcbiAgICB0YXJnZXRUaWxlc1xyXG4gICk7XHJcblxyXG4gIGlmICghcmVhY2hhYmxlKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICBgW01hcFZhbGlkYXRpb24gUmVhY2hhYmlsaXR5XSBGQUlMRUQuIExpZnQgYXQgdGlsZSgke3RpbGVYfSwgJHt0aWxlWX0pIGlzIGlzb2xhdGVkIGZyb20gY29ycmlkb3JzL3Jvb21zLmBcclxuICAgICk7XHJcbiAgfVxyXG4gIHJldHVybiByZWFjaGFibGU7XHJcbn1cclxuXHJcbi8vIC0tLSBIZWxwZXI6IEVuc3VyZSBCb3JkZXJzIC0tLVxyXG5mdW5jdGlvbiBfZW5zdXJlTWFwQm9yZGVycyhtYXAsIGNvbHMsIHJvd3MpIHtcclxuICBjb25zb2xlLmxvZygnICBbTWFwR2VuXSBFbnN1cmluZyBtYXAgYm9yZGVycyBhcmUgd2FsbHMuJyk7XHJcbiAgLy8gVG9wIGFuZCBCb3R0b20gYm9yZGVyc1xyXG4gIGZvciAobGV0IGMgPSAwOyBjIDwgY29sczsgYysrKSB7XHJcbiAgICBpZiAobWFwWzBdPy5bY10gIT09IHVuZGVmaW5lZCkgbWFwWzBdW2NdID0gVElMRV9XQUxMO1xyXG4gICAgaWYgKG1hcFtyb3dzIC0gMV0/LltjXSAhPT0gdW5kZWZpbmVkKSBtYXBbcm93cyAtIDFdW2NdID0gVElMRV9XQUxMO1xyXG4gIH1cclxuICAvLyBMZWZ0IGFuZCBSaWdodCBib3JkZXJzXHJcbiAgZm9yIChsZXQgciA9IDA7IHIgPCByb3dzOyByKyspIHtcclxuICAgIGlmIChtYXBbcl0/LlswXSAhPT0gdW5kZWZpbmVkKSBtYXBbcl1bMF0gPSBUSUxFX1dBTEw7XHJcbiAgICBpZiAobWFwW3JdPy5bY29scyAtIDFdICE9PSB1bmRlZmluZWQpIG1hcFtyXVtjb2xzIC0gMV0gPSBUSUxFX1dBTEw7XHJcbiAgfVxyXG59XHJcblxyXG4vLyAtLS0gRGVidWcgSGVscGVyIC0tLVxyXG4vLyAoT3B0aW9uYWwsIHVuY29tbWVudCB0aGUgY2FsbCBpbiBnZW5lcmF0ZUxldmVsRGF0YSB0byB1c2Ugd2hlbiBkZWJ1Z2dpbmcgcmVhY2hhYmlsaXR5KVxyXG5mdW5jdGlvbiBsb2dNYXBHcmlkRm9yRGVidWcobWFwLCBjb2xzLCByb3dzKSB7XHJcbiAgY29uc29sZS5sb2coJy0tLSBERUJVRyBNQVAgR1JJRCAtLS0nKTtcclxuICBmb3IgKGxldCB5ID0gMDsgeSA8IHJvd3M7IHkrKykge1xyXG4gICAgY29uc3Qgcm93U3RyaW5nID0gbWFwW3ldXHJcbiAgICAgIC5tYXAoKHRpbGUpID0+IHtcclxuICAgICAgICBzd2l0Y2ggKHRpbGUpIHtcclxuICAgICAgICAgIGNhc2UgVElMRV9XQUxMOlxyXG4gICAgICAgICAgICByZXR1cm4gJyMnO1xyXG4gICAgICAgICAgY2FzZSBUSUxFX0NPUlJJRE9SOlxyXG4gICAgICAgICAgICByZXR1cm4gJy4nO1xyXG4gICAgICAgICAgY2FzZSBUSUxFX1JPT01fRkxPT1I6XHJcbiAgICAgICAgICAgIHJldHVybiAnICc7XHJcbiAgICAgICAgICBjYXNlIFRJTEVfTElGVDpcclxuICAgICAgICAgICAgcmV0dXJuICdMJztcclxuICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIHJldHVybiAnPyc7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAuam9pbignJyk7XHJcbiAgICBjb25zb2xlLmxvZyhyb3dTdHJpbmcpO1xyXG4gIH1cclxuICBjb25zb2xlLmxvZygnLS0tIEVORCBERUJVRyBNQVAgR1JJRCAtLS0nKTtcclxufVxyXG4iLCIvLyBzcmMvbWFwL1Byb2NlZHVyYWxNYXAuanNcclxuaW1wb3J0IHsgQm9vayB9IGZyb20gJy4vQm9vay5qcyc7XHJcbmltcG9ydCB7IE1hcFJlbmRlcmVyIH0gZnJvbSAnLi9NYXBSZW5kZXJlci5qcyc7XHJcbmltcG9ydCB7IHJhbmRvbUludCB9IGZyb20gJy4uL3V0aWxzL21hcC5qcyc7IC8vINCj0LHQtdC00LjRgtC10YHRjCwg0YfRgtC+INGN0YLQvtGCINGE0LDQudC7INC4INGE0YPQvdC60YbQuNGPINGB0YPRidC10YHRgtCy0YPRjtGCXHJcbmltcG9ydCB7IGdlbmVyYXRlTGV2ZWxEYXRhIH0gZnJvbSAnLi9NYXBHZW4uanMnO1xyXG5pbXBvcnQge1xyXG4gIFRJTEVfV0FMTCxcclxuICBUSUxFX0NPUlJJRE9SLFxyXG4gIFRJTEVfUk9PTV9GTE9PUixcclxuICBUSUxFX0xJRlQsXHJcbiAgTElGVF9JTlRFUkFDVElPTl9SQURJVVNfTVVMVElQTElFUixcclxuICAvLyBHWU1fQ0hBTkNFX09OX0ZJUlNUX0ZMT09SLCAvLyDQldGB0LvQuCDQuNGB0L/QvtC70YzQt9GD0LXRgtGB0Y8g0LIgTWFwR2VuLmpzXHJcbn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcclxuXHJcbmNvbnN0IERFQlVHX0ZMT09SID0gMzsgLy8g0KPRgdGC0LDQvdC+0LLQuNGC0LUg0L3QsCDQvdC+0LzQtdGAINGN0YLQsNC20LAg0LTQu9GPINC+0YLQu9Cw0LTQutC4INC40LvQuCBudWxsLzAg0LTQu9GPINC+0YLQutC70Y7Rh9C10L3QuNGPXHJcblxyXG5leHBvcnQgY2xhc3MgUHJvY2VkdXJhbE1hcCB7XHJcbiAgY29uc3RydWN0b3IoY2FudmFzV2lkdGgsIGNhbnZhc0hlaWdodCwgZmxvb3JOdW1iZXIsIG1pbkZsb29yLCBtYXhGbG9vcikge1xyXG4gICAgdGhpcy50aWxlU2l6ZSA9IDMyO1xyXG4gICAgdGhpcy5jb2xzID0gNDA7XHJcbiAgICB0aGlzLnJvd3MgPSAzMDtcclxuICAgIHRoaXMud2lkdGggPSB0aGlzLmNvbHMgKiB0aGlzLnRpbGVTaXplO1xyXG4gICAgdGhpcy5oZWlnaHQgPSB0aGlzLnJvd3MgKiB0aGlzLnRpbGVTaXplO1xyXG4gICAgdGhpcy5vZmZzZXRYID0gMDtcclxuICAgIHRoaXMub2Zmc2V0WSA9IDA7XHJcblxyXG4gICAgdGhpcy5mbG9vck51bWJlciA9IGZsb29yTnVtYmVyO1xyXG4gICAgdGhpcy5taW5GbG9vciA9IG1pbkZsb29yO1xyXG4gICAgdGhpcy5tYXhGbG9vciA9IG1heEZsb29yO1xyXG5cclxuICAgIHRoaXMubWFwID0gbnVsbDtcclxuICAgIHRoaXMucm9vbXMgPSBbXTtcclxuICAgIHRoaXMuYm9va3MgPSBbXTtcclxuICAgIHRoaXMubGlmdFBvc2l0aW9uID0gbnVsbDsgLy8ge3gsIHksIHRpbGVYLCB0aWxlWX1cclxuXHJcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IE1hcFJlbmRlcmVyKHRoaXMudGlsZVNpemUpO1xyXG5cclxuICAgIGNvbnN0IGdlbmVyYXRpb25QYXJhbXMgPSB7XHJcbiAgICAgIG1pblJvb21TaXplOiA1LFxyXG4gICAgICBtYXhSb29tU2l6ZTogMTAsXHJcbiAgICAgIGNvcnJpZG9yVGhpY2tuZXNzOiAxLFxyXG4gICAgICBudW1Sb29tczogMTIsXHJcbiAgICAgIG1heFJvb21BdHRlbXB0czogMjAwLFxyXG4gICAgICBib29rc1Blck1hcDogNSwgLy8g0JrQvtC70LjRh9C10YHRgtCy0L4g0LrQvdC40LMg0L3QsCDQutCw0YDRgtGDXHJcbiAgICAgIHJvb21UeXBlV2VpZ2h0czoge1xyXG4gICAgICAgIC8vINCS0LXRgdCwINC00LvRjyDRgtC40L/QvtCyINC60L7QvNC90LDRglxyXG4gICAgICAgIGNsYXNzcm9vbTogNTAsXHJcbiAgICAgICAgb2ZmaWNlOiAyNSxcclxuICAgICAgICBsaWJyYXJ5OiAxNSxcclxuICAgICAgICBsYWI6IDEwLFxyXG4gICAgICAgIHN0b3JhZ2U6IDUsXHJcbiAgICAgICAgdXRpbGl0eTogMTAsXHJcbiAgICAgIH0sXHJcbiAgICB9O1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGdlbmVyYXRpb25Db25maWcgPSB7XHJcbiAgICAgICAgY29sczogdGhpcy5jb2xzLFxyXG4gICAgICAgIHJvd3M6IHRoaXMucm93cyxcclxuICAgICAgICBmbG9vck51bWJlcjogdGhpcy5mbG9vck51bWJlcixcclxuICAgICAgICBtaW5GbG9vcjogdGhpcy5taW5GbG9vcixcclxuICAgICAgICBtYXhGbG9vcjogdGhpcy5tYXhGbG9vcixcclxuICAgICAgICB0aWxlU2l6ZTogdGhpcy50aWxlU2l6ZSxcclxuICAgICAgICBnZW5lcmF0aW9uUGFyYW1zOiBnZW5lcmF0aW9uUGFyYW1zLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgeyBtYXAsIHJvb21zLCBsaWZ0UG9zaXRpb24gfSA9IGdlbmVyYXRlTGV2ZWxEYXRhKGdlbmVyYXRpb25Db25maWcpO1xyXG5cclxuICAgICAgdGhpcy5tYXAgPSBtYXA7XHJcbiAgICAgIHRoaXMucm9vbXMgPSByb29tcztcclxuICAgICAgdGhpcy5saWZ0UG9zaXRpb24gPSBsaWZ0UG9zaXRpb247IC8vINCh0L7QtNC10YDQttC40YIge3gsIHksIHRpbGVYLCB0aWxlWX1cclxuXHJcbiAgICAgIHRoaXMucmVuZGVyZXIucmVzZXRDb2xvckNhY2hlKCk7XHJcbiAgICAgIHRoaXMucGxhY2VCb29rc1JlbGlhYmx5KGdlbmVyYXRpb25QYXJhbXMuYm9va3NQZXJNYXApO1xyXG5cclxuICAgICAgaWYgKHRoaXMuZmxvb3JOdW1iZXIgPT09IERFQlVHX0ZMT09SKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgICBgW1Byb2NNYXAgRiR7dGhpcy5mbG9vck51bWJlcn1dIEluaXQgY29tcGxldGUuIExpZnQgYXQgdGlsZSAoJHtsaWZ0UG9zaXRpb24/LnRpbGVYfSwgJHtsaWZ0UG9zaXRpb24/LnRpbGVZfSkuYFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgLy8gdGhpcy5sb2dNYXBHcmlkKCk7IC8vINCc0L7QttC90L4g0YDQsNGB0LrQvtC80LzQtdC90YLQuNGA0L7QstCw0YLRjCDQtNC70Y8g0LLRi9Cy0L7QtNCwINGB0LXRgtC60Lgg0YHRgNCw0LfRgyDQv9C+0YHQu9C1INCz0LXQvdC10YDQsNGG0LjQuFxyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgIGBbUHJvY01hcCBGJHt0aGlzLmZsb29yTnVtYmVyfV0gQ1JJVElDQUwgRVJST1IgZHVyaW5nIG1hcCBnZW5lcmF0aW9uIG9yIHNldHVwOmAsXHJcbiAgICAgICAgZXJyb3JcclxuICAgICAgKTtcclxuICAgICAgdGhyb3cgZXJyb3I7IC8vINCf0LXRgNC10LHRgNCw0YHRi9Cy0LDQtdC8INC+0YjQuNCx0LrRgywg0YfRgtC+0LHRiyBHYW1lLmpzINC80L7QsyDQtdC1INC+0LHRgNCw0LHQvtGC0LDRgtGMXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwbGFjZUJvb2tzUmVsaWFibHkoYm9va3NQZXJNYXApIHtcclxuICAgIHRoaXMuYm9va3MgPSBbXTsgLy8g0J7Rh9C40YnQsNC10Lwg0L/RgNC10LTRi9C00YPRidC40LUg0LrQvdC40LPQuFxyXG4gICAgY29uc3QgcG90ZW50aWFsTG9jYXRpb25zID0gW107XHJcbiAgICBjb25zdCBwbGFjZWRDb29yZHMgPSBuZXcgU2V0KCk7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhgW1Byb2NNYXAgRiR7dGhpcy5mbG9vck51bWJlcn1dIFBsYWNpbmcgdXAgdG8gJHtib29rc1Blck1hcH0gYm9va3MuLi5gKTtcclxuXHJcbiAgICBmb3IgKGxldCByID0gMDsgciA8IHRoaXMucm93czsgcisrKSB7XHJcbiAgICAgIGZvciAobGV0IGMgPSAwOyBjIDwgdGhpcy5jb2xzOyBjKyspIHtcclxuICAgICAgICBjb25zdCB0aWxlVmFsdWUgPSB0aGlzLm1hcFtyXT8uW2NdO1xyXG4gICAgICAgIGNvbnN0IGlzTGlmdFRpbGUgPVxyXG4gICAgICAgICAgdGhpcy5saWZ0UG9zaXRpb24gJiYgciA9PT0gdGhpcy5saWZ0UG9zaXRpb24udGlsZVkgJiYgYyA9PT0gdGhpcy5saWZ0UG9zaXRpb24udGlsZVg7XHJcbiAgICAgICAgLy8g0JrQvdC40LPQuCDQvNC+0LbQvdC+INGA0LDQt9C80LXRidCw0YLRjCDQsiDQutC+0YDQuNC00L7RgNCw0YUg0LjQu9C4INC90LAg0L/QvtC70YMg0LrQvtC80L3QsNGCLCDQvdC+INC90LUg0L3QsCDQutC70LXRgtC60LUg0LvQuNGE0YLQsFxyXG4gICAgICAgIGlmICgodGlsZVZhbHVlID09PSBUSUxFX0NPUlJJRE9SIHx8IHRpbGVWYWx1ZSA9PT0gVElMRV9ST09NX0ZMT09SKSAmJiAhaXNMaWZ0VGlsZSkge1xyXG4gICAgICAgICAgcG90ZW50aWFsTG9jYXRpb25zLnB1c2goeyByLCBjIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGxldCBib29rc1BsYWNlZCA9IDA7XHJcbiAgICB3aGlsZSAoYm9va3NQbGFjZWQgPCBib29rc1Blck1hcCAmJiBwb3RlbnRpYWxMb2NhdGlvbnMubGVuZ3RoID4gMCkge1xyXG4gICAgICBjb25zdCByYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBvdGVudGlhbExvY2F0aW9ucy5sZW5ndGgpO1xyXG4gICAgICBjb25zdCB7IHIsIGMgfSA9IHBvdGVudGlhbExvY2F0aW9ucy5zcGxpY2UocmFuZG9tSW5kZXgsIDEpWzBdOyAvLyDQo9C00LDQu9GP0LXQvCDQstGL0LHRgNCw0L3QvdGD0Y4g0LvQvtC60LDRhtC40Y5cclxuICAgICAgY29uc3QgY29vcmRLZXkgPSBgJHtjfSwke3J9YDtcclxuXHJcbiAgICAgIGlmIChcclxuICAgICAgICAodGhpcy5tYXBbcl0/LltjXSA9PT0gVElMRV9DT1JSSURPUiB8fCB0aGlzLm1hcFtyXT8uW2NdID09PSBUSUxFX1JPT01fRkxPT1IpICYmXHJcbiAgICAgICAgIXBsYWNlZENvb3Jkcy5oYXMoY29vcmRLZXkpXHJcbiAgICAgICkge1xyXG4gICAgICAgIGNvbnN0IGJvb2tXb3JsZFggPSAoYyArIDAuNSkgKiB0aGlzLnRpbGVTaXplO1xyXG4gICAgICAgIGNvbnN0IGJvb2tXb3JsZFkgPSAociArIDAuNSkgKiB0aGlzLnRpbGVTaXplO1xyXG4gICAgICAgIGNvbnN0IGJvb2tJZCA9IGBib29rX2Yke3RoaXMuZmxvb3JOdW1iZXJ9XyR7Ym9va3NQbGFjZWQgKyAxfWA7IC8vINCj0L3QuNC60LDQu9GM0L3Ri9C5IElEXHJcbiAgICAgICAgdGhpcy5ib29rcy5wdXNoKG5ldyBCb29rKGJvb2tXb3JsZFgsIGJvb2tXb3JsZFksIGJvb2tJZCwgdGhpcy50aWxlU2l6ZSkpO1xyXG4gICAgICAgIHBsYWNlZENvb3Jkcy5hZGQoY29vcmRLZXkpO1xyXG4gICAgICAgIGJvb2tzUGxhY2VkKys7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIGlmIChib29rc1BsYWNlZCA8IGJvb2tzUGVyTWFwKSBjb25zb2xlLndhcm4oYFtQcm9jTWFwIEYke3RoaXMuZmxvb3JOdW1iZXJ9XSBQbGFjZWQgb25seSAke2Jvb2tzUGxhY2VkfS8ke2Jvb2tzUGVyTWFwfSBib29rcy5gKTtcclxuICB9XHJcblxyXG4gIGlzV2Fsa2FibGUod29ybGRYLCB3b3JsZFkpIHtcclxuICAgIGlmICghdGhpcy5tYXApIHJldHVybiBmYWxzZTtcclxuICAgIGNvbnN0IHRpbGVYID0gTWF0aC5mbG9vcih3b3JsZFggLyB0aGlzLnRpbGVTaXplKTtcclxuICAgIGNvbnN0IHRpbGVZID0gTWF0aC5mbG9vcih3b3JsZFkgLyB0aGlzLnRpbGVTaXplKTtcclxuXHJcbiAgICBpZiAodGlsZVggPCAwIHx8IHRpbGVYID49IHRoaXMuY29scyB8fCB0aWxlWSA8IDAgfHwgdGlsZVkgPj0gdGhpcy5yb3dzKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTsgLy8g0JfQsCDQv9GA0LXQtNC10LvQsNC80Lgg0LrQsNGA0YLRi1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHRpbGVWYWx1ZSA9IHRoaXMubWFwW3RpbGVZXT8uW3RpbGVYXTtcclxuICAgIC8vINCb0LjRhNGCINGB0YfQuNGC0LDQtdGC0YHRjyDQv9GA0L7RhdC+0LTQuNC80YvQvCDQtNC70Y8g0L/RgNC+0LLQtdGA0LrQuCDRgdGC0L7Qu9C60L3QvtCy0LXQvdC40LkgKNC/0LXRgNGB0L7QvdCw0LYg0LzQvtC20LXRgiDQvdCwINC90LXQs9C+INC30LDQudGC0LgpXHJcbiAgICByZXR1cm4gdGlsZVZhbHVlID09PSBUSUxFX0NPUlJJRE9SIHx8IHRpbGVWYWx1ZSA9PT0gVElMRV9ST09NX0ZMT09SIHx8IHRpbGVWYWx1ZSA9PT0gVElMRV9MSUZUO1xyXG4gIH1cclxuXHJcbiAgZmluZFJhbmRvbUluaXRpYWxTcGF3blBvc2l0aW9uKCkge1xyXG4gICAgaWYgKCF0aGlzLm1hcCkgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIGNvbnN0IHN1aXRhYmxlVGlsZXMgPSBbXTtcclxuICAgIC8vINCh0L3QsNGH0LDQu9CwINC40YnQtdC8INCx0L7Qu9C10LUgXCLQvtGC0LrRgNGL0YLRi9C1XCIg0LzQtdGB0YLQsFxyXG4gICAgZm9yIChsZXQgciA9IDE7IHIgPCB0aGlzLnJvd3MgLSAxOyByKyspIHtcclxuICAgICAgLy8g0JjQt9Cx0LXQs9Cw0LXQvCDQutGA0LDQtdCyINC00LvRjyDQv9C10YDQstC+0Lkg0L/QvtC/0YvRgtC60LhcclxuICAgICAgZm9yIChsZXQgYyA9IDE7IGMgPCB0aGlzLmNvbHMgLSAxOyBjKyspIHtcclxuICAgICAgICBjb25zdCB0aWxlVmFsdWUgPSB0aGlzLm1hcFtyXT8uW2NdO1xyXG4gICAgICAgIGNvbnN0IGlzTGlmdCA9XHJcbiAgICAgICAgICB0aGlzLmxpZnRQb3NpdGlvbiAmJiByID09PSB0aGlzLmxpZnRQb3NpdGlvbi50aWxlWSAmJiBjID09PSB0aGlzLmxpZnRQb3NpdGlvbi50aWxlWDtcclxuICAgICAgICBpZiAoKHRpbGVWYWx1ZSA9PT0gVElMRV9DT1JSSURPUiB8fCB0aWxlVmFsdWUgPT09IFRJTEVfUk9PTV9GTE9PUikgJiYgIWlzTGlmdCkge1xyXG4gICAgICAgICAgaWYgKHRoaXMuaXNUaWxlT3BlbkVub3VnaChjLCByLCAzLCB0cnVlKSkge1xyXG4gICAgICAgICAgICAvLyDQotGA0LXQsdGD0LXQvCAzINC+0YLQutGA0YvRgtGL0YUg0YHRgtC+0YDQvtC90YssINC40LfQsdC10LPQsNC10Lwg0YPQt9C60LjRhSDQv9GA0L7RhdC+0LTQvtCyXHJcbiAgICAgICAgICAgIHN1aXRhYmxlVGlsZXMucHVzaCh7IHIsIGMgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyDQldGB0LvQuCDQvdC1INC90LDRiNC70Lgg0LjQtNC10LDQu9GM0L3Ri9GFLCDQuNGJ0LXQvCDRgSAyINC+0YLQutGA0YvRgtGL0LzQuCDRgdGC0L7RgNC+0L3QsNC80LhcclxuICAgIGlmIChzdWl0YWJsZVRpbGVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBmb3IgKGxldCByID0gMDsgciA8IHRoaXMucm93czsgcisrKSB7XHJcbiAgICAgICAgZm9yIChsZXQgYyA9IDA7IGMgPCB0aGlzLmNvbHM7IGMrKykge1xyXG4gICAgICAgICAgY29uc3QgdGlsZVZhbHVlID0gdGhpcy5tYXBbcl0/LltjXTtcclxuICAgICAgICAgIGNvbnN0IGlzTGlmdCA9XHJcbiAgICAgICAgICAgIHRoaXMubGlmdFBvc2l0aW9uICYmIHIgPT09IHRoaXMubGlmdFBvc2l0aW9uLnRpbGVZICYmIGMgPT09IHRoaXMubGlmdFBvc2l0aW9uLnRpbGVYO1xyXG4gICAgICAgICAgaWYgKCh0aWxlVmFsdWUgPT09IFRJTEVfQ09SUklET1IgfHwgdGlsZVZhbHVlID09PSBUSUxFX1JPT01fRkxPT1IpICYmICFpc0xpZnQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNUaWxlT3BlbkVub3VnaChjLCByLCAyLCB0cnVlKSkge1xyXG4gICAgICAgICAgICAgIC8vIDIg0L7RgtC60YDRi9GC0YvRhSDRgdGC0L7RgNC+0L3Riywg0LjQt9Cx0LXQs9Cw0LXQvCDRg9C30LrQuNGFINC/0YDQvtGF0L7QtNC+0LJcclxuICAgICAgICAgICAgICBzdWl0YWJsZVRpbGVzLnB1c2goeyByLCBjIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyDQmtGA0LDQudC90LjQuSDRgdC70YPRh9Cw0Lk6INC70Y7QsdCw0Y8g0L/RgNC+0YXQvtC00LjQvNCw0Y8g0L3QtSDQu9C40YTRgtC+0LLQsNGPINC60LvQtdGC0LrQsFxyXG4gICAgaWYgKHN1aXRhYmxlVGlsZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIC8vIGNvbnNvbGUud2FybihgW1Byb2NNYXAgRiR7dGhpcy5mbG9vck51bWJlcn0gUmFuZG9tU3Bhd25dIE5vIGlkZWFsIHNwb3RzLiBVc2luZyBhbnkgdmFsaWQgbm9uLWxpZnQgZmxvb3IvY29ycmlkb3IuYCk7XHJcbiAgICAgIGZvciAobGV0IHIgPSAwOyByIDwgdGhpcy5yb3dzOyByKyspIHtcclxuICAgICAgICBmb3IgKGxldCBjID0gMDsgYyA8IHRoaXMuY29sczsgYysrKSB7XHJcbiAgICAgICAgICBjb25zdCB0aWxlVmFsdWUgPSB0aGlzLm1hcFtyXT8uW2NdO1xyXG4gICAgICAgICAgY29uc3QgaXNMaWZ0ID1cclxuICAgICAgICAgICAgdGhpcy5saWZ0UG9zaXRpb24gJiYgciA9PT0gdGhpcy5saWZ0UG9zaXRpb24udGlsZVkgJiYgYyA9PT0gdGhpcy5saWZ0UG9zaXRpb24udGlsZVg7XHJcbiAgICAgICAgICBpZiAoKHRpbGVWYWx1ZSA9PT0gVElMRV9DT1JSSURPUiB8fCB0aWxlVmFsdWUgPT09IFRJTEVfUk9PTV9GTE9PUikgJiYgIWlzTGlmdCkge1xyXG4gICAgICAgICAgICBzdWl0YWJsZVRpbGVzLnB1c2goeyByLCBjIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChzdWl0YWJsZVRpbGVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgIGBbUHJvY01hcCBGJHt0aGlzLmZsb29yTnVtYmVyfSBSYW5kb21TcGF3bl0gQ1JJVElDQUw6IE5vIHN1aXRhYmxlIHNwYXduIHRpbGVzIGZvdW5kIWBcclxuICAgICAgKTtcclxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IHIsIGMgfSA9IHN1aXRhYmxlVGlsZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogc3VpdGFibGVUaWxlcy5sZW5ndGgpXTtcclxuICAgIHJldHVybiB7IHg6IChjICsgMC41KSAqIHRoaXMudGlsZVNpemUsIHk6IChyICsgMC41KSAqIHRoaXMudGlsZVNpemUgfTtcclxuICB9XHJcblxyXG4gIGlzVGlsZU9wZW5Fbm91Z2godGlsZVgsIHRpbGVZLCBtaW5PcGVuU2lkZXMgPSAyLCBhdm9pZE9uZVRpbGVXaWRlUGFzc2FnZXMgPSBmYWxzZSkge1xyXG4gICAgY29uc3QgaXNEZWJ1Z0N1cnJlbnRDYWxsID0gdGhpcy5mbG9vck51bWJlciA9PT0gREVCVUdfRkxPT1I7IC8vINCb0L7Qs9C40YDRg9C10Lwg0YLQvtC70YzQutC+INC00LvRjyDQvtGC0LvQsNC00L7Rh9C90L7Qs9C+INGN0YLQsNC20LBcclxuICAgIC8vIGlmIChpc0RlYnVnQ3VycmVudENhbGwpIGNvbnNvbGUubG9nKGBbUHJvY01hcCBGJHt0aGlzLmZsb29yTnVtYmVyfSBpc1RpbGVPcGVuRW5vdWdoXSBDaGVja2luZyAoJHt0aWxlWH0sJHt0aWxlWX0pIHdpdGggbWluT3BlblNpZGVzPSR7bWluT3BlblNpZGVzfSwgYXZvaWROYXJyb3c9JHthdm9pZE9uZVRpbGVXaWRlUGFzc2FnZXN9YCk7XHJcblxyXG4gICAgaWYgKCF0aGlzLm1hcCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgbGV0IG9wZW5TaWRlc0NvdW50ID0gMDtcclxuICAgIC8vIGR4LCBkeSwgbGFiZWxcclxuICAgIGNvbnN0IGRpcmVjdGlvbnMgPSBbXHJcbiAgICAgIFswLCAtMSwgJ04nXSxcclxuICAgICAgWzAsIDEsICdTJ10sXHJcbiAgICAgIFstMSwgMCwgJ1cnXSxcclxuICAgICAgWzEsIDAsICdFJ10sXHJcbiAgICBdO1xyXG4gICAgY29uc3QgaXNPcGVuU2lkZSA9IFtmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZV07IC8vIE4sIFMsIFcsIEVcclxuICAgIC8vIGxldCBuZWlnaGJvckRlYnVnID0ge307IC8vINCg0LDRgdC60L7QvNC80LXQvdGC0LjRgNGD0LnRgtC1INC00LvRjyDQtNC10YLQsNC70YzQvdC+0LPQviDQu9C+0LPQsCDRgdC+0YHQtdC00LXQuVxyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGlyZWN0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBbZHgsIGR5LCBkaXJMYWJlbF0gPSBkaXJlY3Rpb25zW2ldO1xyXG4gICAgICBjb25zdCBuZWlnaGJvclggPSB0aWxlWCArIGR4O1xyXG4gICAgICBjb25zdCBuZWlnaGJvclkgPSB0aWxlWSArIGR5O1xyXG4gICAgICBsZXQgbmVpZ2hib3JUaWxlVmFsdWUgPSBUSUxFX1dBTEw7IC8vINCf0L4g0YPQvNC+0LvRh9Cw0L3QuNGOINGB0YLQtdC90LAsINC10YHQu9C4INC30LAg0L/RgNC10LTQtdC70LDQvNC4XHJcblxyXG4gICAgICBpZiAobmVpZ2hib3JYID49IDAgJiYgbmVpZ2hib3JYIDwgdGhpcy5jb2xzICYmIG5laWdoYm9yWSA+PSAwICYmIG5laWdoYm9yWSA8IHRoaXMucm93cykge1xyXG4gICAgICAgIG5laWdoYm9yVGlsZVZhbHVlID0gdGhpcy5tYXBbbmVpZ2hib3JZXT8uW25laWdoYm9yWF07XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgbmVpZ2hib3JUaWxlVmFsdWUgPT09IFRJTEVfQ09SUklET1IgfHxcclxuICAgICAgICAgIG5laWdoYm9yVGlsZVZhbHVlID09PSBUSUxFX1JPT01fRkxPT1IgfHxcclxuICAgICAgICAgIG5laWdoYm9yVGlsZVZhbHVlID09PSBUSUxFX0xJRlRcclxuICAgICAgICApIHtcclxuICAgICAgICAgIG9wZW5TaWRlc0NvdW50Kys7XHJcbiAgICAgICAgICBpc09wZW5TaWRlW2ldID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgLy8gaWYgKGlzRGVidWdDdXJyZW50Q2FsbCkgbmVpZ2hib3JEZWJ1Z1tkaXJMYWJlbF0gPSBgKCR7bmVpZ2hib3JYfSwke25laWdoYm9yWX0pIFR5cGU6JHtuZWlnaGJvclRpbGVWYWx1ZX0gKE9wZW46JHtpc09wZW5TaWRlW2ldfSlgO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGlmIChpc0RlYnVnQ3VycmVudENhbGwpIGNvbnNvbGUubG9nKGAgIFtpc1RpbGVPcGVuRW5vdWdoXSBOZWlnaGJvcnMgZm9yICgke3RpbGVYfSwke3RpbGVZfSk6ICR7SlNPTi5zdHJpbmdpZnkobmVpZ2hib3JEZWJ1Zyl9IC0+IG9wZW5TaWRlc0NvdW50OiAke29wZW5TaWRlc0NvdW50fWApO1xyXG5cclxuICAgIGlmIChvcGVuU2lkZXNDb3VudCA8IG1pbk9wZW5TaWRlcykge1xyXG4gICAgICAvLyBpZiAoaXNEZWJ1Z0N1cnJlbnRDYWxsKSBjb25zb2xlLmxvZyhgICBbaXNUaWxlT3BlbkVub3VnaF0gUkVTVUxUIGZvciAoJHt0aWxlWH0sJHt0aWxlWX0pOiBmYWxzZSAob3BlblNpZGVzQ291bnQgJHtvcGVuU2lkZXNDb3VudH0gPCBtaW5PcGVuU2lkZXMgJHttaW5PcGVuU2lkZXN9KWApO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGF2b2lkT25lVGlsZVdpZGVQYXNzYWdlcyAmJiBvcGVuU2lkZXNDb3VudCA9PT0gMikge1xyXG4gICAgICAvLyDQn9GA0L7QstC10YDQutCwINC90LAg0L/RgNC+0YXQvtC0INGI0LjRgNC40L3QvtC5INCyIDEg0LrQu9C10YLQutGDICjQvtGC0LrRgNGL0YLRiyDRgtC+0LvRjNC60L4g0L/RgNC+0YLQuNCy0L7Qv9C+0LvQvtC20L3Ri9C1INGB0YLQvtGA0L7QvdGLKVxyXG4gICAgICBpZiAoaXNPcGVuU2lkZVswXSAmJiBpc09wZW5TaWRlWzFdICYmICFpc09wZW5TaWRlWzJdICYmICFpc09wZW5TaWRlWzNdKSB7XHJcbiAgICAgICAgLy8g0KHQtdCy0LXRgCDQuCDQrtCzINC+0YLQutGA0YvRgtGLLCDQl9Cw0L/QsNC0INC4INCS0L7RgdGC0L7QuiDQt9Cw0LrRgNGL0YLRi1xyXG4gICAgICAgIC8vIGlmIChpc0RlYnVnQ3VycmVudENhbGwpIGNvbnNvbGUubG9nKGAgIFtpc1RpbGVPcGVuRW5vdWdoXSBSRVNVTFQgZm9yICgke3RpbGVYfSwke3RpbGVZfSk6IGZhbHNlICh2ZXJ0aWNhbCAxLXRpbGUgcGFzc2FnZSlgKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGlzT3BlblNpZGVbMl0gJiYgaXNPcGVuU2lkZVszXSAmJiAhaXNPcGVuU2lkZVswXSAmJiAhaXNPcGVuU2lkZVsxXSkge1xyXG4gICAgICAgIC8vINCX0LDQv9Cw0LQg0Lgg0JLQvtGB0YLQvtC6INC+0YLQutGA0YvRgtGLLCDQodC10LLQtdGAINC4INCu0LMg0LfQsNC60YDRi9GC0YtcclxuICAgICAgICAvLyBpZiAoaXNEZWJ1Z0N1cnJlbnRDYWxsKSBjb25zb2xlLmxvZyhgICBbaXNUaWxlT3BlbkVub3VnaF0gUkVTVUxUIGZvciAoJHt0aWxlWH0sJHt0aWxlWX0pOiBmYWxzZSAoaG9yaXpvbnRhbCAxLXRpbGUgcGFzc2FnZSlgKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIGlmIChpc0RlYnVnQ3VycmVudENhbGwpIGNvbnNvbGUubG9nKGAgIFtpc1RpbGVPcGVuRW5vdWdoXSBSRVNVTFQgZm9yICgke3RpbGVYfSwke3RpbGVZfSk6IHRydWVgKTtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgZmluZE5lYXJlc3RXYWxrYWJsZVRpbGUoXHJcbiAgICB0YXJnZXRXb3JsZFgsXHJcbiAgICB0YXJnZXRXb3JsZFksXHJcbiAgICBtYXhSYWRpdXMgPSA4LFxyXG4gICAgZXhjbHVkZUxpZnQgPSBmYWxzZSxcclxuICAgIGF2b2lkT25lVGlsZVdpZGVQYXNzYWdlcyA9IGZhbHNlXHJcbiAgKSB7XHJcbiAgICBjb25zdCBpc0RlYnVnQ3VycmVudENhbGwgPSB0aGlzLmZsb29yTnVtYmVyID09PSBERUJVR19GTE9PUjtcclxuICAgIC8vIGlmIChpc0RlYnVnQ3VycmVudENhbGwpIGNvbnNvbGUubG9nKGBbUHJvY01hcCBGJHt0aGlzLmZsb29yTnVtYmVyfSBmaW5kTmVhcmVzdFdhbGthYmxlVGlsZV0gVGFyZ2V0V29ybGQ6KCR7dGFyZ2V0V29ybGRYLnRvRml4ZWQoMSl9LCR7dGFyZ2V0V29ybGRZLnRvRml4ZWQoMSl9KSwgbWF4Ujoke21heFJhZGl1c30sIGV4Y2x1ZGVMaWZ0OiR7ZXhjbHVkZUxpZnR9LCBhdm9pZE5hcnJvdzoke2F2b2lkT25lVGlsZVdpZGVQYXNzYWdlc31gKTtcclxuXHJcbiAgICBpZiAoIXRoaXMubWFwKSByZXR1cm4gbnVsbDtcclxuICAgIGNvbnN0IHRhcmdldFRpbGVYID0gTWF0aC5mbG9vcih0YXJnZXRXb3JsZFggLyB0aGlzLnRpbGVTaXplKTtcclxuICAgIGNvbnN0IHRhcmdldFRpbGVZID0gTWF0aC5mbG9vcih0YXJnZXRXb3JsZFkgLyB0aGlzLnRpbGVTaXplKTtcclxuICAgIC8vIGlmIChpc0RlYnVnQ3VycmVudENhbGwpIGNvbnNvbGUubG9nKGAgIFtmaW5kTmVhcmVzdF0gVGFyZ2V0VGlsZTogKCR7dGFyZ2V0VGlsZVh9LCR7dGFyZ2V0VGlsZVl9KWApO1xyXG5cclxuICAgIGNvbnN0IHRhcmdldFNhZmVUaWxlcyA9IFtUSUxFX0NPUlJJRE9SLCBUSUxFX1JPT01fRkxPT1JdOyAvLyDQmtGD0LTQsCDRhdC+0YLQuNC8INC/0L7Qv9Cw0YHRgtGMXHJcblxyXG4gICAgLy8gMS4g0J/RgNC+0LLQtdGA0Y/QtdC8INGB0LDQvNGDINGG0LXQu9C10LLRg9GOINC60LvQtdGC0LrRg1xyXG4gICAgaWYgKFxyXG4gICAgICB0YXJnZXRUaWxlWCA+PSAwICYmXHJcbiAgICAgIHRhcmdldFRpbGVYIDwgdGhpcy5jb2xzICYmXHJcbiAgICAgIHRhcmdldFRpbGVZID49IDAgJiZcclxuICAgICAgdGFyZ2V0VGlsZVkgPCB0aGlzLnJvd3NcclxuICAgICkge1xyXG4gICAgICBjb25zdCBzdGFydFRpbGVWYWx1ZSA9IHRoaXMubWFwW3RhcmdldFRpbGVZXVt0YXJnZXRUaWxlWF07XHJcbiAgICAgIGlmIChcclxuICAgICAgICB0YXJnZXRTYWZlVGlsZXMuaW5jbHVkZXMoc3RhcnRUaWxlVmFsdWUpICYmXHJcbiAgICAgICAgKCFleGNsdWRlTGlmdCB8fCBzdGFydFRpbGVWYWx1ZSAhPT0gVElMRV9MSUZUKVxyXG4gICAgICApIHtcclxuICAgICAgICAvLyDQldGB0LvQuCDRhtC10LvRjCAtINC70LjRhNGCINC4INC80Ysg0LXQs9C+INC90LUg0LjRgdC60LvRjtGH0LDQtdC8LCDRgtC+INGC0YDQtdCx0L7QstCw0L3QuNGPINC6IFwi0L7RgtC60YDRi9GC0L7RgdGC0LhcIiDQvNC+0LPRg9GCINCx0YvRgtGMINC90LjQttC1LCDRgi7Qui4g0Y3RgtC+INC00LvRjyBwYXRoZmluZGluZywg0LAg0L3QtSDRgdC/0LDQstC90LBcclxuICAgICAgICBjb25zdCBtaW5TaWRlc0ZvckluaXRpYWwgPSAyO1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIHRoaXMuaXNUaWxlT3BlbkVub3VnaChcclxuICAgICAgICAgICAgdGFyZ2V0VGlsZVgsXHJcbiAgICAgICAgICAgIHRhcmdldFRpbGVZLFxyXG4gICAgICAgICAgICBtaW5TaWRlc0ZvckluaXRpYWwsXHJcbiAgICAgICAgICAgIGF2b2lkT25lVGlsZVdpZGVQYXNzYWdlc1xyXG4gICAgICAgICAgKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgLy8gaWYgKGlzRGVidWdDdXJyZW50Q2FsbCkgY29uc29sZS5sb2coYCAgW2ZpbmROZWFyZXN0XSBTVUNDRVNTOiBUYXJnZXQgdGlsZSAoJHt0YXJnZXRUaWxlWH0sJHt0YXJnZXRUaWxlWX0pIGlzIHN1aXRhYmxlLmApO1xyXG4gICAgICAgICAgcmV0dXJuIHsgeDogKHRhcmdldFRpbGVYICsgMC41KSAqIHRoaXMudGlsZVNpemUsIHk6ICh0YXJnZXRUaWxlWSArIDAuNSkgKiB0aGlzLnRpbGVTaXplIH07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gMi4g0KDQsNC00LjQsNC70YzQvdGL0Lkg0L/QvtC40YHQulxyXG4gICAgZm9yIChsZXQgcmFkaXVzID0gMTsgcmFkaXVzIDw9IG1heFJhZGl1czsgcmFkaXVzKyspIHtcclxuICAgICAgLy8g0JXRgdC70Lgg0LjQt9Cx0LXQs9Cw0LXQvCDRg9C30LrQuNGFINC/0YDQvtGF0L7QtNC+0LIsINC00LvRjyDQsdC70LjQttCw0LnRiNC40YUg0YHQvtGB0LXQtNC10LkgKHJhZGl1cz0xKSDRgtGA0LXQsdGD0LXQvCDQsdC+0LvRjNGI0LUg0L7RgtC60YDRi9GC0YvRhSDRgdGC0L7RgNC+0L1cclxuICAgICAgY29uc3QgY3VycmVudFJhZGl1c01pbk9wZW5TaWRlcyA9IDI7XHJcbiAgICAgIC8vIGlmIChpc0RlYnVnQ3VycmVudENhbGwgJiYgcmFkaXVzID09PSAxKSBjb25zb2xlLmxvZyhgICBbZmluZE5lYXJlc3RdIFJhZGlhbCBzZWFyY2ggKHJhZGl1cyAxKSwgbWluT3BlblNpZGVzIGZvciBjaGVjazogJHtjdXJyZW50UmFkaXVzTWluT3BlblNpZGVzfWApO1xyXG5cclxuICAgICAgZm9yIChsZXQgZHkgPSAtcmFkaXVzOyBkeSA8PSByYWRpdXM7IGR5KyspIHtcclxuICAgICAgICBmb3IgKGxldCBkeCA9IC1yYWRpdXM7IGR4IDw9IHJhZGl1czsgZHgrKykge1xyXG4gICAgICAgICAgaWYgKE1hdGguYWJzKGR4KSA8IHJhZGl1cyAmJiBNYXRoLmFicyhkeSkgPCByYWRpdXMpIGNvbnRpbnVlOyAvLyDQotC+0LvRjNC60L4g0LPRgNCw0L3QuNGG0LAg0YLQtdC60YPRidC10LPQviDRgNCw0LTQuNGD0YHQsFxyXG4gICAgICAgICAgY29uc3QgY2hlY2tYID0gdGFyZ2V0VGlsZVggKyBkeDtcclxuICAgICAgICAgIGNvbnN0IGNoZWNrWSA9IHRhcmdldFRpbGVZICsgZHk7XHJcblxyXG4gICAgICAgICAgaWYgKGNoZWNrWCA8IDAgfHwgY2hlY2tYID49IHRoaXMuY29scyB8fCBjaGVja1kgPCAwIHx8IGNoZWNrWSA+PSB0aGlzLnJvd3MpIGNvbnRpbnVlOyAvLyDQkiDQv9GA0LXQtNC10LvQsNGFINC60LDRgNGC0YtcclxuXHJcbiAgICAgICAgICBjb25zdCB0aWxlVmFsdWUgPSB0aGlzLm1hcFtjaGVja1ldPy5bY2hlY2tYXTtcclxuICAgICAgICAgIGlmICh0YXJnZXRTYWZlVGlsZXMuaW5jbHVkZXModGlsZVZhbHVlKSAmJiAoIWV4Y2x1ZGVMaWZ0IHx8IHRpbGVWYWx1ZSAhPT0gVElMRV9MSUZUKSkge1xyXG4gICAgICAgICAgICAvLyDQn9C+0LTRhdC+0LTQuNGCINC70Lgg0YLQuNC/INGC0LDQudC70LBcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgIHRoaXMuaXNUaWxlT3BlbkVub3VnaChcclxuICAgICAgICAgICAgICAgIGNoZWNrWCxcclxuICAgICAgICAgICAgICAgIGNoZWNrWSxcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRSYWRpdXNNaW5PcGVuU2lkZXMsXHJcbiAgICAgICAgICAgICAgICBhdm9pZE9uZVRpbGVXaWRlUGFzc2FnZXNcclxuICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgIC8vIGlmIChpc0RlYnVnQ3VycmVudENhbGwpIGNvbnNvbGUubG9nKGAgIFtmaW5kTmVhcmVzdF0gU1VDQ0VTUzogUmFkaWFsIGZvdW5kICgke2NoZWNrWH0sJHtjaGVja1l9KSBhdCByYWRpdXMgJHtyYWRpdXN9LmApO1xyXG4gICAgICAgICAgICAgIHJldHVybiB7IHg6IChjaGVja1ggKyAwLjUpICogdGhpcy50aWxlU2l6ZSwgeTogKGNoZWNrWSArIDAuNSkgKiB0aGlzLnRpbGVTaXplIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyAzLiDQn9C+0LjRgdC6IEJGUyAo0LfQsNC/0LDRgdC90L7QuSDQstCw0YDQuNCw0L3RgilcclxuICAgIC8vIGlmIChpc0RlYnVnQ3VycmVudENhbGwpIGNvbnNvbGUud2FybihgICBbZmluZE5lYXJlc3RdIFJhZGlhbCBzZWFyY2ggZmFpbGVkIGZvciB0YXJnZXQgKCR7dGFyZ2V0VGlsZVh9LCR7dGFyZ2V0VGlsZVl9KS4gU3RhcnRpbmcgQkZTLi4uYCk7XHJcbiAgICBjb25zdCBiZnNNaW5PcGVuU2lkZXMgPSAyOyAvLyDQlNC70Y8gQkZTINGB0YLQsNC90LTQsNGA0YLQvdGL0LUgMiDRgdGC0L7RgNC+0L3Riywg0L3QviDRgSDQv9GA0L7QstC10YDQutC+0LkgYXZvaWRPbmVUaWxlV2lkZVBhc3NhZ2VzXHJcbiAgICBjb25zdCBxdWV1ZSA9IFtbdGFyZ2V0VGlsZVgsIHRhcmdldFRpbGVZXV07XHJcbiAgICBjb25zdCB2aXNpdGVkID0gbmV3IFNldChbYCR7dGFyZ2V0VGlsZVh9LCR7dGFyZ2V0VGlsZVl9YF0pO1xyXG4gICAgY29uc3QgZGlyZWN0aW9ucyA9IFtcclxuICAgICAgWzAsIC0xXSxcclxuICAgICAgWzAsIDFdLFxyXG4gICAgICBbLTEsIDBdLFxyXG4gICAgICBbMSwgMF0sXHJcbiAgICBdOyAvLyBOLCBTLCBXLCBFXHJcbiAgICAvLyDQlNC70Y8g0L/Rg9GC0LggQkZTINC80L7QttC90L4g0L/RgNC+0YXQvtC00LjRgtGMINGH0LXRgNC10Lcg0LvQuNGE0YIsINC00LDQttC1INC10YHQu9C4IGV4Y2x1ZGVMaWZ0PXRydWUgKNC80Ysg0L3QtSDRhdC+0YLQuNC8INC90LAg0L3QtdC8INCe0KHQotCQ0J3QntCS0JjQotCs0KHQrylcclxuICAgIGNvbnN0IGJmc1dhbGthYmxlUGF0aFRpbGVzID0gW1RJTEVfQ09SUklET1IsIFRJTEVfUk9PTV9GTE9PUiwgVElMRV9MSUZUXTtcclxuXHJcbiAgICB3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xyXG4gICAgICBjb25zdCBbY3VyclgsIGN1cnJZXSA9IHF1ZXVlLnNoaWZ0KCk7XHJcbiAgICAgIGZvciAoY29uc3QgW2R4LCBkeV0gb2YgZGlyZWN0aW9ucykge1xyXG4gICAgICAgIGNvbnN0IG5leHRYID0gY3VyclggKyBkeDtcclxuICAgICAgICBjb25zdCBuZXh0WSA9IGN1cnJZICsgZHk7XHJcbiAgICAgICAgY29uc3Qga2V5ID0gYCR7bmV4dFh9LCR7bmV4dFl9YDtcclxuXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgbmV4dFggPj0gMCAmJlxyXG4gICAgICAgICAgbmV4dFggPCB0aGlzLmNvbHMgJiZcclxuICAgICAgICAgIG5leHRZID49IDAgJiZcclxuICAgICAgICAgIG5leHRZIDwgdGhpcy5yb3dzICYmXHJcbiAgICAgICAgICAhdmlzaXRlZC5oYXMoa2V5KVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgY29uc3QgdGlsZVZhbHVlID0gdGhpcy5tYXBbbmV4dFldPy5bbmV4dFhdO1xyXG4gICAgICAgICAgdmlzaXRlZC5hZGQoa2V5KTtcclxuXHJcbiAgICAgICAgICBpZiAodGFyZ2V0U2FmZVRpbGVzLmluY2x1ZGVzKHRpbGVWYWx1ZSkgJiYgKCFleGNsdWRlTGlmdCB8fCB0aWxlVmFsdWUgIT09IFRJTEVfTElGVCkpIHtcclxuICAgICAgICAgICAgLy8g0J3QsNGI0LvQuCDQv9C+0LTRhdC+0LTRj9GJ0LjQuSDRgtC40L8g0YLQsNC50LvQsFxyXG4gICAgICAgICAgICBpZiAodGhpcy5pc1RpbGVPcGVuRW5vdWdoKG5leHRYLCBuZXh0WSwgYmZzTWluT3BlblNpZGVzLCBhdm9pZE9uZVRpbGVXaWRlUGFzc2FnZXMpKSB7XHJcbiAgICAgICAgICAgICAgLy8g0Jgg0L7QvSDQtNC+0YHRgtCw0YLQvtGH0L3QviDQvtGC0LrRgNGL0YJcclxuICAgICAgICAgICAgICAvLyBpZiAoaXNEZWJ1Z0N1cnJlbnRDYWxsKSBjb25zb2xlLmxvZyhgICBbZmluZE5lYXJlc3RdIFNVQ0NFU1M6IEJGUyBmb3VuZCAoJHtuZXh0WH0sJHtuZXh0WX0pLmApO1xyXG4gICAgICAgICAgICAgIHJldHVybiB7IHg6IChuZXh0WCArIDAuNSkgKiB0aGlzLnRpbGVTaXplLCB5OiAobmV4dFkgKyAwLjUpICogdGhpcy50aWxlU2l6ZSB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAvLyDQldGB0LvQuCDRgtCw0LnQuyDQv9GA0L7RhdC+0LTQuNC8INC00LvRjyBCRlMsINC00L7QsdCw0LLQu9GP0LXQvCDQsiDQvtGH0LXRgNC10LTRjFxyXG4gICAgICAgICAgaWYgKGJmc1dhbGthYmxlUGF0aFRpbGVzLmluY2x1ZGVzKHRpbGVWYWx1ZSkpIHtcclxuICAgICAgICAgICAgcXVldWUucHVzaChbbmV4dFgsIG5leHRZXSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gaWYgKGlzRGVidWdDdXJyZW50Q2FsbCkgY29uc29sZS5lcnJvcihgICBbZmluZE5lYXJlc3RdIEZBSUxVUkU6IE5vIHN1aXRhYmxlIHRpbGUgZm91bmQgZm9yIHRhcmdldCAoJHt0YXJnZXRUaWxlWH0sJHt0YXJnZXRUaWxlWX0pIGFmdGVyIGFsbCBzZWFyY2hlcy5gKTtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgZ2V0U3Bhd25Qb2ludEluUm9vbU9mTGlmdChsaWZ0VGlsZVgsIGxpZnRUaWxlWSwgcHJlZmVycmVkRGlzdGFuY2UgPSAyKSB7XHJcbiAgICBjb25zdCBpc0RlYnVnQ3VycmVudENhbGwgPSB0aGlzLmZsb29yTnVtYmVyID09PSBERUJVR19GTE9PUjtcclxuICAgIC8vIGlmIChpc0RlYnVnQ3VycmVudENhbGwpIGNvbnNvbGUubG9nKGBbUHJvY01hcCBGJHt0aGlzLmZsb29yTnVtYmVyfSBnZXRTcGF3blBvaW50SW5Sb29tT2ZMaWZ0XSBDYWxsZWQgZm9yIGxpZnQgYXQgKCR7bGlmdFRpbGVYfSwgJHtsaWZ0VGlsZVl9KSwgcHJlZmVycmVkRGlzdDogJHtwcmVmZXJyZWREaXN0YW5jZX1gKTtcclxuXHJcbiAgICBsZXQgYXNzb2NpYXRlZFJvb20gPSBudWxsO1xyXG4gICAgbGV0IGVudHJ5UG9pbnRUb1Jvb20gPSBudWxsOyAvLyB7eCwgeX0gLSDQutC70LXRgtC60LAg0L/QvtC70LAg0LrQvtC80L3QsNGC0YssINC/0YDQuNC80YvQutCw0Y7RidCw0Y8g0Log0LvQuNGE0YLRgy/QutC+0YDQuNC00L7RgNGDINC70LjRhNGC0LBcclxuICAgIGxldCBkaXJlY3Rpb25Gcm9tU291cmNlVG9FbnRyeVBvaW50ID0gbnVsbDsgLy8ge2R4LCBkeX0gLSDQvdCw0L/RgNCw0LLQu9C10L3QuNC1INC+0YIg0LjRgdGC0L7Rh9C90LjQutCwICjQu9C40YTRgiDQuNC70Lgg0LrQvtGA0LjQtNC+0YAg0YMg0LvQuNGE0YLQsCkg0LogZW50cnlQb2ludFRvUm9vbVxyXG5cclxuICAgIGNvbnN0IGNoZWNrTmVpZ2hib3JzID0gW1xyXG4gICAgICB7IGR4OiAwLCBkeTogLTEgfSxcclxuICAgICAgeyBkeDogMCwgZHk6IDEgfSxcclxuICAgICAgeyBkeDogLTEsIGR5OiAwIH0sXHJcbiAgICAgIHsgZHg6IDEsIGR5OiAwIH0sXHJcbiAgICBdOyAvLyBOLCBTLCBXLCBFXHJcblxyXG4gICAgLy8g0K3RgtCw0L8gMTog0JvQuNGE0YIg0L3QsNC/0YDRj9C80YPRjiDQv9GA0LjQvNGL0LrQsNC10YIg0Log0LrQvtC80L3QsNGC0LU/XHJcbiAgICAvLyDQmtC70LXRgtC60LAg0LvQuNGE0YLQsCBsaWZ0VGlsZVgsIGxpZnRUaWxlWSDQnNCe0JbQldCiINCx0YvRgtGMIFRJTEVfQ09SUklET1Ig0LIgdGhpcy5tYXAsINC10YHQu9C4INC/0YPRgtGMINCx0YvQuyDQv9GA0L7Qu9C+0LbQtdC9INC6INC90LXQuS5cclxuICAgIGZvciAoY29uc3QgbiBvZiBjaGVja05laWdoYm9ycykge1xyXG4gICAgICBjb25zdCBhZGpYID0gbGlmdFRpbGVYICsgbi5keDsgLy8g0KHQvtGB0LXQtCDQutC70LXRgtC60Lgg0LvQuNGE0YLQsFxyXG4gICAgICBjb25zdCBhZGpZID0gbGlmdFRpbGVZICsgbi5keTtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIGFkalggPj0gMCAmJlxyXG4gICAgICAgIGFkalggPCB0aGlzLmNvbHMgJiZcclxuICAgICAgICBhZGpZID49IDAgJiZcclxuICAgICAgICBhZGpZIDwgdGhpcy5yb3dzICYmXHJcbiAgICAgICAgdGhpcy5tYXBbYWRqWV0/LlthZGpYXSA9PT0gVElMRV9ST09NX0ZMT09SXHJcbiAgICAgICkge1xyXG4gICAgICAgIGZvciAoY29uc3Qgcm9vbSBvZiB0aGlzLnJvb21zKSB7XHJcbiAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIGFkalggPj0gcm9vbS54ICYmXHJcbiAgICAgICAgICAgIGFkalggPCByb29tLnggKyByb29tLndpZHRoICYmXHJcbiAgICAgICAgICAgIGFkalkgPj0gcm9vbS55ICYmXHJcbiAgICAgICAgICAgIGFkalkgPCByb29tLnkgKyByb29tLmhlaWdodFxyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGFzc29jaWF0ZWRSb29tID0gcm9vbTtcclxuICAgICAgICAgICAgZW50cnlQb2ludFRvUm9vbSA9IHsgeDogYWRqWCwgeTogYWRqWSB9OyAvLyDQrdGC0L4g0Lgg0LXRgdGC0Ywg0YLQvtGH0LrQsCDQstGF0L7QtNCwINCyINC60L7QvNC90LDRgtGDXHJcbiAgICAgICAgICAgIGRpcmVjdGlvbkZyb21Tb3VyY2VUb0VudHJ5UG9pbnQgPSB7IGR4OiBuLmR4LCBkeTogbi5keSB9OyAvLyDQndCw0L/RgNCw0LLQu9C10L3QuNC1INC+0YIg0LvQuNGE0YLQsCDQuiDRjdGC0L7QuSDRgtC+0YfQutC1XHJcbiAgICAgICAgICAgIC8vIGlmIChpc0RlYnVnQ3VycmVudENhbGwpIGNvbnNvbGUubG9nKGAgIFtnZXRTcGF3blBvaW50SW5Sb29tT2ZMaWZ0XSBMaWZ0ICgke2xpZnRUaWxlWH0sJHtsaWZ0VGlsZVl9KSBkaXJlY3RseSBhZGphY2VudCB0byByb29tIGZsb29yIGF0ICgke2Fkalh9LCR7YWRqWX0pLiBSb29tIElEOiAke3Jvb20uaWQgfHwgJ04vQSd9YCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAoYXNzb2NpYXRlZFJvb20pIGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIC8vINCt0YLQsNC/IDI6INCV0YHQu9C4INC90LUg0L3QsNC/0YDRj9C80YPRjiwg0YLQviDRh9C10YDQtdC3INC+0LTQvdGDINC60LvQtdGC0LrRgyDQutC+0YDQuNC00L7RgNCwP1xyXG4gICAgaWYgKCFhc3NvY2lhdGVkUm9vbSkge1xyXG4gICAgICAvLyBpZiAoaXNEZWJ1Z0N1cnJlbnRDYWxsKSBjb25zb2xlLmxvZyhgICBbZ2V0U3Bhd25Qb2ludEluUm9vbU9mTGlmdF0gTGlmdCBub3QgZGlyZWN0bHkgYWRqYWNlbnQuIENoZWNraW5nIG5laWdoYm9ycyBvZiBuZWlnaGJvcnMgKHZpYSAxIGNvcnJpZG9yIHRpbGUpLi4uYCk7XHJcbiAgICAgIGZvciAoY29uc3Qgbk91dGVyIG9mIGNoZWNrTmVpZ2hib3JzKSB7XHJcbiAgICAgICAgLy8gbk91dGVyIC0g0L3QsNC/0YDQsNCy0LvQtdC90LjQtSDQuiDQstC+0LfQvNC+0LbQvdC+0Lkg0LrQu9C10YLQutC1INC60L7RgNC40LTQvtGA0LAg0YDRj9C00L7QvCDRgSDQu9C40YTRgtC+0LxcclxuICAgICAgICBjb25zdCBjb3JyaWRvclggPSBsaWZ0VGlsZVggKyBuT3V0ZXIuZHg7XHJcbiAgICAgICAgY29uc3QgY29ycmlkb3JZID0gbGlmdFRpbGVZICsgbk91dGVyLmR5O1xyXG5cclxuICAgICAgICAvLyDQn9GA0L7QstC10YDRj9C10LwsINGH0YLQviDRjdGC0LAg0L/RgNC+0LzQtdC20YPRgtC+0YfQvdCw0Y8g0LrQu9C10YLQutCwIC0g0LrQvtGA0LjQtNC+0YBcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICBjb3JyaWRvclggPCAwIHx8XHJcbiAgICAgICAgICBjb3JyaWRvclggPj0gdGhpcy5jb2xzIHx8XHJcbiAgICAgICAgICBjb3JyaWRvclkgPCAwIHx8XHJcbiAgICAgICAgICBjb3JyaWRvclkgPj0gdGhpcy5yb3dzIHx8XHJcbiAgICAgICAgICB0aGlzLm1hcFtjb3JyaWRvclldPy5bY29ycmlkb3JYXSAhPT0gVElMRV9DT1JSSURPUlxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IG5Jbm5lciBvZiBjaGVja05laWdoYm9ycykge1xyXG4gICAgICAgICAgLy8gbklubmVyIC0g0L3QsNC/0YDQsNCy0LvQtdC90LjQtSDQvtGCINC60LvQtdGC0LrQuCDQutC+0YDQuNC00L7RgNCwINC6INCy0L7Qt9C80L7QttC90L7QuSDQutC+0LzQvdCw0YLQtVxyXG4gICAgICAgICAgLy8g0J3QtSDRgdC80L7RgtGA0LjQvCDQvtCx0YDQsNGC0L3QviDQvdCwINC40YHRhdC+0LTQvdGD0Y4g0LrQu9C10YLQutGDINC70LjRhNGC0LBcclxuICAgICAgICAgIGlmIChuSW5uZXIuZHggPT09IC1uT3V0ZXIuZHggJiYgbklubmVyLmR5ID09PSAtbk91dGVyLmR5KSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICBjb25zdCBwb3RlbnRpYWxSb29tWCA9IGNvcnJpZG9yWCArIG5Jbm5lci5keDtcclxuICAgICAgICAgIGNvbnN0IHBvdGVudGlhbFJvb21ZID0gY29ycmlkb3JZICsgbklubmVyLmR5O1xyXG5cclxuICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgcG90ZW50aWFsUm9vbVggPj0gMCAmJlxyXG4gICAgICAgICAgICBwb3RlbnRpYWxSb29tWCA8IHRoaXMuY29scyAmJlxyXG4gICAgICAgICAgICBwb3RlbnRpYWxSb29tWSA+PSAwICYmXHJcbiAgICAgICAgICAgIHBvdGVudGlhbFJvb21ZIDwgdGhpcy5yb3dzICYmXHJcbiAgICAgICAgICAgIHRoaXMubWFwW3BvdGVudGlhbFJvb21ZXT8uW3BvdGVudGlhbFJvb21YXSA9PT0gVElMRV9ST09NX0ZMT09SXHJcbiAgICAgICAgICApIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCByb29tIG9mIHRoaXMucm9vbXMpIHtcclxuICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICBwb3RlbnRpYWxSb29tWCA+PSByb29tLnggJiZcclxuICAgICAgICAgICAgICAgIHBvdGVudGlhbFJvb21YIDwgcm9vbS54ICsgcm9vbS53aWR0aCAmJlxyXG4gICAgICAgICAgICAgICAgcG90ZW50aWFsUm9vbVkgPj0gcm9vbS55ICYmXHJcbiAgICAgICAgICAgICAgICBwb3RlbnRpYWxSb29tWSA8IHJvb20ueSArIHJvb20uaGVpZ2h0XHJcbiAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICBhc3NvY2lhdGVkUm9vbSA9IHJvb207XHJcbiAgICAgICAgICAgICAgICBlbnRyeVBvaW50VG9Sb29tID0geyB4OiBwb3RlbnRpYWxSb29tWCwgeTogcG90ZW50aWFsUm9vbVkgfTsgLy8g0K3RgtC+INGC0L7Rh9C60LAg0LLRhdC+0LTQsCDQsiDQutC+0LzQvdCw0YLRg1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uRnJvbVNvdXJjZVRvRW50cnlQb2ludCA9IHsgZHg6IG5Jbm5lci5keCwgZHk6IG5Jbm5lci5keSB9OyAvLyDQndCw0L/RgNCw0LLQu9C10L3QuNC1INC+0YIg0LrQvtGA0LjQtNC+0YDQsCDQuiDRjdGC0L7QuSDRgtC+0YfQutC1XHJcbiAgICAgICAgICAgICAgICAvLyBpZiAoaXNEZWJ1Z0N1cnJlbnRDYWxsKSBjb25zb2xlLmxvZyhgICBbZ2V0U3Bhd25Qb2ludEluUm9vbU9mTGlmdF0gTGlmdCBuZWFyIHJvb20gdmlhIGNvcnJpZG9yICgke2NvcnJpZG9yWH0sJHtjb3JyaWRvcll9KS4gRW50cnkgdG8gcm9vbSBhdCAoJHtwb3RlbnRpYWxSb29tWH0sJHtwb3RlbnRpYWxSb29tWX0pLiBSb29tIElEOiAke3Jvb20uaWQgfHwgJ04vQSd9YCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChhc3NvY2lhdGVkUm9vbSkgYnJlYWs7IC8vINCd0LDRiNC70Lgg0LrQvtC80L3QsNGC0YMg0YfQtdGA0LXQtyBuSW5uZXJcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFzc29jaWF0ZWRSb29tKSBicmVhazsgLy8g0J3QsNGI0LvQuCDQutC+0LzQvdCw0YLRgyDRh9C10YDQtdC3IG5PdXRlclxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFhc3NvY2lhdGVkUm9vbSB8fCAhZW50cnlQb2ludFRvUm9vbSB8fCAhZGlyZWN0aW9uRnJvbVNvdXJjZVRvRW50cnlQb2ludCkge1xyXG4gICAgICAvLyAgIGlmIChpc0RlYnVnQ3VycmVudENhbGwpIGNvbnNvbGUud2FybihgICBbZ2V0U3Bhd25Qb2ludEluUm9vbU9mTGlmdF0gQ291bGQgbm90IGZpbmQgYW4gYXNzb2NpYXRlZCByb29tIG9yIGVudHJ5IHBvaW50IGZvciBsaWZ0IGF0ICgke2xpZnRUaWxlWH0sJHtsaWZ0VGlsZVl9KS5gKTtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0KLQtdC/0LXRgNGMIGRpcmVjdGlvbkZyb21Tb3VyY2VUb0VudHJ5UG9pbnQgLSDRjdGC0L4g0L3QsNC/0YDQsNCy0LvQtdC90LjQtSDQvtGCIFwi0LTQstC10YDQuFwiIChlbnRyeVBvaW50VG9Sb29tKSDQktCT0JvQo9CR0Kwg0LrQvtC80L3QsNGC0YsuXHJcbiAgICBjb25zdCBpbndhcmREeCA9IGRpcmVjdGlvbkZyb21Tb3VyY2VUb0VudHJ5UG9pbnQuZHg7XHJcbiAgICBjb25zdCBpbndhcmREeSA9IGRpcmVjdGlvbkZyb21Tb3VyY2VUb0VudHJ5UG9pbnQuZHk7XHJcblxyXG4gICAgLy8g0JjRidC10Lwg0YLQvtGH0LrRgyDQvdCwIChwcmVmZXJyZWREaXN0YW5jZSAtIDEpINGI0LDQs9C+0LIg0LLQs9C70YPQsdGMINC+0YIgZW50cnlQb2ludFRvUm9vbVxyXG4gICAgLy8gcHJlZmVycmVkRGlzdGFuY2UgPSAyIC0+IGRpc3QgPSAxICgxINGI0LDQsyDQvtGCINCy0YXQvtC00LApLCBkaXN0ID0gMCAo0YHQsNC8INCy0YXQvtC0KVxyXG4gICAgLy8gcHJlZmVycmVkRGlzdGFuY2UgPSAxIC0+IGRpc3QgPSAwICjRgdCw0Lwg0LLRhdC+0LQpXHJcbiAgICBmb3IgKGxldCBkaXN0T2Zmc2V0ID0gcHJlZmVycmVkRGlzdGFuY2UgLSAxOyBkaXN0T2Zmc2V0ID49IDA7IGRpc3RPZmZzZXQtLSkge1xyXG4gICAgICBjb25zdCBzcGF3bkNhbmRpZGF0ZVRpbGVYID0gZW50cnlQb2ludFRvUm9vbS54ICsgaW53YXJkRHggKiBkaXN0T2Zmc2V0O1xyXG4gICAgICBjb25zdCBzcGF3bkNhbmRpZGF0ZVRpbGVZID0gZW50cnlQb2ludFRvUm9vbS55ICsgaW53YXJkRHkgKiBkaXN0T2Zmc2V0O1xyXG4gICAgICAvLyBpZiAoaXNEZWJ1Z0N1cnJlbnRDYWxsKSBjb25zb2xlLmxvZyhgICBbZ2V0U3Bhd25Qb2ludEluUm9vbU9mTGlmdF0gVHJ5aW5nIGNhbmRpZGF0ZSAoJHtzcGF3bkNhbmRpZGF0ZVRpbGVYfSwke3NwYXduQ2FuZGlkYXRlVGlsZVl9KSBhdCBkaXN0T2Zmc2V0ICR7ZGlzdE9mZnNldH0gZnJvbSBlbnRyeSAke0pTT04uc3RyaW5naWZ5KGVudHJ5UG9pbnRUb1Jvb20pfWApO1xyXG5cclxuICAgICAgaWYgKFxyXG4gICAgICAgIHNwYXduQ2FuZGlkYXRlVGlsZVggPj0gYXNzb2NpYXRlZFJvb20ueCAmJlxyXG4gICAgICAgIHNwYXduQ2FuZGlkYXRlVGlsZVggPCBhc3NvY2lhdGVkUm9vbS54ICsgYXNzb2NpYXRlZFJvb20ud2lkdGggJiZcclxuICAgICAgICBzcGF3bkNhbmRpZGF0ZVRpbGVZID49IGFzc29jaWF0ZWRSb29tLnkgJiZcclxuICAgICAgICBzcGF3bkNhbmRpZGF0ZVRpbGVZIDwgYXNzb2NpYXRlZFJvb20ueSArIGFzc29jaWF0ZWRSb29tLmhlaWdodCAmJlxyXG4gICAgICAgIHRoaXMubWFwW3NwYXduQ2FuZGlkYXRlVGlsZVldPy5bc3Bhd25DYW5kaWRhdGVUaWxlWF0gPT09IFRJTEVfUk9PTV9GTE9PUlxyXG4gICAgICApIHtcclxuICAgICAgICAvLyDQn9GA0L7QstC10YDQutCwOiDQtdGB0YLRjCDQu9C4INC10YnQtSDQvtC00L3QsCDQutC70LXRgtC60LAg0L/QvtC70LAg0LrQvtC80L3QsNGC0Ysg0JfQkCDRjdGC0L7QuSDQutCw0L3QtNC40LTQsNGC0YHQutC+0Lkg0YLQvtGH0LrQvtC5ICjQsiDRgtC+0Lwg0LbQtSDQvdCw0L/RgNCw0LLQu9C10L3QuNC4IGlud2FyZClcclxuICAgICAgICAvLyDQrdGC0L4g0LPQsNGA0LDQvdGC0LjRgNGD0LXRgiwg0YfRgtC+INC80Ysg0L3QtSDRgdC/0LDQstC90LjQvNGB0Y8g0LLQv9C70L7RgtC90YPRjiDQuiBcItC00LDQu9GM0L3QtdC5XCIg0YHRgtC10L3QtSDQutC+0LzQvdCw0YLRiywg0LXRgdC70Lgg0LrQvtC80L3QsNGC0LAg0YPQt9C60LDRjy5cclxuICAgICAgICBjb25zdCBmdXJ0aGVySW5YID0gc3Bhd25DYW5kaWRhdGVUaWxlWCArIGlud2FyZER4O1xyXG4gICAgICAgIGNvbnN0IGZ1cnRoZXJJblkgPSBzcGF3bkNhbmRpZGF0ZVRpbGVZICsgaW53YXJkRHk7XHJcbiAgICAgICAgY29uc3QgaGFzU3BhY2VCZWhpbmQgPVxyXG4gICAgICAgICAgZnVydGhlckluWCA+PSBhc3NvY2lhdGVkUm9vbS54ICYmXHJcbiAgICAgICAgICBmdXJ0aGVySW5YIDwgYXNzb2NpYXRlZFJvb20ueCArIGFzc29jaWF0ZWRSb29tLndpZHRoICYmXHJcbiAgICAgICAgICBmdXJ0aGVySW5ZID49IGFzc29jaWF0ZWRSb29tLnkgJiZcclxuICAgICAgICAgIGZ1cnRoZXJJblkgPCBhc3NvY2lhdGVkUm9vbS55ICsgYXNzb2NpYXRlZFJvb20uaGVpZ2h0ICYmXHJcbiAgICAgICAgICB0aGlzLm1hcFtmdXJ0aGVySW5ZXT8uW2Z1cnRoZXJJblhdID09PSBUSUxFX1JPT01fRkxPT1I7XHJcblxyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIHRoaXMuaXNUaWxlT3BlbkVub3VnaChzcGF3bkNhbmRpZGF0ZVRpbGVYLCBzcGF3bkNhbmRpZGF0ZVRpbGVZLCAyLCB0cnVlKSAmJlxyXG4gICAgICAgICAgaGFzU3BhY2VCZWhpbmRcclxuICAgICAgICApIHtcclxuICAgICAgICAgIC8vICAgaWYgKGlzRGVidWdDdXJyZW50Q2FsbCkgY29uc29sZS5sb2coYCAgW2dldFNwYXduUG9pbnRJblJvb21PZkxpZnRdIFNVQ0NFU1M6IEZvdW5kIHN1aXRhYmxlIHNwYXduIHBvaW50IGluIHJvb206IFRpbGUgKCR7c3Bhd25DYW5kaWRhdGVUaWxlWH0sJHtzcGF3bkNhbmRpZGF0ZVRpbGVZfSkuIEhhcyBzcGFjZSBiZWhpbmQ6ICR7aGFzU3BhY2VCZWhpbmR9YCk7XHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB4OiAoc3Bhd25DYW5kaWRhdGVUaWxlWCArIDAuNSkgKiB0aGlzLnRpbGVTaXplLFxyXG4gICAgICAgICAgICB5OiAoc3Bhd25DYW5kaWRhdGVUaWxlWSArIDAuNSkgKiB0aGlzLnRpbGVTaXplLFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gaWYgKGlzRGVidWdDdXJyZW50Q2FsbCkgY29uc29sZS5sb2coYCAgW2dldFNwYXduUG9pbnRJblJvb21PZkxpZnRdIENhbmRpZGF0ZSAoJHtzcGF3bkNhbmRpZGF0ZVRpbGVYfSwke3NwYXduQ2FuZGlkYXRlVGlsZVl9KSBub3Qgc3VpdGFibGUuIE9wZW5Fbm91Z2g6ICR7dGhpcy5pc1RpbGVPcGVuRW5vdWdoKHNwYXduQ2FuZGlkYXRlVGlsZVgsIHNwYXduQ2FuZGlkYXRlVGlsZVksIDIsIHRydWUpfSwgSGFzU3BhY2VCZWhpbmQ6ICR7aGFzU3BhY2VCZWhpbmR9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGlmIChpc0RlYnVnQ3VycmVudENhbGwpIGNvbnNvbGUubG9nKGAgIFtnZXRTcGF3blBvaW50SW5Sb29tT2ZMaWZ0XSBDYW5kaWRhdGUgKCR7c3Bhd25DYW5kaWRhdGVUaWxlWH0sJHtzcGF3bkNhbmRpZGF0ZVRpbGVZfSkgaXMgbm90IHZhbGlkIHJvb20gZmxvb3Igb3Igb3V0IG9mIHJvb20gYm91bmRzLmApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0JXRgdC70Lgg0L3QtSDQvdCw0YjQu9C4INC40LTQtdCw0LvRjNC90YPRjiDRgtC+0YfQutGDINGBINC/0YDQvtGB0YLRgNCw0L3RgdGC0LLQvtC8INC30LAg0YHQv9C40L3QvtC5LCDQv9GA0L7QsdGD0LXQvCDRgdCw0LwgZW50cnlQb2ludFRvUm9vbSAo0LXRgdC70Lgg0L7QvSDQv9C+0LTRhdC+0LTQuNGCKVxyXG4gICAgaWYgKHRoaXMuaXNUaWxlT3BlbkVub3VnaChlbnRyeVBvaW50VG9Sb29tLngsIGVudHJ5UG9pbnRUb1Jvb20ueSwgMiwgdHJ1ZSkpIHtcclxuICAgICAgLy8gaWYgKGlzRGVidWdDdXJyZW50Q2FsbCkgY29uc29sZS5sb2coYCAgW2dldFNwYXduUG9pbnRJblJvb21PZkxpZnRdIEZhbGxiYWNrOiBVc2luZyBlbnRyeSBwb2ludCB0byByb29tICgke2VudHJ5UG9pbnRUb1Jvb20ueH0sJHtlbnRyeVBvaW50VG9Sb29tLnl9KSBhcyBpdCdzIG9wZW4gZW5vdWdoLmApO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHg6IChlbnRyeVBvaW50VG9Sb29tLnggKyAwLjUpICogdGhpcy50aWxlU2l6ZSxcclxuICAgICAgICB5OiAoZW50cnlQb2ludFRvUm9vbS55ICsgMC41KSAqIHRoaXMudGlsZVNpemUsXHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gaWYgKGlzRGVidWdDdXJyZW50Q2FsbCkgY29uc29sZS53YXJuKGAgIFtnZXRTcGF3blBvaW50SW5Sb29tT2ZMaWZ0XSBGQUlMVVJFOiBDb3VsZCBub3QgZmluZCBhbnkgc3VpdGFibGUgc3Bhd24gcG9pbnQgaW5zaWRlIHJvb20gZm9yIGxpZnQgYXQgKCR7bGlmdFRpbGVYfSwke2xpZnRUaWxlWX0pLmApO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICBmaW5kTmVhcmJ5VW5hbnN3ZXJlZEJvb2sod29ybGRYLCB3b3JsZFksIHJhZGl1cyA9IHRoaXMudGlsZVNpemUgKiAwLjgpIHtcclxuICAgIGlmICghdGhpcy5ib29rcyB8fCB0aGlzLmJvb2tzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XHJcbiAgICBsZXQgY2xvc2VzdEJvb2sgPSBudWxsO1xyXG4gICAgbGV0IG1pbkRpc3RhbmNlU3EgPSByYWRpdXMgKiByYWRpdXM7XHJcblxyXG4gICAgZm9yIChjb25zdCBib29rIG9mIHRoaXMuYm9va3MpIHtcclxuICAgICAgaWYgKCFib29rLmlzQ29sbGVjdGVkKSB7XHJcbiAgICAgICAgLy8g0J/RgNC10LTQv9C+0LvQsNCz0LDQtdC8LCDRh9GC0L4g0YMgQm9vayDQtdGB0YLRjCDRgdCy0L7QudGB0YLQstC+IGlzQ29sbGVjdGVkXHJcbiAgICAgICAgY29uc3QgZHggPSBib29rLnggLSB3b3JsZFg7XHJcbiAgICAgICAgY29uc3QgZHkgPSBib29rLnkgLSB3b3JsZFk7XHJcbiAgICAgICAgY29uc3QgZGlzdGFuY2VTcSA9IGR4ICogZHggKyBkeSAqIGR5O1xyXG4gICAgICAgIGlmIChkaXN0YW5jZVNxIDwgbWluRGlzdGFuY2VTcSkge1xyXG4gICAgICAgICAgbWluRGlzdGFuY2VTcSA9IGRpc3RhbmNlU3E7XHJcbiAgICAgICAgICBjbG9zZXN0Qm9vayA9IGJvb2s7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY2xvc2VzdEJvb2s7XHJcbiAgfVxyXG5cclxuICBtYXJrQm9va0FzQ29sbGVjdGVkKGJvb2tUb0NvbGxlY3QpIHtcclxuICAgIGlmICghYm9va1RvQ29sbGVjdCB8fCAhdGhpcy5ib29rcykgcmV0dXJuIGZhbHNlO1xyXG4gICAgY29uc3QgYm9vayA9IHRoaXMuYm9va3MuZmluZCgoYikgPT4gYi5pZCA9PT0gYm9va1RvQ29sbGVjdC5pZCk7IC8vINCY0YnQtdC8INC/0L4gSURcclxuICAgIGlmIChib29rICYmICFib29rLmlzQ29sbGVjdGVkKSB7XHJcbiAgICAgIGJvb2suaXNDb2xsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAvLyBjb25zb2xlLmxvZyhgW1Byb2NNYXAgRiR7dGhpcy5mbG9vck51bWJlcn1dIEJvb2sgJHtib29rLmlkfSBtYXJrZWQgYXMgY29sbGVjdGVkLmApO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIGZpbmROZWFyYnlMaWZ0KHdvcmxkWCwgd29ybGRZLCByYWRpdXMgPSB0aGlzLnRpbGVTaXplICogTElGVF9JTlRFUkFDVElPTl9SQURJVVNfTVVMVElQTElFUikge1xyXG4gICAgaWYgKCF0aGlzLmxpZnRQb3NpdGlvbikgcmV0dXJuIG51bGw7XHJcbiAgICAvLyDQoNCw0YHRgdGC0L7Rj9C90LjQtSDQvtGCINGG0LXQvdGC0YDQsCDQv9C10YDRgdC+0L3QsNC20LAg0LTQviDRhtC10L3RgtGA0LAg0LrQu9C10YLQutC4INC70LjRhNGC0LBcclxuICAgIGNvbnN0IGR4ID0gd29ybGRYIC0gdGhpcy5saWZ0UG9zaXRpb24ueDsgLy8gbGlmdFBvc2l0aW9uLnggLSDQvNC40YDQvtCy0YvQtSDQutC+0L7RgNC00LjQvdCw0YLRi1xyXG4gICAgY29uc3QgZHkgPSB3b3JsZFkgLSB0aGlzLmxpZnRQb3NpdGlvbi55O1xyXG4gICAgY29uc3QgZGlzdGFuY2VTcSA9IGR4ICogZHggKyBkeSAqIGR5O1xyXG4gICAgcmV0dXJuIGRpc3RhbmNlU3EgPCByYWRpdXMgKiByYWRpdXMgPyB0aGlzLmxpZnRQb3NpdGlvbiA6IG51bGw7XHJcbiAgfVxyXG5cclxuICBnZXRMaWZ0UG9zaXRpb24oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5saWZ0UG9zaXRpb247IC8vINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCIHt4LCB5LCB0aWxlWCwgdGlsZVl9XHJcbiAgfVxyXG5cclxuICBkcmF3KGN0eCwgYm9va0ltYWdlID0gbnVsbCkge1xyXG4gICAgaWYgKCF0aGlzLm1hcCB8fCAhdGhpcy5yZW5kZXJlcikgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IG1hcERhdGEgPSB7XHJcbiAgICAgIG1hcDogdGhpcy5tYXAsXHJcbiAgICAgIHJvb21zOiB0aGlzLnJvb21zLFxyXG4gICAgICBib29rczogdGhpcy5ib29rcywgLy8g0J/QtdGA0LXQtNCw0LXQvCDQsNC60YLRg9Cw0LvRjNC90YvQuSDQvNCw0YHRgdC40LIg0LrQvdC40LNcclxuICAgICAgbGlmdFBvc2l0aW9uOiB0aGlzLmxpZnRQb3NpdGlvbiwgLy8g0J/QtdGA0LXQtNCw0LXQvCB0aWxlWCwgdGlsZVkg0Lgg0LzQuNGA0L7QstGL0LUgeCx5INC70LjRhNGC0LBcclxuICAgICAgb2Zmc2V0WDogdGhpcy5vZmZzZXRYLFxyXG4gICAgICBvZmZzZXRZOiB0aGlzLm9mZnNldFksXHJcbiAgICAgIGNvbHM6IHRoaXMuY29scyxcclxuICAgICAgcm93czogdGhpcy5yb3dzLFxyXG4gICAgICB0aWxlU2l6ZTogdGhpcy50aWxlU2l6ZSxcclxuICAgIH07XHJcbiAgICB0aGlzLnJlbmRlcmVyLmRyYXcoY3R4LCBtYXBEYXRhLCBib29rSW1hZ2UpOyAvLyBib29rSW1hZ2UgLSDRjdGC0L4g0YHQv9GA0LDQudGCINC00LvRjyDQutC90LjQs1xyXG4gIH1cclxuXHJcbiAgbG9nTWFwR3JpZCgpIHtcclxuICAgIGlmICghdGhpcy5tYXApIHtcclxuICAgICAgY29uc29sZS5sb2coYFtQcm9jTWFwIEYke3RoaXMuZmxvb3JOdW1iZXJ9XSBNYXAgZ3JpZCBub3QgYXZhaWxhYmxlLmApO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZyhgLS0tIE1hcCBHcmlkIEZsb29yICR7dGhpcy5mbG9vck51bWJlcn0gKCR7dGhpcy5jb2xzfXgke3RoaXMucm93c30pIC0tLWApO1xyXG4gICAgbGV0IGhlYWRlciA9ICcgICAnOyAvLyDQlNC70Y8g0L3QvtC80LXRgNC+0LIg0YHRgtC+0LvQsdGG0L7QslxyXG4gICAgZm9yIChsZXQgYyA9IDA7IGMgPCB0aGlzLmNvbHM7IGMrKykgaGVhZGVyICs9IGMgJSAxMCA9PT0gMCA/IE1hdGguZmxvb3IoYyAvIDEwKSA6ICcgJztcclxuICAgIGNvbnNvbGUubG9nKGhlYWRlcik7XHJcbiAgICBoZWFkZXIgPSAnICAgJztcclxuICAgIGZvciAobGV0IGMgPSAwOyBjIDwgdGhpcy5jb2xzOyBjKyspIGhlYWRlciArPSBjICUgMTA7XHJcbiAgICBjb25zb2xlLmxvZyhoZWFkZXIpO1xyXG5cclxuICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGhpcy5yb3dzOyB5KyspIHtcclxuICAgICAgY29uc3Qgcm93TnVtID0geS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcgJyk7XHJcbiAgICAgIGNvbnN0IHJvd1N0cmluZyA9IHRoaXMubWFwW3ldXHJcbiAgICAgICAgLm1hcCgodGlsZSkgPT4ge1xyXG4gICAgICAgICAgc3dpdGNoICh0aWxlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgVElMRV9XQUxMOlxyXG4gICAgICAgICAgICAgIHJldHVybiAnIyc7IC8vINCh0YLQtdC90LBcclxuICAgICAgICAgICAgY2FzZSBUSUxFX0NPUlJJRE9SOlxyXG4gICAgICAgICAgICAgIHJldHVybiAnLic7IC8vINCa0L7RgNC40LTQvtGAXHJcbiAgICAgICAgICAgIGNhc2UgVElMRV9ST09NX0ZMT09SOlxyXG4gICAgICAgICAgICAgIHJldHVybiAnICc7IC8vINCf0L7QuyDQutC+0LzQvdCw0YLRi1xyXG4gICAgICAgICAgICBjYXNlIFRJTEVfTElGVDpcclxuICAgICAgICAgICAgICByZXR1cm4gJ0wnOyAvLyDQm9C40YTRgiAo0YXQvtGC0Y8g0L7QvSDQvNC+0LbQtdGCINCx0YvRgtGMINC/0LXRgNC10LfQsNC/0LjRgdCw0L0g0LrQvtGA0LjQtNC+0YDQvtC8INCyIHRoaXMubWFwKVxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgIHJldHVybiAnPyc7IC8vINCd0LXQuNC30LLQtdGB0YLQvdGL0Lkg0YLQsNC50LtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5qb2luKCcnKTtcclxuICAgICAgY29uc29sZS5sb2coYCR7cm93TnVtfSAke3Jvd1N0cmluZ31gKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLmxpZnRQb3NpdGlvbikge1xyXG4gICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICBgTGlmdCBhY3R1YWwgdGlsZSB0eXBlIGluIG1hcFske3RoaXMubGlmdFBvc2l0aW9uLnRpbGVZfV1bJHt0aGlzLmxpZnRQb3NpdGlvbi50aWxlWH1dOiAke1xyXG4gICAgICAgICAgdGhpcy5tYXBbdGhpcy5saWZ0UG9zaXRpb24udGlsZVldPy5bdGhpcy5saWZ0UG9zaXRpb24udGlsZVhdXHJcbiAgICAgICAgfWBcclxuICAgICAgKTtcclxuICAgICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgYExpZnQgcmVwb3J0ZWQgYXQgdGlsZTogKCR7dGhpcy5saWZ0UG9zaXRpb24udGlsZVh9LCAke3RoaXMubGlmdFBvc2l0aW9uLnRpbGVZfSlgXHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmxvZygnTGlmdCBwb3NpdGlvbiBub3Qgc2V0LicpO1xyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coYC0tLSBFbmQgTWFwIEdyaWQgRmxvb3IgJHt0aGlzLmZsb29yTnVtYmVyfSAtLS1gKTtcclxuICB9XHJcbn1cclxuIiwiLy8gc3JjL2NvcmUvTGV2ZWwuanNcclxuaW1wb3J0IHsgUHJvY2VkdXJhbE1hcCB9IGZyb20gJy4uL21hcC9Qcm9jZWR1cmFsTWFwLmpzJztcclxuLy8gUmVtb3ZlZCBUUkFOU0lUSU9OX1pPTkVfUkFESVVTX01VTFRJUExJRVIgaW1wb3J0XHJcblxyXG4vKipcclxuICog0JrQu9Cw0YHRgSBMZXZlbCDRg9C/0YDQsNCy0LvRj9C10YIg0YLQtdC60YPRidC40Lwg0Y3RgtCw0LbQvtC8INC4INC30LDQs9GA0YPQt9C60L7QuSDQutCw0YDRgi5cclxuICog0JvQvtCz0LjQutCwINC30L7QvSDQv9C10YDQtdGF0L7QtNCwICh0cmFuc2l0aW9uIHpvbmVzKSDRg9C00LDQu9C10L3QsCwg0YIu0LouINC70LjRhNGCINGA0LDQsdC+0YLQsNC10YIg0LjQvdCw0YfQtS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBMZXZlbCB7XHJcbiAgLyoqXHJcbiAgICog0KHQvtC30LTQsNC10YIg0Y3QutC30LXQvNC/0LvRj9GAIExldmVsLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbbWluRmxvb3I9MV0gLSDQndC+0LzQtdGAINGB0LDQvNC+0LPQviDQvdC40LbQvdC10LPQviDRjdGC0LDQttCwLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbbWF4Rmxvb3I9M10gLSDQndC+0LzQtdGAINGB0LDQvNC+0LPQviDQstC10YDRhdC90LXQs9C+INGN0YLQsNC20LAuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IobWluRmxvb3IgPSAxLCBtYXhGbG9vciA9IDMpIHtcclxuICAgIGlmIChtaW5GbG9vciA+PSBtYXhGbG9vcikge1xyXG4gICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgYExldmVsIGNvbnN0cnVjdG9yOiBtaW5GbG9vciAoJHttaW5GbG9vcn0pIG11c3QgYmUgbGVzcyB0aGFuIG1heEZsb29yICgke21heEZsb29yfSkuIFVzaW5nIGRlZmF1bHRzIDEgYW5kIDMuYFxyXG4gICAgICApO1xyXG4gICAgICB0aGlzLm1pbkZsb29yID0gMTtcclxuICAgICAgdGhpcy5tYXhGbG9vciA9IDM7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLm1pbkZsb29yID0gbWluRmxvb3I7XHJcbiAgICAgIHRoaXMubWF4Rmxvb3IgPSBtYXhGbG9vcjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmN1cnJlbnRGbG9vciA9IHRoaXMubWluRmxvb3I7XHJcbiAgICB0aGlzLmN1cnJlbnRNYXAgPSBudWxsOyAvLyBJbnN0YW5jZSBvZiBQcm9jZWR1cmFsTWFwXHJcbiAgICAvLyB0aGlzLnRyYW5zaXRpb25ab25lcyA9IFtdOyAvLyBSRU1PVkVEIC0gTm8gbG9uZ2VyIG5lZWRlZCBmb3IgbGlmdHNcclxuICAgIHRoaXMudGlsZVNpemUgPSAzMjsgLy8gRGVmYXVsdCwgd2lsbCBiZSB1cGRhdGVkIGZyb20gbWFwXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDQkNGB0LjQvdGF0YDQvtC90L3QviDQt9Cw0LPRgNGD0LbQsNC10YIgKNCz0LXQvdC10YDQuNGA0YPQtdGCKSDQutCw0YDRgtGDINC00LvRjyDRg9C60LDQt9Cw0L3QvdC+0LPQviDRjdGC0LDQttCwLlxyXG4gICAqIEFzc3VtZXMgUHJvY2VkdXJhbE1hcCBjb25zdHJ1Y3RvciBoYW5kbGVzIGdlbmVyYXRpb24sIGxpZnQgcGxhY2VtZW50LFxyXG4gICAqIGFuZCB0aHJvd3Mgb24gY3JpdGljYWwgZmFpbHVyZSAoZS5nLiwgdW5yZWFjaGFibGUgbGlmdCkuXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGZsb29yTnVtYmVyIC0g0J3QvtC80LXRgCDRjdGC0LDQttCwINC00LvRjyDQt9Cw0LPRgNGD0LfQutC4LlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjYW52YXNXaWR0aCAtINCo0LjRgNC40L3QsCDQutCw0L3QstCw0YHQsC5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gY2FudmFzSGVpZ2h0IC0g0JLRi9GB0L7RgtCwINC60LDQvdCy0LDRgdCwLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSDQn9GA0L7QvNC40YEsINC60L7RgtC+0YDRi9C5INGA0LDQt9GA0LXRiNCw0LXRgtGB0Y8g0L/QvtGB0LvQtSDQt9Cw0LPRgNGD0LfQutC4INGN0YLQsNC20LAuXHJcbiAgICogQHRocm93cyB7RXJyb3J9IElmIFByb2NlZHVyYWxNYXAgZ2VuZXJhdGlvbiBvciB2YWxpZGF0aW9uIGZhaWxzLlxyXG4gICAqL1xyXG4gIGFzeW5jIGxvYWRGbG9vcihmbG9vck51bWJlciwgY2FudmFzV2lkdGgsIGNhbnZhc0hlaWdodCkge1xyXG4gICAgaWYgKGZsb29yTnVtYmVyIDwgdGhpcy5taW5GbG9vciB8fCBmbG9vck51bWJlciA+IHRoaXMubWF4Rmxvb3IpIHtcclxuICAgICAgY29uc3QgZXJyb3JNc2cgPSBgQXR0ZW1wdGVkIHRvIGxvYWQgaW52YWxpZCBmbG9vcjogJHtmbG9vck51bWJlcn0uIEFsbG93ZWQgcmFuZ2U6IFske3RoaXMubWluRmxvb3J9LSR7dGhpcy5tYXhGbG9vcn1dYDtcclxuICAgICAgY29uc29sZS5lcnJvcihgW0xldmVsXSAke2Vycm9yTXNnfWApO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNc2cpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKGBbTGV2ZWxdIExvYWRpbmcgZmxvb3IgJHtmbG9vck51bWJlcn0uLi5gKTtcclxuICAgIHRoaXMuY3VycmVudEZsb29yID0gZmxvb3JOdW1iZXI7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gUHJvY2VkdXJhbE1hcCBjb25zdHJ1Y3RvciBub3cgaGFuZGxlcyBnZW5lcmF0aW9uIEFORCB2YWxpZGF0aW9uIChsaWtlIGxpZnQgcmVhY2hhYmlsaXR5KS5cclxuICAgICAgLy8gSXQgd2lsbCB0aHJvdyBhbiBlcnJvciBpZiBnZW5lcmF0aW9uIGZhaWxzIGNyaXRpY2FsbHkuXHJcbiAgICAgIHRoaXMuY3VycmVudE1hcCA9IG5ldyBQcm9jZWR1cmFsTWFwKFxyXG4gICAgICAgIGNhbnZhc1dpZHRoLFxyXG4gICAgICAgIGNhbnZhc0hlaWdodCxcclxuICAgICAgICB0aGlzLmN1cnJlbnRGbG9vcixcclxuICAgICAgICB0aGlzLm1pbkZsb29yLFxyXG4gICAgICAgIHRoaXMubWF4Rmxvb3JcclxuICAgICAgKTtcclxuXHJcbiAgICAgIC8vIEJhc2ljIHZhbGlkYXRpb24gYWZ0ZXIgY3JlYXRpb24gKGVuc3VyZSBtYXAgb2JqZWN0IGxvb2tzIHJlYXNvbmFibGUpXHJcbiAgICAgIGlmIChcclxuICAgICAgICAhdGhpcy5jdXJyZW50TWFwLnRpbGVTaXplIHx8XHJcbiAgICAgICAgIXRoaXMuY3VycmVudE1hcC5tYXAgfHxcclxuICAgICAgICAhdGhpcy5jdXJyZW50TWFwLmJvb2tzIHx8IC8vIGJvb2tzIHNob3VsZCBleGlzdCAoZXZlbiBpZiBlbXB0eSlcclxuICAgICAgICAhdGhpcy5jdXJyZW50TWFwLmdldExpZnRQb3NpdGlvbigpIC8vIExpZnQgcG9zaXRpb24gTVVTVCBleGlzdCBhZnRlciBzdWNjZXNzZnVsIGdlbmVyYXRpb25cclxuICAgICAgKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgICAgJ1tMZXZlbF0gUHJvY2VkdXJhbE1hcCBpbnN0YW5jZSBpcyBtaXNzaW5nIGVzc2VudGlhbCBwcm9wZXJ0aWVzIGFmdGVyIGNyZWF0aW9uICh0aWxlU2l6ZSwgbWFwLCBib29rcywgb3IgbGlmdFBvc2l0aW9uKS4nXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy50aWxlU2l6ZSA9IHRoaXMuY3VycmVudE1hcC50aWxlU2l6ZTtcclxuICAgICAgY29uc3QgbGlmdFBvcyA9IHRoaXMuY3VycmVudE1hcC5nZXRMaWZ0UG9zaXRpb24oKTtcclxuICAgICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgYCAgW0xldmVsXSBNYXAgZ2VuZXJhdGVkIGZvciBmbG9vciAke3RoaXMuY3VycmVudEZsb29yfS4gVGlsZVNpemU6ICR7dGhpcy50aWxlU2l6ZX0uIExpZnQgYXQgdGlsZSgke2xpZnRQb3MudGlsZVh9LCAke2xpZnRQb3MudGlsZVl9KS5gXHJcbiAgICAgICk7XHJcblxyXG4gICAgICAvLyBSRU1PVkVEOiBjcmVhdGVUcmFuc2l0aW9uWm9uZXMoKSBjYWxsIGlzIG5vIGxvbmdlciBuZWVkZWQuXHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICBgW0xldmVsXSBGbG9vciAke2Zsb29yTnVtYmVyfSBsb2FkZWQgc3VjY2Vzc2Z1bGx5LiBNYXAgc2l6ZTogJHt0aGlzLmN1cnJlbnRNYXAuY29sc314JHt0aGlzLmN1cnJlbnRNYXAucm93c30uICR7dGhpcy5jdXJyZW50TWFwLmJvb2tzLmxlbmd0aH0gYm9va3MgcGxhY2VkLmBcclxuICAgICAgKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgYFtMZXZlbF0gQ1JJVElDQUwgRkFJTFVSRSBsb2FkaW5nIGZsb29yICR7Zmxvb3JOdW1iZXJ9OiBGYWlsZWQgdG8gY3JlYXRlIG9yIHZhbGlkYXRlIFByb2NlZHVyYWxNYXA6YCxcclxuICAgICAgICBlcnJvclxyXG4gICAgICApO1xyXG4gICAgICB0aGlzLmN1cnJlbnRNYXAgPSBudWxsOyAvLyBFbnN1cmUgc3RhdGUgaXMgY2xlYW4gb24gZmFpbHVyZVxyXG4gICAgICAvLyBSZXRocm93IHRoZSBlcnJvciBmb3IgR2FtZS5qcyB0byBoYW5kbGUgKGxpa2VseSBzaG93IGVycm9yIG1lc3NhZ2UgYW5kIHN0b3ApXHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgICBgTWFwIGdlbmVyYXRpb24vdmFsaWRhdGlvbiBmYWlsZWQgZm9yIGZsb29yICR7Zmxvb3JOdW1iZXJ9LiAke2Vycm9yLm1lc3NhZ2UgfHwgZXJyb3J9YFxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldHVybiBhIHJlc29sdmVkIHByb21pc2UgKGdlbmVyYXRpb24gaXRzZWxmIGlzIHN5bmNocm9ub3VzIHdpdGhpbiB0aGUgY29uc3RydWN0b3IpXHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgfVxyXG5cclxuICAvLyBSRU1PVkVEOiBjcmVhdGVUcmFuc2l0aW9uWm9uZXMoKSBtZXRob2QgaXMgb2Jzb2xldGUuXHJcblxyXG4gIC8vIFJFTU9WRUQ6IGdldEN1cnJlbnRUcmFuc2l0aW9uWm9uZSgpIG1ldGhvZCBpcyBvYnNvbGV0ZS4gTGlmdCBpbnRlcmFjdGlvbiBjaGVja2VkIGRpZmZlcmVudGx5LlxyXG5cclxuICAvKipcclxuICAgKiDQktC+0LfQstGA0LDRidCw0LXRgiDQvNCw0YHRgdC40LIg0L7QsdGK0LXQutGC0L7QsiDQutC90LjQsyDQvdCwINGC0LXQutGD0YnQtdC5INC60LDRgNGC0LUuXHJcbiAgICogQHJldHVybnMge0FycmF5PG9iamVjdD59INCc0LDRgdGB0LjQsiDQvtCx0YrQtdC60YLQvtCyINC60L3QuNCzLlxyXG4gICAqL1xyXG4gIGdldEN1cnJlbnRCb29rcygpIHtcclxuICAgIHJldHVybiB0aGlzLmN1cnJlbnRNYXAgPyB0aGlzLmN1cnJlbnRNYXAuYm9va3MgOiBbXTtcclxuICB9XHJcbn1cclxuIiwiLy8gc3JjL2NvcmUvR2FtZVJlbmRlcmVyLmpzXHJcbi8vIChObyBjaGFuZ2VzIG5lZWRlZCBmcm9tIHByZXZpb3VzIHByb3ZpZGVkIHZlcnNpb24sIGFzc3VtaW5nIGl0IHdhcyBjb3JyZWN0KVxyXG5pbXBvcnQgeyBDaGFyYWN0ZXIgfSBmcm9tICcuL0NoYXJhY3Rlci5qcyc7IC8vIE9wdGlvbmFsIGZvciB0eXBlIGNoZWNrc1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVSZW5kZXJlciB7XHJcbiAgY29uc3RydWN0b3IoZ2FtZSkge1xyXG4gICAgdGhpcy5nYW1lID0gZ2FtZTtcclxuICAgIHRoaXMuY2FudmFzID0gbnVsbDtcclxuICAgIHRoaXMuY3R4ID0gbnVsbDtcclxuICB9XHJcblxyXG4gIGluaXRpYWxpemVDYW52YXMoKSB7XHJcbiAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lLWNhbnZhcycpO1xyXG4gICAgaWYgKCF0aGlzLmNhbnZhcykgdGhyb3cgbmV3IEVycm9yKFwiW1JlbmRlcmVyXSBDYW52YXMgJ2dhbWUtY2FudmFzJyBub3QgZm91bmQhXCIpO1xyXG4gICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgaWYgKCF0aGlzLmN0eCkgdGhyb3cgbmV3IEVycm9yKCdbUmVuZGVyZXJdIEZhaWxlZCB0byBnZXQgMkQgY29udGV4dC4nKTtcclxuICAgIHRoaXMuY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5yZXNpemVDYW52YXMoKTtcclxuICAgIGNvbnNvbGUubG9nKCdbUmVuZGVyZXJdIENhbnZhcyBpbml0aWFsaXplZC4nKTtcclxuICAgIHJldHVybiB7IGNhbnZhczogdGhpcy5jYW52YXMsIGN0eDogdGhpcy5jdHggfTtcclxuICB9XHJcblxyXG4gIHJlc2l6ZUNhbnZhcygpIHtcclxuICAgIGlmICghdGhpcy5jYW52YXMpIHJldHVybjtcclxuICAgIHRoaXMuY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XHJcbiAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICBpZiAodGhpcy5nYW1lLmNoYXJhY3RlciAmJiB0aGlzLmdhbWUubGV2ZWw/LmN1cnJlbnRNYXApIHtcclxuICAgICAgdGhpcy5jZW50ZXJDYW1lcmFPbkNoYXJhY3RlcigpO1xyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coYFtSZW5kZXJlcl0gQ2FudmFzIHJlc2l6ZWQgdG8gJHt0aGlzLmNhbnZhcy53aWR0aH14JHt0aGlzLmNhbnZhcy5oZWlnaHR9YCk7XHJcbiAgfVxyXG5cclxuICBjZW50ZXJDYW1lcmFPbkNoYXJhY3RlcigpIHtcclxuICAgIGNvbnN0IHsgY2hhcmFjdGVyLCBsZXZlbCwgY2FudmFzIH0gPSB0aGlzLmdhbWU7XHJcbiAgICBpZiAoY2hhcmFjdGVyICYmIGxldmVsPy5jdXJyZW50TWFwICYmIGNhbnZhcykge1xyXG4gICAgICBsZXZlbC5jdXJyZW50TWFwLm9mZnNldFggPSBNYXRoLmZsb29yKGNhbnZhcy53aWR0aCAvIDIgLSBjaGFyYWN0ZXIueCk7XHJcbiAgICAgIGxldmVsLmN1cnJlbnRNYXAub2Zmc2V0WSA9IE1hdGguZmxvb3IoY2FudmFzLmhlaWdodCAvIDIgLSBjaGFyYWN0ZXIueSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBkcmF3RnJhbWUoKSB7XHJcbiAgICBpZiAoIXRoaXMuY3R4IHx8ICF0aGlzLmNhbnZhcykgcmV0dXJuO1xyXG4gICAgdGhpcy5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xyXG4gICAgY29uc3QgbWFwID0gdGhpcy5nYW1lLmxldmVsPy5jdXJyZW50TWFwO1xyXG4gICAgY29uc3QgY2hhciA9IHRoaXMuZ2FtZS5jaGFyYWN0ZXI7XHJcbiAgICBpZiAobWFwKSB7XHJcbiAgICAgIG1hcC5kcmF3KHRoaXMuY3R4LCB0aGlzLmdhbWUuYm9va0ltYWdlKTtcclxuICAgIH1cclxuICAgIGlmIChjaGFyICYmIG1hcCkge1xyXG4gICAgICBjaGFyLmRyYXcobWFwLm9mZnNldFgsIG1hcC5vZmZzZXRZKTtcclxuICAgIH1cclxuICAgIC8vIHRoaXMuZHJhd0RlYnVnSW5mbygpOyAvLyBPcHRpb25hbFxyXG4gIH1cclxuXHJcbiAgZHJhd1dpblNjcmVlbigpIHtcclxuICAgIGlmICghdGhpcy5jdHggfHwgIXRoaXMuY2FudmFzKSByZXR1cm47XHJcbiAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSAncmdiYSgwLCAwLCAwLCAwLjgpJztcclxuICAgIHRoaXMuY3R4LmZpbGxSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xyXG4gICAgdGhpcy5jdHgudGV4dEFsaWduID0gJ2NlbnRlcic7XHJcbiAgICB0aGlzLmN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcclxuICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9ICdsaW1lJztcclxuICAgIC8vIENvbnNpZGVyIHVzaW5nIGEgZm9udCBhdmFpbGFibGUgb24gbW9zdCBzeXN0ZW1zIG9yIGluY2x1ZGUgb25lIHZpYSBDU1MgQGZvbnQtZmFjZVxyXG4gICAgdGhpcy5jdHguZm9udCA9ICdjbGFtcCgzMnB4LCA4dncsIDQ4cHgpIFwiUHJlc3MgU3RhcnQgMlBcIiwgY3Vyc2l2ZSwgQXJpYWwsIHNhbnMtc2VyaWYnO1xyXG4gICAgdGhpcy5jdHguZmlsbFRleHQoJ1pXWUNJxJhTVFdPIScsIHRoaXMuY2FudmFzLndpZHRoIC8gMiwgdGhpcy5jYW52YXMuaGVpZ2h0IC8gMiAtIDgwKTsgLy8gVHJhbnNsYXRlZFxyXG4gICAgdGhpcy5jdHguZmlsbFN0eWxlID0gJ3doaXRlJztcclxuICAgIHRoaXMuY3R4LmZvbnQgPSAnY2xhbXAoMjRweCwgNXZ3LCAzMnB4KSBBcmlhbCwgc2Fucy1zZXJpZic7XHJcbiAgICB0aGlzLmN0eC5maWxsVGV4dChcclxuICAgICAgYFplYnJhbm8gd3N6eXN0a2llICR7dGhpcy5nYW1lLnRhcmdldEJvb2tzVG9XaW59IGtzacSFxbxraSFgLCAvLyBUcmFuc2xhdGVkXHJcbiAgICAgIHRoaXMuY2FudmFzLndpZHRoIC8gMixcclxuICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0IC8gMlxyXG4gICAgKTtcclxuICAgIHRoaXMuY3R4LmZvbnQgPSAnY2xhbXAoMThweCwgNHZ3LCAyNHB4KSBBcmlhbCwgc2Fucy1zZXJpZic7XHJcbiAgICB0aGlzLmN0eC5maWxsVGV4dCgnVW5pd2Vyc3l0ZXQgdXJhdG93YW55IScsIHRoaXMuY2FudmFzLndpZHRoIC8gMiwgdGhpcy5jYW52YXMuaGVpZ2h0IC8gMiArIDYwKTsgLy8gVHJhbnNsYXRlZFxyXG4gICAgdGhpcy5jdHguZm9udCA9ICdjbGFtcCgxNHB4LCAzdncsIDE4cHgpIEFyaWFsLCBzYW5zLXNlcmlmJztcclxuICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9ICcjY2NjJztcclxuICAgIHRoaXMuY3R4LmZpbGxUZXh0KFxyXG4gICAgICAnKE9kxZt3aWXFvCBzdHJvbsSZLCBhYnkgemFncmHEhyBwb25vd25pZSknLCAvLyBUcmFuc2xhdGVkXHJcbiAgICAgIHRoaXMuY2FudmFzLndpZHRoIC8gMixcclxuICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0IC0gNTBcclxuICAgICk7XHJcbiAgfVxyXG4gIC8vIGRyYXdEZWJ1Z0luZm8oKSB7IC4uLiB9IC8vIE9wdGlvbmFsIGRlYnVnIGRyYXdpbmdcclxufVxyXG4iLCIvLyBzcmMvY29yZS9HYW1lcGxheU1hbmFnZXIuanNcclxuaW1wb3J0IHtcclxuICBHYW1lU3RhdGUsXHJcbiAgTElGVF9DT09MRE9XTl9NUyxcclxuICBUSUxFX1dBTEwsXHJcbiAgVElMRV9DT1JSSURPUixcclxuICBUSUxFX1JPT01fRkxPT1IsXHJcbiAgVElMRV9MSUZULFxyXG4gIHF1ZXN0aW9ucyxcclxufSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xyXG5pbXBvcnQgeyBVSU1hbmFnZXIgfSBmcm9tICcuLi9VSS9VSU1hbmFnZXIuanMnO1xyXG5pbXBvcnQgeyBDaGFyYWN0ZXIgfSBmcm9tICcuL0NoYXJhY3Rlci5qcyc7IC8vINCj0LHQtdC00LjRgtC10YHRjCwg0YfRgtC+IENoYXJhY3RlciDQuNC80L/QvtGA0YLQuNGA0L7QstCw0L1cclxuXHJcbmNvbnN0IERFQlVHX0ZMT09SX0dNID0gMzsgLy8g0JTQu9GPINC70L7Qs9C+0LIgR2FtZXBsYXlNYW5hZ2VyXHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZXBsYXlNYW5hZ2VyIHtcclxuICBjb25zdHJ1Y3RvcihnYW1lKSB7XHJcbiAgICB0aGlzLmdhbWUgPSBnYW1lO1xyXG4gICAgdGhpcy5oYW5kbGVBbnN3ZXIgPSB0aGlzLmhhbmRsZUFuc3dlci5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5oYW5kbGVGbG9vclNlbGVjdGlvbiA9IHRoaXMuaGFuZGxlRmxvb3JTZWxlY3Rpb24uYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZSh0aW1lc3RhbXApIHtcclxuICAgIGlmICh0aGlzLmdhbWUuZ2FtZVN0YXRlID09PSBHYW1lU3RhdGUuUExBWUlORykge1xyXG4gICAgICB0aGlzLnVwZGF0ZVBsYXlpbmdTdGF0ZSh0aW1lc3RhbXApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdXBkYXRlUGxheWluZ1N0YXRlKHRpbWVzdGFtcCkge1xyXG4gICAgY29uc3QgY2hhciA9IHRoaXMuZ2FtZS5jaGFyYWN0ZXI7XHJcbiAgICBpZiAoIXRoaXMuZ2FtZS5sZXZlbD8uY3VycmVudE1hcCB8fCAhY2hhciB8fCAhdGhpcy5nYW1lLmlucHV0TWFuYWdlcikgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IHsgbW92ZWQgfSA9IHRoaXMuaGFuZGxlTW92ZW1lbnQoKTtcclxuXHJcbiAgICBpZiAoY2hhciAmJiB0eXBlb2YgY2hhci51cGRhdGVBbmltYXRpb24gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgY2hhci51cGRhdGVBbmltYXRpb24odGltZXN0YW1wKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIW1vdmVkICYmIHRoaXMuZ2FtZS5nYW1lU3RhdGUgPT09IEdhbWVTdGF0ZS5QTEFZSU5HKSB7XHJcbiAgICAgIHRoaXMuaGFuZGxlSW50ZXJhY3Rpb25zKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVNb3ZlbWVudCgpIHtcclxuICAgIGNvbnN0IGNoYXIgPSB0aGlzLmdhbWUuY2hhcmFjdGVyO1xyXG4gICAgY29uc3QgbWFwID0gdGhpcy5nYW1lLmxldmVsLmN1cnJlbnRNYXA7XHJcbiAgICBjb25zdCBpbnB1dCA9IHRoaXMuZ2FtZS5pbnB1dE1hbmFnZXI7XHJcbiAgICBpZiAoIWNoYXIgfHwgIW1hcCB8fCAhaW5wdXQpIHJldHVybiB7IG1vdmVkOiBmYWxzZSB9O1xyXG5cclxuICAgIGNvbnN0IGRpcmVjdGlvbiA9IGlucHV0LmdldElucHV0RGlyZWN0aW9uKCk7XHJcbiAgICBsZXQgZHggPSBkaXJlY3Rpb24ueCAqIGNoYXIuc3BlZWQ7XHJcbiAgICBsZXQgZHkgPSBkaXJlY3Rpb24ueSAqIGNoYXIuc3BlZWQ7XHJcblxyXG4gICAgY29uc3QgaW50ZW5kZWRNb3ZlID0gZHggIT09IDAgfHwgZHkgIT09IDA7XHJcbiAgICBsZXQgYWN0dWFsTW92ZVggPSAwO1xyXG4gICAgbGV0IGFjdHVhbE1vdmVZID0gMDtcclxuICAgIGxldCBtb3ZlZCA9IGZhbHNlO1xyXG5cclxuICAgIGlmIChpbnRlbmRlZE1vdmUpIHtcclxuICAgICAgY29uc3QgY2FuTW92ZVggPSBkeCAhPT0gMCAmJiAhdGhpcy5jaGVja0NvbGxpc2lvbihjaGFyLnggKyBkeCwgY2hhci55KTtcclxuICAgICAgY29uc3QgY2FuTW92ZVkgPSBkeSAhPT0gMCAmJiAhdGhpcy5jaGVja0NvbGxpc2lvbihjaGFyLngsIGNoYXIueSArIGR5KTtcclxuXHJcbiAgICAgIGlmIChjYW5Nb3ZlWCkgYWN0dWFsTW92ZVggPSBkeDtcclxuICAgICAgaWYgKGNhbk1vdmVZKSBhY3R1YWxNb3ZlWSA9IGR5O1xyXG5cclxuICAgICAgLy8g0KPQu9GD0YfRiNC10L3QvdCw0Y8g0L7QsdGA0LDQsdC+0YLQutCwINC00LjQsNCz0L7QvdCw0LvRjNC90L7QuSDQutC+0LvQu9C40LfQuNC4ICjRgdC60L7Qu9GM0LbQtdC90LjQtSlcclxuICAgICAgaWYgKGR4ICE9PSAwICYmIGR5ICE9PSAwKSB7XHJcbiAgICAgICAgLy8g0JXRgdC70Lgg0L/Ri9GC0LDQu9C40YHRjCDQtNCy0LjQs9Cw0YLRjNGB0Y8g0L/QviDQtNC40LDQs9C+0L3QsNC70LhcclxuICAgICAgICBpZiAodGhpcy5jaGVja0NvbGxpc2lvbihjaGFyLnggKyBkeCwgY2hhci55ICsgZHkpKSB7XHJcbiAgICAgICAgICAvLyDQmCDQtNC40LDQs9C+0L3QsNC70Ywg0LfQsNCx0LvQvtC60LjRgNC+0LLQsNC90LBcclxuICAgICAgICAgIGlmIChjYW5Nb3ZlWCAmJiAhY2FuTW92ZVkpIHtcclxuICAgICAgICAgICAgLy8g0JzQvtC20LXQvCDQv9C+IFgsINC90L4g0L3QtSDQv9C+IFkgKNC10YHQu9C4INCx0Ysg0LTQstC40LPQsNC70LjRgdGMINGC0L7Qu9GM0LrQviDQv9C+IFkpXHJcbiAgICAgICAgICAgIGFjdHVhbE1vdmVZID0gMDsgLy8g0JTQstC40LPQsNC10LzRgdGPINGC0L7Qu9GM0LrQviDQv9C+IFhcclxuICAgICAgICAgIH0gZWxzZSBpZiAoY2FuTW92ZVkgJiYgIWNhbk1vdmVYKSB7XHJcbiAgICAgICAgICAgIC8vINCc0L7QttC10Lwg0L/QviBZLCDQvdC+INC90LUg0L/QviBYXHJcbiAgICAgICAgICAgIGFjdHVhbE1vdmVYID0gMDsgLy8g0JTQstC40LPQsNC10LzRgdGPINGC0L7Qu9GM0LrQviDQv9C+IFlcclxuICAgICAgICAgIH0gZWxzZSBpZiAoIWNhbk1vdmVYICYmICFjYW5Nb3ZlWSkge1xyXG4gICAgICAgICAgICAvLyDQndC1INC80L7QttC10Lwg0L3QuCDQv9C+IFgsINC90Lgg0L/QviBZINC/0L4g0L7RgtC00LXQu9GM0L3QvtGB0YLQuFxyXG4gICAgICAgICAgICBhY3R1YWxNb3ZlWCA9IDA7XHJcbiAgICAgICAgICAgIGFjdHVhbE1vdmVZID0gMDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC8vINCV0YHQu9C4INC80L7QttC10Lwg0Lgg0L/QviBYINC4INC/0L4gWSDQvtGC0LTQtdC70YzQvdC+LCDQvdC+INC90LUg0L/QviDQtNC40LDQs9C+0L3QsNC70LgsINGC0L4gYWN0dWFsTW92ZVgg0LggYWN0dWFsTW92ZVkg0YPQttC1INGD0YHRgtCw0L3QvtCy0LvQtdC90Ysg0L/RgNCw0LLQuNC70YzQvdC+XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoYWN0dWFsTW92ZVggIT09IDAgfHwgYWN0dWFsTW92ZVkgIT09IDApIHtcclxuICAgICAgICBjaGFyLnggKz0gYWN0dWFsTW92ZVg7XHJcbiAgICAgICAgY2hhci55ICs9IGFjdHVhbE1vdmVZO1xyXG4gICAgICAgIG1vdmVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgaWYgKE1hdGguYWJzKGFjdHVhbE1vdmVYKSA+PSBNYXRoLmFicyhhY3R1YWxNb3ZlWSkpIHtcclxuICAgICAgICAgIGlmIChhY3R1YWxNb3ZlWCAhPT0gMClcclxuICAgICAgICAgICAgY2hhci5jdXJyZW50RGlyZWN0aW9uID1cclxuICAgICAgICAgICAgICBhY3R1YWxNb3ZlWCA+IDAgPyBDaGFyYWN0ZXIuRGlyZWN0aW9uLlJJR0hUIDogQ2hhcmFjdGVyLkRpcmVjdGlvbi5MRUZUO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZiAoYWN0dWFsTW92ZVkgIT09IDApXHJcbiAgICAgICAgICAgIGNoYXIuY3VycmVudERpcmVjdGlvbiA9XHJcbiAgICAgICAgICAgICAgYWN0dWFsTW92ZVkgPiAwID8gQ2hhcmFjdGVyLkRpcmVjdGlvbi5ET1dOIDogQ2hhcmFjdGVyLkRpcmVjdGlvbi5VUDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGNoYXIuaXNNb3ZpbmcgPSBtb3ZlZDtcclxuICAgIHJldHVybiB7IG1vdmVkIH07XHJcbiAgfVxyXG5cclxuICBjaGVja0NvbGxpc2lvbih0YXJnZXRYLCB0YXJnZXRZKSB7XHJcbiAgICBjb25zdCBtYXAgPSB0aGlzLmdhbWUubGV2ZWw/LmN1cnJlbnRNYXA7XHJcbiAgICBjb25zdCBjaGFyID0gdGhpcy5nYW1lLmNoYXJhY3RlcjtcclxuICAgIGlmICghbWFwIHx8ICFjaGFyKSByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICBjb25zdCBjb2xsaXNpb25Cb3ggPSBjaGFyLmdldENvbGxpc2lvbkJveCh0YXJnZXRYLCB0YXJnZXRZKTtcclxuICAgIC8vINCa0LvRjtGH0LXQstGL0LUg0YLQvtGH0LrQuCDQutC+0LvQu9Cw0LnQtNC10YDQsCDQtNC70Y8g0L/RgNC+0LLQtdGA0LrQuFxyXG4gICAgY29uc3QgcG9pbnRzVG9DaGVjayA9IFtcclxuICAgICAgeyB4OiBjb2xsaXNpb25Cb3gubGVmdCwgeTogY29sbGlzaW9uQm94LnRvcCB9LCAvLyDQm9C10LLRi9C5INCy0LXRgNGF0L3QuNC5XHJcbiAgICAgIHsgeDogY29sbGlzaW9uQm94LnJpZ2h0LCB5OiBjb2xsaXNpb25Cb3gudG9wIH0sIC8vINCf0YDQsNCy0YvQuSDQstC10YDRhdC90LjQuVxyXG4gICAgICB7IHg6IGNvbGxpc2lvbkJveC5sZWZ0LCB5OiBjb2xsaXNpb25Cb3guYm90dG9tIH0sIC8vINCb0LXQstGL0Lkg0L3QuNC20L3QuNC5XHJcbiAgICAgIHsgeDogY29sbGlzaW9uQm94LnJpZ2h0LCB5OiBjb2xsaXNpb25Cb3guYm90dG9tIH0sIC8vINCf0YDQsNCy0YvQuSDQvdC40LbQvdC40LlcclxuICAgICAgLy8g0JTQvtC/0L7Qu9C90LjRgtC10LvRjNC90YvQtSDRgtC+0YfQutC4INC00LvRjyDQsdC+0LvQtdC1INGC0L7Rh9C90L7QuSDQv9GA0L7QstC10YDQutC4LCDQvtGB0L7QsdC10L3QvdC+INC00LvRjyDRg9C30LrQuNGFINC/0YDQvtGF0L7QtNC+0LJcclxuICAgICAgeyB4OiB0YXJnZXRYLCB5OiBjb2xsaXNpb25Cb3gudG9wIH0sIC8vINCm0LXQvdGC0YAg0LLQtdGA0YXQvdC40LlcclxuICAgICAgeyB4OiB0YXJnZXRYLCB5OiBjb2xsaXNpb25Cb3guYm90dG9tIH0sIC8vINCm0LXQvdGC0YAg0L3QuNC20L3QuNC5XHJcbiAgICAgIHsgeDogY29sbGlzaW9uQm94LmxlZnQsIHk6IHRhcmdldFkgKyBjaGFyLnJlbmRlclNpemUgKiBjaGFyLmNvbGxpc2lvbkJveEZlZXRPZmZzZXRSYXRpbyB9LCAvLyDQodC10YDQtdC00LjQvdCwINC70LXQstC+0Lkg0YHRgtC+0YDQvtC90YsgKNC90LAg0YPRgNC+0LLQvdC1INC90L7QsylcclxuICAgICAgeyB4OiBjb2xsaXNpb25Cb3gucmlnaHQsIHk6IHRhcmdldFkgKyBjaGFyLnJlbmRlclNpemUgKiBjaGFyLmNvbGxpc2lvbkJveEZlZXRPZmZzZXRSYXRpbyB9LCAvLyDQodC10YDQtdC00LjQvdCwINC/0YDQsNCy0L7QuSDRgdGC0L7RgNC+0L3RiyAo0L3QsCDRg9GA0L7QstC90LUg0L3QvtCzKVxyXG4gICAgXTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IHBvaW50IG9mIHBvaW50c1RvQ2hlY2spIHtcclxuICAgICAgaWYgKCFtYXAuaXNXYWxrYWJsZShwb2ludC54LCBwb2ludC55KSkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGBDb2xsaXNpb24gYXQgd29ybGQgKCR7cG9pbnQueC50b0ZpeGVkKDEpfSwgJHtwb2ludC55LnRvRml4ZWQoMSl9KSAtPiB0aWxlIG5vdCB3YWxrYWJsZS5gKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlSW50ZXJhY3Rpb25zKCkge1xyXG4gICAgY29uc3QgbWFwID0gdGhpcy5nYW1lLmxldmVsPy5jdXJyZW50TWFwO1xyXG4gICAgY29uc3QgY2hhciA9IHRoaXMuZ2FtZS5jaGFyYWN0ZXI7XHJcbiAgICBpZiAoIW1hcCB8fCAhY2hhciB8fCB0aGlzLmdhbWUuZ2FtZVN0YXRlICE9PSBHYW1lU3RhdGUuUExBWUlORykgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IG5lYXJieUJvb2sgPSBtYXAuZmluZE5lYXJieVVuYW5zd2VyZWRCb29rKGNoYXIueCwgY2hhci55KTtcclxuICAgIGlmIChuZWFyYnlCb29rKSB7XHJcbiAgICAgIHRoaXMuaW5pdGlhdGVRdWVzdGlvbihuZWFyYnlCb29rKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghdGhpcy5nYW1lLmxpZnRDb29sZG93bkFjdGl2ZSkge1xyXG4gICAgICBjb25zdCBuZWFyYnlMaWZ0ID0gbWFwLmZpbmROZWFyYnlMaWZ0KGNoYXIueCwgY2hhci55KTtcclxuICAgICAgaWYgKG5lYXJieUxpZnQpIHtcclxuICAgICAgICB0aGlzLmluaXRpYXRlRmxvb3JTZWxlY3Rpb24oKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaW5pdGlhdGVRdWVzdGlvbihib29rKSB7XHJcbiAgICBpZiAodGhpcy5nYW1lLmdhbWVTdGF0ZSAhPT0gR2FtZVN0YXRlLlBMQVlJTkcpIHJldHVybjtcclxuXHJcbiAgICB0aGlzLmdhbWUuc2V0R2FtZVN0YXRlKEdhbWVTdGF0ZS5BU0tJTkdfUVVFU1RJT04pO1xyXG4gICAgaWYgKHRoaXMuZ2FtZS5jaGFyYWN0ZXIpIHRoaXMuZ2FtZS5jaGFyYWN0ZXIuaXNNb3ZpbmcgPSBmYWxzZTtcclxuICAgIHRoaXMuZ2FtZS5jdXJyZW50Qm9va1RhcmdldCA9IGJvb2s7XHJcblxyXG4gICAgaWYgKHRoaXMuZ2FtZS5hdmFpbGFibGVRdWVzdGlvbnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHRoaXMuZ2FtZS5hdmFpbGFibGVRdWVzdGlvbnMgPSBbLi4ucXVlc3Rpb25zXTtcclxuICAgICAgaWYgKHRoaXMuZ2FtZS5hdmFpbGFibGVRdWVzdGlvbnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgVUlNYW5hZ2VyLmZsYXNoTWVzc2FnZSgnQsWCxIVkOiBCcmFrIGRvc3TEmXBueWNoIHB5dGHFhCEnLCAnZXJyb3InKTtcclxuICAgICAgICB0aGlzLmdhbWUuc2V0R2FtZVN0YXRlKEdhbWVTdGF0ZS5QTEFZSU5HKTtcclxuICAgICAgICB0aGlzLmdhbWUuY3VycmVudEJvb2tUYXJnZXQgPSBudWxsO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHFJbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMuZ2FtZS5hdmFpbGFibGVRdWVzdGlvbnMubGVuZ3RoKTtcclxuICAgIHRoaXMuZ2FtZS5jdXJyZW50UXVlc3Rpb25EYXRhID0gdGhpcy5nYW1lLmF2YWlsYWJsZVF1ZXN0aW9ucy5zcGxpY2UocUluZGV4LCAxKVswXTtcclxuICAgIFVJTWFuYWdlci5zaG93UXVlc3Rpb24odGhpcy5nYW1lLmN1cnJlbnRRdWVzdGlvbkRhdGEpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlQW5zd2VyKHNlbGVjdGVkT3B0aW9uSW5kZXgpIHtcclxuICAgIGNvbnN0IHsgZ2FtZVN0YXRlLCBjdXJyZW50UXVlc3Rpb25EYXRhLCBjdXJyZW50Qm9va1RhcmdldCwgbGV2ZWwgfSA9IHRoaXMuZ2FtZTtcclxuXHJcbiAgICBpZiAoZ2FtZVN0YXRlICE9PSBHYW1lU3RhdGUuQVNLSU5HX1FVRVNUSU9OIHx8ICFjdXJyZW50UXVlc3Rpb25EYXRhIHx8ICFjdXJyZW50Qm9va1RhcmdldCkge1xyXG4gICAgICBVSU1hbmFnZXIuaGlkZVF1ZXN0aW9uKCk7XHJcbiAgICAgIHRoaXMuZ2FtZS5jdXJyZW50Qm9va1RhcmdldCA9IG51bGw7XHJcbiAgICAgIHRoaXMuZ2FtZS5jdXJyZW50UXVlc3Rpb25EYXRhID0gbnVsbDtcclxuICAgICAgaWYgKHRoaXMuZ2FtZS5nYW1lU3RhdGUgIT09IEdhbWVTdGF0ZS5HQU1FX09WRVIpIHRoaXMuZ2FtZS5zZXRHYW1lU3RhdGUoR2FtZVN0YXRlLlBMQVlJTkcpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaXNDb3JyZWN0ID0gc2VsZWN0ZWRPcHRpb25JbmRleCA9PT0gY3VycmVudFF1ZXN0aW9uRGF0YS5jb3JyZWN0QW5zd2VyO1xyXG4gICAgaWYgKGlzQ29ycmVjdCkge1xyXG4gICAgICBVSU1hbmFnZXIuZmxhc2hNZXNzYWdlKCdQcmF3aWTFgm93byEnLCAnc3VjY2VzcycsIDE1MDApO1xyXG4gICAgICBjb25zdCBjb2xsZWN0ZWQgPSBsZXZlbD8uY3VycmVudE1hcD8ubWFya0Jvb2tBc0NvbGxlY3RlZChjdXJyZW50Qm9va1RhcmdldCk7XHJcbiAgICAgIGlmIChjb2xsZWN0ZWQpIHtcclxuICAgICAgICB0aGlzLmdhbWUudG90YWxCb29rc0NvbGxlY3RlZEdsb2JhbGx5Kys7XHJcbiAgICAgICAgVUlNYW5hZ2VyLnVwZGF0ZVNjb3JlKHRoaXMuZ2FtZS50b3RhbEJvb2tzQ29sbGVjdGVkR2xvYmFsbHksIHRoaXMuZ2FtZS50YXJnZXRCb29rc1RvV2luKTtcclxuICAgICAgICBpZiAodGhpcy5nYW1lLnRvdGFsQm9va3NDb2xsZWN0ZWRHbG9iYWxseSA+PSB0aGlzLmdhbWUudGFyZ2V0Qm9va3NUb1dpbikge1xyXG4gICAgICAgICAgVUlNYW5hZ2VyLmhpZGVRdWVzdGlvbigpO1xyXG4gICAgICAgICAgdGhpcy5nYW1lLl9zZXRHYW1lT3Zlcih0cnVlKTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgVUlNYW5hZ2VyLmZsYXNoTWVzc2FnZSgnQsWCxIVkIHpiaWVyYW5pYSBrc2nEhcW8a2khJywgJ2Vycm9yJyk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIFVJTWFuYWdlci5mbGFzaE1lc3NhZ2UoJ05pZXByYXdpZMWCb3dhIG9kcG93aWVkxbohJywgJ2Vycm9yJyk7XHJcbiAgICAgIHRoaXMuZ2FtZS5hdmFpbGFibGVRdWVzdGlvbnMucHVzaChjdXJyZW50UXVlc3Rpb25EYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBVSU1hbmFnZXIuaGlkZVF1ZXN0aW9uKCk7XHJcbiAgICB0aGlzLmdhbWUuY3VycmVudEJvb2tUYXJnZXQgPSBudWxsO1xyXG4gICAgdGhpcy5nYW1lLmN1cnJlbnRRdWVzdGlvbkRhdGEgPSBudWxsO1xyXG4gICAgaWYgKHRoaXMuZ2FtZS5nYW1lU3RhdGUgIT09IEdhbWVTdGF0ZS5HQU1FX09WRVIpIHRoaXMuZ2FtZS5zZXRHYW1lU3RhdGUoR2FtZVN0YXRlLlBMQVlJTkcpO1xyXG4gIH1cclxuXHJcbiAgaW5pdGlhdGVGbG9vclNlbGVjdGlvbigpIHtcclxuICAgIGlmICh0aGlzLmdhbWUuZ2FtZVN0YXRlICE9PSBHYW1lU3RhdGUuUExBWUlORyB8fCB0aGlzLmdhbWUubGlmdENvb2xkb3duQWN0aXZlKSByZXR1cm47XHJcbiAgICB0aGlzLmdhbWUuc2V0R2FtZVN0YXRlKEdhbWVTdGF0ZS5TRUxFQ1RJTkdfRkxPT1IpO1xyXG4gICAgaWYgKHRoaXMuZ2FtZS5jaGFyYWN0ZXIpIHRoaXMuZ2FtZS5jaGFyYWN0ZXIuaXNNb3ZpbmcgPSBmYWxzZTtcclxuICAgIFVJTWFuYWdlci5zaG93Rmxvb3JTZWxlY3Rpb25VSShcclxuICAgICAgdGhpcy5nYW1lLmxldmVsLm1pbkZsb29yLFxyXG4gICAgICB0aGlzLmdhbWUubGV2ZWwubWF4Rmxvb3IsXHJcbiAgICAgIHRoaXMuZ2FtZS5sZXZlbC5jdXJyZW50Rmxvb3JcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVGbG9vclNlbGVjdGlvbihzZWxlY3RlZEZsb29yKSB7XHJcbiAgICBpZiAodGhpcy5nYW1lLmdhbWVTdGF0ZSAhPT0gR2FtZVN0YXRlLlNFTEVDVElOR19GTE9PUikge1xyXG4gICAgICBVSU1hbmFnZXIuaGlkZUZsb29yU2VsZWN0aW9uVUkoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgVUlNYW5hZ2VyLmhpZGVGbG9vclNlbGVjdGlvblVJKCk7XHJcbiAgICBpZiAoXHJcbiAgICAgIHNlbGVjdGVkRmxvb3IgPT09IHRoaXMuZ2FtZS5sZXZlbC5jdXJyZW50Rmxvb3IgfHxcclxuICAgICAgc2VsZWN0ZWRGbG9vciA8IHRoaXMuZ2FtZS5sZXZlbC5taW5GbG9vciB8fFxyXG4gICAgICBzZWxlY3RlZEZsb29yID4gdGhpcy5nYW1lLmxldmVsLm1heEZsb29yXHJcbiAgICApIHtcclxuICAgICAgdGhpcy5nYW1lLnNldEdhbWVTdGF0ZShHYW1lU3RhdGUuUExBWUlORyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuaGFuZGxlTGlmdFRyYW5zaXRpb24oc2VsZWN0ZWRGbG9vcikuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICB0aGlzLmdhbWUuX2hhbmRsZUZhdGFsRXJyb3IoYELFgsSFZCBwcnplasWbY2lhIG5hIHBpxJl0cm86ICR7ZXJyLm1lc3NhZ2V9YCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGhhbmRsZUxpZnRUcmFuc2l0aW9uKHRhcmdldEZsb29yKSB7XHJcbiAgICBjb25zdCBnYW1lID0gdGhpcy5nYW1lO1xyXG4gICAgY29uc3QgaXNEZWJ1ZyA9IGdhbWUubGV2ZWw/LmN1cnJlbnRGbG9vciA9PT0gREVCVUdfRkxPT1JfR00gfHwgdGFyZ2V0Rmxvb3IgPT09IERFQlVHX0ZMT09SX0dNO1xyXG5cclxuICAgIGlmIChpc0RlYnVnKVxyXG4gICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICBgW0dhbWVwbGF5TWFuYWdlciBGJHt0YXJnZXRGbG9vcn0gaGFuZGxlTGlmdFRyYW5zaXRpb25dIFN0YXJ0aW5nIHRyYW5zaXRpb24uIENvb2xkb3duOiAke2dhbWUubGlmdENvb2xkb3duQWN0aXZlfWBcclxuICAgICAgKTtcclxuICAgIGlmIChnYW1lLmdhbWVTdGF0ZSAhPT0gR2FtZVN0YXRlLlNFTEVDVElOR19GTE9PUiB8fCBnYW1lLmxpZnRDb29sZG93bkFjdGl2ZSkgcmV0dXJuO1xyXG5cclxuICAgIGdhbWUuc2V0R2FtZVN0YXRlKEdhbWVTdGF0ZS5UUkFOU0lUSU9OSU5HKTtcclxuICAgIGlmIChnYW1lLmNoYXJhY3RlcikgZ2FtZS5jaGFyYWN0ZXIuaXNNb3ZpbmcgPSBmYWxzZTtcclxuICAgIFVJTWFuYWdlci5oaWRlUXVlc3Rpb24oKTtcclxuICAgIFVJTWFuYWdlci5oaWRlRmxvb3JTZWxlY3Rpb25VSSgpO1xyXG4gICAgZ2FtZS5saWZ0Q29vbGRvd25BY3RpdmUgPSB0cnVlO1xyXG4gICAgVUlNYW5hZ2VyLmZsYXNoTWVzc2FnZShgUHJ6ZWrFm2NpZSBuYSBwacSZdHJvICR7dGFyZ2V0Rmxvb3J9Li4uYCwgJ2luZm8nLCBMSUZUX0NPT0xET1dOX01TIC0gMjAwKTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBnYW1lLmxldmVsLmxvYWRGbG9vcih0YXJnZXRGbG9vciwgZ2FtZS5jYW52YXMud2lkdGgsIGdhbWUuY2FudmFzLmhlaWdodCk7XHJcbiAgICAgIGNvbnN0IG5ld01hcCA9IGdhbWUubGV2ZWwuY3VycmVudE1hcDtcclxuICAgICAgaWYgKCFuZXdNYXApIHRocm93IG5ldyBFcnJvcihgTWFwIG9iamVjdCBpcyBudWxsIGZvciBmbG9vciAke3RhcmdldEZsb29yfS5gKTtcclxuXHJcbiAgICAgIGNvbnN0IGxpZnRQb3NEYXRhID0gbmV3TWFwLmdldExpZnRQb3NpdGlvbigpO1xyXG4gICAgICBpZiAoIWxpZnRQb3NEYXRhKSB0aHJvdyBuZXcgRXJyb3IoYE5vIGxpZnQgcG9zaXRpb24gZGF0YSBvbiBsb2FkZWQgZmxvb3IgJHt0YXJnZXRGbG9vcn0hYCk7XHJcbiAgICAgIGlmIChpc0RlYnVnKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgICAgYCAgW0dNIEYke3RhcmdldEZsb29yfSBMaWZ0VHJhbnNpdGlvbl0gTGlmdCB0aWxlOiAoJHtsaWZ0UG9zRGF0YS50aWxlWH0sJHtcclxuICAgICAgICAgICAgbGlmdFBvc0RhdGEudGlsZVlcclxuICAgICAgICAgIH0pLCBXb3JsZDooJHtsaWZ0UG9zRGF0YS54LnRvRml4ZWQoMSl9LCR7bGlmdFBvc0RhdGEueS50b0ZpeGVkKDEpfSlgXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgIGxldCBmaW5hbFNwYXduUG9zID0gbnVsbDtcclxuXHJcbiAgICAgIGZpbmFsU3Bhd25Qb3MgPSBuZXdNYXAuZ2V0U3Bhd25Qb2ludEluUm9vbU9mTGlmdChsaWZ0UG9zRGF0YS50aWxlWCwgbGlmdFBvc0RhdGEudGlsZVksIDIpO1xyXG4gICAgICBpZiAoaXNEZWJ1ZylcclxuICAgICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICAgIGAgIFtHTSBGJHt0YXJnZXRGbG9vcn0gTGlmdFRyYW5zaXRpb25dIEZyb20gZ2V0U3Bhd25Qb2ludEluUm9vbU9mTGlmdDpgLFxyXG4gICAgICAgICAgZmluYWxTcGF3blBvcyA/IHsgeDogZmluYWxTcGF3blBvcy54LnRvRml4ZWQoMSksIHk6IGZpbmFsU3Bhd25Qb3MueS50b0ZpeGVkKDEpIH0gOiBudWxsXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgIGlmICghZmluYWxTcGF3blBvcykge1xyXG4gICAgICAgIGlmIChpc0RlYnVnKVxyXG4gICAgICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgICAgICBgICBbR00gRiR7dGFyZ2V0Rmxvb3J9IExpZnRUcmFuc2l0aW9uXSBnZXRTcGF3blBvaW50SW5Sb29tT2ZMaWZ0IGZhaWxlZC4gVXNpbmcgZmluZE5lYXJlc3RXYWxrYWJsZVRpbGUuLi5gXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIGZpbmFsU3Bhd25Qb3MgPSBuZXdNYXAuZmluZE5lYXJlc3RXYWxrYWJsZVRpbGUobGlmdFBvc0RhdGEueCwgbGlmdFBvc0RhdGEueSwgNSwgdHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgaWYgKGlzRGVidWcpXHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICAgICAgYCAgW0dNIEYke3RhcmdldEZsb29yfSBMaWZ0VHJhbnNpdGlvbl0gRnJvbSBmaW5kTmVhcmVzdFdhbGthYmxlVGlsZTpgLFxyXG4gICAgICAgICAgICBmaW5hbFNwYXduUG9zID8geyB4OiBmaW5hbFNwYXduUG9zLngudG9GaXhlZCgxKSwgeTogZmluYWxTcGF3blBvcy55LnRvRml4ZWQoMSkgfSA6IG51bGxcclxuICAgICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghZmluYWxTcGF3blBvcykge1xyXG4gICAgICAgIGlmIChpc0RlYnVnKVxyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgICAgYCAgW0dNIEYke3RhcmdldEZsb29yfSBMaWZ0VHJhbnNpdGlvbl0gQWxsIHNwYXduIG1ldGhvZHMgZmFpbGVkLiBVc2luZyByYW5kb20gc3Bhd24uLi5gXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIGNvbnN0IGVtZXJnZW5jeVNwYXduID0gbmV3TWFwLmZpbmRSYW5kb21Jbml0aWFsU3Bhd25Qb3NpdGlvbigpO1xyXG4gICAgICAgIGlmICghZW1lcmdlbmN5U3Bhd24pIHRocm93IG5ldyBFcnJvcihgRU1FUkdFTkNZIFNQQVdOIEZBSUxFRCBvbiBmbG9vciAke3RhcmdldEZsb29yfSFgKTtcclxuICAgICAgICBmaW5hbFNwYXduUG9zID0gZW1lcmdlbmN5U3Bhd247XHJcbiAgICAgICAgaWYgKGlzRGVidWcpXHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICAgICAgYCAgW0dNIEYke3RhcmdldEZsb29yfSBMaWZ0VHJhbnNpdGlvbl0gRnJvbSBlbWVyZ2VuY3lTcGF3bjpgLFxyXG4gICAgICAgICAgICBmaW5hbFNwYXduUG9zID8geyB4OiBmaW5hbFNwYXduUG9zLngudG9GaXhlZCgxKSwgeTogZmluYWxTcGF3blBvcy55LnRvRml4ZWQoMSkgfSA6IG51bGxcclxuICAgICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGdhbWUuY2hhcmFjdGVyLnggPSBmaW5hbFNwYXduUG9zLng7XHJcbiAgICAgIGdhbWUuY2hhcmFjdGVyLnkgPSBmaW5hbFNwYXduUG9zLnk7XHJcbiAgICAgIGlmIChpc0RlYnVnKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgICAgYCAgW0dNIEYke3RhcmdldEZsb29yfSBMaWZ0VHJhbnNpdGlvbl0gRmluYWwgbGFuZGluZzogKCR7Z2FtZS5jaGFyYWN0ZXIueC50b0ZpeGVkKFxyXG4gICAgICAgICAgICAxXHJcbiAgICAgICAgICApfSwgJHtnYW1lLmNoYXJhY3Rlci55LnRvRml4ZWQoMSl9KWBcclxuICAgICAgICApO1xyXG5cclxuICAgICAgZ2FtZS5jaGFyYWN0ZXIuY3VycmVudERpcmVjdGlvbiA9IENoYXJhY3Rlci5EaXJlY3Rpb24uRE9XTjtcclxuICAgICAgZ2FtZS5jaGFyYWN0ZXIuaXNNb3ZpbmcgPSBmYWxzZTtcclxuICAgICAgZ2FtZS5yZW5kZXJlcj8uY2VudGVyQ2FtZXJhT25DaGFyYWN0ZXIoKTtcclxuICAgICAgdGhpcy5lbnN1cmVDaGFyYWN0ZXJJc09uV2Fsa2FibGVUaWxlKGZhbHNlKTsgLy8gPC0tLSDQlNCe0JHQkNCS0JvQldCd0J46INCf0YDQvtCy0LXRgNC60LAg0L/QvtGB0LvQtSDRgtC10LvQtdC/0L7RgNGC0LDRhtC40LhcclxuICAgICAgZ2FtZS5zdGFydExpZnRDb29sZG93blRpbWVyKCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBbR00gRiR7dGFyZ2V0Rmxvb3J9IExpZnRUcmFuc2l0aW9uXSBFcnJvciBkdXJpbmcgdHJhbnNpdGlvbjpgLCBlcnJvcik7XHJcbiAgICAgIGdhbWUubGlmdENvb2xkb3duQWN0aXZlID0gZmFsc2U7XHJcbiAgICAgIGlmIChnYW1lLmdhbWVTdGF0ZSAhPT0gR2FtZVN0YXRlLkdBTUVfT1ZFUikgZ2FtZS5zZXRHYW1lU3RhdGUoR2FtZVN0YXRlLlBMQVlJTkcpO1xyXG4gICAgICBnYW1lLl9oYW5kbGVGYXRhbEVycm9yKGBUcmFuc2l0aW9uIGVycm9yIHRvIGZsb29yICR7dGFyZ2V0Rmxvb3J9OiAke2Vycm9yLm1lc3NhZ2UgfHwgZXJyb3J9YCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBlbnN1cmVDaGFyYWN0ZXJJc09uV2Fsa2FibGVUaWxlKGFsbG93U3RhbmRpbmdPbkxpZnQgPSBmYWxzZSkge1xyXG4gICAgY29uc3QgY2hhciA9IHRoaXMuZ2FtZS5jaGFyYWN0ZXI7XHJcbiAgICBjb25zdCBtYXAgPSB0aGlzLmdhbWUubGV2ZWw/LmN1cnJlbnRNYXA7XHJcbiAgICBpZiAoIWNoYXIgfHwgIW1hcCkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGN1cnJlbnRUaWxlWCA9IE1hdGguZmxvb3IoY2hhci54IC8gbWFwLnRpbGVTaXplKTtcclxuICAgIGNvbnN0IGN1cnJlbnRUaWxlWSA9IE1hdGguZmxvb3IoY2hhci55IC8gbWFwLnRpbGVTaXplKTtcclxuICAgIGNvbnN0IGN1cnJlbnRUaWxlVmFsdWUgPVxyXG4gICAgICBjdXJyZW50VGlsZVggPj0gMCAmJiBjdXJyZW50VGlsZVggPCBtYXAuY29scyAmJiBjdXJyZW50VGlsZVkgPj0gMCAmJiBjdXJyZW50VGlsZVkgPCBtYXAucm93c1xyXG4gICAgICAgID8gbWFwLm1hcFtjdXJyZW50VGlsZVldPy5bY3VycmVudFRpbGVYXVxyXG4gICAgICAgIDogVElMRV9XQUxMO1xyXG5cclxuICAgIGNvbnN0IGlzQ2VudGVyVGlsZVdhbGthYmxlQnlNYXAgPSBtYXAuaXNXYWxrYWJsZShjaGFyLngsIGNoYXIueSk7XHJcbiAgICBjb25zdCBpc0xpZnQgPSBjdXJyZW50VGlsZVZhbHVlID09PSBUSUxFX0xJRlQ7XHJcbiAgICBjb25zdCBpc1NhZmVUb1N0YW5kSGVyZSA9IGlzQ2VudGVyVGlsZVdhbGthYmxlQnlNYXAgJiYgKCFpc0xpZnQgfHwgYWxsb3dTdGFuZGluZ09uTGlmdCk7XHJcbiAgICBjb25zdCBpc0NvbGxpZGluZ1dpdGhXYWxsID0gdGhpcy5jaGVja0NvbGxpc2lvbihjaGFyLngsIGNoYXIueSk7IC8vINCf0YDQvtCy0LXRgNGP0LXQvCDRgtC10LrRg9GJ0YPRjiDQv9C+0LfQuNGG0LjRjlxyXG4gICAgY29uc3QgbmVlZHNOdWRnZSA9IGlzQ29sbGlkaW5nV2l0aFdhbGwgfHwgIWlzU2FmZVRvU3RhbmRIZXJlO1xyXG5cclxuICAgIGlmIChuZWVkc051ZGdlKSB7XHJcbiAgICAgIGNvbnN0IGlzRGVidWcgPSB0aGlzLmdhbWUubGV2ZWw/LmN1cnJlbnRGbG9vciA9PT0gREVCVUdfRkxPT1JfR007XHJcbiAgICAgIGlmIChpc0RlYnVnKVxyXG4gICAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICAgIGBbR2FtZXBsYXlNYW5hZ2VyIEYke3RoaXMuZ2FtZS5sZXZlbC5jdXJyZW50Rmxvb3J9IEFudGlTdHVja10gQ2hhciBhdCAoJHtjaGFyLngudG9GaXhlZChcclxuICAgICAgICAgICAgMVxyXG4gICAgICAgICAgKX0sJHtjaGFyLnkudG9GaXhlZChcclxuICAgICAgICAgICAgMVxyXG4gICAgICAgICAgKX0pIC0+IHRpbGUgKCR7Y3VycmVudFRpbGVYfSwke2N1cnJlbnRUaWxlWX0pIG5lZWRzIG51ZGdlLiBDb2xsaWRpbmc6JHtpc0NvbGxpZGluZ1dpdGhXYWxsfSwgU2FmZVN0YW5kOiR7aXNTYWZlVG9TdGFuZEhlcmV9YFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICBjb25zdCBzYWZlU3BvdCA9IG1hcC5maW5kTmVhcmVzdFdhbGthYmxlVGlsZShjaGFyLngsIGNoYXIueSwgOCwgdHJ1ZSwgdHJ1ZSk7IC8vIGV4Y2x1ZGVMaWZ0PXRydWUsIGF2b2lkTmFycm93PXRydWVcclxuXHJcbiAgICAgIGlmIChzYWZlU3BvdCkge1xyXG4gICAgICAgIGlmIChpc0RlYnVnKVxyXG4gICAgICAgICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgICAgIGAgIFtBbnRpU3R1Y2tdIE51ZGdpbmcgdG8gc2FmZSBzcG90OiAoJHtzYWZlU3BvdC54LnRvRml4ZWQoMSl9LCR7c2FmZVNwb3QueS50b0ZpeGVkKFxyXG4gICAgICAgICAgICAgIDFcclxuICAgICAgICAgICAgKX0pYFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICBjaGFyLnggPSBzYWZlU3BvdC54O1xyXG4gICAgICAgIGNoYXIueSA9IHNhZmVTcG90Lnk7XHJcbiAgICAgICAgdGhpcy5nYW1lLnJlbmRlcmVyPy5jZW50ZXJDYW1lcmFPbkNoYXJhY3RlcigpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChpc0RlYnVnKVxyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgICAgYCAgW0FudGlTdHVja10gQ1JJVElDQUw6IENvdWxkIG5vdCBmaW5kIGFueSBzYWZlIHNwb3QgdG8gbnVkZ2UuIFRyeWluZyByYW5kb20uYFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICBjb25zdCBlbWVyZ2VuY3lTcG90ID0gbWFwLmZpbmRSYW5kb21Jbml0aWFsU3Bhd25Qb3NpdGlvbigpO1xyXG4gICAgICAgIGlmIChlbWVyZ2VuY3lTcG90KSB7XHJcbiAgICAgICAgICBpZiAoaXNEZWJ1ZylcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgICAgICAgIGAgIFtBbnRpU3R1Y2tdIEVtZXJnZW5jeSBudWRnZSB0byByYW5kb206ICgke2VtZXJnZW5jeVNwb3QueC50b0ZpeGVkKFxyXG4gICAgICAgICAgICAgICAgMVxyXG4gICAgICAgICAgICAgICl9LCR7ZW1lcmdlbmN5U3BvdC55LnRvRml4ZWQoMSl9KWBcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIGNoYXIueCA9IGVtZXJnZW5jeVNwb3QueDtcclxuICAgICAgICAgIGNoYXIueSA9IGVtZXJnZW5jeVNwb3QueTtcclxuICAgICAgICAgIHRoaXMuZ2FtZS5yZW5kZXJlcj8uY2VudGVyQ2FtZXJhT25DaGFyYWN0ZXIoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYgKGlzRGVidWcpXHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJyAgW0FudGlTdHVja10gRVZFTiBSQU5ET00gU1BBV04gRkFJTEVEISBHYW1lIG1pZ2h0IGJlIGJyb2tlbi4nKTtcclxuICAgICAgICAgIHRoaXMuZ2FtZS5faGFuZGxlRmF0YWxFcnJvcignQW50aS1TdHVjayBzeXN0ZW0gZmFpbGVkIGNyaXRpY2FsbHkuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIi8vIHNyYy9hdWRpby9BdWRpb01hbmFnZXIuanNcclxuXHJcbmltcG9ydCB0cmFjazFTcmMgZnJvbSAnLi4vLi4vYXNzZXRzL2F1ZGlvL2JhY2sxLm1wMyc7IC8vINCf0YDQuNC80LXRgCDQv9GD0YLQuCwg0L3QsNGB0YLRgNC+0LnRgtC1INC/0L7QtCDQstCw0YjRgyDRgdGC0YDRg9C60YLRg9GA0YNcclxuaW1wb3J0IHRyYWNrMlNyYyBmcm9tICcuLi8uLi9hc3NldHMvYXVkaW8vYmFjazIubXAzJztcclxuaW1wb3J0IHRyYWNrM1NyYyBmcm9tICcuLi8uLi9hc3NldHMvYXVkaW8vYmFjazMubXAzJztcclxuXHJcbmNvbnN0IERFRkFVTFRfTVVTSUNfVk9MVU1FID0gMC41O1xyXG5cclxuLy8g0JjRgdC/0L7Qu9GM0LfRg9C10Lwg0LjQvNC/0L7RgNGC0LjRgNC+0LLQsNC90L3Ri9C1INC40YHRhdC+0LTQvdC40LrQuFxyXG5jb25zdCBNVVNJQ19TT1VSQ0VTID0ge1xyXG4gIC8vINCf0LXRgNC10LjQvNC10L3QvtCy0LDQvdC+INC00LvRjyDRj9GB0L3QvtGB0YLQuFxyXG4gIHRyYWNrMTogdHJhY2sxU3JjLFxyXG4gIHRyYWNrMjogdHJhY2syU3JjLFxyXG4gIHRyYWNrMzogdHJhY2szU3JjLFxyXG59O1xyXG5cclxuLy8g0J/QvtGA0Y/QtNC+0LosINCyINC60L7RgtC+0YDQvtC8INGC0YDQtdC60Lgg0LHRg9C00YPRgiDQvNC10L3Rj9GC0YzRgdGPICjQvNC+0LbQvdC+INC40LfQvNC10L3QuNGC0Ywg0L3QsCDQtNGA0YPQs9GD0Y4g0LvQvtCz0LjQutGDKVxyXG5jb25zdCBUUkFDS19DWUNMRV9PUkRFUiA9IFsndHJhY2sxJywgJ3RyYWNrMicsICd0cmFjazMnXTtcclxuXHJcbmV4cG9ydCBjbGFzcyBBdWRpb01hbmFnZXIge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5tdXNpY1ZvbHVtZSA9IERFRkFVTFRfTVVTSUNfVk9MVU1FO1xyXG4gICAgdGhpcy5jdXJyZW50TXVzaWNFbGVtZW50ID0gbnVsbDtcclxuICAgIHRoaXMuY3VycmVudFRyYWNrS2V5ID0gbnVsbDtcclxuICAgIHRoaXMuaXNNdXNpY1BsYXlpbmcgPSBmYWxzZTtcclxuXHJcbiAgICBjb25zdCBzYXZlZFZvbHVtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdtdXNpY1ZvbHVtZScpO1xyXG4gICAgaWYgKHNhdmVkVm9sdW1lICE9PSBudWxsKSB7XHJcbiAgICAgIHRoaXMubXVzaWNWb2x1bWUgPSBwYXJzZUZsb2F0KHNhdmVkVm9sdW1lKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmF1ZGlvRWxlbWVudHMgPSB7fTtcclxuICAgIHRoaXMuX3ByZWxvYWRUcmFja3MoKTtcclxuICB9XHJcblxyXG4gIF9wcmVsb2FkVHJhY2tzKCkge1xyXG4gICAgY29uc29sZS5sb2coJ1tBdWRpb01hbmFnZXJdIFByZWxvYWRpbmcgdHJhY2tzIGZyb20gaW1wb3J0ZWQgc291cmNlcy4uLicpO1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gTVVTSUNfU09VUkNFUykge1xyXG4gICAgICBpZiAoTVVTSUNfU09VUkNFUy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgY29uc3QgYXVkaW9QYXRoID0gTVVTSUNfU09VUkNFU1trZXldOyAvLyDQmNGB0L/QvtC70YzQt9GD0LXQvCDQuNC80L/QvtGA0YLQuNGA0L7QstCw0L3QvdGL0Lkg0L/Rg9GC0YxcclxuICAgICAgICBjb25zdCBhdWRpbyA9IG5ldyBBdWRpbyhhdWRpb1BhdGgpO1xyXG4gICAgICAgIGF1ZGlvLnByZWxvYWQgPSAnYXV0byc7XHJcbiAgICAgICAgdGhpcy5hdWRpb0VsZW1lbnRzW2tleV0gPSBhdWRpbztcclxuICAgICAgICBjb25zb2xlLmxvZyhgICBQcmVsb2FkZWQgJHtrZXl9IGZyb20gJHthdWRpb1BhdGh9YCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldE11c2ljVm9sdW1lKHZvbHVtZSkge1xyXG4gICAgdGhpcy5tdXNpY1ZvbHVtZSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHZvbHVtZSkpOyAvLyDQntCz0YDQsNC90LjRh9C40LLQsNC10Lwg0L7RgiAwINC00L4gMVxyXG4gICAgaWYgKHRoaXMuY3VycmVudE11c2ljRWxlbWVudCkge1xyXG4gICAgICB0aGlzLmN1cnJlbnRNdXNpY0VsZW1lbnQudm9sdW1lID0gdGhpcy5tdXNpY1ZvbHVtZTtcclxuICAgIH1cclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdtdXNpY1ZvbHVtZScsIHRoaXMubXVzaWNWb2x1bWUudG9TdHJpbmcoKSk7IC8vINCh0L7RhdGA0LDQvdGP0LXQvCDQs9GA0L7QvNC60L7RgdGC0YxcclxuICAgIGNvbnNvbGUubG9nKGBbQXVkaW9NYW5hZ2VyXSBNdXNpYyB2b2x1bWUgc2V0IHRvOiAke3RoaXMubXVzaWNWb2x1bWV9YCk7XHJcbiAgfVxyXG5cclxuICBnZXRNdXNpY1ZvbHVtZSgpIHtcclxuICAgIHJldHVybiB0aGlzLm11c2ljVm9sdW1lO1xyXG4gIH1cclxuXHJcbiAgcGxheU11c2ljKHRyYWNrS2V5LCBsb29wID0gdHJ1ZSkge1xyXG4gICAgaWYgKCF0aGlzLmF1ZGlvRWxlbWVudHNbdHJhY2tLZXldKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihgW0F1ZGlvTWFuYWdlcl0gVHJhY2sgXCIke3RyYWNrS2V5fVwiIG5vdCBmb3VuZCBvciBub3QgcHJlbG9hZGVkLmApO1xyXG4gICAgICBpZiAoTVVTSUNfU09VUkNFU1t0cmFja0tleV0pIHtcclxuICAgICAgICAvLyDQn9GA0L7QstC10YDRj9C10Lwg0L3QsNC70LjRh9C40LUg0LIgTVVTSUNfU09VUkNFU1xyXG4gICAgICAgIHRoaXMuYXVkaW9FbGVtZW50c1t0cmFja0tleV0gPSBuZXcgQXVkaW8oTVVTSUNfU09VUkNFU1t0cmFja0tleV0pOyAvLyDQmNGB0L/QvtC70YzQt9GD0LXQvCDQuNC80L/QvtGA0YLQuNGA0L7QstCw0L3QvdGL0Lkg0L/Rg9GC0YxcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgYFtBdWRpb01hbmFnZXJdIFNvdXJjZSBmb3IgdHJhY2sgXCIke3RyYWNrS2V5fVwiIG5vdCBkZWZpbmVkIGluIE1VU0lDX1NPVVJDRVMuYFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuaXNNdXNpY1BsYXlpbmcgJiYgdGhpcy5jdXJyZW50VHJhY2tLZXkgPT09IHRyYWNrS2V5KSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuc3RvcE11c2ljKCk7XHJcblxyXG4gICAgdGhpcy5jdXJyZW50TXVzaWNFbGVtZW50ID0gdGhpcy5hdWRpb0VsZW1lbnRzW3RyYWNrS2V5XTtcclxuICAgIHRoaXMuY3VycmVudE11c2ljRWxlbWVudC52b2x1bWUgPSB0aGlzLm11c2ljVm9sdW1lO1xyXG4gICAgdGhpcy5jdXJyZW50TXVzaWNFbGVtZW50Lmxvb3AgPSBsb29wO1xyXG4gICAgdGhpcy5jdXJyZW50VHJhY2tLZXkgPSB0cmFja0tleTtcclxuXHJcbiAgICB0aGlzLmN1cnJlbnRNdXNpY0VsZW1lbnRcclxuICAgICAgLnBsYXkoKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5pc011c2ljUGxheWluZyA9IHRydWU7XHJcbiAgICAgICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgICBgW0F1ZGlvTWFuYWdlcl0gUGxheWluZyBtdXNpYzogJHt0cmFja0tleX0gKFZvbHVtZTogJHt0aGlzLmN1cnJlbnRNdXNpY0VsZW1lbnQudm9sdW1lfSlgXHJcbiAgICAgICAgKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFtBdWRpb01hbmFnZXJdIEVycm9yIHBsYXlpbmcgXCIke3RyYWNrS2V5fVwiOmAsIGVycm9yKTtcclxuICAgICAgICAvLyDQlNC+0LHQsNCy0YzRgtC1INCx0L7Qu9GM0YjQtSDQtNC10YLQsNC70LXQuSDQtNC70Y8g0L7RgtC70LDQtNC60Lgg0L/QvtC70LjRgtC40LrQuCDQsNCy0YLQvtCy0L7RgdC/0YDQvtC40LfQstC10LTQtdC90LjRj1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgICBgICBQbGF5YmFjayBmYWlsdXJlIGRldGFpbHM6IHVzZXJJbnRlcmFjdGVkIChjaGVjayBNZW51LmpzKSwgZG9jdW1lbnQuaGFzRm9jdXMoKTogJHtkb2N1bWVudC5oYXNGb2N1cygpfWBcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuaXNNdXNpY1BsYXlpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRNdXNpY0VsZW1lbnQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFRyYWNrS2V5ID0gbnVsbDtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBzdG9wTXVzaWMoKSB7XHJcbiAgICBpZiAodGhpcy5jdXJyZW50TXVzaWNFbGVtZW50KSB7XHJcbiAgICAgIHRoaXMuY3VycmVudE11c2ljRWxlbWVudC5wYXVzZSgpO1xyXG4gICAgICB0aGlzLmN1cnJlbnRNdXNpY0VsZW1lbnQuY3VycmVudFRpbWUgPSAwOyAvLyDQodCx0YDQvtGBINC90LAg0L3QsNGH0LDQu9C+XHJcbiAgICAgIHRoaXMuaXNNdXNpY1BsYXlpbmcgPSBmYWxzZTtcclxuICAgICAgY29uc29sZS5sb2coYFtBdWRpb01hbmFnZXJdIFN0b3BwZWQgbXVzaWM6ICR7dGhpcy5jdXJyZW50VHJhY2tLZXl9YCk7XHJcbiAgICAgIC8vINCd0LUg0L7Rh9C40YnQsNC10LwgY3VycmVudE11c2ljRWxlbWVudCDQuCBjdXJyZW50VHJhY2tLZXkg0LfQtNC10YHRjCDQv9C+0LvQvdC+0YHRgtGM0Y4sXHJcbiAgICAgIC8vINGH0YLQvtCx0Ysg0LzQvtC20L3QviDQsdGL0LvQviDQstC+0LfQvtCx0L3QvtCy0LjRgtGMLCDQtdGB0LvQuCDQvdGD0LbQvdC+LCDQvdC+INC00LvRjyDRgdC80LXQvdGLINGC0YDQtdC60LAg0Y3RgtC+INCe0JouXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDQktGL0LfRi9Cy0LDQtdGC0YHRjyDQv9GA0Lgg0YHQvNC10L3QtSDRjdGC0LDQttCwXHJcbiAgY2hhbmdlVHJhY2tGb3JGbG9vcihmbG9vck51bWJlcikge1xyXG4gICAgLy8g0J/RgNC+0YHRgtC+INGG0LjQutC70LjRh9C10YHQutC4INC80LXQvdGP0LXQvCDRgtGA0LXQutC4LiDQrdGC0LDQttC4INC+0LHRi9GH0L3QviAxLdC40L3QtNC10LrRgdC40YDQvtCy0LDQvdC90YvQtS5cclxuICAgIC8vIGZsb29yTnVtYmVyINC80L7QttC10YIg0LHRi9GC0Ywg0LvRjtCx0YvQvCwg0L/QvtGN0YLQvtC80YMg0LHQtdGA0LXQvCDQv9C+INC80L7QtNGD0LvRji5cclxuICAgIC8vINCY0YHQv9C+0LvRjNC30YPQtdC8IChmbG9vck51bWJlciAtIDEpINC10YHQu9C4INCy0LDRiNC4INGN0YLQsNC20Lgg0L3QsNGH0LjQvdCw0Y7RgtGB0Y8g0YEgMSwg0YfRgtC+0LHRiyDQuNC90LTQtdC60YEg0LHRi9C7INGBIDAuXHJcbiAgICAvLyDQldGB0LvQuCDRjdGC0LDQttC4INC80L7Qs9GD0YIg0LHRi9GC0YwgMCDQuNC70Lgg0L7RgtGA0LjRhtCw0YLQtdC70YzQvdGL0LzQuCwg0L3Rg9C20L3QsCDQtNGA0YPQs9Cw0Y8g0LvQvtCz0LjQutCwLlxyXG4gICAgLy8g0J/RgNC10LTQv9C+0LvQvtC20LjQvCwg0Y3RgtCw0LbQuCA+IDAuXHJcbiAgICBjb25zdCBhZGp1c3RlZEZsb29ySW5kZXggPSBNYXRoLm1heCgwLCBmbG9vck51bWJlciAtIDEpO1xyXG4gICAgY29uc3QgdHJhY2tJbmRleCA9IGFkanVzdGVkRmxvb3JJbmRleCAlIFRSQUNLX0NZQ0xFX09SREVSLmxlbmd0aDtcclxuICAgIGNvbnN0IG5ld1RyYWNrS2V5ID0gVFJBQ0tfQ1lDTEVfT1JERVJbdHJhY2tJbmRleF07XHJcblxyXG4gICAgaWYgKG5ld1RyYWNrS2V5KSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGBbQXVkaW9NYW5hZ2VyXSBGbG9vciAke2Zsb29yTnVtYmVyfSAtPiBNdXNpYyB0cmFjazogJHtuZXdUcmFja0tleX1gKTtcclxuICAgICAgdGhpcy5wbGF5TXVzaWMobmV3VHJhY2tLZXkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS53YXJuKGBbQXVkaW9NYW5hZ2VyXSBObyB0cmFjayBmb3VuZCBmb3IgZmxvb3IgaW5kZXggJHt0cmFja0luZGV4fS5gKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vINCc0LXRgtC+0LQg0LTQu9GPINC/0LXRgNCy0L7QvdCw0YfQsNC70YzQvdC+0LPQviDQt9Cw0L/Rg9GB0LrQsCDQvNGD0LfRi9C60LgsINC90LDQv9GA0LjQvNC10YAsINC/0YDQuCDRgdGC0LDRgNGC0LUg0LjQs9GA0YtcclxuICBzdGFydEluaXRpYWxNdXNpYyhpbml0aWFsRmxvb3IgPSAxKSB7XHJcbiAgICAvLyDQo9Cx0LXQtNC40LzRgdGPLCDRh9GC0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GMINCy0LfQsNC40LzQvtC00LXQudGB0YLQstC+0LLQsNC7INGB0L4g0YHRgtGA0LDQvdC40YbQtdC5LFxyXG4gICAgLy8g0L/RgNC10LbQtNC1INGH0LXQvCDQv9GL0YLQsNGC0YzRgdGPINCy0L7RgdC/0YDQvtC40LfQstC10YHRgtC4INC30LLRg9C6ICjQsdGA0LDRg9C30LXRgNGLINCx0LvQvtC60LjRgNGD0Y7RgiDQsNCy0YLQvtCy0L7RgdC/0YDQvtC40LfQstC10LTQtdC90LjQtSkuXHJcbiAgICAvLyDQrdGC0L7RgiDQvNC10YLQvtC0INC00L7Qu9C20LXQvSDQstGL0LfRi9Cy0LDRgtGM0YHRjyDQv9C+0YHQu9C1INC60LvQuNC60LAgXCJQbGF5XCIg0LIg0LPQu9Cw0LLQvdC+0Lwg0LzQtdC90Y4uXHJcbiAgICBjb25zb2xlLmxvZygnW0F1ZGlvTWFuYWdlcl0gQXR0ZW1wdGluZyB0byBzdGFydCBpbml0aWFsIG11c2ljLi4uJyk7XHJcbiAgICB0aGlzLmNoYW5nZVRyYWNrRm9yRmxvb3IoaW5pdGlhbEZsb29yKTtcclxuICB9XHJcbn1cclxuIiwiLy8gc3JjL2NvcmUvR2FtZS5qc1xyXG5pbXBvcnQgeyBJbnB1dE1hbmFnZXIgfSBmcm9tICcuL0lucHV0TWFuYWdlci5qcyc7XHJcbmltcG9ydCB7IFVJTWFuYWdlciB9IGZyb20gJy4uL1VJL1VJTWFuYWdlci5qcyc7XHJcbmltcG9ydCB7IENoYXJhY3RlciB9IGZyb20gJy4vQ2hhcmFjdGVyLmpzJztcclxuaW1wb3J0IHsgTGV2ZWwgfSBmcm9tICcuL0xldmVsLmpzJztcclxuaW1wb3J0IHsgR2FtZVN0YXRlLCBxdWVzdGlvbnMsIFRBUkdFVF9CT09LU19UT19XSU4sIExJRlRfQ09PTERPV05fTVMgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xyXG5pbXBvcnQgeyBHYW1lUmVuZGVyZXIgfSBmcm9tICcuL0dhbWVSZW5kZXJlci5qcyc7XHJcbmltcG9ydCB7IEdhbWVwbGF5TWFuYWdlciB9IGZyb20gJy4vR2FtZXBsYXlNYW5hZ2VyLmpzJztcclxuaW1wb3J0IHsgQXVkaW9NYW5hZ2VyIH0gZnJvbSAnLi4vYXVkaW8vQXVkaW9NYW5hZ2VyLmpzJztcclxuXHJcbi8vINCY0LzQv9C+0YDRgtGLINGB0L/RgNCw0LnRgtC+0LIgKNGD0LHQtdC00LjRgdGMLCDRh9GC0L4g0L/Rg9GC0Lgg0LrQvtGA0YDQtdC60YLQvdGLKVxyXG5pbXBvcnQgcmVkU3ByaXRlUGF0aCBmcm9tICcuLi8uLi9hc3NldHMvaW1hZ2VzL2NoYXJhY3Rlcl9yZWQucG5nJztcclxuaW1wb3J0IGJsdWVTcHJpdGVQYXRoIGZyb20gJy4uLy4uL2Fzc2V0cy9pbWFnZXMvY2hhcmFjdGVyX2JsdWUucG5nJztcclxuaW1wb3J0IHllbGxvd1Nwcml0ZVBhdGggZnJvbSAnLi4vLi4vYXNzZXRzL2ltYWdlcy9jaGFyYWN0ZXJfeWVsbG93LnBuZyc7XHJcbmltcG9ydCBncmVlblNwcml0ZVBhdGggZnJvbSAnLi4vLi4vYXNzZXRzL2ltYWdlcy9jaGFyYWN0ZXJfZ3JlZW4ucG5nJztcclxuaW1wb3J0IGJvb2tTcHJpdGVJbWFnZSBmcm9tICcuLi8uLi9hc3NldHMvaW1hZ2VzL2Jvb2sucG5nJztcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lIHtcclxuICBzdGF0aWMgQ1JFQVRPUl9OQU1FUyA9IFsnUmFmYcWCJywgJ0RpbWEnLCAnVmVuaWEnLCAnS2FjcGVyJ107XHJcbiAgc3RhdGljIENMQVNTX0FUVEVORElOR19JTkZPID0gJ0tsYXNhIDJQMlQgLyBQcm9qZWt0b3dhbmllIHN0cm9uIGludGVybmV0b3d5Y2gnO1xyXG5cclxuICBjb25zdHJ1Y3RvcihjaGFyYWN0ZXJDb2xvcikge1xyXG4gICAgLy8gY2hhcmFjdGVyQ29sb3Ig0L/QtdGA0LXQtNCw0LXRgtGB0Y8g0LjQtyBNZW51LmpzXHJcbiAgICBjb25zb2xlLmxvZyhgW0dhbWVdIEluaXRpYWxpemluZyB3aXRoIGNoYXJhY3RlcjogJHtjaGFyYWN0ZXJDb2xvcn1gKTtcclxuICAgIGlmICghY2hhcmFjdGVyQ29sb3IpIHtcclxuICAgICAgY29uc3QgZXJyb3JNc2cgPSAnW0dhbWVdIENSSVRJQ0FMOiBHYW1lIGluaXRpYWxpemVkIHdpdGhvdXQgYSBjaGFyYWN0ZXJDb2xvciEnO1xyXG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yTXNnKTtcclxuICAgICAgYWxlcnQoJ0dhbWUgY2Fubm90IHN0YXJ0OiBubyBjaGFyYWN0ZXIgd2FzIHNlbGVjdGVkLicpOyAvLyBCYXNpYyBmYWxsYmFja1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNc2cpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5jaGFyYWN0ZXJDb2xvciA9IGNoYXJhY3RlckNvbG9yO1xyXG4gICAgdGhpcy5fZ2FtZVN0YXRlID0gR2FtZVN0YXRlLklETEU7IC8vINCd0LDRh9Cw0LvRjNC90L7QtSDRgdC+0YHRgtC+0Y/QvdC40LUsINC40LPRgNCwINC10YnQtSDQvdC1INC30LDQv9GD0YnQtdC90LBcclxuICAgIHRoaXMuaXNSdW5uaW5nID0gZmFsc2U7XHJcblxyXG4gICAgLy8gLi4uICjQvtGB0YLQsNC70YzQvdGL0LUg0YHQstC+0LnRgdGC0LLQsCDQuNC90LjRhtC40LDQu9C40LfQuNGA0YPRjtGC0YHRjyDQutCw0Log0YDQsNC90YzRiNC1KVxyXG4gICAgdGhpcy50b3RhbEJvb2tzQ29sbGVjdGVkR2xvYmFsbHkgPSAwO1xyXG4gICAgdGhpcy50YXJnZXRCb29rc1RvV2luID0gVEFSR0VUX0JPT0tTX1RPX1dJTjtcclxuICAgIHRoaXMuYXZhaWxhYmxlUXVlc3Rpb25zID0gW107XHJcbiAgICB0aGlzLmN1cnJlbnRCb29rVGFyZ2V0ID0gbnVsbDtcclxuICAgIHRoaXMuY3VycmVudFF1ZXN0aW9uRGF0YSA9IG51bGw7XHJcbiAgICB0aGlzLmxpZnRDb29sZG93bkFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgdGhpcy5saWZ0Q29vbGRvd25UaW1lciA9IG51bGw7XHJcbiAgICB0aGlzLmNhbnZhcyA9IG51bGw7XHJcbiAgICB0aGlzLmN0eCA9IG51bGw7XHJcbiAgICB0aGlzLmNoYXJhY3RlciA9IG51bGw7XHJcbiAgICB0aGlzLmxldmVsID0gbnVsbDtcclxuICAgIHRoaXMuaW5wdXRNYW5hZ2VyID0gbnVsbDtcclxuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xyXG4gICAgdGhpcy5nYW1lcGxheU1hbmFnZXIgPSBudWxsO1xyXG4gICAgdGhpcy5hdWRpb01hbmFnZXIgPSBudWxsOyAvLyDQkdGD0LTQtdGCINGB0L7Qt9C00LDQvSDQvdC40LbQtVxyXG4gICAgdGhpcy5zcHJpdGVzID0ge1xyXG4gICAgICByZWQ6IHJlZFNwcml0ZVBhdGgsXHJcbiAgICAgIGJsdWU6IGJsdWVTcHJpdGVQYXRoLFxyXG4gICAgICB5ZWxsb3c6IHllbGxvd1Nwcml0ZVBhdGgsXHJcbiAgICAgIGdyZWVuOiBncmVlblNwcml0ZVBhdGgsXHJcbiAgICB9O1xyXG4gICAgdGhpcy5ib29rSW1hZ2UgPSBudWxsO1xyXG4gICAgdGhpcy5nYW1lTG9vcCA9IHRoaXMuZ2FtZUxvb3AuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuX2hhbmRsZUZhdGFsRXJyb3IgPSB0aGlzLl9oYW5kbGVGYXRhbEVycm9yLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLl9ib3VuZEtleURvd25IYW5kbGVyID0gbnVsbDtcclxuICAgIHRoaXMuX2JvdW5kS2V5VXBIYW5kbGVyID0gbnVsbDtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICB0aGlzLl9pbml0aWFsaXplQ29yZUNvbXBvbmVudHMoKTsgLy8gaW5wdXRNYW5hZ2VyLCBsZXZlbFxyXG5cclxuICAgICAgdGhpcy5hdWRpb01hbmFnZXIgPSBuZXcgQXVkaW9NYW5hZ2VyKCk7IC8vIEF1ZGlvTWFuYWdlciDRgdC+0LfQtNCw0LXRgtGB0Y8g0LfQtNC10YHRjFxyXG4gICAgICBjb25zb2xlLmxvZygnW0dhbWVdIEF1ZGlvTWFuYWdlciBjcmVhdGVkLicpO1xyXG4gICAgICAvLyBNZW51LmpzINC90YPQttC00LDQtdGC0YHRjyDQsiBBdWRpb01hbmFnZXIg0LTQu9GPINGB0LvQsNC50LTQtdGA0LAg0LPRgNC+0LzQutC+0YHRgtC4LlxyXG4gICAgICAvLyDQrdGC0L4g0LzQvtC20L3QviDRgdC00LXQu9Cw0YLRjCwg0LXRgdC70LggTWVudSAtINGB0LjQvdCz0LvRgtC+0L0g0LjQu9C4INC10YHQu9C4INC10YHRgtGMINGB0YHRi9C70LrQsCDQvdCwINGN0LrQt9C10LzQv9C70Y/RgCBNZW51LlxyXG4gICAgICAvLyDQn9C+0YHQutC+0LvRjNC60YMgTWVudS5qcyDRjdC60YHQv9C+0YDRgtC40YDRg9C10YIgY3VycmVudEdhbWVJbnN0YW5jZSwg0LrQvtGC0L7RgNGL0Lkg0Y/QstC70Y/QtdGC0YHRjyDRjdC60LfQtdC80L/Qu9GP0YDQvtC8IEdhbWUsXHJcbiAgICAgIC8vINCwIE1lbnUg0YHQvtC30LTQsNC10YIgR2FtZSwg0Y3RgtC+INGB0L7Qt9C00LDQtdGCINGG0LjQutC7LlxyXG4gICAgICAvLyDQn9GA0L7RidC1INCy0YHQtdCz0L4sINGH0YLQvtCx0YsgTWVudSDRg9GB0YLQsNC90LDQstC70LjQstCw0Lsg0LPRgNC+0LzQutC+0YHRgtGMINGH0LXRgNC10LcgbG9jYWxTdG9yYWdlLCDQsCBBdWRpb01hbmFnZXIg0YfQuNGC0LDQuyDQtdC1LlxyXG4gICAgICAvLyDQm9C40LHQviwg0LXRgdC70Lgg0Y3QutC30LXQvNC/0LvRj9GAIE1lbnUg0L/QtdGA0LXQtNCw0LXRgtGB0Y8g0LIgR2FtZSwg0LjQu9C4INC40YHQv9C+0LvRjNC30YPQtdGC0YHRjyDQs9C70L7QsdCw0LvRjNC90LDRjyDRgdGB0YvQu9C60LAg0L3QsCBNZW51LlxyXG4gICAgICAvLyDQn9C+0LrQsCDRh9GC0L4g0L7RgdGC0LDQstC40Lwg0YLQsNC6OiBBdWRpb01hbmFnZXIg0YfQuNGC0LDQtdGCINC40LcgbG9jYWxTdG9yYWdlLiBNZW51LmpzINGD0LbQtSDQv9C40YjQtdGCINCyIGxvY2FsU3RvcmFnZS5cclxuXHJcbiAgICAgIHRoaXMuZ2FtZXBsYXlNYW5hZ2VyID0gbmV3IEdhbWVwbGF5TWFuYWdlcih0aGlzKTtcclxuICAgICAgY29uc29sZS5sb2coJ1tHYW1lXSBHYW1lcGxheU1hbmFnZXIgY3JlYXRlZC4nKTtcclxuXHJcbiAgICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgR2FtZVJlbmRlcmVyKHRoaXMpO1xyXG4gICAgICBjb25zdCB7IGNhbnZhcywgY3R4IH0gPSB0aGlzLnJlbmRlcmVyLmluaXRpYWxpemVDYW52YXMoKTtcclxuICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XHJcbiAgICAgIHRoaXMuY3R4ID0gY3R4O1xyXG4gICAgICBjb25zb2xlLmxvZygnW0dhbWVdIFJlbmRlcmVyIGFuZCBDYW52YXMgaW5pdGlhbGl6ZWQuJyk7XHJcblxyXG4gICAgICAvLyBVSU1hbmFnZXIg0LjRgdC/0L7Qu9GM0LfRg9C10YLRgdGPINC00LvRjyDQstC90YPRgtGA0LjQuNCz0YDQvtCy0L7Qs9C+IFVJLiBNZW51LmpzINGD0L/RgNCw0LLQu9GP0LXRgiDQs9C70LDQstC90YvQvCDQvNC10L3Rji5cclxuICAgICAgVUlNYW5hZ2VyLnNldEdhbWVwbGF5TWFuYWdlcih0aGlzLmdhbWVwbGF5TWFuYWdlcik7XHJcbiAgICAgIC8vIFVJTWFuYWdlci5zZXRBdWRpb01hbmFnZXIodGhpcy5hdWRpb01hbmFnZXIpOyAvLyBVSU1hbmFnZXIg0L3QtSDRg9C/0YDQsNCy0LvRj9C10YIg0LPRgNC+0LzQutC+0YHRgtGM0Y4g0L3QsNC/0YDRj9C80YPRjlxyXG4gICAgICBVSU1hbmFnZXIuaW5pdGlhbGl6ZVVJKHRoaXMuaW5wdXRNYW5hZ2VyKTsgLy8g0J3QsNGB0YLRgNCw0LjQstCw0LXRgiDQutC+0L3RgtGA0L7Qu9GLLCDQv9Cw0L3QtdC70Lgg0LLQvtC/0YDQvtGB0L7QsiDQuCDRgi7QtC5cclxuICAgICAgY29uc29sZS5sb2coJ1tHYW1lXSBVSU1hbmFnZXIgZm9yIGluLWdhbWUgVUkgaW5pdGlhbGl6ZWQuJyk7XHJcblxyXG4gICAgICB0aGlzLl9hZGRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgICAgLy8g0JjQs9GA0LAg0LbQtNC10YIg0LLRi9C30L7QstCwIHRyaWdnZXJHYW1lU3RhcnQoKSDQuNC3IE1lbnUuanNcclxuICAgICAgLy8gTWVudS5qcyDQstGL0LfQvtCy0LXRgiDQtdCz0L4g0L/QvtGB0LvQtSDRgdC+0LfQtNCw0L3QuNGPINGN0YLQvtCz0L4g0Y3QutC30LXQvNC/0LvRj9GA0LAgR2FtZS5cclxuICAgICAgY29uc29sZS5sb2coJ1tHYW1lXSBDb3JlIGNvbXBvbmVudHMgaW5pdGlhbGl6ZWQuIFdhaXRpbmcgZm9yIHRyaWdnZXJHYW1lU3RhcnQoKSBmcm9tIE1lbnUuJyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbR2FtZV0gU3luY2hyb25vdXMgY29yZSBpbml0aWFsaXphdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgICAvLyBVSU1hbmFnZXIg0LzQvtC20LXRgiDQsdGL0YLRjCDQtdGJ0LUg0L3QtSDQs9C+0YLQvtCyINC00LvRjyBmbGFzaE1lc3NhZ2VcclxuICAgICAgYWxlcnQoYENyaXRpY2FsIGluaXRpYWxpemF0aW9uIGVycm9yOiAke2Vycm9yLm1lc3NhZ2V9LiBHYW1lIGNhbm5vdCBzdGFydC5gKTtcclxuICAgICAgLy8g0J3QtSDQstGL0LfRi9Cy0LDQtdC8IF9oYW5kbGVGYXRhbEVycm9yINC30LTQtdGB0YwsINGC0LDQuiDQutCw0Log0LjQs9GA0LAg0LzQvtC20LXRgiDQvdC1INCx0YvRgtGMINCyINGB0L7RgdGC0L7Rj9C90LjQuCDQtdCz0L4g0L7QsdGA0LDQsdC+0YLQsNGC0YxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vINCc0LXRgtC+0LTRiyBnZXQgZ2FtZVN0YXRlLCBzZXRHYW1lU3RhdGUsIF9pbml0aWFsaXplQ29yZUNvbXBvbmVudHMsIF9hZGRFdmVudExpc3RlbmVyc1xyXG4gIC8vINC+0YHRgtCw0Y7RgtGB0Y8g0YLQsNC60LjQvNC4INC20LUsINC60LDQuiDQsiDQv9GA0LXQtNGL0LTRg9GJ0LXQvCDQvtGC0LLQtdGC0LUuXHJcbiAgZ2V0IGdhbWVTdGF0ZSgpIHtcclxuICAgIHJldHVybiB0aGlzLl9nYW1lU3RhdGU7XHJcbiAgfVxyXG4gIHNldEdhbWVTdGF0ZShuZXdTdGF0ZSkge1xyXG4gICAgaWYgKHRoaXMuX2dhbWVTdGF0ZSAhPT0gbmV3U3RhdGUpIHtcclxuICAgICAgY29uc29sZS5sb2coYFtHYW1lIFN0YXRlXSAke3RoaXMuX2dhbWVTdGF0ZX0gLT4gJHtuZXdTdGF0ZX1gKTtcclxuICAgICAgdGhpcy5fZ2FtZVN0YXRlID0gbmV3U3RhdGU7XHJcbiAgICB9XHJcbiAgfVxyXG4gIF9pbml0aWFsaXplQ29yZUNvbXBvbmVudHMoKSB7XHJcbiAgICB0aGlzLmlucHV0TWFuYWdlciA9IG5ldyBJbnB1dE1hbmFnZXIoKTtcclxuICAgIHRoaXMubGV2ZWwgPSBuZXcgTGV2ZWwoMSwgMyk7XHJcbiAgfVxyXG4gIF9hZGRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB0aGlzLnJlbmRlcmVyPy5yZXNpemVDYW52YXMoKSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyB0cmlnZ2VyR2FtZVN0YXJ0KCkge1xyXG4gICAgLy8g0K3RgtCwINGE0YPQvdC60YbQuNGPINCy0YvQt9GL0LLQsNC10YLRgdGPINC40LcgTWVudS5qcyDQv9C+0YHQu9C1INGB0L7Qt9C00LDQvdC40Y8g0Y3QutC30LXQvNC/0LvRj9GA0LAgR2FtZVxyXG4gICAgaWYgKHRoaXMuZ2FtZVN0YXRlICE9PSBHYW1lU3RhdGUuSURMRSkge1xyXG4gICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgYFtHYW1lXSB0cmlnZ2VyR2FtZVN0YXJ0IGNhbGxlZCBidXQgZ2FtZSBzdGF0ZSBpcyAke3RoaXMuZ2FtZVN0YXRlfS4gQ3VycmVudCBjaGFyYWN0ZXI6ICR7dGhpcy5jaGFyYWN0ZXJDb2xvcn0uIEFib3J0aW5nLmBcclxuICAgICAgKTtcclxuICAgICAgLy8g0JXRgdC70Lgg0LjQs9GA0LAg0YPQttC1INC30LDQv9GD0YnQtdC90LAg0LjQu9C4INC30LDQs9GA0YPQttCw0LXRgtGB0Y8sINC90LUg0LTQtdC70LDQtdC8INC90LjRh9C10LPQvlxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZyhcclxuICAgICAgYFtHYW1lXSB0cmlnZ2VyR2FtZVN0YXJ0IHJlY2VpdmVkIGZvciBjaGFyYWN0ZXI6ICR7dGhpcy5jaGFyYWN0ZXJDb2xvcn0uIFN0YXJ0aW5nIGFzc2V0IGxvYWRpbmcuLi5gXHJcbiAgICApO1xyXG5cclxuICAgIGNvbnN0IGxvYWRpbmdPdmVybGF5ID0gVUlNYW5hZ2VyLmdldExvYWRpbmdPdmVybGF5KCk7XHJcbiAgICBpZiAobG9hZGluZ092ZXJsYXkpIGxvYWRpbmdPdmVybGF5LmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBfbG9hZEFzc2V0c0FuZFRoZW5TdGFydExvZ2ljINGD0LbQtSDRg9GB0YLQsNC90LDQstC70LjQstCw0LXRgiBHYW1lU3RhdGUuTE9BRElOR1xyXG4gICAgICBhd2FpdCB0aGlzLl9sb2FkQXNzZXRzQW5kVGhlblN0YXJ0TG9naWMoKTtcclxuICAgICAgY29uc29sZS5sb2coJ1tHYW1lXSBHYW1lIHN0YXJ0IHNlcXVlbmNlIChhc3NldHMgYW5kIGxvZ2ljKSBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5LicpO1xyXG4gICAgICAvLyBsb2FkaW5nT3ZlcmxheSDQsdGD0LTQtdGCINGB0LrRgNGL0YIg0LLQvdGD0YLRgNC4IF9sb2FkQXNzZXRzQW5kVGhlblN0YXJ0TG9naWMg0LjQu9C4IF9zdGFydEdhbWVMb2dpY1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAnW0dhbWVdIEVycm9yIGR1cmluZyBfbG9hZEFzc2V0c0FuZFRoZW5TdGFydExvZ2ljIChjYWxsZWQgZnJvbSB0cmlnZ2VyR2FtZVN0YXJ0KTonLFxyXG4gICAgICAgIGVycm9yXHJcbiAgICAgICk7XHJcbiAgICAgIGlmIChsb2FkaW5nT3ZlcmxheSkgbG9hZGluZ092ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xyXG4gICAgICAvLyBfaGFuZGxlRmF0YWxFcnJvciDQsdGD0LTQtdGCINCy0YvQt9Cy0LDQvSDQuNC3IF9sb2FkQXNzZXRzQW5kVGhlblN0YXJ0TG9naWMsINC10YHQu9C4INC+0YjQuNCx0LrQsCDRgtCw0LwuXHJcbiAgICAgIC8vINCV0YHQu9C4IF9oYW5kbGVGYXRhbEVycm9yINC90LUg0LHRi9C7INCy0YvQt9Cy0LDQvSwg0LAg0L7RiNC40LHQutCwINC/0YDQvtC40LfQvtGI0LvQsCwg0LTQtdC70LDQtdC8INGN0YLQviDQt9C00LXRgdGMLlxyXG4gICAgICBpZiAodGhpcy5nYW1lU3RhdGUgIT09IEdhbWVTdGF0ZS5HQU1FX09WRVIpIHtcclxuICAgICAgICB0aGlzLl9oYW5kbGVGYXRhbEVycm9yKGBHYW1lIHN0YXJ0IHByb2Nlc3MgZmFpbGVkOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIF9sb2FkQXNzZXRzQW5kVGhlblN0YXJ0TG9naWMoKSB7XHJcbiAgICAvLyDQrdGC0L7RgiDQvNC10YLQvtC0INC+0YHRgtCw0LXRgtGB0Y8g0L/QvtGH0YLQuCDRgtCw0LrQuNC8INC20LVcclxuICAgIGNvbnN0IGxvYWRpbmdPdmVybGF5ID0gVUlNYW5hZ2VyLmdldExvYWRpbmdPdmVybGF5KCk7IC8vINCf0L7Qu9GD0YfQsNC10Lwg0LXRidC1INGA0LDQtywg0LXRgdC70Lgg0L3Rg9C20L3QvlxyXG4gICAgdHJ5IHtcclxuICAgICAgdGhpcy5zZXRHYW1lU3RhdGUoR2FtZVN0YXRlLkxPQURJTkcpO1xyXG4gICAgICBpZiAobG9hZGluZ092ZXJsYXkgJiYgIWxvYWRpbmdPdmVybGF5LmNsYXNzTGlzdC5jb250YWlucygndmlzaWJsZScpKSB7XHJcbiAgICAgICAgbG9hZGluZ092ZXJsYXkuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBhd2FpdCB0aGlzLl9sb2FkQXNzZXRzKCk7IC8vINCX0LDQs9GA0YPQt9C60LAg0YHQv9GA0LDQudGC0L7Qsiwg0LjQt9C+0LHRgNCw0LbQtdC90LjQuVxyXG4gICAgICBhd2FpdCB0aGlzLl9zdGFydEdhbWVMb2dpYygpOyAvLyDQl9Cw0L/Rg9GB0Log0LjQs9GA0L7QstC+0Lkg0LvQvtCz0LjQutC4LCDQstC60LvRjtGH0LDRjyDQvNGD0LfRi9C60YNcclxuXHJcbiAgICAgIC8vINCj0YHQv9C10YjQvdC+0LUg0LfQsNCy0LXRgNGI0LXQvdC40LUsINGB0LrRgNGL0LLQsNC10Lwg0L7QstC10YDQu9C10Lkg0LfQsNCz0YDRg9C30LrQuCAo0LXRgdC70Lgg0LXRidC1INCy0LjQtNC40LwpXHJcbiAgICAgIGlmIChsb2FkaW5nT3ZlcmxheSkgbG9hZGluZ092ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignW0dhbWVdIF9sb2FkQXNzZXRzQW5kVGhlblN0YXJ0TG9naWMgZmFpbGVkOicsIGVycm9yKTtcclxuICAgICAgaWYgKGxvYWRpbmdPdmVybGF5KSBsb2FkaW5nT3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7IC8vINCj0LHQuNGA0LDQtdC8INC+0LLQtdGA0LvQtdC5INC/0YDQuCDQvtGI0LjQsdC60LVcclxuICAgICAgdGhpcy5faGFuZGxlRmF0YWxFcnJvcihgQXNzZXQgbG9hZGluZyBvciBnYW1lIGxvZ2ljIHN0YXJ0IGVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICAgIHRocm93IGVycm9yOyAvLyDQn9C10YDQtdCx0YDQsNGB0YvQstCw0LXQvCDQvtGI0LjQsdC60YMg0LTQsNC70YzRiNC1LCDRh9GC0L7QsdGLIHRyaWdnZXJHYW1lU3RhcnQg0LzQvtCzINC10ZEg0L/QvtC50LzQsNGC0YxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIF9sb2FkQXNzZXRzKCkge1xyXG4gICAgLy8g0K3RgtC+0YIg0LzQtdGC0L7QtCDQvtGB0YLQsNC10YLRgdGPINC/0L7Rh9GC0Lgg0YLQsNC60LjQvCDQttC1LCDQuNGB0L/QvtC70YzQt9GD0LXRgiB0aGlzLmNoYXJhY3RlckNvbG9yXHJcbiAgICBjb25zb2xlLmxvZygnW0dhbWVdIExvYWRpbmcgYXNzZXRzLi4uJyk7XHJcbiAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xyXG4gICAgY29uc3Qgc3ByaXRlUGF0aEtleSA9IHRoaXMuY2hhcmFjdGVyQ29sb3IgfHwgJ3JlZCc7IC8vINCY0YHQv9C+0LvRjNC30YPQtdC8INCy0YvQsdGA0LDQvdC90YvQuSDRhtCy0LXRgiDQuNC70Lgg0LrRgNCw0YHQvdGL0Lkg0L/QviDRg9C80L7Qu9GH0LDQvdC40Y5cclxuICAgIGNvbnN0IHNwcml0ZVBhdGggPSB0aGlzLnNwcml0ZXNbc3ByaXRlUGF0aEtleV07XHJcblxyXG4gICAgaWYgKCFzcHJpdGVQYXRoKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgU3ByaXRlIHBhdGggZm9yIGNoYXJhY3RlciBjb2xvciBcIiR7c3ByaXRlUGF0aEtleX1cIiBpcyB1bmRlZmluZWQuYCk7XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZyhgW0dhbWVdIFVzaW5nIHNwcml0ZSBwYXRoOiAke3Nwcml0ZVBhdGh9IGZvciBjaGFyYWN0ZXIgJHtzcHJpdGVQYXRoS2V5fWApO1xyXG5cclxuICAgIGlmICghdGhpcy5jdHgpIHRocm93IG5ldyBFcnJvcignQ2FudmFzIGNvbnRleHQgbm90IGF2YWlsYWJsZSBmb3IgQ2hhcmFjdGVyIGNyZWF0aW9uLicpO1xyXG4gICAgdGhpcy5jaGFyYWN0ZXIgPSBuZXcgQ2hhcmFjdGVyKHRoaXMuY3R4LCBzcHJpdGVQYXRoLCB7XHJcbiAgICAgIHNwZWVkOiAzLFxyXG4gICAgICBmcmFtZVNpemU6IDMyLFxyXG4gICAgICBzY2FsZTogMixcclxuICAgICAgYW5pbWF0aW9uU3BlZWQ6IDE1MCxcclxuICAgICAgZnJhbWVDb3VudDogNCxcclxuICAgIH0pO1xyXG4gICAgcHJvbWlzZXMucHVzaChcclxuICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIHRoaXMuY2hhcmFjdGVyLnNwcml0ZS5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhgICBbQXNzZXRzXSBDaGFyYWN0ZXIgc3ByaXRlIGxvYWRlZDogJHtzcHJpdGVQYXRofWApO1xyXG4gICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5jaGFyYWN0ZXIuc3ByaXRlLm9uZXJyb3IgPSAoZXJyKSA9PlxyXG4gICAgICAgICAgcmVqZWN0KFxyXG4gICAgICAgICAgICBuZXcgRXJyb3IoXHJcbiAgICAgICAgICAgICAgYEZhaWxlZCB0byBsb2FkIGNoYXJhY3RlciBzcHJpdGU6ICR7c3ByaXRlUGF0aH0uIERldGFpbHM6ICR7ZXJyLm1lc3NhZ2UgfHwgZXJyfWBcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgfSlcclxuICAgICk7XHJcblxyXG4gICAgaWYgKGJvb2tTcHJpdGVJbWFnZSkge1xyXG4gICAgICB0aGlzLmJvb2tJbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICB0aGlzLmJvb2tJbWFnZS5zcmMgPSBib29rU3ByaXRlSW1hZ2U7XHJcbiAgICAgIHByb21pc2VzLnB1c2goXHJcbiAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgIC8vINCd0LUg0LjRgdC/0L7Qu9GM0LfRg9C10LwgcmVqZWN0LCDRh9GC0L7QsdGLINC40LPRgNCwINC80L7Qs9C70LAg0L/RgNC+0LTQvtC70LbQuNGC0YzRgdGPINCx0LXQtyDQutC90LjQs9C4XHJcbiAgICAgICAgICB0aGlzLmJvb2tJbWFnZS5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGAgIFtBc3NldHNdIEJvb2sgaW1hZ2UgbG9hZGVkOiAke2Jvb2tTcHJpdGVJbWFnZX1gKTtcclxuICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIHRoaXMuYm9va0ltYWdlLm9uZXJyb3IgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICAgICAgICBgIFtBc3NldHNdIEZhaWxlZCB0byBsb2FkIGJvb2sgaW1hZ2U6ICR7Ym9va1Nwcml0ZUltYWdlfS4gVXNpbmcgZmFsbGJhY2suYFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB0aGlzLmJvb2tJbWFnZSA9IG51bGw7XHJcbiAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignW0Fzc2V0c10gTm8gYm9vayBzcHJpdGUgcGF0aCBwcm92aWRlZC4gQm9vayB3aWxsIHVzZSBmYWxsYmFjayByZW5kZXJpbmcuJyk7XHJcbiAgICAgIHRoaXMuYm9va0ltYWdlID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XHJcbiAgICBjb25zb2xlLmxvZygnW0dhbWVdIEFsbCB2aXN1YWwgYXNzZXRzIGxvYWRlZCBzdWNjZXNzZnVsbHkuJyk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBfc3RhcnRHYW1lTG9naWMoKSB7XHJcbiAgICAvLyDQrdGC0L7RgiDQvNC10YLQvtC0INC+0YHRgtCw0LXRgtGB0Y8g0L/QvtGH0YLQuCDRgtCw0LrQuNC8INC20LVcclxuICAgIGNvbnNvbGUubG9nKCdbR2FtZV0gU3RhcnRpbmcgY29yZSBnYW1lIGxvZ2ljLi4uJyk7XHJcbiAgICBpZiAoXHJcbiAgICAgICF0aGlzLmxldmVsIHx8XHJcbiAgICAgICF0aGlzLmNoYXJhY3RlciB8fFxyXG4gICAgICAhdGhpcy5jYW52YXMgfHxcclxuICAgICAgIXRoaXMucmVuZGVyZXIgfHxcclxuICAgICAgIXRoaXMuZ2FtZXBsYXlNYW5hZ2VyIHx8XHJcbiAgICAgICF0aGlzLmF1ZGlvTWFuYWdlclxyXG4gICAgKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHN0YXJ0IGdhbWUgLSBlc3NlbnRpYWwgY29tcG9uZW50cyBhcmUgbWlzc2luZy4nKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNldEdhbWVTdGF0ZShHYW1lU3RhdGUuTE9BRElOR19MRVZFTCk7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgdGhpcy5sZXZlbC5sb2FkRmxvb3IodGhpcy5sZXZlbC5taW5GbG9vciwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XHJcbiAgICAgIGNvbnN0IGN1cnJlbnRNYXAgPSB0aGlzLmxldmVsLmN1cnJlbnRNYXA7XHJcbiAgICAgIGlmICghY3VycmVudE1hcCkgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gbG9hZCBpbml0aWFsIG1hcC4gTWFwIG9iamVjdCBpcyBudWxsLicpO1xyXG5cclxuICAgICAgY29uc3Qgc3RhcnRQb3MgPSBjdXJyZW50TWFwLmZpbmRSYW5kb21Jbml0aWFsU3Bhd25Qb3NpdGlvbigpO1xyXG4gICAgICBpZiAoIXN0YXJ0UG9zKSB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmaW5kIGEgdmFsaWQgc3RhcnRpbmcgcG9zaXRpb24gb24gdGhlIG1hcCEnKTtcclxuICAgICAgdGhpcy5jaGFyYWN0ZXIueCA9IHN0YXJ0UG9zLng7XHJcbiAgICAgIHRoaXMuY2hhcmFjdGVyLnkgPSBzdGFydFBvcy55O1xyXG4gICAgICB0aGlzLmNoYXJhY3Rlci5jdXJyZW50RGlyZWN0aW9uID0gQ2hhcmFjdGVyLkRpcmVjdGlvbi5ET1dOO1xyXG4gICAgICB0aGlzLmNoYXJhY3Rlci5pc01vdmluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgdGhpcy5nYW1lcGxheU1hbmFnZXIuZW5zdXJlQ2hhcmFjdGVySXNPbldhbGthYmxlVGlsZShmYWxzZSk7XHJcblxyXG4gICAgICAvLyDQodCx0YDQvtGBINGB0L7RgdGC0L7Rj9C90LjRjyDQuNCz0YDRi1xyXG4gICAgICB0aGlzLnRvdGFsQm9va3NDb2xsZWN0ZWRHbG9iYWxseSA9IDA7XHJcbiAgICAgIHRoaXMuYXZhaWxhYmxlUXVlc3Rpb25zID0gWy4uLnF1ZXN0aW9uc107XHJcbiAgICAgIHRoaXMubGlmdENvb2xkb3duQWN0aXZlID0gZmFsc2U7XHJcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmxpZnRDb29sZG93blRpbWVyKTtcclxuICAgICAgdGhpcy5saWZ0Q29vbGRvd25UaW1lciA9IG51bGw7XHJcbiAgICAgIHRoaXMuY3VycmVudEJvb2tUYXJnZXQgPSBudWxsO1xyXG4gICAgICB0aGlzLmN1cnJlbnRRdWVzdGlvbkRhdGEgPSBudWxsO1xyXG5cclxuICAgICAgdGhpcy5yZW5kZXJlci5jZW50ZXJDYW1lcmFPbkNoYXJhY3RlcigpO1xyXG5cclxuICAgICAgVUlNYW5hZ2VyLnVwZGF0ZVNjb3JlKHRoaXMudG90YWxCb29rc0NvbGxlY3RlZEdsb2JhbGx5LCB0aGlzLnRhcmdldEJvb2tzVG9XaW4pO1xyXG4gICAgICBVSU1hbmFnZXIuc2hvd0dhbWVVSSgpOyAvLyDQn9C+0LrQsNC30YvQstCw0LXRgiDQuNCz0YDQvtCy0L7QuSBVSSAo0LrQsNC90LLQsNGBLCDQvtGH0LrQuCwg0LrQvtC90YLRgNC+0LvRiyDQuCDRgi7QtC4pXHJcblxyXG4gICAgICAvLyDQlNC+0LHQsNCy0LvRj9C10Lwg0L7QsdGA0LDQsdC+0YLRh9C40LrQuCDQutC70LDQstC40LDRgtGD0YDRi1xyXG4gICAgICB0aGlzLl9ib3VuZEtleURvd25IYW5kbGVyID0gdGhpcy5oYW5kbGVLZXlEb3duLmJpbmQodGhpcyk7XHJcbiAgICAgIHRoaXMuX2JvdW5kS2V5VXBIYW5kbGVyID0gdGhpcy5oYW5kbGVLZXlVcC5iaW5kKHRoaXMpO1xyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2JvdW5kS2V5RG93bkhhbmRsZXIpO1xyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9ib3VuZEtleVVwSGFuZGxlcik7XHJcblxyXG4gICAgICAvLyDQl9CQ0J/Qo9Ch0Jog0JzQo9CX0KvQmtCYIC0g0L/RgNC+0LjRgdGF0L7QtNC40YIg0LfQtNC10YHRjCwg0J/QntCh0JvQlSDQstC30LDQuNC80L7QtNC10LnRgdGC0LLQuNGPINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyAo0LrQu9C40LogXCJQbGF5XCIg0LIgTWVudS5qcylcclxuICAgICAgdGhpcy5hdWRpb01hbmFnZXIuc3RhcnRJbml0aWFsTXVzaWModGhpcy5sZXZlbC5jdXJyZW50Rmxvb3IpO1xyXG4gICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICBgW0dhbWVdIEluaXRpYWwgbXVzaWMgc3RhcnRlZCAob3IgYXR0ZW1wdGVkKSBmb3IgZmxvb3IgJHt0aGlzLmxldmVsLmN1cnJlbnRGbG9vcn1gXHJcbiAgICAgICk7XHJcblxyXG4gICAgICAvLyDQo9GB0YLQsNC90LDQstC70LjQstCw0LXQvCDRgdC+0YHRgtC+0Y/QvdC40LUg0LjQs9GA0Ysg0LIgUExBWUlORyDQuCDQt9Cw0L/Rg9GB0LrQsNC10Lwg0YLQsNC50LzQtdGAXHJcbiAgICAgIHRoaXMuc2V0R2FtZVN0YXRlKEdhbWVTdGF0ZS5QTEFZSU5HKTtcclxuICAgICAgVUlNYW5hZ2VyLnN0YXJ0VGltZXIoKTsgLy8gVUlNYW5hZ2VyINGD0L/RgNCw0LLQu9GP0LXRgiDRgtCw0LnQvNC10YDQvtC8XHJcblxyXG4gICAgICAvLyDQl9Cw0L/Rg9GB0LrQsNC10Lwg0LjQs9GA0L7QstC+0Lkg0YbQuNC60LtcclxuICAgICAgaWYgKCF0aGlzLmlzUnVubmluZykge1xyXG4gICAgICAgIHRoaXMuaXNSdW5uaW5nID0gdHJ1ZTtcclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5nYW1lTG9vcCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1tHYW1lXSBHYW1lIGxvZ2ljIHN0YXJ0ZWQuIEdhbWUgbG9vcCBpcyBydW5uaW5nLicpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbR2FtZV0gRXJyb3IgZHVyaW5nIF9zdGFydEdhbWVMb2dpYzonLCBlcnJvcik7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZhdGFsRXJyb3IoYExldmVsIHN0YXJ0IHByb2Nlc3MgZXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gKTsgLy8g0J/QvtC60LDQt9GL0LLQsNC10Lwg0L7RiNC40LHQutGDINC4IEdhbWUgT3ZlclxyXG4gICAgICB0aHJvdyBlcnJvcjsgLy8g0J/QtdGA0LXQsdGA0LDRgdGL0LLQsNC10Lwg0L7RiNC40LHQutGDLCDRh9GC0L7QsdGLIF9sb2FkQXNzZXRzQW5kVGhlblN0YXJ0TG9naWMg0LXRkSDRg9Cy0LjQtNC10LtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vINCc0LXRgtC+0LTRiyBfc2V0R2FtZU92ZXIsIHN0b3BHYW1lLCBfaGFuZGxlRmF0YWxFcnJvciwgaGFuZGxlS2V5RG93biwgaGFuZGxlS2V5VXAsIGdhbWVMb29wLCBzdGFydExpZnRDb29sZG93blRpbWVyXHJcbiAgLy8g0L7RgdGC0LDRjtGC0YHRjyDRgtCw0LrQuNC80Lgg0LbQtSwg0LrQsNC6INCyINC/0YDQtdC00YvQtNGD0YnQtdC5INC/0L7Qu9C90L7QuSDQstC10YDRgdC40LggR2FtZS5qcy5cclxuICBfc2V0R2FtZU92ZXIod2luID0gdHJ1ZSkge1xyXG4gICAgaWYgKHRoaXMuZ2FtZVN0YXRlID09PSBHYW1lU3RhdGUuR0FNRV9PVkVSKSByZXR1cm47XHJcbiAgICBjb25zb2xlLmxvZyhgW0dhbWVdIFNldHRpbmcgZ2FtZSBvdmVyLiBXaW46ICR7d2lufWApO1xyXG4gICAgdGhpcy5zZXRHYW1lU3RhdGUoR2FtZVN0YXRlLkdBTUVfT1ZFUik7XHJcbiAgICB0aGlzLmlzUnVubmluZyA9IGZhbHNlO1xyXG4gICAgaWYgKHRoaXMuY2hhcmFjdGVyKSB0aGlzLmNoYXJhY3Rlci5pc01vdmluZyA9IGZhbHNlO1xyXG4gICAgY2xlYXJUaW1lb3V0KHRoaXMubGlmdENvb2xkb3duVGltZXIpO1xyXG4gICAgaWYgKHRoaXMuYXVkaW9NYW5hZ2VyKSB0aGlzLmF1ZGlvTWFuYWdlci5zdG9wTXVzaWMoKTtcclxuICAgIGlmICh0aGlzLl9ib3VuZEtleURvd25IYW5kbGVyKSB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2JvdW5kS2V5RG93bkhhbmRsZXIpO1xyXG4gICAgaWYgKHRoaXMuX2JvdW5kS2V5VXBIYW5kbGVyKSB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9ib3VuZEtleVVwSGFuZGxlcik7XHJcbiAgICB0aGlzLl9ib3VuZEtleURvd25IYW5kbGVyID0gbnVsbDtcclxuICAgIHRoaXMuX2JvdW5kS2V5VXBIYW5kbGVyID0gbnVsbDtcclxuICAgIFVJTWFuYWdlci5zdG9wVGltZXIod2luKTtcclxuICAgIFVJTWFuYWdlci5zaG93R2FtZU92ZXJTY3JlZW4od2luLCBHYW1lLkNSRUFUT1JfTkFNRVMsIEdhbWUuQ0xBU1NfQVRURU5ESU5HX0lORk8pO1xyXG4gIH1cclxuXHJcbiAgc3RvcEdhbWUoKSB7XHJcbiAgICBjb25zb2xlLmxvZygnW0dhbWVdIEV4cGxpY2l0IHN0b3BHYW1lIHJlcXVlc3RlZC4nKTtcclxuICAgIC8vINCV0YHQu9C4INC40LPRgNCwINGD0LbQtSDQt9Cw0LrQvtC90YfQtdC90LAsINC90LUg0LTQtdC70LDQtdC8INC90LjRh9C10LPQviwg0YfRgtC+0LHRiyDQvdC1INC/0LXRgNC10LfQsNC/0LjRgdCw0YLRjCDRgdC+0YHRgtC+0Y/QvdC40LVcclxuICAgIGlmICh0aGlzLmdhbWVTdGF0ZSAhPT0gR2FtZVN0YXRlLkdBTUVfT1ZFUikge1xyXG4gICAgICB0aGlzLl9zZXRHYW1lT3ZlcihmYWxzZSk7IC8vINCf0YDQtdC00L/QvtC70LDQs9Cw0LXQvCwg0YfRgtC+INGP0LLQvdGL0Lkg0YHRgtC+0L8gLSDRjdGC0L4g0L3QtSDQv9C+0LHQtdC00LBcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdbR2FtZV0gc3RvcEdhbWUgY2FsbGVkLCBidXQgZ2FtZSBpcyBhbHJlYWR5IG92ZXIuJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRmF0YWxFcnJvcihtZXNzYWdlLCBzaG93QWxlcnQgPSB0cnVlKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdbR2FtZV0gRkFUQUwgRVJST1I6JywgbWVzc2FnZSk7XHJcbiAgICAvLyDQn9C+0LrQsNC30YvQstCw0LXQvCDRgdC+0L7QsdGJ0LXQvdC40LUg0YLQvtC70YzQutC+INC10YHQu9C4INC40LPRgNCwINC90LUg0LIg0YHQvtGB0YLQvtGP0L3QuNC4IEdBTUVfT1ZFUiwg0YfRgtC+0LHRiyDQuNC30LHQtdC20LDRgtGMINC00YPQsdC70LjRgNC+0LLQsNC90LjRj1xyXG4gICAgaWYgKHNob3dBbGVydCAmJiB0aGlzLmdhbWVTdGF0ZSAhPT0gR2FtZVN0YXRlLkdBTUVfT1ZFUikge1xyXG4gICAgICBVSU1hbmFnZXIuZmxhc2hNZXNzYWdlKGBGQVRBTCBFUlJPUjogJHttZXNzYWdlfWAsICdlcnJvcicsIDE1MDAwKTtcclxuICAgIH1cclxuICAgIC8vINCS0LDQttC90L4g0LLRgdC10LPQtNCwINC/0LXRgNC10LLQvtC00LjRgtGMINC40LPRgNGDINCyINGB0L7RgdGC0L7Rj9C90LjQtSBHQU1FX09WRVIg0L/RgNC4INGE0LDRgtCw0LvRjNC90L7QuSDQvtGI0LjQsdC60LVcclxuICAgIGlmICh0aGlzLmdhbWVTdGF0ZSAhPT0gR2FtZVN0YXRlLkdBTUVfT1ZFUikge1xyXG4gICAgICB0aGlzLl9zZXRHYW1lT3ZlcihmYWxzZSk7IC8vINCf0L7QutCw0LfRi9Cy0LDQtdC8INGN0LrRgNCw0L0gR2FtZSBPdmVyXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVLZXlEb3duKGUpIHtcclxuICAgIGlmICh0aGlzLmdhbWVTdGF0ZSAhPT0gR2FtZVN0YXRlLlBMQVlJTkcgfHwgIXRoaXMuaW5wdXRNYW5hZ2VyKSByZXR1cm47XHJcbiAgICBsZXQga2V5SGFuZGxlZCA9IGZhbHNlO1xyXG4gICAgY29uc3Qga2V5ID0gZS5rZXkudG9Mb3dlckNhc2UoKTtcclxuICAgIGlmIChbJ2Fycm93dXAnLCAndyddLmluY2x1ZGVzKGtleSkpIHtcclxuICAgICAgdGhpcy5pbnB1dE1hbmFnZXIuc2V0S2V5KCd1cCcsIHRydWUpO1xyXG4gICAgICBrZXlIYW5kbGVkID0gdHJ1ZTtcclxuICAgIH0gZWxzZSBpZiAoWydhcnJvd2Rvd24nLCAncyddLmluY2x1ZGVzKGtleSkpIHtcclxuICAgICAgdGhpcy5pbnB1dE1hbmFnZXIuc2V0S2V5KCdkb3duJywgdHJ1ZSk7XHJcbiAgICAgIGtleUhhbmRsZWQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIGlmIChbJ2Fycm93bGVmdCcsICdhJ10uaW5jbHVkZXMoa2V5KSkge1xyXG4gICAgICB0aGlzLmlucHV0TWFuYWdlci5zZXRLZXkoJ2xlZnQnLCB0cnVlKTtcclxuICAgICAga2V5SGFuZGxlZCA9IHRydWU7XHJcbiAgICB9IGVsc2UgaWYgKFsnYXJyb3dyaWdodCcsICdkJ10uaW5jbHVkZXMoa2V5KSkge1xyXG4gICAgICB0aGlzLmlucHV0TWFuYWdlci5zZXRLZXkoJ3JpZ2h0JywgdHJ1ZSk7XHJcbiAgICAgIGtleUhhbmRsZWQgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgaWYgKGtleUhhbmRsZWQpIGUucHJldmVudERlZmF1bHQoKTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUtleVVwKGUpIHtcclxuICAgIGlmICghdGhpcy5pbnB1dE1hbmFnZXIpIHJldHVybjtcclxuICAgIGNvbnN0IGtleSA9IGUua2V5LnRvTG93ZXJDYXNlKCk7XHJcbiAgICBpZiAoWydhcnJvd3VwJywgJ3cnXS5pbmNsdWRlcyhrZXkpKSB0aGlzLmlucHV0TWFuYWdlci5zZXRLZXkoJ3VwJywgZmFsc2UpO1xyXG4gICAgZWxzZSBpZiAoWydhcnJvd2Rvd24nLCAncyddLmluY2x1ZGVzKGtleSkpIHRoaXMuaW5wdXRNYW5hZ2VyLnNldEtleSgnZG93bicsIGZhbHNlKTtcclxuICAgIGVsc2UgaWYgKFsnYXJyb3dsZWZ0JywgJ2EnXS5pbmNsdWRlcyhrZXkpKSB0aGlzLmlucHV0TWFuYWdlci5zZXRLZXkoJ2xlZnQnLCBmYWxzZSk7XHJcbiAgICBlbHNlIGlmIChbJ2Fycm93cmlnaHQnLCAnZCddLmluY2x1ZGVzKGtleSkpIHRoaXMuaW5wdXRNYW5hZ2VyLnNldEtleSgncmlnaHQnLCBmYWxzZSk7XHJcbiAgfVxyXG5cclxuICBnYW1lTG9vcCh0aW1lc3RhbXApIHtcclxuICAgIGlmICghdGhpcy5pc1J1bm5pbmcgfHwgdGhpcy5nYW1lU3RhdGUgPT09IEdhbWVTdGF0ZS5HQU1FX09WRVIpIHJldHVybjtcclxuICAgIHRoaXMuZ2FtZXBsYXlNYW5hZ2VyPy51cGRhdGUodGltZXN0YW1wKTtcclxuICAgIHRoaXMucmVuZGVyZXI/LmNlbnRlckNhbWVyYU9uQ2hhcmFjdGVyKCk7XHJcbiAgICB0aGlzLnJlbmRlcmVyPy5kcmF3RnJhbWUoKTtcclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmdhbWVMb29wKTtcclxuICB9XHJcblxyXG4gIHN0YXJ0TGlmdENvb2xkb3duVGltZXIoKSB7XHJcbiAgICBjbGVhclRpbWVvdXQodGhpcy5saWZ0Q29vbGRvd25UaW1lcik7XHJcbiAgICBjb25zb2xlLmxvZyhgW0dhbWVdIFN0YXJ0aW5nIGxpZnQgY29vbGRvd24gdGltZXI6ICR7TElGVF9DT09MRE9XTl9NU31tcy5gKTtcclxuICAgIHRoaXMubGlmdENvb2xkb3duVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgdGhpcy5saWZ0Q29vbGRvd25BY3RpdmUgPSBmYWxzZTtcclxuICAgICAgdGhpcy5saWZ0Q29vbGRvd25UaW1lciA9IG51bGw7XHJcbiAgICAgIGlmICh0aGlzLmdhbWVTdGF0ZSA9PT0gR2FtZVN0YXRlLlRSQU5TSVRJT05JTkcpIHtcclxuICAgICAgICB0aGlzLnNldEdhbWVTdGF0ZShHYW1lU3RhdGUuUExBWUlORyk7XHJcbiAgICAgICAgVUlNYW5hZ2VyLmZsYXNoTWVzc2FnZShgQXJyaXZlZCBhdCBmbG9vciAke3RoaXMubGV2ZWw/LmN1cnJlbnRGbG9vcn1gLCAnc3VjY2VzcycsIDE1MDApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICAgIGBbR2FtZVRpbWVyXSBMaWZ0IGNvb2xkb3duIGVuZGVkLCBidXQgZ2FtZSBzdGF0ZSBpcyAke3RoaXMuZ2FtZVN0YXRlfS4gTm8gc3RhdGUgY2hhbmdlIGFwcGxpZWQuYFxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH0sIExJRlRfQ09PTERPV05fTVMpO1xyXG4gIH1cclxufVxyXG4iLCIvLyBzcmMvVUkvTWVudS5qc1xyXG5pbXBvcnQgeyBHYW1lIH0gZnJvbSAnLi4vY29yZS9HYW1lLmpzJzsgLy8g0KPQsdC10LTQuNGB0YwsINGH0YLQviDQv9GD0YLRjCDQuiBHYW1lLmpzINCy0LXRgNC90YvQuVxyXG5pbXBvcnQgeyBVSU1hbmFnZXIgfSBmcm9tICcuL1VJTWFuYWdlci5qcyc7IC8vIFVJTWFuYWdlciDQtNC70Y8gZmxhc2gt0YHQvtC+0LHRidC10L3QuNC5INC4INC30LDQs9GA0YPQt9C+0YfQvdC+0LPQviDQvtCy0LXRgNC70LXRj1xyXG5cclxubGV0IGN1cnJlbnRHYW1lSW5zdGFuY2UgPSBudWxsOyAvLyDQn9C10YDQtdC80LXQvdC90LDRjyDQtNC70Y8g0YXRgNCw0L3QtdC90LjRjyDRgtC10LrRg9GJ0LXQs9C+INGN0LrQt9C10LzQv9C70Y/RgNCwINC40LPRgNGLXHJcblxyXG5leHBvcnQgY2xhc3MgTWVudSB7XHJcbiAgY29uc3RydWN0b3IoY2hhcmFjdGVySW1hZ2VTb3VyY2VzKSB7XHJcbiAgICB0aGlzLmNoYXJhY3RlckltYWdlU291cmNlcyA9IGNoYXJhY3RlckltYWdlU291cmNlcztcclxuICAgIHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXIgPSBudWxsO1xyXG4gICAgdGhpcy51c2VySW50ZXJhY3RlZCA9IGZhbHNlOyAvLyDQlNC70Y8g0L7RgtGB0LvQtdC20LjQstCw0L3QuNGPINC/0LXRgNCy0L7Qs9C+INCy0LfQsNC40LzQvtC00LXQudGB0YLQstC40Y9cclxuICAgIHRoaXMub3ZlcmxheSA9IG51bGw7IC8vINCe0LLQtdGA0LvQtdC5INC00LvRjyDQvNC+0LTQsNC70YzQvdGL0YUg0L7QutC+0L1cclxuICAgIHRoaXMuYXVkaW9NYW5hZ2VySW5zdGFuY2UgPSBudWxsOyAvLyDQlNC70Y8g0YXRgNCw0L3QtdC90LjRjyDRjdC60LfQtdC80L/Qu9GP0YDQsCBBdWRpb01hbmFnZXJcclxuXHJcbiAgICBjb25zb2xlLmxvZygnW01lbnVdIENvbnN0cnVjdG9yIGNhbGxlZC4gSW5pdGlhbGl6aW5nIGVsZW1lbnRzLi4uJyk7XHJcbiAgICB0aGlzLmluaXRpYWxpemVFbGVtZW50cygpO1xyXG5cclxuICAgIGlmICh0aGlzLmNoYXJhY3RlclBhbmVsICYmIHRoaXMuY2hhcmFjdGVyR3JpZCkge1xyXG4gICAgICAvLyDQn9GA0L7QstC10YDQutCwIGNoYXJhY3RlckdyaWQg0LLQsNC20L3QsFxyXG4gICAgICB0aGlzLnNldHVwQ2hhcmFjdGVySW1hZ2VzKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICdbTWVudSBDb25zdHJ1Y3Rvcl0gQ1JJVElDQUw6IGNoYXJhY3RlclBhbmVsIG9yIGNoYXJhY3RlckdyaWQgaXMgbnVsbCBBRlRFUiBpbml0aWFsaXplRWxlbWVudHMuIENhbm5vdCBzZXR1cCBpbWFnZXMuJ1xyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKCdbTWVudV0gQWRkaW5nIGV2ZW50IGxpc3RlbmVycy4uLicpO1xyXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5zaG93KCk7IC8vINCf0L7QutCw0LfRi9Cy0LDQtdC8INC80LXQvdGOINC/0YDQuCDQuNC90LjRhtC40LDQu9C40LfQsNGG0LjQuFxyXG4gICAgY29uc29sZS5sb2coJ1tNZW51XSBJbnN0YW5jZSBjcmVhdGVkIGFuZCBkaXNwbGF5ZWQuJyk7XHJcbiAgfVxyXG5cclxuICAvLyDQnNC10YLQvtC0INC00LvRjyDQv9C+0LvRg9GH0LXQvdC40Y8gQXVkaW9NYW5hZ2VyINC40LcgR2FtZS5qc1xyXG4gIHNldEF1ZGlvTWFuYWdlcihhdWRpb01hbmFnZXIpIHtcclxuICAgIHRoaXMuYXVkaW9NYW5hZ2VySW5zdGFuY2UgPSBhdWRpb01hbmFnZXI7XHJcbiAgICBjb25zb2xlLmxvZygnW01lbnVdIEF1ZGlvTWFuYWdlciBpbnN0YW5jZSByZWNlaXZlZCBpbiBNZW51LicpO1xyXG4gICAgaWYgKHRoaXMubXVzaWNWb2x1bWUgJiYgdGhpcy5hdWRpb01hbmFnZXJJbnN0YW5jZSkge1xyXG4gICAgICB0aGlzLm11c2ljVm9sdW1lLnZhbHVlID0gdGhpcy5hdWRpb01hbmFnZXJJbnN0YW5jZS5nZXRNdXNpY1ZvbHVtZSgpICogMTAwO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLm11c2ljVm9sdW1lKSB7XHJcbiAgICAgIC8vINCV0YHQu9C4IEF1ZGlvTWFuYWdlciDQtdGJ0LUg0L3QtSDQv9GA0LjRiNC10LssINC90L4g0YHQu9Cw0LnQtNC10YAg0LXRgdGC0YwsINGD0YHRgtCw0L3QvtCy0LjQvCDQt9C90LDRh9C10L3QuNC1INC40LcgbG9jYWxTdG9yYWdlXHJcbiAgICAgIGNvbnN0IHNhdmVkVm9sdW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ211c2ljVm9sdW1lJyk7XHJcbiAgICAgIGlmIChzYXZlZFZvbHVtZSAhPT0gbnVsbCkge1xyXG4gICAgICAgIHRoaXMubXVzaWNWb2x1bWUudmFsdWUgPSBwYXJzZUZsb2F0KHNhdmVkVm9sdW1lKSAqIDEwMDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLm11c2ljVm9sdW1lLnZhbHVlID0gNTA7IC8vIERlZmF1bHRcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaW5pdGlhbGl6ZUVsZW1lbnRzKCkge1xyXG4gICAgdGhpcy5tZW51Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lbnUtY29udGFpbmVyJyk7XHJcbiAgICBpZiAoIXRoaXMubWVudUNvbnRhaW5lcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbTWVudSBJbml0XSBDUklUSUNBTDogLm1lbnUtY29udGFpbmVyIG5vdCBmb3VuZCEnKTtcclxuICAgICAgcmV0dXJuOyAvLyDQn9GA0LXRgNGL0LLQsNC10LwsINC10YHQu9C4INC90LXRgiDQvtGB0L3QvtCy0L3QvtCz0L4g0LrQvtC90YLQtdC50L3QtdGA0LBcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNldHRpbmdzQnV0dG9uID0gdGhpcy5tZW51Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5zZXR0aW5ncy1idXR0b24nKTtcclxuICAgIHRoaXMucGxheUJ1dHRvbiA9IHRoaXMubWVudUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcucGxheS1idXR0b24nKTtcclxuICAgIHRoaXMuY2hhcmFjdGVyQnV0dG9uID0gdGhpcy5tZW51Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5jaGFyYWN0ZXItYnV0dG9uJyk7XHJcblxyXG4gICAgaWYgKCF0aGlzLnBsYXlCdXR0b24pIGNvbnNvbGUud2FybignW01lbnUgSW5pdF0gLnBsYXktYnV0dG9uIG5vdCBmb3VuZC4nKTtcclxuICAgIGVsc2UgdGhpcy5wbGF5QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuXHJcbiAgICBpZiAoIXRoaXMuY2hhcmFjdGVyQnV0dG9uKSBjb25zb2xlLndhcm4oJ1tNZW51IEluaXRdIC5jaGFyYWN0ZXItYnV0dG9uIG5vdCBmb3VuZC4nKTtcclxuICAgIGlmICghdGhpcy5zZXR0aW5nc0J1dHRvbikgY29uc29sZS53YXJuKCdbTWVudSBJbml0XSAuc2V0dGluZ3MtYnV0dG9uIG5vdCBmb3VuZC4nKTtcclxuXHJcbiAgICAvLyDQn9Cw0L3QtdC70Lgg0LvRg9GH0YjQtSDQuNGB0LrQsNGC0Ywg0L/QviDQstGB0LXQvNGDINC00L7QutGD0LzQtdC90YLRgywg0LXRgdC70Lgg0L7QvdC4INC90LUg0LLQu9C+0LbQtdC90Ysg0LIgLm1lbnUtY29udGFpbmVyXHJcbiAgICB0aGlzLnNldHRpbmdzUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2V0dGluZ3MtcGFuZWwnKTtcclxuICAgIGlmICh0aGlzLnNldHRpbmdzUGFuZWwpIHtcclxuICAgICAgLy8g0JXRgdC70Lgg0L/QsNC90LXQu9GMINC90LUg0LIgYm9keSwg0L/QtdGA0LXQvNC10YnQsNC10Lwg0LXQtSDRgtGD0LTQsCDQtNC70Y8g0LrQvtGA0YDQtdC60YLQvdC+0LPQviDQv9C+0LfQuNGG0LjQvtC90LjRgNC+0LLQsNC90LjRjyBmaXhlZFxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc1BhbmVsLnBhcmVudE5vZGUgIT09IGRvY3VtZW50LmJvZHkgJiZcclxuICAgICAgICB0aGlzLnNldHRpbmdzUGFuZWwucGFyZW50Tm9kZSAhPT0gdGhpcy5tZW51Q29udGFpbmVyIC8qIGFsbG93IGlmIG5lc3RlZCAqL1xyXG4gICAgICApIHtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuc2V0dGluZ3NQYW5lbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuc2V0dGluZ3NQYW5lbCkpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMubXVzaWNWb2x1bWUgPSB0aGlzLnNldHRpbmdzUGFuZWwucXVlcnlTZWxlY3RvcignI211c2ljLXZvbHVtZScpO1xyXG4gICAgICB0aGlzLnNmeFZvbHVtZSA9IHRoaXMuc2V0dGluZ3NQYW5lbC5xdWVyeVNlbGVjdG9yKCcjc2Z4LXZvbHVtZScpOyAvLyDQntGB0YLQsNCy0LjQvCwg0LXRgdC70Lgg0L/QvtC90LDQtNC+0LHQuNGC0YHRj1xyXG4gICAgICB0aGlzLmNsb3NlU2V0dGluZ3NCdXR0b24gPSB0aGlzLnNldHRpbmdzUGFuZWwucXVlcnlTZWxlY3RvcignLnBhbmVsLWNsb3NlLWJ1dHRvbicpO1xyXG4gICAgICBpZiAoIXRoaXMubXVzaWNWb2x1bWUpXHJcbiAgICAgICAgY29uc29sZS53YXJuKCdbTWVudSBJbml0XSAjbXVzaWMtdm9sdW1lIHNsaWRlciBub3QgZm91bmQgaW4gc2V0dGluZ3MgcGFuZWwuJyk7XHJcbiAgICAgIGlmICghdGhpcy5jbG9zZVNldHRpbmdzQnV0dG9uKVxyXG4gICAgICAgIGNvbnNvbGUud2FybignW01lbnUgSW5pdF0gLnBhbmVsLWNsb3NlLWJ1dHRvbiBub3QgZm91bmQgaW4gc2V0dGluZ3MgcGFuZWwuJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ1tNZW51IEluaXRdIC5zZXR0aW5ncy1wYW5lbCBub3QgZm91bmQuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jaGFyYWN0ZXJQYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGFyYWN0ZXItcGFuZWwnKTtcclxuICAgIGlmICh0aGlzLmNoYXJhY3RlclBhbmVsKSB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICB0aGlzLmNoYXJhY3RlclBhbmVsLnBhcmVudE5vZGUgIT09IGRvY3VtZW50LmJvZHkgJiZcclxuICAgICAgICB0aGlzLmNoYXJhY3RlclBhbmVsLnBhcmVudE5vZGUgIT09IHRoaXMubWVudUNvbnRhaW5lclxyXG4gICAgICApIHtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuY2hhcmFjdGVyUGFuZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmNoYXJhY3RlclBhbmVsKSk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5jaGFyYWN0ZXJHcmlkID0gdGhpcy5jaGFyYWN0ZXJQYW5lbC5xdWVyeVNlbGVjdG9yKCcuY2hhcmFjdGVyLWdyaWQnKTtcclxuICAgICAgdGhpcy5jbG9zZUNoYXJhY3RlclBhbmVsQnV0dG9uID0gdGhpcy5jaGFyYWN0ZXJQYW5lbC5xdWVyeVNlbGVjdG9yKCcucGFuZWwtY2xvc2UtYnV0dG9uJyk7XHJcbiAgICAgIGlmICghdGhpcy5jaGFyYWN0ZXJHcmlkKVxyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tNZW51IEluaXRdIENSSVRJQ0FMOiAuY2hhcmFjdGVyLWdyaWQgbm90IGZvdW5kIGluIGNoYXJhY3RlciBwYW5lbCEnKTtcclxuICAgICAgaWYgKCF0aGlzLmNsb3NlQ2hhcmFjdGVyUGFuZWxCdXR0b24pXHJcbiAgICAgICAgY29uc29sZS53YXJuKCdbTWVudSBJbml0XSAucGFuZWwtY2xvc2UtYnV0dG9uIG5vdCBmb3VuZCBpbiBjaGFyYWN0ZXIgcGFuZWwuJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbTWVudSBJbml0XSBDUklUSUNBTDogLmNoYXJhY3Rlci1wYW5lbCBub3QgZm91bmQhJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0KHQvtC30LTQsNC10Lwg0LjQu9C4INC90LDRhdC+0LTQuNC8INGN0LvQtdC80LXQvdGCINC00LvRjyDQvtGC0L7QsdGA0LDQttC10L3QuNGPINCy0YvQsdGA0LDQvdC90L7Qs9C+INC/0LXRgNGB0L7QvdCw0LbQsFxyXG4gICAgbGV0IGRpc3BsYXlDb250YWluZXIgPSB0aGlzLm1lbnVDb250YWluZXIucXVlcnlTZWxlY3RvcignLm1haW4tbWVudS1idXR0b25zJyk7XHJcbiAgICB0aGlzLnNlbGVjdGVkQ2hhcmFjdGVyRGlzcGxheSA9IGRpc3BsYXlDb250YWluZXJcclxuICAgICAgPyBkaXNwbGF5Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5zZWxlY3RlZC1jaGFyYWN0ZXItZGlzcGxheScpXHJcbiAgICAgIDogbnVsbDtcclxuXHJcbiAgICBpZiAoIXRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXJEaXNwbGF5KSB7XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXJEaXNwbGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXJEaXNwbGF5LmNsYXNzTmFtZSA9ICdzZWxlY3RlZC1jaGFyYWN0ZXItZGlzcGxheSc7XHJcbiAgICAgIGlmICh0aGlzLnBsYXlCdXR0b24gJiYgdGhpcy5wbGF5QnV0dG9uLnBhcmVudE5vZGUpIHtcclxuICAgICAgICB0aGlzLnBsYXlCdXR0b24ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5zZWxlY3RlZENoYXJhY3RlckRpc3BsYXksIHRoaXMucGxheUJ1dHRvbik7XHJcbiAgICAgIH0gZWxzZSBpZiAoZGlzcGxheUNvbnRhaW5lcikge1xyXG4gICAgICAgIC8vINCS0YHRgtCw0LLQu9GP0LXQvCDQv9C10YDQtdC0INCy0YLQvtGA0L7QuSDQutC90L7Qv9C60L7QuSAo0L/RgNC10LTQv9C+0LvQsNCz0LDRjywg0YfRgtC+INGN0YLQviBQbGF5KSDQuNC70Lgg0LIg0LrQvtC90LXRhlxyXG4gICAgICAgIGRpc3BsYXlDb250YWluZXIuaW5zZXJ0QmVmb3JlKFxyXG4gICAgICAgICAgdGhpcy5zZWxlY3RlZENoYXJhY3RlckRpc3BsYXksXHJcbiAgICAgICAgICBkaXNwbGF5Q29udGFpbmVyLmNoaWxkcmVuWzFdIHx8IG51bGxcclxuICAgICAgICApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMubWVudUNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnNlbGVjdGVkQ2hhcmFjdGVyRGlzcGxheSk7IC8vINC60YDQsNC50L3QuNC5INGB0LvRg9GH0LDQuVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aGlzLnVwZGF0ZVNlbGVjdGVkQ2hhcmFjdGVyRGlzcGxheSgpOyAvLyDQntCx0L3QvtCy0LvRj9C10Lwg0YLQtdC60YHRgiDQv9C+INGD0LzQvtC70YfQsNC90LjRjlxyXG4gIH1cclxuXHJcbiAgc2V0dXBDaGFyYWN0ZXJJbWFnZXMoKSB7XHJcbiAgICBpZiAoIXRoaXMuY2hhcmFjdGVyUGFuZWwgfHwgIXRoaXMuY2hhcmFjdGVyR3JpZCkge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ1tNZW51IHNldHVwQ2hhcmFjdGVySW1hZ2VzXSBDaGFyYWN0ZXIgcGFuZWwgb3IgZ3JpZCBub3QgZm91bmQuJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICghdGhpcy5jaGFyYWN0ZXJJbWFnZVNvdXJjZXMgfHwgT2JqZWN0LmtleXModGhpcy5jaGFyYWN0ZXJJbWFnZVNvdXJjZXMpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ1tNZW51IHNldHVwQ2hhcmFjdGVySW1hZ2VzXSBObyBjaGFyYWN0ZXIgaW1hZ2Ugc291cmNlcyBwcm92aWRlZC4nKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNoYXJhY3RlckNhcmRzID0gdGhpcy5jaGFyYWN0ZXJHcmlkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGFyYWN0ZXItY2FyZCcpO1xyXG4gICAgaWYgKGNoYXJhY3RlckNhcmRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ1tNZW51IHNldHVwQ2hhcmFjdGVySW1hZ2VzXSBObyBjaGFyYWN0ZXIgY2FyZHMgZm91bmQgaW4gdGhlIGdyaWQuJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjaGFyYWN0ZXJDYXJkcy5mb3JFYWNoKChjYXJkKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNoYXJhY3RlcktleSA9IGNhcmQuZGF0YXNldC5jaGFyYWN0ZXI7XHJcbiAgICAgIGNvbnN0IGltZ0VsZW1lbnQgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5jaGFyYWN0ZXItcHJldmlldyBpbWcnKTtcclxuXHJcbiAgICAgIGlmIChpbWdFbGVtZW50ICYmIHRoaXMuY2hhcmFjdGVySW1hZ2VTb3VyY2VzW2NoYXJhY3RlcktleV0pIHtcclxuICAgICAgICBpbWdFbGVtZW50LnNyYyA9IHRoaXMuY2hhcmFjdGVySW1hZ2VTb3VyY2VzW2NoYXJhY3RlcktleV07XHJcbiAgICAgIH0gZWxzZSBpZiAoaW1nRWxlbWVudCkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICAgIGBbTWVudSBzZXR1cENoYXJhY3RlckltYWdlc10gSW1hZ2UgZWxlbWVudCBmb3VuZCwgYnV0IG5vIHNvdXJjZSBmb3IgY2hhcmFjdGVyOiAke2NoYXJhY3RlcktleX1gXHJcbiAgICAgICAgKTtcclxuICAgICAgICBpbWdFbGVtZW50LmFsdCA9IGAke2NoYXJhY3RlcktleX0gcHJldmlldyBub3QgYXZhaWxhYmxlYDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBjb25zb2xlLndhcm4oYFtNZW51IHNldHVwQ2hhcmFjdGVySW1hZ2VzXSBObyBpbWcgdGFnIGZvdW5kIGluIGNhcmQgZm9yIGNoYXJhY3RlcjogJHtjaGFyYWN0ZXJLZXl9YCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8g0J7QsdGA0LDQsdC+0YLQutCwINC/0LXRgNCy0L7Qs9C+INCy0LfQsNC40LzQvtC00LXQudGB0YLQstC40Y8g0LTQu9GPINC/0L7Qu9C40YLQuNC60Lgg0LDQstGC0L7QstC+0YHQv9GA0L7QuNC30LLQtdC00LXQvdC40Y9cclxuICBoYW5kbGVGaXJzdEludGVyYWN0aW9uKCkge1xyXG4gICAgaWYgKCF0aGlzLnVzZXJJbnRlcmFjdGVkKSB7XHJcbiAgICAgIHRoaXMudXNlckludGVyYWN0ZWQgPSB0cnVlO1xyXG4gICAgICBjb25zb2xlLmxvZygnW01lbnVdIEZpcnN0IHVzZXIgaW50ZXJhY3Rpb24gcmVjb3JkZWQuJyk7XHJcbiAgICAgIC8vIEF1ZGlvTWFuYWdlciDQsdGD0LTQtdGCINGB0L7Qt9C00LDQvSDQsiBHYW1lLCDQvdC+INGN0YLQviDQstC30LDQuNC80L7QtNC10LnRgdGC0LLQuNC1INCy0LDQttC90L4g0LTQu9GPINCx0YDQsNGD0LfQtdGA0LBcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFkZEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgY29uc3QgYWRkSW50ZXJhY3RpdmVMaXN0ZW5lciA9IChlbGVtZW50LCBldmVudFR5cGUsIGhhbmRsZXJGbikgPT4ge1xyXG4gICAgICBpZiAoZWxlbWVudCkge1xyXG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5oYW5kbGVGaXJzdEludGVyYWN0aW9uKCk7IC8vINCg0LXQs9C40YHRgtGA0LjRgNGD0LXQvCDQstC30LDQuNC80L7QtNC10LnRgdGC0LLQuNC1XHJcbiAgICAgICAgICBoYW5kbGVyRm4uY2FsbCh0aGlzLCBldmVudCk7IC8vINCS0YvQt9GL0LLQsNC10Lwg0L7QsdGA0LDQsdC+0YLRh9C40LpcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBjb25zb2xlLndhcm4oYFtNZW51IGFkZEV2ZW50TGlzdGVuZXJzXSBFbGVtZW50IG5vdCBmb3VuZCBmb3IgbGlzdGVuZXI6ICR7ZWxlbWVudH1gKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBhZGRJbnRlcmFjdGl2ZUxpc3RlbmVyKHRoaXMuc2V0dGluZ3NCdXR0b24sICdjbGljaycsIHRoaXMudG9nZ2xlU2V0dGluZ3MpO1xyXG4gICAgYWRkSW50ZXJhY3RpdmVMaXN0ZW5lcih0aGlzLnBsYXlCdXR0b24sICdjbGljaycsIHRoaXMuc3RhcnRHYW1lKTtcclxuICAgIGFkZEludGVyYWN0aXZlTGlzdGVuZXIodGhpcy5jaGFyYWN0ZXJCdXR0b24sICdjbGljaycsIHRoaXMub3BlbkNoYXJhY3Rlck1vZGFsKTtcclxuXHJcbiAgICBpZiAodGhpcy5jbG9zZVNldHRpbmdzQnV0dG9uKSB7XHJcbiAgICAgIHRoaXMuY2xvc2VTZXR0aW5nc0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuY2xvc2VTZXR0aW5ncygpKTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5zZXR0aW5nc1BhbmVsKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignW01lbnUgYWRkRXZlbnRMaXN0ZW5lcnNdIENsb3NlIGJ1dHRvbiBmb3Igc2V0dGluZ3MgcGFuZWwgbm90IGZvdW5kLicpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmNsb3NlQ2hhcmFjdGVyUGFuZWxCdXR0b24pIHtcclxuICAgICAgdGhpcy5jbG9zZUNoYXJhY3RlclBhbmVsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5jbG9zZUNoYXJhY3Rlck1vZGFsKCkpO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLmNoYXJhY3RlclBhbmVsKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignW01lbnUgYWRkRXZlbnRMaXN0ZW5lcnNdIENsb3NlIGJ1dHRvbiBmb3IgY2hhcmFjdGVyIHBhbmVsIG5vdCBmb3VuZC4nKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5tdXNpY1ZvbHVtZSkge1xyXG4gICAgICAvLyDQo9GB0YLQsNC90LDQstC70LjQstCw0LXQvCDQvdCw0YfQsNC70YzQvdC+0LUg0LfQvdCw0YfQtdC90LjQtSDQuNC3IGxvY2FsU3RvcmFnZSwg0LXRgdC70LggQXVkaW9NYW5hZ2VyINC10YnQtSDQvdC1INC/0YDQuNGI0LXQu1xyXG4gICAgICBpZiAoIXRoaXMuYXVkaW9NYW5hZ2VySW5zdGFuY2UpIHtcclxuICAgICAgICBjb25zdCBzYXZlZFZvbHVtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdtdXNpY1ZvbHVtZScpO1xyXG4gICAgICAgIGlmIChzYXZlZFZvbHVtZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgdGhpcy5tdXNpY1ZvbHVtZS52YWx1ZSA9IHBhcnNlRmxvYXQoc2F2ZWRWb2x1bWUpICogMTAwO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLm11c2ljVm9sdW1lLnZhbHVlID0gNTA7IC8vINCU0LXRhNC+0LvRgtC90L7QtSDQt9C90LDRh9C10L3QuNC1INCz0YDQvtC80LrQvtGB0YLQuFxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5tdXNpY1ZvbHVtZS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKSA9PiB7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVGaXJzdEludGVyYWN0aW9uKCk7IC8vINCT0YDQvtC80LrQvtGB0YLRjCDRgtC+0LbQtSDQstC30LDQuNC80L7QtNC10LnRgdGC0LLQuNC1XHJcbiAgICAgICAgY29uc3QgbmV3Vm9sdW1lID0gcGFyc2VGbG9hdChlLnRhcmdldC52YWx1ZSkgLyAxMDA7XHJcbiAgICAgICAgaWYgKHRoaXMuYXVkaW9NYW5hZ2VySW5zdGFuY2UpIHtcclxuICAgICAgICAgIHRoaXMuYXVkaW9NYW5hZ2VySW5zdGFuY2Uuc2V0TXVzaWNWb2x1bWUobmV3Vm9sdW1lKTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGBbTWVudV0gTXVzaWMgdm9sdW1lIGNoYW5nZWQgdmlhIHNsaWRlciB0bzogJHtuZXdWb2x1bWV9YCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vINCV0YHQu9C4IEF1ZGlvTWFuYWdlciDQtdGJ0LUg0L3QtSDQt9C00LXRgdGMLCDRgdC+0YXRgNCw0L3Rj9C10Lwg0LIgbG9jYWxTdG9yYWdlLCBHYW1lLT5BdWRpb01hbmFnZXIg0L/QvtC00YXQstCw0YLQuNGCXHJcbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbXVzaWNWb2x1bWUnLCBuZXdWb2x1bWUudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICAgICdbTWVudV0gTXVzaWMgdm9sdW1lIHNsaWRlciBjaGFuZ2VkLCBBdWRpb01hbmFnZXIgbm90IGF2YWlsYWJsZS4gU2F2ZWQgdG8gbG9jYWxTdG9yYWdlLidcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5zZnhWb2x1bWUpIHtcclxuICAgICAgLyogLi4uINC+0LHRgNCw0LHQvtGC0YfQuNC6INC00LvRjyBTRlggLi4uICovXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuY2hhcmFjdGVyR3JpZCkge1xyXG4gICAgICB0aGlzLmNoYXJhY3RlckdyaWQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcclxuICAgICAgICBjb25zdCBjbGlja2VkQ2FyZCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCcuY2hhcmFjdGVyLWNhcmQnKTtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICBjbGlja2VkQ2FyZCAmJlxyXG4gICAgICAgICAgdGhpcy5jaGFyYWN0ZXJQYW5lbCAmJlxyXG4gICAgICAgICAgdGhpcy5jaGFyYWN0ZXJQYW5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ3Zpc2libGUnKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgdGhpcy5oYW5kbGVGaXJzdEludGVyYWN0aW9uKCk7XHJcbiAgICAgICAgICB0aGlzLnNlbGVjdENoYXJhY3RlcihjbGlja2VkQ2FyZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9wZW5DaGFyYWN0ZXJNb2RhbCgpIHtcclxuICAgIGlmICghdGhpcy5jaGFyYWN0ZXJQYW5lbCkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdDaGFyYWN0ZXIgcGFuZWwgbm90IGZvdW5kLicpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB0aGlzLmNoYXJhY3RlclBhbmVsLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuICAgIGlmICh0aGlzLnNldHRpbmdzUGFuZWw/LmNsYXNzTGlzdC5jb250YWlucygndmlzaWJsZScpKSB0aGlzLmNsb3NlU2V0dGluZ3MoKTtcclxuICAgIHRoaXMuX2Vuc3VyZU92ZXJsYXkoKS5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XHJcbiAgfVxyXG5cclxuICBjbG9zZUNoYXJhY3Rlck1vZGFsKCkge1xyXG4gICAgdGhpcy5jaGFyYWN0ZXJQYW5lbD8uY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xyXG4gICAgdGhpcy5vdmVybGF5Py5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XHJcbiAgfVxyXG5cclxuICBzZWxlY3RDaGFyYWN0ZXIoY2FyZEVsZW1lbnQpIHtcclxuICAgIGlmICghdGhpcy5jaGFyYWN0ZXJHcmlkIHx8ICFjYXJkRWxlbWVudD8uZGF0YXNldD8uY2hhcmFjdGVyKSByZXR1cm47XHJcbiAgICB0aGlzLnNlbGVjdGVkQ2hhcmFjdGVyID0gY2FyZEVsZW1lbnQuZGF0YXNldC5jaGFyYWN0ZXI7XHJcblxyXG4gICAgdGhpcy5jaGFyYWN0ZXJHcmlkXHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hhcmFjdGVyLWNhcmQnKVxyXG4gICAgICAuZm9yRWFjaCgoYykgPT4gYy5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpKTtcclxuICAgIGNhcmRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XHJcblxyXG4gICAgaWYgKHRoaXMucGxheUJ1dHRvbikgdGhpcy5wbGF5QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcblxyXG4gICAgdGhpcy51cGRhdGVTZWxlY3RlZENoYXJhY3RlckRpc3BsYXkoKTtcclxuICAgIHRoaXMuY2xvc2VDaGFyYWN0ZXJNb2RhbCgpO1xyXG4gICAgVUlNYW5hZ2VyLmZsYXNoTWVzc2FnZShcclxuICAgICAgYENoYXJhY3RlciAke1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0aGlzLnNlbGVjdGVkQ2hhcmFjdGVyLnNsaWNlKDEpXHJcbiAgICAgIH0gc2VsZWN0ZWQhYCxcclxuICAgICAgJ3N1Y2Nlc3MnLFxyXG4gICAgICAyMDAwXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlU2VsZWN0ZWRDaGFyYWN0ZXJEaXNwbGF5KCkge1xyXG4gICAgaWYgKCF0aGlzLnNlbGVjdGVkQ2hhcmFjdGVyRGlzcGxheSkgcmV0dXJuO1xyXG4gICAgaWYgKFxyXG4gICAgICB0aGlzLnNlbGVjdGVkQ2hhcmFjdGVyICYmXHJcbiAgICAgIHRoaXMuY2hhcmFjdGVySW1hZ2VTb3VyY2VzICYmXHJcbiAgICAgIHRoaXMuY2hhcmFjdGVySW1hZ2VTb3VyY2VzW3RoaXMuc2VsZWN0ZWRDaGFyYWN0ZXJdXHJcbiAgICApIHtcclxuICAgICAgY29uc3QgY2hhcmFjdGVyS2V5ID0gdGhpcy5zZWxlY3RlZENoYXJhY3RlcjtcclxuICAgICAgY29uc3QgaW1nU3JjID0gdGhpcy5jaGFyYWN0ZXJJbWFnZVNvdXJjZXNbY2hhcmFjdGVyS2V5XTtcclxuICAgICAgbGV0IGRpc3BsYXllZE5hbWUgPSBjaGFyYWN0ZXJLZXkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBjaGFyYWN0ZXJLZXkuc2xpY2UoMSk7XHJcblxyXG4gICAgICAvLyDQn9GL0YLQsNC10LzRgdGPINC/0L7Qu9GD0YfQuNGC0Ywg0LHQvtC70LXQtSDQv9C+0LvQvdC+0LUg0LjQvNGPINC40Lcg0LrQsNGA0YLQvtGH0LrQuFxyXG4gICAgICBpZiAodGhpcy5jaGFyYWN0ZXJHcmlkKSB7XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRDYXJkSDMgPSB0aGlzLmNoYXJhY3RlckdyaWQucXVlcnlTZWxlY3RvcihcclxuICAgICAgICAgIGAuY2hhcmFjdGVyLWNhcmRbZGF0YS1jaGFyYWN0ZXI9XCIke2NoYXJhY3RlcktleX1cIl0gaDNgXHJcbiAgICAgICAgKTtcclxuICAgICAgICBpZiAoc2VsZWN0ZWRDYXJkSDMpIGRpc3BsYXllZE5hbWUgPSBzZWxlY3RlZENhcmRIMy50ZXh0Q29udGVudDtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnNlbGVjdGVkQ2hhcmFjdGVyRGlzcGxheS5pbm5lckhUTUwgPSBgPGltZyBzcmM9XCIke2ltZ1NyY31cIiBhbHQ9XCIke2Rpc3BsYXllZE5hbWV9XCIgY2xhc3M9XCJzZWxlY3RlZC1jaGFyLXByZXZpZXctaW1nXCI+IDxzcGFuIGNsYXNzPVwic2VsZWN0ZWQtY2hhci1uYW1lIGNoYXItbmFtZS0ke2NoYXJhY3RlcktleX1cIj4ke2Rpc3BsYXllZE5hbWV9PC9zcGFuPmA7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNlbGVjdGVkQ2hhcmFjdGVyRGlzcGxheS5pbm5lckhUTUwgPVxyXG4gICAgICAgICc8c3BhbiBzdHlsZT1cImNvbG9yOiNhYWE7XCI+Tm8gY2hhcmFjdGVyIHNlbGVjdGVkPC9zcGFuPic7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB0b2dnbGVTZXR0aW5ncygpIHtcclxuICAgIGlmICghdGhpcy5zZXR0aW5nc1BhbmVsKSByZXR1cm47XHJcbiAgICBjb25zdCBpc1Zpc2libGUgPSB0aGlzLnNldHRpbmdzUGFuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCd2aXNpYmxlJyk7XHJcbiAgICBpc1Zpc2libGUgPyB0aGlzLmNsb3NlU2V0dGluZ3MoKSA6IHRoaXMub3BlblNldHRpbmdzKCk7XHJcbiAgfVxyXG5cclxuICBvcGVuU2V0dGluZ3MoKSB7XHJcbiAgICBpZiAoIXRoaXMuc2V0dGluZ3NQYW5lbCkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdTZXR0aW5ncyBwYW5lbCBub3QgZm91bmQuJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuc2V0dGluZ3NQYW5lbC5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XHJcbiAgICBpZiAodGhpcy5jaGFyYWN0ZXJQYW5lbD8uY2xhc3NMaXN0LmNvbnRhaW5zKCd2aXNpYmxlJykpIHRoaXMuY2xvc2VDaGFyYWN0ZXJNb2RhbCgpO1xyXG4gICAgdGhpcy5fZW5zdXJlT3ZlcmxheSgpLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTsgLy8g0J/QvtC60LDQt9GL0LLQsNC10Lwg0L7QstC10YDQu9C10Lkg0Lgg0LTQu9GPINC90LDRgdGC0YDQvtC10LpcclxuXHJcbiAgICBpZiAodGhpcy5tdXNpY1ZvbHVtZSAmJiB0aGlzLmF1ZGlvTWFuYWdlckluc3RhbmNlKSB7XHJcbiAgICAgIHRoaXMubXVzaWNWb2x1bWUudmFsdWUgPSB0aGlzLmF1ZGlvTWFuYWdlckluc3RhbmNlLmdldE11c2ljVm9sdW1lKCkgKiAxMDA7XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMubXVzaWNWb2x1bWUpIHtcclxuICAgICAgY29uc3Qgc2F2ZWRWb2x1bWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbXVzaWNWb2x1bWUnKTtcclxuICAgICAgdGhpcy5tdXNpY1ZvbHVtZS52YWx1ZSA9IHNhdmVkVm9sdW1lID8gcGFyc2VGbG9hdChzYXZlZFZvbHVtZSkgKiAxMDAgOiA1MDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNsb3NlU2V0dGluZ3MoKSB7XHJcbiAgICB0aGlzLnNldHRpbmdzUGFuZWw/LmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcclxuICAgIHRoaXMub3ZlcmxheT8uY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpOyAvLyDQodC60YDRi9Cy0LDQtdC8INC+0LLQtdGA0LvQtdC5XHJcbiAgfVxyXG5cclxuICBfZW5zdXJlT3ZlcmxheSgpIHtcclxuICAgIGlmICghdGhpcy5vdmVybGF5KSB7XHJcbiAgICAgIHRoaXMub3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICB0aGlzLm92ZXJsYXkuY2xhc3NOYW1lID0gJ3VpLW1vZGFsLW92ZXJsYXknOyAvLyDQntCx0YnQuNC5INC60LvQsNGB0YEg0LTQu9GPINC+0LLQtdGA0LvQtdGPXHJcbiAgICAgIHRoaXMub3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgLy8g0JfQsNC60YDRi9Cy0LDQtdC8INCw0LrRgtC40LLQvdGD0Y4g0LzQvtC00LDQu9C60YMg0L/RgNC4INC60LvQuNC60LUg0L3QsCDQvtCy0LXRgNC70LXQuVxyXG4gICAgICAgIGlmIChlLnRhcmdldCA9PT0gdGhpcy5vdmVybGF5KSB7XHJcbiAgICAgICAgICBpZiAodGhpcy5jaGFyYWN0ZXJQYW5lbD8uY2xhc3NMaXN0LmNvbnRhaW5zKCd2aXNpYmxlJykpIHRoaXMuY2xvc2VDaGFyYWN0ZXJNb2RhbCgpO1xyXG4gICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3NQYW5lbD8uY2xhc3NMaXN0LmNvbnRhaW5zKCd2aXNpYmxlJykpIHRoaXMuY2xvc2VTZXR0aW5ncygpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5vdmVybGF5KTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLm92ZXJsYXk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBzdGFydEdhbWUoKSB7XHJcbiAgICBpZiAoIXRoaXMudXNlckludGVyYWN0ZWQpIHtcclxuICAgICAgVUlNYW5hZ2VyLmZsYXNoTWVzc2FnZShcclxuICAgICAgICAnUGxlYXNlIGludGVyYWN0IHdpdGggdGhlIG1lbnUgZmlyc3QgKGUuZy4sIGNsaWNrIGEgYnV0dG9uIG9yIGNob29zZSBhIGNoYXJhY3RlcikuJyxcclxuICAgICAgICAnd2FybmluZycsXHJcbiAgICAgICAgMzAwMFxyXG4gICAgICApO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoIXRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXIpIHtcclxuICAgICAgVUlNYW5hZ2VyLmZsYXNoTWVzc2FnZSgnUGxlYXNlIHNlbGVjdCBhIGNoYXJhY3RlciBmaXJzdCEnLCAnd2FybmluZycsIDI1MDApO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbG9hZGluZ092ZXJsYXkgPSBVSU1hbmFnZXIuZ2V0TG9hZGluZ092ZXJsYXkoKTsgLy8gVUlNYW5hZ2VyINGD0L/RgNCw0LLQu9GP0LXRgiDQuNC8XHJcbiAgICBpZiAobG9hZGluZ092ZXJsYXkpIGxvYWRpbmdPdmVybGF5LmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuXHJcbiAgICB0aGlzLmhpZGUoKTsgLy8g0KHQutGA0YvQstCw0LXQvCDQvNC10L3RjlxyXG5cclxuICAgIGNvbnN0IGdhbWVDYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZS1jYW52YXMnKTtcclxuICAgIGlmIChnYW1lQ2FudmFzKSB7XHJcbiAgICAgIGdhbWVDYW52YXMuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7IC8vINCf0L7QutCw0LfRi9Cy0LDQtdC8INC60LDQvdCy0LDRgVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS5lcnJvcignW01lbnVdIENSSVRJQ0FMOiAjZ2FtZS1jYW52YXMgbm90IGZvdW5kIScpO1xyXG4gICAgICBpZiAobG9hZGluZ092ZXJsYXkpIGxvYWRpbmdPdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcclxuICAgICAgdGhpcy5zaG93KCk7IC8vINCf0L7QutCw0LfRi9Cy0LDQtdC8INC80LXQvdGOINC+0LHRgNCw0YLQvdC+LCDQtdGB0LvQuCDQutCw0L3QstCw0YHQsCDQvdC10YJcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIC8vINCV0YHQu9C4INC10YHRgtGMINGB0YLQsNGA0LDRjyDQuNCz0YDQsCwg0L7RgdGC0LDQvdCw0LLQu9C40LLQsNC10Lwg0LXRkSAo0YXQvtGC0Y8gcmVsb2FkINC90LAgR2FtZSBPdmVyINC70YPRh9GI0LUpXHJcbiAgICAgIGlmIChjdXJyZW50R2FtZUluc3RhbmNlICYmIHR5cGVvZiBjdXJyZW50R2FtZUluc3RhbmNlLnN0b3BHYW1lID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1tNZW51XSBTdG9wcGluZyBwcmV2aW91cyBnYW1lIGluc3RhbmNlLicpO1xyXG4gICAgICAgIGN1cnJlbnRHYW1lSW5zdGFuY2Uuc3RvcEdhbWUoKTsgLy8g0K3RgtC+INC/0L7QutCw0LbQtdGCIEdhbWUgT3ZlciDRjdC60YDQsNC9INGB0YLQsNGA0L7QuSDQuNCz0YDRi1xyXG4gICAgICAgIGN1cnJlbnRHYW1lSW5zdGFuY2UgPSBudWxsOyAvLyDQntGH0LjRidCw0LXQvCDRgdGB0YvQu9C60YNcclxuICAgICAgICAvLyDQnNC+0LbQtdGCINC/0L7RgtGA0LXQsdC+0LLQsNGC0YzRgdGPINC90LXQsdC+0LvRjNGI0LDRjyDQt9Cw0LTQtdGA0LbQutCwLCDRh9GC0L7QsdGLIERPTSDRgdGC0LDRgNC+0Lkg0LjQs9GA0Ysg0YPRgdC/0LXQuyDQvtGH0LjRgdGC0LjRgtGM0YHRjyxcclxuICAgICAgICAvLyDQvdC+INC+0LHRi9GH0L3QviByZWxvYWQoKSDQvdCwIEdhbWUgT3ZlciDRgNC10YjQsNC10YIg0Y3RgtGDINC/0YDQvtCx0LvQtdC80YMg0LvRg9GH0YjQtS5cclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS5sb2coYFtNZW51XSBDcmVhdGluZyBuZXcgR2FtZSBpbnN0YW5jZSB3aXRoIGNoYXJhY3RlcjogJHt0aGlzLnNlbGVjdGVkQ2hhcmFjdGVyfWApO1xyXG4gICAgICBjdXJyZW50R2FtZUluc3RhbmNlID0gbmV3IEdhbWUodGhpcy5zZWxlY3RlZENoYXJhY3Rlcik7IC8vINCf0LXRgNC10LTQsNC10Lwg0YbQstC10YJcclxuXHJcbiAgICAgIC8vINCSINC60L7QvdGB0YLRgNGD0LrRgtC+0YDQtSBHYW1lINGB0L7Qt9C00LDQtdGC0YHRjyBBdWRpb01hbmFnZXIuIEdhbWUg0LTQvtC70LbQtdC9INC/0LXRgNC10LTQsNGC0Ywg0LXQs9C+INC+0LHRgNCw0YLQvdC+INCyIE1lbnUuXHJcbiAgICAgIC8vINCU0LvRjyDRjdGC0L7Qs9C+INCyIEdhbWUuanMg0LTQvtC70LbQtdC9INCx0YvRgtGMINCy0YvQt9C+0LIgbWVudUluc3RhbmNlLnNldEF1ZGlvTWFuYWdlcih0aGlzLmF1ZGlvTWFuYWdlcik7XHJcbiAgICAgIC8vINCt0YLQviDRgtGA0LXQsdGD0LXRgiwg0YfRgtC+0LHRiyBHYW1lINC30L3QsNC7INC+IG1lbnVJbnN0YW5jZS4g0J/RgNC+0YnQtSwg0LXRgdC70LggR2FtZSDRgdCw0Lwg0YPQv9GA0LDQstC70Y/QtdGCIFVJINCz0YDQvtC80LrQvtGB0YLQuFxyXG4gICAgICAvLyDRh9C10YDQtdC3IFVJTWFuYWdlciwg0LjQu9C4INC10YHQu9C4IE1lbnUg0L3QsNC/0YDRj9C80YPRjiDQuNGB0L/QvtC70YzQt9GD0LXRgiBsb2NhbFN0b3JhZ2Ug0LTQu9GPINC90LDRh9Cw0LvRjNC90L7QuSDRg9GB0YLQsNC90L7QstC60Lgg0LPRgNC+0LzQutC+0YHRgtC4LFxyXG4gICAgICAvLyDQsCBBdWRpb01hbmFnZXIg0L/RgNC4INGB0YLQsNGA0YLQtSDRh9C40YLQsNC10YIg0LjQtyBsb2NhbFN0b3JhZ2UuXHJcblxyXG4gICAgICAvLyDQktCQ0JbQndCeOiBHYW1lLmpzINC00L7Qu9C20LXQvSDRgdCw0Lwg0LLRi9C30LLQsNGC0Ywg0YHQstC+0LkgdHJpZ2dlckdhbWVTdGFydCgpINC/0L7RgdC70LUg0YHQstC+0LXQuSDQuNC90LjRhtC40LDQu9C40LfQsNGG0LjQuC5cclxuICAgICAgLy8gTWVudS5qcyDQv9GA0L7RgdGC0L4g0YHQvtC30LTQsNC10YIg0Y3QutC30LXQvNC/0LvRj9GAIEdhbWUuXHJcbiAgICAgIC8vINCV0YHQu9C4IEdhbWUg0L3QtSDQt9Cw0L/Rg9GB0LrQsNC10YIgdHJpZ2dlckdhbWVTdGFydCgpINCw0LLRgtC+0LzQsNGC0LjRh9C10YHQutC4INC40Lcg0LrQvtC90YHRgtGA0YPQutGC0L7RgNCwICjRh9GC0L4g0YHQtdC50YfQsNGBINGC0LDQuiksXHJcbiAgICAgIC8vINGC0L4gTWVudSDQtNC+0LvQttC10L0g0LXQs9C+INCy0YvQt9Cy0LDRgtGMOlxyXG4gICAgICBpZiAoY3VycmVudEdhbWVJbnN0YW5jZSAmJiB0eXBlb2YgY3VycmVudEdhbWVJbnN0YW5jZS50cmlnZ2VyR2FtZVN0YXJ0ID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgYXdhaXQgY3VycmVudEdhbWVJbnN0YW5jZS50cmlnZ2VyR2FtZVN0YXJ0KCk7IC8vINCX0LDQv9GD0YHQutCw0LXQvCDQv9GA0L7RhtC10YHRgSDQt9Cw0LPRgNGD0LfQutC4INC4INGB0YLQsNGA0YLQsCDQuNCz0YDRi1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignR2FtZSBpbnN0YW5jZSBjcmVhdGVkLCBidXQgdHJpZ2dlckdhbWVTdGFydCBpcyBub3QgYXZhaWxhYmxlLicpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDQn9C+0YHQu9C1INGD0YHQv9C10YjQvdC+0LPQviBjdXJyZW50R2FtZUluc3RhbmNlLnRyaWdnZXJHYW1lU3RhcnQoKVxyXG4gICAgICAvLyBsb2FkaW5nT3ZlcmxheSDQsdGD0LTQtdGCINGB0LrRgNGL0YIg0LLQvdGD0YLRgNC4INC70L7Qs9C40LrQuCBHYW1lLmpzXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbTWVudV0gRXJyb3IgZHVyaW5nIGdhbWUgaW5pdGlhbGl6YXRpb24gb3Igc3RhcnQ6JywgZXJyb3IpO1xyXG4gICAgICBVSU1hbmFnZXIuZmxhc2hNZXNzYWdlKGBHYW1lIFN0YXJ0IEZhaWxlZDogJHtlcnJvci5tZXNzYWdlfWAsICdlcnJvcicsIDEwMDAwKTtcclxuICAgICAgaWYgKGxvYWRpbmdPdmVybGF5KSBsb2FkaW5nT3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XHJcbiAgICAgIHRoaXMuc2hvdygpOyAvLyDQn9C+0LrQsNC30YvQstCw0LXQvCDQvNC10L3RjiDQvtCx0YDQsNGC0L3QvlxyXG4gICAgICBpZiAoZ2FtZUNhbnZhcykgZ2FtZUNhbnZhcy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOyAvLyDQodC60YDRi9Cy0LDQtdC8INC60LDQvdCy0LDRgVxyXG4gICAgICBjdXJyZW50R2FtZUluc3RhbmNlID0gbnVsbDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNob3coKSB7XHJcbiAgICBpZiAodGhpcy5tZW51Q29udGFpbmVyKSB0aGlzLm1lbnVDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsgLy8g0LjQu9C4ICdibG9jaydcclxuICAgIC8vINCj0LHQtdC00LjQvNGB0Y8sINGH0YLQviDQuNCz0YDQvtCy0YvQtSDRjdC70LXQvNC10L3RgtGLINGB0LrRgNGL0YLRiywg0LXRgdC70Lgg0L/QvtC60LDQt9GL0LLQsNC10Lwg0LzQtdC90Y5cclxuICAgIGNvbnN0IGdhbWVDYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZS1jYW52YXMnKTtcclxuICAgIGlmIChnYW1lQ2FudmFzKSBnYW1lQ2FudmFzLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICBVSU1hbmFnZXIuaGlkZUdhbWVVSSgpOyAvLyDQodC60YDRi9Cy0LDQtdGCINC60L7QvdGC0YDQvtC70YssINC+0YfQutC4LCDRgtCw0LnQvNC10YBcclxuICAgIFVJTWFuYWdlci5oaWRlR2FtZU92ZXJTY3JlZW4oKTtcclxuICAgIC8vINCX0LDQs9GA0YPQt9C+0YfQvdGL0Lkg0L7QstC10YDQu9C10Lkg0YLQvtC20LUg0LvRg9GH0YjQtSDRgdC60YDRi9GC0YwsINC10YHQu9C4INC80Ysg0LIg0LzQtdC90Y5cclxuICAgIGNvbnN0IGxvYWRpbmdPdmVybGF5ID0gVUlNYW5hZ2VyLmdldExvYWRpbmdPdmVybGF5KCk7XHJcbiAgICBpZiAobG9hZGluZ092ZXJsYXkpIGxvYWRpbmdPdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcclxuICB9XHJcblxyXG4gIGhpZGUoKSB7XHJcbiAgICBpZiAodGhpcy5tZW51Q29udGFpbmVyKSB0aGlzLm1lbnVDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICB9XHJcbn1cclxuXHJcbi8vINCt0LrRgdC/0L7RgNGC0LjRgNGD0LXQvCBNZW51INC4IGN1cnJlbnRHYW1lSW5zdGFuY2UgKNC10YHQu9C4INC+0L0g0L3Rg9C20LXQvSDQs9C00LUt0YLQviDQtdGJ0LUsINGF0L7RgtGPINC70YPRh9GI0LUg0LjQt9Cx0LXQs9Cw0YLRjCDQs9C70L7QsdCw0LvRjNC90YvRhSDRgdGB0YvQu9C+0LopXHJcbmV4cG9ydCB7IGN1cnJlbnRHYW1lSW5zdGFuY2UgfTtcclxuIiwiLy8g0J/RgNC10LTQv9C+0LvQvtC20LjQvCwg0Y3RgtC+IHNyYy9tYWluLmpzXHJcbmltcG9ydCB7IE1lbnUgfSBmcm9tICcuL1VJL01lbnUuanMnO1xyXG5cclxuaW1wb3J0ICcuLi9jc3Mvc3R5bGVzLmNzcyc7IC8vINCf0YPRgtGMINC6IENTUyAo0LXRgdC70Lgg0L7QvSDRgyDRgtC10LHRjyDQtdGB0YLRjClcclxuLy8g0J/Rg9GC0Lgg0Log0LjQt9C+0LHRgNCw0LbQtdC90LjRj9C8INC00L7Qu9C20L3RiyDQsdGL0YLRjCDQvtGC0L3QvtGB0LjRgtC10LvRjNC90L4gbWFpbi5qc1xyXG5pbXBvcnQgcmVkU3R1ZGVudEltZyBmcm9tICcuLi9hc3NldHMvaW1hZ2VzL3JlZC5wbmcnOyAvLyDQn9GA0L7QstC10YDRjCDRjdGC0Lgg0L/Rg9GC0LghXHJcbmltcG9ydCBibHVlU3R1ZGVudEltZyBmcm9tICcuLi9hc3NldHMvaW1hZ2VzL2JsdWUucG5nJztcclxuaW1wb3J0IHllbGxvd1N0dWRlbnRJbWcgZnJvbSAnLi4vYXNzZXRzL2ltYWdlcy95ZWxsb3cucG5nJztcclxuaW1wb3J0IGdyZWVuU3R1ZGVudEltZyBmcm9tICcuLi9hc3NldHMvaW1hZ2VzL2dyZWVuLnBuZyc7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKCdbbWFpbi5qc10gRE9NQ29udGVudExvYWRlZC4gSW5pdGlhbGl6aW5nIE1lbnUuLi4nKTtcclxuXHJcbiAgY29uc3QgY2hhcmFjdGVySW1hZ2VTb3VyY2VzID0ge1xyXG4gICAgcmVkOiByZWRTdHVkZW50SW1nLFxyXG4gICAgYmx1ZTogYmx1ZVN0dWRlbnRJbWcsXHJcbiAgICB5ZWxsb3c6IHllbGxvd1N0dWRlbnRJbWcsXHJcbiAgICBncmVlbjogZ3JlZW5TdHVkZW50SW1nLFxyXG4gIH07XHJcblxyXG4gIG5ldyBNZW51KGNoYXJhY3RlckltYWdlU291cmNlcyk7IC8vIE1lbnUg0YLQtdC/0LXRgNGMINCz0LvQsNCy0L3Ri9C5INC60L7QvdGC0YDQvtC70LvQtdGAIFVJINC00LvRjyDQvNC10L3RjlxyXG4gIGNvbnNvbGUubG9nKCdbbWFpbi5qc10gTWVudSBpbnN0YW5jZSBjcmVhdGVkLicpO1xyXG59KTtcclxuIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJnIiwiZ2xvYmFsVGhpcyIsInRoaXMiLCJGdW5jdGlvbiIsImUiLCJ3aW5kb3ciLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwibG9jYXRpb24iLCJkb2N1bWVudCIsImN1cnJlbnRTY3JpcHQiLCJ0YWdOYW1lIiwidG9VcHBlckNhc2UiLCJzcmMiLCJzY3JpcHRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJsZW5ndGgiLCJpIiwidGVzdCIsIkVycm9yIiwicmVwbGFjZSIsInAiLCJJbnB1dE1hbmFnZXIiLCJjb25zdHJ1Y3RvciIsImtleXMiLCJ1cCIsImRvd24iLCJsZWZ0IiwicmlnaHQiLCJzZXRLZXkiLCJrZXkiLCJpc1ByZXNzZWQiLCJoYXNPd25Qcm9wZXJ0eSIsImdldElucHV0RGlyZWN0aW9uIiwieCIsInkiLCJHYW1lU3RhdGUiLCJMT0FESU5HIiwiTUVOVSIsIlBMQVlJTkciLCJBU0tJTkdfUVVFU1RJT04iLCJTRUxFQ1RJTkdfRkxPT1IiLCJUUkFOU0lUSU9OSU5HIiwiR0FNRV9PVkVSIiwicXVlc3Rpb25zIiwicXVlc3Rpb24iLCJvcHRpb25zIiwiY29ycmVjdEFuc3dlciIsIlVJTWFuYWdlciIsInN0YXRpYyIsInNldEdhbWVwbGF5TWFuYWdlciIsIm1hbmFnZXIiLCJnYW1lcGxheU1hbmFnZXJJbnN0YW5jZSIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsImluaXRpYWxpemVVSSIsImlucHV0TWFuYWdlciIsIndhcm4iLCJjcmVhdGVDb250cm9scyIsImNyZWF0ZVF1ZXN0aW9uVUkiLCJjcmVhdGVGbG9vclNlbGVjdGlvblVJIiwiZW5zdXJlRmxhc2hNZXNzYWdlQ29udGFpbmVyIiwiZ2V0TG9hZGluZ092ZXJsYXkiLCJjcmVhdGVHYW1lT3ZlclNjcmVlbiIsImluaXRpYWxpemVUaW1lciIsImNvbnRyb2xzQ29udGFpbmVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJjcmVhdGVFbGVtZW50IiwiaWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJpbm5lckhUTUwiLCJkaXJlY3Rpb24iLCJpY29uIiwiZ3JpZEFyZWEiLCJmb3JFYWNoIiwiYnRuIiwiY2xhc3NOYW1lIiwidGV4dENvbnRlbnQiLCJzdHlsZSIsImRhdGFzZXQiLCJzdGFydFByZXNzIiwicHJldmVudERlZmF1bHQiLCJlbmRQcmVzcyIsInJlbW92ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJwYXNzaXZlIiwic2NvcmVEaXNwbGF5Q29udGFpbmVyIiwic2NvcmVFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsInRhcmdldEVsZW1lbnQiLCJzY29yZURpdiIsInF1ZXN0aW9uT3ZlcmxheSIsInF1ZXN0aW9uVGV4dEVsZW1lbnQiLCJhbnN3ZXJCdXR0b25zQ29udGFpbmVyIiwiZmxvb3JTZWxlY3Rpb25QYW5lbCIsImZsb29yQnV0dG9uc0NvbnRhaW5lciIsImZsYXNoTWVzc2FnZUNvbnRhaW5lciIsImZsYXNoTWVzc2FnZSIsIm1lc3NhZ2UiLCJ0eXBlIiwiZHVyYXRpb24iLCJjb250YWluZXIiLCJtZXNzYWdlRWxlbWVudCIsIm1lc3NhZ2VJZCIsIkRhdGUiLCJub3ciLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjbGVhclRpbWVvdXQiLCJmbGFzaE1lc3NhZ2VUaW1lb3V0cyIsInNldFRpbWVvdXQiLCJoYW5kbGVUcmFuc2l0aW9uRW5kIiwiZXZlbnQiLCJwcm9wZXJ0eU5hbWUiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJvbmNlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImxvYWRpbmdPdmVybGF5RWxlbWVudCIsImxvYWRpbmdUZXh0IiwiZ2FtZU92ZXJTY3JlZW5FbGVtZW50IiwiZ2FtZU92ZXJUaXRsZUVsZW1lbnQiLCJjcmVhdG9yTmFtZXNMaXN0RWxlbWVudCIsImNsYXNzSW5mb0VsZW1lbnQiLCJyZXR1cm5Ub01lbnVCdXR0b25FbGVtZW50IiwibGVhZGVyYm9hcmRCb2R5IiwicmVsb2FkIiwidXBkYXRlTGVhZGVyYm9hcmQiLCJzaG93R2FtZU92ZXJTY3JlZW4iLCJpc1dpbiIsImNyZWF0b3JzIiwiY2xhc3NJbmZvVGV4dCIsIm5hbWUiLCJsaSIsImhpZGVHYW1lVUkiLCJoaWRlUXVlc3Rpb24iLCJoaWRlRmxvb3JTZWxlY3Rpb25VSSIsImhpZGVHYW1lT3ZlclNjcmVlbiIsInNob3dRdWVzdGlvbiIsInF1ZXN0aW9uRGF0YSIsImhhbmRsZUFuc3dlciIsIm9wdGlvblRleHQiLCJpbmRleCIsImJ1dHRvbiIsInNlbGVjdGVkSW5kZXgiLCJwYXJzZUludCIsInRhcmdldCIsInNob3dGbG9vclNlbGVjdGlvblVJIiwibWluRmxvb3IiLCJtYXhGbG9vciIsImN1cnJlbnRGbG9vciIsImhhbmRsZUZsb29yU2VsZWN0aW9uIiwiZmxvb3IiLCJkaXNhYmxlZCIsInVwZGF0ZVNjb3JlIiwic2NvcmUiLCJzaG93R2FtZVVJIiwiY2FudmFzIiwic2NvcmVEaXNwbGF5IiwiZGlzcGxheSIsInRpbWVyRWxlbWVudCIsInNhdmVkRGF0YSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJsZWFkZXJib2FyZERhdGEiLCJKU09OIiwicGFyc2UiLCJzdGFydFRpbWVyIiwiZ2FtZSIsImdhbWVTdGF0ZSIsImdhbWVTdGFydFRpbWUiLCJ1cGRhdGVUaW1lciIsIlFVRVNUSU9OIiwiZWxhcHNlZCIsIm1pbnV0ZXMiLCJzZWNvbmRzIiwicGFkU3RhcnQiLCJzdG9wVGltZXIiLCJ3YXNXaW4iLCJ0b3RhbFRpbWUiLCJ0b0ZpeGVkIiwicnVuTmFtZSIsInB1c2giLCJ0aW1lIiwiZGF0ZSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsInNvcnQiLCJhIiwiYiIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJzbGljZSIsInRvcFNjb3JlcyIsImNlbGwiLCJpbnNlcnRSb3ciLCJpbnNlcnRDZWxsIiwiY29sU3BhbiIsInRleHRBbGlnbiIsInJ1biIsIm1pbGxpc2Vjb25kcyIsInJvdyIsIkNoYXJhY3RlciIsIkRPV04iLCJSSUdIVCIsIlVQIiwiTEVGVCIsImN0eCIsInNwcml0ZVVybCIsInNwcml0ZSIsIkltYWdlIiwiZnJhbWVTaXplIiwiZnJhbWVDb3VudCIsInNjYWxlIiwicmVuZGVyU2l6ZSIsInNwZWVkIiwiYW5pbWF0aW9uU3BlZWQiLCJjb2xsaXNpb25Cb3hXaWR0aFJhdGlvIiwiY29sbGlzaW9uQm94SGVpZ2h0UmF0aW8iLCJjb2xsaXNpb25Cb3hGZWV0T2Zmc2V0UmF0aW8iLCJjdXJyZW50RGlyZWN0aW9uIiwiRGlyZWN0aW9uIiwiY3VycmVudEZyYW1lIiwiaXNNb3ZpbmciLCJsYXN0RnJhbWVUaW1lIiwib25sb2FkIiwib25lcnJvciIsInVwZGF0ZUFuaW1hdGlvbiIsInRpbWVzdGFtcCIsImdldENvbGxpc2lvbkJveCIsInBvc1giLCJwb3NZIiwid2lkdGgiLCJoZWlnaHQiLCJoYWxmV2lkdGgiLCJmZWV0T2Zmc2V0WSIsInRvcCIsImJvdHRvbSIsImRyYXciLCJvZmZzZXRYIiwib2Zmc2V0WSIsImNvbXBsZXRlIiwibmF0dXJhbEhlaWdodCIsImZyYW1lWCIsImZyYW1lWSIsInNjcmVlblgiLCJzY3JlZW5ZIiwiZHJhd0ltYWdlIiwiQm9vayIsInRpbGVTaXplIiwic2l6ZSIsImNvbGxlY3RlZCIsImlzQ29sbGVjdGVkIiwiYm9va0ltYWdlIiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJzdHJva2VTdHlsZSIsInN0cm9rZVJlY3QiLCJmb250IiwidGV4dEJhc2VsaW5lIiwiZmlsbFRleHQiLCJyYW5kb21JbnQiLCJtaW4iLCJtYXgiLCJjZWlsIiwic2ltcGxlSGFzaCIsInNlZWQiLCJoIiwiaW11bCIsImFkanVzdENvbG9yQnJpZ2h0bmVzcyIsImhleENvbG9yIiwiZmFjdG9yIiwiciIsInJvdW5kIiwiTWFwUmVuZGVyZXIiLCJ0aWxlQ29sb3JzIiwiYmFzZVdhbGxDb2xvciIsImJhc2VDb3JyaWRvckNvbG9yIiwiYmFzZVJvb21GbG9vckNvbG9yIiwibGlmdENvbG9yIiwiZXJyb3JDb2xvciIsInJlc2V0Q29sb3JDYWNoZSIsImdldFRpbGVDb2xvciIsImMiLCJ0aWxlVmFsdWUiLCJyb29tcyIsImNvbG9yIiwibWFwRGF0YSIsIm1hcCIsImJvb2tzIiwibGlmdFBvc2l0aW9uIiwiY29scyIsInJvd3MiLCJjdXJyZW50T2Zmc2V0WCIsImN1cnJlbnRPZmZzZXRZIiwic3RhcnRDb2wiLCJlbmRDb2wiLCJzdGFydFJvdyIsImVuZFJvdyIsInNhdmUiLCJkcmF3QmFzZVRpbGVzIiwiZHJhd1Jvb21EZXRhaWxzIiwiZHJhd0xpZnREZXRhaWxzIiwiZHJhd0Jvb2tzIiwicmVzdG9yZSIsInNoYWRvd0NvbG9yIiwid2FsbEVkZ2VDb2xvckRhcmsiLCJ3YWxsRWRnZUNvbG9yTGlnaHQiLCJ3YWxsVG9wRWRnZUNvbG9yIiwidW5kZWZpbmVkIiwiZWRnZVNpemUiLCJyb29tIiwiY29sIiwicm9vbVNjcmVlblgiLCJyb29tU2NyZWVuWSIsInJvb21TY3JlZW5XIiwicm9vbVNjcmVlbkgiLCJmbG9vckNvbG9yIiwiZmxvb3JOdW0iLCJmbG9vck51bWJlciIsInJvb21TZWVkIiwiYnJpZ2h0bmVzc0ZhY3RvciIsImxpbmVXaWR0aCIsImRyYXdSb29tRGVjb3JhdGlvbnMiLCJ0aWxlWCIsInRpbGVZIiwiYnV0dG9uUmFkaXVzIiwiYnV0dG9uWCIsImJ1dHRvblkiLCJiZWdpblBhdGgiLCJhcmMiLCJQSSIsImZpbGwiLCJ3IiwidHMiLCJtYXJnaW4iLCJvYmpNYXJnaW4iLCJkcmF3UmVjdCIsInJ4IiwicnkiLCJydyIsInJoIiwib3V0bGluZSIsInNjcmVlblciLCJzY3JlZW5IIiwiZHJhd0NpcmNsZSIsImN4IiwiY3kiLCJyYWRpdXMiLCJzdHJva2UiLCJkZXNrVyIsImRlc2tIIiwiY2hhaXJIIiwic3BhY2VYIiwic3BhY2VZIiwicm93WSIsImNvbFgiLCJ0YWJsZVciLCJ0YWJsZUgiLCJjYWJpbmV0VyIsInNoZWxmVyIsInNoZWxmU3BhY2luZyIsInN4Iiwic2hlbGZZIiwibW92ZVRvIiwibGluZVRvIiwidGFibGVMaWJYIiwibGFiVGFibGVIIiwibWV0YWxTaGVsZlciLCJtZXRhbFNoZWxmSCIsImJveFNpemUiLCJkZWZhdWx0Qm9va1NpemUiLCJib29rIiwiYm9va1NpemUiLCJjb25zaXN0ZW50TGlmdENvb3JkcyIsIkRFRkFVTFRfR0VOX1BBUkFNUyIsIm1pblJvb21TaXplIiwibWF4Um9vbVNpemUiLCJjb3JyaWRvclRoaWNrbmVzcyIsIm51bVJvb21zIiwibWF4Um9vbUF0dGVtcHRzIiwicm9vbVR5cGVXZWlnaHRzIiwiY2xhc3Nyb29tIiwib2ZmaWNlIiwibGlicmFyeSIsImd5bSIsInV0aWxpdHkiLCJfY2FydmVDb3JyaWRvckJldHdlZW4iLCJyb29tQSIsInJvb21CIiwiY2VudGVyVGlsZVgiLCJheCIsImNlbnRlclRpbGVZIiwiYXkiLCJieCIsImJ5IiwiX2NhcnZlSG9yaXpvbnRhbENvcnJpZG9yIiwiX2NhcnZlVmVydGljYWxDb3JyaWRvciIsImMxIiwiYzIiLCJyMSIsInIyIiwiX2dldFRpbGVPcGVubmVzc0RldGFpbHMiLCJpc1RpbGVXYWxrYWJsZSIsImN1cnJlbnRNYXAiLCJtYXBDb2xzIiwibWFwUm93cyIsInRpbGVWYWwiLCJvcGVuU2lkZXMiLCJuZWlnaGJvckRlbHRhcyIsImR4IiwiZHkiLCJ3YWxrYWJsZU5laWdoYm9yRmxhZ3MiLCJpc0Nob2tlcG9pbnQiLCJOIiwiUyIsIlciLCJFIiwiX2ZvcmNlQ29ubmVjdGlvblRvUG9pbnQiLCJ0YXJnZXRYIiwidGFyZ2V0WSIsImRpcmVjdGlvbnMiLCJpc0FkamFjZW50VG9XYWxrYWJsZSIsImFkamFjZW50V2Fsa2FibGVDb29yZCIsIm54IiwibnkiLCJuZWlnaGJvclRpbGUiLCJxdWV1ZSIsInZpc2l0ZWQiLCJTZXQiLCJiZnNQYXRoYWJsZSIsInRhcmdldFdhbGthYmxlIiwiY2xvc2VzdFdhbGthYmxlIiwibWluRm91bmREaXN0IiwiSW5maW5pdHkiLCJjdXJyWCIsImN1cnJZIiwiZGlzdCIsInNoaWZ0IiwibmV4dFgiLCJuZXh0WSIsImhhcyIsImluY2x1ZGVzIiwiX2lzTGlmdFJlYWNoYWJsZSIsInJlYWNoYWJsZSIsIm1hcEdyaWQiLCJzdGFydFgiLCJzdGFydFkiLCJ3YWxrYWJsZVRpbGVWYWx1ZXMiLCJwZXJmb3JtQkZTIiwiUHJvY2VkdXJhbE1hcCIsImNhbnZhc1dpZHRoIiwiY2FudmFzSGVpZ2h0IiwicmVuZGVyZXIiLCJnZW5lcmF0aW9uUGFyYW1zIiwiYm9va3NQZXJNYXAiLCJsYWIiLCJzdG9yYWdlIiwiZ2VuZXJhdGlvbkNvbmZpZyIsImNvbmZpZyIsInVzZXJQYXJhbXMiLCJnZW5QYXJhbXMiLCJHWU1fQ0hBTkNFX09OX0ZJUlNUX0ZMT09SIiwiQXJyYXkiLCJmcm9tIiwicm9vbUF0dGVtcHRzIiwid2VpZ2h0ZWRUeXBlcyIsInRvdGFsV2VpZ2h0Iiwid2VpZ2h0Iiwicm9vbVdpZHRoIiwicm9vbUhlaWdodCIsInJvb21Db2wiLCJyb29tUm93IiwibmV3Um9vbSIsImNvbm5lY3RlZCIsIm92ZXJsYXBzIiwiYnVmZmVyIiwiZXhpc3RpbmdSb29tIiwiX3BsYWNlUm9vbXMiLCJjb25uZWN0ZWRTZXQiLCJ1bmNvbm5lY3RlZFJvb21zIiwiYmVzdERpc3RhbmNlU3EiLCJiZXN0VW5jb25uZWN0ZWRSb29tIiwiYmVzdENvbm5lY3RlZFJvb21JZCIsImJlc3RVbmNvbm5lY3RlZEluZGV4Iiwicm9vbVUiLCJyb29tQyIsImRpc3RTcSIsImJlc3RDb25uZWN0ZWRSb29tIiwiZmluZCIsInNwbGljZSIsIl9jb25uZWN0Um9vbXNCZXR0ZXIiLCJwbGFjZWRMaWZ0RGF0YSIsImN1cnJlbnRDb25zaXN0ZW50Q29vcmRzIiwicm9vbXNMaXN0IiwiY29vcmRzVG9Vc2UiLCJuZXdseUZvdW5kQ29vcmRzIiwiY2VudGVyWCIsImNlbnRlclkiLCJiZXN0U3BvdENhbmRpZGF0ZSIsInN0YXJ0SW50ZXJuYWxDb2wiLCJlbmRJbnRlcm5hbENvbCIsInN0YXJ0SW50ZXJuYWxSb3ciLCJlbmRJbnRlcm5hbFJvdyIsImN1cnJlbnRTY29yZSIsImRldGFpbHNTZWxmIiwid29yc3RBY2Nlc3NQZW5hbHR5RnJvbU5laWdoYm9ycyIsIm51bUFjdHVhbEFjY2Vzc1BvaW50cyIsImRlbHRhIiwibmNBY2Nlc3MiLCJuckFjY2VzcyIsImFjY2Vzc1RpbGVUeXBlIiwiZGV0YWlsc0FjY2Vzc1RpbGUiLCJkZWJ1Z19yb29tIiwiX2ZpbmRMaWZ0UGxhY2VtZW50TG9jYXRpb24iLCJzYWZlRmFsbGJhY2tYIiwic2FmZUZhbGxiYWNrWSIsImxpZnRXb3JsZFBvcyIsInBvc2l0aW9uIiwiY29vcmRzIiwiX3BsYWNlTGlmdCIsIl9lbnN1cmVNYXBCb3JkZXJzIiwiZXJyb3JNc2ciLCJnZW5lcmF0ZUxldmVsRGF0YSIsInBsYWNlQm9va3NSZWxpYWJseSIsInBvdGVudGlhbExvY2F0aW9ucyIsInBsYWNlZENvb3JkcyIsImlzTGlmdFRpbGUiLCJib29rc1BsYWNlZCIsInJhbmRvbUluZGV4IiwiY29vcmRLZXkiLCJib29rV29ybGRYIiwiYm9va1dvcmxkWSIsImJvb2tJZCIsImlzV2Fsa2FibGUiLCJ3b3JsZFgiLCJ3b3JsZFkiLCJmaW5kUmFuZG9tSW5pdGlhbFNwYXduUG9zaXRpb24iLCJzdWl0YWJsZVRpbGVzIiwiaXNMaWZ0IiwiaXNUaWxlT3BlbkVub3VnaCIsIm1pbk9wZW5TaWRlcyIsImF2b2lkT25lVGlsZVdpZGVQYXNzYWdlcyIsIm9wZW5TaWRlc0NvdW50IiwiaXNPcGVuU2lkZSIsImRpckxhYmVsIiwibmVpZ2hib3JYIiwibmVpZ2hib3JZIiwibmVpZ2hib3JUaWxlVmFsdWUiLCJmaW5kTmVhcmVzdFdhbGthYmxlVGlsZSIsInRhcmdldFdvcmxkWCIsInRhcmdldFdvcmxkWSIsIm1heFJhZGl1cyIsImV4Y2x1ZGVMaWZ0IiwidGFyZ2V0VGlsZVgiLCJ0YXJnZXRUaWxlWSIsInRhcmdldFNhZmVUaWxlcyIsInN0YXJ0VGlsZVZhbHVlIiwibWluU2lkZXNGb3JJbml0aWFsIiwiY3VycmVudFJhZGl1c01pbk9wZW5TaWRlcyIsImFicyIsImNoZWNrWCIsImNoZWNrWSIsImJmc1dhbGthYmxlUGF0aFRpbGVzIiwiZ2V0U3Bhd25Qb2ludEluUm9vbU9mTGlmdCIsImxpZnRUaWxlWCIsImxpZnRUaWxlWSIsInByZWZlcnJlZERpc3RhbmNlIiwiYXNzb2NpYXRlZFJvb20iLCJlbnRyeVBvaW50VG9Sb29tIiwiZGlyZWN0aW9uRnJvbVNvdXJjZVRvRW50cnlQb2ludCIsImNoZWNrTmVpZ2hib3JzIiwibiIsImFkalgiLCJhZGpZIiwibk91dGVyIiwiY29ycmlkb3JYIiwiY29ycmlkb3JZIiwibklubmVyIiwicG90ZW50aWFsUm9vbVgiLCJwb3RlbnRpYWxSb29tWSIsImlud2FyZER4IiwiaW53YXJkRHkiLCJkaXN0T2Zmc2V0Iiwic3Bhd25DYW5kaWRhdGVUaWxlWCIsInNwYXduQ2FuZGlkYXRlVGlsZVkiLCJmdXJ0aGVySW5YIiwiZnVydGhlckluWSIsImhhc1NwYWNlQmVoaW5kIiwiZmluZE5lYXJieVVuYW5zd2VyZWRCb29rIiwiY2xvc2VzdEJvb2siLCJtaW5EaXN0YW5jZVNxIiwiZGlzdGFuY2VTcSIsIm1hcmtCb29rQXNDb2xsZWN0ZWQiLCJib29rVG9Db2xsZWN0IiwiZmluZE5lYXJieUxpZnQiLCJnZXRMaWZ0UG9zaXRpb24iLCJsb2dNYXBHcmlkIiwiaGVhZGVyIiwicm93TnVtIiwicm93U3RyaW5nIiwidGlsZSIsImpvaW4iLCJMZXZlbCIsImxvYWRGbG9vciIsImxpZnRQb3MiLCJQcm9taXNlIiwicmVzb2x2ZSIsImdldEN1cnJlbnRCb29rcyIsIkdhbWVSZW5kZXJlciIsImluaXRpYWxpemVDYW52YXMiLCJnZXRDb250ZXh0IiwiaW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwicmVzaXplQ2FudmFzIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiY2hhcmFjdGVyIiwibGV2ZWwiLCJjZW50ZXJDYW1lcmFPbkNoYXJhY3RlciIsImRyYXdGcmFtZSIsImNsZWFyUmVjdCIsImNoYXIiLCJkcmF3V2luU2NyZWVuIiwidGFyZ2V0Qm9va3NUb1dpbiIsIkdhbWVwbGF5TWFuYWdlciIsImJpbmQiLCJ1cGRhdGUiLCJ1cGRhdGVQbGF5aW5nU3RhdGUiLCJtb3ZlZCIsImhhbmRsZU1vdmVtZW50IiwiaGFuZGxlSW50ZXJhY3Rpb25zIiwiaW5wdXQiLCJhY3R1YWxNb3ZlWCIsImFjdHVhbE1vdmVZIiwiY2FuTW92ZVgiLCJjaGVja0NvbGxpc2lvbiIsImNhbk1vdmVZIiwiY29sbGlzaW9uQm94IiwicG9pbnRzVG9DaGVjayIsInBvaW50IiwibmVhcmJ5Qm9vayIsImluaXRpYXRlUXVlc3Rpb24iLCJsaWZ0Q29vbGRvd25BY3RpdmUiLCJpbml0aWF0ZUZsb29yU2VsZWN0aW9uIiwic2V0R2FtZVN0YXRlIiwiY3VycmVudEJvb2tUYXJnZXQiLCJhdmFpbGFibGVRdWVzdGlvbnMiLCJxSW5kZXgiLCJjdXJyZW50UXVlc3Rpb25EYXRhIiwic2VsZWN0ZWRPcHRpb25JbmRleCIsInRvdGFsQm9va3NDb2xsZWN0ZWRHbG9iYWxseSIsIl9zZXRHYW1lT3ZlciIsInNlbGVjdGVkRmxvb3IiLCJoYW5kbGVMaWZ0VHJhbnNpdGlvbiIsImNhdGNoIiwiZXJyIiwiX2hhbmRsZUZhdGFsRXJyb3IiLCJ0YXJnZXRGbG9vciIsImlzRGVidWciLCJMSUZUX0NPT0xET1dOX01TIiwibmV3TWFwIiwibGlmdFBvc0RhdGEiLCJmaW5hbFNwYXduUG9zIiwiZW1lcmdlbmN5U3Bhd24iLCJlbnN1cmVDaGFyYWN0ZXJJc09uV2Fsa2FibGVUaWxlIiwic3RhcnRMaWZ0Q29vbGRvd25UaW1lciIsImFsbG93U3RhbmRpbmdPbkxpZnQiLCJjdXJyZW50VGlsZVgiLCJjdXJyZW50VGlsZVkiLCJjdXJyZW50VGlsZVZhbHVlIiwiaXNTYWZlVG9TdGFuZEhlcmUiLCJpc0NvbGxpZGluZ1dpdGhXYWxsIiwic2FmZVNwb3QiLCJlbWVyZ2VuY3lTcG90IiwiTVVTSUNfU09VUkNFUyIsInRyYWNrMSIsInRyYWNrMiIsInRyYWNrMyIsIlRSQUNLX0NZQ0xFX09SREVSIiwiQXVkaW9NYW5hZ2VyIiwibXVzaWNWb2x1bWUiLCJjdXJyZW50TXVzaWNFbGVtZW50IiwiY3VycmVudFRyYWNrS2V5IiwiaXNNdXNpY1BsYXlpbmciLCJzYXZlZFZvbHVtZSIsInBhcnNlRmxvYXQiLCJhdWRpb0VsZW1lbnRzIiwiX3ByZWxvYWRUcmFja3MiLCJhdWRpb1BhdGgiLCJhdWRpbyIsIkF1ZGlvIiwicHJlbG9hZCIsInNldE11c2ljVm9sdW1lIiwidm9sdW1lIiwiZ2V0TXVzaWNWb2x1bWUiLCJwbGF5TXVzaWMiLCJ0cmFja0tleSIsImxvb3AiLCJzdG9wTXVzaWMiLCJwbGF5IiwidGhlbiIsImhhc0ZvY3VzIiwicGF1c2UiLCJjdXJyZW50VGltZSIsImNoYW5nZVRyYWNrRm9yRmxvb3IiLCJ0cmFja0luZGV4IiwibmV3VHJhY2tLZXkiLCJzdGFydEluaXRpYWxNdXNpYyIsImluaXRpYWxGbG9vciIsIkdhbWUiLCJjaGFyYWN0ZXJDb2xvciIsImFsZXJ0IiwiX2dhbWVTdGF0ZSIsIklETEUiLCJpc1J1bm5pbmciLCJsaWZ0Q29vbGRvd25UaW1lciIsImdhbWVwbGF5TWFuYWdlciIsImF1ZGlvTWFuYWdlciIsInNwcml0ZXMiLCJyZWQiLCJibHVlIiwieWVsbG93IiwiZ3JlZW4iLCJnYW1lTG9vcCIsIl9ib3VuZEtleURvd25IYW5kbGVyIiwiX2JvdW5kS2V5VXBIYW5kbGVyIiwiX2luaXRpYWxpemVDb3JlQ29tcG9uZW50cyIsIl9hZGRFdmVudExpc3RlbmVycyIsIm5ld1N0YXRlIiwidHJpZ2dlckdhbWVTdGFydCIsImxvYWRpbmdPdmVybGF5IiwiX2xvYWRBc3NldHNBbmRUaGVuU3RhcnRMb2dpYyIsImNvbnRhaW5zIiwiX2xvYWRBc3NldHMiLCJfc3RhcnRHYW1lTG9naWMiLCJwcm9taXNlcyIsInNwcml0ZVBhdGhLZXkiLCJzcHJpdGVQYXRoIiwicmVqZWN0IiwiYWxsIiwiTE9BRElOR19MRVZFTCIsInN0YXJ0UG9zIiwiaGFuZGxlS2V5RG93biIsImhhbmRsZUtleVVwIiwid2luIiwiQ1JFQVRPUl9OQU1FUyIsIkNMQVNTX0FUVEVORElOR19JTkZPIiwic3RvcEdhbWUiLCJzaG93QWxlcnQiLCJrZXlIYW5kbGVkIiwidG9Mb3dlckNhc2UiLCJjdXJyZW50R2FtZUluc3RhbmNlIiwiTWVudSIsImNoYXJhY3RlckltYWdlU291cmNlcyIsInNlbGVjdGVkQ2hhcmFjdGVyIiwidXNlckludGVyYWN0ZWQiLCJvdmVybGF5IiwiYXVkaW9NYW5hZ2VySW5zdGFuY2UiLCJpbml0aWFsaXplRWxlbWVudHMiLCJjaGFyYWN0ZXJQYW5lbCIsImNoYXJhY3RlckdyaWQiLCJzZXR1cENoYXJhY3RlckltYWdlcyIsImFkZEV2ZW50TGlzdGVuZXJzIiwic2hvdyIsInNldEF1ZGlvTWFuYWdlciIsInZhbHVlIiwibWVudUNvbnRhaW5lciIsInNldHRpbmdzQnV0dG9uIiwicGxheUJ1dHRvbiIsImNoYXJhY3RlckJ1dHRvbiIsInNldHRpbmdzUGFuZWwiLCJzZnhWb2x1bWUiLCJjbG9zZVNldHRpbmdzQnV0dG9uIiwiY2xvc2VDaGFyYWN0ZXJQYW5lbEJ1dHRvbiIsImRpc3BsYXlDb250YWluZXIiLCJzZWxlY3RlZENoYXJhY3RlckRpc3BsYXkiLCJpbnNlcnRCZWZvcmUiLCJjaGlsZHJlbiIsInVwZGF0ZVNlbGVjdGVkQ2hhcmFjdGVyRGlzcGxheSIsIk9iamVjdCIsImNoYXJhY3RlckNhcmRzIiwicXVlcnlTZWxlY3RvckFsbCIsImNhcmQiLCJjaGFyYWN0ZXJLZXkiLCJpbWdFbGVtZW50IiwiYWx0IiwiaGFuZGxlRmlyc3RJbnRlcmFjdGlvbiIsImFkZEludGVyYWN0aXZlTGlzdGVuZXIiLCJlbGVtZW50IiwiZXZlbnRUeXBlIiwiaGFuZGxlckZuIiwiY2FsbCIsInRvZ2dsZVNldHRpbmdzIiwic3RhcnRHYW1lIiwib3BlbkNoYXJhY3Rlck1vZGFsIiwiY2xvc2VTZXR0aW5ncyIsImNsb3NlQ2hhcmFjdGVyTW9kYWwiLCJuZXdWb2x1bWUiLCJjbGlja2VkQ2FyZCIsImNsb3Nlc3QiLCJzZWxlY3RDaGFyYWN0ZXIiLCJfZW5zdXJlT3ZlcmxheSIsImNhcmRFbGVtZW50IiwiY2hhckF0IiwiaW1nU3JjIiwiZGlzcGxheWVkTmFtZSIsInNlbGVjdGVkQ2FyZEgzIiwib3BlblNldHRpbmdzIiwiaGlkZSIsImdhbWVDYW52YXMiXSwic291cmNlUm9vdCI6IiJ9