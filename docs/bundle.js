(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var i=e.g.document;if(!t&&i&&(i.currentScript&&"SCRIPT"===i.currentScript.tagName.toUpperCase()&&(t=i.currentScript.src),!t)){var o=i.getElementsByTagName("script");if(o.length)for(var a=o.length-1;a>-1&&(!t||!/^http(s?):/.test(t));)t=o[a--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();class t{constructor(){this.keys={up:!1,down:!1,left:!1,right:!1}}setKey(e,t){this.keys.hasOwnProperty(e)&&(this.keys[e]=t)}getInputDirection(){let e=0,t=0;return this.keys.up&&(t-=1),this.keys.down&&(t+=1),this.keys.left&&(e-=1),this.keys.right&&(e+=1),{x:e,y:t}}}const i={LOADING:"LOADING",MENU:"MENU",PLAYING:"PLAYING",ASKING_QUESTION:"ASKING_QUESTION",SELECTING_FLOOR:"SELECTING_FLOOR",TRANSITIONING:"TRANSITIONING",GAME_OVER:"GAME_OVER"},o=[{question:"Który język programowania jest znany ze swojej wszechstronności i używany zarówno w backendzie (Node.js), jak i frontendzie?",options:["Python","Java","JavaScript","C#"],correctAnswer:2},{question:"Co oznacza skrót HTML?",options:["HyperText Markup Language","High Transfer Machine Language","Hyperlink and Text Management Language","Home Tool Markup Language"],correctAnswer:0},{question:"Która struktura danych działa na zasadzie LIFO (Last-In, First-Out)?",options:["Kolejka (Queue)","Stos (Stack)","Lista (List)","Drzewo (Tree)"],correctAnswer:1},{question:"Jak nazywa się proces znajdowania i naprawiania błędów w kodzie?",options:["Kompilacja","Testowanie","Debugowanie","Refaktoryzacja"],correctAnswer:2},{question:"Który paradygmat programowania opiera się na koncepcji 'obiektów', które mogą zawierać dane i kod?",options:["Programowanie funkcyjne","Programowanie proceduralne","Programowanie obiektowe","Programowanie logiczne"],correctAnswer:2},{question:"Co oznacza CSS?",options:["Cascading Style Sheets","Computer Style Syntax","Creative Styling System","Colorful Style Scripts"],correctAnswer:0},{question:"Który operator w JavaScript służy do ścisłego porównania (wartość i typ)?",options:["==","=","===","!="],correctAnswer:2},{question:"Jak nazywa się popularny system kontroli wersji używany przez programistów?",options:["Subversion (SVN)","Git","Mercurial","CVS"],correctAnswer:1},{question:"Który typ pętli w większości języków programowania jest najbardziej odpowiedni do iteracji po elementach tablicy, gdy nie znamy ich liczby?",options:["for","while","do...while","foreach (lub for...of)"],correctAnswer:3},{question:"Co to jest API?",options:["Advanced Programming Interface","Application Programming Interface","Automated Program Interaction","Algorithmic Processing Input"],correctAnswer:1},{question:"Co to jest PLC i do czego najczęściej służy w automatyce?",options:["Programowalny Logic Controller, do sterowania procesami przemysłowymi","Personal Learning Computer, do nauki programowania","Power Line Communication, do przesyłu danych przez sieć elektryczną","Project Lifecycle Cost, do zarządzania kosztami projektu"],correctAnswer:0},{question:"Za co odpowiada przysłona (apertura) w aparacie fotograficznym?",options:["Kontrolę czasu naświetlania","Regulację głębi ostrości i ilości wpadającego światła","Ustawienie balansu bieli","Stabilizację obrazu"],correctAnswer:1},{question:"Który element komputera jest odpowiedzialny za tymczasowe przechowywanie danych używanych przez procesor?",options:["Dysk twardy (HDD/SSD)","Karta graficzna (GPU)","Pamięć RAM","Płyta główna"],correctAnswer:2},{question:"W jakim języku programowania najczęściej pisane są skrypty po stronie serwera (backend)?",options:["HTML","CSS","SQL","PHP, Python lub Node.js (JavaScript)"],correctAnswer:3},{question:"Jaki typ sygnału charakteryzuje się płynną zmianą wartości w czasie, w przeciwieństwie do sygnału cyfrowego?",options:["Binarny","Analogowy","Zero-jedynkowy","Impulsowy"],correctAnswer:1},{question:"Który parametr ustawia czułość matrycy aparatu na światło i wpływa na poziom szumów na zdjęciu?",options:["Czas naświetlania","Przysłona","ISO","Ogniskowa"],correctAnswer:2},{question:"Co to jest adres IP w sieci komputerowej?",options:["Unikalny identyfikator urządzenia w sieci","Nazwa użytkownika do logowania","Adres strony internetowej","Typ kabla sieciowego"],correctAnswer:0},{question:"Czym różni się instrukcja warunkowa `if` od pętli `while` w programowaniu?",options:["`if` powtarza blok kodu, `while` sprawdza warunek jednokrotnie","`if` sprawdza warunek jednokrotnie, `while` powtarza blok kodu dopóki warunek jest prawdziwy","Nie ma między nimi różnicy","`if` służy tylko do deklarowania zmiennych, `while` do operacji matematycznych"],correctAnswer:1},{question:"Do czego najczęściej służy czujnik ciśnienia w systemie automatyki?",options:["Pomiaru temperatury","Pomiaru odległości","Pomiaru siły","Pomiaru ciśnienia"],correctAnswer:3},{question:"Co oznacza zasada trójpodziału w kompozycji fotograficznej?",options:["Dzielenie obrazu na 3 równe części pionowo i poziomo i umieszczanie kluczowych elementów na liniach lub ich przecięciach","Używanie tylko 3 głównych kolorów w kadrze","Robienie zawsze 3 zdjęć tej samej sceny","Balansowanie 3 głównych obiektów w kadrze"],correctAnswer:0},{question:"Jaka jest podstawowa rola systemu operacyjnego?",options:["Tworzenie grafiki komputerowej","Zarządzanie zasobami sprzętowymi i programowymi komputera","Pisanie kodu programów","Przeglądanie Internetu"],correctAnswer:1},{question:"Jakiego typu danych najczęściej użyjesz do przechowywania wieku osoby (liczba całkowita)?",options:["String (ciąg znaków)","Boolean (wartość logiczna)","Float (liczba zmiennoprzecinkowa)","Integer (liczba całkowita)"],correctAnswer:3},{question:"Element wykonawczy (aktuator) w systemie automatyki to urządzenie, które...",options:["Odczytuje dane z czujników","Wykonuje komendy ze sterownika, aby wykonać fizyczne działanie (np. ruch)","Przechowuje dane historyczne","Służy do komunikacji z operatorem"],correctAnswer:1},{question:"Który format pliku graficznego jest bezstratny i często używany w profesjonalnej edycji, zachowując maksymalną jakość kosztem rozmiaru?",options:["JPEG","GIF","PNG","RAW"],correctAnswer:3},{question:"Co chroni sieć komputerową przed nieautoryzowanym dostępem z zewnątrz?",options:["Router","Switch","Modem","Firewall (zapora sieciowa)"],correctAnswer:3},{question:"Co to jest IDE (Integrated Development Environment) w kontekście programowania?",options:["System operacyjny","Narzędzie do zarządzania bazą danych","Zintegrowane środowisko programistyczne (edytor kodu, kompilator, debugger w jednym)","Protokół sieciowy"],correctAnswer:2},{question:"Przykładem czujnika zbliżeniowego, wykrywającego obecność obiektu bez fizycznego kontaktu, może być:",options:["Termometr","Fotokomórka","Manometr (czujnik ciśnienia)","Akcelerometr"],correctAnswer:1},{question:"Do czego służy balans bieli (white balance) w aparacie fotograficznym?",options:["Do regulacji ostrości","Do korekcji kolorów, aby biały wyglądał na biały niezależnie od źródła światła","Do ustawiania czasu naświetlania","Do dodawania efektów specjalnych"],correctAnswer:1},{question:"Który protokół jest używany do bezpiecznego (szyfrowanego) przesyłania stron internetowych?",options:["HTTP","FTP","SMTP","HTTPS"],correctAnswer:3},{question:"Co to jest zmienna w programowaniu?",options:["Funkcja wykonująca określone zadanie","Typ pętli","Nazwane miejsce w pamięci komputera służące do przechowywania danych","Polecenie wyświetlające tekst na ekranie"],correctAnswer:2}];class a{static scoreElement=null;static targetElement=null;static controlsContainer=null;static questionOverlay=null;static questionTextElement=null;static answerButtonsContainer=null;static floorSelectionPanel=null;static floorButtonsContainer=null;static flashMessageContainer=null;static loadingOverlayElement=null;static gameOverScreenElement=null;static gameOverTitleElement=null;static creatorNamesListElement=null;static classInfoElement=null;static returnToMenuButtonElement=null;static gameplayManagerInstance=null;static flashMessageTimeouts={};static timerElement=null;static leaderboardElement=null;static gameStartTime=0;static leaderboardData=[];static setGameplayManager(e){e?(this.gameplayManagerInstance=e,console.log("[UIManager] GameplayManager instance registered successfully with UIManager.")):console.error("[UIManager] Attempted to set GameplayManager instance to null or undefined!")}static initializeUI(e){console.log("[UIManager] Initializing base UI elements (controls, panels)..."),e||console.error("[UIManager] InputManager is required for initializeUI to create controls."),this.createControls(e),this.createQuestionUI(),this.createFloorSelectionUI(),this.ensureFlashMessageContainer(),this.createGameOverScreen(),this.initializeTimer(),this.updateLeaderboard(),this.gameplayManagerInstance||console.warn("[UIManager] WARNING: GameplayManager instance is NOT SET at the end of initializeUI. Ensure Game.js calls UIManager.setGameplayManager() *before* UIManager.initializeUI()."),console.log("[UIManager] Base UI element initialization complete.")}static createControls(e){this.controlsContainer=document.getElementById("controls-container"),this.controlsContainer||(this.controlsContainer=document.createElement("div"),this.controlsContainer.id="controls-container",this.controlsContainer.classList.add("controls-container"),document.body.appendChild(this.controlsContainer)),this.controlsContainer.innerHTML="",[{direction:"up",icon:"↑",gridArea:"up"},{direction:"left",icon:"←",gridArea:"left"},{direction:"right",icon:"→",gridArea:"right"},{direction:"down",icon:"↓",gridArea:"down"}].forEach((({direction:t,icon:i,gridArea:o})=>{const a=document.createElement("button");if(a.className=`control-btn ${t}`,a.textContent=i,a.style.gridArea=o,a.dataset.direction=t,e){const i=i=>{e.setKey(t,!0),a.classList.add("active"),i.preventDefault()},o=i=>{e.keys[t]&&e.setKey(t,!1),a.classList.remove("active"),i.preventDefault()};a.addEventListener("touchstart",i,{passive:!1}),a.addEventListener("touchend",o,{passive:!1}),a.addEventListener("touchcancel",o,{passive:!1}),a.addEventListener("mousedown",i),a.addEventListener("mouseup",o),a.addEventListener("mouseleave",o)}this.controlsContainer.appendChild(a)}));const t=document.getElementById("score-display");if(t)this.scoreElement=t.querySelector("#score-value"),this.targetElement=t.querySelector("#score-target"),this.scoreElement&&(this.scoreElement.textContent="0"),this.targetElement&&(this.targetElement.textContent="?");else{const e=document.createElement("div");e.id="score-display",e.classList.add("score-display"),e.innerHTML='Books: <span id="score-value">0</span> / <span id="score-target">?</span>',document.body.appendChild(e),this.scoreElement=e.querySelector("#score-value"),this.targetElement=e.querySelector("#score-target")}}static createQuestionUI(){this.questionOverlay=document.getElementById("question-overlay"),this.questionOverlay||(this.questionOverlay=document.createElement("div"),this.questionOverlay.id="question-overlay",this.questionOverlay.classList.add("ui-panel"),this.questionOverlay.innerHTML='\n        <div id="blackboard-content">\n          <h2>Question</h2>\n          <div id="question-box">\n            <p id="question-text"></p>\n            <div id="answer-buttons"></div>\n          </div>\n        </div>',document.body.appendChild(this.questionOverlay)),this.questionTextElement=this.questionOverlay.querySelector("#question-text"),this.answerButtonsContainer=this.questionOverlay.querySelector("#answer-buttons"),this.questionTextElement&&this.answerButtonsContainer||console.error("[UIManager] Failed to find/create child elements of question UI!")}static createFloorSelectionUI(){this.floorSelectionPanel=document.getElementById("floor-selection-ui"),this.floorSelectionPanel||(this.floorSelectionPanel=document.createElement("div"),this.floorSelectionPanel.id="floor-selection-ui",this.floorSelectionPanel.classList.add("ui-panel"),this.floorSelectionPanel.innerHTML='\n        <h2>Select Floor</h2>\n        <div id="floor-buttons-container"></div>',document.body.appendChild(this.floorSelectionPanel)),this.floorButtonsContainer=this.floorSelectionPanel.querySelector("#floor-buttons-container"),this.floorButtonsContainer||console.error("[UIManager] Failed to find/create floor buttons container!")}static ensureFlashMessageContainer(){return this.flashMessageContainer=document.getElementById("flash-message-container"),this.flashMessageContainer||(this.flashMessageContainer=document.createElement("div"),this.flashMessageContainer.id="flash-message-container",document.body.appendChild(this.flashMessageContainer)),this.flashMessageContainer}static flashMessage(e,t="info",i=3e3){const o=this.ensureFlashMessageContainer();if(!o)return void console.error("[UIManager] Flash message container not found or creatable.");const a=document.createElement("div");a.textContent=e,a.className="flash-message",a.classList.add(`flash-${t}`);const s=`flash-${Date.now()}-${Math.random().toString(36).substr(2,5)}`;a.id=s,o.appendChild(a),requestAnimationFrame((()=>{a.classList.add("visible")})),clearTimeout(this.flashMessageTimeouts[s]),this.flashMessageTimeouts[s]=setTimeout((()=>{a.classList.remove("visible");const e=e=>{"opacity"!==e.propertyName&&"transform"!==e.propertyName||(a.parentNode&&a.parentNode.removeChild(a),delete this.flashMessageTimeouts[s])};a.addEventListener("transitionend",e,{once:!0}),setTimeout((()=>{a.parentNode&&(a.removeEventListener("transitionend",e),a.parentNode.removeChild(a)),delete this.flashMessageTimeouts[s]}),500)}),i)}static getLoadingOverlay(){if(!this.loadingOverlayElement&&(this.loadingOverlayElement=document.getElementById("loading-overlay"),!this.loadingOverlayElement)){this.loadingOverlayElement=document.createElement("div"),this.loadingOverlayElement.id="loading-overlay",this.loadingOverlayElement.className="loading-overlay";const e=document.createElement("p");e.textContent="Loading...",this.loadingOverlayElement.appendChild(e),document.body.appendChild(this.loadingOverlayElement),console.log("[UIManager] Loading overlay created and appended to body.")}return this.loadingOverlayElement}static createGameOverScreen(){this.gameOverScreenElement=document.getElementById("game-over-screen"),this.gameOverScreenElement?(this.gameOverTitleElement=this.gameOverScreenElement.querySelector("#game-over-title"),this.creatorNamesListElement=this.gameOverScreenElement.querySelector("#creator-names"),this.classInfoElement=this.gameOverScreenElement.querySelector("#class-info"),this.returnToMenuButtonElement=this.gameOverScreenElement.querySelector("#return-to-menu-button"),this.gameOverTitleElement&&this.creatorNamesListElement&&this.classInfoElement&&this.returnToMenuButtonElement?(this.returnToMenuButtonElement.addEventListener("click",(()=>{window.location.reload()})),console.log("[UIManager] Game Over screen elements initialized.")):console.error("[UIManager] Failed to find one or more child elements of the game over screen!")):console.error("[UIManager] CRITICAL: #game-over-screen element not found in HTML!")}static showGameOverScreen(e,t=[],i=""){(this.gameOverScreenElement||(console.error("[UIManager] Game Over Screen not initialized"),this.createGameOverScreen(),this.gameOverScreenElement))&&(e?(this.gameOverTitleElement.textContent="Congratulations! You Escaped!",this.gameOverTitleElement.className="win-title"):(this.gameOverTitleElement.textContent="Game Over",this.gameOverTitleElement.className="lose-title"),this.creatorNamesListElement.innerHTML="",t.forEach((e=>{const t=document.createElement("li");t.textContent=e,this.creatorNamesListElement.appendChild(t)})),this.classInfoElement.textContent=i,this.updateLeaderboard(),this.gameOverScreenElement.classList.add("visible"),this.hideGameUI(),this.hideQuestion(),this.hideFloorSelectionUI())}static hideGameOverScreen(){this.gameOverScreenElement&&this.gameOverScreenElement.classList.remove("visible")}static showQuestion(e){if(this.questionOverlay&&this.questionTextElement&&this.answerButtonsContainer||(console.error("[UIManager] Question UI not ready."),this.createQuestionUI(),this.questionOverlay&&this.questionTextElement&&this.answerButtonsContainer))if(e){if(!this.gameplayManagerInstance||"function"!=typeof this.gameplayManagerInstance.handleAnswer)return console.error("[UIManager] CRITICAL: GameplayManager or its handleAnswer method is not set or invalid!"),this.flashMessage("Error: Game interaction system failed (Q).","error",5e3),void this.hideQuestion();this.questionTextElement.textContent=e.question,this.answerButtonsContainer.innerHTML="",e.options.forEach(((e,t)=>{const i=document.createElement("button");i.textContent=e,i.dataset.index=t,i.classList.add("answer-button"),i.addEventListener("click",(e=>{const t=parseInt(e.target.dataset.index,10);this.gameplayManagerInstance.handleAnswer(t)})),this.answerButtonsContainer.appendChild(i)})),this.questionOverlay.classList.add("visible")}else console.error("[UIManager] Cannot show question - no questionData provided.")}static hideQuestion(){this.questionOverlay&&(this.questionOverlay.classList.remove("visible"),this.questionTextElement&&(this.questionTextElement.textContent=""),this.answerButtonsContainer&&(this.answerButtonsContainer.innerHTML=""))}static showFloorSelectionUI(e,t,i){if(this.floorSelectionPanel&&this.floorButtonsContainer||(console.error("[UIManager] Floor selection UI not ready."),this.createFloorSelectionUI(),this.floorSelectionPanel&&this.floorButtonsContainer)){if(!this.gameplayManagerInstance||"function"!=typeof this.gameplayManagerInstance.handleFloorSelection)return console.error("[UIManager] CRITICAL: GameplayManager or its handleFloorSelection method is not set or invalid!"),this.flashMessage("Error: Game interaction system failed (F).","error",5e3),void this.hideFloorSelectionUI();this.floorButtonsContainer.innerHTML="";for(let o=e;o<=t;o++){const e=document.createElement("button");e.textContent=`Floor ${o}`,e.classList.add("floor-button"),e.dataset.floor=o,o===i?(e.disabled=!0,e.classList.add("current")):e.addEventListener("click",(()=>{this.gameplayManagerInstance.handleFloorSelection(o)})),this.floorButtonsContainer.appendChild(e)}this.floorSelectionPanel.classList.add("visible")}}static hideFloorSelectionUI(){this.floorSelectionPanel&&this.floorSelectionPanel.classList.remove("visible")}static updateScore(e,t){this.scoreElement||(this.scoreElement=document.getElementById("score-value")),this.targetElement||(this.targetElement=document.getElementById("score-target")),this.scoreElement&&(this.scoreElement.textContent=e),this.targetElement&&(this.targetElement.textContent=t)}static showGameUI(){const e=document.getElementById("game-canvas")||document.getElementById("gameCanvas"),t=document.getElementById("menu-container"),i=document.getElementById("score-display");e?e.style.display="block":console.warn("[UIManager] Canvas element not found to show."),t&&!t.classList.contains("hidden")&&"none"!==t.style.display&&(console.warn("[UIManager] Menu container was not hidden. Hiding it now via style.display."),t.style.display="none"),this.controlsContainer?this.controlsContainer.classList.add("visible"):console.warn("[UIManager] Controls container not found to show."),i?i.classList.add("visible"):console.warn("[UIManager] Score display not found to show."),this.timerElement&&(this.timerElement.style.display="block"),this.hideQuestion(),this.hideFloorSelectionUI(),this.hideGameOverScreen()}static hideGameUI(){const e=document.getElementById("game-canvas")||document.getElementById("gameCanvas"),t=document.getElementById("score-display");e&&(e.style.display="none"),this.controlsContainer&&this.controlsContainer.classList.remove("visible"),t&&t.classList.remove("visible"),this.timerElement&&(this.timerElement.style.display="none")}static initializeTimer(){this.timerElement||(this.timerElement=document.createElement("div"),this.timerElement.id="game-timer",this.timerElement.classList.add("game-timer"),document.body.appendChild(this.timerElement));const e=localStorage.getItem("gameLeaderboard");this.leaderboardData=e?JSON.parse(e):[],this.updateLeaderboard()}static startTimer(){this.gameStartTime=Date.now(),this.updateTimer()}static updateTimer(){if(!this.timerElement||!this.gameStartTime)return;const e=Math.floor((Date.now()-this.gameStartTime)/1e3),t=Math.floor(e/60),i=e%60;this.timerElement.textContent=`Time: ${t}:${i.toString().padStart(2,"0")}`,this.gameStartTime&&requestAnimationFrame((()=>this.updateTimer()))}static stopTimer(e){if(!this.gameStartTime)return;const t=(Date.now()-this.gameStartTime)/1e3;if(e){const e=this.leaderboardData.length+1;this.leaderboardData.push({name:`Run ${e}`,time:t,date:(new Date).toLocaleDateString()}),this.leaderboardData.sort(((e,t)=>e.time-t.time)),localStorage.setItem("gameLeaderboard",JSON.stringify(this.leaderboardData))}this.gameStartTime=0,this.updateLeaderboard()}static updateLeaderboard(){const e=document.getElementById("leaderboard-body");e&&(e.innerHTML="",this.leaderboardData.slice(0,10).forEach((t=>{const i=Math.floor(t.time/60),o=Math.floor(t.time%60),a=document.createElement("tr");a.innerHTML=`\n        <td>${t.name}</td>\n        <td>${i}:${o.toString().padStart(2,"0")}</td>\n        <td>${t.date}</td>\n      `,e.appendChild(a)})))}}class s{static Direction={DOWN:0,RIGHT:1,UP:2,LEFT:3};constructor(e,t,i={}){this.ctx=e,this.sprite=new Image,this.frameSize=i.frameSize||32,this.frameCount=i.frameCount||4,this.scale=i.scale||2,this.renderSize=this.frameSize*this.scale,this.speed=i.speed||3,this.animationSpeed=i.animationSpeed||150,this.collisionBoxWidthRatio=i.collisionBoxWidthRatio||.4,this.collisionBoxHeightRatio=i.collisionBoxHeightRatio||.2,this.collisionBoxFeetOffsetRatio=i.collisionBoxFeetOffsetRatio||.4,this.x=0,this.y=0,this.currentDirection=s.Direction.DOWN,this.currentFrame=0,this.isMoving=!1,this.lastFrameTime=0,this.sprite.onload=()=>{console.log(`[Character] Sprite loaded successfully: ${t}`)},this.sprite.onerror=()=>{console.error(`[Character] Failed to load sprite: ${t}`)},this.sprite.src=t}updateAnimation(e){if(!this.isMoving)return this.currentFrame=0,void(this.lastFrameTime=e);this.lastFrameTime||(this.lastFrameTime=e),e-this.lastFrameTime>this.animationSpeed&&(this.currentFrame=(this.currentFrame+1)%this.frameCount,this.lastFrameTime=e)}getCollisionBox(e,t){const i=this.renderSize*this.collisionBoxWidthRatio,o=this.renderSize*this.collisionBoxHeightRatio,a=i/2,s=this.renderSize*this.collisionBoxFeetOffsetRatio;return{top:t+s-o/2,bottom:t+s+o/2,left:e-a,right:e+a,width:i,height:o}}draw(e,t){if(!this.sprite.complete||0===this.sprite.naturalHeight)return;const i=this.currentFrame*this.frameSize,o=this.currentDirection*this.frameSize,a=Math.floor(this.x-this.renderSize/2+e),s=Math.floor(this.y-this.renderSize/2+t);try{this.ctx.drawImage(this.sprite,i,o,this.frameSize,this.frameSize,a,s,this.renderSize,this.renderSize)}catch(e){console.error("[Character] Error drawing sprite:",e)}}}class n{constructor(e,t,i,o){this.x=e,this.y=t,this.id=i,this.tileSize=o,this.size=.6*o,this.collected=!1,this.isCollected=!1}draw(e,t,i,o){const a=Math.floor(this.x+t-this.size/2),s=Math.floor(this.y+i-this.size/2);o?e.drawImage(o,a,s,this.size,this.size):(e.fillStyle="#8d6e63",e.fillRect(a,s,this.size,this.size),e.strokeStyle="#5d4037",e.strokeRect(a,s,this.size,this.size),e.fillStyle="#eee",e.font=.6*this.size+"px Arial",e.textAlign="center",e.textBaseline="middle",e.fillText("?",a+this.size/2,s+this.size/2+2))}}function r(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}function l(e){let t=3735928559^e;return t=Math.imul(t^t>>>16,2246822507),t=Math.imul(t^t>>>13,3266489909),(t^=t>>>16)>>>0}function c(e,t){if(!e||"string"!=typeof e||e.length<7)return e;let i=parseInt(e.slice(1,3),16),o=parseInt(e.slice(3,5),16),a=parseInt(e.slice(5,7),16);return i=Math.min(255,Math.max(0,Math.round(i*t))),o=Math.min(255,Math.max(0,Math.round(o*t))),a=Math.min(255,Math.max(0,Math.round(a*t))),`#${i.toString(16).padStart(2,"0")}${o.toString(16).padStart(2,"0")}${a.toString(16).padStart(2,"0")}`}class h{constructor(e){this.tileSize=e,this.tileColors={},this.baseWallColor="#1c1e22",this.baseCorridorColor="#a0a0a0",this.baseRoomFloorColor="#c0c0c0",this.liftColor="#707080",this.errorColor="#ff00ff"}resetColorCache(){this.tileColors={}}getTileColor(e,t,i,o){const a=`${e},${t}`;if(this.tileColors[a])return this.tileColors[a];let s;switch(i){case 0:s=this.baseWallColor;break;case 1:s=this.baseCorridorColor;break;case 2:s=this.baseRoomFloorColor;break;case 3:s=this.liftColor;break;default:s=this.errorColor}return this.tileColors[a]=s,s}draw(e,t,i=null){const{map:o,rooms:a,books:s,liftPosition:n,offsetX:r,offsetY:l,cols:c,rows:h}=t,d=Math.floor(r),u=Math.floor(l),m=Math.max(0,Math.floor(-d/this.tileSize)-1),g=Math.min(c,Math.ceil((-d+e.canvas.width)/this.tileSize)+1),f=Math.max(0,Math.floor(-u/this.tileSize)-1),p=Math.min(h,Math.ceil((-u+e.canvas.height)/this.tileSize)+1);e.save(),this.drawBaseTiles(e,o,a,d,u,c,h,f,p,m,g),this.drawRoomDetails(e,o,a,n,d,u,c,h,f,p,m,g),this.drawLiftDetails(e,n,d,u),this.drawBooks(e,s,d,u,i),e.restore()}drawBaseTiles(e,t,i,o,a,s,n,r,l,c,h){e.save(),e.shadowColor="transparent";const d="#383838",u="#606060",m="#757575";for(let g=r;g<l;g++)for(let r=c;r<h;r++){const l=t[g]?.[r];if(void 0===l)continue;const c=Math.floor(r*this.tileSize+o),h=Math.floor(g*this.tileSize+a),f=this.getTileColor(g,r,l,i);if(e.fillStyle=f,e.fillRect(c,h,this.tileSize,this.tileSize),0===l){e.fillStyle="rgba(0,0,0,0.06)";for(let t=0;t<5;t++)e.fillRect(c+Math.random()*this.tileSize,h+Math.random()*this.tileSize,1,1);const i=2;g>0&&0!==t[g-1]?.[r]&&(e.fillStyle=m,e.fillRect(c,h,this.tileSize,i)),g<n-1&&0!==t[g+1]?.[r]&&(e.fillStyle=d,e.fillRect(c,h+this.tileSize-i,this.tileSize,i)),r>0&&0!==t[g]?.[r-1]&&(e.fillStyle=u,e.fillRect(c,h+i,i,this.tileSize-i)),r<s-1&&0!==t[g]?.[r+1]&&(e.fillStyle=d,e.fillRect(c+this.tileSize-i,h+i,i,this.tileSize-i)),g>0&&r>0&&0!==t[g-1]?.[r]&&0!==t[g]?.[r-1]&&0!==t[g-1]?.[r-1]&&(e.fillStyle=u,e.fillRect(c,h,i,i)),g>0&&r<s-1&&0!==t[g-1]?.[r]&&0!==t[g]?.[r+1]&&0!==t[g-1]?.[r+1]&&(e.fillStyle=m,e.fillRect(c+this.tileSize-i,h,i,i))}else if(1===l){e.fillStyle="rgba(255,255,255,0.03)";for(let t=0;t<3;t++)e.fillRect(c+Math.random()*this.tileSize,h+Math.random()*this.tileSize,1,1)}}e.restore()}drawRoomDetails(e,t,i,o,a,s,n,r,h,d,u,m){e.save(),e.shadowColor="transparent";for(const o of i){if(o.col+o.width<u||o.col>m||o.row+o.height<h||o.row>d)continue;const i=Math.floor(o.col*this.tileSize+a),n=Math.floor(o.row*this.tileSize+s),r=o.width*this.tileSize,g=o.height*this.tileSize;let f=this.baseRoomFloorColor;const p="number"==typeof this.floorNumber?this.floorNumber:0;let y=l(o.id)+100*p;switch(o.type){case"classroom":f=c("#a0c8e0",.9+l(y)%11/100);break;case"office":f=c("#f0e8c0",.9+l(y+1)%11/100);break;case"library":f=c("#d8c0a8",.9+l(y+2)%11/100);break;case"gym":f=c("#b0d0b0",.9+l(y+3)%11/100);break;case"lab":f=c("#e0e0ff",.9+l(y+4)%11/100);break;case"storage":f=c("#b0a090",.9+l(y+5)%11/100);break;case"utility":f=c("#b0b0b0",.9+l(y+6)%11/100)}for(let i=Math.max(o.row,h);i<Math.min(o.row+o.height,d);i++)for(let n=Math.max(o.col,u);n<Math.min(o.col+o.width,m);n++){const r=t[i]?.[n];if(2===r){const t=Math.floor(n*this.tileSize+a),r=Math.floor(i*this.tileSize+s),h=.98+(l(5e3*i+3*n+y)%11-5)/100;e.fillStyle=c(f,h),e.fillRect(t,r,this.tileSize,this.tileSize),"lab"===o.type&&(e.strokeStyle="rgba(0,0,0,0.08)",e.lineWidth=1,e.strokeRect(t+.5,r+.5,this.tileSize-1,this.tileSize-1))}}this.drawRoomDecorations(e,o,i,n,r,g)}e.restore()}drawLiftDetails(e,t,i,o){if(!t)return;const a=Math.floor(t.tileX*this.tileSize+i),s=Math.floor(t.tileY*this.tileSize+o);if(a+this.tileSize<0||a>e.canvas.width||s+this.tileSize<0||s>e.canvas.height)return;e.save(),e.shadowColor="transparent",e.strokeStyle="#d0d0d0",e.lineWidth=1,e.strokeRect(a+.5,s+.5,this.tileSize-1,this.tileSize-1),e.strokeStyle="#404040",e.strokeRect(a+1.5,s+1.5,this.tileSize-3,this.tileSize-3);const n=.15*this.tileSize,r=a+.8*this.tileSize,l=s+.5*this.tileSize;e.fillStyle="#444",e.beginPath(),e.arc(r,l,n,0,2*Math.PI),e.fill(),e.fillStyle="#ff4444",e.beginPath(),e.arc(r,l,.8*n,0,2*Math.PI),e.fill(),e.fillStyle="rgba(255, 255, 255, 0.5)",e.beginPath(),e.arc(r-.2*n,l-.2*n,.3*n,0,2*Math.PI),e.fill(),e.restore()}drawRoomDecorations(e,t,i,o,a,s){const n=this.tileSize,r=.2*n,l=.1*n;e.lineWidth=1,e.strokeStyle="#444";const c=(t,a,s,n,r,l=!0)=>{e.fillStyle=r;const c=Math.floor(i+t),h=Math.floor(o+a),d=Math.floor(s),u=Math.floor(n);e.fillRect(c,h,d,u),l&&e.strokeRect(c+.5,h+.5,d-1,u-1)},h=(t,a,s,n,r=!0)=>{e.fillStyle=n;const l=Math.floor(i+t),c=Math.floor(o+a);e.beginPath(),e.arc(l,c,Math.floor(s),0,2*Math.PI),e.fill(),r&&e.stroke()};switch(t.type){case"classroom":e.strokeStyle="#5d4037";const t=.6*n,d=.4*n,u=.25*n,m=1*n,g=.9*n;c(.25*a,r,.5*a,.2*n,"#333",!0),c(.25*a+2,r+2,.5*a-4,.2*n-4,"#4CAF50",!1);for(let e=0;;e++){const i=r+.5*n+e*g;if(i+d+u>s-r)break;for(let e=0;;e++){const o=r+e*m;if(o+t>a-r)break;c(o,i,t,d,"#8B4513"),c(o+.1*t,i+d+l,.8*t,u,"#6a4a3a")}}break;case"office":e.strokeStyle="#5d4037";const f=Math.min(.6*a,2.5*n),p=Math.min(.4*s,1.2*n);c(r,r,f,p,"#a0522d"),c(r+f+l,r+.1*p,.6*n,.6*n,"#444");const y=.8*n;c(a-r-y,r,y,s-2*r,"#6B4F41"),c(r+l,r+l,.5*n,.4*n,"#333"),c(r+l+.1*n,r+l+.4*n+2,.3*n,.1*n,"#555");break;case"library":e.strokeStyle="#402a10";const w=.6*n,M=1.5*n;for(let t=r;t<a-r-w;t+=M){c(t,r,w,s-2*r,"#654321"),e.strokeStyle="rgba(0,0,0,0.3)";for(let a=r+.5*n;a<s-r;a+=.7*n)e.beginPath(),e.moveTo(i+t,o+a),e.lineTo(i+t+w,o+a),e.stroke();e.strokeStyle="#402a10"}if(a>1.5*M){const e=w+r+(a-2*w-2*r-1.5*n)/2;e>w+r&&(c(e,.3*s,1.5*n,.4*s,"#966F33"),c(e+.2*n,.3*s-.3*n,.5*n,.25*n,"#6a4a3a"),c(e+.2*n,.3*s+.4*s+l,.5*n,.25*n,"#6a4a3a"))}break;case"gym":e.strokeStyle="#555",c(r,r,.4*a,.3*s,"#778899"),c(a-r-.3*a,s-r-.4*s,.3*a,.4*s,"#778899"),c(.6*a,r,.8*n,1.8*n,"#333"),c(.6*a+.1*n,r+.1*n,.6*n,1.6*n,"#555",!1),c(r,.5*s,1.5*n,.4*n,"#8B4513"),c(a-r-.5*n,r,.5*n,1.5*n,"#444"),h(a-r-.25*n,r+.3*n,.15*n,"#666"),h(a-r-.25*n,r+.7*n,.15*n,"#666"),h(a-r-.25*n,r+1.1*n,.15*n,"#666");break;case"lab":e.strokeStyle="#668";const S=.8*n;c(r,r,a-2*r,S,"#d0d0d8"),c(r,s-r-S,a-2*r,S,"#d0d0d8"),c(r+.2*n,r+.1*n,.5*n,.5*n,"#4a90e2"),c(r+1*n,r+.1*n,.3*n,.6*n,"#f5a623"),h(a-2*r-.4*n,r+.5*S,.2*n,"#e04040",!0),c(.4*a,r+S+l,n,s-2*r-2*S-2*l,"#a0a0b0");break;case"storage":e.strokeStyle="#4d4030";const v=a-2*r,b=.5*n;c(r,r,v,b,"#9e9e9e"),c(r,s-r-b,v,b,"#9e9e9e");const C=.6*n;c(r+.2*n,r+b+l,C,C,"#bf8f6f"),c(r+1*n,r+b+l,C,C,"#bf8f6f"),c(a-r-1.5*C,r+b+3*l,1.2*C,.8*C,"#bf8f6f"),c(a-r-n,s-r-n,.8*n,.8*n,"#6a4a3a");break;default:e.strokeStyle="#5d4037",c(.1*a,.15*s,.3*a,.25*s,"#A0522D"),c(.6*a,.5*s,.3*a,.4*s,"#A0522D"),c(a-r-.5*n,r,.5*n,s-2*r,"#777"),e.strokeStyle="#555",e.lineWidth=3,e.beginPath(),e.moveTo(i+r,o+.8*s),e.lineTo(i+a-r,o+.8*s),e.stroke(),e.beginPath(),e.moveTo(i+.7*a,o+r),e.lineTo(i+.7*a,o+s-r),e.stroke(),e.lineWidth=1}}drawBooks(e,t,i,o,a){if(!t||0===t.length)return;const s=.6*this.tileSize;for(const n of t)if(!n.isCollected&&!n.collected){const t=n.size||s,r=Math.floor(n.x+i-t/2),l=Math.floor(n.y+o-t/2);r+t>0&&r<e.canvas.width&&l+t>0&&l<e.canvas.height&&("function"==typeof n.draw?n.draw(e,i,o,a):a?e.drawImage(a,r,l,t,t):(e.fillStyle="#8d6e63",e.fillRect(r,l,t,t),e.strokeStyle="#5d4037",e.lineWidth=1,e.strokeRect(r+.5,l+.5,t-1,t-1)))}}}let d=null;const u={minRoomSize:5,maxRoomSize:10,corridorThickness:1,numRooms:12,maxRoomAttempts:200,roomTypeWeights:{classroom:50,office:25,library:15,gym:0,utility:10}};function m(e,t,i,o,a){const{centerTileX:s,centerTileY:n}=t,{centerTileX:r,centerTileY:l}=i;Math.random()<.5?(g(e,n,s,r,o,a),f(e,r,n,l,o,a)):(f(e,s,n,l,o,a),g(e,l,s,r,o,a))}function g(e,t,i,o,a,s){if(t<0||t>=s)return;const n=Math.max(0,Math.min(i,o)),r=Math.min(a-1,Math.max(i,o));for(let i=n;i<=r;i++)0===e[t]?.[i]&&(e[t][i]=1)}function f(e,t,i,o,a,s){if(t<0||t>=a)return;const n=Math.max(0,Math.min(i,o)),r=Math.min(s-1,Math.max(i,o));for(let i=n;i<=r;i++)0===e[i]?.[t]&&(e[i][t]=1)}function p(e,t,i,o,a){const s=(e,t,i,o,a)=>{if(e<0||e>=o||t<0||t>=a)return!1;const s=i[t]?.[e];return 1===s||2===s||3===s};let n=0;const r=[{dx:0,dy:-1},{dx:0,dy:1},{dx:-1,dy:0},{dx:1,dy:0}];let l=[!1,!1,!1,!1];for(let c=0;c<r.length;c++)s(e+r[c].dx,t+r[c].dy,i,o,a)&&(n++,l[c]=!0);let c=!1;if(2===n){const[e,t,i,o]=l;(e&&t&&!i&&!o||i&&o&&!e&&!t)&&(c=!0)}return{openSides:n,isChokepoint:c}}function y(e,t,i,o,a){console.log(`  [MapGen Connect] Trying to connect wall at tile(${t}, ${i}) to walkable area...`);const s=[[0,-1],[0,1],[-1,0],[1,0]];let n=!1,r=null;for(const[o,a]of s){const s=t+o,l=i+a,c=e[l]?.[s];if(1===c||2===c||3===c){n=!0,r={x:s,y:l};break}}if(n)return console.log(`  [MapGen Connect] Target(${t}, ${i}) is adjacent to walkable at (${r.x}, ${r.y}). Setting target to Corridor.`),e[i][t]=1,!0;console.log("  [MapGen Connect] Target not adjacent. Searching nearest walkable (Corridor/Floor) via BFS...");const l=[[t,i,0]],c=new Set([`${t},${i}`]),h=[0,1,2,3],d=[1,2];let u=null,m=1/0;for(;l.length>0;){const[t,i,n]=l.shift();if(!(n>=m))for(const[r,g]of s){const s=t+r,f=i+g,p=`${s},${f}`;if(s>=0&&s<o&&f>=0&&f<a&&!c.has(p)){const t=e[f]?.[s];c.add(p),d.includes(t)?n+1<m&&(m=n+1,u={x:s,y:f,dist:m},console.log(`    [BFS] Found potential target at (${s}, ${f}), dist ${m}`)):h.includes(t)&&n+1<m&&l.push([s,f,n+1])}}}return u?(console.log(`  [MapGen Connect] Found closest walkable at tile(${u.x}, ${u.y}) distance ${u.dist}. Carving path...`),g(e,i,t,u.x,o,a),f(e,u.x,i,u.y,o,a),console.log("  [MapGen Connect] Carved path attempt finished."),1===e[i][t]||2===e[i][t]?(console.log(`    [Verify] Target tile (${t},${i}) is now walkable (Type: ${e[i][t]})`),!0):(console.warn(`  [MapGen Connect] Carving done, but target tile(${t}, ${i}) is still WALL (Value: ${e[i][t]}). Setting manually.`),e[i][t]=1,!0)):(console.error(`  [MapGen Connect] FAILED to find ANY nearby walkable (Corridor/Floor) via BFS from wall at tile(${t}, ${i}). Cannot connect.`),!1)}function w(e,t,i,o){if(!t)return!1;const{tileX:a,tileY:s}=t;if(s<0||s>=o||a<0||a>=i||3!==e[s]?.[a])return console.error(`[MapValidation Reachability] Invalid lift position provided: (${a}, ${s})`),!1;const{reachable:n}=function(e,t,i,o,a,s){const n=[[t,i]],r=new Set([`${t},${i}`]),l=[[0,-1],[0,1],[-1,0],[1,0]];let c=!1;for(e[i];n.length>0;){const[t,i]=n.shift();for(const[h,d]of l){const l=t+h,u=i+d,m=`${l},${u}`;if(l>=0&&l<o&&u>=0&&u<a&&!r.has(m)){const t=e[u]?.[l];r.add(m),s.includes(t)&&(n.push([l,u]),1!==t&&2!==t||(c=!0))}}}return{reachable:c}}(e,a,s,i,o,[1,2,3]);return n||console.error(`[MapValidation Reachability] FAILED. Lift at tile(${a}, ${s}) is isolated from corridors/rooms.`),n}class M{constructor(e,t,i,o,a){this.tileSize=32,this.cols=40,this.rows=30,this.width=this.cols*this.tileSize,this.height=this.rows*this.tileSize,this.offsetX=0,this.offsetY=0,this.floorNumber=i,this.minFloor=o,this.maxFloor=a,this.map=null,this.rooms=[],this.books=[],this.liftPosition=null,this.renderer=new h(this.tileSize);const s={minRoomSize:5,maxRoomSize:10,corridorThickness:1,numRooms:12,maxRoomAttempts:200,booksPerMap:5,roomTypeWeights:{classroom:50,office:25,library:15,lab:10,storage:5,utility:10}};try{const e={cols:this.cols,rows:this.rows,floorNumber:this.floorNumber,minFloor:this.minFloor,maxFloor:this.maxFloor,tileSize:this.tileSize,generationParams:s},{map:t,rooms:i,liftPosition:o}=function(e){const{cols:t,rows:i,floorNumber:o,minFloor:a,tileSize:s,generationParams:n}=e,l={...u,...n};l.roomTypeWeights.gym=o===a?60:0,o===a&&(d=null,console.log(`[MapGen Floor ${o}] Reset consistent lift coords for the first floor.`)),console.log(`[MapGen Floor ${o}] Starting map generation (${t}x${i})...`);const c=Array.from({length:i},(()=>Array(t).fill(0))),h=[];let g=null;!function(e,t,i,o,a){const{minRoomSize:s,maxRoomSize:n,numRooms:l,maxRoomAttempts:c,roomTypeWeights:h}=a;let d=0;const u=[];let m=0;for(const e in h){const t=h[e];if(t>0){m+=t;for(let i=0;i<t;i++)u.push(e)}}for(0===u.length&&(u.push("utility"),console.warn("[MapGen Rooms] No room type weights provided or all are zero. Defaulting to 'utility'."));t.length<l&&d<c;){d++;const a=r(s,n),l=r(s,n),c=r(1,i-a-1),h=r(1,o-l-1),m={col:c,row:h,width:a,height:l,type:u[r(0,u.length-1)],id:`room_${t.length+1}`,centerTileX:Math.floor(c+a/2),centerTileY:Math.floor(h+l/2),connected:!1};let g=!1;const f=2;for(const e of t)if(m.col<e.col+e.width+f&&m.col+m.width+f>e.col&&m.row<e.row+e.height+f&&m.row+m.height+f>e.row){g=!0;break}if(!g){t.push(m);for(let t=m.row;t<m.row+m.height;t++)for(let a=m.col;a<m.col+m.width;a++)t>=0&&t<o&&a>=0&&a<i&&(e[t][a]=2)}}t.length<l?console.warn(`[MapGen Rooms] Placed only ${t.length}/${l} rooms after ${d} attempts.`):console.log(`[MapGen Rooms] Placed ${t.length} rooms after ${d} attempts.`)}(c,h,t,i,l),h.length<2&&o!==a?console.warn(`[MapGen Floor ${o}] Placed only ${h.length} rooms. Expect limited connectivity.`):h.length>=2&&function(e,t,i,o){if(t.length<2)return;console.log(`[MapGen Connect] Connecting ${t.length} rooms (improved)...`);const a=new Set([t[0].id]);let s=t.slice(1);for(;s.length>0;){let n=1/0,r=null,l=null,c=-1;for(let e=0;e<s.length;e++){const i=s[e];for(const o of t)if(a.has(o.id)){const t=i.centerTileX-o.centerTileX,a=i.centerTileY-o.centerTileY,s=t*t+a*a;s<n&&(n=s,r=i,l=o.id,c=e)}}if(!r||null===l){console.error("[MapGen Connect] Could not find next pair of rooms to connect. Breaking loop. Remaining unconnected:",s.map((e=>e.id)));break}{const n=t.find((e=>e.id===l));if(!n){console.error(`[MapGen Connect] Error: Could not find connected room with ID ${l}. Skipping connection.`),s.splice(c,1);continue}m(e,n,r,i,o),a.add(r.id),s.splice(c,1)}}console.log(`[MapGen Connect] Finished connecting rooms. Connected count: ${a.size}`)}(c,h,t,i);try{const e=function(e,t,i,o,a,s,n,r){let l=n,c=null;if(o!==a||l){if(!l&&o>a)throw new Error(`[MapGen Lift] Missing consistent coordinates for floor ${o}.`)}else console.log(`[MapGen Floor ${o}] Finding initial lift placement location...`),l=function(e,t,i,o){const a=Math.floor(t/2),s=Math.floor(i/2);let n=null;if(console.log("  [MapGen FindLift V3] Searching for optimal lift spot INSIDE a room..."),!o||0===o.length)return console.warn("  [MapGen FindLift V3] No rooms available to place a lift in. Fallback will be used by caller."),null;for(const r of o){const o=r.col+1,l=r.col+r.width-2,c=r.row+1,h=r.row+r.height-2;if(!(o>l||c>h))for(let d=c;d<=h;d++)for(let c=o;c<=l;c++){let o=0;o-=((c-a)*(c-a)+(d-s)*(d-s))/30;const l=p(c,d,e,t,i);if(l.openSides<1)continue;l.isChokepoint&&(o-=700),o+=120*l.openSides;let h=0,u=0;const m=[{dx:0,dy:-1},{dx:0,dy:1},{dx:-1,dy:0},{dx:1,dy:0}];for(const o of m){const a=c+o.dx,s=d+o.dy;if(s>=0&&s<i&&a>=0&&a<t){const o=e[s]?.[a];if(1===o||2===o){u++;const o=p(a,s,e,t,i);1===o.openSides&&(h=Math.max(h,3e4)),o.isChokepoint&&(h=Math.max(h,500))}}}0===u&&l.openSides<2||(o-=h,(null===n||o>n.score)&&(n={tileX:c,tileY:d,score:o,debug_room:r.id}))}}return n?(console.log(`  [MapGen FindLift V3] Selected best spot IN ROOM (${n.debug_room}) at tile(${n.tileX}, ${n.tileY}). Score: ${n.score.toFixed(0)}.`),{tileX:n.tileX,tileY:n.tileY}):(console.warn("[MapGen FindLift V3] No suitable IN-ROOM location found with internal tiles. Fallback will be used by caller."),null)}(e,t,i,r),l||(console.warn(`[MapGen Floor ${o}] No ideal IN-ROOM lift location found. Forcing placement near center.`),l={tileX:Math.floor(t/2),tileY:Math.floor(i/2)}),console.log(`[MapGen Floor ${o}] Established consistent lift coords at tile(${l.tileX}, ${l.tileY})`),c=l;const{tileX:h,tileY:d}=l;if(d<0||d>=i||h<0||h>=t){const e=Math.max(1,Math.min(t-2,h)),a=Math.max(1,Math.min(i-2,d));throw console.error(`[MapGen Lift] Coords (${h}, ${d}) are outside map bounds on floor ${o}. Adjusted to (${e},${a})`),l={tileX:e,tileY:a},new Error(`[MapGen Lift] Coords (${l.tileX}, ${l.tileY}) are outside map bounds on floor ${o}.`)}0===e[d][h]?(console.warn(`[MapGen Floor ${o}] Lift location tile(${h}, ${d}) is a wall (likely fallback). Forcing connection...`),y(e,h,d,t,i)?(console.log("  [MapGen Lift Connect] Connection attempt finished for wall at lift location."),0===e[d][h]&&(console.warn(`  [MapGen Lift Connect] Force connection completed, but target tile (${h},${d}) remained WALL. Setting to CORRIDOR.`),e[d][h]=1)):console.error(`[MapGen Lift Connect] FAILED to connect wall at lift location tile(${h}, ${d}). Lift might be isolated.`)):console.log(`  [MapGen Lift] Lift location tile(${h}, ${d}) is already walkable (Type: ${e[d][h]}).`),e[d][h]=3;const u={x:(h+.5)*s,y:(d+.5)*s,tileX:h,tileY:d};return console.log(`[MapGen Floor ${o}] Placed/Confirmed lift at tile(${h}, ${d}). World: (${u.x.toFixed(1)}, ${u.y.toFixed(1)})`),{position:u,coords:c||l}}(c,t,i,o,a,s,d,h);g=e.position,e.coords&&(d=e.coords)}catch(e){throw console.error(`[MapGen Floor ${o}] CRITICAL: Lift placement failed:`,e),new Error(`Lift placement failed on floor ${o}: ${e.message}`)}if(function(e,t,i){console.log("  [MapGen] Ensuring map borders are walls.");for(let o=0;o<t;o++)void 0!==e[0]?.[o]&&(e[0][o]=0),void 0!==e[i-1]?.[o]&&(e[i-1][o]=0);for(let o=0;o<i;o++)void 0!==e[o]?.[0]&&(e[o][0]=0),void 0!==e[o]?.[t-1]&&(e[o][t-1]=0)}(c,t,i),g&&!w(c,g,t,i)){if(console.warn(`[MapValidation Floor ${o}] Lift at tile(${g.tileX}, ${g.tileY}) initially unreachable. Attempting final force connection.`),!y(c,g.tileX,g.tileY,t,i)||!w(c,g,t,i)){const e=`CRITICAL: Placed lift at tile(${g.tileX}, ${g.tileY}) is UNREACHABLE even after force connect! Generation failed.`;throw console.error(`[MapGen Floor ${o}] ${e}`),new Error(`Lift is unreachable on floor ${o}. Cannot proceed.`)}console.log(`[MapValidation Floor ${o}] Lift connection successful after second attempt.`)}else{if(!g)throw new Error(`Map generated without a valid lift position on floor ${o}.`);console.log(`[MapValidation Floor ${o}] Lift at tile(${g.tileX}, ${g.tileY}) is reachable.`)}return console.log(`[MapGen Floor ${o}] Map generation completed successfully.`),{map:c,rooms:h,liftPosition:g}}(e);this.map=t,this.rooms=i,this.liftPosition=o,this.renderer.resetColorCache(),this.placeBooksReliably(s.booksPerMap),3===this.floorNumber&&console.log(`[ProcMap F${this.floorNumber}] Init complete. Lift at tile (${o?.tileX}, ${o?.tileY}).`)}catch(e){throw console.error(`[ProcMap F${this.floorNumber}] CRITICAL ERROR during map generation or setup:`,e),e}}placeBooksReliably(e){this.books=[];const t=[],i=new Set;for(let e=0;e<this.rows;e++)for(let i=0;i<this.cols;i++){const o=this.map[e]?.[i],a=this.liftPosition&&e===this.liftPosition.tileY&&i===this.liftPosition.tileX;1!==o&&2!==o||a||t.push({r:e,c:i})}let o=0;for(;o<e&&t.length>0;){const e=Math.floor(Math.random()*t.length),{r:a,c:s}=t.splice(e,1)[0],r=`${s},${a}`;if((1===this.map[a]?.[s]||2===this.map[a]?.[s])&&!i.has(r)){const e=(s+.5)*this.tileSize,t=(a+.5)*this.tileSize,l=`book_f${this.floorNumber}_${o+1}`;this.books.push(new n(e,t,l,this.tileSize)),i.add(r),o++}}}isWalkable(e,t){if(!this.map)return!1;const i=Math.floor(e/this.tileSize),o=Math.floor(t/this.tileSize);if(i<0||i>=this.cols||o<0||o>=this.rows)return!1;const a=this.map[o]?.[i];return 1===a||2===a||3===a}findRandomInitialSpawnPosition(){if(!this.map)return;const e=[];for(let t=1;t<this.rows-1;t++)for(let i=1;i<this.cols-1;i++){const o=this.map[t]?.[i],a=this.liftPosition&&t===this.liftPosition.tileY&&i===this.liftPosition.tileX;1!==o&&2!==o||a||this.isTileOpenEnough(i,t,3,!0)&&e.push({r:t,c:i})}if(0===e.length)for(let t=0;t<this.rows;t++)for(let i=0;i<this.cols;i++){const o=this.map[t]?.[i],a=this.liftPosition&&t===this.liftPosition.tileY&&i===this.liftPosition.tileX;1!==o&&2!==o||a||this.isTileOpenEnough(i,t,2,!0)&&e.push({r:t,c:i})}if(0===e.length)for(let t=0;t<this.rows;t++)for(let i=0;i<this.cols;i++){const o=this.map[t]?.[i],a=this.liftPosition&&t===this.liftPosition.tileY&&i===this.liftPosition.tileX;1!==o&&2!==o||a||e.push({r:t,c:i})}if(0===e.length)return void console.error(`[ProcMap F${this.floorNumber} RandomSpawn] CRITICAL: No suitable spawn tiles found!`);const{r:t,c:i}=e[Math.floor(Math.random()*e.length)];return{x:(i+.5)*this.tileSize,y:(t+.5)*this.tileSize}}isTileOpenEnough(e,t,i=2,o=!1){if(this.floorNumber,!this.map)return!1;let a=0;const s=[[0,-1,"N"],[0,1,"S"],[-1,0,"W"],[1,0,"E"]],n=[!1,!1,!1,!1];for(let i=0;i<s.length;i++){const[o,r,l]=s[i],c=e+o,h=t+r;let d=0;c>=0&&c<this.cols&&h>=0&&h<this.rows&&(d=this.map[h]?.[c],1!==d&&2!==d&&3!==d||(a++,n[i]=!0))}if(a<i)return!1;if(o&&2===a){if(n[0]&&n[1]&&!n[2]&&!n[3])return!1;if(n[2]&&n[3]&&!n[0]&&!n[1])return!1}return!0}findNearestWalkableTile(e,t,i=8,o=!1,a=!1){if(this.floorNumber,!this.map)return null;const s=Math.floor(e/this.tileSize),n=Math.floor(t/this.tileSize),r=[1,2];if(s>=0&&s<this.cols&&n>=0&&n<this.rows){const e=this.map[n][s];if(r.includes(e)&&(!o||3!==e)){const e=2;if(this.isTileOpenEnough(s,n,e,a))return{x:(s+.5)*this.tileSize,y:(n+.5)*this.tileSize}}}for(let e=1;e<=i;e++){const t=2;for(let i=-e;i<=e;i++)for(let l=-e;l<=e;l++){if(Math.abs(l)<e&&Math.abs(i)<e)continue;const c=s+l,h=n+i;if(c<0||c>=this.cols||h<0||h>=this.rows)continue;const d=this.map[h]?.[c];if(r.includes(d)&&(!o||3!==d)&&this.isTileOpenEnough(c,h,t,a))return{x:(c+.5)*this.tileSize,y:(h+.5)*this.tileSize}}}const l=[[s,n]],c=new Set([`${s},${n}`]),h=[[0,-1],[0,1],[-1,0],[1,0]],d=[1,2,3];for(;l.length>0;){const[e,t]=l.shift();for(const[i,s]of h){const n=e+i,h=t+s,u=`${n},${h}`;if(n>=0&&n<this.cols&&h>=0&&h<this.rows&&!c.has(u)){const e=this.map[h]?.[n];if(c.add(u),r.includes(e)&&(!o||3!==e)&&this.isTileOpenEnough(n,h,2,a))return{x:(n+.5)*this.tileSize,y:(h+.5)*this.tileSize};d.includes(e)&&l.push([n,h])}}}return null}getSpawnPointInRoomOfLift(e,t,i=2){this.floorNumber;let o=null,a=null,s=null;const n=[{dx:0,dy:-1},{dx:0,dy:1},{dx:-1,dy:0},{dx:1,dy:0}];for(const i of n){const n=e+i.dx,r=t+i.dy;if(n>=0&&n<this.cols&&r>=0&&r<this.rows&&2===this.map[r]?.[n])for(const e of this.rooms)if(n>=e.x&&n<e.x+e.width&&r>=e.y&&r<e.y+e.height){o=e,a={x:n,y:r},s={dx:i.dx,dy:i.dy};break}if(o)break}if(!o)for(const i of n){const r=e+i.dx,l=t+i.dy;if(!(r<0||r>=this.cols||l<0||l>=this.rows||1!==this.map[l]?.[r])){for(const e of n){if(e.dx===-i.dx&&e.dy===-i.dy)continue;const t=r+e.dx,n=l+e.dy;if(t>=0&&t<this.cols&&n>=0&&n<this.rows&&2===this.map[n]?.[t])for(const i of this.rooms)if(t>=i.x&&t<i.x+i.width&&n>=i.y&&n<i.y+i.height){o=i,a={x:t,y:n},s={dx:e.dx,dy:e.dy};break}if(o)break}if(o)break}}if(!o||!a||!s)return null;const r=s.dx,l=s.dy;for(let e=i-1;e>=0;e--){const t=a.x+r*e,i=a.y+l*e;if(t>=o.x&&t<o.x+o.width&&i>=o.y&&i<o.y+o.height&&2===this.map[i]?.[t]){const e=t+r,a=i+l,s=e>=o.x&&e<o.x+o.width&&a>=o.y&&a<o.y+o.height&&2===this.map[a]?.[e];if(this.isTileOpenEnough(t,i,2,!0)&&s)return{x:(t+.5)*this.tileSize,y:(i+.5)*this.tileSize}}}return this.isTileOpenEnough(a.x,a.y,2,!0)?{x:(a.x+.5)*this.tileSize,y:(a.y+.5)*this.tileSize}:null}findNearbyUnansweredBook(e,t,i=.8*this.tileSize){if(!this.books||0===this.books.length)return null;let o=null,a=i*i;for(const i of this.books)if(!i.isCollected){const s=i.x-e,n=i.y-t,r=s*s+n*n;r<a&&(a=r,o=i)}return o}markBookAsCollected(e){if(!e||!this.books)return!1;const t=this.books.find((t=>t.id===e.id));return!(!t||t.isCollected||(t.isCollected=!0,0))}findNearbyLift(e,t,i=.7*this.tileSize){if(!this.liftPosition)return null;const o=e-this.liftPosition.x,a=t-this.liftPosition.y;return o*o+a*a<i*i?this.liftPosition:null}getLiftPosition(){return this.liftPosition}draw(e,t=null){if(!this.map||!this.renderer)return;const i={map:this.map,rooms:this.rooms,books:this.books,liftPosition:this.liftPosition,offsetX:this.offsetX,offsetY:this.offsetY,cols:this.cols,rows:this.rows,tileSize:this.tileSize};this.renderer.draw(e,i,t)}logMapGrid(){if(!this.map)return void console.log(`[ProcMap F${this.floorNumber}] Map grid not available.`);console.log(`--- Map Grid Floor ${this.floorNumber} (${this.cols}x${this.rows}) ---`);let e="   ";for(let t=0;t<this.cols;t++)e+=t%10==0?Math.floor(t/10):" ";console.log(e),e="   ";for(let t=0;t<this.cols;t++)e+=t%10;console.log(e);for(let e=0;e<this.rows;e++){const t=e.toString().padStart(2," "),i=this.map[e].map((e=>{switch(e){case 0:return"#";case 1:return".";case 2:return" ";case 3:return"L";default:return"?"}})).join("");console.log(`${t} ${i}`)}this.liftPosition?(console.log(`Lift actual tile type in map[${this.liftPosition.tileY}][${this.liftPosition.tileX}]: ${this.map[this.liftPosition.tileY]?.[this.liftPosition.tileX]}`),console.log(`Lift reported at tile: (${this.liftPosition.tileX}, ${this.liftPosition.tileY})`)):console.log("Lift position not set."),console.log(`--- End Map Grid Floor ${this.floorNumber} ---`)}}class S{constructor(e=1,t=3){e>=t?(console.warn(`Level constructor: minFloor (${e}) must be less than maxFloor (${t}). Using defaults 1 and 3.`),this.minFloor=1,this.maxFloor=3):(this.minFloor=e,this.maxFloor=t),this.currentFloor=this.minFloor,this.currentMap=null,this.tileSize=32}async loadFloor(e,t,i){if(e<this.minFloor||e>this.maxFloor){const t=`Attempted to load invalid floor: ${e}. Allowed range: [${this.minFloor}-${this.maxFloor}]`;throw console.error(`[Level] ${t}`),new Error(t)}console.log(`[Level] Loading floor ${e}...`),this.currentFloor=e;try{if(this.currentMap=new M(t,i,this.currentFloor,this.minFloor,this.maxFloor),!(this.currentMap.tileSize&&this.currentMap.map&&this.currentMap.books&&this.currentMap.getLiftPosition()))throw new Error("[Level] ProceduralMap instance is missing essential properties after creation (tileSize, map, books, or liftPosition).");this.tileSize=this.currentMap.tileSize;const o=this.currentMap.getLiftPosition();console.log(`  [Level] Map generated for floor ${this.currentFloor}. TileSize: ${this.tileSize}. Lift at tile(${o.tileX}, ${o.tileY}).`),console.log(`[Level] Floor ${e} loaded successfully. Map size: ${this.currentMap.cols}x${this.currentMap.rows}. ${this.currentMap.books.length} books placed.`)}catch(t){throw console.error(`[Level] CRITICAL FAILURE loading floor ${e}: Failed to create or validate ProceduralMap:`,t),this.currentMap=null,new Error(`Map generation/validation failed for floor ${e}. ${t.message||t}`)}return Promise.resolve()}getCurrentBooks(){return this.currentMap?this.currentMap.books:[]}}class v{constructor(e){this.game=e,this.canvas=null,this.ctx=null}initializeCanvas(){if(this.canvas=document.getElementById("game-canvas"),!this.canvas)throw new Error("[Renderer] Canvas 'game-canvas' not found!");if(this.ctx=this.canvas.getContext("2d"),!this.ctx)throw new Error("[Renderer] Failed to get 2D context.");return this.ctx.imageSmoothingEnabled=!1,this.resizeCanvas(),console.log("[Renderer] Canvas initialized."),{canvas:this.canvas,ctx:this.ctx}}resizeCanvas(){this.canvas&&(this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.game.character&&this.game.level?.currentMap&&this.centerCameraOnCharacter(),console.log(`[Renderer] Canvas resized to ${this.canvas.width}x${this.canvas.height}`))}centerCameraOnCharacter(){const{character:e,level:t,canvas:i}=this.game;e&&t?.currentMap&&i&&(t.currentMap.offsetX=Math.floor(i.width/2-e.x),t.currentMap.offsetY=Math.floor(i.height/2-e.y))}drawFrame(){if(!this.ctx||!this.canvas)return;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);const e=this.game.level?.currentMap,t=this.game.character;e&&e.draw(this.ctx,this.game.bookImage),t&&e&&t.draw(e.offsetX,e.offsetY)}drawWinScreen(){this.ctx&&this.canvas&&(this.ctx.fillStyle="rgba(0, 0, 0, 0.8)",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillStyle="lime",this.ctx.font='clamp(32px, 8vw, 48px) "Press Start 2P", cursive, Arial, sans-serif',this.ctx.fillText("ZWYCIĘSTWO!",this.canvas.width/2,this.canvas.height/2-80),this.ctx.fillStyle="white",this.ctx.font="clamp(24px, 5vw, 32px) Arial, sans-serif",this.ctx.fillText(`Zebrano wszystkie ${this.game.targetBooksToWin} książki!`,this.canvas.width/2,this.canvas.height/2),this.ctx.font="clamp(18px, 4vw, 24px) Arial, sans-serif",this.ctx.fillText("Uniwersytet uratowany!",this.canvas.width/2,this.canvas.height/2+60),this.ctx.font="clamp(14px, 3vw, 18px) Arial, sans-serif",this.ctx.fillStyle="#ccc",this.ctx.fillText("(Odśwież stronę, aby zagrać ponownie)",this.canvas.width/2,this.canvas.height-50))}}class b{constructor(e){this.game=e,this.handleAnswer=this.handleAnswer.bind(this),this.handleFloorSelection=this.handleFloorSelection.bind(this)}update(e){this.game.gameState===i.PLAYING&&this.updatePlayingState(e)}updatePlayingState(e){const t=this.game.character;if(!this.game.level?.currentMap||!t||!this.game.inputManager)return;const{moved:o}=this.handleMovement();t&&"function"==typeof t.updateAnimation&&t.updateAnimation(e),o||this.game.gameState!==i.PLAYING||this.handleInteractions()}handleMovement(){const e=this.game.character,t=this.game.level.currentMap,i=this.game.inputManager;if(!e||!t||!i)return{moved:!1};const o=i.getInputDirection();let a=o.x*e.speed,n=o.y*e.speed,r=0,l=0,c=!1;if(0!==a||0!==n){const t=0!==a&&!this.checkCollision(e.x+a,e.y),i=0!==n&&!this.checkCollision(e.x,e.y+n);t&&(r=a),i&&(l=n),0!==a&&0!==n&&this.checkCollision(e.x+a,e.y+n)&&(t&&!i?l=0:i&&!t?r=0:t||i||(r=0,l=0)),0===r&&0===l||(e.x+=r,e.y+=l,c=!0,Math.abs(r)>=Math.abs(l)?0!==r&&(e.currentDirection=r>0?s.Direction.RIGHT:s.Direction.LEFT):0!==l&&(e.currentDirection=l>0?s.Direction.DOWN:s.Direction.UP))}return e.isMoving=c,{moved:c}}checkCollision(e,t){const i=this.game.level?.currentMap,o=this.game.character;if(!i||!o)return!0;const a=o.getCollisionBox(e,t),s=[{x:a.left,y:a.top},{x:a.right,y:a.top},{x:a.left,y:a.bottom},{x:a.right,y:a.bottom},{x:e,y:a.top},{x:e,y:a.bottom},{x:a.left,y:t+o.renderSize*o.collisionBoxFeetOffsetRatio},{x:a.right,y:t+o.renderSize*o.collisionBoxFeetOffsetRatio}];for(const e of s)if(!i.isWalkable(e.x,e.y))return!0;return!1}handleInteractions(){const e=this.game.level?.currentMap,t=this.game.character;if(!e||!t||this.game.gameState!==i.PLAYING)return;const o=e.findNearbyUnansweredBook(t.x,t.y);o?this.initiateQuestion(o):this.game.liftCooldownActive||e.findNearbyLift(t.x,t.y)&&this.initiateFloorSelection()}initiateQuestion(e){if(this.game.gameState!==i.PLAYING)return;if(this.game.setGameState(i.ASKING_QUESTION),this.game.character&&(this.game.character.isMoving=!1),this.game.currentBookTarget=e,0===this.game.availableQuestions.length&&(this.game.availableQuestions=[...o],0===this.game.availableQuestions.length))return a.flashMessage("Błąd: Brak dostępnych pytań!","error"),this.game.setGameState(i.PLAYING),void(this.game.currentBookTarget=null);const t=Math.floor(Math.random()*this.game.availableQuestions.length);this.game.currentQuestionData=this.game.availableQuestions.splice(t,1)[0],a.showQuestion(this.game.currentQuestionData)}handleAnswer(e){const{gameState:t,currentQuestionData:o,currentBookTarget:s,level:n}=this.game;if(t!==i.ASKING_QUESTION||!o||!s)return a.hideQuestion(),this.game.currentBookTarget=null,this.game.currentQuestionData=null,void(this.game.gameState!==i.GAME_OVER&&this.game.setGameState(i.PLAYING));if(e===o.correctAnswer){a.flashMessage("Prawidłowo!","success",1500);const e=n?.currentMap?.markBookAsCollected(s);if(e){if(this.game.totalBooksCollectedGlobally++,a.updateScore(this.game.totalBooksCollectedGlobally,this.game.targetBooksToWin),this.game.totalBooksCollectedGlobally>=this.game.targetBooksToWin)return a.hideQuestion(),void this.game._setGameOver(!0)}else a.flashMessage("Błąd zbierania książki!","error")}else a.flashMessage("Nieprawidłowa odpowiedź!","error"),this.game.availableQuestions.push(o);a.hideQuestion(),this.game.currentBookTarget=null,this.game.currentQuestionData=null,this.game.gameState!==i.GAME_OVER&&this.game.setGameState(i.PLAYING)}initiateFloorSelection(){this.game.gameState!==i.PLAYING||this.game.liftCooldownActive||(this.game.setGameState(i.SELECTING_FLOOR),this.game.character&&(this.game.character.isMoving=!1),a.showFloorSelectionUI(this.game.level.minFloor,this.game.level.maxFloor,this.game.level.currentFloor))}handleFloorSelection(e){this.game.gameState===i.SELECTING_FLOOR?(a.hideFloorSelectionUI(),e===this.game.level.currentFloor||e<this.game.level.minFloor||e>this.game.level.maxFloor?this.game.setGameState(i.PLAYING):this.handleLiftTransition(e).catch((e=>{this.game._handleFatalError(`Błąd przejścia na piętro: ${e.message}`)}))):a.hideFloorSelectionUI()}async handleLiftTransition(e){const t=this.game,o=3===t.level?.currentFloor||3===e;if(o&&console.log(`[GameplayManager F${e} handleLiftTransition] Starting transition. Cooldown: ${t.liftCooldownActive}`),t.gameState===i.SELECTING_FLOOR&&!t.liftCooldownActive){t.setGameState(i.TRANSITIONING),t.character&&(t.character.isMoving=!1),a.hideQuestion(),a.hideFloorSelectionUI(),t.liftCooldownActive=!0,a.flashMessage(`Przejście na piętro ${e}...`,"info",1800);try{await t.level.loadFloor(e,t.canvas.width,t.canvas.height);const i=t.level.currentMap;if(!i)throw new Error(`Map object is null for floor ${e}.`);const a=i.getLiftPosition();if(!a)throw new Error(`No lift position data on loaded floor ${e}!`);o&&console.log(`  [GM F${e} LiftTransition] Lift tile: (${a.tileX},${a.tileY}), World:(${a.x.toFixed(1)},${a.y.toFixed(1)})`);let n=null;if(n=i.getSpawnPointInRoomOfLift(a.tileX,a.tileY,2),o&&console.log(`  [GM F${e} LiftTransition] From getSpawnPointInRoomOfLift:`,n?{x:n.x.toFixed(1),y:n.y.toFixed(1)}:null),n||(o&&console.warn(`  [GM F${e} LiftTransition] getSpawnPointInRoomOfLift failed. Using findNearestWalkableTile...`),n=i.findNearestWalkableTile(a.x,a.y,5,!0,!0),o&&console.log(`  [GM F${e} LiftTransition] From findNearestWalkableTile:`,n?{x:n.x.toFixed(1),y:n.y.toFixed(1)}:null)),!n){o&&console.error(`  [GM F${e} LiftTransition] All spawn methods failed. Using random spawn...`);const t=i.findRandomInitialSpawnPosition();if(!t)throw new Error(`EMERGENCY SPAWN FAILED on floor ${e}!`);n=t,o&&console.log(`  [GM F${e} LiftTransition] From emergencySpawn:`,n?{x:n.x.toFixed(1),y:n.y.toFixed(1)}:null)}t.character.x=n.x,t.character.y=n.y,o&&console.log(`  [GM F${e} LiftTransition] Final landing: (${t.character.x.toFixed(1)}, ${t.character.y.toFixed(1)})`),t.character.currentDirection=s.Direction.DOWN,t.character.isMoving=!1,t.renderer?.centerCameraOnCharacter(),this.ensureCharacterIsOnWalkableTile(!1),t.startLiftCooldownTimer()}catch(o){console.error(`[GM F${e} LiftTransition] Error during transition:`,o),t.liftCooldownActive=!1,t.gameState!==i.GAME_OVER&&t.setGameState(i.PLAYING),t._handleFatalError(`Transition error to floor ${e}: ${o.message||o}`)}}}ensureCharacterIsOnWalkableTile(e=!1){const t=this.game.character,i=this.game.level?.currentMap;if(!t||!i)return;const o=Math.floor(t.x/i.tileSize),a=Math.floor(t.y/i.tileSize),s=o>=0&&o<i.cols&&a>=0&&a<i.rows?i.map[a]?.[o]:0,n=i.isWalkable(t.x,t.y)&&(!(3===s)||e),r=this.checkCollision(t.x,t.y);if(r||!n){const e=3===this.game.level?.currentFloor;e&&console.warn(`[GameplayManager F${this.game.level.currentFloor} AntiStuck] Char at (${t.x.toFixed(1)},${t.y.toFixed(1)}) -> tile (${o},${a}) needs nudge. Colliding:${r}, SafeStand:${n}`);const s=i.findNearestWalkableTile(t.x,t.y,8,!0,!0);if(s)e&&console.log(`  [AntiStuck] Nudging to safe spot: (${s.x.toFixed(1)},${s.y.toFixed(1)})`),t.x=s.x,t.y=s.y,this.game.renderer?.centerCameraOnCharacter();else{e&&console.error("  [AntiStuck] CRITICAL: Could not find any safe spot to nudge. Trying random.");const o=i.findRandomInitialSpawnPosition();o?(e&&console.warn(`  [AntiStuck] Emergency nudge to random: (${o.x.toFixed(1)},${o.y.toFixed(1)})`),t.x=o.x,t.y=o.y,this.game.renderer?.centerCameraOnCharacter()):(e&&console.error("  [AntiStuck] EVEN RANDOM SPAWN FAILED! Game might be broken."),this.game._handleFatalError("Anti-Stuck system failed critically."))}}}}const C={track1:e.p+"assets/audio/back126c4c9e8849503fadb12.mp3",track2:e.p+"assets/audio/back2ddba92be3cd8ac98633a.mp3",track3:e.p+"assets/audio/back381530afe1194de9f2bb1.mp3"},k=["track1","track2","track3"];class z{constructor(){this.musicVolume=.5,this.currentMusicElement=null,this.currentTrackKey=null,this.isMusicPlaying=!1;const e=localStorage.getItem("musicVolume");null!==e&&(this.musicVolume=parseFloat(e)),this.audioElements={},this._preloadTracks()}_preloadTracks(){console.log("[AudioManager] Preloading tracks from imported sources...");for(const e in C)if(C.hasOwnProperty(e)){const t=C[e],i=new Audio(t);i.preload="auto",this.audioElements[e]=i,console.log(`  Preloaded ${e} from ${t}`)}}setMusicVolume(e){this.musicVolume=Math.max(0,Math.min(1,e)),this.currentMusicElement&&(this.currentMusicElement.volume=this.musicVolume),localStorage.setItem("musicVolume",this.musicVolume.toString()),console.log(`[AudioManager] Music volume set to: ${this.musicVolume}`)}getMusicVolume(){return this.musicVolume}playMusic(e,t=!0){if(!this.audioElements[e]){if(console.warn(`[AudioManager] Track "${e}" not found or not preloaded.`),!C[e])return void console.error(`[AudioManager] Source for track "${e}" not defined in MUSIC_SOURCES.`);this.audioElements[e]=new Audio(C[e])}this.isMusicPlaying&&this.currentTrackKey===e||(this.stopMusic(),this.currentMusicElement=this.audioElements[e],this.currentMusicElement.volume=this.musicVolume,this.currentMusicElement.loop=t,this.currentTrackKey=e,this.currentMusicElement.play().then((()=>{this.isMusicPlaying=!0,console.log(`[AudioManager] Playing music: ${e} (Volume: ${this.currentMusicElement.volume})`)})).catch((t=>{console.error(`[AudioManager] Error playing "${e}":`,t),console.error(`  Playback failure details: userInteracted (check Menu.js), document.hasFocus(): ${document.hasFocus()}`),this.isMusicPlaying=!1,this.currentMusicElement=null,this.currentTrackKey=null})))}stopMusic(){this.currentMusicElement&&(this.currentMusicElement.pause(),this.currentMusicElement.currentTime=0,this.isMusicPlaying=!1,console.log(`[AudioManager] Stopped music: ${this.currentTrackKey}`))}changeTrackForFloor(e){const t=Math.max(0,e-1)%k.length,i=k[t];i?(console.log(`[AudioManager] Floor ${e} -> Music track: ${i}`),this.playMusic(i)):console.warn(`[AudioManager] No track found for floor index ${t}.`)}startInitialMusic(e=1){console.log("[AudioManager] Attempting to start initial music..."),this.changeTrackForFloor(e)}}const E=e.p+"assets/images/character_red9229918d5325fcdf2e6e.png",I=e.p+"assets/images/character_blue7b9b140f7eb486e8a968.png",x=e.p+"assets/images/character_yellowff53afbc44f903d97313.png",L=e.p+"assets/images/character_green007c77c97eef8cbb1e94.png",T=e.p+"assets/images/booka54431ef16a38389c12e.png";class ${static CREATOR_NAMES=["Rafał","Dima","Venia","Kacper"];static CLASS_ATTENDING_INFO="Klasa 2P2T / Projektowanie stron internetowych";constructor(e){console.log(`[Game] Initializing with character: ${e}`),this.characterColor=e,this._gameState=i.LOADING,this.isRunning=!1,this.totalBooksCollectedGlobally=0,this.targetBooksToWin=15,this.availableQuestions=[],this.currentBookTarget=null,this.currentQuestionData=null,this.liftCooldownActive=!1,this.liftCooldownTimer=null,this.canvas=null,this.ctx=null,this.character=null,this.level=null,this.inputManager=null,this.renderer=null,this.gameplayManager=null,this.audioManager=null,this.sprites={red:E,blue:I,yellow:x,green:L},this.bookImage=null,this.gameLoop=this.gameLoop.bind(this),this._handleFatalError=this._handleFatalError.bind(this),this._boundKeyDownHandler=null,this._boundKeyUpHandler=null;try{this._initializeCoreComponents(),this.audioManager=new z,console.log("[Game] AudioManager created."),this.gameplayManager=new b(this),console.log("[Game] GameplayManager created."),this.renderer=new v(this);const{canvas:e,ctx:t}=this.renderer.initializeCanvas();this.canvas=e,this.ctx=t,console.log("[Game] Renderer and Canvas initialized."),this._initializeUIManager(),console.log("[Game] UIManager setup initiated."),this._addEventListeners(),this._loadAssetsAndThenStartLogic().then((()=>{console.log("[Game] Async loading and game logic start sequence completed.")})).catch((e=>{console.error("[Game] Unhandled error from _loadAssetsAndThenStartLogic in constructor:",e);const t=a.getLoadingOverlay();t&&t.classList.remove("visible")})),a.initializeTimer()}catch(e){console.error("[Game] Synchronous core initialization failed:",e),alert(`Critical initialization error: ${e.message}. Game cannot start.`),this._handleFatalError(`Initialization error: ${e.message}`,!1)}}get gameState(){return this._gameState}setGameState(e){this._gameState!==e&&(console.log(`[Game State] ${this._gameState} -> ${e}`),this._gameState=e)}_initializeCoreComponents(){this.inputManager=new t,this.level=new S(1,3)}_initializeUIManager(){if(!this.gameplayManager)throw new Error("[Game] GameplayManager is NOT defined when _initializeUIManager is called!");if(!this.inputManager)throw new Error("[Game] InputManager is NOT defined when _initializeUIManager is called!");a.setGameplayManager(this.gameplayManager),a.initializeUI(this.inputManager)}_addEventListeners(){window.addEventListener("resize",(()=>this.renderer?.resizeCanvas()))}async _loadAssetsAndThenStartLogic(){const e=a.getLoadingOverlay();try{this.setGameState(i.LOADING),await this._loadAssets(),await this._startGameLogic(),e&&e.classList.remove("visible")}catch(t){throw console.error("[Game] Asset loading or game logic start failed:",t),e&&e.classList.remove("visible"),this._handleFatalError(`Asset/Start Logic Error: ${t.message}`),t}}async _loadAssets(){console.log("[Game] Loading assets...");const e=[],t=this.sprites[this.characterColor]||this.sprites.red;if(!this.ctx)throw new Error("Canvas context not available for Character creation.");this.character=new s(this.ctx,t,{speed:3,frameSize:32,scale:2,animationSpeed:150,frameCount:4}),e.push(new Promise(((e,i)=>{this.character.sprite.onload=()=>{console.log(`  [Assets] Character sprite loaded: ${t}`),e()},this.character.sprite.onerror=e=>i(new Error(`Failed to load character sprite: ${t}. Details: ${e}`))}))),T?(this.bookImage=new Image,this.bookImage.src=T,e.push(new Promise((e=>{this.bookImage.onload=()=>{console.log(`  [Assets] Book image loaded: ${T}`),e()},this.bookImage.onerror=()=>{console.warn(` [Assets] Failed to load book image: ${T}. Using fallback rendering.`),this.bookImage=null,e()}})))):(console.warn("[Assets] No book sprite path provided. Book will use fallback rendering."),this.bookImage=null),await Promise.all(e),console.log("[Game] All assets loaded successfully.")}async _startGameLogic(){if(console.log("[Game] Starting core game logic..."),a.startTimer(),!(this.level&&this.character&&this.canvas&&this.renderer&&this.gameplayManager&&this.audioManager))throw new Error("Cannot start game - essential components are missing.");this.setGameState(i.LOADING_LEVEL);try{await this.level.loadFloor(this.level.minFloor,this.canvas.width,this.canvas.height);const e=this.level.currentMap;if(!e)throw new Error("Failed to load initial map. Map object is null.");const t=e.findRandomInitialSpawnPosition();if(!t)throw new Error("Failed to find a valid starting position on the map!");this.character.x=t.x,this.character.y=t.y,this.character.currentDirection=s.Direction.DOWN,this.character.isMoving=!1,this.gameplayManager.ensureCharacterIsOnWalkableTile(!1),this.totalBooksCollectedGlobally=0,this.availableQuestions=[...o],this.liftCooldownActive=!1,clearTimeout(this.liftCooldownTimer),this.liftCooldownTimer=null,this.currentBookTarget=null,this.currentQuestionData=null,this.renderer.centerCameraOnCharacter(),a.updateScore(this.totalBooksCollectedGlobally,this.targetBooksToWin),a.showGameUI(),this._boundKeyDownHandler=this.handleKeyDown.bind(this),this._boundKeyUpHandler=this.handleKeyUp.bind(this),window.addEventListener("keydown",this._boundKeyDownHandler),window.addEventListener("keyup",this._boundKeyUpHandler),this.audioManager.startInitialMusic(this.level.currentFloor),console.log(`[Game] Initial music started for floor ${this.level.currentFloor}`),a.startTimer(),this.setGameState(i.PLAYING),this.isRunning||(this.isRunning=!0,requestAnimationFrame(this.gameLoop),console.log("[Game] Game logic started. Loop is running."))}catch(e){throw console.error("[Game] Error during _startGameLogic:",e),this._handleFatalError(`Level start process error: ${e.message}`),e}}_setGameOver(e=!0){this.gameState!==i.GAME_OVER&&(this.setGameState(i.GAME_OVER),this.isRunning=!1,this.character&&(this.character.isMoving=!1),clearTimeout(this.liftCooldownTimer),this.audioManager&&this.audioManager.stopMusic(),this._boundKeyDownHandler&&window.removeEventListener("keydown",this._boundKeyDownHandler),this._boundKeyUpHandler&&window.removeEventListener("keyup",this._boundKeyUpHandler),this._boundKeyDownHandler=null,this._boundKeyUpHandler=null,a.stopTimer(e),a.showGameOverScreen(e,$.CREATOR_NAMES,$.CLASS_ATTENDING_INFO),a.stopTimer(e),console.log(`[Game] Game Over. Win: ${e}`))}stopGame(){console.log("[Game] Explicit stopGame requested."),this._setGameOver(!1),console.log("[Game] Game stopped.")}_handleFatalError(e,t=!0){console.error("[Game] FATAL ERROR:",e),t&&this.gameState!==i.GAME_OVER&&(a.flashMessageContainer&&a.flashMessage?a.flashMessage(`FATAL ERROR: ${e}`,"error",15e3):alert(`FATAL ERROR: ${e}`)),this.gameState!==i.GAME_OVER&&this._setGameOver(!1)}handleKeyDown(e){if(this.gameState!==i.PLAYING||!this.inputManager)return;let t=!1;const o=e.key.toLowerCase();["arrowup","w"].includes(o)?(this.inputManager.setKey("up",!0),t=!0):["arrowdown","s"].includes(o)?(this.inputManager.setKey("down",!0),t=!0):["arrowleft","a"].includes(o)?(this.inputManager.setKey("left",!0),t=!0):["arrowright","d"].includes(o)&&(this.inputManager.setKey("right",!0),t=!0),t&&e.preventDefault()}handleKeyUp(e){if(!this.inputManager)return;const t=e.key.toLowerCase();["arrowup","w"].includes(t)?this.inputManager.setKey("up",!1):["arrowdown","s"].includes(t)?this.inputManager.setKey("down",!1):["arrowleft","a"].includes(t)?this.inputManager.setKey("left",!1):["arrowright","d"].includes(t)&&this.inputManager.setKey("right",!1)}gameLoop(e){this.isRunning&&this.gameState!==i.GAME_OVER&&(this.gameplayManager?.update(e),this.renderer?.centerCameraOnCharacter(),this.renderer?.drawFrame(),requestAnimationFrame(this.gameLoop))}startLiftCooldownTimer(){clearTimeout(this.liftCooldownTimer),console.log("[Game] Starting lift cooldown timer: 2000ms."),this.liftCooldownTimer=setTimeout((()=>{this.liftCooldownActive=!1,this.liftCooldownTimer=null,this.gameState===i.TRANSITIONING?(this.setGameState(i.PLAYING),a.flashMessage(`Arrived at floor ${this.level?.currentFloor}`,"success",1500)):console.warn(`[GameTimer] Lift cooldown ended, but game state is ${this.gameState}. No state change applied.`)}),2e3)}}let F=null;class A{constructor(e){this.characterImageSources=e,this.selectedCharacter=null,this.userInteracted=!1,this.overlay=null,this.audioManagerInstance=null,console.log("[Menu] Constructor called. Initializing elements..."),this.initializeElements(),this.characterPanel?this.setupCharacterImages():console.error("[Menu Constructor] CRITICAL: this.characterPanel is null AFTER initializeElements. Cannot setup images."),console.log("[Menu] Adding event listeners..."),this.addEventListeners(),console.log("[Menu] Instance created.")}setAudioManager(e){this.audioManagerInstance=e,console.log("[Menu] AudioManager instance received."),this.musicVolume&&this.audioManagerInstance&&(this.musicVolume.value=100*this.audioManagerInstance.getMusicVolume())}initializeElements(){this.menuContainer=document.querySelector(".menu-container"),this.menuContainer||console.error("[Menu Init] CRITICAL: .menu-container not found!"),this.settingsButton=document.querySelector(".settings-button"),this.playButton=document.querySelector(".play-button"),this.characterButton=document.querySelector(".character-button"),this.playButton?this.playButton.disabled=!0:console.warn("[Menu Init] .play-button not found."),this.characterButton||console.warn("[Menu Init] .character-button not found."),this.settingsPanel=document.querySelector(".settings-panel"),this.settingsPanel?(this.settingsPanel.parentNode!==document.body&&document.body.appendChild(this.settingsPanel),this.musicVolume=this.settingsPanel.querySelector("#music-volume"),this.sfxVolume=this.settingsPanel.querySelector("#sfx-volume"),this.closeSettingsButton=this.settingsPanel.querySelector(".panel-close-button"),this.musicVolume&&this.audioManagerInstance&&(this.musicVolume.value=100*this.audioManagerInstance.getMusicVolume())):console.warn("[Menu Init] .settings-panel not found."),this.characterPanel=document.querySelector(".character-panel"),this.characterPanel?(this.characterPanel.parentNode!==document.body&&document.body.appendChild(this.characterPanel),this.characterGrid=this.characterPanel.querySelector(".character-grid"),this.closeCharacterPanelButton=this.characterPanel.querySelector(".panel-close-button")):console.error("[Menu Init] CRITICAL: .character-panel not found during initialization!"),this.selectedCharacterDisplay=document.createElement("div"),this.selectedCharacterDisplay.className="selected-character-display";const e=this.menuContainer?this.menuContainer.querySelector(".main-menu-buttons"):null;this.playButton&&this.playButton.parentNode?this.playButton.parentNode.insertBefore(this.selectedCharacterDisplay,this.playButton):e?e.insertBefore(this.selectedCharacterDisplay,e.children[1]||null):this.menuContainer?this.menuContainer.appendChild(this.selectedCharacterDisplay):console.error("[Menu Init] Cannot append selectedCharacterDisplay: no suitable parent found."),this.updateSelectedCharacterDisplay()}setupCharacterImages(){if(!this.characterPanel)return;if(!this.characterImageSources)return;const e=this.characterPanel.querySelectorAll(".character-card");0!==e.length&&e.forEach((e=>{const t=e.dataset.character,i=e.querySelector(".character-preview img");i&&this.characterImageSources[t]&&(i.src=this.characterImageSources[t])}))}handleFirstInteraction(){this.userInteracted||(this.userInteracted=!0,console.log("[Menu] First user interaction detected."))}addEventListeners(){const e=(e,t,i)=>{e&&e.addEventListener(t,(e=>{this.handleFirstInteraction(),i.call(this,e)}))};e(this.settingsButton,"click",this.toggleSettings),e(this.playButton,"click",this.startGame),e(this.characterButton,"click",this.openCharacterModal),this.closeSettingsButton&&this.closeSettingsButton.addEventListener("click",(()=>this.closeSettings())),this.closeCharacterPanelButton&&this.closeCharacterPanelButton.addEventListener("click",(()=>this.closeCharacterModal())),this.musicVolume&&this.musicVolume.addEventListener("input",(e=>{if(this.audioManagerInstance){const t=parseFloat(e.target.value)/100;this.audioManagerInstance.setMusicVolume(t),console.log(`[Menu] Music volume changed via slider to: ${t}`)}else console.warn("[Menu] Music volume slider changed, but AudioManager not available.")})),this.sfxVolume,this.characterGrid&&this.characterGrid.addEventListener("click",(e=>{const t=e.target.closest(".character-card");t&&this.characterPanel&&this.characterPanel.classList.contains("visible")&&(this.handleFirstInteraction(),this.selectCharacter(t))}))}openCharacterModal(){this.characterPanel&&this.characterGrid&&(this.characterPanel.classList.add("visible"),this.settingsPanel?.classList.contains("visible")&&this.closeSettings(),this.overlay||(this.overlay=document.createElement("div"),this.overlay.className="character-modal-overlay",this.overlay.addEventListener("click",(e=>{e.target===this.overlay&&this.closeCharacterModal()})),document.body.appendChild(this.overlay)),this.overlay.classList.add("visible"))}closeCharacterModal(){this.characterPanel&&this.characterPanel.classList.remove("visible"),this.overlay&&this.overlay.classList.remove("visible")}selectCharacter(e){if(!this.characterGrid||!e?.dataset?.character)return;const t=e.dataset.character;this.characterGrid.querySelectorAll(".character-card").forEach((e=>e.classList.remove("selected"))),e.classList.add("selected"),this.selectedCharacter=t,this.playButton&&(this.playButton.disabled=!1),this.updateSelectedCharacterDisplay(),this.closeCharacterModal()}updateSelectedCharacterDisplay(){if(this.selectedCharacterDisplay)if(this.selectedCharacter&&this.characterImageSources&&this.characterImageSources[this.selectedCharacter]){const e=this.selectedCharacter,t=this.characterImageSources[e];let i=e.charAt(0).toUpperCase()+e.slice(1)+" Student";if(this.characterGrid){const t=this.characterGrid.querySelector(`.character-card[data-character="${e}"] h3`);t&&(i=t.textContent)}this.selectedCharacterDisplay.innerHTML=`<img src="${t}" alt="${i}" style="width:32px;height:32px;vertical-align:middle;margin-right:8px; border-radius:50%; object-fit:cover; background-color: #444;"> <span style="font-weight:bold;">${i}</span>`}else this.selectedCharacterDisplay.innerHTML='<span style="color:#aaa;">No character selected</span>'}toggleSettings(){this.settingsPanel&&(this.settingsPanel.classList.contains("visible")?this.closeSettings():this.openSettings())}openSettings(){this.settingsPanel&&(this.settingsPanel.classList.add("visible"),this.characterPanel?.classList.contains("visible")&&this.closeCharacterModal(),this.musicVolume&&this.audioManagerInstance&&(this.musicVolume.value=100*this.audioManagerInstance.getMusicVolume()))}closeSettings(){this.settingsPanel&&this.settingsPanel.classList.contains("visible")&&this.settingsPanel.classList.remove("visible")}async startGame(){if(!this.selectedCharacter)return void a.flashMessage("Please select a character first!","warning",2500);const e=a.getLoadingOverlay();if(e&&e.classList.add("visible"),!this.menuContainer)return void(e&&e.classList.remove("visible"));this.menuContainer.style.display="none";const t=document.getElementById("game-canvas");if(!t)return console.error("[Menu] CRITICAL: #game-canvas not found!"),this.menuContainer&&(this.menuContainer.style.display="flex"),void(e&&e.classList.remove("visible"));t.style.display="block";try{F&&"function"==typeof F.stopGame&&F.stopGame(),F=new $(this.selectedCharacter),F&&F.audioManager?this.setAudioManager(F.audioManager):console.warn("[Menu startGame] Failed to get AudioManager from new Game instance to set it in Menu.")}catch(i){console.error("[Menu] Critical error during game initialization:",i),a.flashMessage(`Game Start Failed: ${i.message}`,"error",1e4),this.menuContainer&&(this.menuContainer.style.display="flex"),t&&(t.style.display="none"),e&&e.classList.remove("visible"),F=null}}}const G=e.p+"assets/images/redc0823efecc8ece1a10c4.png",P=e.p+"assets/images/bluea60b5a2890283d3db0d0.png",O=e.p+"assets/images/yellowe7fd8d3003d4e49a0ad5.png",R=e.p+"assets/images/green1ba3e373f73ba58a2658.png";document.addEventListener("DOMContentLoaded",(()=>{console.log("[main.js] DOMContentLoaded. Initializing Menu..."),new A({red:G,blue:P,yellow:O,green:R})}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwibWFwcGluZ3MiOiJtQkFDQSxJQUFJQSxFQUFzQixDQUFDLEVDRDNCQSxFQUFvQkMsRUFBSSxXQUN2QixHQUEwQixpQkFBZkMsV0FBeUIsT0FBT0EsV0FDM0MsSUFDQyxPQUFPQyxNQUFRLElBQUlDLFNBQVMsY0FBYixFQUNoQixDQUFFLE1BQU9DLEdBQ1IsR0FBc0IsaUJBQVhDLE9BQXFCLE9BQU9BLE1BQ3hDLENBQ0EsQ0FQdUIsRyxNQ0F4QixJQUFJQyxFQUNBUCxFQUFvQkMsRUFBRU8sZ0JBQWVELEVBQVlQLEVBQW9CQyxFQUFFUSxTQUFXLElBQ3RGLElBQUlDLEVBQVdWLEVBQW9CQyxFQUFFUyxTQUNyQyxJQUFLSCxHQUFhRyxJQUNiQSxFQUFTQyxlQUFrRSxXQUFqREQsRUFBU0MsY0FBY0MsUUFBUUMsZ0JBQzVETixFQUFZRyxFQUFTQyxjQUFjRyxNQUMvQlAsR0FBVyxDQUNmLElBQUlRLEVBQVVMLEVBQVNNLHFCQUFxQixVQUM1QyxHQUFHRCxFQUFRRSxPQUVWLElBREEsSUFBSUMsRUFBSUgsRUFBUUUsT0FBUyxFQUNsQkMsR0FBSyxLQUFPWCxJQUFjLGFBQWFZLEtBQUtaLEtBQWFBLEVBQVlRLEVBQVFHLEtBQUtKLEdBRTNGLENBSUQsSUFBS1AsRUFBVyxNQUFNLElBQUlhLE1BQU0seURBQ2hDYixFQUFZQSxFQUFVYyxRQUFRLFNBQVUsSUFBSUEsUUFBUSxPQUFRLElBQUlBLFFBQVEsUUFBUyxJQUFJQSxRQUFRLFlBQWEsS0FDMUdyQixFQUFvQnNCLEVBQUlmLEMsS0NqQmpCLE1BQU1nQixFQUNYLFdBQUFDLEdBQ0VyQixLQUFLc0IsS0FBTyxDQUNWQyxJQUFJLEVBQ0pDLE1BQU0sRUFDTkMsTUFBTSxFQUNOQyxPQUFPLEVBRVgsQ0FFQSxNQUFBQyxDQUFPQyxFQUFLQyxHQUNON0IsS0FBS3NCLEtBQUtRLGVBQWVGLEtBQzNCNUIsS0FBS3NCLEtBQUtNLEdBQU9DLEVBRXJCLENBRUEsaUJBQUFFLEdBQ0UsSUFBSUMsRUFBSSxFQUNKQyxFQUFJLEVBS1IsT0FKSWpDLEtBQUtzQixLQUFLQyxLQUFJVSxHQUFLLEdBQ25CakMsS0FBS3NCLEtBQUtFLE9BQU1TLEdBQUssR0FDckJqQyxLQUFLc0IsS0FBS0csT0FBTU8sR0FBSyxHQUNyQmhDLEtBQUtzQixLQUFLSSxRQUFPTSxHQUFLLEdBQ25CLENBQUVBLElBQUdDLElBQ2QsRUN0QkssTUFPTUMsRUFBWSxDQUN2QkMsUUFBUyxVQUNUQyxLQUFNLE9BQ05DLFFBQVMsVUFDVEMsZ0JBQWlCLGtCQUNqQkMsZ0JBQWlCLGtCQUNqQkMsY0FBZSxnQkFDZkMsVUFBVyxhQVlBQyxFQUFZLENBQ3ZCLENBQ0VDLFNBQ0UsK0hBQ0ZDLFFBQVMsQ0FBQyxTQUFVLE9BQVEsYUFBYyxNQUMxQ0MsY0FBZSxHQUVqQixDQUNFRixTQUFVLHlCQUNWQyxRQUFTLENBQ1AsNEJBQ0EsaUNBQ0EseUNBQ0EsNkJBRUZDLGNBQWUsR0FFakIsQ0FDRUYsU0FBVSx1RUFDVkMsUUFBUyxDQUFDLGtCQUFtQixlQUFnQixlQUFnQixpQkFDN0RDLGNBQWUsR0FFakIsQ0FDRUYsU0FBVSxtRUFDVkMsUUFBUyxDQUFDLGFBQWMsYUFBYyxjQUFlLGtCQUNyREMsY0FBZSxHQUVqQixDQUNFRixTQUNFLHFHQUNGQyxRQUFTLENBQ1AsMEJBQ0EsNkJBQ0EsMEJBQ0EsMEJBRUZDLGNBQWUsR0FFakIsQ0FDRUYsU0FBVSxrQkFDVkMsUUFBUyxDQUNQLHlCQUNBLHdCQUNBLDBCQUNBLDBCQUVGQyxjQUFlLEdBRWpCLENBQ0VGLFNBQVUsNEVBQ1ZDLFFBQVMsQ0FBQyxLQUFNLElBQUssTUFBTyxNQUM1QkMsY0FBZSxHQUVqQixDQUNFRixTQUFVLDhFQUNWQyxRQUFTLENBQUMsbUJBQW9CLE1BQU8sWUFBYSxPQUNsREMsY0FBZSxHQUVqQixDQUNFRixTQUNFLDhJQUNGQyxRQUFTLENBQUMsTUFBTyxRQUFTLGFBQWMsMEJBQ3hDQyxjQUFlLEdBRWpCLENBQ0VGLFNBQVUsa0JBQ1ZDLFFBQVMsQ0FDUCxpQ0FDQSxvQ0FDQSxnQ0FDQSxnQ0FFRkMsY0FBZSxHQUVqQixDQUNFRixTQUFVLDREQUNWQyxRQUFTLENBQ1Asd0VBQ0EscURBQ0Esc0VBQ0EsNERBRUZDLGNBQWUsR0FFakIsQ0FDRUYsU0FBVSxrRUFDVkMsUUFBUyxDQUNQLDhCQUNBLHdEQUNBLDJCQUNBLHVCQUVGQyxjQUFlLEdBRWpCLENBQ0VGLFNBQ0UsNEdBQ0ZDLFFBQVMsQ0FBQyx3QkFBeUIsd0JBQXlCLGFBQWMsZ0JBQzFFQyxjQUFlLEdBRWpCLENBQ0VGLFNBQ0UsMkZBQ0ZDLFFBQVMsQ0FBQyxPQUFRLE1BQU8sTUFBTyx3Q0FDaENDLGNBQWUsR0FFakIsQ0FDRUYsU0FDRSwrR0FDRkMsUUFBUyxDQUFDLFVBQVcsWUFBYSxpQkFBa0IsYUFDcERDLGNBQWUsR0FFakIsQ0FDRUYsU0FDRSxrR0FDRkMsUUFBUyxDQUFDLG9CQUFxQixZQUFhLE1BQU8sYUFDbkRDLGNBQWUsR0FFakIsQ0FDRUYsU0FBVSw0Q0FDVkMsUUFBUyxDQUNQLDRDQUNBLGlDQUNBLDRCQUNBLHdCQUVGQyxjQUFlLEdBRWpCLENBQ0VGLFNBQVUsNkVBQ1ZDLFFBQVMsQ0FDUCxpRUFDQSwrRkFDQSw2QkFDQSxrRkFFRkMsY0FBZSxHQUVqQixDQUNFRixTQUFVLHNFQUNWQyxRQUFTLENBQUMsc0JBQXVCLHFCQUFzQixlQUFnQixxQkFDdkVDLGNBQWUsR0FFakIsQ0FDRUYsU0FBVSw4REFDVkMsUUFBUyxDQUNQLDJIQUNBLDZDQUNBLDBDQUNBLDZDQUVGQyxjQUFlLEdBRWpCLENBQ0VGLFNBQVUsa0RBQ1ZDLFFBQVMsQ0FDUCxpQ0FDQSw0REFDQSx5QkFDQSwwQkFFRkMsY0FBZSxHQUVqQixDQUNFRixTQUNFLDRGQUNGQyxRQUFTLENBQ1AsdUJBQ0EsNkJBQ0Esb0NBQ0EsOEJBRUZDLGNBQWUsR0FFakIsQ0FDRUYsU0FBVSw4RUFDVkMsUUFBUyxDQUNQLDZCQUNBLDRFQUNBLCtCQUNBLHFDQUVGQyxjQUFlLEdBRWpCLENBQ0VGLFNBQ0UsMElBQ0ZDLFFBQVMsQ0FBQyxPQUFRLE1BQU8sTUFBTyxPQUNoQ0MsY0FBZSxHQUVqQixDQUNFRixTQUFVLHlFQUNWQyxRQUFTLENBQUMsU0FBVSxTQUFVLFFBQVMsOEJBQ3ZDQyxjQUFlLEdBRWpCLENBQ0VGLFNBQVUsa0ZBQ1ZDLFFBQVMsQ0FDUCxvQkFDQSx1Q0FDQSx1RkFDQSxxQkFFRkMsY0FBZSxHQUVqQixDQUNFRixTQUNFLHVHQUNGQyxRQUFTLENBQUMsWUFBYSxjQUFlLCtCQUFnQyxnQkFDdEVDLGNBQWUsR0FFakIsQ0FDRUYsU0FBVSx5RUFDVkMsUUFBUyxDQUNQLHdCQUNBLGlGQUNBLG1DQUNBLG9DQUVGQyxjQUFlLEdBRWpCLENBQ0VGLFNBQ0UsOEZBQ0ZDLFFBQVMsQ0FBQyxPQUFRLE1BQU8sT0FBUSxTQUNqQ0MsY0FBZSxHQUVqQixDQUNFRixTQUFVLHNDQUNWQyxRQUFTLENBQ1AsdUNBQ0EsWUFDQSx1RUFDQSw0Q0FFRkMsY0FBZSxJQ3JRWixNQUFNQyxFQUNYQyxvQkFBc0IsS0FDdEJBLHFCQUF1QixLQUN2QkEseUJBQTJCLEtBQzNCQSx1QkFBeUIsS0FDekJBLDJCQUE2QixLQUM3QkEsOEJBQWdDLEtBQ2hDQSwyQkFBNkIsS0FDN0JBLDZCQUErQixLQUMvQkEsNkJBQStCLEtBQy9CQSw2QkFBK0IsS0FHL0JBLDZCQUErQixLQUMvQkEsNEJBQThCLEtBQzlCQSwrQkFBaUMsS0FDakNBLHdCQUEwQixLQUMxQkEsaUNBQW1DLEtBRW5DQSwrQkFBaUMsS0FDakNBLDRCQUE4QixDQUFDLEVBRy9CQSxvQkFBc0IsS0FDdEJBLDBCQUE0QixLQUM1QkEscUJBQXVCLEVBQ3ZCQSx1QkFBeUIsR0FLekIseUJBQU9DLENBQW1CQyxHQUNuQkEsR0FJTGpELEtBQUtrRCx3QkFBMEJELEVBQy9CRSxRQUFRQyxJQUFJLGlGQUpWRCxRQUFRRSxNQUFNLDhFQUtsQixDQU1BLG1CQUFPQyxDQUFhQyxHQUNsQkosUUFBUUMsSUFBSSxtRUFDUEcsR0FDSEosUUFBUUUsTUFBTSw2RUFFaEJyRCxLQUFLd0QsZUFBZUQsR0FDcEJ2RCxLQUFLeUQsbUJBQ0x6RCxLQUFLMEQseUJBQ0wxRCxLQUFLMkQsOEJBQ0wzRCxLQUFLNEQsdUJBQ0w1RCxLQUFLNkQsa0JBQ0w3RCxLQUFLOEQsb0JBRUE5RCxLQUFLa0QseUJBQ1JDLFFBQVFZLEtBQ04sK0tBSUpaLFFBQVFDLElBQUksdURBQ2QsQ0FFQSxxQkFBT0ksQ0FBZUQsR0FDcEJ2RCxLQUFLZ0Usa0JBQW9CekQsU0FBUzBELGVBQWUsc0JBQzVDakUsS0FBS2dFLG9CQUNSaEUsS0FBS2dFLGtCQUFvQnpELFNBQVMyRCxjQUFjLE9BQ2hEbEUsS0FBS2dFLGtCQUFrQkcsR0FBSyxxQkFDNUJuRSxLQUFLZ0Usa0JBQWtCSSxVQUFVQyxJQUFJLHNCQUNyQzlELFNBQVMrRCxLQUFLQyxZQUFZdkUsS0FBS2dFLG9CQUVqQ2hFLEtBQUtnRSxrQkFBa0JRLFVBQVksR0FFcEIsQ0FDYixDQUFFQyxVQUFXLEtBQU1DLEtBQU0sSUFBS0MsU0FBVSxNQUN4QyxDQUFFRixVQUFXLE9BQVFDLEtBQU0sSUFBS0MsU0FBVSxRQUMxQyxDQUFFRixVQUFXLFFBQVNDLEtBQU0sSUFBS0MsU0FBVSxTQUMzQyxDQUFFRixVQUFXLE9BQVFDLEtBQU0sSUFBS0MsU0FBVSxTQUdyQ0MsU0FBUSxFQUFHSCxZQUFXQyxPQUFNQyxlQUNqQyxNQUFNRSxFQUFNdEUsU0FBUzJELGNBQWMsVUFNbkMsR0FMQVcsRUFBSUMsVUFBWSxlQUFlTCxJQUMvQkksRUFBSUUsWUFBY0wsRUFDbEJHLEVBQUlHLE1BQU1MLFNBQVdBLEVBQ3JCRSxFQUFJSSxRQUFRUixVQUFZQSxFQUVwQmxCLEVBQWMsQ0FDaEIsTUFBTTJCLEVBQWNoRixJQUNsQnFELEVBQWE1QixPQUFPOEMsR0FBVyxHQUMvQkksRUFBSVQsVUFBVUMsSUFBSSxVQUNsQm5FLEVBQUVpRixnQkFBZ0IsRUFFZEMsRUFBWWxGLElBQ1pxRCxFQUFhakMsS0FBS21ELElBQ3BCbEIsRUFBYTVCLE9BQU84QyxHQUFXLEdBRWpDSSxFQUFJVCxVQUFVaUIsT0FBTyxVQUNyQm5GLEVBQUVpRixnQkFBZ0IsRUFFcEJOLEVBQUlTLGlCQUFpQixhQUFjSixFQUFZLENBQUVLLFNBQVMsSUFDMURWLEVBQUlTLGlCQUFpQixXQUFZRixFQUFVLENBQUVHLFNBQVMsSUFDdERWLEVBQUlTLGlCQUFpQixjQUFlRixFQUFVLENBQUVHLFNBQVMsSUFDekRWLEVBQUlTLGlCQUFpQixZQUFhSixHQUNsQ0wsRUFBSVMsaUJBQWlCLFVBQVdGLEdBQ2hDUCxFQUFJUyxpQkFBaUIsYUFBY0YsRUFDckMsQ0FDQXBGLEtBQUtnRSxrQkFBa0JPLFlBQVlNLEVBQUksSUFHekMsTUFBTVcsRUFBd0JqRixTQUFTMEQsZUFBZSxpQkFDdEQsR0FBS3VCLEVBU0h4RixLQUFLeUYsYUFBZUQsRUFBc0JFLGNBQWMsZ0JBQ3hEMUYsS0FBSzJGLGNBQWdCSCxFQUFzQkUsY0FBYyxpQkFDckQxRixLQUFLeUYsZUFBY3pGLEtBQUt5RixhQUFhVixZQUFjLEtBQ25EL0UsS0FBSzJGLGdCQUFlM0YsS0FBSzJGLGNBQWNaLFlBQWMsU0FaL0IsQ0FDMUIsTUFBTWEsRUFBV3JGLFNBQVMyRCxjQUFjLE9BQ3hDMEIsRUFBU3pCLEdBQUssZ0JBQ2R5QixFQUFTeEIsVUFBVUMsSUFBSSxpQkFDdkJ1QixFQUFTcEIsVUFBWSw0RUFDckJqRSxTQUFTK0QsS0FBS0MsWUFBWXFCLEdBQzFCNUYsS0FBS3lGLGFBQWVHLEVBQVNGLGNBQWMsZ0JBQzNDMUYsS0FBSzJGLGNBQWdCQyxFQUFTRixjQUFjLGdCQUM5QyxDQU1GLENBRUEsdUJBQU9qQyxHQUNMekQsS0FBSzZGLGdCQUFrQnRGLFNBQVMwRCxlQUFlLG9CQUMxQ2pFLEtBQUs2RixrQkFDUjdGLEtBQUs2RixnQkFBa0J0RixTQUFTMkQsY0FBYyxPQUM5Q2xFLEtBQUs2RixnQkFBZ0IxQixHQUFLLG1CQUMxQm5FLEtBQUs2RixnQkFBZ0J6QixVQUFVQyxJQUFJLFlBQ25DckUsS0FBSzZGLGdCQUFnQnJCLFVBQVksaU9BUWpDakUsU0FBUytELEtBQUtDLFlBQVl2RSxLQUFLNkYsa0JBRWpDN0YsS0FBSzhGLG9CQUFzQjlGLEtBQUs2RixnQkFBZ0JILGNBQWMsa0JBQzlEMUYsS0FBSytGLHVCQUF5Qi9GLEtBQUs2RixnQkFBZ0JILGNBQWMsbUJBQzVEMUYsS0FBSzhGLHFCQUF3QjlGLEtBQUsrRix3QkFDckM1QyxRQUFRRSxNQUFNLG1FQUVsQixDQUVBLDZCQUFPSyxHQUNMMUQsS0FBS2dHLG9CQUFzQnpGLFNBQVMwRCxlQUFlLHNCQUM5Q2pFLEtBQUtnRyxzQkFDUmhHLEtBQUtnRyxvQkFBc0J6RixTQUFTMkQsY0FBYyxPQUNsRGxFLEtBQUtnRyxvQkFBb0I3QixHQUFLLHFCQUM5Qm5FLEtBQUtnRyxvQkFBb0I1QixVQUFVQyxJQUFJLFlBQ3ZDckUsS0FBS2dHLG9CQUFvQnhCLFVBQVksb0ZBR3JDakUsU0FBUytELEtBQUtDLFlBQVl2RSxLQUFLZ0csc0JBRWpDaEcsS0FBS2lHLHNCQUF3QmpHLEtBQUtnRyxvQkFBb0JOLGNBQWMsNEJBQy9EMUYsS0FBS2lHLHVCQUNSOUMsUUFBUUUsTUFBTSw2REFFbEIsQ0FFQSxrQ0FBT00sR0FPTCxPQU5BM0QsS0FBS2tHLHNCQUF3QjNGLFNBQVMwRCxlQUFlLDJCQUNoRGpFLEtBQUtrRyx3QkFDUmxHLEtBQUtrRyxzQkFBd0IzRixTQUFTMkQsY0FBYyxPQUNwRGxFLEtBQUtrRyxzQkFBc0IvQixHQUFLLDBCQUNoQzVELFNBQVMrRCxLQUFLQyxZQUFZdkUsS0FBS2tHLHdCQUUxQmxHLEtBQUtrRyxxQkFDZCxDQUVBLG1CQUFPQyxDQUFhQyxFQUFTQyxFQUFPLE9BQVFDLEVBQVcsS0FDckQsTUFBTUMsRUFBWXZHLEtBQUsyRCw4QkFDdkIsSUFBSzRDLEVBRUgsWUFEQXBELFFBQVFFLE1BQU0sK0RBR2hCLE1BQU1tRCxFQUFpQmpHLFNBQVMyRCxjQUFjLE9BQzlDc0MsRUFBZXpCLFlBQWNxQixFQUM3QkksRUFBZTFCLFVBQVksZ0JBQzNCMEIsRUFBZXBDLFVBQVVDLElBQUksU0FBU2dDLEtBQ3RDLE1BQU1JLEVBQVksU0FBU0MsS0FBS0MsU0FBU0MsS0FBS0MsU0FBU0MsU0FBUyxJQUFJQyxPQUFPLEVBQUcsS0FDOUVQLEVBQWVyQyxHQUFLc0MsRUFDcEJGLEVBQVVoQyxZQUFZaUMsR0FDdEJRLHVCQUFzQixLQUNwQlIsRUFBZXBDLFVBQVVDLElBQUksVUFBVSxJQUV6QzRDLGFBQWFqSCxLQUFLa0gscUJBQXFCVCxJQWtCdkN6RyxLQUFLa0gscUJBQXFCVCxHQUFhVSxZQWpCakIsS0FDcEJYLEVBQWVwQyxVQUFVaUIsT0FBTyxXQUNoQyxNQUFNK0IsRUFBdUJDLElBQ0EsWUFBdkJBLEVBQU1DLGNBQXFELGNBQXZCRCxFQUFNQyxlQUN4Q2QsRUFBZWUsWUFBWWYsRUFBZWUsV0FBV0MsWUFBWWhCLFVBQzlEeEcsS0FBS2tILHFCQUFxQlQsR0FDbkMsRUFFRkQsRUFBZWxCLGlCQUFpQixnQkFBaUI4QixFQUFxQixDQUFFSyxNQUFNLElBQzlFTixZQUFXLEtBQ0xYLEVBQWVlLGFBQ2pCZixFQUFla0Isb0JBQW9CLGdCQUFpQk4sR0FDcERaLEVBQWVlLFdBQVdDLFlBQVloQixXQUVqQ3hHLEtBQUtrSCxxQkFBcUJULEVBQVUsR0FDMUMsSUFBSSxHQUV3REgsRUFDbkUsQ0FFQSx3QkFBT3FCLEdBQ0wsSUFBSzNILEtBQUs0SCx3QkFDUjVILEtBQUs0SCxzQkFBd0JySCxTQUFTMEQsZUFBZSxvQkFDaERqRSxLQUFLNEgsdUJBQXVCLENBQy9CNUgsS0FBSzRILHNCQUF3QnJILFNBQVMyRCxjQUFjLE9BQ3BEbEUsS0FBSzRILHNCQUFzQnpELEdBQUssa0JBQ2hDbkUsS0FBSzRILHNCQUFzQjlDLFVBQVksa0JBQ3ZDLE1BQU0rQyxFQUFjdEgsU0FBUzJELGNBQWMsS0FDM0MyRCxFQUFZOUMsWUFBYyxhQUMxQi9FLEtBQUs0SCxzQkFBc0JyRCxZQUFZc0QsR0FDdkN0SCxTQUFTK0QsS0FBS0MsWUFBWXZFLEtBQUs0SCx1QkFDL0J6RSxRQUFRQyxJQUFJLDREQUNkLENBRUYsT0FBT3BELEtBQUs0SCxxQkFDZCxDQUVBLDJCQUFPaEUsR0FDTDVELEtBQUs4SCxzQkFBd0J2SCxTQUFTMEQsZUFBZSxvQkFDaERqRSxLQUFLOEgsdUJBSVY5SCxLQUFLK0gscUJBQXVCL0gsS0FBSzhILHNCQUFzQnBDLGNBQWMsb0JBQ3JFMUYsS0FBS2dJLHdCQUEwQmhJLEtBQUs4SCxzQkFBc0JwQyxjQUFjLGtCQUN4RTFGLEtBQUtpSSxpQkFBbUJqSSxLQUFLOEgsc0JBQXNCcEMsY0FBYyxlQUNqRTFGLEtBQUtrSSwwQkFDSGxJLEtBQUs4SCxzQkFBc0JwQyxjQUFjLDBCQUd4QzFGLEtBQUsrSCxzQkFDTC9ILEtBQUtnSSx5QkFDTGhJLEtBQUtpSSxrQkFDTGpJLEtBQUtrSSwyQkFRUmxJLEtBQUtrSSwwQkFBMEI1QyxpQkFBaUIsU0FBUyxLQUN2RG5GLE9BQU9HLFNBQVM2SCxRQUFRLElBRTFCaEYsUUFBUUMsSUFBSSx1REFUVkQsUUFBUUUsTUFDTixtRkFoQkZGLFFBQVFFLE1BQU0scUVBeUJsQixDQUVBLHlCQUFPK0UsQ0FBbUJDLEVBQU9DLEVBQVcsR0FBSUMsRUFBZ0IsS0FDekR2SSxLQUFLOEgsd0JBQ1IzRSxRQUFRRSxNQUFNLGdEQUNkckQsS0FBSzRELHVCQUNBNUQsS0FBSzhILDBCQUdSTyxHQUNGckksS0FBSytILHFCQUFxQmhELFlBQWMsZ0NBQ3hDL0UsS0FBSytILHFCQUFxQmpELFVBQVksY0FFdEM5RSxLQUFLK0gscUJBQXFCaEQsWUFBYyxZQUN4Qy9FLEtBQUsrSCxxQkFBcUJqRCxVQUFZLGNBR3hDOUUsS0FBS2dJLHdCQUF3QnhELFVBQVksR0FDekM4RCxFQUFTMUQsU0FBUzRELElBQ2hCLE1BQU1DLEVBQUtsSSxTQUFTMkQsY0FBYyxNQUNsQ3VFLEVBQUcxRCxZQUFjeUQsRUFDakJ4SSxLQUFLZ0ksd0JBQXdCekQsWUFBWWtFLEVBQUcsSUFHOUN6SSxLQUFLaUksaUJBQWlCbEQsWUFBY3dELEVBR3BDdkksS0FBSzhELG9CQUVMOUQsS0FBSzhILHNCQUFzQjFELFVBQVVDLElBQUksV0FDekNyRSxLQUFLMEksYUFDTDFJLEtBQUsySSxlQUNMM0ksS0FBSzRJLHVCQUNQLENBRUEseUJBQU9DLEdBQ0Q3SSxLQUFLOEgsdUJBQ1A5SCxLQUFLOEgsc0JBQXNCMUQsVUFBVWlCLE9BQU8sVUFFaEQsQ0FFQSxtQkFBT3lELENBQWFDLEdBQ2xCLEdBQUsvSSxLQUFLNkYsaUJBQW9CN0YsS0FBSzhGLHFCQUF3QjlGLEtBQUsrRix5QkFDOUQ1QyxRQUFRRSxNQUFNLHNDQUNkckQsS0FBS3lELG1CQUNBekQsS0FBSzZGLGlCQUFvQjdGLEtBQUs4RixxQkFBd0I5RixLQUFLK0Ysd0JBR2xFLEdBQUtnRCxFQUFMLENBSUEsSUFDRy9JLEtBQUtrRCx5QkFDK0MsbUJBQTlDbEQsS0FBS2tELHdCQUF3QjhGLGFBT3BDLE9BTEE3RixRQUFRRSxNQUNOLDJGQUVGckQsS0FBS21HLGFBQWEsNkNBQThDLFFBQVMsVUFDekVuRyxLQUFLMkksZUFJUDNJLEtBQUs4RixvQkFBb0JmLFlBQWNnRSxFQUFhcEcsU0FDcEQzQyxLQUFLK0YsdUJBQXVCdkIsVUFBWSxHQUV4Q3VFLEVBQWFuRyxRQUFRZ0MsU0FBUSxDQUFDcUUsRUFBWUMsS0FDeEMsTUFBTUMsRUFBUzVJLFNBQVMyRCxjQUFjLFVBQ3RDaUYsRUFBT3BFLFlBQWNrRSxFQUNyQkUsRUFBT2xFLFFBQVFpRSxNQUFRQSxFQUN2QkMsRUFBTy9FLFVBQVVDLElBQUksaUJBQ3JCOEUsRUFBTzdELGlCQUFpQixTQUFVcEYsSUFDaEMsTUFBTWtKLEVBQWdCQyxTQUFTbkosRUFBRW9KLE9BQU9yRSxRQUFRaUUsTUFBTyxJQUN2RGxKLEtBQUtrRCx3QkFBd0I4RixhQUFhSSxFQUFjLElBRTFEcEosS0FBSytGLHVCQUF1QnhCLFlBQVk0RSxFQUFPLElBRWpEbkosS0FBSzZGLGdCQUFnQnpCLFVBQVVDLElBQUksVUEzQm5DLE1BRkVsQixRQUFRRSxNQUFNLCtEQThCbEIsQ0FFQSxtQkFBT3NGLEdBQ0QzSSxLQUFLNkYsa0JBQ1A3RixLQUFLNkYsZ0JBQWdCekIsVUFBVWlCLE9BQU8sV0FDbENyRixLQUFLOEYsc0JBQXFCOUYsS0FBSzhGLG9CQUFvQmYsWUFBYyxJQUNqRS9FLEtBQUsrRix5QkFBd0IvRixLQUFLK0YsdUJBQXVCdkIsVUFBWSxJQUU3RSxDQUVBLDJCQUFPK0UsQ0FBcUJDLEVBQVVDLEVBQVVDLEdBQzlDLEdBQUsxSixLQUFLZ0cscUJBQXdCaEcsS0FBS2lHLHdCQUNyQzlDLFFBQVFFLE1BQU0sNkNBQ2RyRCxLQUFLMEQseUJBQ0ExRCxLQUFLZ0cscUJBQXdCaEcsS0FBS2lHLHVCQUh6QyxDQUtBLElBQ0dqRyxLQUFLa0QseUJBQ3VELG1CQUF0RGxELEtBQUtrRCx3QkFBd0J5RyxxQkFPcEMsT0FMQXhHLFFBQVFFLE1BQ04sbUdBRUZyRCxLQUFLbUcsYUFBYSw2Q0FBOEMsUUFBUyxVQUN6RW5HLEtBQUs0SSx1QkFJUDVJLEtBQUtpRyxzQkFBc0J6QixVQUFZLEdBQ3ZDLElBQUssSUFBSW9GLEVBQVFKLEVBQVVJLEdBQVNILEVBQVVHLElBQVMsQ0FDckQsTUFBTVQsRUFBUzVJLFNBQVMyRCxjQUFjLFVBQ3RDaUYsRUFBT3BFLFlBQWMsU0FBUzZFLElBQzlCVCxFQUFPL0UsVUFBVUMsSUFBSSxnQkFDckI4RSxFQUFPbEUsUUFBUTJFLE1BQVFBLEVBQ25CQSxJQUFVRixHQUNaUCxFQUFPVSxVQUFXLEVBQ2xCVixFQUFPL0UsVUFBVUMsSUFBSSxZQUVyQjhFLEVBQU83RCxpQkFBaUIsU0FBUyxLQUMvQnRGLEtBQUtrRCx3QkFBd0J5RyxxQkFBcUJDLEVBQU0sSUFHNUQ1SixLQUFLaUcsc0JBQXNCMUIsWUFBWTRFLEVBQ3pDLENBQ0FuSixLQUFLZ0csb0JBQW9CNUIsVUFBVUMsSUFBSSxVQTdCdkMsQ0E4QkYsQ0FFQSwyQkFBT3VFLEdBQ0Q1SSxLQUFLZ0cscUJBQ1BoRyxLQUFLZ0csb0JBQW9CNUIsVUFBVWlCLE9BQU8sVUFFOUMsQ0FFQSxrQkFBT3lFLENBQVlDLEVBQU9ULEdBQ25CdEosS0FBS3lGLGVBQWN6RixLQUFLeUYsYUFBZWxGLFNBQVMwRCxlQUFlLGdCQUMvRGpFLEtBQUsyRixnQkFBZTNGLEtBQUsyRixjQUFnQnBGLFNBQVMwRCxlQUFlLGlCQUNsRWpFLEtBQUt5RixlQUFjekYsS0FBS3lGLGFBQWFWLFlBQWNnRixHQUNuRC9KLEtBQUsyRixnQkFBZTNGLEtBQUsyRixjQUFjWixZQUFjdUUsRUFDM0QsQ0FFQSxpQkFBT1UsR0FDTCxNQUFNQyxFQUFTMUosU0FBUzBELGVBQWUsZ0JBQWtCMUQsU0FBUzBELGVBQWUsY0FDM0VpRyxFQUFnQjNKLFNBQVMwRCxlQUFlLGtCQUN4Q2tHLEVBQWU1SixTQUFTMEQsZUFBZSxpQkFFekNnRyxFQUFRQSxFQUFPakYsTUFBTW9GLFFBQVUsUUFDOUJqSCxRQUFRWSxLQUFLLGlEQUdoQm1HLElBQ0NBLEVBQWM5RixVQUFVaUcsU0FBUyxXQUNGLFNBQWhDSCxFQUFjbEYsTUFBTW9GLFVBRXBCakgsUUFBUVksS0FBSywrRUFDYm1HLEVBQWNsRixNQUFNb0YsUUFBVSxRQUc1QnBLLEtBQUtnRSxrQkFBbUJoRSxLQUFLZ0Usa0JBQWtCSSxVQUFVQyxJQUFJLFdBQzVEbEIsUUFBUVksS0FBSyxxREFFZG9HLEVBQWNBLEVBQWEvRixVQUFVQyxJQUFJLFdBQ3hDbEIsUUFBUVksS0FBSyxnREFFZC9ELEtBQUtzSyxlQUNQdEssS0FBS3NLLGFBQWF0RixNQUFNb0YsUUFBVSxTQUdwQ3BLLEtBQUsySSxlQUNMM0ksS0FBSzRJLHVCQUNMNUksS0FBSzZJLG9CQUNQLENBRUEsaUJBQU9ILEdBQ0wsTUFBTXVCLEVBQVMxSixTQUFTMEQsZUFBZSxnQkFBa0IxRCxTQUFTMEQsZUFBZSxjQUMzRWtHLEVBQWU1SixTQUFTMEQsZUFBZSxpQkFFekNnRyxJQUFRQSxFQUFPakYsTUFBTW9GLFFBQVUsUUFDL0JwSyxLQUFLZ0UsbUJBQW1CaEUsS0FBS2dFLGtCQUFrQkksVUFBVWlCLE9BQU8sV0FDaEU4RSxHQUFjQSxFQUFhL0YsVUFBVWlCLE9BQU8sV0FFNUNyRixLQUFLc0ssZUFDUHRLLEtBQUtzSyxhQUFhdEYsTUFBTW9GLFFBQVUsT0FNdEMsQ0FHQSxzQkFBT3ZHLEdBQ0E3RCxLQUFLc0ssZUFDUnRLLEtBQUtzSyxhQUFlL0osU0FBUzJELGNBQWMsT0FDM0NsRSxLQUFLc0ssYUFBYW5HLEdBQUssYUFDdkJuRSxLQUFLc0ssYUFBYWxHLFVBQVVDLElBQUksY0FDaEM5RCxTQUFTK0QsS0FBS0MsWUFBWXZFLEtBQUtzSyxlQUlqQyxNQUFNQyxFQUFZQyxhQUFhQyxRQUFRLG1CQUN2Q3pLLEtBQUswSyxnQkFBa0JILEVBQVlJLEtBQUtDLE1BQU1MLEdBQWEsR0FHM0R2SyxLQUFLOEQsbUJBQ1AsQ0FFQSxpQkFBTytHLEdBQ0w3SyxLQUFLOEssY0FBZ0JwRSxLQUFLQyxNQUMxQjNHLEtBQUsrSyxhQUNQLENBRUEsa0JBQU9BLEdBQ0wsSUFBSy9LLEtBQUtzSyxlQUFpQnRLLEtBQUs4SyxjQUFlLE9BRS9DLE1BQU1FLEVBQVVwRSxLQUFLZ0QsT0FBT2xELEtBQUtDLE1BQVEzRyxLQUFLOEssZUFBaUIsS0FDekRHLEVBQVVyRSxLQUFLZ0QsTUFBTW9CLEVBQVUsSUFDL0JFLEVBQVVGLEVBQVUsR0FFMUJoTCxLQUFLc0ssYUFBYXZGLFlBQWMsU0FBU2tHLEtBQVdDLEVBQVFwRSxXQUFXcUUsU0FBUyxFQUFHLE9BRS9FbkwsS0FBSzhLLGVBQ1A5RCx1QkFBc0IsSUFBTWhILEtBQUsrSyxlQUVyQyxDQUVBLGdCQUFPSyxDQUFVQyxHQUNmLElBQUtyTCxLQUFLOEssY0FBZSxPQUV6QixNQUNNUSxHQURVNUUsS0FBS0MsTUFDUTNHLEtBQUs4SyxlQUFpQixJQUVuRCxHQUFJTyxFQUFRLENBQ1YsTUFBTUUsRUFBWXZMLEtBQUswSyxnQkFBZ0I1SixPQUFTLEVBQ2hEZCxLQUFLMEssZ0JBQWdCYyxLQUFLLENBQ3hCaEQsS0FBTSxPQUFPK0MsSUFDYkUsS0FBTUgsRUFDTkksTUFBTSxJQUFJaEYsTUFBT2lGLHVCQUluQjNMLEtBQUswSyxnQkFBZ0JrQixNQUFLLENBQUNDLEVBQUdDLElBQU1ELEVBQUVKLEtBQU9LLEVBQUVMLE9BRy9DakIsYUFBYXVCLFFBQVEsa0JBQW1CcEIsS0FBS3FCLFVBQVVoTSxLQUFLMEssaUJBQzlELENBRUExSyxLQUFLOEssY0FBZ0IsRUFDckI5SyxLQUFLOEQsbUJBQ1AsQ0FFQSx3QkFBT0EsR0FDTCxNQUFNbUksRUFBa0IxTCxTQUFTMEQsZUFBZSxvQkFDM0NnSSxJQUdMQSxFQUFnQnpILFVBQVksR0FHNUJ4RSxLQUFLMEssZ0JBQWdCd0IsTUFBTSxFQUFHLElBQUl0SCxTQUFRdUgsSUFDeEMsTUFBTWxCLEVBQVVyRSxLQUFLZ0QsTUFBTXVDLEVBQUlWLEtBQU8sSUFDaENQLEVBQVV0RSxLQUFLZ0QsTUFBTXVDLEVBQUlWLEtBQU8sSUFFaENXLEVBQU03TCxTQUFTMkQsY0FBYyxNQUNuQ2tJLEVBQUk1SCxVQUFZLGlCQUNSMkgsRUFBSTNELDBCQUNKeUMsS0FBV0MsRUFBUXBFLFdBQVdxRSxTQUFTLEVBQUcsMEJBQzFDZ0IsRUFBSVQsb0JBRVpPLEVBQWdCMUgsWUFBWTZILEVBQUksSUFFcEMsRUNwaEJLLE1BQU1DLEVBRVh0SixpQkFBbUIsQ0FDakJ1SixLQUFNLEVBQ05DLE1BQU8sRUFDUEMsR0FBSSxFQUNKQyxLQUFNLEdBaUJSLFdBQUFwTCxDQUFZcUwsRUFBS0MsRUFBVy9KLEVBQVUsQ0FBQyxHQUNyQzVDLEtBQUswTSxJQUFNQSxFQUNYMU0sS0FBSzRNLE9BQVMsSUFBSUMsTUFHbEI3TSxLQUFLOE0sVUFBWWxLLEVBQVFrSyxXQUFhLEdBQ3RDOU0sS0FBSytNLFdBQWFuSyxFQUFRbUssWUFBYyxFQUN4Qy9NLEtBQUtnTixNQUFRcEssRUFBUW9LLE9BQVMsRUFDOUJoTixLQUFLaU4sV0FBYWpOLEtBQUs4TSxVQUFZOU0sS0FBS2dOLE1BQ3hDaE4sS0FBS2tOLE1BQVF0SyxFQUFRc0ssT0FBUyxFQUM5QmxOLEtBQUttTixlQUFpQnZLLEVBQVF1SyxnQkFBa0IsSUFHaERuTixLQUFLb04sdUJBQXlCeEssRUFBUXdLLHdCQUEwQixHQUNoRXBOLEtBQUtxTix3QkFBMEJ6SyxFQUFReUsseUJBQTJCLEdBQ2xFck4sS0FBS3NOLDRCQUE4QjFLLEVBQVEwSyw2QkFBK0IsR0FHMUV0TixLQUFLZ0MsRUFBSSxFQUNUaEMsS0FBS2lDLEVBQUksRUFDVGpDLEtBQUt1TixpQkFBbUJsQixFQUFVbUIsVUFBVWxCLEtBQzVDdE0sS0FBS3lOLGFBQWUsRUFDcEJ6TixLQUFLME4sVUFBVyxFQUNoQjFOLEtBQUsyTixjQUFnQixFQUdyQjNOLEtBQUs0TSxPQUFPZ0IsT0FBUyxLQUNuQnpLLFFBQVFDLElBQUksMkNBQTJDdUosSUFBWSxFQUVyRTNNLEtBQUs0TSxPQUFPaUIsUUFBVSxLQUNwQjFLLFFBQVFFLE1BQU0sc0NBQXNDc0osSUFBWSxFQUVsRTNNLEtBQUs0TSxPQUFPak0sSUFBTWdNLENBQ3BCLENBT0EsZUFBQW1CLENBQWdCQyxHQUNkLElBQUsvTixLQUFLME4sU0FHUixPQUZBMU4sS0FBS3lOLGFBQWUsT0FDcEJ6TixLQUFLMk4sY0FBZ0JJLEdBR2xCL04sS0FBSzJOLGdCQUNSM04sS0FBSzJOLGNBQWdCSSxHQUVQQSxFQUFZL04sS0FBSzJOLGNBQ25CM04sS0FBS21OLGlCQUNqQm5OLEtBQUt5TixjQUFnQnpOLEtBQUt5TixhQUFlLEdBQUt6TixLQUFLK00sV0FDbkQvTSxLQUFLMk4sY0FBZ0JJLEVBRXpCLENBUUEsZUFBQUMsQ0FBZ0JDLEVBQU1DLEdBQ3BCLE1BQU1DLEVBQVFuTyxLQUFLaU4sV0FBYWpOLEtBQUtvTix1QkFDL0JnQixFQUFTcE8sS0FBS2lOLFdBQWFqTixLQUFLcU4sd0JBQ2hDZ0IsRUFBWUYsRUFBUSxFQUNwQkcsRUFBY3RPLEtBQUtpTixXQUFhak4sS0FBS3NOLDRCQUszQyxNQUFPLENBQUVpQixJQUpHTCxFQUFPSSxFQUFjRixFQUFTLEVBSTVCSSxPQUhDTixFQUFPSSxFQUFjRixFQUFTLEVBR3ZCM00sS0FGVHdNLEVBQU9JLEVBRVEzTSxNQURkdU0sRUFBT0ksRUFDY0YsUUFBT0MsU0FDNUMsQ0FRQSxJQUFBSyxDQUFLQyxFQUFTQyxHQUNaLElBQUszTyxLQUFLNE0sT0FBT2dDLFVBQTBDLElBQTlCNU8sS0FBSzRNLE9BQU9pQyxjQUN2QyxPQUVGLE1BQU1DLEVBQVM5TyxLQUFLeU4sYUFBZXpOLEtBQUs4TSxVQUNsQ2lDLEVBQVMvTyxLQUFLdU4saUJBQW1Cdk4sS0FBSzhNLFVBQ3RDa0MsRUFBVXBJLEtBQUtnRCxNQUFNNUosS0FBS2dDLEVBQUloQyxLQUFLaU4sV0FBYSxFQUFJeUIsR0FDcERPLEVBQVVySSxLQUFLZ0QsTUFBTTVKLEtBQUtpQyxFQUFJakMsS0FBS2lOLFdBQWEsRUFBSTBCLEdBRTFELElBQ0UzTyxLQUFLME0sSUFBSXdDLFVBQ1BsUCxLQUFLNE0sT0FDTGtDLEVBQ0FDLEVBQ0EvTyxLQUFLOE0sVUFDTDlNLEtBQUs4TSxVQUNMa0MsRUFDQUMsRUFDQWpQLEtBQUtpTixXQUNMak4sS0FBS2lOLFdBRVQsQ0FBRSxNQUFPL00sR0FDUGlELFFBQVFFLE1BQU0sb0NBQXFDbkQsRUFDckQsQ0FDRixFQ2hJSyxNQUFNaVAsRUFDWCxXQUFBOU4sQ0FBWVcsRUFBR0MsRUFBR2tDLEVBQUlpTCxHQUNwQnBQLEtBQUtnQyxFQUFJQSxFQUNUaEMsS0FBS2lDLEVBQUlBLEVBQ1RqQyxLQUFLbUUsR0FBS0EsRUFDVm5FLEtBQUtvUCxTQUFXQSxFQUNoQnBQLEtBQUtxUCxLQUFrQixHQUFYRCxFQUNacFAsS0FBS3NQLFdBQVksRUFDakJ0UCxLQUFLdVAsYUFBYyxDQUNyQixDQUNBLElBQUFkLENBQUsvQixFQUFLZ0MsRUFBU0MsRUFBU2EsR0FDMUIsTUFBTVIsRUFBVXBJLEtBQUtnRCxNQUFNNUosS0FBS2dDLEVBQUkwTSxFQUFVMU8sS0FBS3FQLEtBQU8sR0FDcERKLEVBQVVySSxLQUFLZ0QsTUFBTTVKLEtBQUtpQyxFQUFJME0sRUFBVTNPLEtBQUtxUCxLQUFPLEdBQ3RERyxFQUNGOUMsRUFBSXdDLFVBQVVNLEVBQVdSLEVBQVNDLEVBQVNqUCxLQUFLcVAsS0FBTXJQLEtBQUtxUCxPQUUzRDNDLEVBQUkrQyxVQUFZLFVBQ2hCL0MsRUFBSWdELFNBQVNWLEVBQVNDLEVBQVNqUCxLQUFLcVAsS0FBTXJQLEtBQUtxUCxNQUMvQzNDLEVBQUlpRCxZQUFjLFVBQ2xCakQsRUFBSWtELFdBQVdaLEVBQVNDLEVBQVNqUCxLQUFLcVAsS0FBTXJQLEtBQUtxUCxNQUNqRDNDLEVBQUkrQyxVQUFZLE9BQ2hCL0MsRUFBSW1ELEtBQXNCLEdBQVo3UCxLQUFLcVAsS0FBUixXQUNYM0MsRUFBSW9ELFVBQVksU0FDaEJwRCxFQUFJcUQsYUFBZSxTQUNuQnJELEVBQUlzRCxTQUFTLElBQUtoQixFQUFVaFAsS0FBS3FQLEtBQU8sRUFBR0osRUFBVWpQLEtBQUtxUCxLQUFPLEVBQUksR0FFekUsRUNsQkssU0FBU1ksRUFBVUMsRUFBS0MsR0FHN0IsT0FGQUQsRUFBTXRKLEtBQUt3SixLQUFLRixHQUNoQkMsRUFBTXZKLEtBQUtnRCxNQUFNdUcsR0FDVnZKLEtBQUtnRCxNQUFNaEQsS0FBS0MsVUFBWXNKLEVBQU1ELEVBQU0sSUFBTUEsQ0FDdkQsQ0FRTyxTQUFTRyxFQUFXQyxHQUN6QixJQUFJQyxFQUFXLFdBQVBELEVBR1IsT0FGQUMsRUFBSTNKLEtBQUs0SixLQUFLRCxFQUFLQSxJQUFNLEdBQUssWUFDOUJBLEVBQUkzSixLQUFLNEosS0FBS0QsRUFBS0EsSUFBTSxHQUFLLGFBQ3RCQSxHQUFLQSxJQUFNLE1BQVEsQ0FDN0IsQ0FpQ08sU0FBU0UsRUFBc0JDLEVBQVVDLEdBQzlDLElBQUtELEdBQWdDLGlCQUFiQSxHQUF5QkEsRUFBUzVQLE9BQVMsRUFBRyxPQUFPNFAsRUFFN0UsSUFBSUUsRUFBSXZILFNBQVNxSCxFQUFTeEUsTUFBTSxFQUFHLEdBQUksSUFDbkNwTSxFQUFJdUosU0FBU3FILEVBQVN4RSxNQUFNLEVBQUcsR0FBSSxJQUNuQ0osRUFBSXpDLFNBQVNxSCxFQUFTeEUsTUFBTSxFQUFHLEdBQUksSUFVdkMsT0FSQTBFLEVBQUloSyxLQUFLc0osSUFBSSxJQUFLdEosS0FBS3VKLElBQUksRUFBR3ZKLEtBQUtpSyxNQUFNRCxFQUFJRCxLQUM3QzdRLEVBQUk4RyxLQUFLc0osSUFBSSxJQUFLdEosS0FBS3VKLElBQUksRUFBR3ZKLEtBQUtpSyxNQUFNL1EsRUFBSTZRLEtBQzdDN0UsRUFBSWxGLEtBQUtzSixJQUFJLElBQUt0SixLQUFLdUosSUFBSSxFQUFHdkosS0FBS2lLLE1BQU0vRSxFQUFJNkUsS0FNdEMsSUFKTUMsRUFBRTlKLFNBQVMsSUFBSXFFLFNBQVMsRUFBRyxPQUMzQnJMLEVBQUVnSCxTQUFTLElBQUlxRSxTQUFTLEVBQUcsT0FDM0JXLEVBQUVoRixTQUFTLElBQUlxRSxTQUFTLEVBQUcsTUFHMUMsQ0NyRU8sTUFBTTJGLEVBQ1gsV0FBQXpQLENBQVkrTixHQUNWcFAsS0FBS29QLFNBQVdBLEVBRWhCcFAsS0FBSytRLFdBQWEsQ0FBQyxFQUNuQi9RLEtBQUtnUixjQUFnQixVQUNyQmhSLEtBQUtpUixrQkFBb0IsVUFDekJqUixLQUFLa1IsbUJBQXFCLFVBQzFCbFIsS0FBS21SLFVBQVksVUFDakJuUixLQUFLb1IsV0FBYSxTQUNwQixDQUdBLGVBQUFDLEdBQ0VyUixLQUFLK1EsV0FBYSxDQUFDLENBQ3JCLENBR0EsWUFBQU8sQ0FBYVYsRUFBR1csRUFBR0MsRUFBV0MsR0FJNUIsTUFBTTdQLEVBQU0sR0FBR2dQLEtBQUtXLElBQ3BCLEdBQUl2UixLQUFLK1EsV0FBV25QLEdBQ2xCLE9BQU81QixLQUFLK1EsV0FBV25QLEdBR3pCLElBQUk4UCxFQU1KLE9BQVFGLEdBQ04sS0xyQ21CLEVLdUNqQkUsRUFBUTFSLEtBQUtnUixjQUNiLE1BQ0YsS0x4Q3VCLEVLMENyQlUsRUFBUTFSLEtBQUtpUixrQkFDYixNQUNGLEtMM0N5QixFSytDdkJTLEVBQVExUixLQUFLa1IsbUJBQ2IsTUFDRixLTGhEbUIsRUtrRGpCUSxFQUFRMVIsS0FBS21SLFVBQ2IsTUFDRixRQUNFTyxFQUFRMVIsS0FBS29SLFdBTWpCLE9BREFwUixLQUFLK1EsV0FBV25QLEdBQU84UCxFQUNoQkEsQ0FDVCxDQUdBLElBQUFqRCxDQUFLL0IsRUFBS2lGLEVBQVNuQyxFQUFZLE1BQzdCLE1BQU0sSUFBRW9DLEVBQUcsTUFBRUgsRUFBSyxNQUFFSSxFQUFLLGFBQUVDLEVBQVksUUFBRXBELEVBQU8sUUFBRUMsRUFBTyxLQUFFb0QsRUFBSSxLQUFFQyxHQUFTTCxFQUdwRU0sRUFBaUJyTCxLQUFLZ0QsTUFBTThFLEdBQzVCd0QsRUFBaUJ0TCxLQUFLZ0QsTUFBTStFLEdBRzVCd0QsRUFBV3ZMLEtBQUt1SixJQUFJLEVBQUd2SixLQUFLZ0QsT0FBT3FJLEVBQWlCalMsS0FBS29QLFVBQVksR0FDckVnRCxFQUFTeEwsS0FBS3NKLElBQ2xCNkIsRUFDQW5MLEtBQUt3SixPQUFPNkIsRUFBaUJ2RixFQUFJekMsT0FBT2tFLE9BQVNuTyxLQUFLb1AsVUFBWSxHQUU5RGlELEVBQVd6TCxLQUFLdUosSUFBSSxFQUFHdkosS0FBS2dELE9BQU9zSSxFQUFpQmxTLEtBQUtvUCxVQUFZLEdBQ3JFa0QsRUFBUzFMLEtBQUtzSixJQUNsQjhCLEVBQ0FwTCxLQUFLd0osT0FBTzhCLEVBQWlCeEYsRUFBSXpDLE9BQU9tRSxRQUFVcE8sS0FBS29QLFVBQVksR0FHckUxQyxFQUFJNkYsT0FJSnZTLEtBQUt3UyxjQUNIOUYsRUFDQWtGLEVBQ0FILEVBQ0FRLEVBQ0FDLEVBQ0FILEVBQ0FDLEVBQ0FLLEVBQ0FDLEVBQ0FILEVBQ0FDLEdBTUZwUyxLQUFLeVMsZ0JBQ0gvRixFQUNBa0YsRUFDQUgsRUFDQUssRUFDQUcsRUFDQUMsRUFDQUgsRUFDQUMsRUFDQUssRUFDQUMsRUFDQUgsRUFDQUMsR0FJRnBTLEtBQUswUyxnQkFBZ0JoRyxFQUFLb0YsRUFBY0csRUFBZ0JDLEdBR3hEbFMsS0FBSzJTLFVBQVVqRyxFQUFLbUYsRUFBT0ksRUFBZ0JDLEVBQWdCMUMsR0FFM0Q5QyxFQUFJa0csU0FDTixDQUdBLGFBQUFKLENBQWM5RixFQUFLa0YsRUFBS0gsRUFBTy9DLEVBQVNDLEVBQVNvRCxFQUFNQyxFQUFNSyxFQUFVQyxFQUFRSCxFQUFVQyxHQUN2RjFGLEVBQUk2RixPQUNKN0YsRUFBSW1HLFlBQWMsY0FFbEIsTUFBTUMsRUFBb0IsVUFDcEJDLEVBQXFCLFVBQ3JCQyxFQUFtQixVQUV6QixJQUFLLElBQUlwQyxFQUFJeUIsRUFBVXpCLEVBQUkwQixFQUFRMUIsSUFDakMsSUFBSyxJQUFJVyxFQUFJWSxFQUFVWixFQUFJYSxFQUFRYixJQUFLLENBQ3RDLE1BQU1DLEVBQVlJLEVBQUloQixLQUFLVyxHQUMzQixRQUFrQjBCLElBQWR6QixFQUF5QixTQUU3QixNQUFNeEMsRUFBVXBJLEtBQUtnRCxNQUFNMkgsRUFBSXZSLEtBQUtvUCxTQUFXVixHQUN6Q08sRUFBVXJJLEtBQUtnRCxNQUFNZ0gsRUFBSTVRLEtBQUtvUCxTQUFXVCxHQUV6QytDLEVBQVExUixLQUFLc1IsYUFBYVYsRUFBR1csRUFBR0MsRUFBV0MsR0FNakQsR0FKQS9FLEVBQUkrQyxVQUFZaUMsRUFDaEJoRixFQUFJZ0QsU0FBU1YsRUFBU0MsRUFBU2pQLEtBQUtvUCxTQUFVcFAsS0FBS29QLFVMdEpsQyxJS3lKYm9DLEVBQXlCLENBRTNCOUUsRUFBSStDLFVBQVksbUJBQ2hCLElBQUssSUFBSTFPLEVBQUksRUFBR0EsRUFBSSxFQUFHQSxJQUNyQjJMLEVBQUlnRCxTQUNGVixFQUFVcEksS0FBS0MsU0FBVzdHLEtBQUtvUCxTQUMvQkgsRUFBVXJJLEtBQUtDLFNBQVc3RyxLQUFLb1AsU0FDL0IsRUFDQSxHQUtKLE1BQU04RCxFQUFXLEVBQ2J0QyxFQUFJLEdMdktPLElLdUtGZ0IsRUFBSWhCLEVBQUksS0FBS1csS0FDeEI3RSxFQUFJK0MsVUFBWXVELEVBQ2hCdEcsRUFBSWdELFNBQVNWLEVBQVNDLEVBQVNqUCxLQUFLb1AsU0FBVThELElBRTVDdEMsRUFBSW9CLEVBQU8sR0wzS0EsSUsyS0tKLEVBQUloQixFQUFJLEtBQUtXLEtBQy9CN0UsRUFBSStDLFVBQVlxRCxFQUNoQnBHLEVBQUlnRCxTQUFTVixFQUFTQyxFQUFValAsS0FBS29QLFNBQVc4RCxFQUFVbFQsS0FBS29QLFNBQVU4RCxJQUV2RTNCLEVBQUksR0wvS08sSUsrS0ZLLEVBQUloQixLQUFLVyxFQUFJLEtBQ3hCN0UsRUFBSStDLFVBQVlzRCxFQUNoQnJHLEVBQUlnRCxTQUFTVixFQUFTQyxFQUFVaUUsRUFBVUEsRUFBVWxULEtBQUtvUCxTQUFXOEQsSUFFbEUzQixFQUFJUSxFQUFPLEdMbkxBLElLbUxLSCxFQUFJaEIsS0FBS1csRUFBSSxLQUMvQjdFLEVBQUkrQyxVQUFZcUQsRUFDaEJwRyxFQUFJZ0QsU0FDRlYsRUFBVWhQLEtBQUtvUCxTQUFXOEQsRUFDMUJqRSxFQUFVaUUsRUFDVkEsRUFDQWxULEtBQUtvUCxTQUFXOEQsSUFLbEJ0QyxFQUFJLEdBQ0pXLEVBQUksR0wvTFMsSUtnTWJLLEVBQUloQixFQUFJLEtBQUtXLElMaE1BLElLaU1iSyxFQUFJaEIsS0FBS1csRUFBSSxJTGpNQSxJS2tNYkssRUFBSWhCLEVBQUksS0FBS1csRUFBSSxLQUVqQjdFLEVBQUkrQyxVQUFZc0QsRUFDaEJyRyxFQUFJZ0QsU0FBU1YsRUFBU0MsRUFBU2lFLEVBQVVBLElBR3pDdEMsRUFBSSxHQUNKVyxFQUFJUSxFQUFPLEdMek1FLElLME1iSCxFQUFJaEIsRUFBSSxLQUFLVyxJTDFNQSxJSzJNYkssRUFBSWhCLEtBQUtXLEVBQUksSUwzTUEsSUs0TWJLLEVBQUloQixFQUFJLEtBQUtXLEVBQUksS0FFakI3RSxFQUFJK0MsVUFBWXVELEVBQ2hCdEcsRUFBSWdELFNBQVNWLEVBQVVoUCxLQUFLb1AsU0FBVzhELEVBQVVqRSxFQUFTaUUsRUFBVUEsR0FHeEUsTUFBTyxHTGpOYyxJS2lOVjFCLEVBQTZCLENBRXRDOUUsRUFBSStDLFVBQVkseUJBQ2hCLElBQUssSUFBSTFPLEVBQUksRUFBR0EsRUFBSSxFQUFHQSxJQUNyQjJMLEVBQUlnRCxTQUNGVixFQUFVcEksS0FBS0MsU0FBVzdHLEtBQUtvUCxTQUMvQkgsRUFBVXJJLEtBQUtDLFNBQVc3RyxLQUFLb1AsU0FDL0IsRUFDQSxFQUdOLENBR0YsQ0FFRjFDLEVBQUlrRyxTQUNOLENBR0EsZUFBQUgsQ0FDRS9GLEVBQ0FrRixFQUNBSCxFQUNBSyxFQUNBcEQsRUFDQUMsRUFDQW9ELEVBQ0FDLEVBQ0FLLEVBQ0FDLEVBQ0FILEVBQ0FDLEdBRUExRixFQUFJNkYsT0FDSjdGLEVBQUltRyxZQUFjLGNBRWxCLElBQUssTUFBTU0sS0FBUTFCLEVBQU8sQ0FDeEIsR0FDRTBCLEVBQUtDLElBQU1ELEVBQUtoRixNQUFRZ0UsR0FDeEJnQixFQUFLQyxJQUFNaEIsR0FDWGUsRUFBSy9HLElBQU0rRyxFQUFLL0UsT0FBU2lFLEdBQ3pCYyxFQUFLL0csSUFBTWtHLEVBRVgsU0FFRixNQUFNZSxFQUFjek0sS0FBS2dELE1BQU11SixFQUFLQyxJQUFNcFQsS0FBS29QLFNBQVdWLEdBQ3BENEUsRUFBYzFNLEtBQUtnRCxNQUFNdUosRUFBSy9HLElBQU1wTSxLQUFLb1AsU0FBV1QsR0FDcEQ0RSxFQUFjSixFQUFLaEYsTUFBUW5PLEtBQUtvUCxTQUNoQ29FLEVBQWNMLEVBQUsvRSxPQUFTcE8sS0FBS29QLFNBR3ZDLElBQUlxRSxFQUFhelQsS0FBS2tSLG1CQUd0QixNQUFNd0MsRUFBdUMsaUJBQXJCMVQsS0FBSzJULFlBQTJCM1QsS0FBSzJULFlBQWMsRUFDM0UsSUFBSUMsRUFBV3ZELEVBQVc4QyxFQUFLaFAsSUFBaUIsSUFBWHVQLEVBRXJDLE9BQVFQLEVBQUs5TSxNQUNYLElBQUssWUFDSG9OLEVBQWFoRCxFQUFzQixVQUFXLEdBQU9KLEVBQVd1RCxHQUFZLEdBQU0sS0FDbEYsTUFDRixJQUFLLFNBQ0hILEVBQWFoRCxFQUNYLFVBQ0EsR0FBT0osRUFBV3VELEVBQVcsR0FBSyxHQUFNLEtBRTFDLE1BQ0YsSUFBSyxVQUNISCxFQUFhaEQsRUFDWCxVQUNBLEdBQU9KLEVBQVd1RCxFQUFXLEdBQUssR0FBTSxLQUUxQyxNQUNGLElBQUssTUFDSEgsRUFBYWhELEVBQ1gsVUFDQSxHQUFPSixFQUFXdUQsRUFBVyxHQUFLLEdBQU0sS0FFMUMsTUFDRixJQUFLLE1BQ0hILEVBQWFoRCxFQUNYLFVBQ0EsR0FBT0osRUFBV3VELEVBQVcsR0FBSyxHQUFNLEtBRTFDLE1BQ0YsSUFBSyxVQUNISCxFQUFhaEQsRUFDWCxVQUNBLEdBQU9KLEVBQVd1RCxFQUFXLEdBQUssR0FBTSxLQUUxQyxNQUNGLElBQUssVUFDSEgsRUFBYWhELEVBQ1gsVUFDQSxHQUFPSixFQUFXdUQsRUFBVyxHQUFLLEdBQU0sS0FNOUMsSUFDRSxJQUFJaEQsRUFBSWhLLEtBQUt1SixJQUFJZ0QsRUFBSy9HLElBQUtpRyxHQUMzQnpCLEVBQUloSyxLQUFLc0osSUFBSWlELEVBQUsvRyxJQUFNK0csRUFBSy9FLE9BQVFrRSxHQUNyQzFCLElBRUEsSUFDRSxJQUFJVyxFQUFJM0ssS0FBS3VKLElBQUlnRCxFQUFLQyxJQUFLakIsR0FDM0JaLEVBQUkzSyxLQUFLc0osSUFBSWlELEVBQUtDLElBQU1ELEVBQUtoRixNQUFPaUUsR0FDcENiLElBQ0EsQ0FDQSxNQUFNQyxFQUFZSSxFQUFJaEIsS0FBS1csR0FFM0IsR0xqVXFCLElLaVVqQkMsRUFBK0IsQ0FDakMsTUFBTXhDLEVBQVVwSSxLQUFLZ0QsTUFBTTJILEVBQUl2UixLQUFLb1AsU0FBV1YsR0FDekNPLEVBQVVySSxLQUFLZ0QsTUFBTWdILEVBQUk1USxLQUFLb1AsU0FBV1QsR0FLekNrRixFQUFtQixLQUZSeEQsRUFBZSxJQUFKTyxFQUFlLEVBQUpXLEVBQVFxQyxHQUNoQixHQUFNLEdBQUssSUFFMUNsSCxFQUFJK0MsVUFBWWdCLEVBQXNCZ0QsRUFBWUksR0FHbERuSCxFQUFJZ0QsU0FBU1YsRUFBU0MsRUFBU2pQLEtBQUtvUCxTQUFVcFAsS0FBS29QLFVBR2pDLFFBQWQrRCxFQUFLOU0sT0FDUHFHLEVBQUlpRCxZQUFjLG1CQUNsQmpELEVBQUlvSCxVQUFZLEVBQ2hCcEgsRUFBSWtELFdBQVdaLEVBQVUsR0FBS0MsRUFBVSxHQUFLalAsS0FBS29QLFNBQVcsRUFBR3BQLEtBQUtvUCxTQUFXLEdBRXBGLENBQ0YsQ0FJRnBQLEtBQUsrVCxvQkFBb0JySCxFQUFLeUcsRUFBTUUsRUFBYUMsRUFBYUMsRUFBYUMsRUFDN0UsQ0FDQTlHLEVBQUlrRyxTQUNOLENBS0EsZUFBQUYsQ0FBZ0JoRyxFQUFLb0YsRUFBY3BELEVBQVNDLEdBQzFDLElBQUttRCxFQUFjLE9BRW5CLE1BQU05QyxFQUFVcEksS0FBS2dELE1BQU1rSSxFQUFha0MsTUFBUWhVLEtBQUtvUCxTQUFXVixHQUMxRE8sRUFBVXJJLEtBQUtnRCxNQUFNa0ksRUFBYW1DLE1BQVFqVSxLQUFLb1AsU0FBV1QsR0FHaEUsR0FDRUssRUFBVWhQLEtBQUtvUCxTQUFXLEdBQzFCSixFQUFVdEMsRUFBSXpDLE9BQU9rRSxPQUNyQmMsRUFBVWpQLEtBQUtvUCxTQUFXLEdBQzFCSCxFQUFVdkMsRUFBSXpDLE9BQU9tRSxPQUVyQixPQUdGMUIsRUFBSTZGLE9BQ0o3RixFQUFJbUcsWUFBYyxjQUdsQm5HLEVBQUlpRCxZQUFjLFVBQ2xCakQsRUFBSW9ILFVBQVksRUFDaEJwSCxFQUFJa0QsV0FBV1osRUFBVSxHQUFLQyxFQUFVLEdBQUtqUCxLQUFLb1AsU0FBVyxFQUFHcFAsS0FBS29QLFNBQVcsR0FDaEYxQyxFQUFJaUQsWUFBYyxVQUNsQmpELEVBQUlrRCxXQUFXWixFQUFVLElBQUtDLEVBQVUsSUFBS2pQLEtBQUtvUCxTQUFXLEVBQUdwUCxLQUFLb1AsU0FBVyxHQUdoRixNQUFNOEUsRUFBK0IsSUFBaEJsVSxLQUFLb1AsU0FDcEIrRSxFQUFVbkYsRUFBMEIsR0FBaEJoUCxLQUFLb1AsU0FDekJnRixFQUFVbkYsRUFBMEIsR0FBaEJqUCxLQUFLb1AsU0FHL0IxQyxFQUFJK0MsVUFBWSxPQUNoQi9DLEVBQUkySCxZQUNKM0gsRUFBSTRILElBQUlILEVBQVNDLEVBQVNGLEVBQWMsRUFBYSxFQUFWdE4sS0FBSzJOLElBQ2hEN0gsRUFBSThILE9BR0o5SCxFQUFJK0MsVUFBWSxVQUNoQi9DLEVBQUkySCxZQUNKM0gsRUFBSTRILElBQUlILEVBQVNDLEVBQXdCLEdBQWZGLEVBQW9CLEVBQWEsRUFBVnROLEtBQUsyTixJQUN0RDdILEVBQUk4SCxPQUdKOUgsRUFBSStDLFVBQVksMkJBQ2hCL0MsRUFBSTJILFlBQ0ozSCxFQUFJNEgsSUFDRkgsRUFBeUIsR0FBZkQsRUFDVkUsRUFBeUIsR0FBZkYsRUFDSyxHQUFmQSxFQUNBLEVBQ1UsRUFBVnROLEtBQUsyTixJQUVQN0gsRUFBSThILE9BRUo5SCxFQUFJa0csU0FDTixDQUdBLG1CQUFBbUIsQ0FBb0JySCxFQUFLeUcsRUFBTW5SLEVBQUdDLEVBQUd3UyxFQUFHbEUsR0FHdEMsTUFBTW1FLEVBQUsxVSxLQUFLb1AsU0FDVnVGLEVBQWMsR0FBTEQsRUFDVEUsRUFBaUIsR0FBTEYsRUFDbEJoSSxFQUFJb0gsVUFBWSxFQUNoQnBILEVBQUlpRCxZQUFjLE9BR2xCLE1BQU1rRixFQUFXLENBQUNDLEVBQUlDLEVBQUlDLEVBQUlDLEVBQUl2RCxFQUFPd0QsR0FBVSxLQUNqRHhJLEVBQUkrQyxVQUFZaUMsRUFDaEIsTUFBTTFDLEVBQVVwSSxLQUFLZ0QsTUFBTTVILEVBQUk4UyxHQUN6QjdGLEVBQVVySSxLQUFLZ0QsTUFBTTNILEVBQUk4UyxHQUN6QkksRUFBVXZPLEtBQUtnRCxNQUFNb0wsR0FDckJJLEVBQVV4TyxLQUFLZ0QsTUFBTXFMLEdBQzNCdkksRUFBSWdELFNBQVNWLEVBQVNDLEVBQVNrRyxFQUFTQyxHQUNwQ0YsR0FDRnhJLEVBQUlrRCxXQUFXWixFQUFVLEdBQUtDLEVBQVUsR0FBS2tHLEVBQVUsRUFBR0MsRUFBVSxFQUN0RSxFQUVJQyxFQUFhLENBQUNDLEVBQUlDLEVBQUlDLEVBQVE5RCxFQUFPd0QsR0FBVSxLQUNuRHhJLEVBQUkrQyxVQUFZaUMsRUFDaEIsTUFBTTFDLEVBQVVwSSxLQUFLZ0QsTUFBTTVILEVBQUlzVCxHQUN6QnJHLEVBQVVySSxLQUFLZ0QsTUFBTTNILEVBQUlzVCxHQUMvQjdJLEVBQUkySCxZQUNKM0gsRUFBSTRILElBQUl0RixFQUFTQyxFQUFTckksS0FBS2dELE1BQU00TCxHQUFTLEVBQWEsRUFBVjVPLEtBQUsyTixJQUN0RDdILEVBQUk4SCxPQUNBVSxHQUNGeEksRUFBSStJLFFBQ04sRUFJRixPQUFRdEMsRUFBSzlNLE1BQ1gsSUFBSyxZQUNIcUcsRUFBSWlELFlBQWMsVUFDbEIsTUFBTStGLEVBQWEsR0FBTGhCLEVBQ1ppQixFQUFhLEdBQUxqQixFQUNSa0IsRUFBYyxJQUFMbEIsRUFDTG1CLEVBQWMsRUFBTG5CLEVBQ2JvQixFQUFjLEdBQUxwQixFQUVYRyxFQUFhLElBQUpKLEVBQVVFLEVBQVksR0FBSkYsRUFBYyxHQUFMQyxFQUFVLFFBQVEsR0FDdERHLEVBQWEsSUFBSkosRUFBVyxFQUFHRSxFQUFTLEVBQU8sR0FBSkYsRUFBVSxFQUFRLEdBQUxDLEVBQVcsRUFBRyxXQUFXLEdBR3pFLElBQUssSUFBSTlELEVBQUksR0FBS0EsSUFBSyxDQUNyQixNQUFNbUYsRUFBT3BCLEVBQWMsR0FBTEQsRUFBVzlELEVBQUlrRixFQUNyQyxHQUFJQyxFQUFPSixFQUFRQyxFQUFTckYsRUFBSW9FLEVBQVEsTUFDeEMsSUFBSyxJQUFJcEQsRUFBSSxHQUFLQSxJQUFLLENBQ3JCLE1BQU15RSxFQUFPckIsRUFBU3BELEVBQUlzRSxFQUMxQixHQUFJRyxFQUFPTixFQUFRakIsRUFBSUUsRUFBUSxNQUUvQkUsRUFBU21CLEVBQU1ELEVBQU1MLEVBQU9DLEVBQU8sV0FFbkNkLEVBQVNtQixFQUFlLEdBQVJOLEVBQWFLLEVBQU9KLEVBQVFmLEVBQW1CLEdBQVJjLEVBQWFFLEVBQVEsVUFDOUUsQ0FDRixDQUNBLE1BRUYsSUFBSyxTQUNIbEosRUFBSWlELFlBQWMsVUFFbEIsTUFBTXNHLEVBQVNyUCxLQUFLc0osSUFBUSxHQUFKdUUsRUFBYyxJQUFMQyxHQUMzQndCLEVBQVN0UCxLQUFLc0osSUFBUSxHQUFKSyxFQUFjLElBQUxtRSxHQUNqQ0csRUFBU0YsRUFBUUEsRUFBUXNCLEVBQVFDLEVBQVEsV0FFekNyQixFQUFTRixFQUFTc0IsRUFBU3JCLEVBQVdELEVBQWtCLEdBQVR1QixFQUFtQixHQUFMeEIsRUFBZSxHQUFMQSxFQUFVLFFBRWpGLE1BQU15QixFQUFnQixHQUFMekIsRUFDakJHLEVBQVNKLEVBQUlFLEVBQVN3QixFQUFVeEIsRUFBUXdCLEVBQVU1RixFQUFhLEVBQVRvRSxFQUFZLFdBRWxFRSxFQUFTRixFQUFTQyxFQUFXRCxFQUFTQyxFQUFnQixHQUFMRixFQUFlLEdBQUxBLEVBQVUsUUFDckVHLEVBQ0VGLEVBQVNDLEVBQWlCLEdBQUxGLEVBQ3JCQyxFQUFTQyxFQUFpQixHQUFMRixFQUFXLEVBQzNCLEdBQUxBLEVBQ0ssR0FBTEEsRUFDQSxRQUVGLE1BRUYsSUFBSyxVQUNIaEksRUFBSWlELFlBQWMsVUFDbEIsTUFBTXlHLEVBQWMsR0FBTDFCLEVBQ1QyQixFQUFvQixJQUFMM0IsRUFFckIsSUFBSyxJQUFJNEIsRUFBSzNCLEVBQVEyQixFQUFLN0IsRUFBSUUsRUFBU3lCLEVBQVFFLEdBQU1ELEVBQWMsQ0FDbEV4QixFQUFTeUIsRUFBSTNCLEVBQVF5QixFQUFRN0YsRUFBYSxFQUFUb0UsRUFBWSxXQUU3Q2pJLEVBQUlpRCxZQUFjLGtCQUNsQixJQUFLLElBQUk0RyxFQUFTNUIsRUFBYyxHQUFMRCxFQUFVNkIsRUFBU2hHLEVBQUlvRSxFQUFRNEIsR0FBZSxHQUFMN0IsRUFDbEVoSSxFQUFJMkgsWUFDSjNILEVBQUk4SixPQUFPeFUsRUFBSXNVLEVBQUlyVSxFQUFJc1UsR0FDdkI3SixFQUFJK0osT0FBT3pVLEVBQUlzVSxFQUFLRixFQUFRblUsRUFBSXNVLEdBQ2hDN0osRUFBSStJLFNBRU4vSSxFQUFJaUQsWUFBYyxTQUNwQixDQUVBLEdBQUk4RSxFQUFtQixJQUFmNEIsRUFBb0IsQ0FDMUIsTUFBTUssRUFBWU4sRUFBU3pCLEdBQVVGLEVBQWEsRUFBVDJCLEVBQXNCLEVBQVR6QixFQUFrQixJQUFMRCxHQUFZLEVBQzNFZ0MsRUFBWU4sRUFBU3pCLElBRXZCRSxFQUFTNkIsRUFBZSxHQUFKbkcsRUFBYyxJQUFMbUUsRUFBYyxHQUFKbkUsRUFBUyxXQUVoRHNFLEVBQVM2QixFQUFpQixHQUFMaEMsRUFBYyxHQUFKbkUsRUFBZSxHQUFMbUUsRUFBZSxHQUFMQSxFQUFlLElBQUxBLEVBQVcsV0FDeEVHLEVBQ0U2QixFQUFpQixHQUFMaEMsRUFDUixHQUFKbkUsRUFBYyxHQUFKQSxFQUFVcUUsRUFDZixHQUFMRixFQUNLLElBQUxBLEVBQ0EsV0FHTixDQUNBLE1BRUYsSUFBSyxNQUNIaEksRUFBSWlELFlBQWMsT0FFbEJrRixFQUFTRixFQUFRQSxFQUFZLEdBQUpGLEVBQWEsR0FBSmxFLEVBQVMsV0FDM0NzRSxFQUFTSixFQUFJRSxFQUFhLEdBQUpGLEVBQVNsRSxFQUFJb0UsRUFBYSxHQUFKcEUsRUFBYSxHQUFKa0UsRUFBYSxHQUFKbEUsRUFBUyxXQUV2RXNFLEVBQWEsR0FBSkosRUFBU0UsRUFBYSxHQUFMRCxFQUFlLElBQUxBLEVBQVUsUUFDOUNHLEVBQWEsR0FBSkosRUFBZSxHQUFMQyxFQUFVQyxFQUFjLEdBQUxELEVBQWUsR0FBTEEsRUFBZSxJQUFMQSxFQUFVLFFBQVEsR0FFNUVHLEVBQVNGLEVBQVksR0FBSnBFLEVBQWMsSUFBTG1FLEVBQWUsR0FBTEEsRUFBVSxXQUU5Q0csRUFBU0osRUFBSUUsRUFBYyxHQUFMRCxFQUFVQyxFQUFhLEdBQUxELEVBQWUsSUFBTEEsRUFBVSxRQUM1RFcsRUFBV1osRUFBSUUsRUFBYyxJQUFMRCxFQUFXQyxFQUFjLEdBQUxELEVBQWUsSUFBTEEsRUFBVyxRQUNqRVcsRUFBV1osRUFBSUUsRUFBYyxJQUFMRCxFQUFXQyxFQUFjLEdBQUxELEVBQWUsSUFBTEEsRUFBVyxRQUNqRVcsRUFBV1osRUFBSUUsRUFBYyxJQUFMRCxFQUFXQyxFQUFjLElBQUxELEVBQWUsSUFBTEEsRUFBVyxRQUNqRSxNQUVGLElBQUssTUFDSGhJLEVBQUlpRCxZQUFjLE9BRWxCLE1BQU1nSCxFQUFpQixHQUFMakMsRUFDbEJHLEVBQVNGLEVBQVFBLEVBQVFGLEVBQWEsRUFBVEUsRUFBWWdDLEVBQVcsV0FDcEQ5QixFQUFTRixFQUFRcEUsRUFBSW9FLEVBQVNnQyxFQUFXbEMsRUFBYSxFQUFURSxFQUFZZ0MsRUFBVyxXQUVwRTlCLEVBQVNGLEVBQWMsR0FBTEQsRUFBVUMsRUFBYyxHQUFMRCxFQUFlLEdBQUxBLEVBQWUsR0FBTEEsRUFBVSxXQUNuRUcsRUFBU0YsRUFBYyxFQUFMRCxFQUFVQyxFQUFjLEdBQUxELEVBQWUsR0FBTEEsRUFBZSxHQUFMQSxFQUFVLFdBQ25FVyxFQUFXWixFQUFhLEVBQVRFLEVBQWtCLEdBQUxELEVBQVVDLEVBQXFCLEdBQVpnQyxFQUFzQixHQUFMakMsRUFBVSxXQUFXLEdBRXJGRyxFQUNNLEdBQUpKLEVBQ0FFLEVBQVNnQyxFQUFZL0IsRUFDckJGLEVBQ0FuRSxFQUFhLEVBQVRvRSxFQUF5QixFQUFaZ0MsRUFBNEIsRUFBWi9CLEVBQ2pDLFdBRUYsTUFFRixJQUFLLFVBQ0hsSSxFQUFJaUQsWUFBYyxVQUVsQixNQUFNaUgsRUFBY25DLEVBQWEsRUFBVEUsRUFDbEJrQyxFQUFtQixHQUFMbkMsRUFDcEJHLEVBQVNGLEVBQVFBLEVBQVFpQyxFQUFhQyxFQUFhLFdBQ25EaEMsRUFBU0YsRUFBUXBFLEVBQUlvRSxFQUFTa0MsRUFBYUQsRUFBYUMsRUFBYSxXQUVyRSxNQUFNQyxFQUFlLEdBQUxwQyxFQUNoQkcsRUFBU0YsRUFBYyxHQUFMRCxFQUFVQyxFQUFTa0MsRUFBY2pDLEVBQVdrQyxFQUFTQSxFQUFTLFdBQ2hGakMsRUFBU0YsRUFBYyxFQUFMRCxFQUFVQyxFQUFTa0MsRUFBY2pDLEVBQVdrQyxFQUFTQSxFQUFTLFdBQ2hGakMsRUFDRUosRUFBSUUsRUFBbUIsSUFBVm1DLEVBQ2JuQyxFQUFTa0MsRUFBMEIsRUFBWmpDLEVBQ2IsSUFBVmtDLEVBQ1UsR0FBVkEsRUFDQSxXQUdGakMsRUFBU0osRUFBSUUsRUFBU0QsRUFBSW5FLEVBQUlvRSxFQUFTRCxFQUFTLEdBQUxBLEVBQWUsR0FBTEEsRUFBVSxXQUMvRCxNQUdGLFFBQ0VoSSxFQUFJaUQsWUFBYyxVQUVsQmtGLEVBQWEsR0FBSkosRUFBYSxJQUFKbEUsRUFBYyxHQUFKa0UsRUFBYSxJQUFKbEUsRUFBVSxXQUMvQ3NFLEVBQWEsR0FBSkosRUFBYSxHQUFKbEUsRUFBYSxHQUFKa0UsRUFBYSxHQUFKbEUsRUFBUyxXQUU3Q3NFLEVBQVNKLEVBQUlFLEVBQWMsR0FBTEQsRUFBVUMsRUFBYSxHQUFMRCxFQUFVbkUsRUFBYSxFQUFUb0UsRUFBWSxRQUVsRWpJLEVBQUlpRCxZQUFjLE9BQ2xCakQsRUFBSW9ILFVBQVksRUFDaEJwSCxFQUFJMkgsWUFDSjNILEVBQUk4SixPQUFPeFUsRUFBSTJTLEVBQVExUyxFQUFRLEdBQUpzTyxHQUMzQjdELEVBQUkrSixPQUFPelUsRUFBSXlTLEVBQUlFLEVBQVExUyxFQUFRLEdBQUpzTyxHQUMvQjdELEVBQUkrSSxTQUNKL0ksRUFBSTJILFlBQ0ozSCxFQUFJOEosT0FBT3hVLEVBQVEsR0FBSnlTLEVBQVN4UyxFQUFJMFMsR0FDNUJqSSxFQUFJK0osT0FBT3pVLEVBQVEsR0FBSnlTLEVBQVN4UyxFQUFJc08sRUFBSW9FLEdBQ2hDakksRUFBSStJLFNBQ0ovSSxFQUFJb0gsVUFBWSxFQUd0QixDQUdBLFNBQUFuQixDQUFVakcsRUFBS21GLEVBQU9uRCxFQUFTQyxFQUFTYSxHQUN0QyxJQUFLcUMsR0FBMEIsSUFBakJBLEVBQU0vUSxPQUFjLE9BQ2xDLE1BQU1pVyxFQUFrQyxHQUFoQi9XLEtBQUtvUCxTQUU3QixJQUFLLE1BQU00SCxLQUFRbkYsRUFFakIsSUFEb0JtRixFQUFLekgsY0FBZXlILEVBQUsxSCxVQUMzQixDQUNoQixNQUFNMkgsRUFBV0QsRUFBSzNILE1BQVEwSCxFQUV4Qi9ILEVBQVVwSSxLQUFLZ0QsTUFBTW9OLEVBQUtoVixFQUFJME0sRUFBVXVJLEVBQVcsR0FDbkRoSSxFQUFVckksS0FBS2dELE1BQU1vTixFQUFLL1UsRUFBSTBNLEVBQVVzSSxFQUFXLEdBSXZEakksRUFBVWlJLEVBQVcsR0FDckJqSSxFQUFVdEMsRUFBSXpDLE9BQU9rRSxPQUNyQmMsRUFBVWdJLEVBQVcsR0FDckJoSSxFQUFVdkMsRUFBSXpDLE9BQU9tRSxTQUdJLG1CQUFkNEksRUFBS3ZJLEtBRWR1SSxFQUFLdkksS0FBSy9CLEVBQUtnQyxFQUFTQyxFQUFTYSxHQUc3QkEsRUFFRjlDLEVBQUl3QyxVQUFVTSxFQUFXUixFQUFTQyxFQUFTZ0ksRUFBVUEsSUFFckR2SyxFQUFJK0MsVUFBWSxVQUNoQi9DLEVBQUlnRCxTQUFTVixFQUFTQyxFQUFTZ0ksRUFBVUEsR0FDekN2SyxFQUFJaUQsWUFBYyxVQUNsQmpELEVBQUlvSCxVQUFZLEVBQ2hCcEgsRUFBSWtELFdBQVdaLEVBQVUsR0FBS0MsRUFBVSxHQUFLZ0ksRUFBVyxFQUFHQSxFQUFXLElBSTlFLENBRUosRUN2b0JGLElBQUlDLEVBQXVCLEtBRzNCLE1BQU1DLEVBQXFCLENBQ3pCQyxZQUFhLEVBQ2JDLFlBQWEsR0FDYkMsa0JBQW1CLEVBQ25CQyxTQUFVLEdBQ1ZDLGdCQUFpQixJQUNqQkMsZ0JBQWlCLENBQ2ZDLFVBQVcsR0FDWEMsT0FBUSxHQUNSQyxRQUFTLEdBQ1RDLElBQUssRUFDTEMsUUFBUyxLQXNPYixTQUFTQyxFQUFzQm5HLEVBQUtvRyxFQUFPQyxFQUFPbEcsRUFBTUMsR0FDdEQsTUFBUWtHLFlBQWFDLEVBQUlDLFlBQWFDLEdBQU9MLEdBQ3JDRSxZQUFhSSxFQUFJRixZQUFhRyxHQUFPTixFQUV6Q3JSLEtBQUtDLFNBQVcsSUFFbEIyUixFQUF5QjVHLEVBQUt5RyxFQUFJRixFQUFJRyxFQUFJdkcsRUFBTUMsR0FDaER5RyxFQUF1QjdHLEVBQUswRyxFQUFJRCxFQUFJRSxFQUFJeEcsRUFBTUMsS0FHOUN5RyxFQUF1QjdHLEVBQUt1RyxFQUFJRSxFQUFJRSxFQUFJeEcsRUFBTUMsR0FDOUN3RyxFQUF5QjVHLEVBQUsyRyxFQUFJSixFQUFJRyxFQUFJdkcsRUFBTUMsR0FFcEQsQ0FDQSxTQUFTd0csRUFBeUI1RyxFQUFLaEIsRUFBRzhILEVBQUlDLEVBQUk1RyxFQUFNQyxHQUV0RCxHQUFJcEIsRUFBSSxHQUFLQSxHQUFLb0IsRUFBTSxPQUN4QixNQUFNRyxFQUFXdkwsS0FBS3VKLElBQUksRUFBR3ZKLEtBQUtzSixJQUFJd0ksRUFBSUMsSUFDcEN2RyxFQUFTeEwsS0FBS3NKLElBQUk2QixFQUFPLEVBQUduTCxLQUFLdUosSUFBSXVJLEVBQUlDLElBQy9DLElBQUssSUFBSXBILEVBQUlZLEVBQVVaLEdBQUthLEVBQVFiLElOaFJiLElNa1JqQkssRUFBSWhCLEtBQUtXLEtBQ1hLLEVBQUloQixHQUFHVyxHTmxSZ0IsRU11UjdCLENBQ0EsU0FBU2tILEVBQXVCN0csRUFBS0wsRUFBR3FILEVBQUlDLEVBQUk5RyxFQUFNQyxHQUVwRCxHQUFJVCxFQUFJLEdBQUtBLEdBQUtRLEVBQU0sT0FDeEIsTUFBTU0sRUFBV3pMLEtBQUt1SixJQUFJLEVBQUd2SixLQUFLc0osSUFBSTBJLEVBQUlDLElBQ3BDdkcsRUFBUzFMLEtBQUtzSixJQUFJOEIsRUFBTyxFQUFHcEwsS0FBS3VKLElBQUl5SSxFQUFJQyxJQUMvQyxJQUFLLElBQUlqSSxFQUFJeUIsRUFBVXpCLEdBQUswQixFQUFRMUIsSU45UmIsSU1nU2pCZ0IsRUFBSWhCLEtBQUtXLEtBQ1hLLEVBQUloQixHQUFHVyxHTmhTZ0IsRU1xUzdCLENBR0EsU0FBU3VILEVBQXdCOUUsRUFBT0MsRUFBT3JDLEVBQUtHLEVBQU1DLEdBRXhELE1BQU0rRyxFQUFpQixDQUFDL1csRUFBR0MsRUFBRytXLEVBQVlDLEVBQVNDLEtBQ2pELEdBQUlsWCxFQUFJLEdBQUtBLEdBQUtpWCxHQUFXaFgsRUFBSSxHQUFLQSxHQUFLaVgsRUFBUyxPQUFPLEVBQzNELE1BQU1DLEVBQVVILEVBQVcvVyxLQUFLRCxHQUNoQyxPTjdTeUIsSU02U2xCbVgsR041U29CLElNNFNTQSxHTjNTZixJTTJTOENBLENBQXFCLEVBRzFGLElBQUlDLEVBQVksRUFFaEIsTUFBTUMsRUFBaUIsQ0FDckIsQ0FBRUMsR0FBSSxFQUFHQyxJQUFLLEdBQ2QsQ0FBRUQsR0FBSSxFQUFHQyxHQUFJLEdBQ2IsQ0FBRUQsSUFBSyxFQUFHQyxHQUFJLEdBQ2QsQ0FBRUQsR0FBSSxFQUFHQyxHQUFJLElBRWYsSUFBSUMsRUFBd0IsRUFBQyxHQUFPLEdBQU8sR0FBTyxHQUVsRCxJQUFLLElBQUl6WSxFQUFJLEVBQUdBLEVBQUlzWSxFQUFldlksT0FBUUMsSUFHckNnWSxFQUZPL0UsRUFBUXFGLEVBQWV0WSxHQUFHdVksR0FDMUJyRixFQUFRb0YsRUFBZXRZLEdBQUd3WSxHQUNWM0gsRUFBS0csRUFBTUMsS0FDcENvSCxJQUNBSSxFQUFzQnpZLElBQUssR0FJL0IsSUFBSTBZLEdBQWUsRUFDbkIsR0FBa0IsSUFBZEwsRUFBaUIsQ0FDbkIsTUFBT00sRUFBR0MsRUFBR0MsRUFBR0MsR0FBS0wsR0FFaEJFLEdBQUtDLElBQU1DLElBQU1DLEdBQU9ELEdBQUtDLElBQU1ILElBQU1DLEtBQzVDRixHQUFlLEVBRW5CLENBQ0EsTUFBTyxDQUFFTCxZQUFXSyxlQUN0QixDQThPQSxTQUFTSyxFQUF3QmxJLEVBQUttSSxFQUFTQyxFQUFTakksRUFBTUMsR0FDNUQ3TyxRQUFRQyxJQUNOLHFEQUFxRDJXLE1BQVlDLDBCQUVuRSxNQUFNQyxFQUFhLENBQ2pCLENBQUMsR0FBSSxHQUNMLENBQUMsRUFBRyxHQUNKLEVBQUUsRUFBRyxHQUNMLENBQUMsRUFBRyxJQUVOLElBQUlDLEdBQXVCLEVBQ3ZCQyxFQUF3QixLQUc1QixJQUFLLE1BQU9iLEVBQUlDLEtBQU9VLEVBQVksQ0FDakMsTUFBTUcsRUFBS0wsRUFBVVQsRUFDZmUsRUFBS0wsRUFBVVQsRUFDZmUsRUFBZTFJLEVBQUl5SSxLQUFNRCxHQUMvQixHTjVrQnlCLElNNmtCdkJFLEdONWtCeUIsSU02a0J6QkEsR041a0JtQixJTTZrQm5CQSxFQUNBLENBQ0FKLEdBQXVCLEVBQ3ZCQyxFQUF3QixDQUFFblksRUFBR29ZLEVBQUluWSxFQUFHb1ksR0FDcEMsS0FDRixDQUNGLENBRUEsR0FBSUgsRUFNRixPQUxBL1csUUFBUUMsSUFDTiw2QkFBNkIyVyxNQUFZQyxrQ0FBd0NHLEVBQXNCblksTUFBTW1ZLEVBQXNCbFksbUNBR3JJMlAsRUFBSW9JLEdBQVNELEdONWxCWSxHTTZsQmxCLEVBSVQ1VyxRQUFRQyxJQUNOLGtHQUVGLE1BQU1tWCxFQUFRLENBQUMsQ0FBQ1IsRUFBU0MsRUFBUyxJQUM1QlEsRUFBVSxJQUFJQyxJQUFJLENBQUMsR0FBR1YsS0FBV0MsTUFDakNVLEVBQWMsQ052bUJHLEVBQ0ksRUFDRSxFQUNOLEdNcW1CakJDLEVBQWlCLENOdm1CSSxFQUNFLEdNdW1CN0IsSUFBSUMsRUFBa0IsS0FDbEJDLEVBQWVDLElBRW5CLEtBQU9QLEVBQU16WixPQUFTLEdBQUcsQ0FDdkIsTUFBT2lhLEVBQU9DLEVBQU9DLEdBQVFWLEVBQU1XLFFBR25DLEtBQUlELEdBQVFKLEdBRVosSUFBSyxNQUFPdkIsRUFBSUMsS0FBT1UsRUFBWSxDQUNqQyxNQUFNa0IsRUFBUUosRUFBUXpCLEVBQ2hCOEIsRUFBUUosRUFBUXpCLEVBQ2hCM1gsRUFBTSxHQUFHdVosS0FBU0MsSUFFeEIsR0FBSUQsR0FBUyxHQUFLQSxFQUFRcEosR0FBUXFKLEdBQVMsR0FBS0EsRUFBUXBKLElBQVN3SSxFQUFRYSxJQUFJelosR0FBTSxDQUNqRixNQUFNNFAsRUFBWUksRUFBSXdKLEtBQVNELEdBQy9CWCxFQUFRblcsSUFBSXpDLEdBR1IrWSxFQUFlVyxTQUFTOUosR0FDdEJ5SixFQUFPLEVBQUlKLElBRWJBLEVBQWVJLEVBQU8sRUFDdEJMLEVBQWtCLENBQUU1WSxFQUFHbVosRUFBT2xaLEVBQUdtWixFQUFPSCxLQUFNSixHQUM5QzFYLFFBQVFDLElBQ04sd0NBQXdDK1gsTUFBVUMsWUFBZ0JQLE1BSTdESCxFQUFZWSxTQUFTOUosSUFFMUJ5SixFQUFPLEVBQUlKLEdBQ2JOLEVBQU0vTyxLQUFLLENBQUMyUCxFQUFPQyxFQUFPSCxFQUFPLEdBR3ZDLENBQ0YsQ0FDRixDQUdBLE9BQUlMLEdBQ0Z6WCxRQUFRQyxJQUNOLHFEQUFxRHdYLEVBQWdCNVksTUFBTTRZLEVBQWdCM1ksZUFBZTJZLEVBQWdCSyx5QkFHNUh6QyxFQUF5QjVHLEVBQUtvSSxFQUFTRCxFQUFTYSxFQUFnQjVZLEVBQUcrUCxFQUFNQyxHQUN6RXlHLEVBQXVCN0csRUFBS2dKLEVBQWdCNVksRUFBR2dZLEVBQVNZLEVBQWdCM1ksRUFBRzhQLEVBQU1DLEdBQ2pGN08sUUFBUUMsSUFBSSxvRE52cEJhLElNMHBCckJ3TyxFQUFJb0ksR0FBU0QsSU56cEJVLElNeXBCb0JuSSxFQUFJb0ksR0FBU0QsSUFDMUQ1VyxRQUFRQyxJQUNOLDZCQUE2QjJXLEtBQVdDLDZCQUFtQ3BJLEVBQUlvSSxHQUFTRCxRQUVuRixJQUVQNVcsUUFBUVksS0FDTixvREFBb0RnVyxNQUFZQyw0QkFBa0NwSSxFQUFJb0ksR0FBU0QsMEJBR2pIbkksRUFBSW9JLEdBQVNELEdOcHFCVSxHTXFxQmhCLEtBR1Q1VyxRQUFRRSxNQUNOLG9HQUFvRzBXLE1BQVlDLHdCQUUzRyxFQUVYLENBR0EsU0FBU3VCLEVBQWlCM0osRUFBS0UsRUFBY0MsRUFBTUMsR0FDakQsSUFBS0YsRUFBYyxPQUFPLEVBQzFCLE1BQU0sTUFBRWtDLEVBQUssTUFBRUMsR0FBVW5DLEVBQ3pCLEdBQ0VtQyxFQUFRLEdBQ1JBLEdBQVNqQyxHQUNUZ0MsRUFBUSxHQUNSQSxHQUFTakMsR05yckJZLElNc3JCckJILEVBQUlxQyxLQUFTRCxHQUtiLE9BSEE3USxRQUFRRSxNQUNOLGlFQUFpRTJRLE1BQVVDLE9BRXRFLEVBS1QsTUFHTSxVQUFFdUgsR0ZqbkJILFNBQW9CQyxFQUFTQyxFQUFRQyxFQUFRNUosRUFBTUMsRUFBTTRKLEdBQzlELE1BQU1yQixFQUFRLENBQUMsQ0FBQ21CLEVBQVFDLElBQ2xCbkIsRUFBVSxJQUFJQyxJQUFJLENBQUMsR0FBR2lCLEtBQVVDLE1BQ2hDMUIsRUFBYSxDQUNqQixDQUFDLEdBQUksR0FDTCxDQUFDLEVBQUcsR0FDSixFQUFFLEVBQUcsR0FDTCxDQUFDLEVBQUcsSUFFTixJQUFJdUIsR0FBWSxFQVNoQixJQU51QkMsRUFBUUUsR0FNeEJwQixFQUFNelosT0FBUyxHQUFHLENBQ3ZCLE1BQU9pYSxFQUFPQyxHQUFTVCxFQUFNVyxRQUU3QixJQUFLLE1BQU81QixFQUFJQyxLQUFPVSxFQUFZLENBQ2pDLE1BQU1rQixFQUFRSixFQUFRekIsRUFDaEI4QixFQUFRSixFQUFRekIsRUFDaEIzWCxFQUFNLEdBQUd1WixLQUFTQyxJQUd4QixHQUFJRCxHQUFTLEdBQUtBLEVBQVFwSixHQUFRcUosR0FBUyxHQUFLQSxFQUFRcEosSUFBU3dJLEVBQVFhLElBQUl6WixHQUFNLENBQ2pGLE1BQU00UCxFQUFZaUssRUFBUUwsS0FBU0QsR0FDbkNYLEVBQVFuVyxJQUFJekMsR0FHUmdhLEVBQW1CTixTQUFTOUosS0FDOUIrSSxFQUFNL08sS0FBSyxDQUFDMlAsRUFBT0MsSUpySEEsSUl5SGY1SixHSnhIaUIsSUl3SGNBLElBQ2pDZ0ssR0FBWSxHQUtsQixDQUNGLENBQ0YsQ0FFQSxNQUFPLENBQUVBLFlBQ1gsQ0Vpa0J3QkssQ0FDcEJqSyxFQUNBb0MsRUFDQUMsRUFDQWxDLEVBQ0FDLEVBUjRCLENObHNCSCxFQUNFLEVBQ04sSU1rdEJ2QixPQUxLd0osR0FDSHJZLFFBQVFFLE1BQ04scURBQXFEMlEsTUFBVUMsd0NBRzVEdUgsQ0FDVCxDQ3pzQk8sTUFBTU0sRUFDWCxXQUFBemEsQ0FBWTBhLEVBQWFDLEVBQWNySSxFQUFhbkssRUFBVUMsR0FDNUR6SixLQUFLb1AsU0FBVyxHQUNoQnBQLEtBQUsrUixLQUFPLEdBQ1ovUixLQUFLZ1MsS0FBTyxHQUNaaFMsS0FBS21PLE1BQVFuTyxLQUFLK1IsS0FBTy9SLEtBQUtvUCxTQUM5QnBQLEtBQUtvTyxPQUFTcE8sS0FBS2dTLEtBQU9oUyxLQUFLb1AsU0FDL0JwUCxLQUFLME8sUUFBVSxFQUNmMU8sS0FBSzJPLFFBQVUsRUFFZjNPLEtBQUsyVCxZQUFjQSxFQUNuQjNULEtBQUt3SixTQUFXQSxFQUNoQnhKLEtBQUt5SixTQUFXQSxFQUVoQnpKLEtBQUs0UixJQUFNLEtBQ1g1UixLQUFLeVIsTUFBUSxHQUNielIsS0FBSzZSLE1BQVEsR0FDYjdSLEtBQUs4UixhQUFlLEtBRXBCOVIsS0FBS2ljLFNBQVcsSUFBSW5MLEVBQVk5USxLQUFLb1AsVUFFckMsTUFBTThNLEVBQW1CLENBQ3ZCOUUsWUFBYSxFQUNiQyxZQUFhLEdBQ2JDLGtCQUFtQixFQUNuQkMsU0FBVSxHQUNWQyxnQkFBaUIsSUFDakIyRSxZQUFhLEVBQ2IxRSxnQkFBaUIsQ0FFZkMsVUFBVyxHQUNYQyxPQUFRLEdBQ1JDLFFBQVMsR0FDVHdFLElBQUssR0FDTEMsUUFBUyxFQUNUdkUsUUFBUyxLQUliLElBQ0UsTUFBTXdFLEVBQW1CLENBQ3ZCdkssS0FBTS9SLEtBQUsrUixLQUNYQyxLQUFNaFMsS0FBS2dTLEtBQ1gyQixZQUFhM1QsS0FBSzJULFlBQ2xCbkssU0FBVXhKLEtBQUt3SixTQUNmQyxTQUFVekosS0FBS3lKLFNBQ2YyRixTQUFVcFAsS0FBS29QLFNBQ2Y4TSxpQkFBa0JBLElBR2QsSUFBRXRLLEVBQUcsTUFBRUgsRUFBSyxhQUFFSyxHRGxDbkIsU0FBMkJ5SyxHQUNoQyxNQUFNLEtBQUV4SyxFQUFJLEtBQUVDLEVBQUksWUFBRTJCLEVBQVcsU0FBRW5LLEVBQVEsU0FBRTRGLEVBQVU4TSxpQkFBa0JNLEdBQWVELEVBQ2hGRSxFQUFZLElBQUt0RixLQUF1QnFGLEdBRTlDQyxFQUFVaEYsZ0JBQWdCSSxJQUFNbEUsSUFBZ0JuSyxFQUFXa1QsR0FBa0MsRUFFekYvSSxJQUFnQm5LLElBQ2xCME4sRUFBdUIsS0FDdkIvVCxRQUFRQyxJQUFJLGlCQUFpQnVRLHlEQUcvQnhRLFFBQVFDLElBQUksaUJBQWlCdVEsK0JBQXlDNUIsS0FBUUMsU0FDOUUsTUFBTUosRUFBTStLLE1BQU1DLEtBQUssQ0FBRTliLE9BQVFrUixJQUFRLElBQU0ySyxNQUFNNUssR0FBTXlDLEtOekNwQyxLTTBDakIvQyxFQUFRLEdBQ2QsSUFBSUssRUFBZSxNQW1FckIsU0FBcUJGLEVBQUtILEVBQU9NLEVBQU1DLEVBQU15SyxHQUMzQyxNQUFNLFlBQUVyRixFQUFXLFlBQUVDLEVBQVcsU0FBRUUsRUFBUSxnQkFBRUMsRUFBZSxnQkFBRUMsR0FBb0JnRixFQUNqRixJQUFJSSxFQUFlLEVBRW5CLE1BQU1DLEVBQWdCLEdBQ3RCLElBQUlDLEVBQWMsRUFDbEIsSUFBSyxNQUFNMVcsS0FBUW9SLEVBQWlCLENBQ2xDLE1BQU11RixFQUFTdkYsRUFBZ0JwUixHQUMvQixHQUFJMlcsRUFBUyxFQUFHLENBQ2RELEdBQWVDLEVBQ2YsSUFBSyxJQUFJamMsRUFBSSxFQUFHQSxFQUFJaWMsRUFBUWpjLElBQzFCK2IsRUFBY3RSLEtBQUtuRixFQUV2QixDQUNGLENBU0EsSUFQNkIsSUFBekJ5VyxFQUFjaGMsU0FDaEJnYyxFQUFjdFIsS0FBSyxXQUNuQnJJLFFBQVFZLEtBQ04sMkZBSUcwTixFQUFNM1EsT0FBU3lXLEdBQVlzRixFQUFlckYsR0FBaUIsQ0FDaEVxRixJQUNBLE1BQU1JLEVBQVloTixFQUFVbUgsRUFBYUMsR0FDbkM2RixFQUFhak4sRUFBVW1ILEVBQWFDLEdBRXBDOEYsRUFBVWxOLEVBQVUsRUFBRzhCLEVBQU9rTCxFQUFZLEdBQzFDRyxFQUFVbk4sRUFBVSxFQUFHK0IsRUFBT2tMLEVBQWEsR0FJM0NHLEVBQVUsQ0FDZGpLLElBQUsrSixFQUNML1EsSUFBS2dSLEVBQ0xqUCxNQUFPOE8sRUFDUDdPLE9BQVE4TyxFQUNSN1csS0FQZXlXLEVBQWM3TSxFQUFVLEVBQUc2TSxFQUFjaGMsT0FBUyxJQVFqRXFELEdBQUksUUFBUXNOLEVBQU0zUSxPQUFTLElBQzNCb1gsWUFBYXRSLEtBQUtnRCxNQUFNdVQsRUFBVUYsRUFBWSxHQUM5QzdFLFlBQWF4UixLQUFLZ0QsTUFBTXdULEVBQVVGLEVBQWEsR0FDL0NJLFdBQVcsR0FHYixJQUFJQyxHQUFXLEVBQ2YsTUFBTUMsRUFBUyxFQUNmLElBQUssTUFBTUMsS0FBZ0JoTSxFQUN6QixHQUNFNEwsRUFBUWpLLElBQU1xSyxFQUFhckssSUFBTXFLLEVBQWF0UCxNQUFRcVAsR0FDdERILEVBQVFqSyxJQUFNaUssRUFBUWxQLE1BQVFxUCxFQUFTQyxFQUFhckssS0FDcERpSyxFQUFRalIsSUFBTXFSLEVBQWFyUixJQUFNcVIsRUFBYXJQLE9BQVNvUCxHQUN2REgsRUFBUWpSLElBQU1pUixFQUFRalAsT0FBU29QLEVBQVNDLEVBQWFyUixJQUNyRCxDQUNBbVIsR0FBVyxFQUNYLEtBQ0YsQ0FHRixJQUFLQSxFQUFVLENBQ2I5TCxFQUFNakcsS0FBSzZSLEdBRVgsSUFBSyxJQUFJek0sRUFBSXlNLEVBQVFqUixJQUFLd0UsRUFBSXlNLEVBQVFqUixJQUFNaVIsRUFBUWpQLE9BQVF3QyxJQUMxRCxJQUFLLElBQUlXLEVBQUk4TCxFQUFRakssSUFBSzdCLEVBQUk4TCxFQUFRakssSUFBTWlLLEVBQVFsUCxNQUFPb0QsSUFFckRYLEdBQUssR0FBS0EsRUFBSW9CLEdBQVFULEdBQUssR0FBS0EsRUFBSVEsSUFDdENILEVBQUloQixHQUFHVyxHTjlLWSxFTWtMM0IsQ0FDRixDQUNJRSxFQUFNM1EsT0FBU3lXLEVBQ2pCcFUsUUFBUVksS0FDTiw4QkFBOEIwTixFQUFNM1EsVUFBVXlXLGlCQUF3QnNGLGVBR3hFMVosUUFBUUMsSUFBSSx5QkFBeUJxTyxFQUFNM1Esc0JBQXNCK2IsY0FFckUsQ0FoSkVhLENBQVk5TCxFQUFLSCxFQUFPTSxFQUFNQyxFQUFNeUssR0FFaENoTCxFQUFNM1EsT0FBUyxHQUFLNlMsSUFBZ0JuSyxFQUN0Q3JHLFFBQVFZLEtBQ04saUJBQWlCNFAsa0JBQTRCbEMsRUFBTTNRLDhDQUU1QzJRLEVBQU0zUSxRQUFVLEdBNkk3QixTQUE2QjhRLEVBQUtILEVBQU9NLEVBQU1DLEdBQzdDLEdBQUlQLEVBQU0zUSxPQUFTLEVBQUcsT0FDdEJxQyxRQUFRQyxJQUFJLCtCQUErQnFPLEVBQU0zUSw4QkFHakQsTUFBTTZjLEVBQWUsSUFBSWxELElBQUksQ0FBQ2hKLEVBQU0sR0FBR3ROLEtBQ3ZDLElBQUl5WixFQUFtQm5NLEVBQU12RixNQUFNLEdBRW5DLEtBQU8wUixFQUFpQjljLE9BQVMsR0FBRyxDQUNsQyxJQUFJK2MsRUFBaUIvQyxJQUNqQmdELEVBQXNCLEtBQ3RCQyxFQUFzQixLQUN0QkMsR0FBd0IsRUFHNUIsSUFBSyxJQUFJamQsRUFBSSxFQUFHQSxFQUFJNmMsRUFBaUI5YyxPQUFRQyxJQUFLLENBQ2hELE1BQU1rZCxFQUFRTCxFQUFpQjdjLEdBQy9CLElBQUssTUFBTW1kLEtBQVN6TSxFQUVsQixHQUFJa00sRUFBYXRDLElBQUk2QyxFQUFNL1osSUFBSyxDQUU5QixNQUFNbVYsRUFBSzJFLEVBQU0vRixZQUFjZ0csRUFBTWhHLFlBQy9CcUIsRUFBSzBFLEVBQU03RixZQUFjOEYsRUFBTTlGLFlBQy9CK0YsRUFBUzdFLEVBQUtBLEVBQUtDLEVBQUtBLEVBQzFCNEUsRUFBU04sSUFDWEEsRUFBaUJNLEVBQ2pCTCxFQUFzQkcsRUFDdEJGLEVBQXNCRyxFQUFNL1osR0FDNUI2WixFQUF1QmpkLEVBRTNCLENBRUosQ0FFQSxJQUFJK2MsR0FBK0MsT0FBeEJDLEVBZXBCLENBQ0w1YSxRQUFRRSxNQUNOLHVHQUNBdWEsRUFBaUJoTSxLQUFLaEIsR0FBTUEsRUFBRXpNLE1BRWhDLEtBQ0YsQ0FyQnlELENBRXZELE1BQU1pYSxFQUFvQjNNLEVBQU00TSxNQUFNek4sR0FBTUEsRUFBRXpNLEtBQU80WixJQUNyRCxJQUFLSyxFQUFtQixDQUN0QmpiLFFBQVFFLE1BQ04saUVBQWlFMGEsMkJBR25FSCxFQUFpQlUsT0FBT04sRUFBc0IsR0FDOUMsUUFDRixDQUVBakcsRUFBc0JuRyxFQUFLd00sRUFBbUJOLEVBQXFCL0wsRUFBTUMsR0FDekUyTCxFQUFhdFosSUFBSXlaLEVBQW9CM1osSUFDckN5WixFQUFpQlUsT0FBT04sRUFBc0IsRUFDaEQsQ0FPRixDQUNBN2EsUUFBUUMsSUFBSSxnRUFBZ0V1YSxFQUFhdE8sT0FDM0YsQ0F0TUlrUCxDQUFvQjNNLEVBQUtILEVBQU9NLEVBQU1DLEdBR3hDLElBQ0UsTUFBTXdNLEVBMFJWLFNBQ0U1TSxFQUNBRyxFQUNBQyxFQUNBMkIsRUFDQW5LLEVBQ0E0RixFQUNBcVAsRUFDQUMsR0FHQSxJQUFJQyxFQUFjRixFQUNkRyxFQUFtQixLQUd2QixHQUFJakwsSUFBZ0JuSyxHQUFhbVYsR0FnQjFCLElBQUtBLEdBQWVoTCxFQUFjbkssRUFDdkMsTUFBTSxJQUFJdkksTUFBTSwwREFBMEQwUyxXQWhCMUV4USxRQUFRQyxJQUFJLGlCQUFpQnVRLGlEQUM3QmdMLEVBc0ZKLFNBQW9DL00sRUFBS0csRUFBTUMsRUFBTTBNLEdBRW5ELE1BQU1HLEVBQVVqWSxLQUFLZ0QsTUFBTW1JLEVBQU8sR0FDNUIrTSxFQUFVbFksS0FBS2dELE1BQU1vSSxFQUFPLEdBRWxDLElBQUkrTSxFQUFvQixLQUl4QixHQUZBNWIsUUFBUUMsSUFBSSw0RUFFUHNiLEdBQWtDLElBQXJCQSxFQUFVNWQsT0FJMUIsT0FIQXFDLFFBQVFZLEtBQ04sa0dBRUssS0FHVCxJQUFLLE1BQU1vUCxLQUFRdUwsRUFBVyxDQUs1QixNQUFNTSxFQUFtQjdMLEVBQUtDLElBQU0sRUFDOUI2TCxFQUFpQjlMLEVBQUtDLElBQU1ELEVBQUtoRixNQUFRLEVBQ3pDK1EsRUFBbUIvTCxFQUFLL0csSUFBTSxFQUM5QitTLEVBQWlCaE0sRUFBSy9HLElBQU0rRyxFQUFLL0UsT0FBUyxFQUVoRCxLQUFJNFEsRUFBbUJDLEdBQWtCQyxFQUFtQkMsR0FRNUQsSUFBSyxJQUFJdk8sRUFBSXNPLEVBQWtCdE8sR0FBS3VPLEVBQWdCdk8sSUFDbEQsSUFBSyxJQUFJVyxFQUFJeU4sRUFBa0J6TixHQUFLME4sRUFBZ0IxTixJQUFLLENBR3ZELElBQUk2TixFQUFlLEVBRW5CQSxLQURnQjdOLEVBQUlzTixJQUFZdE4sRUFBSXNOLElBQVlqTyxFQUFJa08sSUFBWWxPLEVBQUlrTyxJQUMzQyxHQUV6QixNQUFNTyxFQUFjdkcsRUFBd0J2SCxFQUFHWCxFQUFHZ0IsRUFBS0csRUFBTUMsR0FFN0QsR0FBSXFOLEVBQVlqRyxVQUFZLEVBRTFCLFNBR0VpRyxFQUFZNUYsZUFDZDJGLEdBQWdCLEtBRWxCQSxHQUF3QyxJQUF4QkMsRUFBWWpHLFVBRTVCLElBQUlrRyxFQUFrQyxFQUNsQ0MsRUFBd0IsRUFDNUIsTUFBTWxHLEVBQWlCLENBQ3JCLENBQUVDLEdBQUksRUFBR0MsSUFBSyxHQUNkLENBQUVELEdBQUksRUFBR0MsR0FBSSxHQUNiLENBQUVELElBQUssRUFBR0MsR0FBSSxHQUNkLENBQUVELEdBQUksRUFBR0MsR0FBSSxJQUdmLElBQUssTUFBTWlHLEtBQVNuRyxFQUFnQixDQUNsQyxNQUFNb0csRUFBV2xPLEVBQUlpTyxFQUFNbEcsR0FDckJvRyxFQUFXOU8sRUFBSTRPLEVBQU1qRyxHQUUzQixHQUFJbUcsR0FBWSxHQUFLQSxFQUFXMU4sR0FBUXlOLEdBQVksR0FBS0EsRUFBVzFOLEVBQU0sQ0FDeEUsTUFBTTROLEVBQWlCL04sRUFBSThOLEtBQVlELEdBQ3ZDLEdON2ZpQixJTTZmYkUsR041ZmUsSU00ZnFCQSxFQUFvQyxDQUMxRUosSUFDQSxNQUFNSyxFQUFvQjlHLEVBQ3hCMkcsRUFDQUMsRUFDQTlOLEVBQ0FHLEVBQ0FDLEdBR2tDLElBQWhDNE4sRUFBa0J4RyxZQUVwQmtHLEVBQWtDMVksS0FBS3VKLElBQUltUCxFQUFpQyxNQUcxRU0sRUFBa0JuRyxlQUNwQjZGLEVBQWtDMVksS0FBS3VKLElBQUltUCxFQUFpQyxLQUVoRixDQUNGLENBQ0YsQ0FNOEIsSUFBMUJDLEdBQStCRixFQUFZakcsVUFBWSxJQUszRGdHLEdBQWdCRSxHQUVVLE9BQXRCUCxHQUE4QkssRUFBZUwsRUFBa0JoVixTQUNqRWdWLEVBQW9CLENBQ2xCL0ssTUFBT3pDLEVBQ1AwQyxNQUFPckQsRUFDUDdHLE1BQU9xVixFQUNQUyxXQUFZMU0sRUFBS2hQLEtBSXZCLENBRUosQ0FFQSxPQUFJNGEsR0FDRjViLFFBQVFDLElBQ04sc0RBQXNEMmIsRUFBa0JjLHVCQUF1QmQsRUFBa0IvSyxVQUFVK0ssRUFBa0I5SyxrQkFDakk4SyxFQUFrQmhWLE1BQU0rVixRQUFRLE9BRXZDLENBQUU5TCxNQUFPK0ssRUFBa0IvSyxNQUFPQyxNQUFPOEssRUFBa0I5SyxTQUdwRTlRLFFBQVFZLEtBQ04saUhBRUssS0FDVCxDQXJOa0JnYyxDQUEyQm5PLEVBQUtHLEVBQU1DLEVBQU0wTSxHQUNyREMsSUFJSHhiLFFBQVFZLEtBQ04saUJBQWlCNFAsMkVBRW5CZ0wsRUFBYyxDQUFFM0ssTUFBT3BOLEtBQUtnRCxNQUFNbUksRUFBTyxHQUFJa0MsTUFBT3JOLEtBQUtnRCxNQUFNb0ksRUFBTyxLQUV4RTdPLFFBQVFDLElBQ04saUJBQWlCdVEsaURBQTJEZ0wsRUFBWTNLLFVBQVUySyxFQUFZMUssVUFFaEgySyxFQUFtQkQsRUFLckIsTUFBTSxNQUFFM0ssRUFBSyxNQUFFQyxHQUFVMEssRUFHekIsR0FBSTFLLEVBQVEsR0FBS0EsR0FBU2pDLEdBQVFnQyxFQUFRLEdBQUtBLEdBQVNqQyxFQUFNLENBRTVELE1BQU1pTyxFQUFnQnBaLEtBQUt1SixJQUFJLEVBQUd2SixLQUFLc0osSUFBSTZCLEVBQU8sRUFBR2lDLElBQy9DaU0sRUFBZ0JyWixLQUFLdUosSUFBSSxFQUFHdkosS0FBS3NKLElBQUk4QixFQUFPLEVBQUdpQyxJQVVyRCxNQVRBOVEsUUFBUUUsTUFDTix5QkFBeUIyUSxNQUFVQyxzQ0FBMENOLG1CQUE2QnFNLEtBQWlCQyxNQUU3SHRCLEVBQWMsQ0FBRTNLLE1BQU9nTSxFQUFlL0wsTUFBT2dNLEdBTXZDLElBQUloZixNQUNSLHlCQUF5QjBkLEVBQVkzSyxVQUFVMkssRUFBWTFLLDBDQUEwQ04sS0FFekcsQ054WXVCLElNNFluQi9CLEVBQUlxQyxHQUFPRCxJQUNiN1EsUUFBUVksS0FDTixpQkFBaUI0UCx5QkFBbUNLLE1BQVVDLHlEQUU5QzZGLEVBQXdCbEksRUFBS29DLEVBQU9DLEVBQU9sQyxFQUFNQyxJQU1qRTdPLFFBQVFDLElBQUksa0ZOdFpPLElNdVpmd08sRUFBSXFDLEdBQU9ELEtBRWI3USxRQUFRWSxLQUNOLHdFQUF3RWlRLEtBQVNDLDBDQUVuRnJDLEVBQUlxQyxHQUFPRCxHTjNaVSxJTWladkI3USxRQUFRRSxNQUNOLHNFQUFzRTJRLE1BQVVDLGdDQWFwRjlRLFFBQVFDLElBQ04sc0NBQXNDNFEsTUFBVUMsaUNBQXFDckMsRUFBSXFDLEdBQU9ELFFBS3BHcEMsRUFBSXFDLEdBQU9ELEdObmFZLEVNcWF2QixNQUFNa00sRUFBZSxDQUNuQmxlLEdBQUlnUyxFQUFRLElBQU81RSxFQUNuQm5OLEdBQUlnUyxFQUFRLElBQU83RSxFQUNuQjRFLE1BQU9BLEVBQ1BDLE1BQU9BLEdBU1QsT0FOQTlRLFFBQVFDLElBQ04saUJBQWlCdVEsb0NBQThDSyxNQUFVQyxlQUFtQmlNLEVBQWFsZSxFQUFFOGQsUUFDekcsT0FDSUksRUFBYWplLEVBQUU2ZCxRQUFRLE9BR3hCLENBQUVLLFNBQVVELEVBQWNFLE9BQVF4QixHQUFvQkQsRUFDL0QsQ0E5WDJCMEIsQ0FDckJ6TyxFQUNBRyxFQUNBQyxFQUNBMkIsRUFDQW5LLEVBQ0E0RixFQUNBOEgsRUFDQXpGLEdBRUZLLEVBQWUwTSxFQUFlMkIsU0FDMUIzQixFQUFlNEIsU0FDakJsSixFQUF1QnNILEVBQWU0QixPQUUxQyxDQUFFLE1BQU8vYyxHQUVQLE1BREFGLFFBQVFFLE1BQU0saUJBQWlCc1Esc0NBQWlEdFEsR0FDMUUsSUFBSXBDLE1BQU0sa0NBQWtDMFMsTUFBZ0J0USxFQUFNK0MsVUFDMUUsQ0FJQSxHQTRvQkYsU0FBMkJ3TCxFQUFLRyxFQUFNQyxHQUNwQzdPLFFBQVFDLElBQUksOENBRVosSUFBSyxJQUFJbU8sRUFBSSxFQUFHQSxFQUFJUSxFQUFNUixTQUNKMEIsSUFBaEJyQixFQUFJLEtBQUtMLEtBQWtCSyxFQUFJLEdBQUdMLEdON3RCakIsUU04dEJNMEIsSUFBdkJyQixFQUFJSSxFQUFPLEtBQUtULEtBQWtCSyxFQUFJSSxFQUFPLEdBQUdULEdOOXRCL0IsR01pdUJ2QixJQUFLLElBQUlYLEVBQUksRUFBR0EsRUFBSW9CLEVBQU1wQixTQUNKcUMsSUFBaEJyQixFQUFJaEIsS0FBSyxLQUFrQmdCLEVBQUloQixHQUFHLEdObHVCakIsUU1tdUJNcUMsSUFBdkJyQixFQUFJaEIsS0FBS21CLEVBQU8sS0FBa0JILEVBQUloQixHQUFHbUIsRUFBTyxHTm51Qi9CLEVNcXVCekIsQ0ExcEJFdU8sQ0FBa0IxTyxFQUFLRyxFQUFNQyxHQUV6QkYsSUFBaUJ5SixFQUFpQjNKLEVBQUtFLEVBQWNDLEVBQU1DLEdBQU8sQ0FXcEUsR0FWQTdPLFFBQVFZLEtBQ04sd0JBQXdCNFAsbUJBQTZCN0IsRUFBYWtDLFVBQVVsQyxFQUFhbUMscUVBRXpFNkYsRUFDaEJsSSxFQUNBRSxFQUFha0MsTUFDYmxDLEVBQWFtQyxNQUNibEMsRUFDQUMsS0FFaUJ1SixFQUFpQjNKLEVBQUtFLEVBQWNDLEVBQU1DLEdBQU8sQ0FDbEUsTUFBTXVPLEVBQVcsaUNBQWlDek8sRUFBYWtDLFVBQVVsQyxFQUFhbUMscUVBRXRGLE1BREE5USxRQUFRRSxNQUFNLGlCQUFpQnNRLE1BQWdCNE0sS0FDekMsSUFBSXRmLE1BQU0sZ0NBQWdDMFMscUJBQ2xELENBQ0V4USxRQUFRQyxJQUNOLHdCQUF3QnVRLHNEQUc5QixLQUFPLEtBQUk3QixFQUtULE1BQU0sSUFBSTdRLE1BQU0sd0RBQXdEMFMsTUFKeEV4USxRQUFRQyxJQUNOLHdCQUF3QnVRLG1CQUE2QjdCLEVBQWFrQyxVQUFVbEMsRUFBYW1DLHVCQUk3RixDQUdBLE9BREE5USxRQUFRQyxJQUFJLGlCQUFpQnVRLDZDQUN0QixDQUFFL0IsTUFBS0gsUUFBT0ssZUFDdkIsQ0M1QzJDME8sQ0FBa0JsRSxHQUV2RHRjLEtBQUs0UixJQUFNQSxFQUNYNVIsS0FBS3lSLE1BQVFBLEVBQ2J6UixLQUFLOFIsYUFBZUEsRUFFcEI5UixLQUFLaWMsU0FBUzVLLGtCQUNkclIsS0FBS3lnQixtQkFBbUJ2RSxFQUFpQkMsYUEzRDNCLElBNkRWbmMsS0FBSzJULGFBQ1B4USxRQUFRQyxJQUNOLGFBQWFwRCxLQUFLMlQsNkNBQTZDN0IsR0FBY2tDLFVBQVVsQyxHQUFjbUMsVUFJM0csQ0FBRSxNQUFPNVEsR0FLUCxNQUpBRixRQUFRRSxNQUNOLGFBQWFyRCxLQUFLMlQsOERBQ2xCdFEsR0FFSUEsQ0FDUixDQUNGLENBRUEsa0JBQUFvZCxDQUFtQnRFLEdBQ2pCbmMsS0FBSzZSLE1BQVEsR0FDYixNQUFNNk8sRUFBcUIsR0FDckJDLEVBQWUsSUFBSWxHLElBR3pCLElBQUssSUFBSTdKLEVBQUksRUFBR0EsRUFBSTVRLEtBQUtnUyxLQUFNcEIsSUFDN0IsSUFBSyxJQUFJVyxFQUFJLEVBQUdBLEVBQUl2UixLQUFLK1IsS0FBTVIsSUFBSyxDQUNsQyxNQUFNQyxFQUFZeFIsS0FBSzRSLElBQUloQixLQUFLVyxHQUMxQnFQLEVBQ0o1Z0IsS0FBSzhSLGNBQWdCbEIsSUFBTTVRLEtBQUs4UixhQUFhbUMsT0FBUzFDLElBQU12UixLQUFLOFIsYUFBYWtDLE1QaEczRCxJT2tHaEJ4QyxHUGpHa0IsSU9pR2FBLEdBQW1Db1AsR0FDckVGLEVBQW1CbFYsS0FBSyxDQUFFb0YsSUFBR1csS0FFakMsQ0FHRixJQUFJc1AsRUFBYyxFQUNsQixLQUFPQSxFQUFjMUUsR0FBZXVFLEVBQW1CNWYsT0FBUyxHQUFHLENBQ2pFLE1BQU1nZ0IsRUFBY2xhLEtBQUtnRCxNQUFNaEQsS0FBS0MsU0FBVzZaLEVBQW1CNWYsU0FDNUQsRUFBRThQLEVBQUMsRUFBRVcsR0FBTW1QLEVBQW1CcEMsT0FBT3dDLEVBQWEsR0FBRyxHQUNyREMsRUFBVyxHQUFHeFAsS0FBS1gsSUFFekIsSVA5R3VCLElPK0dwQjVRLEtBQUs0UixJQUFJaEIsS0FBS1csSVA5R1EsSU84R2dCdlIsS0FBSzRSLElBQUloQixLQUFLVyxNQUNwRG9QLEVBQWF0RixJQUFJMEYsR0FDbEIsQ0FDQSxNQUFNQyxHQUFjelAsRUFBSSxJQUFPdlIsS0FBS29QLFNBQzlCNlIsR0FBY3JRLEVBQUksSUFBTzVRLEtBQUtvUCxTQUM5QjhSLEVBQVMsU0FBU2xoQixLQUFLMlQsZUFBZWtOLEVBQWMsSUFDMUQ3Z0IsS0FBSzZSLE1BQU1yRyxLQUFLLElBQUkyRCxFQUFLNlIsRUFBWUMsRUFBWUMsRUFBUWxoQixLQUFLb1AsV0FDOUR1UixFQUFhdGMsSUFBSTBjLEdBQ2pCRixHQUNGLENBQ0YsQ0FFRixDQUVBLFVBQUFNLENBQVdDLEVBQVFDLEdBQ2pCLElBQUtyaEIsS0FBSzRSLElBQUssT0FBTyxFQUN0QixNQUFNb0MsRUFBUXBOLEtBQUtnRCxNQUFNd1gsRUFBU3BoQixLQUFLb1AsVUFDakM2RSxFQUFRck4sS0FBS2dELE1BQU15WCxFQUFTcmhCLEtBQUtvUCxVQUV2QyxHQUFJNEUsRUFBUSxHQUFLQSxHQUFTaFUsS0FBSytSLE1BQVFrQyxFQUFRLEdBQUtBLEdBQVNqVSxLQUFLZ1MsS0FDaEUsT0FBTyxFQUdULE1BQU1SLEVBQVl4UixLQUFLNFIsSUFBSXFDLEtBQVNELEdBRXBDLE9QeEl5QixJT3dJbEJ4QyxHUHZJb0IsSU91SVdBLEdQdElqQixJT3NJa0RBLENBQ3pFLENBRUEsOEJBQUE4UCxHQUNFLElBQUt0aEIsS0FBSzRSLElBQUssT0FDZixNQUFNMlAsRUFBZ0IsR0FFdEIsSUFBSyxJQUFJM1EsRUFBSSxFQUFHQSxFQUFJNVEsS0FBS2dTLEtBQU8sRUFBR3BCLElBRWpDLElBQUssSUFBSVcsRUFBSSxFQUFHQSxFQUFJdlIsS0FBSytSLEtBQU8sRUFBR1IsSUFBSyxDQUN0QyxNQUFNQyxFQUFZeFIsS0FBSzRSLElBQUloQixLQUFLVyxHQUMxQmlRLEVBQ0p4aEIsS0FBSzhSLGNBQWdCbEIsSUFBTTVRLEtBQUs4UixhQUFhbUMsT0FBUzFDLElBQU12UixLQUFLOFIsYUFBYWtDLE1QcEozRCxJT3FKaEJ4QyxHUHBKa0IsSU9vSmFBLEdBQW1DZ1EsR0FDakV4aEIsS0FBS3loQixpQkFBaUJsUSxFQUFHWCxFQUFHLEdBQUcsSUFFakMyUSxFQUFjL1YsS0FBSyxDQUFFb0YsSUFBR1csS0FHOUIsQ0FHRixHQUE2QixJQUF6QmdRLEVBQWN6Z0IsT0FDaEIsSUFBSyxJQUFJOFAsRUFBSSxFQUFHQSxFQUFJNVEsS0FBS2dTLEtBQU1wQixJQUM3QixJQUFLLElBQUlXLEVBQUksRUFBR0EsRUFBSXZSLEtBQUsrUixLQUFNUixJQUFLLENBQ2xDLE1BQU1DLEVBQVl4UixLQUFLNFIsSUFBSWhCLEtBQUtXLEdBQzFCaVEsRUFDSnhoQixLQUFLOFIsY0FBZ0JsQixJQUFNNVEsS0FBSzhSLGFBQWFtQyxPQUFTMUMsSUFBTXZSLEtBQUs4UixhQUFha0MsTVBuSzdELElPb0tkeEMsR1BuS2dCLElPbUtlQSxHQUFtQ2dRLEdBQ2pFeGhCLEtBQUt5aEIsaUJBQWlCbFEsRUFBR1gsRUFBRyxHQUFHLElBRWpDMlEsRUFBYy9WLEtBQUssQ0FBRW9GLElBQUdXLEtBRzlCLENBSUosR0FBNkIsSUFBekJnUSxFQUFjemdCLE9BRWhCLElBQUssSUFBSThQLEVBQUksRUFBR0EsRUFBSTVRLEtBQUtnUyxLQUFNcEIsSUFDN0IsSUFBSyxJQUFJVyxFQUFJLEVBQUdBLEVBQUl2UixLQUFLK1IsS0FBTVIsSUFBSyxDQUNsQyxNQUFNQyxFQUFZeFIsS0FBSzRSLElBQUloQixLQUFLVyxHQUMxQmlRLEVBQ0p4aEIsS0FBSzhSLGNBQWdCbEIsSUFBTTVRLEtBQUs4UixhQUFhbUMsT0FBUzFDLElBQU12UixLQUFLOFIsYUFBYWtDLE1QcEw3RCxJT3FMZHhDLEdQcExnQixJT29MZUEsR0FBbUNnUSxHQUNyRUQsRUFBYy9WLEtBQUssQ0FBRW9GLElBQUdXLEtBRTVCLENBSUosR0FBNkIsSUFBekJnUSxFQUFjemdCLE9BSWhCLFlBSEFxQyxRQUFRRSxNQUNOLGFBQWFyRCxLQUFLMlQscUVBS3RCLE1BQU0sRUFBRS9DLEVBQUMsRUFBRVcsR0FBTWdRLEVBQWMzYSxLQUFLZ0QsTUFBTWhELEtBQUtDLFNBQVcwYSxFQUFjemdCLFNBQ3hFLE1BQU8sQ0FBRWtCLEdBQUl1UCxFQUFJLElBQU92UixLQUFLb1AsU0FBVW5OLEdBQUkyTyxFQUFJLElBQU81USxLQUFLb1AsU0FDN0QsQ0FFQSxnQkFBQXFTLENBQWlCek4sRUFBT0MsRUFBT3lOLEVBQWUsRUFBR0MsR0FBMkIsR0FJMUUsR0FIMkIzaEIsS0FBSzJULGFBRzNCM1QsS0FBSzRSLElBQUssT0FBTyxFQUN0QixJQUFJZ1EsRUFBaUIsRUFFckIsTUFBTTNILEVBQWEsQ0FDakIsQ0FBQyxHQUFJLEVBQUcsS0FDUixDQUFDLEVBQUcsRUFBRyxLQUNQLEVBQUUsRUFBRyxFQUFHLEtBQ1IsQ0FBQyxFQUFHLEVBQUcsTUFFSDRILEVBQWEsRUFBQyxHQUFPLEdBQU8sR0FBTyxHQUd6QyxJQUFLLElBQUk5Z0IsRUFBSSxFQUFHQSxFQUFJa1osRUFBV25aLE9BQVFDLElBQUssQ0FDMUMsTUFBT3VZLEVBQUlDLEVBQUl1SSxHQUFZN0gsRUFBV2xaLEdBQ2hDZ2hCLEVBQVkvTixFQUFRc0YsRUFDcEIwSSxFQUFZL04sRUFBUXNGLEVBQzFCLElBQUkwSSxFUDVOZSxFTzhOZkYsR0FBYSxHQUFLQSxFQUFZL2hCLEtBQUsrUixNQUFRaVEsR0FBYSxHQUFLQSxFQUFZaGlCLEtBQUtnUyxPQUNoRmlRLEVBQW9CamlCLEtBQUs0UixJQUFJb1EsS0FBYUQsR1A5TnJCLElPZ09uQkUsR1AvTnFCLElPZ09yQkEsR1AvTmUsSU9nT2ZBLElBRUFMLElBQ0FDLEVBQVc5Z0IsSUFBSyxHQUl0QixDQUlBLEdBQUk2Z0IsRUFBaUJGLEVBRW5CLE9BQU8sRUFHVCxHQUFJQyxHQUErQyxJQUFuQkMsRUFBc0IsQ0FFcEQsR0FBSUMsRUFBVyxJQUFNQSxFQUFXLEtBQU9BLEVBQVcsS0FBT0EsRUFBVyxHQUdsRSxPQUFPLEVBRVQsR0FBSUEsRUFBVyxJQUFNQSxFQUFXLEtBQU9BLEVBQVcsS0FBT0EsRUFBVyxHQUdsRSxPQUFPLENBRVgsQ0FFQSxPQUFPLENBQ1QsQ0FFQSx1QkFBQUssQ0FDRUMsRUFDQUMsRUFDQUMsRUFBWSxFQUNaQyxHQUFjLEVBQ2RYLEdBQTJCLEdBSzNCLEdBSDJCM2hCLEtBQUsyVCxhQUczQjNULEtBQUs0UixJQUFLLE9BQU8sS0FDdEIsTUFBTTJRLEVBQWMzYixLQUFLZ0QsTUFBTXVZLEVBQWVuaUIsS0FBS29QLFVBQzdDb1QsRUFBYzViLEtBQUtnRCxNQUFNd1ksRUFBZXBpQixLQUFLb1AsVUFHN0NxVCxFQUFrQixDUGxSQyxFQUNFLEdPb1IzQixHQUNFRixHQUFlLEdBQ2ZBLEVBQWN2aUIsS0FBSytSLE1BQ25CeVEsR0FBZSxHQUNmQSxFQUFjeGlCLEtBQUtnUyxLQUNuQixDQUNBLE1BQU0wUSxFQUFpQjFpQixLQUFLNFIsSUFBSTRRLEdBQWFELEdBQzdDLEdBQ0VFLEVBQWdCbkgsU0FBU29ILE1BQ3ZCSixHUDVSZSxJTzRSQUksR0FDakIsQ0FFQSxNQUFNQyxFQUFxQixFQUMzQixHQUNFM2lCLEtBQUt5aEIsaUJBQ0hjLEVBQ0FDLEVBQ0FHLEVBQ0FoQixHQUlGLE1BQU8sQ0FBRTNmLEdBQUl1Z0IsRUFBYyxJQUFPdmlCLEtBQUtvUCxTQUFVbk4sR0FBSXVnQixFQUFjLElBQU94aUIsS0FBS29QLFNBRW5GLENBQ0YsQ0FHQSxJQUFLLElBQUlvRyxFQUFTLEVBQUdBLEdBQVU2TSxFQUFXN00sSUFBVSxDQUVsRCxNQUFNb04sRUFBNEIsRUFHbEMsSUFBSyxJQUFJckosR0FBTS9ELEVBQVErRCxHQUFNL0QsRUFBUStELElBQ25DLElBQUssSUFBSUQsR0FBTTlELEVBQVE4RCxHQUFNOUQsRUFBUThELElBQU0sQ0FDekMsR0FBSTFTLEtBQUtpYyxJQUFJdkosR0FBTTlELEdBQVU1TyxLQUFLaWMsSUFBSXRKLEdBQU0vRCxFQUFRLFNBQ3BELE1BQU1zTixFQUFTUCxFQUFjakosRUFDdkJ5SixFQUFTUCxFQUFjakosRUFFN0IsR0FBSXVKLEVBQVMsR0FBS0EsR0FBVTlpQixLQUFLK1IsTUFBUWdSLEVBQVMsR0FBS0EsR0FBVS9pQixLQUFLZ1MsS0FBTSxTQUU1RSxNQUFNUixFQUFZeFIsS0FBSzRSLElBQUltUixLQUFVRCxHQUNyQyxHQUFJTCxFQUFnQm5ILFNBQVM5SixNQUFnQjhRLEdQN1Q5QixJTzZUNkM5USxJQUd4RHhSLEtBQUt5aEIsaUJBQ0hxQixFQUNBQyxFQUNBSCxFQUNBakIsR0FJRixNQUFPLENBQUUzZixHQUFJOGdCLEVBQVMsSUFBTzlpQixLQUFLb1AsU0FBVW5OLEdBQUk4Z0IsRUFBUyxJQUFPL2lCLEtBQUtvUCxTQUczRSxDQUVKLENBSUEsTUFDTW1MLEVBQVEsQ0FBQyxDQUFDZ0ksRUFBYUMsSUFDdkJoSSxFQUFVLElBQUlDLElBQUksQ0FBQyxHQUFHOEgsS0FBZUMsTUFDckN2SSxFQUFhLENBQ2pCLENBQUMsR0FBSSxHQUNMLENBQUMsRUFBRyxHQUNKLEVBQUUsRUFBRyxHQUNMLENBQUMsRUFBRyxJQUdBK0ksRUFBdUIsQ1A3VkosRUFDRSxFQUNOLEdPNlZyQixLQUFPekksRUFBTXpaLE9BQVMsR0FBRyxDQUN2QixNQUFPaWEsRUFBT0MsR0FBU1QsRUFBTVcsUUFDN0IsSUFBSyxNQUFPNUIsRUFBSUMsS0FBT1UsRUFBWSxDQUNqQyxNQUFNa0IsRUFBUUosRUFBUXpCLEVBQ2hCOEIsRUFBUUosRUFBUXpCLEVBQ2hCM1gsRUFBTSxHQUFHdVosS0FBU0MsSUFFeEIsR0FDRUQsR0FBUyxHQUNUQSxFQUFRbmIsS0FBSytSLE1BQ2JxSixHQUFTLEdBQ1RBLEVBQVFwYixLQUFLZ1MsT0FDWndJLEVBQVFhLElBQUl6WixHQUNiLENBQ0EsTUFBTTRQLEVBQVl4UixLQUFLNFIsSUFBSXdKLEtBQVNELEdBR3BDLEdBRkFYLEVBQVFuVyxJQUFJekMsR0FFUjZnQixFQUFnQm5ILFNBQVM5SixNQUFnQjhRLEdQOVc5QixJTzhXNkM5USxJQUV0RHhSLEtBQUt5aEIsaUJBQWlCdEcsRUFBT0MsRUEvQmpCLEVBK0J5Q3VHLEdBR3ZELE1BQU8sQ0FBRTNmLEdBQUltWixFQUFRLElBQU9uYixLQUFLb1AsU0FBVW5OLEdBQUltWixFQUFRLElBQU9wYixLQUFLb1AsVUFJbkU0VCxFQUFxQjFILFNBQVM5SixJQUNoQytJLEVBQU0vTyxLQUFLLENBQUMyUCxFQUFPQyxHQUV2QixDQUNGLENBQ0YsQ0FHQSxPQUFPLElBQ1QsQ0FFQSx5QkFBQTZILENBQTBCQyxFQUFXQyxFQUFXQyxFQUFvQixHQUN2Q3BqQixLQUFLMlQsWUFHaEMsSUFBSTBQLEVBQWlCLEtBQ2pCQyxFQUFtQixLQUNuQkMsRUFBa0MsS0FFdEMsTUFBTUMsRUFBaUIsQ0FDckIsQ0FBRWxLLEdBQUksRUFBR0MsSUFBSyxHQUNkLENBQUVELEdBQUksRUFBR0MsR0FBSSxHQUNiLENBQUVELElBQUssRUFBR0MsR0FBSSxHQUNkLENBQUVELEdBQUksRUFBR0MsR0FBSSxJQUtmLElBQUssTUFBTWtLLEtBQUtELEVBQWdCLENBQzlCLE1BQU1FLEVBQU9SLEVBQVlPLEVBQUVuSyxHQUNyQnFLLEVBQU9SLEVBQVlNLEVBQUVsSyxHQUMzQixHQUNFbUssR0FBUSxHQUNSQSxFQUFPMWpCLEtBQUsrUixNQUNaNFIsR0FBUSxHQUNSQSxFQUFPM2pCLEtBQUtnUyxNUDNaVyxJTzRadkJoUyxLQUFLNFIsSUFBSStSLEtBQVFELEdBRWpCLElBQUssTUFBTXZRLEtBQVFuVCxLQUFLeVIsTUFDdEIsR0FDRWlTLEdBQVF2USxFQUFLblIsR0FDYjBoQixFQUFPdlEsRUFBS25SLEVBQUltUixFQUFLaEYsT0FDckJ3VixHQUFReFEsRUFBS2xSLEdBQ2IwaEIsRUFBT3hRLEVBQUtsUixFQUFJa1IsRUFBSy9FLE9BQ3JCLENBQ0FpVixFQUFpQmxRLEVBQ2pCbVEsRUFBbUIsQ0FBRXRoQixFQUFHMGhCLEVBQU16aEIsRUFBRzBoQixHQUNqQ0osRUFBa0MsQ0FBRWpLLEdBQUltSyxFQUFFbkssR0FBSUMsR0FBSWtLLEVBQUVsSyxJQUVwRCxLQUNGLENBR0osR0FBSThKLEVBQWdCLEtBQ3RCLENBR0EsSUFBS0EsRUFFSCxJQUFLLE1BQU1PLEtBQVVKLEVBQWdCLENBRW5DLE1BQU1LLEVBQVlYLEVBQVlVLEVBQU90SyxHQUMvQndLLEVBQVlYLEVBQVlTLEVBQU9ySyxHQUdyQyxLQUNFc0ssRUFBWSxHQUNaQSxHQUFhN2pCLEtBQUsrUixNQUNsQitSLEVBQVksR0FDWkEsR0FBYTlqQixLQUFLZ1MsTVA5YkMsSU8rYm5CaFMsS0FBSzRSLElBQUlrUyxLQUFhRCxJQUx4QixDQVVBLElBQUssTUFBTUUsS0FBVVAsRUFBZ0IsQ0FHbkMsR0FBSU8sRUFBT3pLLE1BQVFzSyxFQUFPdEssSUFBTXlLLEVBQU94SyxNQUFRcUssRUFBT3JLLEdBQUksU0FFMUQsTUFBTXlLLEVBQWlCSCxFQUFZRSxFQUFPekssR0FDcEMySyxFQUFpQkgsRUFBWUMsRUFBT3hLLEdBRTFDLEdBQ0V5SyxHQUFrQixHQUNsQkEsRUFBaUJoa0IsS0FBSytSLE1BQ3RCa1MsR0FBa0IsR0FDbEJBLEVBQWlCamtCLEtBQUtnUyxNUC9jSCxJT2dkbkJoUyxLQUFLNFIsSUFBSXFTLEtBQWtCRCxHQUUzQixJQUFLLE1BQU03USxLQUFRblQsS0FBS3lSLE1BQ3RCLEdBQ0V1UyxHQUFrQjdRLEVBQUtuUixHQUN2QmdpQixFQUFpQjdRLEVBQUtuUixFQUFJbVIsRUFBS2hGLE9BQy9COFYsR0FBa0I5USxFQUFLbFIsR0FDdkJnaUIsRUFBaUI5USxFQUFLbFIsRUFBSWtSLEVBQUsvRSxPQUMvQixDQUNBaVYsRUFBaUJsUSxFQUNqQm1RLEVBQW1CLENBQUV0aEIsRUFBR2dpQixFQUFnQi9oQixFQUFHZ2lCLEdBQzNDVixFQUFrQyxDQUFFakssR0FBSXlLLEVBQU96SyxHQUFJQyxHQUFJd0ssRUFBT3hLLElBRTlELEtBQ0YsQ0FHSixHQUFJOEosRUFBZ0IsS0FDdEIsQ0FDQSxHQUFJQSxFQUFnQixLQWxDcEIsQ0FtQ0YsQ0FHRixJQUFLQSxJQUFtQkMsSUFBcUJDLEVBRTNDLE9BQU8sS0FJVCxNQUFNVyxFQUFXWCxFQUFnQ2pLLEdBQzNDNkssRUFBV1osRUFBZ0NoSyxHQUtqRCxJQUFLLElBQUk2SyxFQUFhaEIsRUFBb0IsRUFBR2dCLEdBQWMsRUFBR0EsSUFBYyxDQUMxRSxNQUFNQyxFQUFzQmYsRUFBaUJ0aEIsRUFBSWtpQixFQUFXRSxFQUN0REUsRUFBc0JoQixFQUFpQnJoQixFQUFJa2lCLEVBQVdDLEVBRzVELEdBQ0VDLEdBQXVCaEIsRUFBZXJoQixHQUN0Q3FpQixFQUFzQmhCLEVBQWVyaEIsRUFBSXFoQixFQUFlbFYsT0FDeERtVyxHQUF1QmpCLEVBQWVwaEIsR0FDdENxaUIsRUFBc0JqQixFQUFlcGhCLEVBQUlvaEIsRUFBZWpWLFFQNWZqQyxJTzZmdkJwTyxLQUFLNFIsSUFBSTBTLEtBQXVCRCxHQUNoQyxDQUdBLE1BQU1FLEVBQWFGLEVBQXNCSCxFQUNuQ00sRUFBYUYsRUFBc0JILEVBQ25DTSxFQUNKRixHQUFjbEIsRUFBZXJoQixHQUM3QnVpQixFQUFhbEIsRUFBZXJoQixFQUFJcWhCLEVBQWVsVixPQUMvQ3FXLEdBQWNuQixFQUFlcGhCLEdBQzdCdWlCLEVBQWFuQixFQUFlcGhCLEVBQUlvaEIsRUFBZWpWLFFQdmdCMUIsSU93Z0JyQnBPLEtBQUs0UixJQUFJNFMsS0FBY0QsR0FFekIsR0FDRXZrQixLQUFLeWhCLGlCQUFpQjRDLEVBQXFCQyxFQUFxQixHQUFHLElBQ25FRyxFQUdBLE1BQU8sQ0FDTHppQixHQUFJcWlCLEVBQXNCLElBQU9ya0IsS0FBS29QLFNBQ3RDbk4sR0FBSXFpQixFQUFzQixJQUFPdGtCLEtBQUtvUCxTQUs1QyxDQUdGLENBR0EsT0FBSXBQLEtBQUt5aEIsaUJBQWlCNkIsRUFBaUJ0aEIsRUFBR3NoQixFQUFpQnJoQixFQUFHLEdBQUcsR0FFNUQsQ0FDTEQsR0FBSXNoQixFQUFpQnRoQixFQUFJLElBQU9oQyxLQUFLb1AsU0FDckNuTixHQUFJcWhCLEVBQWlCcmhCLEVBQUksSUFBT2pDLEtBQUtvUCxVQUtsQyxJQUNULENBRUEsd0JBQUFzVixDQUF5QnRELEVBQVFDLEVBQVE3TCxFQUF5QixHQUFoQnhWLEtBQUtvUCxVQUNyRCxJQUFLcFAsS0FBSzZSLE9BQStCLElBQXRCN1IsS0FBSzZSLE1BQU0vUSxPQUFjLE9BQU8sS0FDbkQsSUFBSTZqQixFQUFjLEtBQ2RDLEVBQWdCcFAsRUFBU0EsRUFFN0IsSUFBSyxNQUFNd0IsS0FBUWhYLEtBQUs2UixNQUN0QixJQUFLbUYsRUFBS3pILFlBQWEsQ0FFckIsTUFBTStKLEVBQUt0QyxFQUFLaFYsRUFBSW9mLEVBQ2Q3SCxFQUFLdkMsRUFBSy9VLEVBQUlvZixFQUNkd0QsRUFBYXZMLEVBQUtBLEVBQUtDLEVBQUtBLEVBQzlCc0wsRUFBYUQsSUFDZkEsRUFBZ0JDLEVBQ2hCRixFQUFjM04sRUFFbEIsQ0FFRixPQUFPMk4sQ0FDVCxDQUVBLG1CQUFBRyxDQUFvQkMsR0FDbEIsSUFBS0EsSUFBa0Iva0IsS0FBSzZSLE1BQU8sT0FBTyxFQUMxQyxNQUFNbUYsRUFBT2hYLEtBQUs2UixNQUFNd00sTUFBTXZTLEdBQU1BLEVBQUUzSCxLQUFPNGdCLEVBQWM1Z0IsS0FDM0QsU0FBSTZTLEdBQVNBLEVBQUt6SCxjQUNoQnlILEVBQUt6SCxhQUFjLEVBRVosR0FHWCxDQUVBLGNBQUF5VixDQUFlNUQsRUFBUUMsRUFBUTdMLEVQcmpCaUIsR09xakJSeFYsS0FBS29QLFVBQzNDLElBQUtwUCxLQUFLOFIsYUFBYyxPQUFPLEtBRS9CLE1BQU13SCxFQUFLOEgsRUFBU3BoQixLQUFLOFIsYUFBYTlQLEVBQ2hDdVgsRUFBSzhILEVBQVNyaEIsS0FBSzhSLGFBQWE3UCxFQUV0QyxPQURtQnFYLEVBQUtBLEVBQUtDLEVBQUtBLEVBQ2QvRCxFQUFTQSxFQUFTeFYsS0FBSzhSLGFBQWUsSUFDNUQsQ0FFQSxlQUFBbVQsR0FDRSxPQUFPamxCLEtBQUs4UixZQUNkLENBRUEsSUFBQXJELENBQUsvQixFQUFLOEMsRUFBWSxNQUNwQixJQUFLeFAsS0FBSzRSLE1BQVE1UixLQUFLaWMsU0FBVSxPQUVqQyxNQUFNdEssRUFBVSxDQUNkQyxJQUFLNVIsS0FBSzRSLElBQ1ZILE1BQU96UixLQUFLeVIsTUFDWkksTUFBTzdSLEtBQUs2UixNQUNaQyxhQUFjOVIsS0FBSzhSLGFBQ25CcEQsUUFBUzFPLEtBQUswTyxRQUNkQyxRQUFTM08sS0FBSzJPLFFBQ2RvRCxLQUFNL1IsS0FBSytSLEtBQ1hDLEtBQU1oUyxLQUFLZ1MsS0FDWDVDLFNBQVVwUCxLQUFLb1AsVUFFakJwUCxLQUFLaWMsU0FBU3hOLEtBQUsvQixFQUFLaUYsRUFBU25DLEVBQ25DLENBRUEsVUFBQTBWLEdBQ0UsSUFBS2xsQixLQUFLNFIsSUFFUixZQURBek8sUUFBUUMsSUFBSSxhQUFhcEQsS0FBSzJULHdDQUdoQ3hRLFFBQVFDLElBQUksc0JBQXNCcEQsS0FBSzJULGdCQUFnQjNULEtBQUsrUixRQUFRL1IsS0FBS2dTLGFBQ3pFLElBQUltVCxFQUFTLE1BQ2IsSUFBSyxJQUFJNVQsRUFBSSxFQUFHQSxFQUFJdlIsS0FBSytSLEtBQU1SLElBQUs0VCxHQUFVNVQsRUFBSSxJQUFPLEVBQUkzSyxLQUFLZ0QsTUFBTTJILEVBQUksSUFBTSxJQUNsRnBPLFFBQVFDLElBQUkraEIsR0FDWkEsRUFBUyxNQUNULElBQUssSUFBSTVULEVBQUksRUFBR0EsRUFBSXZSLEtBQUsrUixLQUFNUixJQUFLNFQsR0FBVTVULEVBQUksR0FDbERwTyxRQUFRQyxJQUFJK2hCLEdBRVosSUFBSyxJQUFJbGpCLEVBQUksRUFBR0EsRUFBSWpDLEtBQUtnUyxLQUFNL1AsSUFBSyxDQUNsQyxNQUFNbWpCLEVBQVNuakIsRUFBRTZFLFdBQVdxRSxTQUFTLEVBQUcsS0FDbENrYSxFQUFZcmxCLEtBQUs0UixJQUFJM1AsR0FDeEIyUCxLQUFLMFQsSUFDSixPQUFRQSxHQUNOLEtQem5CYSxFTzBuQlgsTUFBTyxJQUNULEtQMW5CaUIsRU8ybkJmLE1BQU8sSUFDVCxLUDNuQm1CLEVPNG5CakIsTUFBTyxJQUNULEtQNW5CYSxFTzZuQlgsTUFBTyxJQUNULFFBQ0UsTUFBTyxJQUNYLElBRURDLEtBQUssSUFDUnBpQixRQUFRQyxJQUFJLEdBQUdnaUIsS0FBVUMsSUFDM0IsQ0FDSXJsQixLQUFLOFIsY0FDUDNPLFFBQVFDLElBQ04sZ0NBQWdDcEQsS0FBSzhSLGFBQWFtQyxVQUFValUsS0FBSzhSLGFBQWFrQyxXQUM1RWhVLEtBQUs0UixJQUFJNVIsS0FBSzhSLGFBQWFtQyxTQUFTalUsS0FBSzhSLGFBQWFrQyxVQUcxRDdRLFFBQVFDLElBQ04sMkJBQTJCcEQsS0FBSzhSLGFBQWFrQyxVQUFVaFUsS0FBSzhSLGFBQWFtQyxXQUczRTlRLFFBQVFDLElBQUksMEJBRWRELFFBQVFDLElBQUksMEJBQTBCcEQsS0FBSzJULGtCQUM3QyxFQ2hwQkssTUFBTTZSLEVBTVgsV0FBQW5rQixDQUFZbUksRUFBVyxFQUFHQyxFQUFXLEdBQy9CRCxHQUFZQyxHQUNkdEcsUUFBUVksS0FDTixnQ0FBZ0N5RixrQ0FBeUNDLCtCQUUzRXpKLEtBQUt3SixTQUFXLEVBQ2hCeEosS0FBS3lKLFNBQVcsSUFFaEJ6SixLQUFLd0osU0FBV0EsRUFDaEJ4SixLQUFLeUosU0FBV0EsR0FHbEJ6SixLQUFLMEosYUFBZTFKLEtBQUt3SixTQUN6QnhKLEtBQUtnWixXQUFhLEtBRWxCaFosS0FBS29QLFNBQVcsRUFDbEIsQ0FZQSxlQUFNcVcsQ0FBVTlSLEVBQWFvSSxFQUFhQyxHQUN4QyxHQUFJckksRUFBYzNULEtBQUt3SixVQUFZbUssRUFBYzNULEtBQUt5SixTQUFVLENBQzlELE1BQU04VyxFQUFXLG9DQUFvQzVNLHNCQUFnQzNULEtBQUt3SixZQUFZeEosS0FBS3lKLFlBRTNHLE1BREF0RyxRQUFRRSxNQUFNLFdBQVdrZCxLQUNuQixJQUFJdGYsTUFBTXNmLEVBQ2xCLENBRUFwZCxRQUFRQyxJQUFJLHlCQUF5QnVRLFFBQ3JDM1QsS0FBSzBKLGFBQWVpSyxFQUVwQixJQVlFLEdBVEEzVCxLQUFLZ1osV0FBYSxJQUFJOEMsRUFDcEJDLEVBQ0FDLEVBQ0FoYyxLQUFLMEosYUFDTDFKLEtBQUt3SixTQUNMeEosS0FBS3lKLFlBS0p6SixLQUFLZ1osV0FBVzVKLFVBQ2hCcFAsS0FBS2daLFdBQVdwSCxLQUNoQjVSLEtBQUtnWixXQUFXbkgsT0FDaEI3UixLQUFLZ1osV0FBV2lNLG1CQUVqQixNQUFNLElBQUloa0IsTUFDUiwwSEFJSmpCLEtBQUtvUCxTQUFXcFAsS0FBS2daLFdBQVc1SixTQUNoQyxNQUFNc1csRUFBVTFsQixLQUFLZ1osV0FBV2lNLGtCQUNoQzloQixRQUFRQyxJQUNOLHFDQUFxQ3BELEtBQUswSiwyQkFBMkIxSixLQUFLb1AsMEJBQTBCc1csRUFBUTFSLFVBQVUwUixFQUFRelIsV0FLaEk5USxRQUFRQyxJQUNOLGlCQUFpQnVRLG9DQUE4QzNULEtBQUtnWixXQUFXakgsUUFBUS9SLEtBQUtnWixXQUFXaEgsU0FBU2hTLEtBQUtnWixXQUFXbkgsTUFBTS9RLHVCQUUxSSxDQUFFLE1BQU91QyxHQU9QLE1BTkFGLFFBQVFFLE1BQ04sMENBQTBDc1EsaURBQzFDdFEsR0FFRnJELEtBQUtnWixXQUFhLEtBRVosSUFBSS9YLE1BQ1IsOENBQThDMFMsTUFBZ0J0USxFQUFNK0MsU0FBVy9DLElBRW5GLENBR0EsT0FBT3NpQixRQUFRQyxTQUNqQixDQVVBLGVBQUFDLEdBQ0UsT0FBTzdsQixLQUFLZ1osV0FBYWhaLEtBQUtnWixXQUFXbkgsTUFBUSxFQUNuRCxFQzVHSyxNQUFNaVUsRUFDWCxXQUFBemtCLENBQVkwa0IsR0FDVi9sQixLQUFLK2xCLEtBQU9BLEVBQ1ovbEIsS0FBS2lLLE9BQVMsS0FDZGpLLEtBQUswTSxJQUFNLElBQ2IsQ0FFQSxnQkFBQXNaLEdBRUUsR0FEQWhtQixLQUFLaUssT0FBUzFKLFNBQVMwRCxlQUFlLGdCQUNqQ2pFLEtBQUtpSyxPQUFRLE1BQU0sSUFBSWhKLE1BQU0sOENBRWxDLEdBREFqQixLQUFLME0sSUFBTTFNLEtBQUtpSyxPQUFPZ2MsV0FBVyxPQUM3QmptQixLQUFLME0sSUFBSyxNQUFNLElBQUl6TCxNQUFNLHdDQUkvQixPQUhBakIsS0FBSzBNLElBQUl3Wix1QkFBd0IsRUFDakNsbUIsS0FBS21tQixlQUNMaGpCLFFBQVFDLElBQUksa0NBQ0wsQ0FBRTZHLE9BQVFqSyxLQUFLaUssT0FBUXlDLElBQUsxTSxLQUFLME0sSUFDMUMsQ0FFQSxZQUFBeVosR0FDT25tQixLQUFLaUssU0FDVmpLLEtBQUtpSyxPQUFPa0UsTUFBUWhPLE9BQU9pbUIsV0FDM0JwbUIsS0FBS2lLLE9BQU9tRSxPQUFTak8sT0FBT2ttQixZQUN4QnJtQixLQUFLK2xCLEtBQUtPLFdBQWF0bUIsS0FBSytsQixLQUFLUSxPQUFPdk4sWUFDMUNoWixLQUFLd21CLDBCQUVQcmpCLFFBQVFDLElBQUksZ0NBQWdDcEQsS0FBS2lLLE9BQU9rRSxTQUFTbk8sS0FBS2lLLE9BQU9tRSxVQUMvRSxDQUVBLHVCQUFBb1ksR0FDRSxNQUFNLFVBQUVGLEVBQVMsTUFBRUMsRUFBSyxPQUFFdGMsR0FBV2pLLEtBQUsrbEIsS0FDdENPLEdBQWFDLEdBQU92TixZQUFjL08sSUFDcENzYyxFQUFNdk4sV0FBV3RLLFFBQVU5SCxLQUFLZ0QsTUFBTUssRUFBT2tFLE1BQVEsRUFBSW1ZLEVBQVV0a0IsR0FDbkV1a0IsRUFBTXZOLFdBQVdySyxRQUFVL0gsS0FBS2dELE1BQU1LLEVBQU9tRSxPQUFTLEVBQUlrWSxFQUFVcmtCLEdBRXhFLENBRUEsU0FBQXdrQixHQUNFLElBQUt6bUIsS0FBSzBNLE1BQVExTSxLQUFLaUssT0FBUSxPQUMvQmpLLEtBQUswTSxJQUFJZ2EsVUFBVSxFQUFHLEVBQUcxbUIsS0FBS2lLLE9BQU9rRSxNQUFPbk8sS0FBS2lLLE9BQU9tRSxRQUN4RCxNQUFNd0QsRUFBTTVSLEtBQUsrbEIsS0FBS1EsT0FBT3ZOLFdBQ3ZCMk4sRUFBTzNtQixLQUFLK2xCLEtBQUtPLFVBQ25CMVUsR0FDRkEsRUFBSW5ELEtBQUt6TyxLQUFLME0sSUFBSzFNLEtBQUsrbEIsS0FBS3ZXLFdBRTNCbVgsR0FBUS9VLEdBQ1YrVSxFQUFLbFksS0FBS21ELEVBQUlsRCxRQUFTa0QsRUFBSWpELFFBRy9CLENBRUEsYUFBQWlZLEdBQ081bUIsS0FBSzBNLEtBQVExTSxLQUFLaUssU0FDdkJqSyxLQUFLME0sSUFBSStDLFVBQVkscUJBQ3JCelAsS0FBSzBNLElBQUlnRCxTQUFTLEVBQUcsRUFBRzFQLEtBQUtpSyxPQUFPa0UsTUFBT25PLEtBQUtpSyxPQUFPbUUsUUFDdkRwTyxLQUFLME0sSUFBSW9ELFVBQVksU0FDckI5UCxLQUFLME0sSUFBSXFELGFBQWUsU0FDeEIvUCxLQUFLME0sSUFBSStDLFVBQVksT0FFckJ6UCxLQUFLME0sSUFBSW1ELEtBQU8sc0VBQ2hCN1AsS0FBSzBNLElBQUlzRCxTQUFTLGNBQWVoUSxLQUFLaUssT0FBT2tFLE1BQVEsRUFBR25PLEtBQUtpSyxPQUFPbUUsT0FBUyxFQUFJLElBQ2pGcE8sS0FBSzBNLElBQUkrQyxVQUFZLFFBQ3JCelAsS0FBSzBNLElBQUltRCxLQUFPLDJDQUNoQjdQLEtBQUswTSxJQUFJc0QsU0FDUCxxQkFBcUJoUSxLQUFLK2xCLEtBQUtjLDRCQUMvQjdtQixLQUFLaUssT0FBT2tFLE1BQVEsRUFDcEJuTyxLQUFLaUssT0FBT21FLE9BQVMsR0FFdkJwTyxLQUFLME0sSUFBSW1ELEtBQU8sMkNBQ2hCN1AsS0FBSzBNLElBQUlzRCxTQUFTLHlCQUEwQmhRLEtBQUtpSyxPQUFPa0UsTUFBUSxFQUFHbk8sS0FBS2lLLE9BQU9tRSxPQUFTLEVBQUksSUFDNUZwTyxLQUFLME0sSUFBSW1ELEtBQU8sMkNBQ2hCN1AsS0FBSzBNLElBQUkrQyxVQUFZLE9BQ3JCelAsS0FBSzBNLElBQUlzRCxTQUNQLHdDQUNBaFEsS0FBS2lLLE9BQU9rRSxNQUFRLEVBQ3BCbk8sS0FBS2lLLE9BQU9tRSxPQUFTLElBRXpCLEVDakVLLE1BQU0wWSxFQUNYLFdBQUF6bEIsQ0FBWTBrQixHQUNWL2xCLEtBQUsrbEIsS0FBT0EsRUFDWi9sQixLQUFLZ0osYUFBZWhKLEtBQUtnSixhQUFhK2QsS0FBSy9tQixNQUMzQ0EsS0FBSzJKLHFCQUF1QjNKLEtBQUsySixxQkFBcUJvZCxLQUFLL21CLEtBQzdELENBRUEsTUFBQWduQixDQUFPalosR0FDRC9OLEtBQUsrbEIsS0FBS2tCLFlBQWMva0IsRUFBVUcsU0FDcENyQyxLQUFLa25CLG1CQUFtQm5aLEVBRTVCLENBRUEsa0JBQUFtWixDQUFtQm5aLEdBQ2pCLE1BQU00WSxFQUFPM21CLEtBQUsrbEIsS0FBS08sVUFDdkIsSUFBS3RtQixLQUFLK2xCLEtBQUtRLE9BQU92TixhQUFlMk4sSUFBUzNtQixLQUFLK2xCLEtBQUt4aUIsYUFBYyxPQUV0RSxNQUFNLE1BQUU0akIsR0FBVW5uQixLQUFLb25CLGlCQUVuQlQsR0FBd0MsbUJBQXpCQSxFQUFLN1ksaUJBQ3RCNlksRUFBSzdZLGdCQUFnQkMsR0FHbEJvWixHQUFTbm5CLEtBQUsrbEIsS0FBS2tCLFlBQWMva0IsRUFBVUcsU0FDOUNyQyxLQUFLcW5CLG9CQUVULENBRUEsY0FBQUQsR0FDRSxNQUFNVCxFQUFPM21CLEtBQUsrbEIsS0FBS08sVUFDakIxVSxFQUFNNVIsS0FBSytsQixLQUFLUSxNQUFNdk4sV0FDdEJzTyxFQUFRdG5CLEtBQUsrbEIsS0FBS3hpQixhQUN4QixJQUFLb2pCLElBQVMvVSxJQUFRMFYsRUFBTyxNQUFPLENBQUVILE9BQU8sR0FFN0MsTUFBTTFpQixFQUFZNmlCLEVBQU12bEIsb0JBQ3hCLElBQUl1WCxFQUFLN1UsRUFBVXpDLEVBQUkya0IsRUFBS3paLE1BQ3hCcU0sRUFBSzlVLEVBQVV4QyxFQUFJMGtCLEVBQUt6WixNQUd4QnFhLEVBQWMsRUFDZEMsRUFBYyxFQUNkTCxHQUFRLEVBRVosR0FMNEIsSUFBUDdOLEdBQW1CLElBQVBDLEVBS2YsQ0FDaEIsTUFBTWtPLEVBQWtCLElBQVBuTyxJQUFhdFosS0FBSzBuQixlQUFlZixFQUFLM2tCLEVBQUlzWCxFQUFJcU4sRUFBSzFrQixHQUM5RDBsQixFQUFrQixJQUFQcE8sSUFBYXZaLEtBQUswbkIsZUFBZWYsRUFBSzNrQixFQUFHMmtCLEVBQUsxa0IsRUFBSXNYLEdBRS9Ea08sSUFBVUYsRUFBY2pPLEdBQ3hCcU8sSUFBVUgsRUFBY2pPLEdBR2pCLElBQVBELEdBQW1CLElBQVBDLEdBRVZ2WixLQUFLMG5CLGVBQWVmLEVBQUsza0IsRUFBSXNYLEVBQUlxTixFQUFLMWtCLEVBQUlzWCxLQUV4Q2tPLElBQWFFLEVBRWZILEVBQWMsRUFDTEcsSUFBYUYsRUFFdEJGLEVBQWMsRUFDSkUsR0FBYUUsSUFFdkJKLEVBQWMsRUFDZEMsRUFBYyxJQU1BLElBQWhCRCxHQUFxQyxJQUFoQkMsSUFDdkJiLEVBQUsza0IsR0FBS3VsQixFQUNWWixFQUFLMWtCLEdBQUt1bEIsRUFDVkwsR0FBUSxFQUVKdmdCLEtBQUtpYyxJQUFJMEUsSUFBZ0IzZ0IsS0FBS2ljLElBQUkyRSxHQUNoQixJQUFoQkQsSUFDRlosRUFBS3BaLGlCQUNIZ2EsRUFBYyxFQUFJbGIsRUFBVW1CLFVBQVVqQixNQUFRRixFQUFVbUIsVUFBVWYsTUFFbEQsSUFBaEIrYSxJQUNGYixFQUFLcFosaUJBQ0hpYSxFQUFjLEVBQUluYixFQUFVbUIsVUFBVWxCLEtBQU9ELEVBQVVtQixVQUFVaEIsSUFHM0UsQ0FFQSxPQURBbWEsRUFBS2paLFNBQVd5WixFQUNULENBQUVBLFFBQ1gsQ0FFQSxjQUFBTyxDQUFlM04sRUFBU0MsR0FDdEIsTUFBTXBJLEVBQU01UixLQUFLK2xCLEtBQUtRLE9BQU92TixXQUN2QjJOLEVBQU8zbUIsS0FBSytsQixLQUFLTyxVQUN2QixJQUFLMVUsSUFBUStVLEVBQU0sT0FBTyxFQUUxQixNQUFNaUIsRUFBZWpCLEVBQUszWSxnQkFBZ0IrTCxFQUFTQyxHQUU3QzZOLEVBQWdCLENBQ3BCLENBQUU3bEIsRUFBRzRsQixFQUFhbm1CLEtBQU1RLEVBQUcybEIsRUFBYXJaLEtBQ3hDLENBQUV2TSxFQUFHNGxCLEVBQWFsbUIsTUFBT08sRUFBRzJsQixFQUFhclosS0FDekMsQ0FBRXZNLEVBQUc0bEIsRUFBYW5tQixLQUFNUSxFQUFHMmxCLEVBQWFwWixRQUN4QyxDQUFFeE0sRUFBRzRsQixFQUFhbG1CLE1BQU9PLEVBQUcybEIsRUFBYXBaLFFBRXpDLENBQUV4TSxFQUFHK1gsRUFBUzlYLEVBQUcybEIsRUFBYXJaLEtBQzlCLENBQUV2TSxFQUFHK1gsRUFBUzlYLEVBQUcybEIsRUFBYXBaLFFBQzlCLENBQUV4TSxFQUFHNGxCLEVBQWFubUIsS0FBTVEsRUFBRytYLEVBQVUyTSxFQUFLMVosV0FBYTBaLEVBQUtyWiw2QkFDNUQsQ0FBRXRMLEVBQUc0bEIsRUFBYWxtQixNQUFPTyxFQUFHK1gsRUFBVTJNLEVBQUsxWixXQUFhMFosRUFBS3JaLDhCQUcvRCxJQUFLLE1BQU13YSxLQUFTRCxFQUNsQixJQUFLalcsRUFBSXVQLFdBQVcyRyxFQUFNOWxCLEVBQUc4bEIsRUFBTTdsQixHQUVqQyxPQUFPLEVBR1gsT0FBTyxDQUNULENBRUEsa0JBQUFvbEIsR0FDRSxNQUFNelYsRUFBTTVSLEtBQUsrbEIsS0FBS1EsT0FBT3ZOLFdBQ3ZCMk4sRUFBTzNtQixLQUFLK2xCLEtBQUtPLFVBQ3ZCLElBQUsxVSxJQUFRK1UsR0FBUTNtQixLQUFLK2xCLEtBQUtrQixZQUFjL2tCLEVBQVVHLFFBQVMsT0FFaEUsTUFBTTBsQixFQUFhblcsRUFBSThTLHlCQUF5QmlDLEVBQUsza0IsRUFBRzJrQixFQUFLMWtCLEdBQ3pEOGxCLEVBQ0YvbkIsS0FBS2dvQixpQkFBaUJELEdBSW5CL25CLEtBQUsrbEIsS0FBS2tDLG9CQUNNclcsRUFBSW9ULGVBQWUyQixFQUFLM2tCLEVBQUcya0IsRUFBSzFrQixJQUVqRGpDLEtBQUtrb0Isd0JBR1gsQ0FFQSxnQkFBQUYsQ0FBaUJoUixHQUNmLEdBQUloWCxLQUFLK2xCLEtBQUtrQixZQUFjL2tCLEVBQVVHLFFBQVMsT0FNL0MsR0FKQXJDLEtBQUsrbEIsS0FBS29DLGFBQWFqbUIsRUFBVUksaUJBQzdCdEMsS0FBSytsQixLQUFLTyxZQUFXdG1CLEtBQUsrbEIsS0FBS08sVUFBVTVZLFVBQVcsR0FDeEQxTixLQUFLK2xCLEtBQUtxQyxrQkFBb0JwUixFQUVjLElBQXhDaFgsS0FBSytsQixLQUFLc0MsbUJBQW1Cdm5CLFNBQy9CZCxLQUFLK2xCLEtBQUtzQyxtQkFBcUIsSUFBSTNsQixHQUNTLElBQXhDMUMsS0FBSytsQixLQUFLc0MsbUJBQW1Cdm5CLFFBSS9CLE9BSEFnQyxFQUFVcUQsYUFBYSwrQkFBZ0MsU0FDdkRuRyxLQUFLK2xCLEtBQUtvQyxhQUFham1CLEVBQVVHLGNBQ2pDckMsS0FBSytsQixLQUFLcUMsa0JBQW9CLE1BS2xDLE1BQU1FLEVBQVMxaEIsS0FBS2dELE1BQU1oRCxLQUFLQyxTQUFXN0csS0FBSytsQixLQUFLc0MsbUJBQW1Cdm5CLFFBQ3ZFZCxLQUFLK2xCLEtBQUt3QyxvQkFBc0J2b0IsS0FBSytsQixLQUFLc0MsbUJBQW1CL0osT0FBT2dLLEVBQVEsR0FBRyxHQUMvRXhsQixFQUFVZ0csYUFBYTlJLEtBQUsrbEIsS0FBS3dDLG9CQUNuQyxDQUVBLFlBQUF2ZixDQUFhd2YsR0FDWCxNQUFNLFVBQUV2QixFQUFTLG9CQUFFc0IsRUFBbUIsa0JBQUVILEVBQWlCLE1BQUU3QixHQUFVdm1CLEtBQUsrbEIsS0FFMUUsR0FBSWtCLElBQWMva0IsRUFBVUksa0JBQW9CaW1CLElBQXdCSCxFQUt0RSxPQUpBdGxCLEVBQVU2RixlQUNWM0ksS0FBSytsQixLQUFLcUMsa0JBQW9CLEtBQzlCcG9CLEtBQUsrbEIsS0FBS3dDLG9CQUFzQixVQUM1QnZvQixLQUFLK2xCLEtBQUtrQixZQUFjL2tCLEVBQVVPLFdBQVd6QyxLQUFLK2xCLEtBQUtvQyxhQUFham1CLEVBQVVHLFVBS3BGLEdBRGtCbW1CLElBQXdCRCxFQUFvQjFsQixjQUMvQyxDQUNiQyxFQUFVcUQsYUFBYSxjQUFlLFVBQVcsTUFDakQsTUFBTW1KLEVBQVlpWCxHQUFPdk4sWUFBWThMLG9CQUFvQnNELEdBQ3pELEdBQUk5WSxHQUdGLEdBRkF0UCxLQUFLK2xCLEtBQUswQyw4QkFDVjNsQixFQUFVZ0gsWUFBWTlKLEtBQUsrbEIsS0FBSzBDLDRCQUE2QnpvQixLQUFLK2xCLEtBQUtjLGtCQUNuRTdtQixLQUFLK2xCLEtBQUswQyw2QkFBK0J6b0IsS0FBSytsQixLQUFLYyxpQkFHckQsT0FGQS9qQixFQUFVNkYsb0JBQ1YzSSxLQUFLK2xCLEtBQUsyQyxjQUFhLFFBSXpCNWxCLEVBQVVxRCxhQUFhLDBCQUEyQixRQUV0RCxNQUNFckQsRUFBVXFELGFBQWEsMkJBQTRCLFNBQ25EbkcsS0FBSytsQixLQUFLc0MsbUJBQW1CN2MsS0FBSytjLEdBR3BDemxCLEVBQVU2RixlQUNWM0ksS0FBSytsQixLQUFLcUMsa0JBQW9CLEtBQzlCcG9CLEtBQUsrbEIsS0FBS3dDLG9CQUFzQixLQUM1QnZvQixLQUFLK2xCLEtBQUtrQixZQUFjL2tCLEVBQVVPLFdBQVd6QyxLQUFLK2xCLEtBQUtvQyxhQUFham1CLEVBQVVHLFFBQ3BGLENBRUEsc0JBQUE2bEIsR0FDTWxvQixLQUFLK2xCLEtBQUtrQixZQUFjL2tCLEVBQVVHLFNBQVdyQyxLQUFLK2xCLEtBQUtrQyxxQkFDM0Rqb0IsS0FBSytsQixLQUFLb0MsYUFBYWptQixFQUFVSyxpQkFDN0J2QyxLQUFLK2xCLEtBQUtPLFlBQVd0bUIsS0FBSytsQixLQUFLTyxVQUFVNVksVUFBVyxHQUN4RDVLLEVBQVV5RyxxQkFDUnZKLEtBQUsrbEIsS0FBS1EsTUFBTS9jLFNBQ2hCeEosS0FBSytsQixLQUFLUSxNQUFNOWMsU0FDaEJ6SixLQUFLK2xCLEtBQUtRLE1BQU03YyxjQUVwQixDQUVBLG9CQUFBQyxDQUFxQmdmLEdBQ2Yzb0IsS0FBSytsQixLQUFLa0IsWUFBYy9rQixFQUFVSyxpQkFJdENPLEVBQVU4Rix1QkFFUitmLElBQWtCM29CLEtBQUsrbEIsS0FBS1EsTUFBTTdjLGNBQ2xDaWYsRUFBZ0Izb0IsS0FBSytsQixLQUFLUSxNQUFNL2MsVUFDaENtZixFQUFnQjNvQixLQUFLK2xCLEtBQUtRLE1BQU05YyxTQUVoQ3pKLEtBQUsrbEIsS0FBS29DLGFBQWFqbUIsRUFBVUcsU0FHbkNyQyxLQUFLNG9CLHFCQUFxQkQsR0FBZUUsT0FBT0MsSUFDOUM5b0IsS0FBSytsQixLQUFLZ0Qsa0JBQWtCLDZCQUE2QkQsRUFBSTFpQixVQUFVLEtBYnZFdEQsRUFBVThGLHNCQWVkLENBRUEsMEJBQU1nZ0IsQ0FBcUJJLEdBQ3pCLE1BQU1qRCxFQUFPL2xCLEtBQUsrbEIsS0FDWmtELEVBdE9hLElBc09IbEQsRUFBS1EsT0FBTzdjLGNBdE9ULElBc080Q3NmLEVBTS9ELEdBSklDLEdBQ0Y5bEIsUUFBUUMsSUFDTixxQkFBcUI0bEIsMERBQW9FakQsRUFBS2tDLHNCQUU5RmxDLEVBQUtrQixZQUFjL2tCLEVBQVVLLGtCQUFtQndqQixFQUFLa0MsbUJBQXpELENBRUFsQyxFQUFLb0MsYUFBYWptQixFQUFVTSxlQUN4QnVqQixFQUFLTyxZQUFXUCxFQUFLTyxVQUFVNVksVUFBVyxHQUM5QzVLLEVBQVU2RixlQUNWN0YsRUFBVThGLHVCQUNWbWQsRUFBS2tDLG9CQUFxQixFQUMxQm5sQixFQUFVcUQsYUFBYSx1QkFBdUI2aUIsT0FBa0IsT0FBUUUsTUFFeEUsVUFDUW5ELEVBQUtRLE1BQU1kLFVBQVV1RCxFQUFhakQsRUFBSzliLE9BQU9rRSxNQUFPNFgsRUFBSzliLE9BQU9tRSxRQUN2RSxNQUFNK2EsRUFBU3BELEVBQUtRLE1BQU12TixXQUMxQixJQUFLbVEsRUFBUSxNQUFNLElBQUlsb0IsTUFBTSxnQ0FBZ0MrbkIsTUFFN0QsTUFBTUksRUFBY0QsRUFBT2xFLGtCQUMzQixJQUFLbUUsRUFBYSxNQUFNLElBQUlub0IsTUFBTSx5Q0FBeUMrbkIsTUFDdkVDLEdBQ0Y5bEIsUUFBUUMsSUFDTixVQUFVNGxCLGlDQUEyQ0ksRUFBWXBWLFNBQy9Eb1YsRUFBWW5WLGtCQUNEbVYsRUFBWXBuQixFQUFFOGQsUUFBUSxNQUFNc0osRUFBWW5uQixFQUFFNmQsUUFBUSxPQUduRSxJQUFJdUosRUFBZ0IsS0FzQnBCLEdBcEJBQSxFQUFnQkYsRUFBT2xHLDBCQUEwQm1HLEVBQVlwVixNQUFPb1YsRUFBWW5WLE1BQU8sR0FDbkZnVixHQUNGOWxCLFFBQVFDLElBQ04sVUFBVTRsQixvREFDVkssRUFBZ0IsQ0FBRXJuQixFQUFHcW5CLEVBQWNybkIsRUFBRThkLFFBQVEsR0FBSTdkLEVBQUdvbkIsRUFBY3BuQixFQUFFNmQsUUFBUSxJQUFPLE1BR2xGdUosSUFDQ0osR0FDRjlsQixRQUFRWSxLQUNOLFVBQVVpbEIsd0ZBRWRLLEVBQWdCRixFQUFPakgsd0JBQXdCa0gsRUFBWXBuQixFQUFHb25CLEVBQVlubkIsRUFBRyxHQUFHLEdBQU0sR0FDbEZnbkIsR0FDRjlsQixRQUFRQyxJQUNOLFVBQVU0bEIsa0RBQ1ZLLEVBQWdCLENBQUVybkIsRUFBR3FuQixFQUFjcm5CLEVBQUU4ZCxRQUFRLEdBQUk3ZCxFQUFHb25CLEVBQWNwbkIsRUFBRTZkLFFBQVEsSUFBTyxRQUlwRnVKLEVBQWUsQ0FDZEosR0FDRjlsQixRQUFRRSxNQUNOLFVBQVUybEIscUVBRWQsTUFBTU0sRUFBaUJILEVBQU83SCxpQ0FDOUIsSUFBS2dJLEVBQWdCLE1BQU0sSUFBSXJvQixNQUFNLG1DQUFtQytuQixNQUN4RUssRUFBZ0JDLEVBQ1pMLEdBQ0Y5bEIsUUFBUUMsSUFDTixVQUFVNGxCLHlDQUNWSyxFQUFnQixDQUFFcm5CLEVBQUdxbkIsRUFBY3JuQixFQUFFOGQsUUFBUSxHQUFJN2QsRUFBR29uQixFQUFjcG5CLEVBQUU2ZCxRQUFRLElBQU8sS0FFekYsQ0FFQWlHLEVBQUtPLFVBQVV0a0IsRUFBSXFuQixFQUFjcm5CLEVBQ2pDK2pCLEVBQUtPLFVBQVVya0IsRUFBSW9uQixFQUFjcG5CLEVBQzdCZ25CLEdBQ0Y5bEIsUUFBUUMsSUFDTixVQUFVNGxCLHFDQUErQ2pELEVBQUtPLFVBQVV0a0IsRUFBRThkLFFBQ3hFLE9BQ0lpRyxFQUFLTyxVQUFVcmtCLEVBQUU2ZCxRQUFRLE9BR25DaUcsRUFBS08sVUFBVS9ZLGlCQUFtQmxCLEVBQVVtQixVQUFVbEIsS0FDdER5WixFQUFLTyxVQUFVNVksVUFBVyxFQUMxQnFZLEVBQUs5SixVQUFVdUssMEJBQ2Z4bUIsS0FBS3VwQixpQ0FBZ0MsR0FDckN4RCxFQUFLeUQsd0JBQ1AsQ0FBRSxNQUFPbm1CLEdBQ1BGLFFBQVFFLE1BQU0sUUFBUTJsQiw2Q0FBd0QzbEIsR0FDOUUwaUIsRUFBS2tDLG9CQUFxQixFQUN0QmxDLEVBQUtrQixZQUFjL2tCLEVBQVVPLFdBQVdzakIsRUFBS29DLGFBQWFqbUIsRUFBVUcsU0FDeEUwakIsRUFBS2dELGtCQUFrQiw2QkFBNkJDLE1BQWdCM2xCLEVBQU0rQyxTQUFXL0MsSUFDdkYsQ0EvRW1GLENBZ0ZyRixDQUVBLCtCQUFBa21CLENBQWdDRSxHQUFzQixHQUNwRCxNQUFNOUMsRUFBTzNtQixLQUFLK2xCLEtBQUtPLFVBQ2pCMVUsRUFBTTVSLEtBQUsrbEIsS0FBS1EsT0FBT3ZOLFdBQzdCLElBQUsyTixJQUFTL1UsRUFBSyxPQUVuQixNQUFNOFgsRUFBZTlpQixLQUFLZ0QsTUFBTStjLEVBQUsza0IsRUFBSTRQLEVBQUl4QyxVQUN2Q3VhLEVBQWUvaUIsS0FBS2dELE1BQU0rYyxFQUFLMWtCLEVBQUkyUCxFQUFJeEMsVUFDdkN3YSxFQUNKRixHQUFnQixHQUFLQSxFQUFlOVgsRUFBSUcsTUFBUTRYLEdBQWdCLEdBQUtBLEVBQWUvWCxFQUFJSSxLQUNwRkosRUFBSUEsSUFBSStYLEtBQWdCRCxHVmpWVCxFVXNWZkcsRUFGNEJqWSxFQUFJdVAsV0FBV3dGLEVBQUsza0IsRUFBRzJrQixFQUFLMWtCLE9WalZ6QyxJVWtWTjJuQixJQUNvREgsR0FDN0RLLEVBQXNCOXBCLEtBQUswbkIsZUFBZWYsRUFBSzNrQixFQUFHMmtCLEVBQUsxa0IsR0FHN0QsR0FGbUI2bkIsSUFBd0JELEVBRTNCLENBQ2QsTUFBTVosRUFqVlcsSUFpVkRqcEIsS0FBSytsQixLQUFLUSxPQUFPN2MsYUFDN0J1ZixHQUNGOWxCLFFBQVFZLEtBQ04scUJBQXFCL0QsS0FBSytsQixLQUFLUSxNQUFNN2Msb0NBQW9DaWQsRUFBSzNrQixFQUFFOGQsUUFDOUUsTUFDRzZHLEVBQUsxa0IsRUFBRTZkLFFBQ1YsZ0JBQ2E0SixLQUFnQkMsNkJBQXdDRyxnQkFBa0NELEtBRzdHLE1BQU1FLEVBQVduWSxFQUFJc1Esd0JBQXdCeUUsRUFBSzNrQixFQUFHMmtCLEVBQUsxa0IsRUFBRyxHQUFHLEdBQU0sR0FFdEUsR0FBSThuQixFQUNFZCxHQUNGOWxCLFFBQVFDLElBQ04sd0NBQXdDMm1CLEVBQVMvbkIsRUFBRThkLFFBQVEsTUFBTWlLLEVBQVM5bkIsRUFBRTZkLFFBQzFFLE9BR042RyxFQUFLM2tCLEVBQUkrbkIsRUFBUy9uQixFQUNsQjJrQixFQUFLMWtCLEVBQUk4bkIsRUFBUzluQixFQUNsQmpDLEtBQUsrbEIsS0FBSzlKLFVBQVV1Syw4QkFDZixDQUNEeUMsR0FDRjlsQixRQUFRRSxNQUNOLGlGQUVKLE1BQU0ybUIsRUFBZ0JwWSxFQUFJMFAsaUNBQ3RCMEksR0FDRWYsR0FDRjlsQixRQUFRWSxLQUNOLDZDQUE2Q2ltQixFQUFjaG9CLEVBQUU4ZCxRQUMzRCxNQUNHa0ssRUFBYy9uQixFQUFFNmQsUUFBUSxPQUVqQzZHLEVBQUsza0IsRUFBSWdvQixFQUFjaG9CLEVBQ3ZCMmtCLEVBQUsxa0IsRUFBSStuQixFQUFjL25CLEVBQ3ZCakMsS0FBSytsQixLQUFLOUosVUFBVXVLLDRCQUVoQnlDLEdBQ0Y5bEIsUUFBUUUsTUFBTSxpRUFDaEJyRCxLQUFLK2xCLEtBQUtnRCxrQkFBa0Isd0NBRWhDLENBQ0YsQ0FDRixFLE1DbFlJa0IsRUFBZ0IsQ0FFcEJDLE8saURBQ0FDLE8saURBQ0FDLE8sa0RBSUlDLEVBQW9CLENBQUMsU0FBVSxTQUFVLFVBRXhDLE1BQU1DLEVBQ1gsV0FBQWpwQixHQUNFckIsS0FBS3VxQixZQWZvQixHQWdCekJ2cUIsS0FBS3dxQixvQkFBc0IsS0FDM0J4cUIsS0FBS3lxQixnQkFBa0IsS0FDdkJ6cUIsS0FBSzBxQixnQkFBaUIsRUFFdEIsTUFBTUMsRUFBY25nQixhQUFhQyxRQUFRLGVBQ3JCLE9BQWhCa2dCLElBQ0YzcUIsS0FBS3VxQixZQUFjSyxXQUFXRCxJQUdoQzNxQixLQUFLNnFCLGNBQWdCLENBQUMsRUFDdEI3cUIsS0FBSzhxQixnQkFDUCxDQUVBLGNBQUFBLEdBQ0UzbkIsUUFBUUMsSUFBSSw2REFDWixJQUFLLE1BQU14QixLQUFPcW9CLEVBQ2hCLEdBQUlBLEVBQWNub0IsZUFBZUYsR0FBTSxDQUNyQyxNQUFNbXBCLEVBQVlkLEVBQWNyb0IsR0FDMUJvcEIsRUFBUSxJQUFJQyxNQUFNRixHQUN4QkMsRUFBTUUsUUFBVSxPQUNoQmxyQixLQUFLNnFCLGNBQWNqcEIsR0FBT29wQixFQUMxQjduQixRQUFRQyxJQUFJLGVBQWV4QixVQUFZbXBCLElBQ3pDLENBRUosQ0FFQSxjQUFBSSxDQUFlQyxHQUNicHJCLEtBQUt1cUIsWUFBYzNqQixLQUFLdUosSUFBSSxFQUFHdkosS0FBS3NKLElBQUksRUFBR2tiLElBQ3ZDcHJCLEtBQUt3cUIsc0JBQ1B4cUIsS0FBS3dxQixvQkFBb0JZLE9BQVNwckIsS0FBS3VxQixhQUV6Qy9mLGFBQWF1QixRQUFRLGNBQWUvTCxLQUFLdXFCLFlBQVl6akIsWUFDckQzRCxRQUFRQyxJQUFJLHVDQUF1Q3BELEtBQUt1cUIsY0FDMUQsQ0FFQSxjQUFBYyxHQUNFLE9BQU9yckIsS0FBS3VxQixXQUNkLENBRUEsU0FBQWUsQ0FBVUMsRUFBVUMsR0FBTyxHQUN6QixJQUFLeHJCLEtBQUs2cUIsY0FBY1UsR0FBVyxDQUVqQyxHQURBcG9CLFFBQVFZLEtBQUsseUJBQXlCd25CLG1DQUNsQ3RCLEVBQWNzQixHQU9oQixZQUhBcG9CLFFBQVFFLE1BQ04sb0NBQW9Da29CLG9DQUh0Q3ZyQixLQUFLNnFCLGNBQWNVLEdBQVksSUFBSU4sTUFBTWhCLEVBQWNzQixHQU8zRCxDQUVJdnJCLEtBQUswcUIsZ0JBQWtCMXFCLEtBQUt5cUIsa0JBQW9CYyxJQUdwRHZyQixLQUFLeXJCLFlBRUx6ckIsS0FBS3dxQixvQkFBc0J4cUIsS0FBSzZxQixjQUFjVSxHQUM5Q3ZyQixLQUFLd3FCLG9CQUFvQlksT0FBU3ByQixLQUFLdXFCLFlBQ3ZDdnFCLEtBQUt3cUIsb0JBQW9CZ0IsS0FBT0EsRUFDaEN4ckIsS0FBS3lxQixnQkFBa0JjLEVBRXZCdnJCLEtBQUt3cUIsb0JBQ0ZrQixPQUNBQyxNQUFLLEtBQ0ozckIsS0FBSzBxQixnQkFBaUIsRUFDdEJ2bkIsUUFBUUMsSUFDTixpQ0FBaUNtb0IsY0FBcUJ2ckIsS0FBS3dxQixvQkFBb0JZLFVBQ2hGLElBRUZ2QyxPQUFPeGxCLElBQ05GLFFBQVFFLE1BQU0saUNBQWlDa29CLE1BQWNsb0IsR0FFN0RGLFFBQVFFLE1BQ04sb0ZBQW9GOUMsU0FBU3FyQixjQUUvRjVyQixLQUFLMHFCLGdCQUFpQixFQUN0QjFxQixLQUFLd3FCLG9CQUFzQixLQUMzQnhxQixLQUFLeXFCLGdCQUFrQixJQUFJLElBRWpDLENBRUEsU0FBQWdCLEdBQ016ckIsS0FBS3dxQixzQkFDUHhxQixLQUFLd3FCLG9CQUFvQnFCLFFBQ3pCN3JCLEtBQUt3cUIsb0JBQW9Cc0IsWUFBYyxFQUN2QzlyQixLQUFLMHFCLGdCQUFpQixFQUN0QnZuQixRQUFRQyxJQUFJLGlDQUFpQ3BELEtBQUt5cUIsbUJBSXRELENBR0EsbUJBQUFzQixDQUFvQnBZLEdBTWxCLE1BQ01xWSxFQURxQnBsQixLQUFLdUosSUFBSSxFQUFHd0QsRUFBYyxHQUNiMFcsRUFBa0J2cEIsT0FDcERtckIsRUFBYzVCLEVBQWtCMkIsR0FFbENDLEdBQ0Y5b0IsUUFBUUMsSUFBSSx3QkFBd0J1USxxQkFBK0JzWSxLQUNuRWpzQixLQUFLc3JCLFVBQVVXLElBRWY5b0IsUUFBUVksS0FBSyxpREFBaURpb0IsS0FFbEUsQ0FHQSxpQkFBQUUsQ0FBa0JDLEVBQWUsR0FJL0JocEIsUUFBUUMsSUFBSSx1REFDWnBELEtBQUsrckIsb0JBQW9CSSxFQUMzQixFLCtTQ3ZISyxNQUFNQyxFQUdYcnBCLHFCQUF1QixDQUFDLFFBQVMsT0FBUSxRQUFTLFVBQ2xEQSw0QkFBOEIsaURBRTlCLFdBQUExQixDQUFZZ3JCLEdBQ1ZscEIsUUFBUUMsSUFBSSx1Q0FBdUNpcEIsS0FDbkRyc0IsS0FBS3FzQixlQUFpQkEsRUFDdEJyc0IsS0FBS3NzQixXQUFhcHFCLEVBQVVDLFFBQzVCbkMsS0FBS3VzQixXQUFZLEVBRWpCdnNCLEtBQUt5b0IsNEJBQThCLEVBQ25Dem9CLEtBQUs2bUIsaUJaZjBCLEdZZ0IvQjdtQixLQUFLcW9CLG1CQUFxQixHQUMxQnJvQixLQUFLb29CLGtCQUFvQixLQUN6QnBvQixLQUFLdW9CLG9CQUFzQixLQUMzQnZvQixLQUFLaW9CLG9CQUFxQixFQUMxQmpvQixLQUFLd3NCLGtCQUFvQixLQUV6QnhzQixLQUFLaUssT0FBUyxLQUNkakssS0FBSzBNLElBQU0sS0FDWDFNLEtBQUtzbUIsVUFBWSxLQUNqQnRtQixLQUFLdW1CLE1BQVEsS0FDYnZtQixLQUFLdUQsYUFBZSxLQUNwQnZELEtBQUtpYyxTQUFXLEtBQ2hCamMsS0FBS3lzQixnQkFBa0IsS0FDdkJ6c0IsS0FBSzBzQixhQUFlLEtBRXBCMXNCLEtBQUsyc0IsUUFBVSxDQUFFQyxJQUFLLEVBQVdDLEtBQU0sRUFBWUMsT0FBUSxFQUFjQyxNQUFPLEdBQ2hGL3NCLEtBQUt3UCxVQUFZLEtBRWpCeFAsS0FBS2d0QixTQUFXaHRCLEtBQUtndEIsU0FBU2pHLEtBQUsvbUIsTUFDbkNBLEtBQUsrb0Isa0JBQW9CL29CLEtBQUsrb0Isa0JBQWtCaEMsS0FBSy9tQixNQUNyREEsS0FBS2l0QixxQkFBdUIsS0FDNUJqdEIsS0FBS2t0QixtQkFBcUIsS0FFMUIsSUFDRWx0QixLQUFLbXRCLDRCQUVMbnRCLEtBQUswc0IsYUFBZSxJQUFJcEMsRUFDeEJubkIsUUFBUUMsSUFBSSxnQ0FDWnBELEtBQUt5c0IsZ0JBQWtCLElBQUkzRixFQUFnQjltQixNQUMzQ21ELFFBQVFDLElBQUksbUNBRVpwRCxLQUFLaWMsU0FBVyxJQUFJNkosRUFBYTlsQixNQUNqQyxNQUFNLE9BQUVpSyxFQUFNLElBQUV5QyxHQUFRMU0sS0FBS2ljLFNBQVMrSixtQkFDdENobUIsS0FBS2lLLE9BQVNBLEVBQ2RqSyxLQUFLME0sSUFBTUEsRUFDWHZKLFFBQVFDLElBQUksMkNBRVpwRCxLQUFLb3RCLHVCQUNManFCLFFBQVFDLElBQUkscUNBRVpwRCxLQUFLcXRCLHFCQUVMcnRCLEtBQUtzdEIsK0JBQ0YzQixNQUFLLEtBQ0p4b0IsUUFBUUMsSUFBSSxnRUFBZ0UsSUFFN0V5bEIsT0FBT3hsQixJQUNORixRQUFRRSxNQUNOLDJFQUNBQSxHQUVGLE1BQU1rcUIsRUFBaUJ6cUIsRUFBVTZFLG9CQUM3QjRsQixHQUFnQkEsRUFBZW5wQixVQUFVaUIsT0FBTyxVQUFVLElBR2xFdkMsRUFBVWUsaUJBQ1osQ0FBRSxNQUFPUixHQUNQRixRQUFRRSxNQUFNLGlEQUFrREEsR0FDaEVtcUIsTUFBTSxrQ0FBa0NucUIsRUFBTStDLCtCQUM5Q3BHLEtBQUsrb0Isa0JBQWtCLHlCQUF5QjFsQixFQUFNK0MsV0FBVyxFQUNuRSxDQUNGLENBRUEsYUFBSTZnQixHQUNGLE9BQU9qbkIsS0FBS3NzQixVQUNkLENBQ0EsWUFBQW5FLENBQWFzRixHQUNQenRCLEtBQUtzc0IsYUFBZW1CLElBQ3RCdHFCLFFBQVFDLElBQUksZ0JBQWdCcEQsS0FBS3NzQixpQkFBaUJtQixLQUNsRHp0QixLQUFLc3NCLFdBQWFtQixFQUV0QixDQUVBLHlCQUFBTixHQUNFbnRCLEtBQUt1RCxhQUFlLElBQUluQyxFQUN4QnBCLEtBQUt1bUIsTUFBUSxJQUFJZixFQUFNLEVBQUcsRUFDNUIsQ0FFQSxvQkFBQTRILEdBQ0UsSUFBS3B0QixLQUFLeXNCLGdCQUNSLE1BQU0sSUFBSXhyQixNQUFNLDhFQUVsQixJQUFLakIsS0FBS3VELGFBQ1IsTUFBTSxJQUFJdEMsTUFBTSwyRUFFbEI2QixFQUFVRSxtQkFBbUJoRCxLQUFLeXNCLGlCQUNsQzNwQixFQUFVUSxhQUFhdEQsS0FBS3VELGFBQzlCLENBRUEsa0JBQUE4cEIsR0FDRWx0QixPQUFPbUYsaUJBQWlCLFVBQVUsSUFBTXRGLEtBQUtpYyxVQUFVa0ssZ0JBQ3pELENBRUEsa0NBQU1tSCxHQUNKLE1BQU1DLEVBQWlCenFCLEVBQVU2RSxvQkFDakMsSUFDRTNILEtBQUttb0IsYUFBYWptQixFQUFVQyxlQUV0Qm5DLEtBQUswdEIsb0JBQ0wxdEIsS0FBSzJ0QixrQkFFUEosR0FBZ0JBLEVBQWVucEIsVUFBVWlCLE9BQU8sVUFDdEQsQ0FBRSxNQUFPaEMsR0FJUCxNQUhBRixRQUFRRSxNQUFNLG1EQUFvREEsR0FDOURrcUIsR0FBZ0JBLEVBQWVucEIsVUFBVWlCLE9BQU8sV0FDcERyRixLQUFLK29CLGtCQUFrQiw0QkFBNEIxbEIsRUFBTStDLFdBQ25EL0MsQ0FDUixDQUNGLENBRUEsaUJBQU1xcUIsR0FDSnZxQixRQUFRQyxJQUFJLDRCQUNaLE1BQU13cUIsRUFBVyxHQUNYQyxFQUFhN3RCLEtBQUsyc0IsUUFBUTNzQixLQUFLcXNCLGlCQUFtQnJzQixLQUFLMnNCLFFBQVFDLElBRXJFLElBQUs1c0IsS0FBSzBNLElBQUssTUFBTSxJQUFJekwsTUFBTSx3REFDL0JqQixLQUFLc21CLFVBQVksSUFBSWphLEVBQVVyTSxLQUFLME0sSUFBS21oQixFQUFZLENBQ25EM2dCLE1BQU8sRUFDUEosVUFBVyxHQUNYRSxNQUFPLEVBQ1BHLGVBQWdCLElBQ2hCSixXQUFZLElBRWQ2Z0IsRUFBU3BpQixLQUNQLElBQUltYSxTQUFRLENBQUNDLEVBQVNrSSxLQUNwQjl0QixLQUFLc21CLFVBQVUxWixPQUFPZ0IsT0FBUyxLQUM3QnpLLFFBQVFDLElBQUksdUNBQXVDeXFCLEtBQ25EakksR0FBUyxFQUVYNWxCLEtBQUtzbUIsVUFBVTFaLE9BQU9pQixRQUFXaWIsR0FDL0JnRixFQUFPLElBQUk3c0IsTUFBTSxvQ0FBb0M0c0IsZUFBd0IvRSxLQUFPLEtBSXRGLEdBQ0Y5b0IsS0FBS3dQLFVBQVksSUFBSTNDLE1BQ3JCN00sS0FBS3dQLFVBQVU3TyxJQUFNLEVBQ3JCaXRCLEVBQVNwaUIsS0FDUCxJQUFJbWEsU0FBU0MsSUFDWDVsQixLQUFLd1AsVUFBVTVCLE9BQVMsS0FDdEJ6SyxRQUFRQyxJQUFJLGlDQUFpQyxLQUM3Q3dpQixHQUFTLEVBRVg1bEIsS0FBS3dQLFVBQVUzQixRQUFVLEtBQ3ZCMUssUUFBUVksS0FDTix3Q0FBd0MsZ0NBRTFDL0QsS0FBS3dQLFVBQVksS0FDakJvVyxHQUFTLENBQ1YsT0FJTHppQixRQUFRWSxLQUFLLDRFQUNiL0QsS0FBS3dQLFVBQVksWUFHYm1XLFFBQVFvSSxJQUFJSCxHQUNsQnpxQixRQUFRQyxJQUFJLHlDQUNkLENBRUEscUJBQU11cUIsR0FHSixHQUZBeHFCLFFBQVFDLElBQUksc0NBQ1pOLEVBQVUrSCxlQUVQN0ssS0FBS3VtQixPQUNMdm1CLEtBQUtzbUIsV0FDTHRtQixLQUFLaUssUUFDTGpLLEtBQUtpYyxVQUNMamMsS0FBS3lzQixpQkFDTHpzQixLQUFLMHNCLGNBRU4sTUFBTSxJQUFJenJCLE1BQU0seURBR2xCakIsS0FBS21vQixhQUFham1CLEVBQVU4ckIsZUFFNUIsVUFDUWh1QixLQUFLdW1CLE1BQU1kLFVBQVV6bEIsS0FBS3VtQixNQUFNL2MsU0FBVXhKLEtBQUtpSyxPQUFPa0UsTUFBT25PLEtBQUtpSyxPQUFPbUUsUUFDL0UsTUFBTTRLLEVBQWFoWixLQUFLdW1CLE1BQU12TixXQUM5QixJQUFLQSxFQUFZLE1BQU0sSUFBSS9YLE1BQU0sbURBRWpDLE1BQU1ndEIsRUFBV2pWLEVBQVdzSSxpQ0FDNUIsSUFBSzJNLEVBQVUsTUFBTSxJQUFJaHRCLE1BQU0sd0RBQy9CakIsS0FBS3NtQixVQUFVdGtCLEVBQUlpc0IsRUFBU2pzQixFQUM1QmhDLEtBQUtzbUIsVUFBVXJrQixFQUFJZ3NCLEVBQVNoc0IsRUFDNUJqQyxLQUFLc21CLFVBQVUvWSxpQkFBbUJsQixFQUFVbUIsVUFBVWxCLEtBQ3REdE0sS0FBS3NtQixVQUFVNVksVUFBVyxFQUUxQjFOLEtBQUt5c0IsZ0JBQWdCbEQsaUNBQWdDLEdBRXJEdnBCLEtBQUt5b0IsNEJBQThCLEVBQ25Dem9CLEtBQUtxb0IsbUJBQXFCLElBQUkzbEIsR0FDOUIxQyxLQUFLaW9CLG9CQUFxQixFQUMxQmhoQixhQUFhakgsS0FBS3dzQixtQkFDbEJ4c0IsS0FBS3dzQixrQkFBb0IsS0FDekJ4c0IsS0FBS29vQixrQkFBb0IsS0FDekJwb0IsS0FBS3VvQixvQkFBc0IsS0FFM0J2b0IsS0FBS2ljLFNBQVN1SywwQkFFZDFqQixFQUFVZ0gsWUFBWTlKLEtBQUt5b0IsNEJBQTZCem9CLEtBQUs2bUIsa0JBQzdEL2pCLEVBQVVrSCxhQUVWaEssS0FBS2l0QixxQkFBdUJqdEIsS0FBS2t1QixjQUFjbkgsS0FBSy9tQixNQUNwREEsS0FBS2t0QixtQkFBcUJsdEIsS0FBS211QixZQUFZcEgsS0FBSy9tQixNQUNoREcsT0FBT21GLGlCQUFpQixVQUFXdEYsS0FBS2l0QixzQkFDeEM5c0IsT0FBT21GLGlCQUFpQixRQUFTdEYsS0FBS2t0QixvQkFFdENsdEIsS0FBSzBzQixhQUFhUixrQkFBa0Jsc0IsS0FBS3VtQixNQUFNN2MsY0FDL0N2RyxRQUFRQyxJQUFJLDBDQUEwQ3BELEtBQUt1bUIsTUFBTTdjLGdCQUVqRTVHLEVBQVUrSCxhQUVWN0ssS0FBS21vQixhQUFham1CLEVBQVVHLFNBQ3ZCckMsS0FBS3VzQixZQUNSdnNCLEtBQUt1c0IsV0FBWSxFQUNqQnZsQixzQkFBc0JoSCxLQUFLZ3RCLFVBQzNCN3BCLFFBQVFDLElBQUksK0NBRWhCLENBQUUsTUFBT0MsR0FHUCxNQUZBRixRQUFRRSxNQUFNLHVDQUF3Q0EsR0FDdERyRCxLQUFLK29CLGtCQUFrQiw4QkFBOEIxbEIsRUFBTStDLFdBQ3JEL0MsQ0FDUixDQUNGLENBRUEsWUFBQXFsQixDQUFhMEYsR0FBTSxHQUNicHVCLEtBQUtpbkIsWUFBYy9rQixFQUFVTyxZQUVqQ3pDLEtBQUttb0IsYUFBYWptQixFQUFVTyxXQUM1QnpDLEtBQUt1c0IsV0FBWSxFQUNidnNCLEtBQUtzbUIsWUFBV3RtQixLQUFLc21CLFVBQVU1WSxVQUFXLEdBQzlDekcsYUFBYWpILEtBQUt3c0IsbUJBRWR4c0IsS0FBSzBzQixjQUNQMXNCLEtBQUswc0IsYUFBYWpCLFlBR2hCenJCLEtBQUtpdEIsc0JBQXNCOXNCLE9BQU91SCxvQkFBb0IsVUFBVzFILEtBQUtpdEIsc0JBQ3RFanRCLEtBQUtrdEIsb0JBQW9CL3NCLE9BQU91SCxvQkFBb0IsUUFBUzFILEtBQUtrdEIsb0JBQ3RFbHRCLEtBQUtpdEIscUJBQXVCLEtBQzVCanRCLEtBQUtrdEIsbUJBQXFCLEtBRTFCcHFCLEVBQVVzSSxVQUFVZ2pCLEdBTXBCdHJCLEVBQVVzRixtQkFBbUJnbUIsRUFBS2hDLEVBQUtpQyxjQUFlakMsRUFBS2tDLHNCQUUzRHhyQixFQUFVc0ksVUFBVWdqQixHQUVwQmpyQixRQUFRQyxJQUFJLDBCQUEwQmdyQixLQUN4QyxDQUVBLFFBQUFHLEdBQ0VwckIsUUFBUUMsSUFBSSx1Q0FDWnBELEtBQUswb0IsY0FBYSxHQUNsQnZsQixRQUFRQyxJQUFJLHVCQUNkLENBRUEsaUJBQUEybEIsQ0FBa0IzaUIsRUFBU29vQixHQUFZLEdBQ3JDcnJCLFFBQVFFLE1BQU0sc0JBQXVCK0MsR0FDakNvb0IsR0FBYXh1QixLQUFLaW5CLFlBQWMva0IsRUFBVU8sWUFDeENLLEVBQVVvRCx1QkFBeUJwRCxFQUFVcUQsYUFDL0NyRCxFQUFVcUQsYUFBYSxnQkFBZ0JDLElBQVcsUUFBUyxNQUUzRG9uQixNQUFNLGdCQUFnQnBuQixNQUl0QnBHLEtBQUtpbkIsWUFBYy9rQixFQUFVTyxXQUMvQnpDLEtBQUswb0IsY0FBYSxFQUV0QixDQUVBLGFBQUF3RixDQUFjaHVCLEdBQ1osR0FBSUYsS0FBS2luQixZQUFjL2tCLEVBQVVHLFVBQVlyQyxLQUFLdUQsYUFBYyxPQUNoRSxJQUFJa3JCLEdBQWEsRUFDakIsTUFBTTdzQixFQUFNMUIsRUFBRTBCLElBQUk4c0IsY0FDZCxDQUFDLFVBQVcsS0FBS3BULFNBQVMxWixJQUM1QjVCLEtBQUt1RCxhQUFhNUIsT0FBTyxNQUFNLEdBQy9COHNCLEdBQWEsR0FDSixDQUFDLFlBQWEsS0FBS25ULFNBQVMxWixJQUNyQzVCLEtBQUt1RCxhQUFhNUIsT0FBTyxRQUFRLEdBQ2pDOHNCLEdBQWEsR0FDSixDQUFDLFlBQWEsS0FBS25ULFNBQVMxWixJQUNyQzVCLEtBQUt1RCxhQUFhNUIsT0FBTyxRQUFRLEdBQ2pDOHNCLEdBQWEsR0FDSixDQUFDLGFBQWMsS0FBS25ULFNBQVMxWixLQUN0QzVCLEtBQUt1RCxhQUFhNUIsT0FBTyxTQUFTLEdBQ2xDOHNCLEdBQWEsR0FFWEEsR0FBWXZ1QixFQUFFaUYsZ0JBQ3BCLENBRUEsV0FBQWdwQixDQUFZanVCLEdBQ1YsSUFBS0YsS0FBS3VELGFBQWMsT0FDeEIsTUFBTTNCLEVBQU0xQixFQUFFMEIsSUFBSThzQixjQUNkLENBQUMsVUFBVyxLQUFLcFQsU0FBUzFaLEdBQU01QixLQUFLdUQsYUFBYTVCLE9BQU8sTUFBTSxHQUMxRCxDQUFDLFlBQWEsS0FBSzJaLFNBQVMxWixHQUFNNUIsS0FBS3VELGFBQWE1QixPQUFPLFFBQVEsR0FDbkUsQ0FBQyxZQUFhLEtBQUsyWixTQUFTMVosR0FBTTVCLEtBQUt1RCxhQUFhNUIsT0FBTyxRQUFRLEdBQ25FLENBQUMsYUFBYyxLQUFLMlosU0FBUzFaLElBQU01QixLQUFLdUQsYUFBYTVCLE9BQU8sU0FBUyxFQUNoRixDQUVBLFFBQUFxckIsQ0FBU2pmLEdBQ0YvTixLQUFLdXNCLFdBQWF2c0IsS0FBS2luQixZQUFjL2tCLEVBQVVPLFlBQ3BEekMsS0FBS3lzQixpQkFBaUJ6RixPQUFPalosR0FDN0IvTixLQUFLaWMsVUFBVXVLLDBCQUNmeG1CLEtBQUtpYyxVQUFVd0ssWUFDZnpmLHNCQUFzQmhILEtBQUtndEIsVUFDN0IsQ0FFQSxzQkFBQXhELEdBQ0V2aUIsYUFBYWpILEtBQUt3c0IsbUJBQ2xCcnBCLFFBQVFDLElBQUksZ0RBQ1pwRCxLQUFLd3NCLGtCQUFvQnJsQixZQUFXLEtBQ2xDbkgsS0FBS2lvQixvQkFBcUIsRUFDMUJqb0IsS0FBS3dzQixrQkFBb0IsS0FDckJ4c0IsS0FBS2luQixZQUFjL2tCLEVBQVVNLGVBQy9CeEMsS0FBS21vQixhQUFham1CLEVBQVVHLFNBQzVCUyxFQUFVcUQsYUFBYSxvQkFBb0JuRyxLQUFLdW1CLE9BQU83YyxlQUFnQixVQUFXLE9BRWxGdkcsUUFBUVksS0FDTixzREFBc0QvRCxLQUFLaW5CLHNDQUUvRCxHWnZWMEIsSVl5VjlCLEVDM1dGLElBQUkwSCxFQUFzQixLQUUxQixNQUFNQyxFQUNKLFdBQUF2dEIsQ0FBWXd0QixHQUNWN3VCLEtBQUs2dUIsc0JBQXdCQSxFQUM3Qjd1QixLQUFLOHVCLGtCQUFvQixLQUN6Qjl1QixLQUFLK3VCLGdCQUFpQixFQUN0Qi91QixLQUFLZ3ZCLFFBQVUsS0FDZmh2QixLQUFLaXZCLHFCQUF1QixLQUU1QjlyQixRQUFRQyxJQUFJLHVEQUNacEQsS0FBS2t2QixxQkFFRGx2QixLQUFLbXZCLGVBQ1BudkIsS0FBS292Qix1QkFFTGpzQixRQUFRRSxNQUNOLDJHQUlKRixRQUFRQyxJQUFJLG9DQUNacEQsS0FBS3F2QixvQkFDTGxzQixRQUFRQyxJQUFJLDJCQUNkLENBR0EsZUFBQWtzQixDQUFnQjVDLEdBQ2Qxc0IsS0FBS2l2QixxQkFBdUJ2QyxFQUM1QnZwQixRQUFRQyxJQUFJLDBDQUVScEQsS0FBS3VxQixhQUFldnFCLEtBQUtpdkIsdUJBRTNCanZCLEtBQUt1cUIsWUFBWWdGLE1BQXFELElBQTdDdnZCLEtBQUtpdkIscUJBQXFCNUQsaUJBRXZELENBRUEsa0JBQUE2RCxHQUNFbHZCLEtBQUtrSyxjQUFnQjNKLFNBQVNtRixjQUFjLG1CQUN2QzFGLEtBQUtrSyxlQUFlL0csUUFBUUUsTUFBTSxvREFFdkNyRCxLQUFLd3ZCLGVBQWlCanZCLFNBQVNtRixjQUFjLG9CQUM3QzFGLEtBQUt5dkIsV0FBYWx2QixTQUFTbUYsY0FBYyxnQkFDekMxRixLQUFLMHZCLGdCQUFrQm52QixTQUFTbUYsY0FBYyxxQkFFekMxRixLQUFLeXZCLFdBQ0x6dkIsS0FBS3l2QixXQUFXNWxCLFVBQVcsRUFEVjFHLFFBQVFZLEtBQUssdUNBRzlCL0QsS0FBSzB2QixpQkFBaUJ2c0IsUUFBUVksS0FBSyw0Q0FFeEMvRCxLQUFLMnZCLGNBQWdCcHZCLFNBQVNtRixjQUFjLG1CQUN4QzFGLEtBQUsydkIsZUFDSDN2QixLQUFLMnZCLGNBQWNwb0IsYUFBZWhILFNBQVMrRCxNQUM3Qy9ELFNBQVMrRCxLQUFLQyxZQUFZdkUsS0FBSzJ2QixlQUVqQzN2QixLQUFLdXFCLFlBQWN2cUIsS0FBSzJ2QixjQUFjanFCLGNBQWMsaUJBQ3BEMUYsS0FBSzR2QixVQUFZNXZCLEtBQUsydkIsY0FBY2pxQixjQUFjLGVBQ2xEMUYsS0FBSzZ2QixvQkFBc0I3dkIsS0FBSzJ2QixjQUFjanFCLGNBQWMsdUJBSXhEMUYsS0FBS3VxQixhQUFldnFCLEtBQUtpdkIsdUJBQzNCanZCLEtBQUt1cUIsWUFBWWdGLE1BQXFELElBQTdDdnZCLEtBQUtpdkIscUJBQXFCNUQsbUJBR3JEbG9CLFFBQVFZLEtBQUssMENBR2YvRCxLQUFLbXZCLGVBQWlCNXVCLFNBQVNtRixjQUFjLG9CQUN6QzFGLEtBQUttdkIsZ0JBQ0hudkIsS0FBS212QixlQUFlNW5CLGFBQWVoSCxTQUFTK0QsTUFDOUMvRCxTQUFTK0QsS0FBS0MsWUFBWXZFLEtBQUttdkIsZ0JBRWpDbnZCLEtBQUs4dkIsY0FBZ0I5dkIsS0FBS212QixlQUFlenBCLGNBQWMsbUJBQ3ZEMUYsS0FBSyt2QiwwQkFBNEIvdkIsS0FBS212QixlQUFlenBCLGNBQWMsd0JBRW5FdkMsUUFBUUUsTUFBTSwyRUFHaEJyRCxLQUFLZ3dCLHlCQUEyQnp2QixTQUFTMkQsY0FBYyxPQUN2RGxFLEtBQUtnd0IseUJBQXlCbHJCLFVBQVksNkJBRTFDLE1BQU1tckIsRUFBMkJqd0IsS0FBS2tLLGNBQ2xDbEssS0FBS2tLLGNBQWN4RSxjQUFjLHNCQUNqQyxLQUVBMUYsS0FBS3l2QixZQUFjenZCLEtBQUt5dkIsV0FBV2xvQixXQUNyQ3ZILEtBQUt5dkIsV0FBV2xvQixXQUFXMm9CLGFBQWFsd0IsS0FBS2d3Qix5QkFBMEJod0IsS0FBS3l2QixZQUNuRVEsRUFDVEEsRUFBeUJDLGFBQ3ZCbHdCLEtBQUtnd0IseUJBQ0xDLEVBQXlCRSxTQUFTLElBQU0sTUFFakNud0IsS0FBS2tLLGNBQ2RsSyxLQUFLa0ssY0FBYzNGLFlBQVl2RSxLQUFLZ3dCLDBCQUVwQzdzQixRQUFRRSxNQUNOLGlGQUdKckQsS0FBS293QixnQ0FDUCxDQUVBLG9CQUFBaEIsR0FDRSxJQUFLcHZCLEtBQUttdkIsZUFDUixPQUVGLElBQUtudkIsS0FBSzZ1QixzQkFDUixPQUdGLE1BQU13QixFQUFpQnJ3QixLQUFLbXZCLGVBQWVtQixpQkFBaUIsbUJBQzlCLElBQTFCRCxFQUFldnZCLFFBSW5CdXZCLEVBQWV6ckIsU0FBUzJyQixJQUN0QixNQUFNQyxFQUFlRCxFQUFLdHJCLFFBQVFxaEIsVUFDNUJtSyxFQUFhRixFQUFLN3FCLGNBQWMsMEJBRWxDK3FCLEdBQWN6d0IsS0FBSzZ1QixzQkFBc0IyQixLQUMzQ0MsRUFBVzl2QixJQUFNWCxLQUFLNnVCLHNCQUFzQjJCLEdBQzlDLEdBRUosQ0FFQSxzQkFBQUUsR0FDTzF3QixLQUFLK3VCLGlCQUNSL3VCLEtBQUsrdUIsZ0JBQWlCLEVBQ3RCNXJCLFFBQVFDLElBQUksMkNBSWhCLENBRUEsaUJBQUFpc0IsR0FDRSxNQUFNc0IsRUFBeUIsQ0FBQ0MsRUFBU0MsRUFBV0MsS0FDOUNGLEdBQ0ZBLEVBQVF0ckIsaUJBQWlCdXJCLEdBQVl4cEIsSUFDbkNySCxLQUFLMHdCLHlCQUNMSSxFQUFVQyxLQUFLL3dCLEtBQU1xSCxFQUFNLEdBRS9CLEVBR0ZzcEIsRUFBdUIzd0IsS0FBS3d2QixlQUFnQixRQUFTeHZCLEtBQUtneEIsZ0JBQzFETCxFQUF1QjN3QixLQUFLeXZCLFdBQVksUUFBU3p2QixLQUFLaXhCLFdBQ3RETixFQUF1QjN3QixLQUFLMHZCLGdCQUFpQixRQUFTMXZCLEtBQUtreEIsb0JBRXZEbHhCLEtBQUs2dkIscUJBQ1A3dkIsS0FBSzZ2QixvQkFBb0J2cUIsaUJBQWlCLFNBQVMsSUFBTXRGLEtBQUtteEIsa0JBRTVEbnhCLEtBQUsrdkIsMkJBQ1AvdkIsS0FBSyt2QiwwQkFBMEJ6cUIsaUJBQWlCLFNBQVMsSUFBTXRGLEtBQUtveEIsd0JBR2xFcHhCLEtBQUt1cUIsYUFDUHZxQixLQUFLdXFCLFlBQVlqbEIsaUJBQWlCLFNBQVVwRixJQUMxQyxHQUFJRixLQUFLaXZCLHFCQUFzQixDQUU3QixNQUFNb0MsRUFBWXpHLFdBQVcxcUIsRUFBRW9KLE9BQU9pbUIsT0FBUyxJQUMvQ3Z2QixLQUFLaXZCLHFCQUFxQjlELGVBQWVrRyxHQUN6Q2x1QixRQUFRQyxJQUFJLDhDQUE4Q2l1QixJQUM1RCxNQUNFbHVCLFFBQVFZLEtBQUssc0VBQ2YsSUFHQS9ELEtBQUs0dkIsVUFTTDV2QixLQUFLOHZCLGVBQ1A5dkIsS0FBSzh2QixjQUFjeHFCLGlCQUFpQixTQUFVK0IsSUFDNUMsTUFBTWlxQixFQUFjanFCLEVBQU1pQyxPQUFPaW9CLFFBQVEsbUJBRXZDRCxHQUNBdHhCLEtBQUttdkIsZ0JBQ0xudkIsS0FBS212QixlQUFlL3FCLFVBQVVpRyxTQUFTLGFBRXZDckssS0FBSzB3Qix5QkFDTDF3QixLQUFLd3hCLGdCQUFnQkYsR0FDdkIsR0FHTixDQUVBLGtCQUFBSixHQUNPbHhCLEtBQUttdkIsZ0JBQW1CbnZCLEtBQUs4dkIsZ0JBR2xDOXZCLEtBQUttdkIsZUFBZS9xQixVQUFVQyxJQUFJLFdBRTlCckUsS0FBSzJ2QixlQUFldnJCLFVBQVVpRyxTQUFTLFlBQ3pDckssS0FBS214QixnQkFHRm54QixLQUFLZ3ZCLFVBQ1JodkIsS0FBS2d2QixRQUFVenVCLFNBQVMyRCxjQUFjLE9BQ3RDbEUsS0FBS2d2QixRQUFRbHFCLFVBQVksMEJBQ3pCOUUsS0FBS2d2QixRQUFRMXBCLGlCQUFpQixTQUFVcEYsSUFDbENBLEVBQUVvSixTQUFXdEosS0FBS2d2QixTQUNwQmh2QixLQUFLb3hCLHFCQUNQLElBRUY3d0IsU0FBUytELEtBQUtDLFlBQVl2RSxLQUFLZ3ZCLFVBRWpDaHZCLEtBQUtndkIsUUFBUTVxQixVQUFVQyxJQUFJLFdBQzdCLENBRUEsbUJBQUErc0IsR0FDTXB4QixLQUFLbXZCLGdCQUNQbnZCLEtBQUttdkIsZUFBZS9xQixVQUFVaUIsT0FBTyxXQUVuQ3JGLEtBQUtndkIsU0FDUGh2QixLQUFLZ3ZCLFFBQVE1cUIsVUFBVWlCLE9BQU8sVUFFbEMsQ0FFQSxlQUFBbXNCLENBQWdCQyxHQUNkLElBQUt6eEIsS0FBSzh2QixnQkFBa0IyQixHQUFheHNCLFNBQVNxaEIsVUFDaEQsT0FFRixNQUFNb0wsRUFBa0JELEVBQVl4c0IsUUFBUXFoQixVQUU1Q3RtQixLQUFLOHZCLGNBQ0ZRLGlCQUFpQixtQkFDakIxckIsU0FBUzJNLEdBQU1BLEVBQUVuTixVQUFVaUIsT0FBTyxjQUNyQ29zQixFQUFZcnRCLFVBQVVDLElBQUksWUFDMUJyRSxLQUFLOHVCLGtCQUFvQjRDLEVBRXJCMXhCLEtBQUt5dkIsYUFDUHp2QixLQUFLeXZCLFdBQVc1bEIsVUFBVyxHQUc3QjdKLEtBQUtvd0IsaUNBQ0xwd0IsS0FBS294QixxQkFDUCxDQUVBLDhCQUFBaEIsR0FDRSxHQUFLcHdCLEtBQUtnd0IseUJBRVYsR0FDRWh3QixLQUFLOHVCLG1CQUNMOXVCLEtBQUs2dUIsdUJBQ0w3dUIsS0FBSzZ1QixzQkFBc0I3dUIsS0FBSzh1QixtQkFDaEMsQ0FDQSxNQUFNMEIsRUFBZXh3QixLQUFLOHVCLGtCQUNwQjZDLEVBQVMzeEIsS0FBSzZ1QixzQkFBc0IyQixHQUMxQyxJQUFJb0IsRUFBZ0JwQixFQUFhcUIsT0FBTyxHQUFHbnhCLGNBQWdCOHZCLEVBQWF0a0IsTUFBTSxHQUFLLFdBRW5GLEdBQUlsTSxLQUFLOHZCLGNBQWUsQ0FDdEIsTUFBTWdDLEVBQXdCOXhCLEtBQUs4dkIsY0FBY3BxQixjQUMvQyxtQ0FBbUM4cUIsVUFFakNzQixJQUNGRixFQUFnQkUsRUFBc0Ivc0IsWUFFMUMsQ0FDQS9FLEtBQUtnd0IseUJBQXlCeHJCLFVBQVksYUFBYW10QixXQUFnQkMsMktBQXVMQSxVQUNoUSxNQUNFNXhCLEtBQUtnd0IseUJBQXlCeHJCLFVBQzVCLHdEQUVOLENBRUEsY0FBQXdzQixHQUNPaHhCLEtBQUsydkIsZ0JBQ1EzdkIsS0FBSzJ2QixjQUFjdnJCLFVBQVVpRyxTQUFTLFdBRXREckssS0FBS214QixnQkFFTG54QixLQUFLK3hCLGVBRVQsQ0FFQSxZQUFBQSxHQUNNL3hCLEtBQUsydkIsZ0JBQ1AzdkIsS0FBSzJ2QixjQUFjdnJCLFVBQVVDLElBQUksV0FDN0JyRSxLQUFLbXZCLGdCQUFnQi9xQixVQUFVaUcsU0FBUyxZQUMxQ3JLLEtBQUtveEIsc0JBR0hweEIsS0FBS3VxQixhQUFldnFCLEtBQUtpdkIsdUJBQzNCanZCLEtBQUt1cUIsWUFBWWdGLE1BQXFELElBQTdDdnZCLEtBQUtpdkIscUJBQXFCNUQsa0JBR3pELENBRUEsYUFBQThGLEdBQ01ueEIsS0FBSzJ2QixlQUFpQjN2QixLQUFLMnZCLGNBQWN2ckIsVUFBVWlHLFNBQVMsWUFDOURySyxLQUFLMnZCLGNBQWN2ckIsVUFBVWlCLE9BQU8sVUFFeEMsQ0FFQSxlQUFNNHJCLEdBQ0osSUFBS2p4QixLQUFLOHVCLGtCQUVSLFlBREFoc0IsRUFBVXFELGFBQWEsbUNBQW9DLFVBQVcsTUFJeEUsTUFBTW9uQixFQUFpQnpxQixFQUFVNkUsb0JBR2pDLEdBRkk0bEIsR0FBZ0JBLEVBQWVucEIsVUFBVUMsSUFBSSxZQUU3Q3JFLEtBQUtrSyxjQUlQLFlBRElxakIsR0FBZ0JBLEVBQWVucEIsVUFBVWlCLE9BQU8sWUFGcERyRixLQUFLa0ssY0FBY2xGLE1BQU1vRixRQUFVLE9BTXJDLE1BQU00bkIsRUFBYXp4QixTQUFTMEQsZUFBZSxlQUMzQyxJQUFJK3RCLEVBTUYsT0FIQTd1QixRQUFRRSxNQUFNLDRDQUNWckQsS0FBS2tLLGdCQUFlbEssS0FBS2tLLGNBQWNsRixNQUFNb0YsUUFBVSxhQUN2RG1qQixHQUFnQkEsRUFBZW5wQixVQUFVaUIsT0FBTyxZQUpwRDJzQixFQUFXaHRCLE1BQU1vRixRQUFVLFFBUTdCLElBQ011a0IsR0FBK0QsbUJBQWpDQSxFQUFvQkosVUFDcERJLEVBQW9CSixXQUd0QkksRUFBc0IsSUFBSXZDLEVBQUtwc0IsS0FBSzh1QixtQkFHaENILEdBQXVCQSxFQUFvQmpDLGFBQzdDMXNCLEtBQUtzdkIsZ0JBQWdCWCxFQUFvQmpDLGNBRXpDdnBCLFFBQVFZLEtBQ04sd0ZBR04sQ0FBRSxNQUFPVixHQUNQRixRQUFRRSxNQUFNLG9EQUFxREEsR0FDbkVQLEVBQVVxRCxhQUFhLHNCQUFzQjlDLEVBQU0rQyxVQUFXLFFBQVMsS0FDbkVwRyxLQUFLa0ssZ0JBQWVsSyxLQUFLa0ssY0FBY2xGLE1BQU1vRixRQUFVLFFBQ3ZENG5CLElBQVlBLEVBQVdodEIsTUFBTW9GLFFBQVUsUUFDdkNtakIsR0FBZ0JBLEVBQWVucEIsVUFBVWlCLE9BQU8sV0FDcERzcEIsRUFBc0IsSUFDeEIsQ0FDRixFLG9OQzVVRnB1QixTQUFTK0UsaUJBQWlCLG9CQUFvQixLQUM1Q25DLFFBQVFDLElBQUksb0RBU1osSUFBSXdyQixFQVAwQixDQUM1QmhDLElBQUssRUFDTEMsS0FBTSxFQUNOQyxPQUFRLEVBQ1JDLE1BQU8sR0FHc0IsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3N0dWRlbnQtZ2FtZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9zdHVkZW50LWdhbWUvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9zdHVkZW50LWdhbWUvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vc3R1ZGVudC1nYW1lLy4vanMvQ29yZS9JbnB1dE1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vc3R1ZGVudC1nYW1lLy4vanMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3N0dWRlbnQtZ2FtZS8uL2pzL1VJL1VJTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9zdHVkZW50LWdhbWUvLi9qcy9Db3JlL0NoYXJhY3Rlci5qcyIsIndlYnBhY2s6Ly9zdHVkZW50LWdhbWUvLi9qcy9tYXAvQm9vay5qcyIsIndlYnBhY2s6Ly9zdHVkZW50LWdhbWUvLi9qcy91dGlscy9tYXAuanMiLCJ3ZWJwYWNrOi8vc3R1ZGVudC1nYW1lLy4vanMvbWFwL01hcFJlbmRlcmVyLmpzIiwid2VicGFjazovL3N0dWRlbnQtZ2FtZS8uL2pzL21hcC9NYXBHZW4uanMiLCJ3ZWJwYWNrOi8vc3R1ZGVudC1nYW1lLy4vanMvbWFwL1Byb2NlZHVyYWxNYXAuanMiLCJ3ZWJwYWNrOi8vc3R1ZGVudC1nYW1lLy4vanMvQ29yZS9MZXZlbC5qcyIsIndlYnBhY2s6Ly9zdHVkZW50LWdhbWUvLi9qcy9Db3JlL0dhbWVSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly9zdHVkZW50LWdhbWUvLi9qcy9Db3JlL0dhbWVwbGF5TWFuYWdlci5qcyIsIndlYnBhY2s6Ly9zdHVkZW50LWdhbWUvLi9qcy9hdWRpby9BdWRpb01hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vc3R1ZGVudC1nYW1lLy4vanMvQ29yZS9HYW1lLmpzIiwid2VicGFjazovL3N0dWRlbnQtZ2FtZS8uL2pzL1VJL01lbnUuanMiLCJ3ZWJwYWNrOi8vc3R1ZGVudC1nYW1lLy4vanMvbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJ2YXIgc2NyaXB0VXJsO1xuaWYgKF9fd2VicGFja19yZXF1aXJlX18uZy5pbXBvcnRTY3JpcHRzKSBzY3JpcHRVcmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcubG9jYXRpb24gKyBcIlwiO1xudmFyIGRvY3VtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmRvY3VtZW50O1xuaWYgKCFzY3JpcHRVcmwgJiYgZG9jdW1lbnQpIHtcblx0aWYgKGRvY3VtZW50LmN1cnJlbnRTY3JpcHQgJiYgZG9jdW1lbnQuY3VycmVudFNjcmlwdC50YWdOYW1lLnRvVXBwZXJDYXNlKCkgPT09ICdTQ1JJUFQnKVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjO1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHtcblx0XHRcdHZhciBpID0gc2NyaXB0cy5sZW5ndGggLSAxO1xuXHRcdFx0d2hpbGUgKGkgPiAtMSAmJiAoIXNjcmlwdFVybCB8fCAhL15odHRwKHM/KTovLnRlc3Qoc2NyaXB0VXJsKSkpIHNjcmlwdFVybCA9IHNjcmlwdHNbaS0tXS5zcmM7XG5cdFx0fVxuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoL15ibG9iOi8sIFwiXCIpLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCIvLyBzcmMvY29yZS9JbnB1dE1hbmFnZXIuanNcbmV4cG9ydCBjbGFzcyBJbnB1dE1hbmFnZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmtleXMgPSB7XG4gICAgICB1cDogZmFsc2UsXG4gICAgICBkb3duOiBmYWxzZSxcbiAgICAgIGxlZnQ6IGZhbHNlLFxuICAgICAgcmlnaHQ6IGZhbHNlLFxuICAgIH07XG4gIH1cblxuICBzZXRLZXkoa2V5LCBpc1ByZXNzZWQpIHtcbiAgICBpZiAodGhpcy5rZXlzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIHRoaXMua2V5c1trZXldID0gaXNQcmVzc2VkO1xuICAgIH1cbiAgfVxuXG4gIGdldElucHV0RGlyZWN0aW9uKCkge1xuICAgIGxldCB4ID0gMDtcbiAgICBsZXQgeSA9IDA7XG4gICAgaWYgKHRoaXMua2V5cy51cCkgeSAtPSAxO1xuICAgIGlmICh0aGlzLmtleXMuZG93bikgeSArPSAxO1xuICAgIGlmICh0aGlzLmtleXMubGVmdCkgeCAtPSAxO1xuICAgIGlmICh0aGlzLmtleXMucmlnaHQpIHggKz0gMTtcbiAgICByZXR1cm4geyB4LCB5IH07XG4gIH1cbn1cbiIsIi8vIHNyYy91dGlscy9jb25zdGFudHMuanNcblxuLy8gRGVmaW5pY2plIHR5cMOzdyBrYWZlbGvDs3cgbWFweVxuZXhwb3J0IGNvbnN0IFRJTEVfV0FMTCA9IDA7IC8vIMWaY2lhbmFcbmV4cG9ydCBjb25zdCBUSUxFX0NPUlJJRE9SID0gMTsgLy8gS29yeXRhcnpcbmV4cG9ydCBjb25zdCBUSUxFX1JPT01fRkxPT1IgPSAyOyAvLyBQb2TFgm9nYSBwb2tvanVcbmV4cG9ydCBjb25zdCBUSUxFX0xJRlQgPSAzOyAvLyBXaW5kYVxuLy8gTW/FvG5hIGRvZGHEhyB3acSZY2VqIHR5cMOzdywgbnAuIFRJTEVfRE9PUiwgVElMRV9XSU5ET1cgaXRwLlxuXG4vLyBTdGFueSBncnlcbmV4cG9ydCBjb25zdCBHYW1lU3RhdGUgPSB7XG4gIExPQURJTkc6ICdMT0FESU5HJywgLy8gxYFhZG93YW5pZSB6YXNvYsOzdywgZ2VuZXJvd2FuaWUgcG96aW9tdVxuICBNRU5VOiAnTUVOVScsIC8vIE1lbnUgZ8WCw7N3bmUgKHd5YsOzciBwb3N0YWNpKVxuICBQTEFZSU5HOiAnUExBWUlORycsIC8vIEfFgsOzd25hIHJvemdyeXdrYVxuICBBU0tJTkdfUVVFU1RJT046ICdBU0tJTkdfUVVFU1RJT04nLCAvLyBXecWbd2lldGxhbmllIHB5dGFuaWFcbiAgU0VMRUNUSU5HX0ZMT09SOiAnU0VMRUNUSU5HX0ZMT09SJywgLy8gV3nFm3dpZXRsYW5pZSBVSSB3eWJvcnUgcGnEmXRyYVxuICBUUkFOU0lUSU9OSU5HOiAnVFJBTlNJVElPTklORycsIC8vIEFuaW1hY2phL29jemVraXdhbmllIG5hIHByemVqxZtjaWUgd2luZHlcbiAgR0FNRV9PVkVSOiAnR0FNRV9PVkVSJywgLy8gS29uaWVjIGdyeSAod3lncmFuYSBsdWIgcHJ6ZWdyYW5hKVxufTtcblxuLy8gUGFyYW1ldHJ5IHJvemdyeXdraVxuZXhwb3J0IGNvbnN0IFRBUkdFVF9CT09LU19UT19XSU4gPSAxNTsgLy8gTGljemJhIGtzacSFxbxlayBkbyB6ZWJyYW5pYSwgYWJ5IHd5Z3JhxIcgKGdsb2JhbG5pZSlcbmV4cG9ydCBjb25zdCBMSUZUX0NPT0xET1dOX01TID0gMjAwMDsgLy8gQ3phcyBvZG5vd2llbmlhIHdpbmR5IHcgbWlsaXNla3VuZGFjaCAoMiBzZWt1bmR5KVxuZXhwb3J0IGNvbnN0IExJRlRfSU5URVJBQ1RJT05fUkFESVVTX01VTFRJUExJRVIgPSAwLjc7IC8vIE1ub8W8bmlrIHByb21pZW5pYSBpbnRlcmFrY2ppIHogd2luZMSFICh3emdsxJlkZW0gdGlsZVNpemUpXG5cbi8vIFN6YW5zYSBuYSBwb2phd2llbmllIHNpxJkgc2nFgm93bmkgbmEgcGllcndzenltIHBpxJl0cnplICgwLjAgZG8gMS4wKVxuZXhwb3J0IGNvbnN0IEdZTV9DSEFOQ0VfT05fRklSU1RfRkxPT1IgPSAwLjY7IC8vIDYwJSBzemFuc3lcblxuLy8gUHl0YW5pYSBpIG9kcG93aWVkemlcbmV4cG9ydCBjb25zdCBxdWVzdGlvbnMgPSBbXG4gIHtcbiAgICBxdWVzdGlvbjpcbiAgICAgICdLdMOzcnkgasSZenlrIHByb2dyYW1vd2FuaWEgamVzdCB6bmFueSB6ZSBzd29qZWogd3N6ZWNoc3Ryb25ub8WbY2kgaSB1xbx5d2FueSB6YXLDs3dubyB3IGJhY2tlbmR6aWUgKE5vZGUuanMpLCBqYWsgaSBmcm9udGVuZHppZT8nLFxuICAgIG9wdGlvbnM6IFsnUHl0aG9uJywgJ0phdmEnLCAnSmF2YVNjcmlwdCcsICdDIyddLFxuICAgIGNvcnJlY3RBbnN3ZXI6IDIsIC8vIEluZGVrcyBwb3ByYXduZWogb2Rwb3dpZWR6aSAoSmF2YVNjcmlwdClcbiAgfSxcbiAge1xuICAgIHF1ZXN0aW9uOiAnQ28gb3puYWN6YSBza3LDs3QgSFRNTD8nLFxuICAgIG9wdGlvbnM6IFtcbiAgICAgICdIeXBlclRleHQgTWFya3VwIExhbmd1YWdlJyxcbiAgICAgICdIaWdoIFRyYW5zZmVyIE1hY2hpbmUgTGFuZ3VhZ2UnLFxuICAgICAgJ0h5cGVybGluayBhbmQgVGV4dCBNYW5hZ2VtZW50IExhbmd1YWdlJyxcbiAgICAgICdIb21lIFRvb2wgTWFya3VwIExhbmd1YWdlJyxcbiAgICBdLFxuICAgIGNvcnJlY3RBbnN3ZXI6IDAsXG4gIH0sXG4gIHtcbiAgICBxdWVzdGlvbjogJ0t0w7NyYSBzdHJ1a3R1cmEgZGFueWNoIGR6aWHFgmEgbmEgemFzYWR6aWUgTElGTyAoTGFzdC1JbiwgRmlyc3QtT3V0KT8nLFxuICAgIG9wdGlvbnM6IFsnS29sZWprYSAoUXVldWUpJywgJ1N0b3MgKFN0YWNrKScsICdMaXN0YSAoTGlzdCknLCAnRHJ6ZXdvIChUcmVlKSddLFxuICAgIGNvcnJlY3RBbnN3ZXI6IDEsXG4gIH0sXG4gIHtcbiAgICBxdWVzdGlvbjogJ0phayBuYXp5d2Egc2nEmSBwcm9jZXMgem5hamRvd2FuaWEgaSBuYXByYXdpYW5pYSBixYLEmWTDs3cgdyBrb2R6aWU/JyxcbiAgICBvcHRpb25zOiBbJ0tvbXBpbGFjamEnLCAnVGVzdG93YW5pZScsICdEZWJ1Z293YW5pZScsICdSZWZha3Rvcnl6YWNqYSddLFxuICAgIGNvcnJlY3RBbnN3ZXI6IDIsXG4gIH0sXG4gIHtcbiAgICBxdWVzdGlvbjpcbiAgICAgIFwiS3TDs3J5IHBhcmFkeWdtYXQgcHJvZ3JhbW93YW5pYSBvcGllcmEgc2nEmSBuYSBrb25jZXBjamkgJ29iaWVrdMOzdycsIGt0w7NyZSBtb2fEhSB6YXdpZXJhxIcgZGFuZSBpIGtvZD9cIixcbiAgICBvcHRpb25zOiBbXG4gICAgICAnUHJvZ3JhbW93YW5pZSBmdW5rY3lqbmUnLFxuICAgICAgJ1Byb2dyYW1vd2FuaWUgcHJvY2VkdXJhbG5lJyxcbiAgICAgICdQcm9ncmFtb3dhbmllIG9iaWVrdG93ZScsXG4gICAgICAnUHJvZ3JhbW93YW5pZSBsb2dpY3puZScsXG4gICAgXSxcbiAgICBjb3JyZWN0QW5zd2VyOiAyLFxuICB9LFxuICB7XG4gICAgcXVlc3Rpb246ICdDbyBvem5hY3phIENTUz8nLFxuICAgIG9wdGlvbnM6IFtcbiAgICAgICdDYXNjYWRpbmcgU3R5bGUgU2hlZXRzJyxcbiAgICAgICdDb21wdXRlciBTdHlsZSBTeW50YXgnLFxuICAgICAgJ0NyZWF0aXZlIFN0eWxpbmcgU3lzdGVtJyxcbiAgICAgICdDb2xvcmZ1bCBTdHlsZSBTY3JpcHRzJyxcbiAgICBdLFxuICAgIGNvcnJlY3RBbnN3ZXI6IDAsXG4gIH0sXG4gIHtcbiAgICBxdWVzdGlvbjogJ0t0w7NyeSBvcGVyYXRvciB3IEphdmFTY3JpcHQgc8WCdcW8eSBkbyDFm2Npc8WCZWdvIHBvcsOzd25hbmlhICh3YXJ0b8WbxIcgaSB0eXApPycsXG4gICAgb3B0aW9uczogWyc9PScsICc9JywgJz09PScsICchPSddLFxuICAgIGNvcnJlY3RBbnN3ZXI6IDIsXG4gIH0sXG4gIHtcbiAgICBxdWVzdGlvbjogJ0phayBuYXp5d2Egc2nEmSBwb3B1bGFybnkgc3lzdGVtIGtvbnRyb2xpIHdlcnNqaSB1xbx5d2FueSBwcnpleiBwcm9ncmFtaXN0w7N3PycsXG4gICAgb3B0aW9uczogWydTdWJ2ZXJzaW9uIChTVk4pJywgJ0dpdCcsICdNZXJjdXJpYWwnLCAnQ1ZTJ10sXG4gICAgY29ycmVjdEFuc3dlcjogMSxcbiAgfSxcbiAge1xuICAgIHF1ZXN0aW9uOlxuICAgICAgJ0t0w7NyeSB0eXAgcMSZdGxpIHcgd2nEmWtzem/Fm2NpIGrEmXp5a8OzdyBwcm9ncmFtb3dhbmlhIGplc3QgbmFqYmFyZHppZWogb2Rwb3dpZWRuaSBkbyBpdGVyYWNqaSBwbyBlbGVtZW50YWNoIHRhYmxpY3ksIGdkeSBuaWUgem5hbXkgaWNoIGxpY3pieT8nLFxuICAgIG9wdGlvbnM6IFsnZm9yJywgJ3doaWxlJywgJ2RvLi4ud2hpbGUnLCAnZm9yZWFjaCAobHViIGZvci4uLm9mKSddLFxuICAgIGNvcnJlY3RBbnN3ZXI6IDMsXG4gIH0sXG4gIHtcbiAgICBxdWVzdGlvbjogJ0NvIHRvIGplc3QgQVBJPycsXG4gICAgb3B0aW9uczogW1xuICAgICAgJ0FkdmFuY2VkIFByb2dyYW1taW5nIEludGVyZmFjZScsXG4gICAgICAnQXBwbGljYXRpb24gUHJvZ3JhbW1pbmcgSW50ZXJmYWNlJyxcbiAgICAgICdBdXRvbWF0ZWQgUHJvZ3JhbSBJbnRlcmFjdGlvbicsXG4gICAgICAnQWxnb3JpdGhtaWMgUHJvY2Vzc2luZyBJbnB1dCcsXG4gICAgXSxcbiAgICBjb3JyZWN0QW5zd2VyOiAxLFxuICB9LFxuICB7XG4gICAgcXVlc3Rpb246ICdDbyB0byBqZXN0IFBMQyBpIGRvIGN6ZWdvIG5hamN6xJnFm2NpZWogc8WCdcW8eSB3IGF1dG9tYXR5Y2U/JyxcbiAgICBvcHRpb25zOiBbXG4gICAgICAnUHJvZ3JhbW93YWxueSBMb2dpYyBDb250cm9sbGVyLCBkbyBzdGVyb3dhbmlhIHByb2Nlc2FtaSBwcnplbXlzxYJvd3ltaScsXG4gICAgICAnUGVyc29uYWwgTGVhcm5pbmcgQ29tcHV0ZXIsIGRvIG5hdWtpIHByb2dyYW1vd2FuaWEnLFxuICAgICAgJ1Bvd2VyIExpbmUgQ29tbXVuaWNhdGlvbiwgZG8gcHJ6ZXN5xYJ1IGRhbnljaCBwcnpleiBzaWXEhyBlbGVrdHJ5Y3puxIUnLFxuICAgICAgJ1Byb2plY3QgTGlmZWN5Y2xlIENvc3QsIGRvIHphcnrEhWR6YW5pYSBrb3N6dGFtaSBwcm9qZWt0dScsXG4gICAgXSxcbiAgICBjb3JyZWN0QW5zd2VyOiAwLFxuICB9LFxuICB7XG4gICAgcXVlc3Rpb246ICdaYSBjbyBvZHBvd2lhZGEgcHJ6eXPFgm9uYSAoYXBlcnR1cmEpIHcgYXBhcmFjaWUgZm90b2dyYWZpY3pueW0/JyxcbiAgICBvcHRpb25zOiBbXG4gICAgICAnS29udHJvbMSZIGN6YXN1IG5hxZt3aWV0bGFuaWEnLFxuICAgICAgJ1JlZ3VsYWNqxJkgZ8WCxJliaSBvc3Ryb8WbY2kgaSBpbG/Fm2NpIHdwYWRhasSFY2VnbyDFm3dpYXTFgmEnLFxuICAgICAgJ1VzdGF3aWVuaWUgYmFsYW5zdSBiaWVsaScsXG4gICAgICAnU3RhYmlsaXphY2rEmSBvYnJhenUnLFxuICAgIF0sXG4gICAgY29ycmVjdEFuc3dlcjogMSxcbiAgfSxcbiAge1xuICAgIHF1ZXN0aW9uOlxuICAgICAgJ0t0w7NyeSBlbGVtZW50IGtvbXB1dGVyYSBqZXN0IG9kcG93aWVkemlhbG55IHphIHR5bWN6YXNvd2UgcHJ6ZWNob3d5d2FuaWUgZGFueWNoIHXFvHl3YW55Y2ggcHJ6ZXogcHJvY2Vzb3I/JyxcbiAgICBvcHRpb25zOiBbJ0R5c2sgdHdhcmR5IChIREQvU1NEKScsICdLYXJ0YSBncmFmaWN6bmEgKEdQVSknLCAnUGFtacSZxIcgUkFNJywgJ1DFgnl0YSBnxYLDs3duYSddLFxuICAgIGNvcnJlY3RBbnN3ZXI6IDIsXG4gIH0sXG4gIHtcbiAgICBxdWVzdGlvbjpcbiAgICAgICdXIGpha2ltIGrEmXp5a3UgcHJvZ3JhbW93YW5pYSBuYWpjesSZxZtjaWVqIHBpc2FuZSBzxIUgc2tyeXB0eSBwbyBzdHJvbmllIHNlcndlcmEgKGJhY2tlbmQpPycsXG4gICAgb3B0aW9uczogWydIVE1MJywgJ0NTUycsICdTUUwnLCAnUEhQLCBQeXRob24gbHViIE5vZGUuanMgKEphdmFTY3JpcHQpJ10sXG4gICAgY29ycmVjdEFuc3dlcjogMyxcbiAgfSxcbiAge1xuICAgIHF1ZXN0aW9uOlxuICAgICAgJ0pha2kgdHlwIHN5Z25hxYJ1IGNoYXJha3Rlcnl6dWplIHNpxJkgcMWCeW5uxIUgem1pYW7EhSB3YXJ0b8WbY2kgdyBjemFzaWUsIHcgcHJ6ZWNpd2llxYRzdHdpZSBkbyBzeWduYcWCdSBjeWZyb3dlZ28/JyxcbiAgICBvcHRpb25zOiBbJ0JpbmFybnknLCAnQW5hbG9nb3d5JywgJ1plcm8tamVkeW5rb3d5JywgJ0ltcHVsc293eSddLFxuICAgIGNvcnJlY3RBbnN3ZXI6IDEsXG4gIH0sXG4gIHtcbiAgICBxdWVzdGlvbjpcbiAgICAgICdLdMOzcnkgcGFyYW1ldHIgdXN0YXdpYSBjenXFgm/Fm8SHIG1hdHJ5Y3kgYXBhcmF0dSBuYSDFm3dpYXTFgm8gaSB3cMWCeXdhIG5hIHBvemlvbSBzenVtw7N3IG5hIHpkasSZY2l1PycsXG4gICAgb3B0aW9uczogWydDemFzIG5hxZt3aWV0bGFuaWEnLCAnUHJ6eXPFgm9uYScsICdJU08nLCAnT2duaXNrb3dhJ10sXG4gICAgY29ycmVjdEFuc3dlcjogMixcbiAgfSxcbiAge1xuICAgIHF1ZXN0aW9uOiAnQ28gdG8gamVzdCBhZHJlcyBJUCB3IHNpZWNpIGtvbXB1dGVyb3dlaj8nLFxuICAgIG9wdGlvbnM6IFtcbiAgICAgICdVbmlrYWxueSBpZGVudHlmaWthdG9yIHVyesSFZHplbmlhIHcgc2llY2knLFxuICAgICAgJ05hendhIHXFvHl0a293bmlrYSBkbyBsb2dvd2FuaWEnLFxuICAgICAgJ0FkcmVzIHN0cm9ueSBpbnRlcm5ldG93ZWonLFxuICAgICAgJ1R5cCBrYWJsYSBzaWVjaW93ZWdvJyxcbiAgICBdLFxuICAgIGNvcnJlY3RBbnN3ZXI6IDAsXG4gIH0sXG4gIHtcbiAgICBxdWVzdGlvbjogJ0N6eW0gcsOzxbxuaSBzacSZIGluc3RydWtjamEgd2FydW5rb3dhIGBpZmAgb2QgcMSZdGxpIGB3aGlsZWAgdyBwcm9ncmFtb3dhbml1PycsXG4gICAgb3B0aW9uczogW1xuICAgICAgJ2BpZmAgcG93dGFyemEgYmxvayBrb2R1LCBgd2hpbGVgIHNwcmF3ZHphIHdhcnVuZWsgamVkbm9rcm90bmllJyxcbiAgICAgICdgaWZgIHNwcmF3ZHphIHdhcnVuZWsgamVkbm9rcm90bmllLCBgd2hpbGVgIHBvd3RhcnphIGJsb2sga29kdSBkb3DDs2tpIHdhcnVuZWsgamVzdCBwcmF3ZHppd3knLFxuICAgICAgJ05pZSBtYSBtacSZZHp5IG5pbWkgcsOzxbxuaWN5JyxcbiAgICAgICdgaWZgIHPFgnXFvHkgdHlsa28gZG8gZGVrbGFyb3dhbmlhIHptaWVubnljaCwgYHdoaWxlYCBkbyBvcGVyYWNqaSBtYXRlbWF0eWN6bnljaCcsXG4gICAgXSxcbiAgICBjb3JyZWN0QW5zd2VyOiAxLFxuICB9LFxuICB7XG4gICAgcXVlc3Rpb246ICdEbyBjemVnbyBuYWpjesSZxZtjaWVqIHPFgnXFvHkgY3p1am5payBjacWbbmllbmlhIHcgc3lzdGVtaWUgYXV0b21hdHlraT8nLFxuICAgIG9wdGlvbnM6IFsnUG9taWFydSB0ZW1wZXJhdHVyeScsICdQb21pYXJ1IG9kbGVnxYJvxZtjaScsICdQb21pYXJ1IHNpxYJ5JywgJ1BvbWlhcnUgY2nFm25pZW5pYSddLFxuICAgIGNvcnJlY3RBbnN3ZXI6IDMsXG4gIH0sXG4gIHtcbiAgICBxdWVzdGlvbjogJ0NvIG96bmFjemEgemFzYWRhIHRyw7NqcG9kemlhxYJ1IHcga29tcG96eWNqaSBmb3RvZ3JhZmljem5laj8nLFxuICAgIG9wdGlvbnM6IFtcbiAgICAgICdEemllbGVuaWUgb2JyYXp1IG5hIDMgcsOzd25lIGN6xJnFm2NpIHBpb25vd28gaSBwb3ppb21vIGkgdW1pZXN6Y3phbmllIGtsdWN6b3d5Y2ggZWxlbWVudMOzdyBuYSBsaW5pYWNoIGx1YiBpY2ggcHJ6ZWNpxJljaWFjaCcsXG4gICAgICAnVcW8eXdhbmllIHR5bGtvIDMgZ8WCw7N3bnljaCBrb2xvcsOzdyB3IGthZHJ6ZScsXG4gICAgICAnUm9iaWVuaWUgemF3c3plIDMgemRqxJnEhyB0ZWogc2FtZWogc2NlbnknLFxuICAgICAgJ0JhbGFuc293YW5pZSAzIGfFgsOzd255Y2ggb2JpZWt0w7N3IHcga2FkcnplJyxcbiAgICBdLFxuICAgIGNvcnJlY3RBbnN3ZXI6IDAsXG4gIH0sXG4gIHtcbiAgICBxdWVzdGlvbjogJ0pha2EgamVzdCBwb2RzdGF3b3dhIHJvbGEgc3lzdGVtdSBvcGVyYWN5am5lZ28/JyxcbiAgICBvcHRpb25zOiBbXG4gICAgICAnVHdvcnplbmllIGdyYWZpa2kga29tcHV0ZXJvd2VqJyxcbiAgICAgICdaYXJ6xIVkemFuaWUgemFzb2JhbWkgc3ByesSZdG93eW1pIGkgcHJvZ3JhbW93eW1pIGtvbXB1dGVyYScsXG4gICAgICAnUGlzYW5pZSBrb2R1IHByb2dyYW3Ds3cnLFxuICAgICAgJ1ByemVnbMSFZGFuaWUgSW50ZXJuZXR1JyxcbiAgICBdLFxuICAgIGNvcnJlY3RBbnN3ZXI6IDEsXG4gIH0sXG4gIHtcbiAgICBxdWVzdGlvbjpcbiAgICAgICdKYWtpZWdvIHR5cHUgZGFueWNoIG5hamN6xJnFm2NpZWogdcW8eWplc3ogZG8gcHJ6ZWNob3d5d2FuaWEgd2lla3Ugb3NvYnkgKGxpY3piYSBjYcWCa293aXRhKT8nLFxuICAgIG9wdGlvbnM6IFtcbiAgICAgICdTdHJpbmcgKGNpxIVnIHpuYWvDs3cpJyxcbiAgICAgICdCb29sZWFuICh3YXJ0b8WbxIcgbG9naWN6bmEpJyxcbiAgICAgICdGbG9hdCAobGljemJhIHptaWVubm9wcnplY2lua293YSknLFxuICAgICAgJ0ludGVnZXIgKGxpY3piYSBjYcWCa293aXRhKScsXG4gICAgXSxcbiAgICBjb3JyZWN0QW5zd2VyOiAzLFxuICB9LFxuICB7XG4gICAgcXVlc3Rpb246ICdFbGVtZW50IHd5a29uYXdjenkgKGFrdHVhdG9yKSB3IHN5c3RlbWllIGF1dG9tYXR5a2kgdG8gdXJ6xIVkemVuaWUsIGt0w7NyZS4uLicsXG4gICAgb3B0aW9uczogW1xuICAgICAgJ09kY3p5dHVqZSBkYW5lIHogY3p1am5pa8OzdycsXG4gICAgICAnV3lrb251amUga29tZW5keSB6ZSBzdGVyb3duaWthLCBhYnkgd3lrb25hxIcgZml6eWN6bmUgZHppYcWCYW5pZSAobnAuIHJ1Y2gpJyxcbiAgICAgICdQcnplY2hvd3VqZSBkYW5lIGhpc3Rvcnljem5lJyxcbiAgICAgICdTxYJ1xbx5IGRvIGtvbXVuaWthY2ppIHogb3BlcmF0b3JlbScsXG4gICAgXSxcbiAgICBjb3JyZWN0QW5zd2VyOiAxLFxuICB9LFxuICB7XG4gICAgcXVlc3Rpb246XG4gICAgICAnS3TDs3J5IGZvcm1hdCBwbGlrdSBncmFmaWN6bmVnbyBqZXN0IGJlenN0cmF0bnkgaSBjesSZc3RvIHXFvHl3YW55IHcgcHJvZmVzam9uYWxuZWogZWR5Y2ppLCB6YWNob3d1asSFYyBtYWtzeW1hbG7EhSBqYWtvxZvEhyBrb3N6dGVtIHJvem1pYXJ1PycsXG4gICAgb3B0aW9uczogWydKUEVHJywgJ0dJRicsICdQTkcnLCAnUkFXJ10sXG4gICAgY29ycmVjdEFuc3dlcjogMyxcbiAgfSxcbiAge1xuICAgIHF1ZXN0aW9uOiAnQ28gY2hyb25pIHNpZcSHIGtvbXB1dGVyb3fEhSBwcnplZCBuaWVhdXRvcnl6b3dhbnltIGRvc3TEmXBlbSB6IHpld27EhXRyej8nLFxuICAgIG9wdGlvbnM6IFsnUm91dGVyJywgJ1N3aXRjaCcsICdNb2RlbScsICdGaXJld2FsbCAoemFwb3JhIHNpZWNpb3dhKSddLFxuICAgIGNvcnJlY3RBbnN3ZXI6IDMsXG4gIH0sXG4gIHtcbiAgICBxdWVzdGlvbjogJ0NvIHRvIGplc3QgSURFIChJbnRlZ3JhdGVkIERldmVsb3BtZW50IEVudmlyb25tZW50KSB3IGtvbnRla8WbY2llIHByb2dyYW1vd2FuaWE/JyxcbiAgICBvcHRpb25zOiBbXG4gICAgICAnU3lzdGVtIG9wZXJhY3lqbnknLFxuICAgICAgJ05hcnrEmWR6aWUgZG8gemFyesSFZHphbmlhIGJhesSFIGRhbnljaCcsXG4gICAgICAnWmludGVncm93YW5lIMWbcm9kb3dpc2tvIHByb2dyYW1pc3R5Y3puZSAoZWR5dG9yIGtvZHUsIGtvbXBpbGF0b3IsIGRlYnVnZ2VyIHcgamVkbnltKScsXG4gICAgICAnUHJvdG9rw7PFgiBzaWVjaW93eScsXG4gICAgXSxcbiAgICBjb3JyZWN0QW5zd2VyOiAyLFxuICB9LFxuICB7XG4gICAgcXVlc3Rpb246XG4gICAgICAnUHJ6eWvFgmFkZW0gY3p1am5pa2EgemJsacW8ZW5pb3dlZ28sIHd5a3J5d2FqxIVjZWdvIG9iZWNub8WbxIcgb2JpZWt0dSBiZXogZml6eWN6bmVnbyBrb250YWt0dSwgbW/FvGUgYnnEhzonLFxuICAgIG9wdGlvbnM6IFsnVGVybW9tZXRyJywgJ0ZvdG9rb23Ds3JrYScsICdNYW5vbWV0ciAoY3p1am5payBjacWbbmllbmlhKScsICdBa2NlbGVyb21ldHInXSxcbiAgICBjb3JyZWN0QW5zd2VyOiAxLFxuICB9LFxuICB7XG4gICAgcXVlc3Rpb246ICdEbyBjemVnbyBzxYJ1xbx5IGJhbGFucyBiaWVsaSAod2hpdGUgYmFsYW5jZSkgdyBhcGFyYWNpZSBmb3RvZ3JhZmljem55bT8nLFxuICAgIG9wdGlvbnM6IFtcbiAgICAgICdEbyByZWd1bGFjamkgb3N0cm/Fm2NpJyxcbiAgICAgICdEbyBrb3Jla2NqaSBrb2xvcsOzdywgYWJ5IGJpYcWCeSB3eWdsxIVkYcWCIG5hIGJpYcWCeSBuaWV6YWxlxbxuaWUgb2Qgxbpyw7NkxYJhIMWbd2lhdMWCYScsXG4gICAgICAnRG8gdXN0YXdpYW5pYSBjemFzdSBuYcWbd2lldGxhbmlhJyxcbiAgICAgICdEbyBkb2Rhd2FuaWEgZWZla3TDs3cgc3BlY2phbG55Y2gnLFxuICAgIF0sXG4gICAgY29ycmVjdEFuc3dlcjogMSxcbiAgfSxcbiAge1xuICAgIHF1ZXN0aW9uOlxuICAgICAgJ0t0w7NyeSBwcm90b2vDs8WCIGplc3QgdcW8eXdhbnkgZG8gYmV6cGllY3puZWdvIChzenlmcm93YW5lZ28pIHByemVzecWCYW5pYSBzdHJvbiBpbnRlcm5ldG93eWNoPycsXG4gICAgb3B0aW9uczogWydIVFRQJywgJ0ZUUCcsICdTTVRQJywgJ0hUVFBTJ10sXG4gICAgY29ycmVjdEFuc3dlcjogMyxcbiAgfSxcbiAge1xuICAgIHF1ZXN0aW9uOiAnQ28gdG8gamVzdCB6bWllbm5hIHcgcHJvZ3JhbW93YW5pdT8nLFxuICAgIG9wdGlvbnM6IFtcbiAgICAgICdGdW5rY2phIHd5a29udWrEhWNhIG9rcmXFm2xvbmUgemFkYW5pZScsXG4gICAgICAnVHlwIHDEmXRsaScsXG4gICAgICAnTmF6d2FuZSBtaWVqc2NlIHcgcGFtacSZY2kga29tcHV0ZXJhIHPFgnXFvMSFY2UgZG8gcHJ6ZWNob3d5d2FuaWEgZGFueWNoJyxcbiAgICAgICdQb2xlY2VuaWUgd3nFm3dpZXRsYWrEhWNlIHRla3N0IG5hIGVrcmFuaWUnLFxuICAgIF0sXG4gICAgY29ycmVjdEFuc3dlcjogMixcbiAgfSxcbiAgLy8gRG9kYWogd2nEmWNlaiBweXRhxYQgdHV0YWpcbl07XG4iLCIvLyBzcmMvVUkvVUlNYW5hZ2VyLmpzXG5pbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnOyAvLyDQoNCw0YHQutC+0LzQvNC10L3RgtC40YDRg9C50YLQtSwg0LXRgdC70Lgg0L3Rg9C20L3QviDQtNC70Y8g0LvQvtCz0LjQutC4INCy0L3Rg9GC0YDQuCBVSU1hbmFnZXJcblxuZXhwb3J0IGNsYXNzIFVJTWFuYWdlciB7XG4gIHN0YXRpYyBzY29yZUVsZW1lbnQgPSBudWxsO1xuICBzdGF0aWMgdGFyZ2V0RWxlbWVudCA9IG51bGw7XG4gIHN0YXRpYyBjb250cm9sc0NvbnRhaW5lciA9IG51bGw7XG4gIHN0YXRpYyBxdWVzdGlvbk92ZXJsYXkgPSBudWxsO1xuICBzdGF0aWMgcXVlc3Rpb25UZXh0RWxlbWVudCA9IG51bGw7XG4gIHN0YXRpYyBhbnN3ZXJCdXR0b25zQ29udGFpbmVyID0gbnVsbDtcbiAgc3RhdGljIGZsb29yU2VsZWN0aW9uUGFuZWwgPSBudWxsO1xuICBzdGF0aWMgZmxvb3JCdXR0b25zQ29udGFpbmVyID0gbnVsbDtcbiAgc3RhdGljIGZsYXNoTWVzc2FnZUNvbnRhaW5lciA9IG51bGw7XG4gIHN0YXRpYyBsb2FkaW5nT3ZlcmxheUVsZW1lbnQgPSBudWxsOyAvLyDQlNC70Y8g0LrRjdGI0LjRgNC+0LLQsNC90LjRjyDRjdC70LXQvNC10L3RgtCwXG5cbiAgLy8g0K3Qu9C10LzQtdC90YLRiyDQtNC70Y8g0Y3QutGA0LDQvdCwIEdhbWUgT3ZlclxuICBzdGF0aWMgZ2FtZU92ZXJTY3JlZW5FbGVtZW50ID0gbnVsbDtcbiAgc3RhdGljIGdhbWVPdmVyVGl0bGVFbGVtZW50ID0gbnVsbDtcbiAgc3RhdGljIGNyZWF0b3JOYW1lc0xpc3RFbGVtZW50ID0gbnVsbDtcbiAgc3RhdGljIGNsYXNzSW5mb0VsZW1lbnQgPSBudWxsO1xuICBzdGF0aWMgcmV0dXJuVG9NZW51QnV0dG9uRWxlbWVudCA9IG51bGw7XG5cbiAgc3RhdGljIGdhbWVwbGF5TWFuYWdlckluc3RhbmNlID0gbnVsbDsgLy8g0KHRgdGL0LvQutCwINC90LAgR2FtZXBsYXlNYW5hZ2VyXG4gIHN0YXRpYyBmbGFzaE1lc3NhZ2VUaW1lb3V0cyA9IHt9O1xuXG4gIC8vIE5ldyBzdGF0aWMgZmllbGRzXG4gIHN0YXRpYyB0aW1lckVsZW1lbnQgPSBudWxsO1xuICBzdGF0aWMgbGVhZGVyYm9hcmRFbGVtZW50ID0gbnVsbDtcbiAgc3RhdGljIGdhbWVTdGFydFRpbWUgPSAwO1xuICBzdGF0aWMgbGVhZGVyYm9hcmREYXRhID0gW107XG5cbiAgLyoqXG4gICAqINCS0YvQt9GL0LLQsNC10YLRgdGPINC40LcgR2FtZS5qcyDQtNC70Y8g0YDQtdCz0LjRgdGC0YDQsNGG0LjQuCDRjdC60LfQtdC80L/Qu9GP0YDQsCBHYW1lcGxheU1hbmFnZXIuXG4gICAqL1xuICBzdGF0aWMgc2V0R2FtZXBsYXlNYW5hZ2VyKG1hbmFnZXIpIHtcbiAgICBpZiAoIW1hbmFnZXIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tVSU1hbmFnZXJdIEF0dGVtcHRlZCB0byBzZXQgR2FtZXBsYXlNYW5hZ2VyIGluc3RhbmNlIHRvIG51bGwgb3IgdW5kZWZpbmVkIScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmdhbWVwbGF5TWFuYWdlckluc3RhbmNlID0gbWFuYWdlcjtcbiAgICBjb25zb2xlLmxvZygnW1VJTWFuYWdlcl0gR2FtZXBsYXlNYW5hZ2VyIGluc3RhbmNlIHJlZ2lzdGVyZWQgc3VjY2Vzc2Z1bGx5IHdpdGggVUlNYW5hZ2VyLicpO1xuICB9XG5cbiAgLyoqXG4gICAqINCY0L3QuNGG0LjQsNC70LjQt9C40YDRg9C10YIg0LHQsNC30L7QstGL0LUg0Y3Qu9C10LzQtdC90YLRiyBVSS5cbiAgICogR2FtZS5qcyDQtNC+0LvQttC10L0g0LLRi9C30LLQsNGC0Ywgc2V0R2FtZXBsYXlNYW5hZ2VyINCf0JXQoNCV0JQg0Y3RgtC40Lwg0LzQtdGC0L7QtNC+0LwuXG4gICAqL1xuICBzdGF0aWMgaW5pdGlhbGl6ZVVJKGlucHV0TWFuYWdlcikge1xuICAgIGNvbnNvbGUubG9nKCdbVUlNYW5hZ2VyXSBJbml0aWFsaXppbmcgYmFzZSBVSSBlbGVtZW50cyAoY29udHJvbHMsIHBhbmVscykuLi4nKTtcbiAgICBpZiAoIWlucHV0TWFuYWdlcikge1xuICAgICAgY29uc29sZS5lcnJvcignW1VJTWFuYWdlcl0gSW5wdXRNYW5hZ2VyIGlzIHJlcXVpcmVkIGZvciBpbml0aWFsaXplVUkgdG8gY3JlYXRlIGNvbnRyb2xzLicpO1xuICAgIH1cbiAgICB0aGlzLmNyZWF0ZUNvbnRyb2xzKGlucHV0TWFuYWdlcik7XG4gICAgdGhpcy5jcmVhdGVRdWVzdGlvblVJKCk7XG4gICAgdGhpcy5jcmVhdGVGbG9vclNlbGVjdGlvblVJKCk7XG4gICAgdGhpcy5lbnN1cmVGbGFzaE1lc3NhZ2VDb250YWluZXIoKTtcbiAgICB0aGlzLmNyZWF0ZUdhbWVPdmVyU2NyZWVuKCk7IC8vINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPINGN0LrRgNCw0L3QsCBHYW1lIE92ZXJcbiAgICB0aGlzLmluaXRpYWxpemVUaW1lcigpOyAvLyBJbml0aWFsaXplIHRpbWVyXG4gICAgdGhpcy51cGRhdGVMZWFkZXJib2FyZCgpOyAvLyBBZGQgdGhpcyBsaW5lXG5cbiAgICBpZiAoIXRoaXMuZ2FtZXBsYXlNYW5hZ2VySW5zdGFuY2UpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ1tVSU1hbmFnZXJdIFdBUk5JTkc6IEdhbWVwbGF5TWFuYWdlciBpbnN0YW5jZSBpcyBOT1QgU0VUIGF0IHRoZSBlbmQgb2YgaW5pdGlhbGl6ZVVJLiAnICtcbiAgICAgICAgICAnRW5zdXJlIEdhbWUuanMgY2FsbHMgVUlNYW5hZ2VyLnNldEdhbWVwbGF5TWFuYWdlcigpICpiZWZvcmUqIFVJTWFuYWdlci5pbml0aWFsaXplVUkoKS4nXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZygnW1VJTWFuYWdlcl0gQmFzZSBVSSBlbGVtZW50IGluaXRpYWxpemF0aW9uIGNvbXBsZXRlLicpO1xuICB9XG5cbiAgc3RhdGljIGNyZWF0ZUNvbnRyb2xzKGlucHV0TWFuYWdlcikge1xuICAgIHRoaXMuY29udHJvbHNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udHJvbHMtY29udGFpbmVyJyk7XG4gICAgaWYgKCF0aGlzLmNvbnRyb2xzQ29udGFpbmVyKSB7XG4gICAgICB0aGlzLmNvbnRyb2xzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0aGlzLmNvbnRyb2xzQ29udGFpbmVyLmlkID0gJ2NvbnRyb2xzLWNvbnRhaW5lcic7XG4gICAgICB0aGlzLmNvbnRyb2xzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2NvbnRyb2xzLWNvbnRhaW5lcicpO1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmNvbnRyb2xzQ29udGFpbmVyKTtcbiAgICB9XG4gICAgdGhpcy5jb250cm9sc0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcblxuICAgIGNvbnN0IGFycm93cyA9IFtcbiAgICAgIHsgZGlyZWN0aW9uOiAndXAnLCBpY29uOiAn4oaRJywgZ3JpZEFyZWE6ICd1cCcgfSxcbiAgICAgIHsgZGlyZWN0aW9uOiAnbGVmdCcsIGljb246ICfihpAnLCBncmlkQXJlYTogJ2xlZnQnIH0sXG4gICAgICB7IGRpcmVjdGlvbjogJ3JpZ2h0JywgaWNvbjogJ+KGkicsIGdyaWRBcmVhOiAncmlnaHQnIH0sXG4gICAgICB7IGRpcmVjdGlvbjogJ2Rvd24nLCBpY29uOiAn4oaTJywgZ3JpZEFyZWE6ICdkb3duJyB9LFxuICAgIF07XG5cbiAgICBhcnJvd3MuZm9yRWFjaCgoeyBkaXJlY3Rpb24sIGljb24sIGdyaWRBcmVhIH0pID0+IHtcbiAgICAgIGNvbnN0IGJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgYnRuLmNsYXNzTmFtZSA9IGBjb250cm9sLWJ0biAke2RpcmVjdGlvbn1gO1xuICAgICAgYnRuLnRleHRDb250ZW50ID0gaWNvbjtcbiAgICAgIGJ0bi5zdHlsZS5ncmlkQXJlYSA9IGdyaWRBcmVhO1xuICAgICAgYnRuLmRhdGFzZXQuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuXG4gICAgICBpZiAoaW5wdXRNYW5hZ2VyKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0UHJlc3MgPSAoZSkgPT4ge1xuICAgICAgICAgIGlucHV0TWFuYWdlci5zZXRLZXkoZGlyZWN0aW9uLCB0cnVlKTtcbiAgICAgICAgICBidG4uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBlbmRQcmVzcyA9IChlKSA9PiB7XG4gICAgICAgICAgaWYgKGlucHV0TWFuYWdlci5rZXlzW2RpcmVjdGlvbl0pIHtcbiAgICAgICAgICAgIGlucHV0TWFuYWdlci5zZXRLZXkoZGlyZWN0aW9uLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH07XG4gICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgc3RhcnRQcmVzcywgeyBwYXNzaXZlOiBmYWxzZSB9KTtcbiAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgZW5kUHJlc3MsIHsgcGFzc2l2ZTogZmFsc2UgfSk7XG4gICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIGVuZFByZXNzLCB7IHBhc3NpdmU6IGZhbHNlIH0pO1xuICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgc3RhcnRQcmVzcyk7XG4gICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgZW5kUHJlc3MpO1xuICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGVuZFByZXNzKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY29udHJvbHNDb250YWluZXIuYXBwZW5kQ2hpbGQoYnRuKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHNjb3JlRGlzcGxheUNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY29yZS1kaXNwbGF5Jyk7XG4gICAgaWYgKCFzY29yZURpc3BsYXlDb250YWluZXIpIHtcbiAgICAgIGNvbnN0IHNjb3JlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBzY29yZURpdi5pZCA9ICdzY29yZS1kaXNwbGF5JztcbiAgICAgIHNjb3JlRGl2LmNsYXNzTGlzdC5hZGQoJ3Njb3JlLWRpc3BsYXknKTtcbiAgICAgIHNjb3JlRGl2LmlubmVySFRNTCA9IGBCb29rczogPHNwYW4gaWQ9XCJzY29yZS12YWx1ZVwiPjA8L3NwYW4+IC8gPHNwYW4gaWQ9XCJzY29yZS10YXJnZXRcIj4/PC9zcGFuPmA7XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjb3JlRGl2KTtcbiAgICAgIHRoaXMuc2NvcmVFbGVtZW50ID0gc2NvcmVEaXYucXVlcnlTZWxlY3RvcignI3Njb3JlLXZhbHVlJyk7XG4gICAgICB0aGlzLnRhcmdldEVsZW1lbnQgPSBzY29yZURpdi5xdWVyeVNlbGVjdG9yKCcjc2NvcmUtdGFyZ2V0Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2NvcmVFbGVtZW50ID0gc2NvcmVEaXNwbGF5Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNzY29yZS12YWx1ZScpO1xuICAgICAgdGhpcy50YXJnZXRFbGVtZW50ID0gc2NvcmVEaXNwbGF5Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNzY29yZS10YXJnZXQnKTtcbiAgICAgIGlmICh0aGlzLnNjb3JlRWxlbWVudCkgdGhpcy5zY29yZUVsZW1lbnQudGV4dENvbnRlbnQgPSAnMCc7XG4gICAgICBpZiAodGhpcy50YXJnZXRFbGVtZW50KSB0aGlzLnRhcmdldEVsZW1lbnQudGV4dENvbnRlbnQgPSAnPyc7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGNyZWF0ZVF1ZXN0aW9uVUkoKSB7XG4gICAgdGhpcy5xdWVzdGlvbk92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVlc3Rpb24tb3ZlcmxheScpO1xuICAgIGlmICghdGhpcy5xdWVzdGlvbk92ZXJsYXkpIHtcbiAgICAgIHRoaXMucXVlc3Rpb25PdmVybGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0aGlzLnF1ZXN0aW9uT3ZlcmxheS5pZCA9ICdxdWVzdGlvbi1vdmVybGF5JztcbiAgICAgIHRoaXMucXVlc3Rpb25PdmVybGF5LmNsYXNzTGlzdC5hZGQoJ3VpLXBhbmVsJyk7XG4gICAgICB0aGlzLnF1ZXN0aW9uT3ZlcmxheS5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgaWQ9XCJibGFja2JvYXJkLWNvbnRlbnRcIj5cbiAgICAgICAgICA8aDI+UXVlc3Rpb248L2gyPlxuICAgICAgICAgIDxkaXYgaWQ9XCJxdWVzdGlvbi1ib3hcIj5cbiAgICAgICAgICAgIDxwIGlkPVwicXVlc3Rpb24tdGV4dFwiPjwvcD5cbiAgICAgICAgICAgIDxkaXYgaWQ9XCJhbnN3ZXItYnV0dG9uc1wiPjwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5gO1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnF1ZXN0aW9uT3ZlcmxheSk7XG4gICAgfVxuICAgIHRoaXMucXVlc3Rpb25UZXh0RWxlbWVudCA9IHRoaXMucXVlc3Rpb25PdmVybGF5LnF1ZXJ5U2VsZWN0b3IoJyNxdWVzdGlvbi10ZXh0Jyk7XG4gICAgdGhpcy5hbnN3ZXJCdXR0b25zQ29udGFpbmVyID0gdGhpcy5xdWVzdGlvbk92ZXJsYXkucXVlcnlTZWxlY3RvcignI2Fuc3dlci1idXR0b25zJyk7XG4gICAgaWYgKCF0aGlzLnF1ZXN0aW9uVGV4dEVsZW1lbnQgfHwgIXRoaXMuYW5zd2VyQnV0dG9uc0NvbnRhaW5lcikge1xuICAgICAgY29uc29sZS5lcnJvcignW1VJTWFuYWdlcl0gRmFpbGVkIHRvIGZpbmQvY3JlYXRlIGNoaWxkIGVsZW1lbnRzIG9mIHF1ZXN0aW9uIFVJIScpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBjcmVhdGVGbG9vclNlbGVjdGlvblVJKCkge1xuICAgIHRoaXMuZmxvb3JTZWxlY3Rpb25QYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmbG9vci1zZWxlY3Rpb24tdWknKTtcbiAgICBpZiAoIXRoaXMuZmxvb3JTZWxlY3Rpb25QYW5lbCkge1xuICAgICAgdGhpcy5mbG9vclNlbGVjdGlvblBhbmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0aGlzLmZsb29yU2VsZWN0aW9uUGFuZWwuaWQgPSAnZmxvb3Itc2VsZWN0aW9uLXVpJztcbiAgICAgIHRoaXMuZmxvb3JTZWxlY3Rpb25QYW5lbC5jbGFzc0xpc3QuYWRkKCd1aS1wYW5lbCcpO1xuICAgICAgdGhpcy5mbG9vclNlbGVjdGlvblBhbmVsLmlubmVySFRNTCA9IGBcbiAgICAgICAgPGgyPlNlbGVjdCBGbG9vcjwvaDI+XG4gICAgICAgIDxkaXYgaWQ9XCJmbG9vci1idXR0b25zLWNvbnRhaW5lclwiPjwvZGl2PmA7XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZmxvb3JTZWxlY3Rpb25QYW5lbCk7XG4gICAgfVxuICAgIHRoaXMuZmxvb3JCdXR0b25zQ29udGFpbmVyID0gdGhpcy5mbG9vclNlbGVjdGlvblBhbmVsLnF1ZXJ5U2VsZWN0b3IoJyNmbG9vci1idXR0b25zLWNvbnRhaW5lcicpO1xuICAgIGlmICghdGhpcy5mbG9vckJ1dHRvbnNDb250YWluZXIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tVSU1hbmFnZXJdIEZhaWxlZCB0byBmaW5kL2NyZWF0ZSBmbG9vciBidXR0b25zIGNvbnRhaW5lciEnKTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZW5zdXJlRmxhc2hNZXNzYWdlQ29udGFpbmVyKCkge1xuICAgIHRoaXMuZmxhc2hNZXNzYWdlQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZsYXNoLW1lc3NhZ2UtY29udGFpbmVyJyk7XG4gICAgaWYgKCF0aGlzLmZsYXNoTWVzc2FnZUNvbnRhaW5lcikge1xuICAgICAgdGhpcy5mbGFzaE1lc3NhZ2VDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHRoaXMuZmxhc2hNZXNzYWdlQ29udGFpbmVyLmlkID0gJ2ZsYXNoLW1lc3NhZ2UtY29udGFpbmVyJztcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5mbGFzaE1lc3NhZ2VDb250YWluZXIpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5mbGFzaE1lc3NhZ2VDb250YWluZXI7XG4gIH1cblxuICBzdGF0aWMgZmxhc2hNZXNzYWdlKG1lc3NhZ2UsIHR5cGUgPSAnaW5mbycsIGR1cmF0aW9uID0gMzAwMCkge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuZW5zdXJlRmxhc2hNZXNzYWdlQ29udGFpbmVyKCk7XG4gICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tVSU1hbmFnZXJdIEZsYXNoIG1lc3NhZ2UgY29udGFpbmVyIG5vdCBmb3VuZCBvciBjcmVhdGFibGUuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG1lc3NhZ2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbWVzc2FnZUVsZW1lbnQudGV4dENvbnRlbnQgPSBtZXNzYWdlO1xuICAgIG1lc3NhZ2VFbGVtZW50LmNsYXNzTmFtZSA9ICdmbGFzaC1tZXNzYWdlJztcbiAgICBtZXNzYWdlRWxlbWVudC5jbGFzc0xpc3QuYWRkKGBmbGFzaC0ke3R5cGV9YCk7XG4gICAgY29uc3QgbWVzc2FnZUlkID0gYGZsYXNoLSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgNSl9YDtcbiAgICBtZXNzYWdlRWxlbWVudC5pZCA9IG1lc3NhZ2VJZDtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQobWVzc2FnZUVsZW1lbnQpO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICBtZXNzYWdlRWxlbWVudC5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XG4gICAgfSk7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuZmxhc2hNZXNzYWdlVGltZW91dHNbbWVzc2FnZUlkXSk7XG4gICAgY29uc3QgcmVtb3ZlRWxlbWVudCA9ICgpID0+IHtcbiAgICAgIG1lc3NhZ2VFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcbiAgICAgIGNvbnN0IGhhbmRsZVRyYW5zaXRpb25FbmQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LnByb3BlcnR5TmFtZSA9PT0gJ29wYWNpdHknIHx8IGV2ZW50LnByb3BlcnR5TmFtZSA9PT0gJ3RyYW5zZm9ybScpIHtcbiAgICAgICAgICBpZiAobWVzc2FnZUVsZW1lbnQucGFyZW50Tm9kZSkgbWVzc2FnZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChtZXNzYWdlRWxlbWVudCk7XG4gICAgICAgICAgZGVsZXRlIHRoaXMuZmxhc2hNZXNzYWdlVGltZW91dHNbbWVzc2FnZUlkXTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIG1lc3NhZ2VFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBoYW5kbGVUcmFuc2l0aW9uRW5kLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKG1lc3NhZ2VFbGVtZW50LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICBtZXNzYWdlRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgaGFuZGxlVHJhbnNpdGlvbkVuZCk7XG4gICAgICAgICAgbWVzc2FnZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChtZXNzYWdlRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIHRoaXMuZmxhc2hNZXNzYWdlVGltZW91dHNbbWVzc2FnZUlkXTtcbiAgICAgIH0sIDUwMCk7XG4gICAgfTtcbiAgICB0aGlzLmZsYXNoTWVzc2FnZVRpbWVvdXRzW21lc3NhZ2VJZF0gPSBzZXRUaW1lb3V0KHJlbW92ZUVsZW1lbnQsIGR1cmF0aW9uKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXRMb2FkaW5nT3ZlcmxheSgpIHtcbiAgICBpZiAoIXRoaXMubG9hZGluZ092ZXJsYXlFbGVtZW50KSB7XG4gICAgICB0aGlzLmxvYWRpbmdPdmVybGF5RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkaW5nLW92ZXJsYXknKTtcbiAgICAgIGlmICghdGhpcy5sb2FkaW5nT3ZlcmxheUVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5sb2FkaW5nT3ZlcmxheUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5sb2FkaW5nT3ZlcmxheUVsZW1lbnQuaWQgPSAnbG9hZGluZy1vdmVybGF5JztcbiAgICAgICAgdGhpcy5sb2FkaW5nT3ZlcmxheUVsZW1lbnQuY2xhc3NOYW1lID0gJ2xvYWRpbmctb3ZlcmxheSc7XG4gICAgICAgIGNvbnN0IGxvYWRpbmdUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgICBsb2FkaW5nVGV4dC50ZXh0Q29udGVudCA9ICdMb2FkaW5nLi4uJztcbiAgICAgICAgdGhpcy5sb2FkaW5nT3ZlcmxheUVsZW1lbnQuYXBwZW5kQ2hpbGQobG9hZGluZ1RleHQpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMubG9hZGluZ092ZXJsYXlFbGVtZW50KTtcbiAgICAgICAgY29uc29sZS5sb2coJ1tVSU1hbmFnZXJdIExvYWRpbmcgb3ZlcmxheSBjcmVhdGVkIGFuZCBhcHBlbmRlZCB0byBib2R5LicpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5sb2FkaW5nT3ZlcmxheUVsZW1lbnQ7XG4gIH1cblxuICBzdGF0aWMgY3JlYXRlR2FtZU92ZXJTY3JlZW4oKSB7XG4gICAgdGhpcy5nYW1lT3ZlclNjcmVlbkVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZS1vdmVyLXNjcmVlbicpO1xuICAgIGlmICghdGhpcy5nYW1lT3ZlclNjcmVlbkVsZW1lbnQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tVSU1hbmFnZXJdIENSSVRJQ0FMOiAjZ2FtZS1vdmVyLXNjcmVlbiBlbGVtZW50IG5vdCBmb3VuZCBpbiBIVE1MIScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmdhbWVPdmVyVGl0bGVFbGVtZW50ID0gdGhpcy5nYW1lT3ZlclNjcmVlbkVsZW1lbnQucXVlcnlTZWxlY3RvcignI2dhbWUtb3Zlci10aXRsZScpO1xuICAgIHRoaXMuY3JlYXRvck5hbWVzTGlzdEVsZW1lbnQgPSB0aGlzLmdhbWVPdmVyU2NyZWVuRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcjY3JlYXRvci1uYW1lcycpO1xuICAgIHRoaXMuY2xhc3NJbmZvRWxlbWVudCA9IHRoaXMuZ2FtZU92ZXJTY3JlZW5FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjbGFzcy1pbmZvJyk7XG4gICAgdGhpcy5yZXR1cm5Ub01lbnVCdXR0b25FbGVtZW50ID1cbiAgICAgIHRoaXMuZ2FtZU92ZXJTY3JlZW5FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyZXR1cm4tdG8tbWVudS1idXR0b24nKTtcblxuICAgIGlmIChcbiAgICAgICF0aGlzLmdhbWVPdmVyVGl0bGVFbGVtZW50IHx8XG4gICAgICAhdGhpcy5jcmVhdG9yTmFtZXNMaXN0RWxlbWVudCB8fFxuICAgICAgIXRoaXMuY2xhc3NJbmZvRWxlbWVudCB8fFxuICAgICAgIXRoaXMucmV0dXJuVG9NZW51QnV0dG9uRWxlbWVudFxuICAgICkge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgJ1tVSU1hbmFnZXJdIEZhaWxlZCB0byBmaW5kIG9uZSBvciBtb3JlIGNoaWxkIGVsZW1lbnRzIG9mIHRoZSBnYW1lIG92ZXIgc2NyZWVuISdcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5yZXR1cm5Ub01lbnVCdXR0b25FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKCdbVUlNYW5hZ2VyXSBHYW1lIE92ZXIgc2NyZWVuIGVsZW1lbnRzIGluaXRpYWxpemVkLicpO1xuICB9XG5cbiAgc3RhdGljIHNob3dHYW1lT3ZlclNjcmVlbihpc1dpbiwgY3JlYXRvcnMgPSBbXSwgY2xhc3NJbmZvVGV4dCA9ICcnKSB7XG4gICAgaWYgKCF0aGlzLmdhbWVPdmVyU2NyZWVuRWxlbWVudCkge1xuICAgICAgY29uc29sZS5lcnJvcignW1VJTWFuYWdlcl0gR2FtZSBPdmVyIFNjcmVlbiBub3QgaW5pdGlhbGl6ZWQnKTtcbiAgICAgIHRoaXMuY3JlYXRlR2FtZU92ZXJTY3JlZW4oKTtcbiAgICAgIGlmICghdGhpcy5nYW1lT3ZlclNjcmVlbkVsZW1lbnQpIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNXaW4pIHtcbiAgICAgIHRoaXMuZ2FtZU92ZXJUaXRsZUVsZW1lbnQudGV4dENvbnRlbnQgPSAnQ29uZ3JhdHVsYXRpb25zISBZb3UgRXNjYXBlZCEnO1xuICAgICAgdGhpcy5nYW1lT3ZlclRpdGxlRWxlbWVudC5jbGFzc05hbWUgPSAnd2luLXRpdGxlJztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5nYW1lT3ZlclRpdGxlRWxlbWVudC50ZXh0Q29udGVudCA9ICdHYW1lIE92ZXInO1xuICAgICAgdGhpcy5nYW1lT3ZlclRpdGxlRWxlbWVudC5jbGFzc05hbWUgPSAnbG9zZS10aXRsZSc7XG4gICAgfVxuXG4gICAgdGhpcy5jcmVhdG9yTmFtZXNMaXN0RWxlbWVudC5pbm5lckhUTUwgPSAnJztcbiAgICBjcmVhdG9ycy5mb3JFYWNoKChuYW1lKSA9PiB7XG4gICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICBsaS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgICB0aGlzLmNyZWF0b3JOYW1lc0xpc3RFbGVtZW50LmFwcGVuZENoaWxkKGxpKTtcbiAgICB9KTtcblxuICAgIHRoaXMuY2xhc3NJbmZvRWxlbWVudC50ZXh0Q29udGVudCA9IGNsYXNzSW5mb1RleHQ7XG5cbiAgICAvLyBVcGRhdGUgYW5kIHNob3cgbGVhZGVyYm9hcmRcbiAgICB0aGlzLnVwZGF0ZUxlYWRlcmJvYXJkKCk7XG4gICAgXG4gICAgdGhpcy5nYW1lT3ZlclNjcmVlbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuICAgIHRoaXMuaGlkZUdhbWVVSSgpO1xuICAgIHRoaXMuaGlkZVF1ZXN0aW9uKCk7XG4gICAgdGhpcy5oaWRlRmxvb3JTZWxlY3Rpb25VSSgpO1xuICB9XG5cbiAgc3RhdGljIGhpZGVHYW1lT3ZlclNjcmVlbigpIHtcbiAgICBpZiAodGhpcy5nYW1lT3ZlclNjcmVlbkVsZW1lbnQpIHtcbiAgICAgIHRoaXMuZ2FtZU92ZXJTY3JlZW5FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgc2hvd1F1ZXN0aW9uKHF1ZXN0aW9uRGF0YSkge1xuICAgIGlmICghdGhpcy5xdWVzdGlvbk92ZXJsYXkgfHwgIXRoaXMucXVlc3Rpb25UZXh0RWxlbWVudCB8fCAhdGhpcy5hbnN3ZXJCdXR0b25zQ29udGFpbmVyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbVUlNYW5hZ2VyXSBRdWVzdGlvbiBVSSBub3QgcmVhZHkuJyk7XG4gICAgICB0aGlzLmNyZWF0ZVF1ZXN0aW9uVUkoKTtcbiAgICAgIGlmICghdGhpcy5xdWVzdGlvbk92ZXJsYXkgfHwgIXRoaXMucXVlc3Rpb25UZXh0RWxlbWVudCB8fCAhdGhpcy5hbnN3ZXJCdXR0b25zQ29udGFpbmVyKVxuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghcXVlc3Rpb25EYXRhKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbVUlNYW5hZ2VyXSBDYW5ub3Qgc2hvdyBxdWVzdGlvbiAtIG5vIHF1ZXN0aW9uRGF0YSBwcm92aWRlZC4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgIXRoaXMuZ2FtZXBsYXlNYW5hZ2VySW5zdGFuY2UgfHxcbiAgICAgIHR5cGVvZiB0aGlzLmdhbWVwbGF5TWFuYWdlckluc3RhbmNlLmhhbmRsZUFuc3dlciAhPT0gJ2Z1bmN0aW9uJ1xuICAgICkge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgJ1tVSU1hbmFnZXJdIENSSVRJQ0FMOiBHYW1lcGxheU1hbmFnZXIgb3IgaXRzIGhhbmRsZUFuc3dlciBtZXRob2QgaXMgbm90IHNldCBvciBpbnZhbGlkISdcbiAgICAgICk7XG4gICAgICB0aGlzLmZsYXNoTWVzc2FnZSgnRXJyb3I6IEdhbWUgaW50ZXJhY3Rpb24gc3lzdGVtIGZhaWxlZCAoUSkuJywgJ2Vycm9yJywgNTAwMCk7XG4gICAgICB0aGlzLmhpZGVRdWVzdGlvbigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMucXVlc3Rpb25UZXh0RWxlbWVudC50ZXh0Q29udGVudCA9IHF1ZXN0aW9uRGF0YS5xdWVzdGlvbjtcbiAgICB0aGlzLmFuc3dlckJ1dHRvbnNDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG5cbiAgICBxdWVzdGlvbkRhdGEub3B0aW9ucy5mb3JFYWNoKChvcHRpb25UZXh0LCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICBidXR0b24udGV4dENvbnRlbnQgPSBvcHRpb25UZXh0O1xuICAgICAgYnV0dG9uLmRhdGFzZXQuaW5kZXggPSBpbmRleDtcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdhbnN3ZXItYnV0dG9uJyk7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBjb25zdCBzZWxlY3RlZEluZGV4ID0gcGFyc2VJbnQoZS50YXJnZXQuZGF0YXNldC5pbmRleCwgMTApO1xuICAgICAgICB0aGlzLmdhbWVwbGF5TWFuYWdlckluc3RhbmNlLmhhbmRsZUFuc3dlcihzZWxlY3RlZEluZGV4KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5hbnN3ZXJCdXR0b25zQ29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgfSk7XG4gICAgdGhpcy5xdWVzdGlvbk92ZXJsYXkuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuICB9XG5cbiAgc3RhdGljIGhpZGVRdWVzdGlvbigpIHtcbiAgICBpZiAodGhpcy5xdWVzdGlvbk92ZXJsYXkpIHtcbiAgICAgIHRoaXMucXVlc3Rpb25PdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcbiAgICAgIGlmICh0aGlzLnF1ZXN0aW9uVGV4dEVsZW1lbnQpIHRoaXMucXVlc3Rpb25UZXh0RWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgaWYgKHRoaXMuYW5zd2VyQnV0dG9uc0NvbnRhaW5lcikgdGhpcy5hbnN3ZXJCdXR0b25zQ29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBzaG93Rmxvb3JTZWxlY3Rpb25VSShtaW5GbG9vciwgbWF4Rmxvb3IsIGN1cnJlbnRGbG9vcikge1xuICAgIGlmICghdGhpcy5mbG9vclNlbGVjdGlvblBhbmVsIHx8ICF0aGlzLmZsb29yQnV0dG9uc0NvbnRhaW5lcikge1xuICAgICAgY29uc29sZS5lcnJvcignW1VJTWFuYWdlcl0gRmxvb3Igc2VsZWN0aW9uIFVJIG5vdCByZWFkeS4nKTtcbiAgICAgIHRoaXMuY3JlYXRlRmxvb3JTZWxlY3Rpb25VSSgpO1xuICAgICAgaWYgKCF0aGlzLmZsb29yU2VsZWN0aW9uUGFuZWwgfHwgIXRoaXMuZmxvb3JCdXR0b25zQ29udGFpbmVyKSByZXR1cm47XG4gICAgfVxuICAgIGlmIChcbiAgICAgICF0aGlzLmdhbWVwbGF5TWFuYWdlckluc3RhbmNlIHx8XG4gICAgICB0eXBlb2YgdGhpcy5nYW1lcGxheU1hbmFnZXJJbnN0YW5jZS5oYW5kbGVGbG9vclNlbGVjdGlvbiAhPT0gJ2Z1bmN0aW9uJ1xuICAgICkge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgJ1tVSU1hbmFnZXJdIENSSVRJQ0FMOiBHYW1lcGxheU1hbmFnZXIgb3IgaXRzIGhhbmRsZUZsb29yU2VsZWN0aW9uIG1ldGhvZCBpcyBub3Qgc2V0IG9yIGludmFsaWQhJ1xuICAgICAgKTtcbiAgICAgIHRoaXMuZmxhc2hNZXNzYWdlKCdFcnJvcjogR2FtZSBpbnRlcmFjdGlvbiBzeXN0ZW0gZmFpbGVkIChGKS4nLCAnZXJyb3InLCA1MDAwKTtcbiAgICAgIHRoaXMuaGlkZUZsb29yU2VsZWN0aW9uVUkoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmZsb29yQnV0dG9uc0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICBmb3IgKGxldCBmbG9vciA9IG1pbkZsb29yOyBmbG9vciA8PSBtYXhGbG9vcjsgZmxvb3IrKykge1xuICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICBidXR0b24udGV4dENvbnRlbnQgPSBgRmxvb3IgJHtmbG9vcn1gO1xuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2Zsb29yLWJ1dHRvbicpO1xuICAgICAgYnV0dG9uLmRhdGFzZXQuZmxvb3IgPSBmbG9vcjtcbiAgICAgIGlmIChmbG9vciA9PT0gY3VycmVudEZsb29yKSB7XG4gICAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdjdXJyZW50Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5nYW1lcGxheU1hbmFnZXJJbnN0YW5jZS5oYW5kbGVGbG9vclNlbGVjdGlvbihmbG9vcik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGhpcy5mbG9vckJ1dHRvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICB9XG4gICAgdGhpcy5mbG9vclNlbGVjdGlvblBhbmVsLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcbiAgfVxuXG4gIHN0YXRpYyBoaWRlRmxvb3JTZWxlY3Rpb25VSSgpIHtcbiAgICBpZiAodGhpcy5mbG9vclNlbGVjdGlvblBhbmVsKSB7XG4gICAgICB0aGlzLmZsb29yU2VsZWN0aW9uUGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyB1cGRhdGVTY29yZShzY29yZSwgdGFyZ2V0KSB7XG4gICAgaWYgKCF0aGlzLnNjb3JlRWxlbWVudCkgdGhpcy5zY29yZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NvcmUtdmFsdWUnKTtcbiAgICBpZiAoIXRoaXMudGFyZ2V0RWxlbWVudCkgdGhpcy50YXJnZXRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Njb3JlLXRhcmdldCcpO1xuICAgIGlmICh0aGlzLnNjb3JlRWxlbWVudCkgdGhpcy5zY29yZUVsZW1lbnQudGV4dENvbnRlbnQgPSBzY29yZTtcbiAgICBpZiAodGhpcy50YXJnZXRFbGVtZW50KSB0aGlzLnRhcmdldEVsZW1lbnQudGV4dENvbnRlbnQgPSB0YXJnZXQ7XG4gIH1cblxuICBzdGF0aWMgc2hvd0dhbWVVSSgpIHtcbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZS1jYW52YXMnKSB8fCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZUNhbnZhcycpO1xuICAgIGNvbnN0IG1lbnVDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVudS1jb250YWluZXInKTtcbiAgICBjb25zdCBzY29yZURpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NvcmUtZGlzcGxheScpO1xuXG4gICAgaWYgKGNhbnZhcykgY2FudmFzLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIGVsc2UgY29uc29sZS53YXJuKCdbVUlNYW5hZ2VyXSBDYW52YXMgZWxlbWVudCBub3QgZm91bmQgdG8gc2hvdy4nKTtcblxuICAgIGlmIChcbiAgICAgIG1lbnVDb250YWluZXIgJiZcbiAgICAgICFtZW51Q29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykgJiZcbiAgICAgIG1lbnVDb250YWluZXIuc3R5bGUuZGlzcGxheSAhPT0gJ25vbmUnXG4gICAgKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1tVSU1hbmFnZXJdIE1lbnUgY29udGFpbmVyIHdhcyBub3QgaGlkZGVuLiBIaWRpbmcgaXQgbm93IHZpYSBzdHlsZS5kaXNwbGF5LicpO1xuICAgICAgbWVudUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOyAvLyDQkdC+0LvQtdC1INC90LDQtNC10LbQvdGL0Lkg0YHQv9C+0YHQvtCxINGB0LrRgNGL0YLRjFxuICAgIH1cblxuICAgIGlmICh0aGlzLmNvbnRyb2xzQ29udGFpbmVyKSB0aGlzLmNvbnRyb2xzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcbiAgICBlbHNlIGNvbnNvbGUud2FybignW1VJTWFuYWdlcl0gQ29udHJvbHMgY29udGFpbmVyIG5vdCBmb3VuZCB0byBzaG93LicpO1xuXG4gICAgaWYgKHNjb3JlRGlzcGxheSkgc2NvcmVEaXNwbGF5LmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcbiAgICBlbHNlIGNvbnNvbGUud2FybignW1VJTWFuYWdlcl0gU2NvcmUgZGlzcGxheSBub3QgZm91bmQgdG8gc2hvdy4nKTtcblxuICAgIGlmICh0aGlzLnRpbWVyRWxlbWVudCkge1xuICAgICAgdGhpcy50aW1lckVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgfVxuXG4gICAgdGhpcy5oaWRlUXVlc3Rpb24oKTtcbiAgICB0aGlzLmhpZGVGbG9vclNlbGVjdGlvblVJKCk7XG4gICAgdGhpcy5oaWRlR2FtZU92ZXJTY3JlZW4oKTsgLy8g0KPQsdC10LTQuNC80YHRjywg0YfRgtC+INGN0LrRgNCw0L0gR2FtZSBPdmVyINGB0LrRgNGL0YJcbiAgfVxuXG4gIHN0YXRpYyBoaWRlR2FtZVVJKCkge1xuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lLWNhbnZhcycpIHx8IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lQ2FudmFzJyk7XG4gICAgY29uc3Qgc2NvcmVEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Njb3JlLWRpc3BsYXknKTtcblxuICAgIGlmIChjYW52YXMpIGNhbnZhcy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGlmICh0aGlzLmNvbnRyb2xzQ29udGFpbmVyKSB0aGlzLmNvbnRyb2xzQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcbiAgICBpZiAoc2NvcmVEaXNwbGF5KSBzY29yZURpc3BsYXkuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuXG4gICAgaWYgKHRoaXMudGltZXJFbGVtZW50KSB7XG4gICAgICB0aGlzLnRpbWVyRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cblxuICAgIC8vINCd0LUg0YHQutGA0YvQstCw0LXQvCDQvtCy0LXRgNC70LXQuCDQstC+0L/RgNC+0YHQvtCyL9GN0YLQsNC20LXQuS9HYW1lIE92ZXIg0L7RgtGB0Y7QtNCwLFxuICAgIC8vINGCLtC6LiDQvtC90Lgg0LzQvtCz0YPRgiDQsdGL0YLRjCDQv9C+0LrQsNC30LDQvdGLICrQv9C+0YHQu9C1KiDRgdC60YDRi9GC0LjRjyDQvtGB0L3QvtCy0L3QvtCz0L4g0LjQs9GA0L7QstC+0LPQviBVSS5cbiAgICAvLyDQmNGFINGB0LrRgNGL0YLQuNC1INC00L7Qu9C20L3QviDRg9C/0YDQsNCy0LvRj9GC0YzRgdGPINC60L7QvdC60YDQtdGC0L3Ri9C80Lgg0YHQvtGB0YLQvtGP0L3QuNGP0LzQuCDQuNCz0YDRiy5cbiAgfVxuXG4gIC8vIE5ldyBtZXRob2RzXG4gIHN0YXRpYyBpbml0aWFsaXplVGltZXIoKSB7XG4gICAgaWYgKCF0aGlzLnRpbWVyRWxlbWVudCkge1xuICAgICAgdGhpcy50aW1lckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHRoaXMudGltZXJFbGVtZW50LmlkID0gJ2dhbWUtdGltZXInO1xuICAgICAgdGhpcy50aW1lckVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZ2FtZS10aW1lcicpO1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnRpbWVyRWxlbWVudCk7XG4gICAgfVxuICAgIFxuICAgIC8vIExvYWQgbGVhZGVyYm9hcmQgZGF0YSBmcm9tIGxvY2FsU3RvcmFnZVxuICAgIGNvbnN0IHNhdmVkRGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdnYW1lTGVhZGVyYm9hcmQnKTtcbiAgICB0aGlzLmxlYWRlcmJvYXJkRGF0YSA9IHNhdmVkRGF0YSA/IEpTT04ucGFyc2Uoc2F2ZWREYXRhKSA6IFtdO1xuICAgIFxuICAgIC8vIENyZWF0ZSBsZWFkZXJib2FyZCBlbGVtZW50IGlmIG5lZWRlZFxuICAgIHRoaXMudXBkYXRlTGVhZGVyYm9hcmQoKTtcbiAgfVxuXG4gIHN0YXRpYyBzdGFydFRpbWVyKCkge1xuICAgIHRoaXMuZ2FtZVN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgdGhpcy51cGRhdGVUaW1lcigpO1xuICB9XG5cbiAgc3RhdGljIHVwZGF0ZVRpbWVyKCkge1xuICAgIGlmICghdGhpcy50aW1lckVsZW1lbnQgfHwgIXRoaXMuZ2FtZVN0YXJ0VGltZSkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGVsYXBzZWQgPSBNYXRoLmZsb29yKChEYXRlLm5vdygpIC0gdGhpcy5nYW1lU3RhcnRUaW1lKSAvIDEwMDApO1xuICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKGVsYXBzZWQgLyA2MCk7XG4gICAgY29uc3Qgc2Vjb25kcyA9IGVsYXBzZWQgJSA2MDtcbiAgICBcbiAgICB0aGlzLnRpbWVyRWxlbWVudC50ZXh0Q29udGVudCA9IGBUaW1lOiAke21pbnV0ZXN9OiR7c2Vjb25kcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YDtcbiAgICBcbiAgICBpZiAodGhpcy5nYW1lU3RhcnRUaW1lKSB7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy51cGRhdGVUaW1lcigpKTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgc3RvcFRpbWVyKHdhc1dpbikge1xuICAgIGlmICghdGhpcy5nYW1lU3RhcnRUaW1lKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgZW5kVGltZSA9IERhdGUubm93KCk7XG4gICAgY29uc3QgdG90YWxUaW1lID0gKGVuZFRpbWUgLSB0aGlzLmdhbWVTdGFydFRpbWUpIC8gMTAwMDtcbiAgICBcbiAgICBpZiAod2FzV2luKSB7XG4gICAgICBjb25zdCBydW5OdW1iZXIgPSB0aGlzLmxlYWRlcmJvYXJkRGF0YS5sZW5ndGggKyAxO1xuICAgICAgdGhpcy5sZWFkZXJib2FyZERhdGEucHVzaCh7XG4gICAgICAgIG5hbWU6IGBSdW4gJHtydW5OdW1iZXJ9YCxcbiAgICAgICAgdGltZTogdG90YWxUaW1lLFxuICAgICAgICBkYXRlOiBuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygpXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gU29ydCBieSB0aW1lIGFzY2VuZGluZ1xuICAgICAgdGhpcy5sZWFkZXJib2FyZERhdGEuc29ydCgoYSwgYikgPT4gYS50aW1lIC0gYi50aW1lKTtcbiAgICAgIFxuICAgICAgLy8gU2F2ZSB0byBsb2NhbFN0b3JhZ2VcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdnYW1lTGVhZGVyYm9hcmQnLCBKU09OLnN0cmluZ2lmeSh0aGlzLmxlYWRlcmJvYXJkRGF0YSkpO1xuICAgIH1cbiAgICBcbiAgICB0aGlzLmdhbWVTdGFydFRpbWUgPSAwO1xuICAgIHRoaXMudXBkYXRlTGVhZGVyYm9hcmQoKTtcbiAgfVxuXG4gIHN0YXRpYyB1cGRhdGVMZWFkZXJib2FyZCgpIHtcbiAgICBjb25zdCBsZWFkZXJib2FyZEJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhZGVyYm9hcmQtYm9keScpO1xuICAgIGlmICghbGVhZGVyYm9hcmRCb2R5KSByZXR1cm47XG5cbiAgICAvLyBDbGVhciBleGlzdGluZyBlbnRyaWVzXG4gICAgbGVhZGVyYm9hcmRCb2R5LmlubmVySFRNTCA9ICcnO1xuICAgIFxuICAgIC8vIEFkZCB0b3AgMTAgdGltZXNcbiAgICB0aGlzLmxlYWRlcmJvYXJkRGF0YS5zbGljZSgwLCAxMCkuZm9yRWFjaChydW4gPT4ge1xuICAgICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3IocnVuLnRpbWUgLyA2MCk7XG4gICAgICBjb25zdCBzZWNvbmRzID0gTWF0aC5mbG9vcihydW4udGltZSAlIDYwKTtcbiAgICAgIFxuICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICAgIHJvdy5pbm5lckhUTUwgPSBgXG4gICAgICAgIDx0ZD4ke3J1bi5uYW1lfTwvdGQ+XG4gICAgICAgIDx0ZD4ke21pbnV0ZXN9OiR7c2Vjb25kcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9PC90ZD5cbiAgICAgICAgPHRkPiR7cnVuLmRhdGV9PC90ZD5cbiAgICAgIGA7XG4gICAgICBsZWFkZXJib2FyZEJvZHkuYXBwZW5kQ2hpbGQocm93KTtcbiAgICB9KTtcbiAgfVxufVxuIiwiLy8gc3JjL2NvcmUvQ2hhcmFjdGVyLmpzXG5cbmV4cG9ydCBjbGFzcyBDaGFyYWN0ZXIge1xuICAvKiogU3RhdGljIG9iamVjdCBmb3IgZGlyZWN0aW9uIGNvbnN0YW50cyAqL1xuICBzdGF0aWMgRGlyZWN0aW9uID0ge1xuICAgIERPV046IDAsXG4gICAgUklHSFQ6IDEsXG4gICAgVVA6IDIsXG4gICAgTEVGVDogMyxcbiAgfTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBDaGFyYWN0ZXIgaW5zdGFuY2UuXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggLSBUaGUgcmVuZGVyaW5nIGNvbnRleHQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzcHJpdGVVcmwgLSBVUkwgb2YgdGhlIGNoYXJhY3RlcidzIHNwcml0ZSBzaGVldC5cbiAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBDb25maWd1cmF0aW9uIG9wdGlvbnMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5mcmFtZVNpemU9MzJdIC0gU2l6ZSBvZiBvbmUgZnJhbWUgaW4gdGhlIHNwcml0ZSBzaGVldCAocGl4ZWxzKS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmZyYW1lQ291bnQ9NF0gLSBOdW1iZXIgb2YgZnJhbWVzIHBlciBhbmltYXRpb24gY3ljbGUgKHBlciBkaXJlY3Rpb24pLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2NhbGU9Ml0gLSBTY2FsaW5nIGZhY3RvciBmb3IgcmVuZGVyaW5nLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3BlZWQ9M10gLSBNb3ZlbWVudCBzcGVlZCBpbiBwaXhlbHMgcGVyIHVwZGF0ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmFuaW1hdGlvblNwZWVkPTE1MF0gLSBNaWxsaXNlY29uZHMgcGVyIGFuaW1hdGlvbiBmcmFtZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkJveFdpZHRoUmF0aW89MC40XSAtIFdpZHRoIG9mIGNvbGxpc2lvbiBib3ggcmVsYXRpdmUgdG8gcmVuZGVyU2l6ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkJveEhlaWdodFJhdGlvPTAuMl0gLSBIZWlnaHQgb2YgY29sbGlzaW9uIGJveCByZWxhdGl2ZSB0byByZW5kZXJTaXplLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uQm94RmVldE9mZnNldFJhdGlvPTAuNF0gLSBWZXJ0aWNhbCBvZmZzZXQgb2YgY29sbGlzaW9uIGJveCBjZW50ZXIgZnJvbSBjaGFyYWN0ZXIgY2VudGVyICh0b3dhcmRzIGZlZXQpLCByZWxhdGl2ZSB0byByZW5kZXJTaXplLlxuICAgKi9cbiAgY29uc3RydWN0b3IoY3R4LCBzcHJpdGVVcmwsIG9wdGlvbnMgPSB7fSkge1xuICAgIHRoaXMuY3R4ID0gY3R4O1xuICAgIHRoaXMuc3ByaXRlID0gbmV3IEltYWdlKCk7XG5cbiAgICAvLyBDb25maWd1cmF0aW9uIHdpdGggZGVmYXVsdHNcbiAgICB0aGlzLmZyYW1lU2l6ZSA9IG9wdGlvbnMuZnJhbWVTaXplIHx8IDMyO1xuICAgIHRoaXMuZnJhbWVDb3VudCA9IG9wdGlvbnMuZnJhbWVDb3VudCB8fCA0OyAvLyBOdW1iZXIgb2YgZnJhbWVzIHBlciBkaXJlY3Rpb25cbiAgICB0aGlzLnNjYWxlID0gb3B0aW9ucy5zY2FsZSB8fCAyO1xuICAgIHRoaXMucmVuZGVyU2l6ZSA9IHRoaXMuZnJhbWVTaXplICogdGhpcy5zY2FsZTtcbiAgICB0aGlzLnNwZWVkID0gb3B0aW9ucy5zcGVlZCB8fCAzO1xuICAgIHRoaXMuYW5pbWF0aW9uU3BlZWQgPSBvcHRpb25zLmFuaW1hdGlvblNwZWVkIHx8IDE1MDsgLy8gbXMgcGVyIGZyYW1lXG5cbiAgICAvLyBDb2xsaXNpb24gQm94IENvbmZpZ3VyYXRpb25cbiAgICB0aGlzLmNvbGxpc2lvbkJveFdpZHRoUmF0aW8gPSBvcHRpb25zLmNvbGxpc2lvbkJveFdpZHRoUmF0aW8gfHwgMC40O1xuICAgIHRoaXMuY29sbGlzaW9uQm94SGVpZ2h0UmF0aW8gPSBvcHRpb25zLmNvbGxpc2lvbkJveEhlaWdodFJhdGlvIHx8IDAuMjtcbiAgICB0aGlzLmNvbGxpc2lvbkJveEZlZXRPZmZzZXRSYXRpbyA9IG9wdGlvbnMuY29sbGlzaW9uQm94RmVldE9mZnNldFJhdGlvIHx8IDAuNDtcblxuICAgIC8vIFN0YXRlXG4gICAgdGhpcy54ID0gMDsgLy8gV29ybGQgWCBjb29yZGluYXRlXG4gICAgdGhpcy55ID0gMDsgLy8gV29ybGQgWSBjb29yZGluYXRlXG4gICAgdGhpcy5jdXJyZW50RGlyZWN0aW9uID0gQ2hhcmFjdGVyLkRpcmVjdGlvbi5ET1dOOyAvLyBTdGFydCBmYWNpbmcgZG93blxuICAgIHRoaXMuY3VycmVudEZyYW1lID0gMDsgLy8gQ3VycmVudCBhbmltYXRpb24gZnJhbWUgaW5kZXhcbiAgICB0aGlzLmlzTW92aW5nID0gZmFsc2U7IC8vIElzIHRoZSBjaGFyYWN0ZXIgY3VycmVudGx5IG1vdmluZz9cbiAgICB0aGlzLmxhc3RGcmFtZVRpbWUgPSAwOyAvLyBUaW1lc3RhbXAgb2YgdGhlIGxhc3QgZnJhbWUgdXBkYXRlXG5cbiAgICAvLyBMb2FkIHNwcml0ZSBhbmQgYWRkIGhhbmRsZXJzXG4gICAgdGhpcy5zcHJpdGUub25sb2FkID0gKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coYFtDaGFyYWN0ZXJdIFNwcml0ZSBsb2FkZWQgc3VjY2Vzc2Z1bGx5OiAke3Nwcml0ZVVybH1gKTtcbiAgICB9O1xuICAgIHRoaXMuc3ByaXRlLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGBbQ2hhcmFjdGVyXSBGYWlsZWQgdG8gbG9hZCBzcHJpdGU6ICR7c3ByaXRlVXJsfWApO1xuICAgIH07XG4gICAgdGhpcy5zcHJpdGUuc3JjID0gc3ByaXRlVXJsOyAvLyBTdGFydCBsb2FkaW5nXG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgY2hhcmFjdGVyJ3MgYW5pbWF0aW9uIGZyYW1lIGJhc2VkIG9uIG1vdmVtZW50IHN0YXRlIGFuZCB0aW1lLlxuICAgKiBTaG91bGQgYmUgY2FsbGVkIGluIHRoZSBnYW1lJ3MgdXBkYXRlIGxvb3AuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lc3RhbXAgLSBUaGUgY3VycmVudCBoaWdoLXJlc29sdXRpb24gdGltZXN0YW1wIChlLmcuLCBmcm9tIHJlcXVlc3RBbmltYXRpb25GcmFtZSkuXG4gICAqL1xuICB1cGRhdGVBbmltYXRpb24odGltZXN0YW1wKSB7XG4gICAgaWYgKCF0aGlzLmlzTW92aW5nKSB7XG4gICAgICB0aGlzLmN1cnJlbnRGcmFtZSA9IDA7XG4gICAgICB0aGlzLmxhc3RGcmFtZVRpbWUgPSB0aW1lc3RhbXA7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghdGhpcy5sYXN0RnJhbWVUaW1lKSB7XG4gICAgICB0aGlzLmxhc3RGcmFtZVRpbWUgPSB0aW1lc3RhbXA7XG4gICAgfVxuICAgIGNvbnN0IGVsYXBzZWQgPSB0aW1lc3RhbXAgLSB0aGlzLmxhc3RGcmFtZVRpbWU7XG4gICAgaWYgKGVsYXBzZWQgPiB0aGlzLmFuaW1hdGlvblNwZWVkKSB7XG4gICAgICB0aGlzLmN1cnJlbnRGcmFtZSA9ICh0aGlzLmN1cnJlbnRGcmFtZSArIDEpICUgdGhpcy5mcmFtZUNvdW50O1xuICAgICAgdGhpcy5sYXN0RnJhbWVUaW1lID0gdGltZXN0YW1wO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHRoZSBjb2xsaXNpb24gYm91bmRpbmcgYm94IGJhc2VkIG9uIGEgcG90ZW50aWFsIHBvc2l0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcG9zWCAtIFRoZSBwb3RlbnRpYWwgWCBjb29yZGluYXRlIGZvciB0aGUgY29sbGlzaW9uIGNoZWNrLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcG9zWSAtIFRoZSBwb3RlbnRpYWwgWSBjb29yZGluYXRlIGZvciB0aGUgY29sbGlzaW9uIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7e3RvcDogbnVtYmVyLCBib3R0b206IG51bWJlciwgbGVmdDogbnVtYmVyLCByaWdodDogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcn19IFRoZSBjb2xsaXNpb24gYm94IHByb3BlcnRpZXMuXG4gICAqL1xuICBnZXRDb2xsaXNpb25Cb3gocG9zWCwgcG9zWSkge1xuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5yZW5kZXJTaXplICogdGhpcy5jb2xsaXNpb25Cb3hXaWR0aFJhdGlvO1xuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMucmVuZGVyU2l6ZSAqIHRoaXMuY29sbGlzaW9uQm94SGVpZ2h0UmF0aW87XG4gICAgY29uc3QgaGFsZldpZHRoID0gd2lkdGggLyAyO1xuICAgIGNvbnN0IGZlZXRPZmZzZXRZID0gdGhpcy5yZW5kZXJTaXplICogdGhpcy5jb2xsaXNpb25Cb3hGZWV0T2Zmc2V0UmF0aW87XG4gICAgY29uc3QgdG9wID0gcG9zWSArIGZlZXRPZmZzZXRZIC0gaGVpZ2h0IC8gMjtcbiAgICBjb25zdCBib3R0b20gPSBwb3NZICsgZmVldE9mZnNldFkgKyBoZWlnaHQgLyAyO1xuICAgIGNvbnN0IGxlZnQgPSBwb3NYIC0gaGFsZldpZHRoO1xuICAgIGNvbnN0IHJpZ2h0ID0gcG9zWCArIGhhbGZXaWR0aDtcbiAgICByZXR1cm4geyB0b3AsIGJvdHRvbSwgbGVmdCwgcmlnaHQsIHdpZHRoLCBoZWlnaHQgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3cyB0aGUgY2hhcmFjdGVyIG9udG8gdGhlIGNhbnZhcyBhdCBpdHMgY3VycmVudCBwb3NpdGlvbixcbiAgICogY29uc2lkZXJpbmcgdGhlIGNhbWVyYSBvZmZzZXQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXRYIC0gVGhlIGNhbWVyYSdzIFggb2Zmc2V0LlxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0WSAtIFRoZSBjYW1lcmEncyBZIG9mZnNldC5cbiAgICovXG4gIGRyYXcob2Zmc2V0WCwgb2Zmc2V0WSkge1xuICAgIGlmICghdGhpcy5zcHJpdGUuY29tcGxldGUgfHwgdGhpcy5zcHJpdGUubmF0dXJhbEhlaWdodCA9PT0gMCkge1xuICAgICAgcmV0dXJuOyAvLyBEb24ndCBkcmF3IGlmIHNwcml0ZSBpc24ndCByZWFkeVxuICAgIH1cbiAgICBjb25zdCBmcmFtZVggPSB0aGlzLmN1cnJlbnRGcmFtZSAqIHRoaXMuZnJhbWVTaXplO1xuICAgIGNvbnN0IGZyYW1lWSA9IHRoaXMuY3VycmVudERpcmVjdGlvbiAqIHRoaXMuZnJhbWVTaXplO1xuICAgIGNvbnN0IHNjcmVlblggPSBNYXRoLmZsb29yKHRoaXMueCAtIHRoaXMucmVuZGVyU2l6ZSAvIDIgKyBvZmZzZXRYKTtcbiAgICBjb25zdCBzY3JlZW5ZID0gTWF0aC5mbG9vcih0aGlzLnkgLSB0aGlzLnJlbmRlclNpemUgLyAyICsgb2Zmc2V0WSk7XG5cbiAgICB0cnkge1xuICAgICAgdGhpcy5jdHguZHJhd0ltYWdlKFxuICAgICAgICB0aGlzLnNwcml0ZSxcbiAgICAgICAgZnJhbWVYLFxuICAgICAgICBmcmFtZVksXG4gICAgICAgIHRoaXMuZnJhbWVTaXplLFxuICAgICAgICB0aGlzLmZyYW1lU2l6ZSwgLy8gU291cmNlIHJlY3RcbiAgICAgICAgc2NyZWVuWCxcbiAgICAgICAgc2NyZWVuWSxcbiAgICAgICAgdGhpcy5yZW5kZXJTaXplLFxuICAgICAgICB0aGlzLnJlbmRlclNpemUgLy8gRGVzdCByZWN0XG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tDaGFyYWN0ZXJdIEVycm9yIGRyYXdpbmcgc3ByaXRlOicsIGUpO1xuICAgIH1cbiAgfVxufVxuIiwiLy8gc3JjL21hcC9Cb29rLmpzXG5leHBvcnQgY2xhc3MgQm9vayB7XG4gIGNvbnN0cnVjdG9yKHgsIHksIGlkLCB0aWxlU2l6ZSkge1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgICB0aGlzLmlkID0gaWQ7XG4gICAgdGhpcy50aWxlU2l6ZSA9IHRpbGVTaXplO1xuICAgIHRoaXMuc2l6ZSA9IHRpbGVTaXplICogMC42O1xuICAgIHRoaXMuY29sbGVjdGVkID0gZmFsc2U7XG4gICAgdGhpcy5pc0NvbGxlY3RlZCA9IGZhbHNlO1xuICB9XG4gIGRyYXcoY3R4LCBvZmZzZXRYLCBvZmZzZXRZLCBib29rSW1hZ2UpIHtcbiAgICBjb25zdCBzY3JlZW5YID0gTWF0aC5mbG9vcih0aGlzLnggKyBvZmZzZXRYIC0gdGhpcy5zaXplIC8gMik7XG4gICAgY29uc3Qgc2NyZWVuWSA9IE1hdGguZmxvb3IodGhpcy55ICsgb2Zmc2V0WSAtIHRoaXMuc2l6ZSAvIDIpO1xuICAgIGlmIChib29rSW1hZ2UpIHtcbiAgICAgIGN0eC5kcmF3SW1hZ2UoYm9va0ltYWdlLCBzY3JlZW5YLCBzY3JlZW5ZLCB0aGlzLnNpemUsIHRoaXMuc2l6ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzhkNmU2Myc7XG4gICAgICBjdHguZmlsbFJlY3Qoc2NyZWVuWCwgc2NyZWVuWSwgdGhpcy5zaXplLCB0aGlzLnNpemUpO1xuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJyM1ZDQwMzcnO1xuICAgICAgY3R4LnN0cm9rZVJlY3Qoc2NyZWVuWCwgc2NyZWVuWSwgdGhpcy5zaXplLCB0aGlzLnNpemUpO1xuICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjZWVlJztcbiAgICAgIGN0eC5mb250ID0gYCR7dGhpcy5zaXplICogMC42fXB4IEFyaWFsYDtcbiAgICAgIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcbiAgICAgIGN0eC5maWxsVGV4dCgnPycsIHNjcmVlblggKyB0aGlzLnNpemUgLyAyLCBzY3JlZW5ZICsgdGhpcy5zaXplIC8gMiArIDIpO1xuICAgIH1cbiAgfVxufVxuIiwiLy8gc3JjL3V0aWxzL21hcC5qc1xuaW1wb3J0IHsgVElMRV9DT1JSSURPUiwgVElMRV9ST09NX0ZMT09SLCBUSUxFX0xJRlQgfSBmcm9tICcuL2NvbnN0YW50cy5qcyc7IC8vIFBvdHJ6ZWJuZSBkbyBCRlNcblxuLyoqXG4gKiBHZW5lcnVqZSBsb3Nvd8SFIGxpY3pixJkgY2HFgmtvd2l0xIUgeiBwcnplZHppYcWCdSBbbWluLCBtYXhdICh3xYLEhWN6bmllKS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW4gRG9sbmEgZ3JhbmljYS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXggR8Ozcm5hIGdyYW5pY2EuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBMb3Nvd2EgbGljemJhIGNhxYJrb3dpdGEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByYW5kb21JbnQobWluLCBtYXgpIHtcbiAgbWluID0gTWF0aC5jZWlsKG1pbik7XG4gIG1heCA9IE1hdGguZmxvb3IobWF4KTtcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47XG59XG5cbi8qKlxuICogUHJvc3RhIChuaWVrcnlwdG9ncmFmaWN6bmEpIGZ1bmtjamEgaGFzaHVqxIVjYS5cbiAqIFXFvHl3YW5hIGRvIHV6eXNrYW5pYSBwc2V1ZG9sb3Nvd2VqLCBhbGUgZGV0ZXJtaW5pc3R5Y3puZWogd2FydG/Fm2NpIHogbGljemJ5IChrb29yZHluYXTDs3cpLlxuICogQHBhcmFtIHtudW1iZXJ9IHNlZWQgWmlhcm5vIChucC4gc2tvbWJpbm93YW5lIGtvb3JkeW5hdHkpLlxuICogQHJldHVybnMge251bWJlcn0gQmV6em5ha293YSAzMi1iaXRvd2EgbGljemJhIGNhxYJrb3dpdGEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaW1wbGVIYXNoKHNlZWQpIHtcbiAgbGV0IGggPSBzZWVkIF4gMHhkZWFkYmVlZjsgLy8gWE9SIHogd2FydG/Fm2NpxIUgcG9jesSFdGtvd8SFXG4gIGggPSBNYXRoLmltdWwoaCBeIChoID4+PiAxNiksIDIyNDY4MjI1MDcpO1xuICBoID0gTWF0aC5pbXVsKGggXiAoaCA+Pj4gMTMpLCAzMjY2NDg5OTA5KTtcbiAgcmV0dXJuIChoIF49IGggPj4+IDE2KSA+Pj4gMDsgLy8gS29ud2Vyc2phIGRvIGxpY3pieSBiZXogem5ha3UgMzItYml0b3dlalxufVxuXG4vLyAtLS0gRnVua2NqZSBrb2xvcsOzdyAtLS1cblxuLyoqXG4gKiBHZW5lcnVqZSBsb3Nvd3kgb2RjaWXFhCBzemFyb8WbY2kgdyB6YWRhbnltIHpha3Jlc2llIGphc25vxZtjaSAoMC0yNTUpLlxuICogQHBhcmFtIHtudW1iZXJ9IG1pbkJyaWdodG5lc3MgTWluaW1hbG5hIGphc25vxZvEhy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhCcmlnaHRuZXNzIE1ha3N5bWFsbmEgamFzbm/Fm8SHLlxuICogQHJldHVybnMge3N0cmluZ30gS29sb3IgdyBmb3JtYWNpZSByZ2IoKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbUdyYXkobWluQnJpZ2h0bmVzcywgbWF4QnJpZ2h0bmVzcykge1xuICBjb25zdCBicmlnaHRuZXNzID0gcmFuZG9tSW50KG1pbkJyaWdodG5lc3MsIG1heEJyaWdodG5lc3MpO1xuICByZXR1cm4gYHJnYigke2JyaWdodG5lc3N9LCR7YnJpZ2h0bmVzc30sJHticmlnaHRuZXNzfSlgO1xufVxuXG4vKipcbiAqIEdlbmVydWplIGxvc293eSBvZGNpZcWEIHN6YXJvxZtjaSBkbGEga29yeXRhcnp5LlxuICogQHBhcmFtIHtudW1iZXJ9IG1pbkJyaWdodG5lc3MgTWluaW1hbG5hIGphc25vxZvEhy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhCcmlnaHRuZXNzIE1ha3N5bWFsbmEgamFzbm/Fm8SHLlxuICogQHJldHVybnMge3N0cmluZ30gS29sb3IgdyBmb3JtYWNpZSByZ2IoKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbUNvcnJpZG9yR3JheShtaW5CcmlnaHRuZXNzLCBtYXhCcmlnaHRuZXNzKSB7XG4gIC8vIE1vxbxuYSB1xbx5xIcgdGVqIHNhbWVqIGxvZ2lraSBjbyByYW5kb21HcmF5IGx1YiB1Y3p5bmnEhyBqZSBuaWVjbyBjaWVwbGVqc3p5bWkvY2jFgm9kbmllanN6eW1pXG4gIGNvbnN0IGJyaWdodG5lc3MgPSByYW5kb21JbnQobWluQnJpZ2h0bmVzcywgbWF4QnJpZ2h0bmVzcyk7XG4gIHJldHVybiBgcmdiKCR7YnJpZ2h0bmVzc30sJHticmlnaHRuZXNzfSwke2JyaWdodG5lc3N9KWA7XG59XG5cbi8qKlxuICogRG9zdG9zb3d1amUgamFzbm/Fm8SHIGtvbG9ydSBIRVggKG5wLiAnI1JSR0dCQicpLlxuICogQHBhcmFtIHtzdHJpbmd9IGhleENvbG9yIEtvbG9yIHcgZm9ybWFjaWUgSEVYLlxuICogQHBhcmFtIHtudW1iZXJ9IGZhY3RvciBXc3DDs8WCY3p5bm5payBqYXNub8WbY2kgKDEuMCA9IGJleiB6bWlhbiwgPDEgY2llbW5pZWosID4xIGphxZtuaWVqKS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IE5vd3kga29sb3IgdyBmb3JtYWNpZSBIRVguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGp1c3RDb2xvckJyaWdodG5lc3MoaGV4Q29sb3IsIGZhY3Rvcikge1xuICBpZiAoIWhleENvbG9yIHx8IHR5cGVvZiBoZXhDb2xvciAhPT0gJ3N0cmluZycgfHwgaGV4Q29sb3IubGVuZ3RoIDwgNykgcmV0dXJuIGhleENvbG9yOyAvLyBad3LDs8SHLCBqZcWbbGkga29sb3IgamVzdCBuaWVwcmF3aWTFgm93eVxuXG4gIGxldCByID0gcGFyc2VJbnQoaGV4Q29sb3Iuc2xpY2UoMSwgMyksIDE2KTtcbiAgbGV0IGcgPSBwYXJzZUludChoZXhDb2xvci5zbGljZSgzLCA1KSwgMTYpO1xuICBsZXQgYiA9IHBhcnNlSW50KGhleENvbG9yLnNsaWNlKDUsIDcpLCAxNik7XG5cbiAgciA9IE1hdGgubWluKDI1NSwgTWF0aC5tYXgoMCwgTWF0aC5yb3VuZChyICogZmFjdG9yKSkpO1xuICBnID0gTWF0aC5taW4oMjU1LCBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKGcgKiBmYWN0b3IpKSk7XG4gIGIgPSBNYXRoLm1pbigyNTUsIE1hdGgubWF4KDAsIE1hdGgucm91bmQoYiAqIGZhY3RvcikpKTtcblxuICBjb25zdCBySGV4ID0gci50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKTtcbiAgY29uc3QgZ0hleCA9IGcudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICcwJyk7XG4gIGNvbnN0IGJIZXggPSBiLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpO1xuXG4gIHJldHVybiBgIyR7ckhleH0ke2dIZXh9JHtiSGV4fWA7XG59XG5cbi8qKlxuICogV3lrb251amUgYWxnb3J5dG0gcHJ6ZXN6dWtpd2FuaWEgd3N6ZXJ6IChCRlMpIG5hIHNpYXRjZSBtYXB5LlxuICogTW/FvGUgYnnEhyB1xbx5d2FueSBkbyB6bmFqZG93YW5pYSDFm2NpZcW8a2kgbHViIHNwcmF3ZHphbmlhIG9zacSFZ2Fsbm/Fm2NpLlxuICogQHBhcmFtIHtudW1iZXJbXVtdfSBtYXBHcmlkIFNpYXRrYSBtYXB5ICgyRCBhcnJheSB6IHdhcnRvxZtjaWFtaSBrYWZlbGvDs3cpLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0WCBQb2N6xIV0a293YSB3c3DDs8WCcnrEmWRuYSBYIGthZmVsa2EuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRZIFBvY3rEhXRrb3dhIHdzcMOzxYJyesSZZG5hIFkga2FmZWxrYS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBjb2xzIExpY3piYSBrb2x1bW4gdyBtYXBHcmlkLlxuICogQHBhcmFtIHtudW1iZXJ9IHJvd3MgTGljemJhIHJ6xJlkw7N3IHcgbWFwR3JpZC5cbiAqIEBwYXJhbSB7bnVtYmVyW119IHdhbGthYmxlVGlsZVZhbHVlcyBUYWJsaWNhIHdhcnRvxZtjaSBrYWZlbGvDs3cgdXdhxbxhbnljaCB6YSBwcnplY2hvZG5pZSBkbGEgdGVnbyBCRlMuXG4gKiBAcmV0dXJucyB7e3JlYWNoYWJsZTogYm9vbGVhbn19IE9iaWVrdCB3c2thenVqxIVjeSwgY3p5IEJGUyBvc2nEhWduxIXFgiBva3JlxZtsb255IGNlbCAodyB0eW0gcHJ6eXBhZGt1LCBjenkgeiBwdW5rdHUgc3RhcnRvd2VnbyBtb8W8bmEgZG9qxZvEhyBkbyBrb3J5dGFyemEvcG9rb2p1KS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBlcmZvcm1CRlMobWFwR3JpZCwgc3RhcnRYLCBzdGFydFksIGNvbHMsIHJvd3MsIHdhbGthYmxlVGlsZVZhbHVlcykge1xuICBjb25zdCBxdWV1ZSA9IFtbc3RhcnRYLCBzdGFydFldXTtcbiAgY29uc3QgdmlzaXRlZCA9IG5ldyBTZXQoW2Ake3N0YXJ0WH0sJHtzdGFydFl9YF0pO1xuICBjb25zdCBkaXJlY3Rpb25zID0gW1xuICAgIFswLCAtMV0sIC8vIEfDs3JhXG4gICAgWzAsIDFdLCAvLyBEw7PFglxuICAgIFstMSwgMF0sIC8vIExld29cbiAgICBbMSwgMF0sIC8vIFByYXdvXG4gIF07XG4gIGxldCByZWFjaGFibGUgPSBmYWxzZTsgLy8gRmxhZ2EsIGN6eSBCRlMgZG90YXLFgiBkbyBrYWZlbGvDs3cga29yeXRhcnphL3Bva29qdSAoamXFm2xpIHN6dWthbm8gb2Qgd2luZHkpXG5cbiAgLy8gU3ByYXdkemVuaWUgcHVua3R1IHN0YXJ0b3dlZ28gKGplxZtsaSBzenVrYW15IG9zacSFZ2Fsbm/Fm2NpIHogd2luZHkpXG4gIGNvbnN0IHN0YXJ0VGlsZVZhbHVlID0gbWFwR3JpZFtzdGFydFldPy5bc3RhcnRYXTtcbiAgLy8gQ3p5IHB1bmt0IHN0YXJ0b3d5IChucC4gd2luZGEpIGplc3QganXFvCBuYSBiZXpwaWVjem55bSB0ZXJlbmllIChkbGEgY2VsdSBzcHJhd2R6ZW5pYSBvc2nEhWdhbG5vxZtjaSk/XG4gIC8vIFcgdHltIGtvbmtyZXRueW0gdcW8eWNpdSAoc3ByYXdkemVuaWUgd2luZHkpIGludGVyZXN1amUgbmFzLCBjenkgeiB3aW5keSBtb8W8bmEgZG90cnplxIcgZG8gS09SWVRBUlpBL1BPS09KVS5cbiAgLy8gU2FtbyBzdGFuaWUgbmEgd2luZHppZSBuaWUgb3puYWN6YSBvc2nEhWdhbG5vxZtjaSBiZXpwaWVjem5laiBzdHJlZnkuXG4gIC8vIFNwcmF3ZHppbXkgc8SFc2lhZMOzdyB3aW5keS5cblxuICB3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IFtjdXJyWCwgY3VyclldID0gcXVldWUuc2hpZnQoKTtcblxuICAgIGZvciAoY29uc3QgW2R4LCBkeV0gb2YgZGlyZWN0aW9ucykge1xuICAgICAgY29uc3QgbmV4dFggPSBjdXJyWCArIGR4O1xuICAgICAgY29uc3QgbmV4dFkgPSBjdXJyWSArIGR5O1xuICAgICAgY29uc3Qga2V5ID0gYCR7bmV4dFh9LCR7bmV4dFl9YDtcblxuICAgICAgLy8gU3ByYXdkemVuaWUgZ3JhbmljIGkgY3p5IGp1xbwgb2R3aWVkem9uZVxuICAgICAgaWYgKG5leHRYID49IDAgJiYgbmV4dFggPCBjb2xzICYmIG5leHRZID49IDAgJiYgbmV4dFkgPCByb3dzICYmICF2aXNpdGVkLmhhcyhrZXkpKSB7XG4gICAgICAgIGNvbnN0IHRpbGVWYWx1ZSA9IG1hcEdyaWRbbmV4dFldPy5bbmV4dFhdO1xuICAgICAgICB2aXNpdGVkLmFkZChrZXkpOyAvLyBPZHdpZWR6YW15IG5pZXphbGXFvG5pZSBvZCB0eXB1XG5cbiAgICAgICAgLy8gQ3p5IHRlbiBrYWZlbGVrIGplc3QgcHJ6ZWNob2RuaSBETEEgVEVHTyBCRlM/XG4gICAgICAgIGlmICh3YWxrYWJsZVRpbGVWYWx1ZXMuaW5jbHVkZXModGlsZVZhbHVlKSkge1xuICAgICAgICAgIHF1ZXVlLnB1c2goW25leHRYLCBuZXh0WV0pO1xuXG4gICAgICAgICAgLy8gQ3p5IHRlbiBrYWZlbGVrIGplc3QgS09SWVRBUlpFTSBsdWIgUE9ExYFPR8SEIFBPS09KVT9cbiAgICAgICAgICAvLyBKZcWbbGkgdGFrLCB0byB6bmFsZcW6bGnFm215IGJlenBpZWN6bsSFIHN0cmVmxJkgb3NpxIVnYWxuxIUgeiBwdW5rdHUgc3RhcnRvd2Vnby5cbiAgICAgICAgICBpZiAodGlsZVZhbHVlID09PSBUSUxFX0NPUlJJRE9SIHx8IHRpbGVWYWx1ZSA9PT0gVElMRV9ST09NX0ZMT09SKSB7XG4gICAgICAgICAgICByZWFjaGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgLy8gTW/FvG5hIGJ5IHR1IHpha2/FhGN6ecSHIHDEmXRsxJksIGplxZtsaSBpbnRlcmVzdWplIG5hcyB0eWxrbyBDWlkgamVzdCBvc2nEhWdhbG5lXG4gICAgICAgICAgICAvLyByZXR1cm4geyByZWFjaGFibGU6IHRydWUgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8gWndyw7PEhyB3eW5payBCRlMgLSB3IHR5bSBwcnp5cGFka3UsIGZsYWfEmSBvc2nEhWdhbG5vxZtjaSBiZXpwaWVjem5laiBzdHJlZnlcbiAgcmV0dXJuIHsgcmVhY2hhYmxlIH07XG59XG5cbi8vIC4uLiAoaW5uZSBuYXJ6xJlkemlhIG1hcHksIGplxZtsaSBpc3RuaWVqxIUpXG4iLCIvLyBzcmMvbWFwL21hcFJlbmRlcmVyLmpzXG5cbmltcG9ydCB7IFRJTEVfV0FMTCwgVElMRV9DT1JSSURPUiwgVElMRV9ST09NX0ZMT09SLCBUSUxFX0xJRlQgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xuLy8gUmVtb3ZlZCB1bnVzZWQgcmFuZG9tR3JheSwgcmFuZG9tQ29ycmlkb3JHcmF5IGltcG9ydHNcbmltcG9ydCB7IGFkanVzdENvbG9yQnJpZ2h0bmVzcywgc2ltcGxlSGFzaCB9IGZyb20gJy4uL3V0aWxzL21hcC5qcyc7XG5cbmV4cG9ydCBjbGFzcyBNYXBSZW5kZXJlciB7XG4gIGNvbnN0cnVjdG9yKHRpbGVTaXplKSB7XG4gICAgdGhpcy50aWxlU2l6ZSA9IHRpbGVTaXplO1xuICAgIC8vIENhY2hlIGlzIGxlc3MgY3JpdGljYWwgbm93IGZvciBiYXNlIHRpbGVzIGJ1dCBzdGlsbCB1c2VmdWwgZm9yIHJvb20gZmxvb3JzL290aGVyIGVsZW1lbnRzXG4gICAgdGhpcy50aWxlQ29sb3JzID0ge307XG4gICAgdGhpcy5iYXNlV2FsbENvbG9yID0gJyMxYzFlMjInOyAvLyBTaW5nbGUsIGNvbnNpc3RlbnQgd2FsbCBjb2xvclxuICAgIHRoaXMuYmFzZUNvcnJpZG9yQ29sb3IgPSAnI2EwYTBhMCc7IC8vIFNpbmdsZSwgY29uc2lzdGVudCBjb3JyaWRvciBjb2xvclxuICAgIHRoaXMuYmFzZVJvb21GbG9vckNvbG9yID0gJyNjMGMwYzAnOyAvLyBEZWZhdWx0IHJvb20gZmxvb3IgKG92ZXJ3cml0dGVuIGJ5IGRyYXdSb29tRGV0YWlscylcbiAgICB0aGlzLmxpZnRDb2xvciA9ICcjNzA3MDgwJzsgLy8gQ29uc2lzdGVudCBsaWZ0IGNvbG9yXG4gICAgdGhpcy5lcnJvckNvbG9yID0gJyNmZjAwZmYnOyAvLyBFcnJvciBjb2xvclxuICB9XG5cbiAgLy8gUmVzZXQgY29sb3IgY2FjaGUgd2hlbiBhIG5ldyBtYXAgaXMgZHJhd24gKGNhbGxlZCBieSBQcm9jZWR1cmFsTWFwKVxuICByZXNldENvbG9yQ2FjaGUoKSB7XG4gICAgdGhpcy50aWxlQ29sb3JzID0ge307XG4gIH1cblxuICAvKiogR2V0IG9yIGdlbmVyYXRlIHRoZSBjb2xvciBmb3IgYSBzcGVjaWZpYyB0aWxlICovXG4gIGdldFRpbGVDb2xvcihyLCBjLCB0aWxlVmFsdWUsIHJvb21zKSB7XG4gICAgLy8gTk9URTogV2Ugc3RpbGwgdXNlIHRoZSBjYWNoZSBrZXksIG1haW5seSB1c2VmdWwgaWYgcm9vbXMgbmVlZCBzcGVjaWZpY1xuICAgIC8vIHRpbGUgY29sb3JzIG5vdCBoYW5kbGVkIGJ5IGRyYXdSb29tRGV0YWlscyBsYXRlciwgb3IgaWYgd2UgYWRkIG1vcmUgY29tcGxleCBsb2dpYy5cbiAgICAvLyBGb3IgdGhlIGJhc2UgdGlsZXMgbW9kaWZpZWQgYmVsb3csIGl0J3MgbGVzcyBlc3NlbnRpYWwuXG4gICAgY29uc3Qga2V5ID0gYCR7cn0sJHtjfWA7XG4gICAgaWYgKHRoaXMudGlsZUNvbG9yc1trZXldKSB7XG4gICAgICByZXR1cm4gdGhpcy50aWxlQ29sb3JzW2tleV07XG4gICAgfVxuXG4gICAgbGV0IGNvbG9yO1xuXG4gICAgLy8gLS0tIFJFTU9WRUQgcGVyLXRpbGUgaGFzaC92YXJpYXRpb24gZm9yIGJhc2UgdHlwZXMgLS0tXG4gICAgLy8gY29uc3QgaGFzaCA9IHNpbXBsZUhhc2gociAqIDEwMDAgKyBjKTtcbiAgICAvLyBjb25zdCB2YXJpYXRpb24gPSAoKGhhc2ggJSAyMSkgLSAxMCkgLyAxMDA7XG5cbiAgICBzd2l0Y2ggKHRpbGVWYWx1ZSkge1xuICAgICAgY2FzZSBUSUxFX1dBTEw6XG4gICAgICAgIC8vIFVzZSB0aGUgc2luZ2xlLCBjb25zaXN0ZW50IGJhc2UgY29sb3IgZGlyZWN0bHlcbiAgICAgICAgY29sb3IgPSB0aGlzLmJhc2VXYWxsQ29sb3I7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBUSUxFX0NPUlJJRE9SOlxuICAgICAgICAvLyBVc2UgdGhlIHNpbmdsZSwgY29uc2lzdGVudCBiYXNlIGNvbG9yIGRpcmVjdGx5XG4gICAgICAgIGNvbG9yID0gdGhpcy5iYXNlQ29ycmlkb3JDb2xvcjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFRJTEVfUk9PTV9GTE9PUjpcbiAgICAgICAgLy8gVXNlIHRoZSBjb25zaXN0ZW50IGJhc2Ugcm9vbSBmbG9vciBjb2xvci5cbiAgICAgICAgLy8gVGhpcyB3aWxsIGJlIG92ZXJ3cml0dGVuIGJ5IGRyYXdSb29tRGV0YWlscyBmb3IgYWN0dWFsIHJvb20gdGlsZXMuXG4gICAgICAgIC8vIEl0IHNlcnZlcyBhcyB0aGUgY29sb3IgaWYgYSBUSUxFX1JPT01fRkxPT1Igc29tZWhvdyBleGlzdHMgb3V0c2lkZSBhIGRlZmluZWQgcm9vbS5cbiAgICAgICAgY29sb3IgPSB0aGlzLmJhc2VSb29tRmxvb3JDb2xvcjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFRJTEVfTElGVDpcbiAgICAgICAgLy8gVXNlIHRoZSBjb25zaXN0ZW50IGxpZnQgY29sb3JcbiAgICAgICAgY29sb3IgPSB0aGlzLmxpZnRDb2xvcjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjb2xvciA9IHRoaXMuZXJyb3JDb2xvcjsgLy8gRXJyb3IgY29sb3JcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgLy8gU3RpbGwgY2FjaGUgdGhlIHJlc3VsdFxuICAgIHRoaXMudGlsZUNvbG9yc1trZXldID0gY29sb3I7XG4gICAgcmV0dXJuIGNvbG9yO1xuICB9XG5cbiAgLyoqIE1haW4gZHJhd2luZyBmdW5jdGlvbiAqL1xuICBkcmF3KGN0eCwgbWFwRGF0YSwgYm9va0ltYWdlID0gbnVsbCkge1xuICAgIGNvbnN0IHsgbWFwLCByb29tcywgYm9va3MsIGxpZnRQb3NpdGlvbiwgb2Zmc2V0WCwgb2Zmc2V0WSwgY29scywgcm93cyB9ID0gbWFwRGF0YTtcblxuICAgIC8vIFJvdW5kIG9mZnNldHMgZm9yIHNoYXJwbmVzc1xuICAgIGNvbnN0IGN1cnJlbnRPZmZzZXRYID0gTWF0aC5mbG9vcihvZmZzZXRYKTtcbiAgICBjb25zdCBjdXJyZW50T2Zmc2V0WSA9IE1hdGguZmxvb3Iob2Zmc2V0WSk7XG5cbiAgICAvLyBEZXRlcm1pbmUgdmlzaWJsZSB0aWxlcyB3aXRoIGEgc21hbGwgYnVmZmVyXG4gICAgY29uc3Qgc3RhcnRDb2wgPSBNYXRoLm1heCgwLCBNYXRoLmZsb29yKC1jdXJyZW50T2Zmc2V0WCAvIHRoaXMudGlsZVNpemUpIC0gMSk7XG4gICAgY29uc3QgZW5kQ29sID0gTWF0aC5taW4oXG4gICAgICBjb2xzLFxuICAgICAgTWF0aC5jZWlsKCgtY3VycmVudE9mZnNldFggKyBjdHguY2FudmFzLndpZHRoKSAvIHRoaXMudGlsZVNpemUpICsgMVxuICAgICk7XG4gICAgY29uc3Qgc3RhcnRSb3cgPSBNYXRoLm1heCgwLCBNYXRoLmZsb29yKC1jdXJyZW50T2Zmc2V0WSAvIHRoaXMudGlsZVNpemUpIC0gMSk7XG4gICAgY29uc3QgZW5kUm93ID0gTWF0aC5taW4oXG4gICAgICByb3dzLFxuICAgICAgTWF0aC5jZWlsKCgtY3VycmVudE9mZnNldFkgKyBjdHguY2FudmFzLmhlaWdodCkgLyB0aGlzLnRpbGVTaXplKSArIDFcbiAgICApO1xuXG4gICAgY3R4LnNhdmUoKTsgLy8gU2F2ZSBjb250ZXh0IHN0YXRlXG5cbiAgICAvLyAxLiBEcmF3IGJhc2UgdGlsZXMgKHdhbGxzLCBjb3JyaWRvcnMsIGRlZmF1bHQgZmxvb3IsIGxpZnQgYmFzZSlcbiAgICAvLyAgICBUaGVzZSB3aWxsIG5vdyB1c2UgdGhlIGNvbnNpc3RlbnQgY29sb3JzIGZyb20gZ2V0VGlsZUNvbG9yLlxuICAgIHRoaXMuZHJhd0Jhc2VUaWxlcyhcbiAgICAgIGN0eCxcbiAgICAgIG1hcCxcbiAgICAgIHJvb21zLFxuICAgICAgY3VycmVudE9mZnNldFgsXG4gICAgICBjdXJyZW50T2Zmc2V0WSxcbiAgICAgIGNvbHMsXG4gICAgICByb3dzLFxuICAgICAgc3RhcnRSb3csXG4gICAgICBlbmRSb3csXG4gICAgICBzdGFydENvbCxcbiAgICAgIGVuZENvbFxuICAgICk7XG5cbiAgICAvLyAyLiBEcmF3IHNwZWNpZmljIHJvb20gZmxvb3JzIGFuZCBkZWNvcmF0aW9uc1xuICAgIC8vICAgIFRoaXMgZnVuY3Rpb24gV0lMTCBhcHBseSBzcGVjaWZpYyBjb2xvcnMgYmFzZWQgb24gcm9vbSB0eXBlLFxuICAgIC8vICAgIGFuZCBzdWJ0bGUgcGVyLXRpbGUgdmFyaWF0aW9ucyBXSVRISU4gdGhlIHJvb20gZmxvb3IuXG4gICAgdGhpcy5kcmF3Um9vbURldGFpbHMoXG4gICAgICBjdHgsXG4gICAgICBtYXAsXG4gICAgICByb29tcyxcbiAgICAgIGxpZnRQb3NpdGlvbixcbiAgICAgIGN1cnJlbnRPZmZzZXRYLFxuICAgICAgY3VycmVudE9mZnNldFksXG4gICAgICBjb2xzLFxuICAgICAgcm93cyxcbiAgICAgIHN0YXJ0Um93LFxuICAgICAgZW5kUm93LFxuICAgICAgc3RhcnRDb2wsXG4gICAgICBlbmRDb2xcbiAgICApO1xuXG4gICAgLy8gMy4gRHJhdyBsaWZ0IGRldGFpbHMgKG92ZXJsYXlpbmcgcm9vbSBmbG9vcnMgaWYgbmVlZGVkKVxuICAgIHRoaXMuZHJhd0xpZnREZXRhaWxzKGN0eCwgbGlmdFBvc2l0aW9uLCBjdXJyZW50T2Zmc2V0WCwgY3VycmVudE9mZnNldFkpO1xuXG4gICAgLy8gNC4gRHJhdyBib29rc1xuICAgIHRoaXMuZHJhd0Jvb2tzKGN0eCwgYm9va3MsIGN1cnJlbnRPZmZzZXRYLCBjdXJyZW50T2Zmc2V0WSwgYm9va0ltYWdlKTtcblxuICAgIGN0eC5yZXN0b3JlKCk7IC8vIFJlc3RvcmUgY29udGV4dCBzdGF0ZVxuICB9XG5cbiAgLyoqIERyYXcgYmFzZSB0aWxlcyAqL1xuICBkcmF3QmFzZVRpbGVzKGN0eCwgbWFwLCByb29tcywgb2Zmc2V0WCwgb2Zmc2V0WSwgY29scywgcm93cywgc3RhcnRSb3csIGVuZFJvdywgc3RhcnRDb2wsIGVuZENvbCkge1xuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LnNoYWRvd0NvbG9yID0gJ3RyYW5zcGFyZW50JztcblxuICAgIGNvbnN0IHdhbGxFZGdlQ29sb3JEYXJrID0gJyMzODM4MzgnO1xuICAgIGNvbnN0IHdhbGxFZGdlQ29sb3JMaWdodCA9ICcjNjA2MDYwJztcbiAgICBjb25zdCB3YWxsVG9wRWRnZUNvbG9yID0gJyM3NTc1NzUnO1xuXG4gICAgZm9yIChsZXQgciA9IHN0YXJ0Um93OyByIDwgZW5kUm93OyByKyspIHtcbiAgICAgIGZvciAobGV0IGMgPSBzdGFydENvbDsgYyA8IGVuZENvbDsgYysrKSB7XG4gICAgICAgIGNvbnN0IHRpbGVWYWx1ZSA9IG1hcFtyXT8uW2NdO1xuICAgICAgICBpZiAodGlsZVZhbHVlID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuXG4gICAgICAgIGNvbnN0IHNjcmVlblggPSBNYXRoLmZsb29yKGMgKiB0aGlzLnRpbGVTaXplICsgb2Zmc2V0WCk7XG4gICAgICAgIGNvbnN0IHNjcmVlblkgPSBNYXRoLmZsb29yKHIgKiB0aGlzLnRpbGVTaXplICsgb2Zmc2V0WSk7XG4gICAgICAgIC8vIEdldCB0aGUgY29sb3IgLSBub3cgY29uc2lzdGVudCBmb3Igd2FsbHMvY29ycmlkb3JzL2RlZmF1bHQgZmxvb3IvbGlmdFxuICAgICAgICBjb25zdCBjb2xvciA9IHRoaXMuZ2V0VGlsZUNvbG9yKHIsIGMsIHRpbGVWYWx1ZSwgcm9vbXMpO1xuXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICAgICAgY3R4LmZpbGxSZWN0KHNjcmVlblgsIHNjcmVlblksIHRoaXMudGlsZVNpemUsIHRoaXMudGlsZVNpemUpO1xuXG4gICAgICAgIC8vIC0tLSBXYWxsIEVkZ2VzIGFuZCBOb2lzZSAoU3RpbGwgQXBwbGllZCBmb3IgRGV0YWlsKSAtLS1cbiAgICAgICAgaWYgKHRpbGVWYWx1ZSA9PT0gVElMRV9XQUxMKSB7XG4gICAgICAgICAgLy8gTm9pc2UgdGV4dHVyZSAoYXBwbGllZCBPTiBUT1Agb2YgdGhlIGNvbnNpc3RlbnQgYmFzZSBjb2xvcilcbiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwwLDAsMC4wNiknO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7XG4gICAgICAgICAgICBjdHguZmlsbFJlY3QoXG4gICAgICAgICAgICAgIHNjcmVlblggKyBNYXRoLnJhbmRvbSgpICogdGhpcy50aWxlU2l6ZSxcbiAgICAgICAgICAgICAgc2NyZWVuWSArIE1hdGgucmFuZG9tKCkgKiB0aGlzLnRpbGVTaXplLFxuICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgICAxXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEVkZ2UgcmVuZGVyaW5nIChhcHBsaWVkIE9OIFRPUClcbiAgICAgICAgICBjb25zdCBlZGdlU2l6ZSA9IDI7XG4gICAgICAgICAgaWYgKHIgPiAwICYmIG1hcFtyIC0gMV0/LltjXSAhPT0gVElMRV9XQUxMKSB7XG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gd2FsbFRvcEVkZ2VDb2xvcjtcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdChzY3JlZW5YLCBzY3JlZW5ZLCB0aGlzLnRpbGVTaXplLCBlZGdlU2l6ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChyIDwgcm93cyAtIDEgJiYgbWFwW3IgKyAxXT8uW2NdICE9PSBUSUxFX1dBTEwpIHtcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB3YWxsRWRnZUNvbG9yRGFyaztcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdChzY3JlZW5YLCBzY3JlZW5ZICsgdGhpcy50aWxlU2l6ZSAtIGVkZ2VTaXplLCB0aGlzLnRpbGVTaXplLCBlZGdlU2l6ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjID4gMCAmJiBtYXBbcl0/LltjIC0gMV0gIT09IFRJTEVfV0FMTCkge1xuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHdhbGxFZGdlQ29sb3JMaWdodDtcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdChzY3JlZW5YLCBzY3JlZW5ZICsgZWRnZVNpemUsIGVkZ2VTaXplLCB0aGlzLnRpbGVTaXplIC0gZWRnZVNpemUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYyA8IGNvbHMgLSAxICYmIG1hcFtyXT8uW2MgKyAxXSAhPT0gVElMRV9XQUxMKSB7XG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gd2FsbEVkZ2VDb2xvckRhcms7XG4gICAgICAgICAgICBjdHguZmlsbFJlY3QoXG4gICAgICAgICAgICAgIHNjcmVlblggKyB0aGlzLnRpbGVTaXplIC0gZWRnZVNpemUsXG4gICAgICAgICAgICAgIHNjcmVlblkgKyBlZGdlU2l6ZSxcbiAgICAgICAgICAgICAgZWRnZVNpemUsXG4gICAgICAgICAgICAgIHRoaXMudGlsZVNpemUgLSBlZGdlU2l6ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gQ29ybmVyIGxvZ2ljIChyZW1haW5zIHRoZSBzYW1lKVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHIgPiAwICYmXG4gICAgICAgICAgICBjID4gMCAmJlxuICAgICAgICAgICAgbWFwW3IgLSAxXT8uW2NdICE9PSBUSUxFX1dBTEwgJiZcbiAgICAgICAgICAgIG1hcFtyXT8uW2MgLSAxXSAhPT0gVElMRV9XQUxMICYmXG4gICAgICAgICAgICBtYXBbciAtIDFdPy5bYyAtIDFdICE9PSBUSUxFX1dBTExcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB3YWxsRWRnZUNvbG9yTGlnaHQ7XG4gICAgICAgICAgICBjdHguZmlsbFJlY3Qoc2NyZWVuWCwgc2NyZWVuWSwgZWRnZVNpemUsIGVkZ2VTaXplKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgciA+IDAgJiZcbiAgICAgICAgICAgIGMgPCBjb2xzIC0gMSAmJlxuICAgICAgICAgICAgbWFwW3IgLSAxXT8uW2NdICE9PSBUSUxFX1dBTEwgJiZcbiAgICAgICAgICAgIG1hcFtyXT8uW2MgKyAxXSAhPT0gVElMRV9XQUxMICYmXG4gICAgICAgICAgICBtYXBbciAtIDFdPy5bYyArIDFdICE9PSBUSUxFX1dBTExcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB3YWxsVG9wRWRnZUNvbG9yO1xuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KHNjcmVlblggKyB0aGlzLnRpbGVTaXplIC0gZWRnZVNpemUsIHNjcmVlblksIGVkZ2VTaXplLCBlZGdlU2l6ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIC4uLiBwb3RlbnRpYWxseSBvdGhlciBjb3JuZXJzXG4gICAgICAgIH0gZWxzZSBpZiAodGlsZVZhbHVlID09PSBUSUxFX0NPUlJJRE9SKSB7XG4gICAgICAgICAgLy8gQ29ycmlkb3IgTm9pc2UgKGFwcGxpZWQgT04gVE9QIG9mIHRoZSBjb25zaXN0ZW50IGJhc2UgY29sb3IpXG4gICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwyNTUsMjU1LDAuMDMpJztcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KFxuICAgICAgICAgICAgICBzY3JlZW5YICsgTWF0aC5yYW5kb20oKSAqIHRoaXMudGlsZVNpemUsXG4gICAgICAgICAgICAgIHNjcmVlblkgKyBNYXRoLnJhbmRvbSgpICogdGhpcy50aWxlU2l6ZSxcbiAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gTk9URTogTm8gc3BlY2lhbCBkcmF3aW5nIG5lZWRlZCBoZXJlIGZvciBUSUxFX1JPT01fRkxPT1Igb3IgVElMRV9MSUZUXG4gICAgICAgIC8vIGFzIGRyYXdSb29tRGV0YWlscyBhbmQgZHJhd0xpZnREZXRhaWxzIGhhbmRsZSB0aGVpciBzcGVjaWZpY3MuXG4gICAgICB9XG4gICAgfVxuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH1cblxuICAvKiogRHJhdyBzcGVjaWZpYyByb29tIGZsb29ycyBhbmQgZGVjb3JhdGlvbnMgKi9cbiAgZHJhd1Jvb21EZXRhaWxzKFxuICAgIGN0eCxcbiAgICBtYXAsXG4gICAgcm9vbXMsXG4gICAgbGlmdFBvc2l0aW9uLFxuICAgIG9mZnNldFgsXG4gICAgb2Zmc2V0WSxcbiAgICBjb2xzLFxuICAgIHJvd3MsXG4gICAgc3RhcnRSb3csXG4gICAgZW5kUm93LFxuICAgIHN0YXJ0Q29sLFxuICAgIGVuZENvbFxuICApIHtcbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC5zaGFkb3dDb2xvciA9ICd0cmFuc3BhcmVudCc7XG5cbiAgICBmb3IgKGNvbnN0IHJvb20gb2Ygcm9vbXMpIHtcbiAgICAgIGlmIChcbiAgICAgICAgcm9vbS5jb2wgKyByb29tLndpZHRoIDwgc3RhcnRDb2wgfHxcbiAgICAgICAgcm9vbS5jb2wgPiBlbmRDb2wgfHxcbiAgICAgICAgcm9vbS5yb3cgKyByb29tLmhlaWdodCA8IHN0YXJ0Um93IHx8XG4gICAgICAgIHJvb20ucm93ID4gZW5kUm93XG4gICAgICApXG4gICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICBjb25zdCByb29tU2NyZWVuWCA9IE1hdGguZmxvb3Iocm9vbS5jb2wgKiB0aGlzLnRpbGVTaXplICsgb2Zmc2V0WCk7XG4gICAgICBjb25zdCByb29tU2NyZWVuWSA9IE1hdGguZmxvb3Iocm9vbS5yb3cgKiB0aGlzLnRpbGVTaXplICsgb2Zmc2V0WSk7XG4gICAgICBjb25zdCByb29tU2NyZWVuVyA9IHJvb20ud2lkdGggKiB0aGlzLnRpbGVTaXplO1xuICAgICAgY29uc3Qgcm9vbVNjcmVlbkggPSByb29tLmhlaWdodCAqIHRoaXMudGlsZVNpemU7XG5cbiAgICAgIC8vIC0tLSBEZXRlcm1pbmUgRmxvb3IgQ29sb3IgQmFzZWQgb24gUm9vbSBUeXBlIChUaGlzIGxvZ2ljIHJlbWFpbnMpIC0tLVxuICAgICAgbGV0IGZsb29yQ29sb3IgPSB0aGlzLmJhc2VSb29tRmxvb3JDb2xvcjsgLy8gU3RhcnQgd2l0aCBkZWZhdWx0XG4gICAgICAvLyBVc2UgYSBzZWVkIHRoYXQgY2hhbmdlcyBwZXIgcm9vbSBidXQgaXMgY29uc2lzdGVudCBmb3IgdGhhdCByb29tXG4gICAgICAvLyBBZGRlZCBmbG9vck51bWJlciBkZXBlbmRlbmN5IGlmIGF2YWlsYWJsZSBpbiBgdGhpc2AsIG90aGVyd2lzZSB1c2Ugcm9vbS5pZFxuICAgICAgY29uc3QgZmxvb3JOdW0gPSB0eXBlb2YgdGhpcy5mbG9vck51bWJlciA9PT0gJ251bWJlcicgPyB0aGlzLmZsb29yTnVtYmVyIDogMDtcbiAgICAgIGxldCByb29tU2VlZCA9IHNpbXBsZUhhc2gocm9vbS5pZCkgKyBmbG9vck51bSAqIDEwMDsgLy8gVXNlIGhhc2ggb2YgSUQgZm9yIG1vcmUgdmFyaWF0aW9uXG5cbiAgICAgIHN3aXRjaCAocm9vbS50eXBlKSB7XG4gICAgICAgIGNhc2UgJ2NsYXNzcm9vbSc6XG4gICAgICAgICAgZmxvb3JDb2xvciA9IGFkanVzdENvbG9yQnJpZ2h0bmVzcygnI2EwYzhlMCcsIDAuOSArIChzaW1wbGVIYXNoKHJvb21TZWVkKSAlIDExKSAvIDEwMCk7XG4gICAgICAgICAgYnJlYWs7IC8vIEJsdWlzaFxuICAgICAgICBjYXNlICdvZmZpY2UnOlxuICAgICAgICAgIGZsb29yQ29sb3IgPSBhZGp1c3RDb2xvckJyaWdodG5lc3MoXG4gICAgICAgICAgICAnI2YwZThjMCcsXG4gICAgICAgICAgICAwLjkgKyAoc2ltcGxlSGFzaChyb29tU2VlZCArIDEpICUgMTEpIC8gMTAwXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhazsgLy8gQmVpZ2VcbiAgICAgICAgY2FzZSAnbGlicmFyeSc6XG4gICAgICAgICAgZmxvb3JDb2xvciA9IGFkanVzdENvbG9yQnJpZ2h0bmVzcyhcbiAgICAgICAgICAgICcjZDhjMGE4JyxcbiAgICAgICAgICAgIDAuOSArIChzaW1wbGVIYXNoKHJvb21TZWVkICsgMikgJSAxMSkgLyAxMDBcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrOyAvLyBXb29kZW5cbiAgICAgICAgY2FzZSAnZ3ltJzpcbiAgICAgICAgICBmbG9vckNvbG9yID0gYWRqdXN0Q29sb3JCcmlnaHRuZXNzKFxuICAgICAgICAgICAgJyNiMGQwYjAnLFxuICAgICAgICAgICAgMC45ICsgKHNpbXBsZUhhc2gocm9vbVNlZWQgKyAzKSAlIDExKSAvIDEwMFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7IC8vIEdyZWVuaXNoXG4gICAgICAgIGNhc2UgJ2xhYic6XG4gICAgICAgICAgZmxvb3JDb2xvciA9IGFkanVzdENvbG9yQnJpZ2h0bmVzcyhcbiAgICAgICAgICAgICcjZTBlMGZmJyxcbiAgICAgICAgICAgIDAuOSArIChzaW1wbGVIYXNoKHJvb21TZWVkICsgNCkgJSAxMSkgLyAxMDBcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrOyAvLyBMaWdodCBibHVlLXB1cnBsZVxuICAgICAgICBjYXNlICdzdG9yYWdlJzpcbiAgICAgICAgICBmbG9vckNvbG9yID0gYWRqdXN0Q29sb3JCcmlnaHRuZXNzKFxuICAgICAgICAgICAgJyNiMGEwOTAnLFxuICAgICAgICAgICAgMC45ICsgKHNpbXBsZUhhc2gocm9vbVNlZWQgKyA1KSAlIDExKSAvIDEwMFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7IC8vIEdyYXktYnJvd25cbiAgICAgICAgY2FzZSAndXRpbGl0eSc6XG4gICAgICAgICAgZmxvb3JDb2xvciA9IGFkanVzdENvbG9yQnJpZ2h0bmVzcyhcbiAgICAgICAgICAgICcjYjBiMGIwJyxcbiAgICAgICAgICAgIDAuOSArIChzaW1wbGVIYXNoKHJvb21TZWVkICsgNikgJSAxMSkgLyAxMDBcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrOyAvLyBHcmF5IGNvbmNyZXRlXG4gICAgICB9XG5cbiAgICAgIC8vIC0tLSBEcmF3IFJvb20gRmxvb3IgKFRpbGUgYnkgVGlsZSB3aXRoaW4gVmlzaWJsZSBBcmVhKSAtLS1cbiAgICAgIGZvciAoXG4gICAgICAgIGxldCByID0gTWF0aC5tYXgocm9vbS5yb3csIHN0YXJ0Um93KTtcbiAgICAgICAgciA8IE1hdGgubWluKHJvb20ucm93ICsgcm9vbS5oZWlnaHQsIGVuZFJvdyk7XG4gICAgICAgIHIrK1xuICAgICAgKSB7XG4gICAgICAgIGZvciAoXG4gICAgICAgICAgbGV0IGMgPSBNYXRoLm1heChyb29tLmNvbCwgc3RhcnRDb2wpO1xuICAgICAgICAgIGMgPCBNYXRoLm1pbihyb29tLmNvbCArIHJvb20ud2lkdGgsIGVuZENvbCk7XG4gICAgICAgICAgYysrXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IHRpbGVWYWx1ZSA9IG1hcFtyXT8uW2NdO1xuICAgICAgICAgIC8vIE9ubHkgZHJhdyBpZiBpdCdzIGFjdHVhbGx5IGEgVElMRV9ST09NX0ZMT09SXG4gICAgICAgICAgaWYgKHRpbGVWYWx1ZSA9PT0gVElMRV9ST09NX0ZMT09SKSB7XG4gICAgICAgICAgICBjb25zdCBzY3JlZW5YID0gTWF0aC5mbG9vcihjICogdGhpcy50aWxlU2l6ZSArIG9mZnNldFgpO1xuICAgICAgICAgICAgY29uc3Qgc2NyZWVuWSA9IE1hdGguZmxvb3IociAqIHRoaXMudGlsZVNpemUgKyBvZmZzZXRZKTtcblxuICAgICAgICAgICAgLy8gLS0tIFN1YnRsZSBQZXItVGlsZSBWYXJpYXRpb24gV0lUSElOIFJvb20gRmxvb3IgKEtlcHQgZm9yIHRleHR1cmUpIC0tLVxuICAgICAgICAgICAgY29uc3QgdGlsZUhhc2ggPSBzaW1wbGVIYXNoKHIgKiA1MDAwICsgYyAqIDMgKyByb29tU2VlZCk7IC8vIEluY2x1ZGUgcm9vbVNlZWRcbiAgICAgICAgICAgIGNvbnN0IHZhcmlhdGlvbiA9ICgodGlsZUhhc2ggJSAxMSkgLSA1KSAvIDEwMDsgLy8gVmFyaWF0aW9uIC0wLjA1IHRvICswLjA1XG4gICAgICAgICAgICBjb25zdCBicmlnaHRuZXNzRmFjdG9yID0gMC45OCArIHZhcmlhdGlvbjtcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBhZGp1c3RDb2xvckJyaWdodG5lc3MoZmxvb3JDb2xvciwgYnJpZ2h0bmVzc0ZhY3Rvcik7XG4gICAgICAgICAgICAvLyAtLS0gRW5kIFBlci1UaWxlIFZhcmlhdGlvbiAtLS1cblxuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KHNjcmVlblgsIHNjcmVlblksIHRoaXMudGlsZVNpemUsIHRoaXMudGlsZVNpemUpO1xuXG4gICAgICAgICAgICAvLyBPcHRpb25hbCBmbG9vciB0ZXh0dXJlIChyZW1haW5zIHRoZSBzYW1lKVxuICAgICAgICAgICAgaWYgKHJvb20udHlwZSA9PT0gJ2xhYicpIHtcbiAgICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJ3JnYmEoMCwwLDAsMC4wOCknO1xuICAgICAgICAgICAgICBjdHgubGluZVdpZHRoID0gMTtcbiAgICAgICAgICAgICAgY3R4LnN0cm9rZVJlY3Qoc2NyZWVuWCArIDAuNSwgc2NyZWVuWSArIDAuNSwgdGhpcy50aWxlU2l6ZSAtIDEsIHRoaXMudGlsZVNpemUgLSAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gLS0tIERyYXcgRGVjb3JhdGlvbnMgKHJlbWFpbnMgdGhlIHNhbWUpIC0tLVxuICAgICAgdGhpcy5kcmF3Um9vbURlY29yYXRpb25zKGN0eCwgcm9vbSwgcm9vbVNjcmVlblgsIHJvb21TY3JlZW5ZLCByb29tU2NyZWVuVywgcm9vbVNjcmVlbkgpO1xuICAgIH1cbiAgICBjdHgucmVzdG9yZSgpO1xuICB9XG5cbiAgLy8gLS0tIGRyYXdMaWZ0RGV0YWlscywgZHJhd1Jvb21EZWNvcmF0aW9ucywgZHJhd0Jvb2tzIHJlbWFpbiB1bmNoYW5nZWQgLS0tXG4gIC8vIC4uLiAoa2VlcCB0aGUgZXhpc3RpbmcgY29kZSBmb3IgdGhlc2UgbWV0aG9kcykgLi4uXG4gIC8qKiBOYXJ5c3VqIGRldGFsZSB3aW5keSAocHJ6eWNpc2ssIGtvbnR1cikgKi9cbiAgZHJhd0xpZnREZXRhaWxzKGN0eCwgbGlmdFBvc2l0aW9uLCBvZmZzZXRYLCBvZmZzZXRZKSB7XG4gICAgaWYgKCFsaWZ0UG9zaXRpb24pIHJldHVybjtcblxuICAgIGNvbnN0IHNjcmVlblggPSBNYXRoLmZsb29yKGxpZnRQb3NpdGlvbi50aWxlWCAqIHRoaXMudGlsZVNpemUgKyBvZmZzZXRYKTtcbiAgICBjb25zdCBzY3JlZW5ZID0gTWF0aC5mbG9vcihsaWZ0UG9zaXRpb24udGlsZVkgKiB0aGlzLnRpbGVTaXplICsgb2Zmc2V0WSk7XG5cbiAgICAvLyBTcHJhd2TFuiwgY3p5IHdpbmRhIGplc3Qgd2lkb2N6bmEgcHJ6ZWQgcnlzb3dhbmllbSBkZXRhbGlcbiAgICBpZiAoXG4gICAgICBzY3JlZW5YICsgdGhpcy50aWxlU2l6ZSA8IDAgfHxcbiAgICAgIHNjcmVlblggPiBjdHguY2FudmFzLndpZHRoIHx8XG4gICAgICBzY3JlZW5ZICsgdGhpcy50aWxlU2l6ZSA8IDAgfHxcbiAgICAgIHNjcmVlblkgPiBjdHguY2FudmFzLmhlaWdodFxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LnNoYWRvd0NvbG9yID0gJ3RyYW5zcGFyZW50JzsgLy8gQnJhayBjaWVuaWEgZGxhIGRldGFsaSB3aW5keVxuXG4gICAgLy8gV3lyYcW6bmllanN6YSByYW1rYSB3aW5keVxuICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjZDBkMGQwJzsgLy8gSmFzbmEgcmFta2FcbiAgICBjdHgubGluZVdpZHRoID0gMTtcbiAgICBjdHguc3Ryb2tlUmVjdChzY3JlZW5YICsgMC41LCBzY3JlZW5ZICsgMC41LCB0aGlzLnRpbGVTaXplIC0gMSwgdGhpcy50aWxlU2l6ZSAtIDEpO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjNDA0MDQwJzsgLy8gQ2llbW55IHdld27EmXRyem55IGNpZcWEXG4gICAgY3R4LnN0cm9rZVJlY3Qoc2NyZWVuWCArIDEuNSwgc2NyZWVuWSArIDEuNSwgdGhpcy50aWxlU2l6ZSAtIDMsIHRoaXMudGlsZVNpemUgLSAzKTtcblxuICAgIC8vIFVsZXBzem9ueSBwcnp5Y2lza1xuICAgIGNvbnN0IGJ1dHRvblJhZGl1cyA9IHRoaXMudGlsZVNpemUgKiAwLjE1OyAvLyBUcm9jaMSZIHdpxJlrc3p5XG4gICAgY29uc3QgYnV0dG9uWCA9IHNjcmVlblggKyB0aGlzLnRpbGVTaXplICogMC44O1xuICAgIGNvbnN0IGJ1dHRvblkgPSBzY3JlZW5ZICsgdGhpcy50aWxlU2l6ZSAqIDAuNTtcblxuICAgIC8vIFBvZHN0YXdhIHByenljaXNrdSAoY2llbW5pZWpzemEpXG4gICAgY3R4LmZpbGxTdHlsZSA9ICcjNDQ0JztcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmFyYyhidXR0b25YLCBidXR0b25ZLCBidXR0b25SYWRpdXMsIDAsIE1hdGguUEkgKiAyKTtcbiAgICBjdHguZmlsbCgpO1xuXG4gICAgLy8gU2FtIHByenljaXNrIChjemVyd29ueSlcbiAgICBjdHguZmlsbFN0eWxlID0gJyNmZjQ0NDQnO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguYXJjKGJ1dHRvblgsIGJ1dHRvblksIGJ1dHRvblJhZGl1cyAqIDAuOCwgMCwgTWF0aC5QSSAqIDIpO1xuICAgIGN0eC5maWxsKCk7XG5cbiAgICAvLyBPZGJsYXNrIG5hIHByenljaXNrdVxuICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpJztcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmFyYyhcbiAgICAgIGJ1dHRvblggLSBidXR0b25SYWRpdXMgKiAwLjIsXG4gICAgICBidXR0b25ZIC0gYnV0dG9uUmFkaXVzICogMC4yLFxuICAgICAgYnV0dG9uUmFkaXVzICogMC4zLFxuICAgICAgMCxcbiAgICAgIE1hdGguUEkgKiAyXG4gICAgKTtcbiAgICBjdHguZmlsbCgpO1xuXG4gICAgY3R4LnJlc3RvcmUoKTtcbiAgfVxuXG4gIC8qKiBOYXJ5c3VqIGRla29yYWNqZSBkbGEga29ua3JldG5lZ28gcG9rb2p1ICovXG4gIGRyYXdSb29tRGVjb3JhdGlvbnMoY3R4LCByb29tLCB4LCB5LCB3LCBoKSB7XG4gICAgLy8geCwgeSB0byBsZXd5IGfDs3JueSByw7NnIHBva29qdSBuYSBla3JhbmllXG4gICAgLy8gdywgaCB0byBzemVyb2tvxZvEhyBpIHd5c29rb8WbxIcgcG9rb2p1IG5hIGVrcmFuaWVcbiAgICBjb25zdCB0cyA9IHRoaXMudGlsZVNpemU7XG4gICAgY29uc3QgbWFyZ2luID0gdHMgKiAwLjI7IC8vIE1uaWVqc3p5IG1hcmdpbmVzXG4gICAgY29uc3Qgb2JqTWFyZ2luID0gdHMgKiAwLjE7IC8vIE9kc3TEmXAgbWnEmWR6eSBvYmlla3RhbWlcbiAgICBjdHgubGluZVdpZHRoID0gMTtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSAnIzQ0NCc7IC8vIENpZW1uaWVqc3phIGRvbXnFm2xuYSBvYnfDs2RrYVxuXG4gICAgLy8gPT09IEZVTktDSkUgUE9NT0NOSUNaRSBETyBSWVNPV0FOSUEgPT09XG4gICAgY29uc3QgZHJhd1JlY3QgPSAocngsIHJ5LCBydywgcmgsIGNvbG9yLCBvdXRsaW5lID0gdHJ1ZSkgPT4ge1xuICAgICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yO1xuICAgICAgY29uc3Qgc2NyZWVuWCA9IE1hdGguZmxvb3IoeCArIHJ4KTtcbiAgICAgIGNvbnN0IHNjcmVlblkgPSBNYXRoLmZsb29yKHkgKyByeSk7XG4gICAgICBjb25zdCBzY3JlZW5XID0gTWF0aC5mbG9vcihydyk7XG4gICAgICBjb25zdCBzY3JlZW5IID0gTWF0aC5mbG9vcihyaCk7XG4gICAgICBjdHguZmlsbFJlY3Qoc2NyZWVuWCwgc2NyZWVuWSwgc2NyZWVuVywgc2NyZWVuSCk7XG4gICAgICBpZiAob3V0bGluZSkge1xuICAgICAgICBjdHguc3Ryb2tlUmVjdChzY3JlZW5YICsgMC41LCBzY3JlZW5ZICsgMC41LCBzY3JlZW5XIC0gMSwgc2NyZWVuSCAtIDEpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgZHJhd0NpcmNsZSA9IChjeCwgY3ksIHJhZGl1cywgY29sb3IsIG91dGxpbmUgPSB0cnVlKSA9PiB7XG4gICAgICBjdHguZmlsbFN0eWxlID0gY29sb3I7XG4gICAgICBjb25zdCBzY3JlZW5YID0gTWF0aC5mbG9vcih4ICsgY3gpO1xuICAgICAgY29uc3Qgc2NyZWVuWSA9IE1hdGguZmxvb3IoeSArIGN5KTtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5hcmMoc2NyZWVuWCwgc2NyZWVuWSwgTWF0aC5mbG9vcihyYWRpdXMpLCAwLCBNYXRoLlBJICogMik7XG4gICAgICBjdHguZmlsbCgpO1xuICAgICAgaWYgKG91dGxpbmUpIHtcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBzd2l0Y2ggKHJvb20udHlwZSkge1xuICAgICAgY2FzZSAnY2xhc3Nyb29tJzogLy8gU2FsYSBsZWtjeWpuYVxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnIzVkNDAzNyc7IC8vIEJyxIV6b3dhIG9id8OzZGthIGRsYSBtZWJsaVxuICAgICAgICBjb25zdCBkZXNrVyA9IHRzICogMC42LFxuICAgICAgICAgIGRlc2tIID0gdHMgKiAwLjQsXG4gICAgICAgICAgY2hhaXJIID0gdHMgKiAwLjI1O1xuICAgICAgICBjb25zdCBzcGFjZVggPSB0cyAqIDEuMCxcbiAgICAgICAgICBzcGFjZVkgPSB0cyAqIDAuOTtcbiAgICAgICAgLy8gVGFibGljYSBuYSBnw7NybmVqIMWbY2lhbmllXG4gICAgICAgIGRyYXdSZWN0KHcgKiAwLjI1LCBtYXJnaW4sIHcgKiAwLjUsIHRzICogMC4yLCAnIzMzMycsIHRydWUpO1xuICAgICAgICBkcmF3UmVjdCh3ICogMC4yNSArIDIsIG1hcmdpbiArIDIsIHcgKiAwLjUgLSA0LCB0cyAqIDAuMiAtIDQsICcjNENBRjUwJywgZmFsc2UpOyAvLyBaaWVsb25hIHBvd2llcnpjaG5pYVxuXG4gICAgICAgIC8vIMWBYXdraSBpIGtyemVzxYJhIHcgcnrEmWRhY2hcbiAgICAgICAgZm9yIChsZXQgciA9IDA7IDsgcisrKSB7XG4gICAgICAgICAgY29uc3Qgcm93WSA9IG1hcmdpbiArIHRzICogMC41ICsgciAqIHNwYWNlWTtcbiAgICAgICAgICBpZiAocm93WSArIGRlc2tIICsgY2hhaXJIID4gaCAtIG1hcmdpbikgYnJlYWs7IC8vIFNwcmF3ZHplbmllIGN6eSB6bWllxZtjaSBzacSZIHJ6xIVkXG4gICAgICAgICAgZm9yIChsZXQgYyA9IDA7IDsgYysrKSB7XG4gICAgICAgICAgICBjb25zdCBjb2xYID0gbWFyZ2luICsgYyAqIHNwYWNlWDtcbiAgICAgICAgICAgIGlmIChjb2xYICsgZGVza1cgPiB3IC0gbWFyZ2luKSBicmVhazsgLy8gU3ByYXdkemVuaWUgY3p5IHptaWXFm2NpIHNpxJkga29sdW1uYVxuICAgICAgICAgICAgLy8gxYFhd2thXG4gICAgICAgICAgICBkcmF3UmVjdChjb2xYLCByb3dZLCBkZXNrVywgZGVza0gsICcjOEI0NTEzJyk7XG4gICAgICAgICAgICAvLyBLcnplc8WCbyBwb25pxbxlalxuICAgICAgICAgICAgZHJhd1JlY3QoY29sWCArIGRlc2tXICogMC4xLCByb3dZICsgZGVza0ggKyBvYmpNYXJnaW4sIGRlc2tXICogMC44LCBjaGFpckgsICcjNmE0YTNhJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdvZmZpY2UnOiAvLyBCaXVyb1xuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnIzVkNDAzNyc7XG4gICAgICAgIC8vIEJpdXJrb1xuICAgICAgICBjb25zdCB0YWJsZVcgPSBNYXRoLm1pbih3ICogMC42LCB0cyAqIDIuNSk7XG4gICAgICAgIGNvbnN0IHRhYmxlSCA9IE1hdGgubWluKGggKiAwLjQsIHRzICogMS4yKTtcbiAgICAgICAgZHJhd1JlY3QobWFyZ2luLCBtYXJnaW4sIHRhYmxlVywgdGFibGVILCAnI2EwNTIyZCcpO1xuICAgICAgICAvLyBLcnplc8WCbyBiaXVyb3dlXG4gICAgICAgIGRyYXdSZWN0KG1hcmdpbiArIHRhYmxlVyArIG9iak1hcmdpbiwgbWFyZ2luICsgdGFibGVIICogMC4xLCB0cyAqIDAuNiwgdHMgKiAwLjYsICcjNDQ0Jyk7XG4gICAgICAgIC8vIFN6YWZhIG5hIGFrdGFcbiAgICAgICAgY29uc3QgY2FiaW5ldFcgPSB0cyAqIDAuODtcbiAgICAgICAgZHJhd1JlY3QodyAtIG1hcmdpbiAtIGNhYmluZXRXLCBtYXJnaW4sIGNhYmluZXRXLCBoIC0gbWFyZ2luICogMiwgJyM2QjRGNDEnKTtcbiAgICAgICAgLy8gS29tcHV0ZXIgbmEgYml1cmt1IChzeW1ib2xpY3puaWUpXG4gICAgICAgIGRyYXdSZWN0KG1hcmdpbiArIG9iak1hcmdpbiwgbWFyZ2luICsgb2JqTWFyZ2luLCB0cyAqIDAuNSwgdHMgKiAwLjQsICcjMzMzJyk7IC8vIE1vbml0b3JcbiAgICAgICAgZHJhd1JlY3QoXG4gICAgICAgICAgbWFyZ2luICsgb2JqTWFyZ2luICsgdHMgKiAwLjEsXG4gICAgICAgICAgbWFyZ2luICsgb2JqTWFyZ2luICsgdHMgKiAwLjQgKyAyLFxuICAgICAgICAgIHRzICogMC4zLFxuICAgICAgICAgIHRzICogMC4xLFxuICAgICAgICAgICcjNTU1J1xuICAgICAgICApOyAvLyBLbGF3aWF0dXJhXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdsaWJyYXJ5JzogLy8gQmlibGlvdGVrYVxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnIzQwMmExMCc7IC8vIENpZW1uaWVqc3phIG9id8OzZGthIGRsYSByZWdhxYLDs3dcbiAgICAgICAgY29uc3Qgc2hlbGZXID0gdHMgKiAwLjY7XG4gICAgICAgIGNvbnN0IHNoZWxmU3BhY2luZyA9IHRzICogMS41O1xuICAgICAgICAvLyBSZWdhxYJ5IHcgcGlvbmllXG4gICAgICAgIGZvciAobGV0IHN4ID0gbWFyZ2luOyBzeCA8IHcgLSBtYXJnaW4gLSBzaGVsZlc7IHN4ICs9IHNoZWxmU3BhY2luZykge1xuICAgICAgICAgIGRyYXdSZWN0KHN4LCBtYXJnaW4sIHNoZWxmVywgaCAtIG1hcmdpbiAqIDIsICcjNjU0MzIxJyk7XG4gICAgICAgICAgLy8gTGluaWUgcMOzxYJla1xuICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICdyZ2JhKDAsMCwwLDAuMyknO1xuICAgICAgICAgIGZvciAobGV0IHNoZWxmWSA9IG1hcmdpbiArIHRzICogMC41OyBzaGVsZlkgPCBoIC0gbWFyZ2luOyBzaGVsZlkgKz0gdHMgKiAwLjcpIHtcbiAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGN0eC5tb3ZlVG8oeCArIHN4LCB5ICsgc2hlbGZZKTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oeCArIHN4ICsgc2hlbGZXLCB5ICsgc2hlbGZZKTtcbiAgICAgICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJyM0MDJhMTAnOyAvLyBQcnp5d3LDs8SHIGfFgsOzd255IGtvbG9yIG9id8OzZGtpXG4gICAgICAgIH1cbiAgICAgICAgLy8gU3TDs8WCIGRvIGN6eXRhbmlhIChqZcWbbGkgamVzdCBtaWVqc2NlKVxuICAgICAgICBpZiAodyA+IHNoZWxmU3BhY2luZyAqIDEuNSkge1xuICAgICAgICAgIGNvbnN0IHRhYmxlTGliWCA9IHNoZWxmVyArIG1hcmdpbiArICh3IC0gc2hlbGZXICogMiAtIG1hcmdpbiAqIDIgLSB0cyAqIDEuNSkgLyAyOyAvLyBXecWbcm9ka3VqIHN0w7PFgiBtacSZZHp5IHJlZ2HFgmFtaVxuICAgICAgICAgIGlmICh0YWJsZUxpYlggPiBzaGVsZlcgKyBtYXJnaW4pIHtcbiAgICAgICAgICAgIC8vIFVwZXduaWogc2nEmSwgxbxlIGplc3QgbWllanNjZVxuICAgICAgICAgICAgZHJhd1JlY3QodGFibGVMaWJYLCBoICogMC4zLCB0cyAqIDEuNSwgaCAqIDAuNCwgJyM5NjZGMzMnKTtcbiAgICAgICAgICAgIC8vIEtyemVzxYJhIHByenkgc3RvbGVcbiAgICAgICAgICAgIGRyYXdSZWN0KHRhYmxlTGliWCArIHRzICogMC4yLCBoICogMC4zIC0gdHMgKiAwLjMsIHRzICogMC41LCB0cyAqIDAuMjUsICcjNmE0YTNhJyk7XG4gICAgICAgICAgICBkcmF3UmVjdChcbiAgICAgICAgICAgICAgdGFibGVMaWJYICsgdHMgKiAwLjIsXG4gICAgICAgICAgICAgIGggKiAwLjMgKyBoICogMC40ICsgb2JqTWFyZ2luLFxuICAgICAgICAgICAgICB0cyAqIDAuNSxcbiAgICAgICAgICAgICAgdHMgKiAwLjI1LFxuICAgICAgICAgICAgICAnIzZhNGEzYSdcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdneW0nOiAvLyBTacWCb3duaWFcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJyM1NTUnO1xuICAgICAgICAvLyBNYXR5IGRvIMSHd2ljemXFhFxuICAgICAgICBkcmF3UmVjdChtYXJnaW4sIG1hcmdpbiwgdyAqIDAuNCwgaCAqIDAuMywgJyM3Nzg4OTknKTtcbiAgICAgICAgZHJhd1JlY3QodyAtIG1hcmdpbiAtIHcgKiAwLjMsIGggLSBtYXJnaW4gLSBoICogMC40LCB3ICogMC4zLCBoICogMC40LCAnIzc3ODg5OScpO1xuICAgICAgICAvLyBCaWXFvG5pYSAoc3ltYm9saWN6bmllKVxuICAgICAgICBkcmF3UmVjdCh3ICogMC42LCBtYXJnaW4sIHRzICogMC44LCB0cyAqIDEuOCwgJyMzMzMnKTtcbiAgICAgICAgZHJhd1JlY3QodyAqIDAuNiArIHRzICogMC4xLCBtYXJnaW4gKyB0cyAqIDAuMSwgdHMgKiAwLjYsIHRzICogMS42LCAnIzU1NScsIGZhbHNlKTtcbiAgICAgICAgLy8gxYFhd2VjemthXG4gICAgICAgIGRyYXdSZWN0KG1hcmdpbiwgaCAqIDAuNSwgdHMgKiAxLjUsIHRzICogMC40LCAnIzhCNDUxMycpO1xuICAgICAgICAvLyBTdG9qYWsgeiBjacSZxbxhcmthbWlcbiAgICAgICAgZHJhd1JlY3QodyAtIG1hcmdpbiAtIHRzICogMC41LCBtYXJnaW4sIHRzICogMC41LCB0cyAqIDEuNSwgJyM0NDQnKTtcbiAgICAgICAgZHJhd0NpcmNsZSh3IC0gbWFyZ2luIC0gdHMgKiAwLjI1LCBtYXJnaW4gKyB0cyAqIDAuMywgdHMgKiAwLjE1LCAnIzY2NicpO1xuICAgICAgICBkcmF3Q2lyY2xlKHcgLSBtYXJnaW4gLSB0cyAqIDAuMjUsIG1hcmdpbiArIHRzICogMC43LCB0cyAqIDAuMTUsICcjNjY2Jyk7XG4gICAgICAgIGRyYXdDaXJjbGUodyAtIG1hcmdpbiAtIHRzICogMC4yNSwgbWFyZ2luICsgdHMgKiAxLjEsIHRzICogMC4xNSwgJyM2NjYnKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2xhYic6IC8vIExhYm9yYXRvcml1bVxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnIzY2OCc7XG4gICAgICAgIC8vIFN0b8WCeSBsYWJvcmF0b3J5am5lIChkxYJ1Z2llKVxuICAgICAgICBjb25zdCBsYWJUYWJsZUggPSB0cyAqIDAuODtcbiAgICAgICAgZHJhd1JlY3QobWFyZ2luLCBtYXJnaW4sIHcgLSBtYXJnaW4gKiAyLCBsYWJUYWJsZUgsICcjZDBkMGQ4Jyk7IC8vIEphc25vc3phcnkgc3TDs8WCXG4gICAgICAgIGRyYXdSZWN0KG1hcmdpbiwgaCAtIG1hcmdpbiAtIGxhYlRhYmxlSCwgdyAtIG1hcmdpbiAqIDIsIGxhYlRhYmxlSCwgJyNkMGQwZDgnKTtcbiAgICAgICAgLy8gU3ByesSZdCBuYSBzdG/FgmFjaFxuICAgICAgICBkcmF3UmVjdChtYXJnaW4gKyB0cyAqIDAuMiwgbWFyZ2luICsgdHMgKiAwLjEsIHRzICogMC41LCB0cyAqIDAuNSwgJyM0YTkwZTInKTsgLy8gQ2/FmyBuaWViaWVza2llZ29cbiAgICAgICAgZHJhd1JlY3QobWFyZ2luICsgdHMgKiAxLjAsIG1hcmdpbiArIHRzICogMC4xLCB0cyAqIDAuMywgdHMgKiAwLjYsICcjZjVhNjIzJyk7IC8vIENvxZsgcG9tYXJhxYRjem93ZWdvXG4gICAgICAgIGRyYXdDaXJjbGUodyAtIG1hcmdpbiAqIDIgLSB0cyAqIDAuNCwgbWFyZ2luICsgbGFiVGFibGVIICogMC41LCB0cyAqIDAuMiwgJyNlMDQwNDAnLCB0cnVlKTsgLy8gQ2/FmyBjemVyd29uZWdvIG9rcsSFZ8WCZWdvXG4gICAgICAgIC8vIFN6YWZrYSB6IG9kY3p5bm5pa2FtaVxuICAgICAgICBkcmF3UmVjdChcbiAgICAgICAgICB3ICogMC40LFxuICAgICAgICAgIG1hcmdpbiArIGxhYlRhYmxlSCArIG9iak1hcmdpbixcbiAgICAgICAgICB0cyxcbiAgICAgICAgICBoIC0gbWFyZ2luICogMiAtIGxhYlRhYmxlSCAqIDIgLSBvYmpNYXJnaW4gKiAyLFxuICAgICAgICAgICcjYTBhMGIwJ1xuICAgICAgICApO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnc3RvcmFnZSc6IC8vIE1hZ2F6eW5cbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJyM0ZDQwMzAnO1xuICAgICAgICAvLyBQw7PFgmtpL3JlZ2HFgnkgbWV0YWxvd2VcbiAgICAgICAgY29uc3QgbWV0YWxTaGVsZlcgPSB3IC0gbWFyZ2luICogMjtcbiAgICAgICAgY29uc3QgbWV0YWxTaGVsZkggPSB0cyAqIDAuNTtcbiAgICAgICAgZHJhd1JlY3QobWFyZ2luLCBtYXJnaW4sIG1ldGFsU2hlbGZXLCBtZXRhbFNoZWxmSCwgJyM5ZTllOWUnKTtcbiAgICAgICAgZHJhd1JlY3QobWFyZ2luLCBoIC0gbWFyZ2luIC0gbWV0YWxTaGVsZkgsIG1ldGFsU2hlbGZXLCBtZXRhbFNoZWxmSCwgJyM5ZTllOWUnKTtcbiAgICAgICAgLy8gUHVkxYJhXG4gICAgICAgIGNvbnN0IGJveFNpemUgPSB0cyAqIDAuNjtcbiAgICAgICAgZHJhd1JlY3QobWFyZ2luICsgdHMgKiAwLjIsIG1hcmdpbiArIG1ldGFsU2hlbGZIICsgb2JqTWFyZ2luLCBib3hTaXplLCBib3hTaXplLCAnI2JmOGY2ZicpO1xuICAgICAgICBkcmF3UmVjdChtYXJnaW4gKyB0cyAqIDEuMCwgbWFyZ2luICsgbWV0YWxTaGVsZkggKyBvYmpNYXJnaW4sIGJveFNpemUsIGJveFNpemUsICcjYmY4ZjZmJyk7XG4gICAgICAgIGRyYXdSZWN0KFxuICAgICAgICAgIHcgLSBtYXJnaW4gLSBib3hTaXplICogMS41LFxuICAgICAgICAgIG1hcmdpbiArIG1ldGFsU2hlbGZIICsgb2JqTWFyZ2luICogMyxcbiAgICAgICAgICBib3hTaXplICogMS4yLFxuICAgICAgICAgIGJveFNpemUgKiAwLjgsXG4gICAgICAgICAgJyNiZjhmNmYnXG4gICAgICAgICk7XG4gICAgICAgIC8vIFN0YXJlIGJpdXJrbyB3IHJvZ3VcbiAgICAgICAgZHJhd1JlY3QodyAtIG1hcmdpbiAtIHRzLCBoIC0gbWFyZ2luIC0gdHMsIHRzICogMC44LCB0cyAqIDAuOCwgJyM2YTRhM2EnKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3V0aWxpdHknOiAvLyBQb21pZXN6Y3plbmllIGdvc3BvZGFyY3plXG4gICAgICBkZWZhdWx0OiAvLyBEb215xZtsbmUsIGplxZtsaSB0eXAgbmllem5hbnlcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJyM1ZDQwMzcnO1xuICAgICAgICAvLyBTa3J6eW5raS91cnrEhWR6ZW5pYVxuICAgICAgICBkcmF3UmVjdCh3ICogMC4xLCBoICogMC4xNSwgdyAqIDAuMywgaCAqIDAuMjUsICcjQTA1MjJEJyk7XG4gICAgICAgIGRyYXdSZWN0KHcgKiAwLjYsIGggKiAwLjUsIHcgKiAwLjMsIGggKiAwLjQsICcjQTA1MjJEJyk7XG4gICAgICAgIC8vIFN6YWZhIG1ldGFsb3dhXG4gICAgICAgIGRyYXdSZWN0KHcgLSBtYXJnaW4gLSB0cyAqIDAuNSwgbWFyZ2luLCB0cyAqIDAuNSwgaCAtIG1hcmdpbiAqIDIsICcjNzc3Jyk7XG4gICAgICAgIC8vIFJ1cnkva2FibGUgKHN5bWJvbGljem5pZSlcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJyM1NTUnO1xuICAgICAgICBjdHgubGluZVdpZHRoID0gMztcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHgubW92ZVRvKHggKyBtYXJnaW4sIHkgKyBoICogMC44KTtcbiAgICAgICAgY3R4LmxpbmVUbyh4ICsgdyAtIG1hcmdpbiwgeSArIGggKiAwLjgpO1xuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4Lm1vdmVUbyh4ICsgdyAqIDAuNywgeSArIG1hcmdpbik7XG4gICAgICAgIGN0eC5saW5lVG8oeCArIHcgKiAwLjcsIHkgKyBoIC0gbWFyZ2luKTtcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICBjdHgubGluZVdpZHRoID0gMTsgLy8gUHJ6eXdyw7PEhyBncnVib8WbxIcgbGluaWlcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLyoqIE5hcnlzdWoga3NpxIXFvGtpICovXG4gIGRyYXdCb29rcyhjdHgsIGJvb2tzLCBvZmZzZXRYLCBvZmZzZXRZLCBib29rSW1hZ2UpIHtcbiAgICBpZiAoIWJvb2tzIHx8IGJvb2tzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgIGNvbnN0IGRlZmF1bHRCb29rU2l6ZSA9IHRoaXMudGlsZVNpemUgKiAwLjY7XG5cbiAgICBmb3IgKGNvbnN0IGJvb2sgb2YgYm9va3MpIHtcbiAgICAgIGNvbnN0IGlzQ29sbGVjdGVkID0gYm9vay5pc0NvbGxlY3RlZCB8fCBib29rLmNvbGxlY3RlZDsgLy8gSGFuZGxlIGJvdGggcG90ZW50aWFsIHByb3BlcnRpZXNcbiAgICAgIGlmICghaXNDb2xsZWN0ZWQpIHtcbiAgICAgICAgY29uc3QgYm9va1NpemUgPSBib29rLnNpemUgfHwgZGVmYXVsdEJvb2tTaXplO1xuICAgICAgICAvLyBSb3VuZCBkcmF3aW5nIGNvb3JkaW5hdGVzXG4gICAgICAgIGNvbnN0IHNjcmVlblggPSBNYXRoLmZsb29yKGJvb2sueCArIG9mZnNldFggLSBib29rU2l6ZSAvIDIpO1xuICAgICAgICBjb25zdCBzY3JlZW5ZID0gTWF0aC5mbG9vcihib29rLnkgKyBvZmZzZXRZIC0gYm9va1NpemUgLyAyKTtcblxuICAgICAgICAvLyBCYXNpYyB2aXNpYmlsaXR5IGNoZWNrXG4gICAgICAgIGlmIChcbiAgICAgICAgICBzY3JlZW5YICsgYm9va1NpemUgPiAwICYmXG4gICAgICAgICAgc2NyZWVuWCA8IGN0eC5jYW52YXMud2lkdGggJiZcbiAgICAgICAgICBzY3JlZW5ZICsgYm9va1NpemUgPiAwICYmXG4gICAgICAgICAgc2NyZWVuWSA8IGN0eC5jYW52YXMuaGVpZ2h0XG4gICAgICAgICkge1xuICAgICAgICAgIC8vIFByZWZlciBib29rJ3Mgb3duIGRyYXcgbWV0aG9kIGlmIGF2YWlsYWJsZVxuICAgICAgICAgIGlmICh0eXBlb2YgYm9vay5kcmF3ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAvLyBQYXNzIHJvdW5kZWQgY29vcmRpbmF0ZXMgYW5kIHNpemVcbiAgICAgICAgICAgIGJvb2suZHJhdyhjdHgsIG9mZnNldFgsIG9mZnNldFksIGJvb2tJbWFnZSk7IC8vIGJvb2suZHJhdyBzaG91bGQgaGFuZGxlIGl0cyBvd24gcm91bmRpbmcgaWYgbmVlZGVkIGludGVybmFsbHlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRmFsbGJhY2sgZHJhd2luZ1xuICAgICAgICAgICAgaWYgKGJvb2tJbWFnZSkge1xuICAgICAgICAgICAgICAvLyBEcmF3IHdpdGggcm91bmRlZCBjb29yZGluYXRlc1xuICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKGJvb2tJbWFnZSwgc2NyZWVuWCwgc2NyZWVuWSwgYm9va1NpemUsIGJvb2tTaXplKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzhkNmU2Myc7IC8vIEJyb3duIGJvb2sgY29sb3JcbiAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KHNjcmVlblgsIHNjcmVlblksIGJvb2tTaXplLCBib29rU2l6ZSk7XG4gICAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjNWQ0MDM3JzsgLy8gRGFya2VyIG91dGxpbmVcbiAgICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDE7XG4gICAgICAgICAgICAgIGN0eC5zdHJva2VSZWN0KHNjcmVlblggKyAwLjUsIHNjcmVlblkgKyAwLjUsIGJvb2tTaXplIC0gMSwgYm9va1NpemUgLSAxKTsgLy8gRHJhdyBib3JkZXIgbW9yZSBjbGVhcmx5XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59IC8vIEVuZCBjbGFzcyBNYXBSZW5kZXJlclxuIiwiLy8gc3JjL21hcC9tYXBHZW5lcmF0b3IuanNcblxuaW1wb3J0IHtcbiAgVElMRV9XQUxMLFxuICBUSUxFX0NPUlJJRE9SLFxuICBUSUxFX1JPT01fRkxPT1IsXG4gIFRJTEVfTElGVCxcbiAgR1lNX0NIQU5DRV9PTl9GSVJTVF9GTE9PUixcbn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IHJhbmRvbUludCwgcGVyZm9ybUJGUyB9IGZyb20gJy4uL3V0aWxzL21hcC5qcyc7IC8vIEFzc3VtaW5nIHBlcmZvcm1CRlMgaXMgaW4gbWFwLmpzXG5cbi8vIC0tLSBNb2R1bGUtbGV2ZWwgc3RhdGUgZm9yIGxpZnQgY29uc2lzdGVuY3kgLS0tXG5sZXQgY29uc2lzdGVudExpZnRDb29yZHMgPSBudWxsO1xuXG4vLyAtLS0gR2VuZXJhdGlvbiBQYXJhbWV0ZXJzIChEZWZhdWx0cykgLS0tXG5jb25zdCBERUZBVUxUX0dFTl9QQVJBTVMgPSB7XG4gIG1pblJvb21TaXplOiA1LFxuICBtYXhSb29tU2l6ZTogMTAsXG4gIGNvcnJpZG9yVGhpY2tuZXNzOiAxLCAvLyBDdXJyZW50bHkgaGFyZGNvZGVkIHRvIDEgaW4gY2FydmluZyBmdW5jc1xuICBudW1Sb29tczogMTIsXG4gIG1heFJvb21BdHRlbXB0czogMjAwLFxuICByb29tVHlwZVdlaWdodHM6IHtcbiAgICBjbGFzc3Jvb206IDUwLFxuICAgIG9mZmljZTogMjUsXG4gICAgbGlicmFyeTogMTUsXG4gICAgZ3ltOiAwLCAvLyBCYXNlIHdlaWdodCwgYWRqdXN0ZWQgYmFzZWQgb24gZmxvb3JcbiAgICB1dGlsaXR5OiAxMCxcbiAgfSxcbn07XG5cbi8vIC0tLSBDb3JlIEdlbmVyYXRpb24gRnVuY3Rpb24gLS0tXG4vLyBJbiBnZW5lcmF0ZUxldmVsRGF0YSwgbWFrZSBzdXJlIHRvIHBhc3MgYHJvb21zYCB0byBgX3BsYWNlTGlmdGBcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUxldmVsRGF0YShjb25maWcpIHtcbiAgY29uc3QgeyBjb2xzLCByb3dzLCBmbG9vck51bWJlciwgbWluRmxvb3IsIHRpbGVTaXplLCBnZW5lcmF0aW9uUGFyYW1zOiB1c2VyUGFyYW1zIH0gPSBjb25maWc7XG4gIGNvbnN0IGdlblBhcmFtcyA9IHsgLi4uREVGQVVMVF9HRU5fUEFSQU1TLCAuLi51c2VyUGFyYW1zIH07XG5cbiAgZ2VuUGFyYW1zLnJvb21UeXBlV2VpZ2h0cy5neW0gPSBmbG9vck51bWJlciA9PT0gbWluRmxvb3IgPyBHWU1fQ0hBTkNFX09OX0ZJUlNUX0ZMT09SICogMTAwIDogMDtcblxuICBpZiAoZmxvb3JOdW1iZXIgPT09IG1pbkZsb29yKSB7XG4gICAgY29uc2lzdGVudExpZnRDb29yZHMgPSBudWxsO1xuICAgIGNvbnNvbGUubG9nKGBbTWFwR2VuIEZsb29yICR7Zmxvb3JOdW1iZXJ9XSBSZXNldCBjb25zaXN0ZW50IGxpZnQgY29vcmRzIGZvciB0aGUgZmlyc3QgZmxvb3IuYCk7XG4gIH1cblxuICBjb25zb2xlLmxvZyhgW01hcEdlbiBGbG9vciAke2Zsb29yTnVtYmVyfV0gU3RhcnRpbmcgbWFwIGdlbmVyYXRpb24gKCR7Y29sc314JHtyb3dzfSkuLi5gKTtcbiAgY29uc3QgbWFwID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogcm93cyB9LCAoKSA9PiBBcnJheShjb2xzKS5maWxsKFRJTEVfV0FMTCkpO1xuICBjb25zdCByb29tcyA9IFtdOyAvLyBUaGlzIGlzIHRoZSBgcm9vbXNMaXN0YFxuICBsZXQgbGlmdFBvc2l0aW9uID0gbnVsbDtcblxuICBfcGxhY2VSb29tcyhtYXAsIHJvb21zLCBjb2xzLCByb3dzLCBnZW5QYXJhbXMpOyAvLyByb29tcyBpcyBwb3B1bGF0ZWQgaGVyZVxuXG4gIGlmIChyb29tcy5sZW5ndGggPCAyICYmIGZsb29yTnVtYmVyICE9PSBtaW5GbG9vcikge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgIGBbTWFwR2VuIEZsb29yICR7Zmxvb3JOdW1iZXJ9XSBQbGFjZWQgb25seSAke3Jvb21zLmxlbmd0aH0gcm9vbXMuIEV4cGVjdCBsaW1pdGVkIGNvbm5lY3Rpdml0eS5gXG4gICAgKTtcbiAgfSBlbHNlIGlmIChyb29tcy5sZW5ndGggPj0gMikge1xuICAgIF9jb25uZWN0Um9vbXNCZXR0ZXIobWFwLCByb29tcywgY29scywgcm93cyk7XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IHBsYWNlZExpZnREYXRhID0gX3BsYWNlTGlmdChcbiAgICAgIG1hcCxcbiAgICAgIGNvbHMsXG4gICAgICByb3dzLFxuICAgICAgZmxvb3JOdW1iZXIsXG4gICAgICBtaW5GbG9vcixcbiAgICAgIHRpbGVTaXplLFxuICAgICAgY29uc2lzdGVudExpZnRDb29yZHMsXG4gICAgICByb29tcyAvLyBQQVNTIFRIRSBHRU5FUkFURUQgUk9PTVMgTElTVCBIRVJFXG4gICAgKTtcbiAgICBsaWZ0UG9zaXRpb24gPSBwbGFjZWRMaWZ0RGF0YS5wb3NpdGlvbjtcbiAgICBpZiAocGxhY2VkTGlmdERhdGEuY29vcmRzKSB7XG4gICAgICBjb25zaXN0ZW50TGlmdENvb3JkcyA9IHBsYWNlZExpZnREYXRhLmNvb3JkcztcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihgW01hcEdlbiBGbG9vciAke2Zsb29yTnVtYmVyfV0gQ1JJVElDQUw6IExpZnQgcGxhY2VtZW50IGZhaWxlZDpgLCBlcnJvcik7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBMaWZ0IHBsYWNlbWVudCBmYWlsZWQgb24gZmxvb3IgJHtmbG9vck51bWJlcn06ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgfVxuXG4gIF9lbnN1cmVNYXBCb3JkZXJzKG1hcCwgY29scywgcm93cyk7XG5cbiAgaWYgKGxpZnRQb3NpdGlvbiAmJiAhX2lzTGlmdFJlYWNoYWJsZShtYXAsIGxpZnRQb3NpdGlvbiwgY29scywgcm93cykpIHtcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICBgW01hcFZhbGlkYXRpb24gRmxvb3IgJHtmbG9vck51bWJlcn1dIExpZnQgYXQgdGlsZSgke2xpZnRQb3NpdGlvbi50aWxlWH0sICR7bGlmdFBvc2l0aW9uLnRpbGVZfSkgaW5pdGlhbGx5IHVucmVhY2hhYmxlLiBBdHRlbXB0aW5nIGZpbmFsIGZvcmNlIGNvbm5lY3Rpb24uYFxuICAgICk7XG4gICAgY29uc3QgY29ubmVjdGVkID0gX2ZvcmNlQ29ubmVjdGlvblRvUG9pbnQoXG4gICAgICBtYXAsXG4gICAgICBsaWZ0UG9zaXRpb24udGlsZVgsXG4gICAgICBsaWZ0UG9zaXRpb24udGlsZVksXG4gICAgICBjb2xzLFxuICAgICAgcm93c1xuICAgICk7XG4gICAgaWYgKCFjb25uZWN0ZWQgfHwgIV9pc0xpZnRSZWFjaGFibGUobWFwLCBsaWZ0UG9zaXRpb24sIGNvbHMsIHJvd3MpKSB7XG4gICAgICBjb25zdCBlcnJvck1zZyA9IGBDUklUSUNBTDogUGxhY2VkIGxpZnQgYXQgdGlsZSgke2xpZnRQb3NpdGlvbi50aWxlWH0sICR7bGlmdFBvc2l0aW9uLnRpbGVZfSkgaXMgVU5SRUFDSEFCTEUgZXZlbiBhZnRlciBmb3JjZSBjb25uZWN0ISBHZW5lcmF0aW9uIGZhaWxlZC5gO1xuICAgICAgY29uc29sZS5lcnJvcihgW01hcEdlbiBGbG9vciAke2Zsb29yTnVtYmVyfV0gJHtlcnJvck1zZ31gKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTGlmdCBpcyB1bnJlYWNoYWJsZSBvbiBmbG9vciAke2Zsb29yTnVtYmVyfS4gQ2Fubm90IHByb2NlZWQuYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICBgW01hcFZhbGlkYXRpb24gRmxvb3IgJHtmbG9vck51bWJlcn1dIExpZnQgY29ubmVjdGlvbiBzdWNjZXNzZnVsIGFmdGVyIHNlY29uZCBhdHRlbXB0LmBcbiAgICAgICk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGxpZnRQb3NpdGlvbikge1xuICAgIGNvbnNvbGUubG9nKFxuICAgICAgYFtNYXBWYWxpZGF0aW9uIEZsb29yICR7Zmxvb3JOdW1iZXJ9XSBMaWZ0IGF0IHRpbGUoJHtsaWZ0UG9zaXRpb24udGlsZVh9LCAke2xpZnRQb3NpdGlvbi50aWxlWX0pIGlzIHJlYWNoYWJsZS5gXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYE1hcCBnZW5lcmF0ZWQgd2l0aG91dCBhIHZhbGlkIGxpZnQgcG9zaXRpb24gb24gZmxvb3IgJHtmbG9vck51bWJlcn0uYCk7XG4gIH1cblxuICBjb25zb2xlLmxvZyhgW01hcEdlbiBGbG9vciAke2Zsb29yTnVtYmVyfV0gTWFwIGdlbmVyYXRpb24gY29tcGxldGVkIHN1Y2Nlc3NmdWxseS5gKTtcbiAgcmV0dXJuIHsgbWFwLCByb29tcywgbGlmdFBvc2l0aW9uIH07XG59XG5cbi8vIC0tLSBIZWxwZXI6IFBsYWNlIFJvb21zIC0tLVxuZnVuY3Rpb24gX3BsYWNlUm9vbXMobWFwLCByb29tcywgY29scywgcm93cywgZ2VuUGFyYW1zKSB7XG4gIGNvbnN0IHsgbWluUm9vbVNpemUsIG1heFJvb21TaXplLCBudW1Sb29tcywgbWF4Um9vbUF0dGVtcHRzLCByb29tVHlwZVdlaWdodHMgfSA9IGdlblBhcmFtcztcbiAgbGV0IHJvb21BdHRlbXB0cyA9IDA7XG5cbiAgY29uc3Qgd2VpZ2h0ZWRUeXBlcyA9IFtdO1xuICBsZXQgdG90YWxXZWlnaHQgPSAwO1xuICBmb3IgKGNvbnN0IHR5cGUgaW4gcm9vbVR5cGVXZWlnaHRzKSB7XG4gICAgY29uc3Qgd2VpZ2h0ID0gcm9vbVR5cGVXZWlnaHRzW3R5cGVdO1xuICAgIGlmICh3ZWlnaHQgPiAwKSB7XG4gICAgICB0b3RhbFdlaWdodCArPSB3ZWlnaHQ7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdlaWdodDsgaSsrKSB7XG4gICAgICAgIHdlaWdodGVkVHlwZXMucHVzaCh0eXBlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8gRW5zdXJlIHdlaWdodGVkVHlwZXMgaXMgbm90IGVtcHR5IGlmIGFsbCB3ZWlnaHRzIGFyZSAwIChlZGdlIGNhc2UpXG4gIGlmICh3ZWlnaHRlZFR5cGVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHdlaWdodGVkVHlwZXMucHVzaCgndXRpbGl0eScpOyAvLyBEZWZhdWx0IGZhbGxiYWNrXG4gICAgY29uc29sZS53YXJuKFxuICAgICAgXCJbTWFwR2VuIFJvb21zXSBObyByb29tIHR5cGUgd2VpZ2h0cyBwcm92aWRlZCBvciBhbGwgYXJlIHplcm8uIERlZmF1bHRpbmcgdG8gJ3V0aWxpdHknLlwiXG4gICAgKTtcbiAgfVxuXG4gIHdoaWxlIChyb29tcy5sZW5ndGggPCBudW1Sb29tcyAmJiByb29tQXR0ZW1wdHMgPCBtYXhSb29tQXR0ZW1wdHMpIHtcbiAgICByb29tQXR0ZW1wdHMrKztcbiAgICBjb25zdCByb29tV2lkdGggPSByYW5kb21JbnQobWluUm9vbVNpemUsIG1heFJvb21TaXplKTtcbiAgICBjb25zdCByb29tSGVpZ2h0ID0gcmFuZG9tSW50KG1pblJvb21TaXplLCBtYXhSb29tU2l6ZSk7XG4gICAgLy8gRW5zdXJlIHJvb20gZml0cyB3aXRoaW4gbWFwIGJvdW5kYXJpZXMgKGxlYXZpbmcgMS10aWxlIGJvcmRlcilcbiAgICBjb25zdCByb29tQ29sID0gcmFuZG9tSW50KDEsIGNvbHMgLSByb29tV2lkdGggLSAxKTtcbiAgICBjb25zdCByb29tUm93ID0gcmFuZG9tSW50KDEsIHJvd3MgLSByb29tSGVpZ2h0IC0gMSk7XG5cbiAgICBjb25zdCByb29tVHlwZSA9IHdlaWdodGVkVHlwZXNbcmFuZG9tSW50KDAsIHdlaWdodGVkVHlwZXMubGVuZ3RoIC0gMSldO1xuXG4gICAgY29uc3QgbmV3Um9vbSA9IHtcbiAgICAgIGNvbDogcm9vbUNvbCxcbiAgICAgIHJvdzogcm9vbVJvdyxcbiAgICAgIHdpZHRoOiByb29tV2lkdGgsXG4gICAgICBoZWlnaHQ6IHJvb21IZWlnaHQsXG4gICAgICB0eXBlOiByb29tVHlwZSxcbiAgICAgIGlkOiBgcm9vbV8ke3Jvb21zLmxlbmd0aCArIDF9YCxcbiAgICAgIGNlbnRlclRpbGVYOiBNYXRoLmZsb29yKHJvb21Db2wgKyByb29tV2lkdGggLyAyKSxcbiAgICAgIGNlbnRlclRpbGVZOiBNYXRoLmZsb29yKHJvb21Sb3cgKyByb29tSGVpZ2h0IC8gMiksXG4gICAgICBjb25uZWN0ZWQ6IGZhbHNlLFxuICAgIH07XG5cbiAgICBsZXQgb3ZlcmxhcHMgPSBmYWxzZTtcbiAgICBjb25zdCBidWZmZXIgPSAyOyAvLyBLZWVwIGEgYnVmZmVyIGJldHdlZW4gcm9vbXNcbiAgICBmb3IgKGNvbnN0IGV4aXN0aW5nUm9vbSBvZiByb29tcykge1xuICAgICAgaWYgKFxuICAgICAgICBuZXdSb29tLmNvbCA8IGV4aXN0aW5nUm9vbS5jb2wgKyBleGlzdGluZ1Jvb20ud2lkdGggKyBidWZmZXIgJiZcbiAgICAgICAgbmV3Um9vbS5jb2wgKyBuZXdSb29tLndpZHRoICsgYnVmZmVyID4gZXhpc3RpbmdSb29tLmNvbCAmJlxuICAgICAgICBuZXdSb29tLnJvdyA8IGV4aXN0aW5nUm9vbS5yb3cgKyBleGlzdGluZ1Jvb20uaGVpZ2h0ICsgYnVmZmVyICYmXG4gICAgICAgIG5ld1Jvb20ucm93ICsgbmV3Um9vbS5oZWlnaHQgKyBidWZmZXIgPiBleGlzdGluZ1Jvb20ucm93XG4gICAgICApIHtcbiAgICAgICAgb3ZlcmxhcHMgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIW92ZXJsYXBzKSB7XG4gICAgICByb29tcy5wdXNoKG5ld1Jvb20pO1xuICAgICAgLy8gQ2FydmUgcm9vbSBmbG9vclxuICAgICAgZm9yIChsZXQgciA9IG5ld1Jvb20ucm93OyByIDwgbmV3Um9vbS5yb3cgKyBuZXdSb29tLmhlaWdodDsgcisrKSB7XG4gICAgICAgIGZvciAobGV0IGMgPSBuZXdSb29tLmNvbDsgYyA8IG5ld1Jvb20uY29sICsgbmV3Um9vbS53aWR0aDsgYysrKSB7XG4gICAgICAgICAgLy8gRG91YmxlIGNoZWNrIGJvdW5kcyBqdXN0IGluIGNhc2UgY2FsY3VsYXRpb24gd2FzIG9mZlxuICAgICAgICAgIGlmIChyID49IDAgJiYgciA8IHJvd3MgJiYgYyA+PSAwICYmIGMgPCBjb2xzKSB7XG4gICAgICAgICAgICBtYXBbcl1bY10gPSBUSUxFX1JPT01fRkxPT1I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChyb29tcy5sZW5ndGggPCBudW1Sb29tcykge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgIGBbTWFwR2VuIFJvb21zXSBQbGFjZWQgb25seSAke3Jvb21zLmxlbmd0aH0vJHtudW1Sb29tc30gcm9vbXMgYWZ0ZXIgJHtyb29tQXR0ZW1wdHN9IGF0dGVtcHRzLmBcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKGBbTWFwR2VuIFJvb21zXSBQbGFjZWQgJHtyb29tcy5sZW5ndGh9IHJvb21zIGFmdGVyICR7cm9vbUF0dGVtcHRzfSBhdHRlbXB0cy5gKTtcbiAgfVxufVxuXG4vLyAtLS0gSGVscGVyOiBDb25uZWN0IFJvb21zIC0tLVxuZnVuY3Rpb24gX2Nvbm5lY3RSb29tc0JldHRlcihtYXAsIHJvb21zLCBjb2xzLCByb3dzKSB7XG4gIGlmIChyb29tcy5sZW5ndGggPCAyKSByZXR1cm47XG4gIGNvbnNvbGUubG9nKGBbTWFwR2VuIENvbm5lY3RdIENvbm5lY3RpbmcgJHtyb29tcy5sZW5ndGh9IHJvb21zIChpbXByb3ZlZCkuLi5gKTtcblxuICAvLyBVc2UgYSBTZXQgZm9yIGZhc3RlciBjaGVja2luZyBvZiBjb25uZWN0ZWQgc3RhdHVzXG4gIGNvbnN0IGNvbm5lY3RlZFNldCA9IG5ldyBTZXQoW3Jvb21zWzBdLmlkXSk7XG4gIGxldCB1bmNvbm5lY3RlZFJvb21zID0gcm9vbXMuc2xpY2UoMSk7IC8vIFN0YXJ0IHdpdGggYWxsIGJ1dCB0aGUgZmlyc3RcblxuICB3aGlsZSAodW5jb25uZWN0ZWRSb29tcy5sZW5ndGggPiAwKSB7XG4gICAgbGV0IGJlc3REaXN0YW5jZVNxID0gSW5maW5pdHk7XG4gICAgbGV0IGJlc3RVbmNvbm5lY3RlZFJvb20gPSBudWxsO1xuICAgIGxldCBiZXN0Q29ubmVjdGVkUm9vbUlkID0gbnVsbDsgLy8gU3RvcmUgSUQgb2YgdGhlIGNvbm5lY3RlZCByb29tXG4gICAgbGV0IGJlc3RVbmNvbm5lY3RlZEluZGV4ID0gLTE7XG5cbiAgICAvLyBGaW5kIHRoZSB1bmNvbm5lY3RlZCByb29tIGNsb3Nlc3QgdG8gQU5ZIGNvbm5lY3RlZCByb29tXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1bmNvbm5lY3RlZFJvb21zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCByb29tVSA9IHVuY29ubmVjdGVkUm9vbXNbaV07XG4gICAgICBmb3IgKGNvbnN0IHJvb21DIG9mIHJvb21zKSB7XG4gICAgICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCBBTEwgcm9vbXNcbiAgICAgICAgaWYgKGNvbm5lY3RlZFNldC5oYXMocm9vbUMuaWQpKSB7XG4gICAgICAgICAgLy8gQ2hlY2sgaWYgcm9vbUMgaXMgY29ubmVjdGVkXG4gICAgICAgICAgY29uc3QgZHggPSByb29tVS5jZW50ZXJUaWxlWCAtIHJvb21DLmNlbnRlclRpbGVYO1xuICAgICAgICAgIGNvbnN0IGR5ID0gcm9vbVUuY2VudGVyVGlsZVkgLSByb29tQy5jZW50ZXJUaWxlWTtcbiAgICAgICAgICBjb25zdCBkaXN0U3EgPSBkeCAqIGR4ICsgZHkgKiBkeTtcbiAgICAgICAgICBpZiAoZGlzdFNxIDwgYmVzdERpc3RhbmNlU3EpIHtcbiAgICAgICAgICAgIGJlc3REaXN0YW5jZVNxID0gZGlzdFNxO1xuICAgICAgICAgICAgYmVzdFVuY29ubmVjdGVkUm9vbSA9IHJvb21VO1xuICAgICAgICAgICAgYmVzdENvbm5lY3RlZFJvb21JZCA9IHJvb21DLmlkO1xuICAgICAgICAgICAgYmVzdFVuY29ubmVjdGVkSW5kZXggPSBpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChiZXN0VW5jb25uZWN0ZWRSb29tICYmIGJlc3RDb25uZWN0ZWRSb29tSWQgIT09IG51bGwpIHtcbiAgICAgIC8vIEZpbmQgdGhlIGFjdHVhbCBjb25uZWN0ZWQgcm9vbSBvYmplY3QgdXNpbmcgdGhlIElEXG4gICAgICBjb25zdCBiZXN0Q29ubmVjdGVkUm9vbSA9IHJvb21zLmZpbmQoKHIpID0+IHIuaWQgPT09IGJlc3RDb25uZWN0ZWRSb29tSWQpO1xuICAgICAgaWYgKCFiZXN0Q29ubmVjdGVkUm9vbSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIGBbTWFwR2VuIENvbm5lY3RdIEVycm9yOiBDb3VsZCBub3QgZmluZCBjb25uZWN0ZWQgcm9vbSB3aXRoIElEICR7YmVzdENvbm5lY3RlZFJvb21JZH0uIFNraXBwaW5nIGNvbm5lY3Rpb24uYFxuICAgICAgICApO1xuICAgICAgICAvLyBSZW1vdmUgdGhlIHByb2JsZW1hdGljIHVuY29ubmVjdGVkIHJvb20gdG8gYXZvaWQgaW5maW5pdGUgbG9vcFxuICAgICAgICB1bmNvbm5lY3RlZFJvb21zLnNwbGljZShiZXN0VW5jb25uZWN0ZWRJbmRleCwgMSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBfY2FydmVDb3JyaWRvckJldHdlZW4obWFwLCBiZXN0Q29ubmVjdGVkUm9vbSwgYmVzdFVuY29ubmVjdGVkUm9vbSwgY29scywgcm93cyk7XG4gICAgICBjb25uZWN0ZWRTZXQuYWRkKGJlc3RVbmNvbm5lY3RlZFJvb20uaWQpOyAvLyBBZGQgdGhlIG5ld2x5IGNvbm5lY3RlZCByb29tIElEIHRvIHRoZSBzZXRcbiAgICAgIHVuY29ubmVjdGVkUm9vbXMuc3BsaWNlKGJlc3RVbmNvbm5lY3RlZEluZGV4LCAxKTsgLy8gUmVtb3ZlIGZyb20gdW5jb25uZWN0ZWQgbGlzdFxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAnW01hcEdlbiBDb25uZWN0XSBDb3VsZCBub3QgZmluZCBuZXh0IHBhaXIgb2Ygcm9vbXMgdG8gY29ubmVjdC4gQnJlYWtpbmcgbG9vcC4gUmVtYWluaW5nIHVuY29ubmVjdGVkOicsXG4gICAgICAgIHVuY29ubmVjdGVkUm9vbXMubWFwKChyKSA9PiByLmlkKVxuICAgICAgKTtcbiAgICAgIGJyZWFrOyAvLyBBdm9pZCBpbmZpbml0ZSBsb29wIGlmIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gICAgfVxuICB9XG4gIGNvbnNvbGUubG9nKGBbTWFwR2VuIENvbm5lY3RdIEZpbmlzaGVkIGNvbm5lY3Rpbmcgcm9vbXMuIENvbm5lY3RlZCBjb3VudDogJHtjb25uZWN0ZWRTZXQuc2l6ZX1gKTtcbn1cblxuLy8gLS0tIEhlbHBlcjogQ2FydmUgQ29ycmlkb3JzIC0tLVxuZnVuY3Rpb24gX2NhcnZlQ29ycmlkb3JCZXR3ZWVuKG1hcCwgcm9vbUEsIHJvb21CLCBjb2xzLCByb3dzKSB7XG4gIGNvbnN0IHsgY2VudGVyVGlsZVg6IGF4LCBjZW50ZXJUaWxlWTogYXkgfSA9IHJvb21BO1xuICBjb25zdCB7IGNlbnRlclRpbGVYOiBieCwgY2VudGVyVGlsZVk6IGJ5IH0gPSByb29tQjtcbiAgLy8gUmFuZG9tbHkgY2hvb3NlIEwtc2hhcGUgZGlyZWN0aW9uIChIb3Jpem9udGFsIHRoZW4gVmVydGljYWwsIG9yIFZlcnRpY2FsIHRoZW4gSG9yaXpvbnRhbClcbiAgaWYgKE1hdGgucmFuZG9tKCkgPCAwLjUpIHtcbiAgICAvLyBIIHRoZW4gVlxuICAgIF9jYXJ2ZUhvcml6b250YWxDb3JyaWRvcihtYXAsIGF5LCBheCwgYngsIGNvbHMsIHJvd3MpO1xuICAgIF9jYXJ2ZVZlcnRpY2FsQ29ycmlkb3IobWFwLCBieCwgYXksIGJ5LCBjb2xzLCByb3dzKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBWIHRoZW4gSFxuICAgIF9jYXJ2ZVZlcnRpY2FsQ29ycmlkb3IobWFwLCBheCwgYXksIGJ5LCBjb2xzLCByb3dzKTtcbiAgICBfY2FydmVIb3Jpem9udGFsQ29ycmlkb3IobWFwLCBieSwgYXgsIGJ4LCBjb2xzLCByb3dzKTtcbiAgfVxufVxuZnVuY3Rpb24gX2NhcnZlSG9yaXpvbnRhbENvcnJpZG9yKG1hcCwgciwgYzEsIGMyLCBjb2xzLCByb3dzKSB7XG4gIC8vIEVuc3VyZSByb3cgaXMgdmFsaWRcbiAgaWYgKHIgPCAwIHx8IHIgPj0gcm93cykgcmV0dXJuO1xuICBjb25zdCBzdGFydENvbCA9IE1hdGgubWF4KDAsIE1hdGgubWluKGMxLCBjMikpOyAvLyBDbGFtcCB0byBtYXAgYm91bmRzXG4gIGNvbnN0IGVuZENvbCA9IE1hdGgubWluKGNvbHMgLSAxLCBNYXRoLm1heChjMSwgYzIpKTsgLy8gQ2xhbXAgdG8gbWFwIGJvdW5kc1xuICBmb3IgKGxldCBjID0gc3RhcnRDb2w7IGMgPD0gZW5kQ29sOyBjKyspIHtcbiAgICAvLyBPbmx5IGNhcnZlIGlmIGl0J3MgY3VycmVudGx5IGEgd2FsbFxuICAgIGlmIChtYXBbcl0/LltjXSA9PT0gVElMRV9XQUxMKSB7XG4gICAgICBtYXBbcl1bY10gPSBUSUxFX0NPUlJJRE9SO1xuICAgIH1cbiAgICAvLyBPcHRpb25hbDogQWxzbyBjYXJ2ZSBhZGphY2VudCB2ZXJ0aWNhbCB0aWxlcyBmb3IgdGhpY2tuZXNzID4gMVxuICAgIC8vIGlmICh0aGlja25lc3MgPiAxICYmIHIrMSA8IHJvd3MgJiYgbWFwW3IrMV0/LltjXSA9PT0gVElMRV9XQUxMKSBtYXBbcisxXVtjXSA9IFRJTEVfQ09SUklET1I7XG4gIH1cbn1cbmZ1bmN0aW9uIF9jYXJ2ZVZlcnRpY2FsQ29ycmlkb3IobWFwLCBjLCByMSwgcjIsIGNvbHMsIHJvd3MpIHtcbiAgLy8gRW5zdXJlIGNvbCBpcyB2YWxpZFxuICBpZiAoYyA8IDAgfHwgYyA+PSBjb2xzKSByZXR1cm47XG4gIGNvbnN0IHN0YXJ0Um93ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4ocjEsIHIyKSk7IC8vIENsYW1wIHRvIG1hcCBib3VuZHNcbiAgY29uc3QgZW5kUm93ID0gTWF0aC5taW4ocm93cyAtIDEsIE1hdGgubWF4KHIxLCByMikpOyAvLyBDbGFtcCB0byBtYXAgYm91bmRzXG4gIGZvciAobGV0IHIgPSBzdGFydFJvdzsgciA8PSBlbmRSb3c7IHIrKykge1xuICAgIC8vIE9ubHkgY2FydmUgaWYgaXQncyBjdXJyZW50bHkgYSB3YWxsXG4gICAgaWYgKG1hcFtyXT8uW2NdID09PSBUSUxFX1dBTEwpIHtcbiAgICAgIG1hcFtyXVtjXSA9IFRJTEVfQ09SUklET1I7XG4gICAgfVxuICAgIC8vIE9wdGlvbmFsOiBBbHNvIGNhcnZlIGFkamFjZW50IGhvcml6b250YWwgdGlsZXMgZm9yIHRoaWNrbmVzcyA+IDFcbiAgICAvLyBpZiAodGhpY2tuZXNzID4gMSAmJiBjKzEgPCBjb2xzICYmIG1hcFtyXT8uW2MrMV0gPT09IFRJTEVfV0FMTCkgbWFwW3JdW2MrMV0gPSBUSUxFX0NPUlJJRE9SO1xuICB9XG59XG5cbi8vIC0tLSBORVcgSEVMUEVSOiBHZXQgVGlsZSBPcGVubmVzcyBEZXRhaWxzIC0tLVxuZnVuY3Rpb24gX2dldFRpbGVPcGVubmVzc0RldGFpbHModGlsZVgsIHRpbGVZLCBtYXAsIGNvbHMsIHJvd3MpIHtcbiAgLy8gTG9jYWwgd2Fsa2FibGUgZGVmaW5pdGlvbiBmb3IgdGhpcyBoZWxwZXJcbiAgY29uc3QgaXNUaWxlV2Fsa2FibGUgPSAoeCwgeSwgY3VycmVudE1hcCwgbWFwQ29scywgbWFwUm93cykgPT4ge1xuICAgIGlmICh4IDwgMCB8fCB4ID49IG1hcENvbHMgfHwgeSA8IDAgfHwgeSA+PSBtYXBSb3dzKSByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgdGlsZVZhbCA9IGN1cnJlbnRNYXBbeV0/Llt4XTtcbiAgICByZXR1cm4gdGlsZVZhbCA9PT0gVElMRV9DT1JSSURPUiB8fCB0aWxlVmFsID09PSBUSUxFX1JPT01fRkxPT1IgfHwgdGlsZVZhbCA9PT0gVElMRV9MSUZUO1xuICB9O1xuXG4gIGxldCBvcGVuU2lkZXMgPSAwO1xuICAvLyBPcmRlcjogTiwgUywgVywgRVxuICBjb25zdCBuZWlnaGJvckRlbHRhcyA9IFtcbiAgICB7IGR4OiAwLCBkeTogLTEgfSxcbiAgICB7IGR4OiAwLCBkeTogMSB9LFxuICAgIHsgZHg6IC0xLCBkeTogMCB9LFxuICAgIHsgZHg6IDEsIGR5OiAwIH0sXG4gIF07XG4gIGxldCB3YWxrYWJsZU5laWdoYm9yRmxhZ3MgPSBbZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2VdOyAvLyBOLCBTLCBXLCBFXG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZWlnaGJvckRlbHRhcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IG54ID0gdGlsZVggKyBuZWlnaGJvckRlbHRhc1tpXS5keDtcbiAgICBjb25zdCBueSA9IHRpbGVZICsgbmVpZ2hib3JEZWx0YXNbaV0uZHk7XG4gICAgaWYgKGlzVGlsZVdhbGthYmxlKG54LCBueSwgbWFwLCBjb2xzLCByb3dzKSkge1xuICAgICAgb3BlblNpZGVzKys7XG4gICAgICB3YWxrYWJsZU5laWdoYm9yRmxhZ3NbaV0gPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGxldCBpc0Nob2tlcG9pbnQgPSBmYWxzZTtcbiAgaWYgKG9wZW5TaWRlcyA9PT0gMikge1xuICAgIGNvbnN0IFtOLCBTLCBXLCBFXSA9IHdhbGthYmxlTmVpZ2hib3JGbGFncztcbiAgICAvLyBWZXJ0aWNhbCBjaG9rZXBvaW50IChOJlMgb3BlbiwgVyZFIGNsb3NlZCkgT1IgSG9yaXpvbnRhbCBjaG9rZXBvaW50IChXJkUgb3BlbiwgTiZTIGNsb3NlZClcbiAgICBpZiAoKE4gJiYgUyAmJiAhVyAmJiAhRSkgfHwgKFcgJiYgRSAmJiAhTiAmJiAhUykpIHtcbiAgICAgIGlzQ2hva2Vwb2ludCA9IHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiB7IG9wZW5TaWRlcywgaXNDaG9rZXBvaW50IH07XG59XG5cbi8vIC0tLSBIZWxwZXI6IFBsYWNlIExpZnQgLS0tXG4vLyBUYWtlcyBjdXJyZW50IGBsaWZ0Q29vcmRzYCBhbmQgcmV0dXJucyB0aGUgdXNlZC9mb3VuZCBjb29yZHMgYW5kIHBvc2l0aW9uXG4vLyBNb2RpZnkgX3BsYWNlTGlmdCB0byBwYXNzIHRoZSByb29tcyBsaXN0IHRvIF9maW5kTGlmdFBsYWNlbWVudExvY2F0aW9uXG5mdW5jdGlvbiBfcGxhY2VMaWZ0KFxuICBtYXAsXG4gIGNvbHMsXG4gIHJvd3MsXG4gIGZsb29yTnVtYmVyLFxuICBtaW5GbG9vcixcbiAgdGlsZVNpemUsXG4gIGN1cnJlbnRDb25zaXN0ZW50Q29vcmRzLFxuICByb29tc0xpc3Rcbikge1xuICAvLyBBZGRlZCByb29tc0xpc3RcbiAgbGV0IGNvb3Jkc1RvVXNlID0gY3VycmVudENvbnNpc3RlbnRDb29yZHM7XG4gIGxldCBuZXdseUZvdW5kQ29vcmRzID0gbnVsbDtcblxuICAvLyBGaW5kIGNvb3JkcyBvbmx5IG9uIHRoZSBmaXJzdCBmbG9vciBpZiBub3QgYWxyZWFkeSBzZXRcbiAgaWYgKGZsb29yTnVtYmVyID09PSBtaW5GbG9vciAmJiAhY29vcmRzVG9Vc2UpIHtcbiAgICBjb25zb2xlLmxvZyhgW01hcEdlbiBGbG9vciAke2Zsb29yTnVtYmVyfV0gRmluZGluZyBpbml0aWFsIGxpZnQgcGxhY2VtZW50IGxvY2F0aW9uLi4uYCk7XG4gICAgY29vcmRzVG9Vc2UgPSBfZmluZExpZnRQbGFjZW1lbnRMb2NhdGlvbihtYXAsIGNvbHMsIHJvd3MsIHJvb21zTGlzdCk7IC8vIFBBU1Mgcm9vbXNMaXN0XG4gICAgaWYgKCFjb29yZHNUb1VzZSkge1xuICAgICAgLy8gRmFsbGJhY2s6IGlmIG5vIGdvb2Qgcm9vbSBzcG90LCB0cnkgdGhlIHByZXZpb3VzIGdlbmVyYWwgZmluZCBsb2dpYyAod2hpY2ggaW5jbHVkZXMgY29ycmlkb3JzKVxuICAgICAgLy8gRm9yIHNpbXBsaWNpdHkgaGVyZSwgd2UnbGwganVzdCBnbyB0byB0aGUgY2VudGVyLiBBIG1vcmUgcm9idXN0IGZhbGxiYWNrIGNvdWxkIGJlIHRvIGNhbGxcbiAgICAgIC8vIGEgdmVyc2lvbiBvZiBfZmluZExpZnRQbGFjZW1lbnRMb2NhdGlvbiB0aGF0ICpkb2VzKiBjb25zaWRlciBjb3JyaWRvcnMuXG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIGBbTWFwR2VuIEZsb29yICR7Zmxvb3JOdW1iZXJ9XSBObyBpZGVhbCBJTi1ST09NIGxpZnQgbG9jYXRpb24gZm91bmQuIEZvcmNpbmcgcGxhY2VtZW50IG5lYXIgY2VudGVyLmBcbiAgICAgICk7XG4gICAgICBjb29yZHNUb1VzZSA9IHsgdGlsZVg6IE1hdGguZmxvb3IoY29scyAvIDIpLCB0aWxlWTogTWF0aC5mbG9vcihyb3dzIC8gMikgfTtcbiAgICB9XG4gICAgY29uc29sZS5sb2coXG4gICAgICBgW01hcEdlbiBGbG9vciAke2Zsb29yTnVtYmVyfV0gRXN0YWJsaXNoZWQgY29uc2lzdGVudCBsaWZ0IGNvb3JkcyBhdCB0aWxlKCR7Y29vcmRzVG9Vc2UudGlsZVh9LCAke2Nvb3Jkc1RvVXNlLnRpbGVZfSlgXG4gICAgKTtcbiAgICBuZXdseUZvdW5kQ29vcmRzID0gY29vcmRzVG9Vc2U7XG4gIH0gZWxzZSBpZiAoIWNvb3Jkc1RvVXNlICYmIGZsb29yTnVtYmVyID4gbWluRmxvb3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFtNYXBHZW4gTGlmdF0gTWlzc2luZyBjb25zaXN0ZW50IGNvb3JkaW5hdGVzIGZvciBmbG9vciAke2Zsb29yTnVtYmVyfS5gKTtcbiAgfVxuXG4gIGNvbnN0IHsgdGlsZVgsIHRpbGVZIH0gPSBjb29yZHNUb1VzZTtcblxuICAvLyBCYXNpYyBib3VuZHMgY2hlY2sgZm9yIHNhZmV0eVxuICBpZiAodGlsZVkgPCAwIHx8IHRpbGVZID49IHJvd3MgfHwgdGlsZVggPCAwIHx8IHRpbGVYID49IGNvbHMpIHtcbiAgICAvLyBUaGlzIG1pZ2h0IGhhcHBlbiBpZiB0aGUgZmFsbGJhY2sgY29vcmRzIGFyZSBiYWQgb24gYSB2ZXJ5IHNtYWxsIG1hcFxuICAgIGNvbnN0IHNhZmVGYWxsYmFja1ggPSBNYXRoLm1heCgxLCBNYXRoLm1pbihjb2xzIC0gMiwgdGlsZVgpKTtcbiAgICBjb25zdCBzYWZlRmFsbGJhY2tZID0gTWF0aC5tYXgoMSwgTWF0aC5taW4ocm93cyAtIDIsIHRpbGVZKSk7XG4gICAgY29uc29sZS5lcnJvcihcbiAgICAgIGBbTWFwR2VuIExpZnRdIENvb3JkcyAoJHt0aWxlWH0sICR7dGlsZVl9KSBhcmUgb3V0c2lkZSBtYXAgYm91bmRzIG9uIGZsb29yICR7Zmxvb3JOdW1iZXJ9LiBBZGp1c3RlZCB0byAoJHtzYWZlRmFsbGJhY2tYfSwke3NhZmVGYWxsYmFja1l9KWBcbiAgICApO1xuICAgIGNvb3Jkc1RvVXNlID0geyB0aWxlWDogc2FmZUZhbGxiYWNrWCwgdGlsZVk6IHNhZmVGYWxsYmFja1kgfTtcbiAgICAvLyBSZS1hc3NpZ24gdGlsZVgsIHRpbGVZIGZvciB0aGUgcmVzdCBvZiB0aGUgZnVuY3Rpb25cbiAgICAvLyBUaGlzIGlzIGEgYml0IGhhY2t5OyBpZGVhbGx5LCB0aGUgcHJpbWFyeSBmaW5kIGxvZ2ljIG9yIGl0cyBmYWxsYmFjayBzaG91bGQgYWx3YXlzIHJldHVybiB2YWxpZCBjb29yZHMuXG4gICAgLy8gSG93ZXZlciwgaWYgYGNvbnNpc3RlbnRMaWZ0Q29vcmRzYCB3ZXJlIHNvbWVob3cgaW52YWxpZCBmcm9tIGEgcHJldmlvdXMgZmxvb3IsIHRoaXMgY291bGQgYmUgYW4gaXNzdWUuXG4gICAgLy8gRm9yIG5vdywgd2UnbGwgYXNzdW1lIGBfZmluZExpZnRQbGFjZW1lbnRMb2NhdGlvbmAgb3IgaXRzIGRpcmVjdCBmYWxsYmFjayBpcyByb2J1c3QgZW5vdWdoLlxuICAgIC8vIFRoZSBvcmlnaW5hbCBlcnJvciB0aHJvdyBpcyBiZXR0ZXIgaWYgd2UgZXhwZWN0IGBjb29yZHNUb1VzZWAgdG8gYWx3YXlzIGJlIHZhbGlkIGZyb20gZ2VuZXJhdGlvbi5cbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgW01hcEdlbiBMaWZ0XSBDb29yZHMgKCR7Y29vcmRzVG9Vc2UudGlsZVh9LCAke2Nvb3Jkc1RvVXNlLnRpbGVZfSkgYXJlIG91dHNpZGUgbWFwIGJvdW5kcyBvbiBmbG9vciAke2Zsb29yTnVtYmVyfS5gXG4gICAgKTtcbiAgfVxuXG4gIC8vIENoZWNrIGlmIHRoZSBjaG9zZW4gc3BvdCBpcyBhIHdhbGw7IGlmIHNvLCBhdHRlbXB0IGNvbm5lY3Rpb25cbiAgLy8gVGhpcyBpcyBjcnVjaWFsIGlmIHRoZSBmYWxsYmFjayAoY2VudGVyIG9mIG1hcCkgd2FzIHVzZWQuXG4gIGlmIChtYXBbdGlsZVldW3RpbGVYXSA9PT0gVElMRV9XQUxMKSB7XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgYFtNYXBHZW4gRmxvb3IgJHtmbG9vck51bWJlcn1dIExpZnQgbG9jYXRpb24gdGlsZSgke3RpbGVYfSwgJHt0aWxlWX0pIGlzIGEgd2FsbCAobGlrZWx5IGZhbGxiYWNrKS4gRm9yY2luZyBjb25uZWN0aW9uLi4uYFxuICAgICk7XG4gICAgY29uc3QgY29ubmVjdGVkID0gX2ZvcmNlQ29ubmVjdGlvblRvUG9pbnQobWFwLCB0aWxlWCwgdGlsZVksIGNvbHMsIHJvd3MpO1xuICAgIGlmICghY29ubmVjdGVkKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBgW01hcEdlbiBMaWZ0IENvbm5lY3RdIEZBSUxFRCB0byBjb25uZWN0IHdhbGwgYXQgbGlmdCBsb2NhdGlvbiB0aWxlKCR7dGlsZVh9LCAke3RpbGVZfSkuIExpZnQgbWlnaHQgYmUgaXNvbGF0ZWQuYFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coYCAgW01hcEdlbiBMaWZ0IENvbm5lY3RdIENvbm5lY3Rpb24gYXR0ZW1wdCBmaW5pc2hlZCBmb3Igd2FsbCBhdCBsaWZ0IGxvY2F0aW9uLmApO1xuICAgICAgaWYgKG1hcFt0aWxlWV1bdGlsZVhdID09PSBUSUxFX1dBTEwpIHtcbiAgICAgICAgLy8gRG91YmxlIGNoZWNrIGFmdGVyIGNvbm5lY3Rpb25cbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIGAgIFtNYXBHZW4gTGlmdCBDb25uZWN0XSBGb3JjZSBjb25uZWN0aW9uIGNvbXBsZXRlZCwgYnV0IHRhcmdldCB0aWxlICgke3RpbGVYfSwke3RpbGVZfSkgcmVtYWluZWQgV0FMTC4gU2V0dGluZyB0byBDT1JSSURPUi5gXG4gICAgICAgICk7XG4gICAgICAgIG1hcFt0aWxlWV1bdGlsZVhdID0gVElMRV9DT1JSSURPUjtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5sb2coXG4gICAgICBgICBbTWFwR2VuIExpZnRdIExpZnQgbG9jYXRpb24gdGlsZSgke3RpbGVYfSwgJHt0aWxlWX0pIGlzIGFscmVhZHkgd2Fsa2FibGUgKFR5cGU6ICR7bWFwW3RpbGVZXVt0aWxlWF19KS5gXG4gICAgKTtcbiAgfVxuXG4gIC8vIFBsYWNlIHRoZSBsaWZ0IHRpbGVcbiAgbWFwW3RpbGVZXVt0aWxlWF0gPSBUSUxFX0xJRlQ7XG5cbiAgY29uc3QgbGlmdFdvcmxkUG9zID0ge1xuICAgIHg6ICh0aWxlWCArIDAuNSkgKiB0aWxlU2l6ZSxcbiAgICB5OiAodGlsZVkgKyAwLjUpICogdGlsZVNpemUsXG4gICAgdGlsZVg6IHRpbGVYLFxuICAgIHRpbGVZOiB0aWxlWSxcbiAgfTtcblxuICBjb25zb2xlLmxvZyhcbiAgICBgW01hcEdlbiBGbG9vciAke2Zsb29yTnVtYmVyfV0gUGxhY2VkL0NvbmZpcm1lZCBsaWZ0IGF0IHRpbGUoJHt0aWxlWH0sICR7dGlsZVl9KS4gV29ybGQ6ICgke2xpZnRXb3JsZFBvcy54LnRvRml4ZWQoXG4gICAgICAxXG4gICAgKX0sICR7bGlmdFdvcmxkUG9zLnkudG9GaXhlZCgxKX0pYFxuICApO1xuXG4gIHJldHVybiB7IHBvc2l0aW9uOiBsaWZ0V29ybGRQb3MsIGNvb3JkczogbmV3bHlGb3VuZENvb3JkcyB8fCBjb29yZHNUb1VzZSB9O1xufVxuXG4vLyAtLS0gTU9ESUZJRUQgSGVscGVyOiBGaW5kIExpZnQgTG9jYXRpb24gKEZvciBGaXJzdCBGbG9vcikgLS0tXG5mdW5jdGlvbiBfZmluZExpZnRQbGFjZW1lbnRMb2NhdGlvbihtYXAsIGNvbHMsIHJvd3MsIHJvb21zTGlzdCkge1xuICAvLyBBZGRlZCByb29tc0xpc3QgcGFyYW1ldGVyXG4gIGNvbnN0IGNlbnRlclggPSBNYXRoLmZsb29yKGNvbHMgLyAyKTtcbiAgY29uc3QgY2VudGVyWSA9IE1hdGguZmxvb3Iocm93cyAvIDIpO1xuXG4gIGxldCBiZXN0U3BvdENhbmRpZGF0ZSA9IG51bGw7XG5cbiAgY29uc29sZS5sb2coYCAgW01hcEdlbiBGaW5kTGlmdCBWM10gU2VhcmNoaW5nIGZvciBvcHRpbWFsIGxpZnQgc3BvdCBJTlNJREUgYSByb29tLi4uYCk7XG5cbiAgaWYgKCFyb29tc0xpc3QgfHwgcm9vbXNMaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgIGAgIFtNYXBHZW4gRmluZExpZnQgVjNdIE5vIHJvb21zIGF2YWlsYWJsZSB0byBwbGFjZSBhIGxpZnQgaW4uIEZhbGxiYWNrIHdpbGwgYmUgdXNlZCBieSBjYWxsZXIuYFxuICAgICk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBmb3IgKGNvbnN0IHJvb20gb2Ygcm9vbXNMaXN0KSB7XG4gICAgLy8gSXRlcmF0ZSBcImludGVybmFsXCIgZmxvb3IgdGlsZXMgb2YgdGhlIHJvb20uXG4gICAgLy8gSW50ZXJuYWwgdGlsZXMgYXJlIGF0IGxlYXN0IDEgdGlsZSBhd2F5IGZyb20gdGhlIHJvb20ncyBib3VuZGluZyB3YWxscy5cbiAgICAvLyBSZXF1aXJlcyByb29tIHRvIGJlIGF0IGxlYXN0IDN4MyBpbiBzaXplIHRvIGhhdmUgYW55IGludGVybmFsIHRpbGVzLlxuICAgIC8vIChtaW5Sb29tU2l6ZSBpcyA1LCBzbyBhIDV4NSByb29tIGhhcyBhIDN4MyBpbnRlcm5hbCBhcmVhKVxuICAgIGNvbnN0IHN0YXJ0SW50ZXJuYWxDb2wgPSByb29tLmNvbCArIDE7XG4gICAgY29uc3QgZW5kSW50ZXJuYWxDb2wgPSByb29tLmNvbCArIHJvb20ud2lkdGggLSAyO1xuICAgIGNvbnN0IHN0YXJ0SW50ZXJuYWxSb3cgPSByb29tLnJvdyArIDE7XG4gICAgY29uc3QgZW5kSW50ZXJuYWxSb3cgPSByb29tLnJvdyArIHJvb20uaGVpZ2h0IC0gMjtcblxuICAgIGlmIChzdGFydEludGVybmFsQ29sID4gZW5kSW50ZXJuYWxDb2wgfHwgc3RhcnRJbnRlcm5hbFJvdyA+IGVuZEludGVybmFsUm93KSB7XG4gICAgICAvLyBSb29tIGlzIHRvbyBzbWFsbCAoZS5nLiwgMnhOIG9yIE54MikgdG8gaGF2ZSBcImludGVybmFsXCIgdGlsZXMgYnkgdGhpcyBkZWZpbml0aW9uLlxuICAgICAgLy8gV2UgY291bGQgaXRlcmF0ZSBhbGwgcm9vbS5jb2wgdG8gcm9vbS5jb2wgKyByb29tLndpZHRoIC0xIGV0Yy4gaWYgd2Ugd2FudCB0byBpbmNsdWRlIGVkZ2VzLlxuICAgICAgLy8gRm9yIG5vdywgc3RpY2tpbmcgdG8gXCJpbnRlcm5hbFwiIGZvciBiZXR0ZXIgcGxhY2VtZW50LlxuICAgICAgLy8gY29uc29sZS5sb2coYCAgICBbRmluZExpZnQgVjNdIFJvb20gJHtyb29tLmlkfSAoJHtyb29tLndpZHRofXgke3Jvb20uaGVpZ2h0fSkgdG9vIHNtYWxsIGZvciBpbnRlcm5hbCB0aWxlcy4gU2tpcHBpbmcuYCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCByID0gc3RhcnRJbnRlcm5hbFJvdzsgciA8PSBlbmRJbnRlcm5hbFJvdzsgcisrKSB7XG4gICAgICBmb3IgKGxldCBjID0gc3RhcnRJbnRlcm5hbENvbDsgYyA8PSBlbmRJbnRlcm5hbENvbDsgYysrKSB7XG4gICAgICAgIC8vIEJ5IGRlZmluaXRpb24sIG1hcFtyXVtjXSBzaG91bGQgYmUgVElMRV9ST09NX0ZMT09SIGhlcmUuXG5cbiAgICAgICAgbGV0IGN1cnJlbnRTY29yZSA9IDA7XG4gICAgICAgIGNvbnN0IGRpc3RTcSA9IChjIC0gY2VudGVyWCkgKiAoYyAtIGNlbnRlclgpICsgKHIgLSBjZW50ZXJZKSAqIChyIC0gY2VudGVyWSk7XG4gICAgICAgIGN1cnJlbnRTY29yZSAtPSBkaXN0U3EgLyAzMDsgLy8gUHJveGltaXR5IGJvbnVzXG5cbiAgICAgICAgY29uc3QgZGV0YWlsc1NlbGYgPSBfZ2V0VGlsZU9wZW5uZXNzRGV0YWlscyhjLCByLCBtYXAsIGNvbHMsIHJvd3MpO1xuXG4gICAgICAgIGlmIChkZXRhaWxzU2VsZi5vcGVuU2lkZXMgPCAxKSB7XG4gICAgICAgICAgLy8gU2hvdWxkIGhhdmUgYXQgbGVhc3QgMSBjb25uZWN0aW9uIGlmIGl0J3MgYSB2YWxpZCBpbnRlcm5hbCByb29tIHRpbGUuXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGV0YWlsc1NlbGYuaXNDaG9rZXBvaW50KSB7XG4gICAgICAgICAgY3VycmVudFNjb3JlIC09IDcwMDsgLy8gUGVuYWxpemUgaWYgbGlmdCB0aWxlIGl0c2VsZiB3b3VsZCBmb3JtIGEgY2hva2Vwb2ludFxuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnRTY29yZSArPSBkZXRhaWxzU2VsZi5vcGVuU2lkZXMgKiAxMjA7IC8vIE1vcmUgb3BlbiBzaWRlcyBmb3IgdGhlIGxpZnQgdGlsZSBhcmUgZ29vZC5cblxuICAgICAgICBsZXQgd29yc3RBY2Nlc3NQZW5hbHR5RnJvbU5laWdoYm9ycyA9IDA7XG4gICAgICAgIGxldCBudW1BY3R1YWxBY2Nlc3NQb2ludHMgPSAwO1xuICAgICAgICBjb25zdCBuZWlnaGJvckRlbHRhcyA9IFtcbiAgICAgICAgICB7IGR4OiAwLCBkeTogLTEgfSxcbiAgICAgICAgICB7IGR4OiAwLCBkeTogMSB9LFxuICAgICAgICAgIHsgZHg6IC0xLCBkeTogMCB9LFxuICAgICAgICAgIHsgZHg6IDEsIGR5OiAwIH0sXG4gICAgICAgIF07XG5cbiAgICAgICAgZm9yIChjb25zdCBkZWx0YSBvZiBuZWlnaGJvckRlbHRhcykge1xuICAgICAgICAgIGNvbnN0IG5jQWNjZXNzID0gYyArIGRlbHRhLmR4O1xuICAgICAgICAgIGNvbnN0IG5yQWNjZXNzID0gciArIGRlbHRhLmR5O1xuXG4gICAgICAgICAgaWYgKG5yQWNjZXNzID49IDAgJiYgbnJBY2Nlc3MgPCByb3dzICYmIG5jQWNjZXNzID49IDAgJiYgbmNBY2Nlc3MgPCBjb2xzKSB7XG4gICAgICAgICAgICBjb25zdCBhY2Nlc3NUaWxlVHlwZSA9IG1hcFtuckFjY2Vzc10/LltuY0FjY2Vzc107XG4gICAgICAgICAgICBpZiAoYWNjZXNzVGlsZVR5cGUgPT09IFRJTEVfQ09SUklET1IgfHwgYWNjZXNzVGlsZVR5cGUgPT09IFRJTEVfUk9PTV9GTE9PUikge1xuICAgICAgICAgICAgICBudW1BY3R1YWxBY2Nlc3NQb2ludHMrKztcbiAgICAgICAgICAgICAgY29uc3QgZGV0YWlsc0FjY2Vzc1RpbGUgPSBfZ2V0VGlsZU9wZW5uZXNzRGV0YWlscyhcbiAgICAgICAgICAgICAgICBuY0FjY2VzcyxcbiAgICAgICAgICAgICAgICBuckFjY2VzcyxcbiAgICAgICAgICAgICAgICBtYXAsXG4gICAgICAgICAgICAgICAgY29scyxcbiAgICAgICAgICAgICAgICByb3dzXG4gICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgaWYgKGRldGFpbHNBY2Nlc3NUaWxlLm9wZW5TaWRlcyA9PT0gMSkge1xuICAgICAgICAgICAgICAgIC8vIEFjY2VzcyB0aWxlIG9ubHkgbGVhZHMgdG8gb3VyIGNhbmRpZGF0ZSAoaXQncyBhIHN0dWIpXG4gICAgICAgICAgICAgICAgd29yc3RBY2Nlc3NQZW5hbHR5RnJvbU5laWdoYm9ycyA9IE1hdGgubWF4KHdvcnN0QWNjZXNzUGVuYWx0eUZyb21OZWlnaGJvcnMsIDMwMDAwKTsgLy8gTWFzc2l2ZSBwZW5hbHR5XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoZGV0YWlsc0FjY2Vzc1RpbGUuaXNDaG9rZXBvaW50KSB7XG4gICAgICAgICAgICAgICAgd29yc3RBY2Nlc3NQZW5hbHR5RnJvbU5laWdoYm9ycyA9IE1hdGgubWF4KHdvcnN0QWNjZXNzUGVuYWx0eUZyb21OZWlnaGJvcnMsIDUwMCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB0aGUgbGlmdCBjYW5kaWRhdGUgaXMgaW4gdGhlIG1pZGRsZSBvZiBhIHJvb20sIG51bUFjdHVhbEFjY2Vzc1BvaW50cyBtaWdodCBiZSBsb3dcbiAgICAgICAgLy8gaWYgaXQncyBzdXJyb3VuZGVkIGJ5IG90aGVyIFRJTEVfUk9PTV9GTE9PUiBvZiB0aGUgKnNhbWUqIHJvb20uXG4gICAgICAgIC8vIGRldGFpbHNTZWxmLm9wZW5TaWRlcyBpcyBhIGJldHRlciBtZWFzdXJlIG9mIGl0cyBcImVtYmVkZG5lc3NcIiBpbiB0aGlzIGNhc2UuXG4gICAgICAgIC8vIFRoZSBjcml0aWNhbCBwYXJ0IGlzIHRoYXQgYHdvcnN0QWNjZXNzUGVuYWx0eUZyb21OZWlnaGJvcnNgIGNhdGNoZXMgYmFkICpleHRlcm5hbCogYWNjZXNzLlxuICAgICAgICBpZiAobnVtQWN0dWFsQWNjZXNzUG9pbnRzID09PSAwICYmIGRldGFpbHNTZWxmLm9wZW5TaWRlcyA8IDIpIHtcbiAgICAgICAgICAvLyBJZiBpdCBoYXMgbm8gZGlyZWN0IGNvcnJpZG9yL290aGVyIHJvb20gYWNjZXNzIEFORCBpcyBhbHNvIHZlcnkgY2xvc2VkIG9mZiBpdHNlbGZcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGN1cnJlbnRTY29yZSAtPSB3b3JzdEFjY2Vzc1BlbmFsdHlGcm9tTmVpZ2hib3JzO1xuXG4gICAgICAgIGlmIChiZXN0U3BvdENhbmRpZGF0ZSA9PT0gbnVsbCB8fCBjdXJyZW50U2NvcmUgPiBiZXN0U3BvdENhbmRpZGF0ZS5zY29yZSkge1xuICAgICAgICAgIGJlc3RTcG90Q2FuZGlkYXRlID0ge1xuICAgICAgICAgICAgdGlsZVg6IGMsXG4gICAgICAgICAgICB0aWxlWTogcixcbiAgICAgICAgICAgIHNjb3JlOiBjdXJyZW50U2NvcmUsXG4gICAgICAgICAgICBkZWJ1Z19yb29tOiByb29tLmlkLFxuICAgICAgICAgICAgLy8gQWRkIG90aGVyIGRlYnVnIGZpZWxkcyBmcm9tIHByZXZpb3VzIHZlcnNpb24gaWYgbmVlZGVkXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChiZXN0U3BvdENhbmRpZGF0ZSkge1xuICAgIGNvbnNvbGUubG9nKFxuICAgICAgYCAgW01hcEdlbiBGaW5kTGlmdCBWM10gU2VsZWN0ZWQgYmVzdCBzcG90IElOIFJPT00gKCR7YmVzdFNwb3RDYW5kaWRhdGUuZGVidWdfcm9vbX0pIGF0IHRpbGUoJHtiZXN0U3BvdENhbmRpZGF0ZS50aWxlWH0sICR7YmVzdFNwb3RDYW5kaWRhdGUudGlsZVl9KS4gYCArXG4gICAgICAgIGBTY29yZTogJHtiZXN0U3BvdENhbmRpZGF0ZS5zY29yZS50b0ZpeGVkKDApfS5gXG4gICAgKTtcbiAgICByZXR1cm4geyB0aWxlWDogYmVzdFNwb3RDYW5kaWRhdGUudGlsZVgsIHRpbGVZOiBiZXN0U3BvdENhbmRpZGF0ZS50aWxlWSB9O1xuICB9XG5cbiAgY29uc29sZS53YXJuKFxuICAgICdbTWFwR2VuIEZpbmRMaWZ0IFYzXSBObyBzdWl0YWJsZSBJTi1ST09NIGxvY2F0aW9uIGZvdW5kIHdpdGggaW50ZXJuYWwgdGlsZXMuIEZhbGxiYWNrIHdpbGwgYmUgdXNlZCBieSBjYWxsZXIuJ1xuICApO1xuICByZXR1cm4gbnVsbDtcbn1cblxuLy8gLS0tIEhlbHBlcjogRm9yY2UgQ29ubmVjdGlvbiAtLS1cbmZ1bmN0aW9uIF9mb3JjZUNvbm5lY3Rpb25Ub1BvaW50KG1hcCwgdGFyZ2V0WCwgdGFyZ2V0WSwgY29scywgcm93cykge1xuICBjb25zb2xlLmxvZyhcbiAgICBgICBbTWFwR2VuIENvbm5lY3RdIFRyeWluZyB0byBjb25uZWN0IHdhbGwgYXQgdGlsZSgke3RhcmdldFh9LCAke3RhcmdldFl9KSB0byB3YWxrYWJsZSBhcmVhLi4uYFxuICApO1xuICBjb25zdCBkaXJlY3Rpb25zID0gW1xuICAgIFswLCAtMV0sXG4gICAgWzAsIDFdLFxuICAgIFstMSwgMF0sXG4gICAgWzEsIDBdLFxuICBdO1xuICBsZXQgaXNBZGphY2VudFRvV2Fsa2FibGUgPSBmYWxzZTtcbiAgbGV0IGFkamFjZW50V2Fsa2FibGVDb29yZCA9IG51bGw7XG5cbiAgLy8gMS4gQ2hlY2sgaWYgYWxyZWFkeSBhZGphY2VudCB0byBhIHdhbGthYmxlIHRpbGVcbiAgZm9yIChjb25zdCBbZHgsIGR5XSBvZiBkaXJlY3Rpb25zKSB7XG4gICAgY29uc3QgbnggPSB0YXJnZXRYICsgZHg7XG4gICAgY29uc3QgbnkgPSB0YXJnZXRZICsgZHk7XG4gICAgY29uc3QgbmVpZ2hib3JUaWxlID0gbWFwW255XT8uW254XTtcbiAgICBpZiAoXG4gICAgICBuZWlnaGJvclRpbGUgPT09IFRJTEVfQ09SUklET1IgfHxcbiAgICAgIG5laWdoYm9yVGlsZSA9PT0gVElMRV9ST09NX0ZMT09SIHx8XG4gICAgICBuZWlnaGJvclRpbGUgPT09IFRJTEVfTElGVFxuICAgICkge1xuICAgICAgaXNBZGphY2VudFRvV2Fsa2FibGUgPSB0cnVlO1xuICAgICAgYWRqYWNlbnRXYWxrYWJsZUNvb3JkID0geyB4OiBueCwgeTogbnkgfTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGlmIChpc0FkamFjZW50VG9XYWxrYWJsZSkge1xuICAgIGNvbnNvbGUubG9nKFxuICAgICAgYCAgW01hcEdlbiBDb25uZWN0XSBUYXJnZXQoJHt0YXJnZXRYfSwgJHt0YXJnZXRZfSkgaXMgYWRqYWNlbnQgdG8gd2Fsa2FibGUgYXQgKCR7YWRqYWNlbnRXYWxrYWJsZUNvb3JkLnh9LCAke2FkamFjZW50V2Fsa2FibGVDb29yZC55fSkuIFNldHRpbmcgdGFyZ2V0IHRvIENvcnJpZG9yLmBcbiAgICApO1xuICAgIC8vIE1ha2UgdGhlIHRhcmdldCB0aWxlIGl0c2VsZiB3YWxrYWJsZSAoQ29ycmlkb3IgaXMgYSBzYWZlIGJldClcbiAgICBtYXBbdGFyZ2V0WV1bdGFyZ2V0WF0gPSBUSUxFX0NPUlJJRE9SO1xuICAgIHJldHVybiB0cnVlOyAvLyBDb25uZWN0aW9uIGlzIHRyaXZpYWxcbiAgfVxuXG4gIC8vIDIuIElmIG5vdCBhZGphY2VudCwgZmluZCB0aGUgbmVhcmVzdCB3YWxrYWJsZSB0aWxlIChDb3JyaWRvciBvciBGbG9vcikgdXNpbmcgQkZTXG4gIGNvbnNvbGUubG9nKFxuICAgIGAgIFtNYXBHZW4gQ29ubmVjdF0gVGFyZ2V0IG5vdCBhZGphY2VudC4gU2VhcmNoaW5nIG5lYXJlc3Qgd2Fsa2FibGUgKENvcnJpZG9yL0Zsb29yKSB2aWEgQkZTLi4uYFxuICApO1xuICBjb25zdCBxdWV1ZSA9IFtbdGFyZ2V0WCwgdGFyZ2V0WSwgMF1dOyAvLyB4LCB5LCBkaXN0YW5jZVxuICBjb25zdCB2aXNpdGVkID0gbmV3IFNldChbYCR7dGFyZ2V0WH0sJHt0YXJnZXRZfWBdKTtcbiAgY29uc3QgYmZzUGF0aGFibGUgPSBbVElMRV9XQUxMLCBUSUxFX0NPUlJJRE9SLCBUSUxFX1JPT01fRkxPT1IsIFRJTEVfTElGVF07IC8vIENhbiBwYXRoIHRocm91Z2ggYW55dGhpbmdcbiAgY29uc3QgdGFyZ2V0V2Fsa2FibGUgPSBbVElMRV9DT1JSSURPUiwgVElMRV9ST09NX0ZMT09SXTtcbiAgbGV0IGNsb3Nlc3RXYWxrYWJsZSA9IG51bGw7XG4gIGxldCBtaW5Gb3VuZERpc3QgPSBJbmZpbml0eTtcblxuICB3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IFtjdXJyWCwgY3VyclksIGRpc3RdID0gcXVldWUuc2hpZnQoKTtcblxuICAgIC8vIElmIHdlIGFscmVhZHkgZm91bmQgKmEqIHdhbGthYmxlIHRpbGUsIGRvbid0IGV4cGxvcmUgcGF0aHMgbG9uZ2VyIHRoYW4gdGhhdFxuICAgIGlmIChkaXN0ID49IG1pbkZvdW5kRGlzdCkgY29udGludWU7XG5cbiAgICBmb3IgKGNvbnN0IFtkeCwgZHldIG9mIGRpcmVjdGlvbnMpIHtcbiAgICAgIGNvbnN0IG5leHRYID0gY3VyclggKyBkeDtcbiAgICAgIGNvbnN0IG5leHRZID0gY3VyclkgKyBkeTtcbiAgICAgIGNvbnN0IGtleSA9IGAke25leHRYfSwke25leHRZfWA7XG5cbiAgICAgIGlmIChuZXh0WCA+PSAwICYmIG5leHRYIDwgY29scyAmJiBuZXh0WSA+PSAwICYmIG5leHRZIDwgcm93cyAmJiAhdmlzaXRlZC5oYXMoa2V5KSkge1xuICAgICAgICBjb25zdCB0aWxlVmFsdWUgPSBtYXBbbmV4dFldPy5bbmV4dFhdO1xuICAgICAgICB2aXNpdGVkLmFkZChrZXkpO1xuXG4gICAgICAgIC8vIEZvdW5kIGEgdGFyZ2V0IHdhbGthYmxlIHRpbGU/XG4gICAgICAgIGlmICh0YXJnZXRXYWxrYWJsZS5pbmNsdWRlcyh0aWxlVmFsdWUpKSB7XG4gICAgICAgICAgaWYgKGRpc3QgKyAxIDwgbWluRm91bmREaXN0KSB7XG4gICAgICAgICAgICAvLyBGb3VuZCBhIGNsb3NlciBvbmVcbiAgICAgICAgICAgIG1pbkZvdW5kRGlzdCA9IGRpc3QgKyAxO1xuICAgICAgICAgICAgY2xvc2VzdFdhbGthYmxlID0geyB4OiBuZXh0WCwgeTogbmV4dFksIGRpc3Q6IG1pbkZvdW5kRGlzdCB9O1xuICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgIGAgICAgW0JGU10gRm91bmQgcG90ZW50aWFsIHRhcmdldCBhdCAoJHtuZXh0WH0sICR7bmV4dFl9KSwgZGlzdCAke21pbkZvdW5kRGlzdH1gXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBEb24ndCBwdXNoIHRoaXMgdGFyZ2V0IG9udG8gcXVldWUsIHdlIHN0b3Agc2VhcmNoaW5nIGZyb20gaGVyZVxuICAgICAgICB9IGVsc2UgaWYgKGJmc1BhdGhhYmxlLmluY2x1ZGVzKHRpbGVWYWx1ZSkpIHtcbiAgICAgICAgICAvLyBDYW4gY29udGludWUgc2VhcmNoaW5nIGZyb20gdGhpcyBuZWlnaGJvciBpZiBpdCdzIHBhdGhhYmxlIGFuZCBjbG9zZXIgdGhhbiBjdXJyZW50IGJlc3RcbiAgICAgICAgICBpZiAoZGlzdCArIDEgPCBtaW5Gb3VuZERpc3QpIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goW25leHRYLCBuZXh0WSwgZGlzdCArIDFdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyAzLiBDYXJ2ZSBwYXRoIGlmIGEgd2Fsa2FibGUgdGlsZSB3YXMgZm91bmRcbiAgaWYgKGNsb3Nlc3RXYWxrYWJsZSkge1xuICAgIGNvbnNvbGUubG9nKFxuICAgICAgYCAgW01hcEdlbiBDb25uZWN0XSBGb3VuZCBjbG9zZXN0IHdhbGthYmxlIGF0IHRpbGUoJHtjbG9zZXN0V2Fsa2FibGUueH0sICR7Y2xvc2VzdFdhbGthYmxlLnl9KSBkaXN0YW5jZSAke2Nsb3Nlc3RXYWxrYWJsZS5kaXN0fS4gQ2FydmluZyBwYXRoLi4uYFxuICAgICk7XG4gICAgLy8gU2ltcGxlIEwtc2hhcGVkIGNhcnZpbmcgZnJvbSB0YXJnZXQgdG8gY2xvc2VzdCB3YWxrYWJsZVxuICAgIF9jYXJ2ZUhvcml6b250YWxDb3JyaWRvcihtYXAsIHRhcmdldFksIHRhcmdldFgsIGNsb3Nlc3RXYWxrYWJsZS54LCBjb2xzLCByb3dzKTtcbiAgICBfY2FydmVWZXJ0aWNhbENvcnJpZG9yKG1hcCwgY2xvc2VzdFdhbGthYmxlLngsIHRhcmdldFksIGNsb3Nlc3RXYWxrYWJsZS55LCBjb2xzLCByb3dzKTtcbiAgICBjb25zb2xlLmxvZyhgICBbTWFwR2VuIENvbm5lY3RdIENhcnZlZCBwYXRoIGF0dGVtcHQgZmluaXNoZWQuYCk7XG5cbiAgICAvLyBWZXJpZnkgdGhlIHRhcmdldCB0aWxlIGl0c2VsZiBiZWNhbWUgd2Fsa2FibGUgKHNob3VsZCBiZSBjb3JyaWRvciBub3cpXG4gICAgaWYgKG1hcFt0YXJnZXRZXVt0YXJnZXRYXSA9PT0gVElMRV9DT1JSSURPUiB8fCBtYXBbdGFyZ2V0WV1bdGFyZ2V0WF0gPT09IFRJTEVfUk9PTV9GTE9PUikge1xuICAgICAgY29uc29sZS5sb2coXG4gICAgICAgIGAgICAgW1ZlcmlmeV0gVGFyZ2V0IHRpbGUgKCR7dGFyZ2V0WH0sJHt0YXJnZXRZfSkgaXMgbm93IHdhbGthYmxlIChUeXBlOiAke21hcFt0YXJnZXRZXVt0YXJnZXRYXX0pYFxuICAgICAgKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIGAgIFtNYXBHZW4gQ29ubmVjdF0gQ2FydmluZyBkb25lLCBidXQgdGFyZ2V0IHRpbGUoJHt0YXJnZXRYfSwgJHt0YXJnZXRZfSkgaXMgc3RpbGwgV0FMTCAoVmFsdWU6ICR7bWFwW3RhcmdldFldW3RhcmdldFhdfSkuIFNldHRpbmcgbWFudWFsbHkuYFxuICAgICAgKTtcbiAgICAgIC8vIEZvcmNlIGl0IGp1c3QgaW4gY2FzZSBjYXJ2aW5nIGxvZ2ljIGhhZCBhbiBlZGdlIGNhc2VcbiAgICAgIG1hcFt0YXJnZXRZXVt0YXJnZXRYXSA9IFRJTEVfQ09SUklET1I7XG4gICAgICByZXR1cm4gdHJ1ZTsgLy8gQXNzdW1lIHN1Y2Nlc3MgaWYgd2UgZm91bmQgYSBwYXRoIGFuZCBmb3JjZWQgdGhlIHRpbGVcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5lcnJvcihcbiAgICAgIGAgIFtNYXBHZW4gQ29ubmVjdF0gRkFJTEVEIHRvIGZpbmQgQU5ZIG5lYXJieSB3YWxrYWJsZSAoQ29ycmlkb3IvRmxvb3IpIHZpYSBCRlMgZnJvbSB3YWxsIGF0IHRpbGUoJHt0YXJnZXRYfSwgJHt0YXJnZXRZfSkuIENhbm5vdCBjb25uZWN0LmBcbiAgICApO1xuICAgIHJldHVybiBmYWxzZTsgLy8gQ29ubmVjdGlvbiBmYWlsZWRcbiAgfVxufVxuXG4vLyAtLS0gSGVscGVyOiBDaGVjayBMaWZ0IFJlYWNoYWJpbGl0eSAtLS1cbmZ1bmN0aW9uIF9pc0xpZnRSZWFjaGFibGUobWFwLCBsaWZ0UG9zaXRpb24sIGNvbHMsIHJvd3MpIHtcbiAgaWYgKCFsaWZ0UG9zaXRpb24pIHJldHVybiBmYWxzZTtcbiAgY29uc3QgeyB0aWxlWCwgdGlsZVkgfSA9IGxpZnRQb3NpdGlvbjtcbiAgaWYgKFxuICAgIHRpbGVZIDwgMCB8fFxuICAgIHRpbGVZID49IHJvd3MgfHxcbiAgICB0aWxlWCA8IDAgfHxcbiAgICB0aWxlWCA+PSBjb2xzIHx8XG4gICAgbWFwW3RpbGVZXT8uW3RpbGVYXSAhPT0gVElMRV9MSUZUXG4gICkge1xuICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICBgW01hcFZhbGlkYXRpb24gUmVhY2hhYmlsaXR5XSBJbnZhbGlkIGxpZnQgcG9zaXRpb24gcHJvdmlkZWQ6ICgke3RpbGVYfSwgJHt0aWxlWX0pYFxuICAgICk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gVXNlIEJGUyB1dGlsaXR5IGZ1bmN0aW9uIHRvIGNoZWNrIHJlYWNoYWJpbGl0eSBmcm9tIHRoZSBsaWZ0IHRpbGVcbiAgLy8gV2UgbmVlZCB0byBrbm93IGlmIHRoZSBsaWZ0IGNhbiByZWFjaCAqYW55KiBUSUxFX0NPUlJJRE9SIG9yIFRJTEVfUk9PTV9GTE9PUlxuICBjb25zdCB3YWxrYWJsZUZvckxpZnRTZWFyY2ggPSBbVElMRV9DT1JSSURPUiwgVElMRV9ST09NX0ZMT09SLCBUSUxFX0xJRlRdOyAvLyBCRlMgY2FuIHRyYXZlcnNlIHRoZXNlXG4gIGNvbnN0IHRhcmdldFRpbGVzID0gW1RJTEVfQ09SUklET1IsIFRJTEVfUk9PTV9GTE9PUl07IC8vIFN1Y2Nlc3MgaWYgQkZTIGZpbmRzIG9uZSBvZiB0aGVzZVxuXG4gIGNvbnN0IHsgcmVhY2hhYmxlIH0gPSBwZXJmb3JtQkZTKFxuICAgIG1hcCxcbiAgICB0aWxlWCxcbiAgICB0aWxlWSxcbiAgICBjb2xzLFxuICAgIHJvd3MsXG4gICAgd2Fsa2FibGVGb3JMaWZ0U2VhcmNoLFxuICAgIHRhcmdldFRpbGVzXG4gICk7XG5cbiAgaWYgKCFyZWFjaGFibGUpIHtcbiAgICBjb25zb2xlLmVycm9yKFxuICAgICAgYFtNYXBWYWxpZGF0aW9uIFJlYWNoYWJpbGl0eV0gRkFJTEVELiBMaWZ0IGF0IHRpbGUoJHt0aWxlWH0sICR7dGlsZVl9KSBpcyBpc29sYXRlZCBmcm9tIGNvcnJpZG9ycy9yb29tcy5gXG4gICAgKTtcbiAgfVxuICByZXR1cm4gcmVhY2hhYmxlO1xufVxuXG4vLyAtLS0gSGVscGVyOiBFbnN1cmUgQm9yZGVycyAtLS1cbmZ1bmN0aW9uIF9lbnN1cmVNYXBCb3JkZXJzKG1hcCwgY29scywgcm93cykge1xuICBjb25zb2xlLmxvZygnICBbTWFwR2VuXSBFbnN1cmluZyBtYXAgYm9yZGVycyBhcmUgd2FsbHMuJyk7XG4gIC8vIFRvcCBhbmQgQm90dG9tIGJvcmRlcnNcbiAgZm9yIChsZXQgYyA9IDA7IGMgPCBjb2xzOyBjKyspIHtcbiAgICBpZiAobWFwWzBdPy5bY10gIT09IHVuZGVmaW5lZCkgbWFwWzBdW2NdID0gVElMRV9XQUxMO1xuICAgIGlmIChtYXBbcm93cyAtIDFdPy5bY10gIT09IHVuZGVmaW5lZCkgbWFwW3Jvd3MgLSAxXVtjXSA9IFRJTEVfV0FMTDtcbiAgfVxuICAvLyBMZWZ0IGFuZCBSaWdodCBib3JkZXJzXG4gIGZvciAobGV0IHIgPSAwOyByIDwgcm93czsgcisrKSB7XG4gICAgaWYgKG1hcFtyXT8uWzBdICE9PSB1bmRlZmluZWQpIG1hcFtyXVswXSA9IFRJTEVfV0FMTDtcbiAgICBpZiAobWFwW3JdPy5bY29scyAtIDFdICE9PSB1bmRlZmluZWQpIG1hcFtyXVtjb2xzIC0gMV0gPSBUSUxFX1dBTEw7XG4gIH1cbn1cblxuLy8gLS0tIERlYnVnIEhlbHBlciAtLS1cbi8vIChPcHRpb25hbCwgdW5jb21tZW50IHRoZSBjYWxsIGluIGdlbmVyYXRlTGV2ZWxEYXRhIHRvIHVzZSB3aGVuIGRlYnVnZ2luZyByZWFjaGFiaWxpdHkpXG5mdW5jdGlvbiBsb2dNYXBHcmlkRm9yRGVidWcobWFwLCBjb2xzLCByb3dzKSB7XG4gIGNvbnNvbGUubG9nKCctLS0gREVCVUcgTUFQIEdSSUQgLS0tJyk7XG4gIGZvciAobGV0IHkgPSAwOyB5IDwgcm93czsgeSsrKSB7XG4gICAgY29uc3Qgcm93U3RyaW5nID0gbWFwW3ldXG4gICAgICAubWFwKCh0aWxlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAodGlsZSkge1xuICAgICAgICAgIGNhc2UgVElMRV9XQUxMOlxuICAgICAgICAgICAgcmV0dXJuICcjJztcbiAgICAgICAgICBjYXNlIFRJTEVfQ09SUklET1I6XG4gICAgICAgICAgICByZXR1cm4gJy4nO1xuICAgICAgICAgIGNhc2UgVElMRV9ST09NX0ZMT09SOlxuICAgICAgICAgICAgcmV0dXJuICcgJztcbiAgICAgICAgICBjYXNlIFRJTEVfTElGVDpcbiAgICAgICAgICAgIHJldHVybiAnTCc7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAnPyc7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuam9pbignJyk7XG4gICAgY29uc29sZS5sb2cocm93U3RyaW5nKTtcbiAgfVxuICBjb25zb2xlLmxvZygnLS0tIEVORCBERUJVRyBNQVAgR1JJRCAtLS0nKTtcbn1cbiIsIi8vIHNyYy9tYXAvUHJvY2VkdXJhbE1hcC5qc1xuaW1wb3J0IHsgQm9vayB9IGZyb20gJy4vQm9vay5qcyc7XG5pbXBvcnQgeyBNYXBSZW5kZXJlciB9IGZyb20gJy4vTWFwUmVuZGVyZXIuanMnO1xuaW1wb3J0IHsgcmFuZG9tSW50IH0gZnJvbSAnLi4vdXRpbHMvbWFwLmpzJzsgLy8g0KPQsdC10LTQuNGC0LXRgdGMLCDRh9GC0L4g0Y3RgtC+0YIg0YTQsNC50Lsg0Lgg0YTRg9C90LrRhtC40Y8g0YHRg9GJ0LXRgdGC0LLRg9GO0YJcbmltcG9ydCB7IGdlbmVyYXRlTGV2ZWxEYXRhIH0gZnJvbSAnLi9NYXBHZW4uanMnO1xuaW1wb3J0IHtcbiAgVElMRV9XQUxMLFxuICBUSUxFX0NPUlJJRE9SLFxuICBUSUxFX1JPT01fRkxPT1IsXG4gIFRJTEVfTElGVCxcbiAgTElGVF9JTlRFUkFDVElPTl9SQURJVVNfTVVMVElQTElFUixcbiAgLy8gR1lNX0NIQU5DRV9PTl9GSVJTVF9GTE9PUiwgLy8g0JXRgdC70Lgg0LjRgdC/0L7Qu9GM0LfRg9C10YLRgdGPINCyIE1hcEdlbi5qc1xufSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xuXG5jb25zdCBERUJVR19GTE9PUiA9IDM7IC8vINCj0YHRgtCw0L3QvtCy0LjRgtC1INC90LAg0L3QvtC80LXRgCDRjdGC0LDQttCwINC00LvRjyDQvtGC0LvQsNC00LrQuCDQuNC70LggbnVsbC8wINC00LvRjyDQvtGC0LrQu9GO0YfQtdC90LjRj1xuXG5leHBvcnQgY2xhc3MgUHJvY2VkdXJhbE1hcCB7XG4gIGNvbnN0cnVjdG9yKGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQsIGZsb29yTnVtYmVyLCBtaW5GbG9vciwgbWF4Rmxvb3IpIHtcbiAgICB0aGlzLnRpbGVTaXplID0gMzI7XG4gICAgdGhpcy5jb2xzID0gNDA7XG4gICAgdGhpcy5yb3dzID0gMzA7XG4gICAgdGhpcy53aWR0aCA9IHRoaXMuY29scyAqIHRoaXMudGlsZVNpemU7XG4gICAgdGhpcy5oZWlnaHQgPSB0aGlzLnJvd3MgKiB0aGlzLnRpbGVTaXplO1xuICAgIHRoaXMub2Zmc2V0WCA9IDA7XG4gICAgdGhpcy5vZmZzZXRZID0gMDtcblxuICAgIHRoaXMuZmxvb3JOdW1iZXIgPSBmbG9vck51bWJlcjtcbiAgICB0aGlzLm1pbkZsb29yID0gbWluRmxvb3I7XG4gICAgdGhpcy5tYXhGbG9vciA9IG1heEZsb29yO1xuXG4gICAgdGhpcy5tYXAgPSBudWxsO1xuICAgIHRoaXMucm9vbXMgPSBbXTtcbiAgICB0aGlzLmJvb2tzID0gW107XG4gICAgdGhpcy5saWZ0UG9zaXRpb24gPSBudWxsOyAvLyB7eCwgeSwgdGlsZVgsIHRpbGVZfVxuXG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBNYXBSZW5kZXJlcih0aGlzLnRpbGVTaXplKTtcblxuICAgIGNvbnN0IGdlbmVyYXRpb25QYXJhbXMgPSB7XG4gICAgICBtaW5Sb29tU2l6ZTogNSxcbiAgICAgIG1heFJvb21TaXplOiAxMCxcbiAgICAgIGNvcnJpZG9yVGhpY2tuZXNzOiAxLFxuICAgICAgbnVtUm9vbXM6IDEyLFxuICAgICAgbWF4Um9vbUF0dGVtcHRzOiAyMDAsXG4gICAgICBib29rc1Blck1hcDogNSwgLy8g0JrQvtC70LjRh9C10YHRgtCy0L4g0LrQvdC40LMg0L3QsCDQutCw0YDRgtGDXG4gICAgICByb29tVHlwZVdlaWdodHM6IHtcbiAgICAgICAgLy8g0JLQtdGB0LAg0LTQu9GPINGC0LjQv9C+0LIg0LrQvtC80L3QsNGCXG4gICAgICAgIGNsYXNzcm9vbTogNTAsXG4gICAgICAgIG9mZmljZTogMjUsXG4gICAgICAgIGxpYnJhcnk6IDE1LFxuICAgICAgICBsYWI6IDEwLFxuICAgICAgICBzdG9yYWdlOiA1LFxuICAgICAgICB1dGlsaXR5OiAxMCxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBnZW5lcmF0aW9uQ29uZmlnID0ge1xuICAgICAgICBjb2xzOiB0aGlzLmNvbHMsXG4gICAgICAgIHJvd3M6IHRoaXMucm93cyxcbiAgICAgICAgZmxvb3JOdW1iZXI6IHRoaXMuZmxvb3JOdW1iZXIsXG4gICAgICAgIG1pbkZsb29yOiB0aGlzLm1pbkZsb29yLFxuICAgICAgICBtYXhGbG9vcjogdGhpcy5tYXhGbG9vcixcbiAgICAgICAgdGlsZVNpemU6IHRoaXMudGlsZVNpemUsXG4gICAgICAgIGdlbmVyYXRpb25QYXJhbXM6IGdlbmVyYXRpb25QYXJhbXMsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCB7IG1hcCwgcm9vbXMsIGxpZnRQb3NpdGlvbiB9ID0gZ2VuZXJhdGVMZXZlbERhdGEoZ2VuZXJhdGlvbkNvbmZpZyk7XG5cbiAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgICAgdGhpcy5yb29tcyA9IHJvb21zO1xuICAgICAgdGhpcy5saWZ0UG9zaXRpb24gPSBsaWZ0UG9zaXRpb247IC8vINCh0L7QtNC10YDQttC40YIge3gsIHksIHRpbGVYLCB0aWxlWX1cblxuICAgICAgdGhpcy5yZW5kZXJlci5yZXNldENvbG9yQ2FjaGUoKTtcbiAgICAgIHRoaXMucGxhY2VCb29rc1JlbGlhYmx5KGdlbmVyYXRpb25QYXJhbXMuYm9va3NQZXJNYXApO1xuXG4gICAgICBpZiAodGhpcy5mbG9vck51bWJlciA9PT0gREVCVUdfRkxPT1IpIHtcbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgYFtQcm9jTWFwIEYke3RoaXMuZmxvb3JOdW1iZXJ9XSBJbml0IGNvbXBsZXRlLiBMaWZ0IGF0IHRpbGUgKCR7bGlmdFBvc2l0aW9uPy50aWxlWH0sICR7bGlmdFBvc2l0aW9uPy50aWxlWX0pLmBcbiAgICAgICAgKTtcbiAgICAgICAgLy8gdGhpcy5sb2dNYXBHcmlkKCk7IC8vINCc0L7QttC90L4g0YDQsNGB0LrQvtC80LzQtdC90YLQuNGA0L7QstCw0YLRjCDQtNC70Y8g0LLRi9Cy0L7QtNCwINGB0LXRgtC60Lgg0YHRgNCw0LfRgyDQv9C+0YHQu9C1INCz0LXQvdC10YDQsNGG0LjQuFxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBgW1Byb2NNYXAgRiR7dGhpcy5mbG9vck51bWJlcn1dIENSSVRJQ0FMIEVSUk9SIGR1cmluZyBtYXAgZ2VuZXJhdGlvbiBvciBzZXR1cDpgLFxuICAgICAgICBlcnJvclxuICAgICAgKTtcbiAgICAgIHRocm93IGVycm9yOyAvLyDQn9C10YDQtdCx0YDQsNGB0YvQstCw0LXQvCDQvtGI0LjQsdC60YMsINGH0YLQvtCx0YsgR2FtZS5qcyDQvNC+0LMg0LXQtSDQvtCx0YDQsNCx0L7RgtCw0YLRjFxuICAgIH1cbiAgfVxuXG4gIHBsYWNlQm9va3NSZWxpYWJseShib29rc1Blck1hcCkge1xuICAgIHRoaXMuYm9va3MgPSBbXTsgLy8g0J7Rh9C40YnQsNC10Lwg0L/RgNC10LTRi9C00YPRidC40LUg0LrQvdC40LPQuFxuICAgIGNvbnN0IHBvdGVudGlhbExvY2F0aW9ucyA9IFtdO1xuICAgIGNvbnN0IHBsYWNlZENvb3JkcyA9IG5ldyBTZXQoKTtcbiAgICAvLyBjb25zb2xlLmxvZyhgW1Byb2NNYXAgRiR7dGhpcy5mbG9vck51bWJlcn1dIFBsYWNpbmcgdXAgdG8gJHtib29rc1Blck1hcH0gYm9va3MuLi5gKTtcblxuICAgIGZvciAobGV0IHIgPSAwOyByIDwgdGhpcy5yb3dzOyByKyspIHtcbiAgICAgIGZvciAobGV0IGMgPSAwOyBjIDwgdGhpcy5jb2xzOyBjKyspIHtcbiAgICAgICAgY29uc3QgdGlsZVZhbHVlID0gdGhpcy5tYXBbcl0/LltjXTtcbiAgICAgICAgY29uc3QgaXNMaWZ0VGlsZSA9XG4gICAgICAgICAgdGhpcy5saWZ0UG9zaXRpb24gJiYgciA9PT0gdGhpcy5saWZ0UG9zaXRpb24udGlsZVkgJiYgYyA9PT0gdGhpcy5saWZ0UG9zaXRpb24udGlsZVg7XG4gICAgICAgIC8vINCa0L3QuNCz0Lgg0LzQvtC20L3QviDRgNCw0LfQvNC10YnQsNGC0Ywg0LIg0LrQvtGA0LjQtNC+0YDQsNGFINC40LvQuCDQvdCwINC/0L7Qu9GDINC60L7QvNC90LDRgiwg0L3QviDQvdC1INC90LAg0LrQu9C10YLQutC1INC70LjRhNGC0LBcbiAgICAgICAgaWYgKCh0aWxlVmFsdWUgPT09IFRJTEVfQ09SUklET1IgfHwgdGlsZVZhbHVlID09PSBUSUxFX1JPT01fRkxPT1IpICYmICFpc0xpZnRUaWxlKSB7XG4gICAgICAgICAgcG90ZW50aWFsTG9jYXRpb25zLnB1c2goeyByLCBjIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IGJvb2tzUGxhY2VkID0gMDtcbiAgICB3aGlsZSAoYm9va3NQbGFjZWQgPCBib29rc1Blck1hcCAmJiBwb3RlbnRpYWxMb2NhdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgcmFuZG9tSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3RlbnRpYWxMb2NhdGlvbnMubGVuZ3RoKTtcbiAgICAgIGNvbnN0IHsgciwgYyB9ID0gcG90ZW50aWFsTG9jYXRpb25zLnNwbGljZShyYW5kb21JbmRleCwgMSlbMF07IC8vINCj0LTQsNC70Y/QtdC8INCy0YvQsdGA0LDQvdC90YPRjiDQu9C+0LrQsNGG0LjRjlxuICAgICAgY29uc3QgY29vcmRLZXkgPSBgJHtjfSwke3J9YDtcblxuICAgICAgaWYgKFxuICAgICAgICAodGhpcy5tYXBbcl0/LltjXSA9PT0gVElMRV9DT1JSSURPUiB8fCB0aGlzLm1hcFtyXT8uW2NdID09PSBUSUxFX1JPT01fRkxPT1IpICYmXG4gICAgICAgICFwbGFjZWRDb29yZHMuaGFzKGNvb3JkS2V5KVxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IGJvb2tXb3JsZFggPSAoYyArIDAuNSkgKiB0aGlzLnRpbGVTaXplO1xuICAgICAgICBjb25zdCBib29rV29ybGRZID0gKHIgKyAwLjUpICogdGhpcy50aWxlU2l6ZTtcbiAgICAgICAgY29uc3QgYm9va0lkID0gYGJvb2tfZiR7dGhpcy5mbG9vck51bWJlcn1fJHtib29rc1BsYWNlZCArIDF9YDsgLy8g0KPQvdC40LrQsNC70YzQvdGL0LkgSURcbiAgICAgICAgdGhpcy5ib29rcy5wdXNoKG5ldyBCb29rKGJvb2tXb3JsZFgsIGJvb2tXb3JsZFksIGJvb2tJZCwgdGhpcy50aWxlU2l6ZSkpO1xuICAgICAgICBwbGFjZWRDb29yZHMuYWRkKGNvb3JkS2V5KTtcbiAgICAgICAgYm9va3NQbGFjZWQrKztcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gaWYgKGJvb2tzUGxhY2VkIDwgYm9va3NQZXJNYXApIGNvbnNvbGUud2FybihgW1Byb2NNYXAgRiR7dGhpcy5mbG9vck51bWJlcn1dIFBsYWNlZCBvbmx5ICR7Ym9va3NQbGFjZWR9LyR7Ym9va3NQZXJNYXB9IGJvb2tzLmApO1xuICB9XG5cbiAgaXNXYWxrYWJsZSh3b3JsZFgsIHdvcmxkWSkge1xuICAgIGlmICghdGhpcy5tYXApIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCB0aWxlWCA9IE1hdGguZmxvb3Iod29ybGRYIC8gdGhpcy50aWxlU2l6ZSk7XG4gICAgY29uc3QgdGlsZVkgPSBNYXRoLmZsb29yKHdvcmxkWSAvIHRoaXMudGlsZVNpemUpO1xuXG4gICAgaWYgKHRpbGVYIDwgMCB8fCB0aWxlWCA+PSB0aGlzLmNvbHMgfHwgdGlsZVkgPCAwIHx8IHRpbGVZID49IHRoaXMucm93cykge1xuICAgICAgcmV0dXJuIGZhbHNlOyAvLyDQl9CwINC/0YDQtdC00LXQu9Cw0LzQuCDQutCw0YDRgtGLXG4gICAgfVxuXG4gICAgY29uc3QgdGlsZVZhbHVlID0gdGhpcy5tYXBbdGlsZVldPy5bdGlsZVhdO1xuICAgIC8vINCb0LjRhNGCINGB0YfQuNGC0LDQtdGC0YHRjyDQv9GA0L7RhdC+0LTQuNC80YvQvCDQtNC70Y8g0L/RgNC+0LLQtdGA0LrQuCDRgdGC0L7Qu9C60L3QvtCy0LXQvdC40LkgKNC/0LXRgNGB0L7QvdCw0LYg0LzQvtC20LXRgiDQvdCwINC90LXQs9C+INC30LDQudGC0LgpXG4gICAgcmV0dXJuIHRpbGVWYWx1ZSA9PT0gVElMRV9DT1JSSURPUiB8fCB0aWxlVmFsdWUgPT09IFRJTEVfUk9PTV9GTE9PUiB8fCB0aWxlVmFsdWUgPT09IFRJTEVfTElGVDtcbiAgfVxuXG4gIGZpbmRSYW5kb21Jbml0aWFsU3Bhd25Qb3NpdGlvbigpIHtcbiAgICBpZiAoIXRoaXMubWFwKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIGNvbnN0IHN1aXRhYmxlVGlsZXMgPSBbXTtcbiAgICAvLyDQodC90LDRh9Cw0LvQsCDQuNGJ0LXQvCDQsdC+0LvQtdC1IFwi0L7RgtC60YDRi9GC0YvQtVwiINC80LXRgdGC0LBcbiAgICBmb3IgKGxldCByID0gMTsgciA8IHRoaXMucm93cyAtIDE7IHIrKykge1xuICAgICAgLy8g0JjQt9Cx0LXQs9Cw0LXQvCDQutGA0LDQtdCyINC00LvRjyDQv9C10YDQstC+0Lkg0L/QvtC/0YvRgtC60LhcbiAgICAgIGZvciAobGV0IGMgPSAxOyBjIDwgdGhpcy5jb2xzIC0gMTsgYysrKSB7XG4gICAgICAgIGNvbnN0IHRpbGVWYWx1ZSA9IHRoaXMubWFwW3JdPy5bY107XG4gICAgICAgIGNvbnN0IGlzTGlmdCA9XG4gICAgICAgICAgdGhpcy5saWZ0UG9zaXRpb24gJiYgciA9PT0gdGhpcy5saWZ0UG9zaXRpb24udGlsZVkgJiYgYyA9PT0gdGhpcy5saWZ0UG9zaXRpb24udGlsZVg7XG4gICAgICAgIGlmICgodGlsZVZhbHVlID09PSBUSUxFX0NPUlJJRE9SIHx8IHRpbGVWYWx1ZSA9PT0gVElMRV9ST09NX0ZMT09SKSAmJiAhaXNMaWZ0KSB7XG4gICAgICAgICAgaWYgKHRoaXMuaXNUaWxlT3BlbkVub3VnaChjLCByLCAzLCB0cnVlKSkge1xuICAgICAgICAgICAgLy8g0KLRgNC10LHRg9C10LwgMyDQvtGC0LrRgNGL0YLRi9GFINGB0YLQvtGA0L7QvdGLLCDQuNC30LHQtdCz0LDQtdC8INGD0LfQutC40YUg0L/RgNC+0YXQvtC00L7QslxuICAgICAgICAgICAgc3VpdGFibGVUaWxlcy5wdXNoKHsgciwgYyB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8g0JXRgdC70Lgg0L3QtSDQvdCw0YjQu9C4INC40LTQtdCw0LvRjNC90YvRhSwg0LjRidC10Lwg0YEgMiDQvtGC0LrRgNGL0YLRi9C80Lgg0YHRgtC+0YDQvtC90LDQvNC4XG4gICAgaWYgKHN1aXRhYmxlVGlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBmb3IgKGxldCByID0gMDsgciA8IHRoaXMucm93czsgcisrKSB7XG4gICAgICAgIGZvciAobGV0IGMgPSAwOyBjIDwgdGhpcy5jb2xzOyBjKyspIHtcbiAgICAgICAgICBjb25zdCB0aWxlVmFsdWUgPSB0aGlzLm1hcFtyXT8uW2NdO1xuICAgICAgICAgIGNvbnN0IGlzTGlmdCA9XG4gICAgICAgICAgICB0aGlzLmxpZnRQb3NpdGlvbiAmJiByID09PSB0aGlzLmxpZnRQb3NpdGlvbi50aWxlWSAmJiBjID09PSB0aGlzLmxpZnRQb3NpdGlvbi50aWxlWDtcbiAgICAgICAgICBpZiAoKHRpbGVWYWx1ZSA9PT0gVElMRV9DT1JSSURPUiB8fCB0aWxlVmFsdWUgPT09IFRJTEVfUk9PTV9GTE9PUikgJiYgIWlzTGlmdCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNUaWxlT3BlbkVub3VnaChjLCByLCAyLCB0cnVlKSkge1xuICAgICAgICAgICAgICAvLyAyINC+0YLQutGA0YvRgtGL0YUg0YHRgtC+0YDQvtC90YssINC40LfQsdC10LPQsNC10Lwg0YPQt9C60LjRhSDQv9GA0L7RhdC+0LTQvtCyXG4gICAgICAgICAgICAgIHN1aXRhYmxlVGlsZXMucHVzaCh7IHIsIGMgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8vINCa0YDQsNC50L3QuNC5INGB0LvRg9GH0LDQuTog0LvRjtCx0LDRjyDQv9GA0L7RhdC+0LTQuNC80LDRjyDQvdC1INC70LjRhNGC0L7QstCw0Y8g0LrQu9C10YLQutCwXG4gICAgaWYgKHN1aXRhYmxlVGlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBjb25zb2xlLndhcm4oYFtQcm9jTWFwIEYke3RoaXMuZmxvb3JOdW1iZXJ9IFJhbmRvbVNwYXduXSBObyBpZGVhbCBzcG90cy4gVXNpbmcgYW55IHZhbGlkIG5vbi1saWZ0IGZsb29yL2NvcnJpZG9yLmApO1xuICAgICAgZm9yIChsZXQgciA9IDA7IHIgPCB0aGlzLnJvd3M7IHIrKykge1xuICAgICAgICBmb3IgKGxldCBjID0gMDsgYyA8IHRoaXMuY29sczsgYysrKSB7XG4gICAgICAgICAgY29uc3QgdGlsZVZhbHVlID0gdGhpcy5tYXBbcl0/LltjXTtcbiAgICAgICAgICBjb25zdCBpc0xpZnQgPVxuICAgICAgICAgICAgdGhpcy5saWZ0UG9zaXRpb24gJiYgciA9PT0gdGhpcy5saWZ0UG9zaXRpb24udGlsZVkgJiYgYyA9PT0gdGhpcy5saWZ0UG9zaXRpb24udGlsZVg7XG4gICAgICAgICAgaWYgKCh0aWxlVmFsdWUgPT09IFRJTEVfQ09SUklET1IgfHwgdGlsZVZhbHVlID09PSBUSUxFX1JPT01fRkxPT1IpICYmICFpc0xpZnQpIHtcbiAgICAgICAgICAgIHN1aXRhYmxlVGlsZXMucHVzaCh7IHIsIGMgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN1aXRhYmxlVGlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBgW1Byb2NNYXAgRiR7dGhpcy5mbG9vck51bWJlcn0gUmFuZG9tU3Bhd25dIENSSVRJQ0FMOiBObyBzdWl0YWJsZSBzcGF3biB0aWxlcyBmb3VuZCFgXG4gICAgICApO1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBjb25zdCB7IHIsIGMgfSA9IHN1aXRhYmxlVGlsZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogc3VpdGFibGVUaWxlcy5sZW5ndGgpXTtcbiAgICByZXR1cm4geyB4OiAoYyArIDAuNSkgKiB0aGlzLnRpbGVTaXplLCB5OiAociArIDAuNSkgKiB0aGlzLnRpbGVTaXplIH07XG4gIH1cblxuICBpc1RpbGVPcGVuRW5vdWdoKHRpbGVYLCB0aWxlWSwgbWluT3BlblNpZGVzID0gMiwgYXZvaWRPbmVUaWxlV2lkZVBhc3NhZ2VzID0gZmFsc2UpIHtcbiAgICBjb25zdCBpc0RlYnVnQ3VycmVudENhbGwgPSB0aGlzLmZsb29yTnVtYmVyID09PSBERUJVR19GTE9PUjsgLy8g0JvQvtCz0LjRgNGD0LXQvCDRgtC+0LvRjNC60L4g0LTQu9GPINC+0YLQu9Cw0LTQvtGH0L3QvtCz0L4g0Y3RgtCw0LbQsFxuICAgIC8vIGlmIChpc0RlYnVnQ3VycmVudENhbGwpIGNvbnNvbGUubG9nKGBbUHJvY01hcCBGJHt0aGlzLmZsb29yTnVtYmVyfSBpc1RpbGVPcGVuRW5vdWdoXSBDaGVja2luZyAoJHt0aWxlWH0sJHt0aWxlWX0pIHdpdGggbWluT3BlblNpZGVzPSR7bWluT3BlblNpZGVzfSwgYXZvaWROYXJyb3c9JHthdm9pZE9uZVRpbGVXaWRlUGFzc2FnZXN9YCk7XG5cbiAgICBpZiAoIXRoaXMubWFwKSByZXR1cm4gZmFsc2U7XG4gICAgbGV0IG9wZW5TaWRlc0NvdW50ID0gMDtcbiAgICAvLyBkeCwgZHksIGxhYmVsXG4gICAgY29uc3QgZGlyZWN0aW9ucyA9IFtcbiAgICAgIFswLCAtMSwgJ04nXSxcbiAgICAgIFswLCAxLCAnUyddLFxuICAgICAgWy0xLCAwLCAnVyddLFxuICAgICAgWzEsIDAsICdFJ10sXG4gICAgXTtcbiAgICBjb25zdCBpc09wZW5TaWRlID0gW2ZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlXTsgLy8gTiwgUywgVywgRVxuICAgIC8vIGxldCBuZWlnaGJvckRlYnVnID0ge307IC8vINCg0LDRgdC60L7QvNC80LXQvdGC0LjRgNGD0LnRgtC1INC00LvRjyDQtNC10YLQsNC70YzQvdC+0LPQviDQu9C+0LPQsCDRgdC+0YHQtdC00LXQuVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaXJlY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBbZHgsIGR5LCBkaXJMYWJlbF0gPSBkaXJlY3Rpb25zW2ldO1xuICAgICAgY29uc3QgbmVpZ2hib3JYID0gdGlsZVggKyBkeDtcbiAgICAgIGNvbnN0IG5laWdoYm9yWSA9IHRpbGVZICsgZHk7XG4gICAgICBsZXQgbmVpZ2hib3JUaWxlVmFsdWUgPSBUSUxFX1dBTEw7IC8vINCf0L4g0YPQvNC+0LvRh9Cw0L3QuNGOINGB0YLQtdC90LAsINC10YHQu9C4INC30LAg0L/RgNC10LTQtdC70LDQvNC4XG5cbiAgICAgIGlmIChuZWlnaGJvclggPj0gMCAmJiBuZWlnaGJvclggPCB0aGlzLmNvbHMgJiYgbmVpZ2hib3JZID49IDAgJiYgbmVpZ2hib3JZIDwgdGhpcy5yb3dzKSB7XG4gICAgICAgIG5laWdoYm9yVGlsZVZhbHVlID0gdGhpcy5tYXBbbmVpZ2hib3JZXT8uW25laWdoYm9yWF07XG4gICAgICAgIGlmIChcbiAgICAgICAgICBuZWlnaGJvclRpbGVWYWx1ZSA9PT0gVElMRV9DT1JSSURPUiB8fFxuICAgICAgICAgIG5laWdoYm9yVGlsZVZhbHVlID09PSBUSUxFX1JPT01fRkxPT1IgfHxcbiAgICAgICAgICBuZWlnaGJvclRpbGVWYWx1ZSA9PT0gVElMRV9MSUZUXG4gICAgICAgICkge1xuICAgICAgICAgIG9wZW5TaWRlc0NvdW50Kys7XG4gICAgICAgICAgaXNPcGVuU2lkZVtpXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIGlmIChpc0RlYnVnQ3VycmVudENhbGwpIG5laWdoYm9yRGVidWdbZGlyTGFiZWxdID0gYCgke25laWdoYm9yWH0sJHtuZWlnaGJvcll9KSBUeXBlOiR7bmVpZ2hib3JUaWxlVmFsdWV9IChPcGVuOiR7aXNPcGVuU2lkZVtpXX0pYDtcbiAgICB9XG5cbiAgICAvLyBpZiAoaXNEZWJ1Z0N1cnJlbnRDYWxsKSBjb25zb2xlLmxvZyhgICBbaXNUaWxlT3BlbkVub3VnaF0gTmVpZ2hib3JzIGZvciAoJHt0aWxlWH0sJHt0aWxlWX0pOiAke0pTT04uc3RyaW5naWZ5KG5laWdoYm9yRGVidWcpfSAtPiBvcGVuU2lkZXNDb3VudDogJHtvcGVuU2lkZXNDb3VudH1gKTtcblxuICAgIGlmIChvcGVuU2lkZXNDb3VudCA8IG1pbk9wZW5TaWRlcykge1xuICAgICAgLy8gaWYgKGlzRGVidWdDdXJyZW50Q2FsbCkgY29uc29sZS5sb2coYCAgW2lzVGlsZU9wZW5Fbm91Z2hdIFJFU1VMVCBmb3IgKCR7dGlsZVh9LCR7dGlsZVl9KTogZmFsc2UgKG9wZW5TaWRlc0NvdW50ICR7b3BlblNpZGVzQ291bnR9IDwgbWluT3BlblNpZGVzICR7bWluT3BlblNpZGVzfSlgKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoYXZvaWRPbmVUaWxlV2lkZVBhc3NhZ2VzICYmIG9wZW5TaWRlc0NvdW50ID09PSAyKSB7XG4gICAgICAvLyDQn9GA0L7QstC10YDQutCwINC90LAg0L/RgNC+0YXQvtC0INGI0LjRgNC40L3QvtC5INCyIDEg0LrQu9C10YLQutGDICjQvtGC0LrRgNGL0YLRiyDRgtC+0LvRjNC60L4g0L/RgNC+0YLQuNCy0L7Qv9C+0LvQvtC20L3Ri9C1INGB0YLQvtGA0L7QvdGLKVxuICAgICAgaWYgKGlzT3BlblNpZGVbMF0gJiYgaXNPcGVuU2lkZVsxXSAmJiAhaXNPcGVuU2lkZVsyXSAmJiAhaXNPcGVuU2lkZVszXSkge1xuICAgICAgICAvLyDQodC10LLQtdGAINC4INCu0LMg0L7RgtC60YDRi9GC0YssINCX0LDQv9Cw0LQg0Lgg0JLQvtGB0YLQvtC6INC30LDQutGA0YvRgtGLXG4gICAgICAgIC8vIGlmIChpc0RlYnVnQ3VycmVudENhbGwpIGNvbnNvbGUubG9nKGAgIFtpc1RpbGVPcGVuRW5vdWdoXSBSRVNVTFQgZm9yICgke3RpbGVYfSwke3RpbGVZfSk6IGZhbHNlICh2ZXJ0aWNhbCAxLXRpbGUgcGFzc2FnZSlgKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGlzT3BlblNpZGVbMl0gJiYgaXNPcGVuU2lkZVszXSAmJiAhaXNPcGVuU2lkZVswXSAmJiAhaXNPcGVuU2lkZVsxXSkge1xuICAgICAgICAvLyDQl9Cw0L/QsNC0INC4INCS0L7RgdGC0L7QuiDQvtGC0LrRgNGL0YLRiywg0KHQtdCy0LXRgCDQuCDQrtCzINC30LDQutGA0YvRgtGLXG4gICAgICAgIC8vIGlmIChpc0RlYnVnQ3VycmVudENhbGwpIGNvbnNvbGUubG9nKGAgIFtpc1RpbGVPcGVuRW5vdWdoXSBSRVNVTFQgZm9yICgke3RpbGVYfSwke3RpbGVZfSk6IGZhbHNlIChob3Jpem9udGFsIDEtdGlsZSBwYXNzYWdlKWApO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIGlmIChpc0RlYnVnQ3VycmVudENhbGwpIGNvbnNvbGUubG9nKGAgIFtpc1RpbGVPcGVuRW5vdWdoXSBSRVNVTFQgZm9yICgke3RpbGVYfSwke3RpbGVZfSk6IHRydWVgKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGZpbmROZWFyZXN0V2Fsa2FibGVUaWxlKFxuICAgIHRhcmdldFdvcmxkWCxcbiAgICB0YXJnZXRXb3JsZFksXG4gICAgbWF4UmFkaXVzID0gOCxcbiAgICBleGNsdWRlTGlmdCA9IGZhbHNlLFxuICAgIGF2b2lkT25lVGlsZVdpZGVQYXNzYWdlcyA9IGZhbHNlXG4gICkge1xuICAgIGNvbnN0IGlzRGVidWdDdXJyZW50Q2FsbCA9IHRoaXMuZmxvb3JOdW1iZXIgPT09IERFQlVHX0ZMT09SO1xuICAgIC8vIGlmIChpc0RlYnVnQ3VycmVudENhbGwpIGNvbnNvbGUubG9nKGBbUHJvY01hcCBGJHt0aGlzLmZsb29yTnVtYmVyfSBmaW5kTmVhcmVzdFdhbGthYmxlVGlsZV0gVGFyZ2V0V29ybGQ6KCR7dGFyZ2V0V29ybGRYLnRvRml4ZWQoMSl9LCR7dGFyZ2V0V29ybGRZLnRvRml4ZWQoMSl9KSwgbWF4Ujoke21heFJhZGl1c30sIGV4Y2x1ZGVMaWZ0OiR7ZXhjbHVkZUxpZnR9LCBhdm9pZE5hcnJvdzoke2F2b2lkT25lVGlsZVdpZGVQYXNzYWdlc31gKTtcblxuICAgIGlmICghdGhpcy5tYXApIHJldHVybiBudWxsO1xuICAgIGNvbnN0IHRhcmdldFRpbGVYID0gTWF0aC5mbG9vcih0YXJnZXRXb3JsZFggLyB0aGlzLnRpbGVTaXplKTtcbiAgICBjb25zdCB0YXJnZXRUaWxlWSA9IE1hdGguZmxvb3IodGFyZ2V0V29ybGRZIC8gdGhpcy50aWxlU2l6ZSk7XG4gICAgLy8gaWYgKGlzRGVidWdDdXJyZW50Q2FsbCkgY29uc29sZS5sb2coYCAgW2ZpbmROZWFyZXN0XSBUYXJnZXRUaWxlOiAoJHt0YXJnZXRUaWxlWH0sJHt0YXJnZXRUaWxlWX0pYCk7XG5cbiAgICBjb25zdCB0YXJnZXRTYWZlVGlsZXMgPSBbVElMRV9DT1JSSURPUiwgVElMRV9ST09NX0ZMT09SXTsgLy8g0JrRg9C00LAg0YXQvtGC0LjQvCDQv9C+0L/QsNGB0YLRjFxuXG4gICAgLy8gMS4g0J/RgNC+0LLQtdGA0Y/QtdC8INGB0LDQvNGDINGG0LXQu9C10LLRg9GOINC60LvQtdGC0LrRg1xuICAgIGlmIChcbiAgICAgIHRhcmdldFRpbGVYID49IDAgJiZcbiAgICAgIHRhcmdldFRpbGVYIDwgdGhpcy5jb2xzICYmXG4gICAgICB0YXJnZXRUaWxlWSA+PSAwICYmXG4gICAgICB0YXJnZXRUaWxlWSA8IHRoaXMucm93c1xuICAgICkge1xuICAgICAgY29uc3Qgc3RhcnRUaWxlVmFsdWUgPSB0aGlzLm1hcFt0YXJnZXRUaWxlWV1bdGFyZ2V0VGlsZVhdO1xuICAgICAgaWYgKFxuICAgICAgICB0YXJnZXRTYWZlVGlsZXMuaW5jbHVkZXMoc3RhcnRUaWxlVmFsdWUpICYmXG4gICAgICAgICghZXhjbHVkZUxpZnQgfHwgc3RhcnRUaWxlVmFsdWUgIT09IFRJTEVfTElGVClcbiAgICAgICkge1xuICAgICAgICAvLyDQldGB0LvQuCDRhtC10LvRjCAtINC70LjRhNGCINC4INC80Ysg0LXQs9C+INC90LUg0LjRgdC60LvRjtGH0LDQtdC8LCDRgtC+INGC0YDQtdCx0L7QstCw0L3QuNGPINC6IFwi0L7RgtC60YDRi9GC0L7RgdGC0LhcIiDQvNC+0LPRg9GCINCx0YvRgtGMINC90LjQttC1LCDRgi7Qui4g0Y3RgtC+INC00LvRjyBwYXRoZmluZGluZywg0LAg0L3QtSDRgdC/0LDQstC90LBcbiAgICAgICAgY29uc3QgbWluU2lkZXNGb3JJbml0aWFsID0gMjtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHRoaXMuaXNUaWxlT3BlbkVub3VnaChcbiAgICAgICAgICAgIHRhcmdldFRpbGVYLFxuICAgICAgICAgICAgdGFyZ2V0VGlsZVksXG4gICAgICAgICAgICBtaW5TaWRlc0ZvckluaXRpYWwsXG4gICAgICAgICAgICBhdm9pZE9uZVRpbGVXaWRlUGFzc2FnZXNcbiAgICAgICAgICApXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIGlmIChpc0RlYnVnQ3VycmVudENhbGwpIGNvbnNvbGUubG9nKGAgIFtmaW5kTmVhcmVzdF0gU1VDQ0VTUzogVGFyZ2V0IHRpbGUgKCR7dGFyZ2V0VGlsZVh9LCR7dGFyZ2V0VGlsZVl9KSBpcyBzdWl0YWJsZS5gKTtcbiAgICAgICAgICByZXR1cm4geyB4OiAodGFyZ2V0VGlsZVggKyAwLjUpICogdGhpcy50aWxlU2l6ZSwgeTogKHRhcmdldFRpbGVZICsgMC41KSAqIHRoaXMudGlsZVNpemUgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIDIuINCg0LDQtNC40LDQu9GM0L3Ri9C5INC/0L7QuNGB0LpcbiAgICBmb3IgKGxldCByYWRpdXMgPSAxOyByYWRpdXMgPD0gbWF4UmFkaXVzOyByYWRpdXMrKykge1xuICAgICAgLy8g0JXRgdC70Lgg0LjQt9Cx0LXQs9Cw0LXQvCDRg9C30LrQuNGFINC/0YDQvtGF0L7QtNC+0LIsINC00LvRjyDQsdC70LjQttCw0LnRiNC40YUg0YHQvtGB0LXQtNC10LkgKHJhZGl1cz0xKSDRgtGA0LXQsdGD0LXQvCDQsdC+0LvRjNGI0LUg0L7RgtC60YDRi9GC0YvRhSDRgdGC0L7RgNC+0L1cbiAgICAgIGNvbnN0IGN1cnJlbnRSYWRpdXNNaW5PcGVuU2lkZXMgPSAyO1xuICAgICAgLy8gaWYgKGlzRGVidWdDdXJyZW50Q2FsbCAmJiByYWRpdXMgPT09IDEpIGNvbnNvbGUubG9nKGAgIFtmaW5kTmVhcmVzdF0gUmFkaWFsIHNlYXJjaCAocmFkaXVzIDEpLCBtaW5PcGVuU2lkZXMgZm9yIGNoZWNrOiAke2N1cnJlbnRSYWRpdXNNaW5PcGVuU2lkZXN9YCk7XG5cbiAgICAgIGZvciAobGV0IGR5ID0gLXJhZGl1czsgZHkgPD0gcmFkaXVzOyBkeSsrKSB7XG4gICAgICAgIGZvciAobGV0IGR4ID0gLXJhZGl1czsgZHggPD0gcmFkaXVzOyBkeCsrKSB7XG4gICAgICAgICAgaWYgKE1hdGguYWJzKGR4KSA8IHJhZGl1cyAmJiBNYXRoLmFicyhkeSkgPCByYWRpdXMpIGNvbnRpbnVlOyAvLyDQotC+0LvRjNC60L4g0LPRgNCw0L3QuNGG0LAg0YLQtdC60YPRidC10LPQviDRgNCw0LTQuNGD0YHQsFxuICAgICAgICAgIGNvbnN0IGNoZWNrWCA9IHRhcmdldFRpbGVYICsgZHg7XG4gICAgICAgICAgY29uc3QgY2hlY2tZID0gdGFyZ2V0VGlsZVkgKyBkeTtcblxuICAgICAgICAgIGlmIChjaGVja1ggPCAwIHx8IGNoZWNrWCA+PSB0aGlzLmNvbHMgfHwgY2hlY2tZIDwgMCB8fCBjaGVja1kgPj0gdGhpcy5yb3dzKSBjb250aW51ZTsgLy8g0JIg0L/RgNC10LTQtdC70LDRhSDQutCw0YDRgtGLXG5cbiAgICAgICAgICBjb25zdCB0aWxlVmFsdWUgPSB0aGlzLm1hcFtjaGVja1ldPy5bY2hlY2tYXTtcbiAgICAgICAgICBpZiAodGFyZ2V0U2FmZVRpbGVzLmluY2x1ZGVzKHRpbGVWYWx1ZSkgJiYgKCFleGNsdWRlTGlmdCB8fCB0aWxlVmFsdWUgIT09IFRJTEVfTElGVCkpIHtcbiAgICAgICAgICAgIC8vINCf0L7QtNGF0L7QtNC40YIg0LvQuCDRgtC40L8g0YLQsNC50LvQsFxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICB0aGlzLmlzVGlsZU9wZW5Fbm91Z2goXG4gICAgICAgICAgICAgICAgY2hlY2tYLFxuICAgICAgICAgICAgICAgIGNoZWNrWSxcbiAgICAgICAgICAgICAgICBjdXJyZW50UmFkaXVzTWluT3BlblNpZGVzLFxuICAgICAgICAgICAgICAgIGF2b2lkT25lVGlsZVdpZGVQYXNzYWdlc1xuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgLy8gaWYgKGlzRGVidWdDdXJyZW50Q2FsbCkgY29uc29sZS5sb2coYCAgW2ZpbmROZWFyZXN0XSBTVUNDRVNTOiBSYWRpYWwgZm91bmQgKCR7Y2hlY2tYfSwke2NoZWNrWX0pIGF0IHJhZGl1cyAke3JhZGl1c30uYCk7XG4gICAgICAgICAgICAgIHJldHVybiB7IHg6IChjaGVja1ggKyAwLjUpICogdGhpcy50aWxlU2l6ZSwgeTogKGNoZWNrWSArIDAuNSkgKiB0aGlzLnRpbGVTaXplIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gMy4g0J/QvtC40YHQuiBCRlMgKNC30LDQv9Cw0YHQvdC+0Lkg0LLQsNGA0LjQsNC90YIpXG4gICAgLy8gaWYgKGlzRGVidWdDdXJyZW50Q2FsbCkgY29uc29sZS53YXJuKGAgIFtmaW5kTmVhcmVzdF0gUmFkaWFsIHNlYXJjaCBmYWlsZWQgZm9yIHRhcmdldCAoJHt0YXJnZXRUaWxlWH0sJHt0YXJnZXRUaWxlWX0pLiBTdGFydGluZyBCRlMuLi5gKTtcbiAgICBjb25zdCBiZnNNaW5PcGVuU2lkZXMgPSAyOyAvLyDQlNC70Y8gQkZTINGB0YLQsNC90LTQsNGA0YLQvdGL0LUgMiDRgdGC0L7RgNC+0L3Riywg0L3QviDRgSDQv9GA0L7QstC10YDQutC+0LkgYXZvaWRPbmVUaWxlV2lkZVBhc3NhZ2VzXG4gICAgY29uc3QgcXVldWUgPSBbW3RhcmdldFRpbGVYLCB0YXJnZXRUaWxlWV1dO1xuICAgIGNvbnN0IHZpc2l0ZWQgPSBuZXcgU2V0KFtgJHt0YXJnZXRUaWxlWH0sJHt0YXJnZXRUaWxlWX1gXSk7XG4gICAgY29uc3QgZGlyZWN0aW9ucyA9IFtcbiAgICAgIFswLCAtMV0sXG4gICAgICBbMCwgMV0sXG4gICAgICBbLTEsIDBdLFxuICAgICAgWzEsIDBdLFxuICAgIF07IC8vIE4sIFMsIFcsIEVcbiAgICAvLyDQlNC70Y8g0L/Rg9GC0LggQkZTINC80L7QttC90L4g0L/RgNC+0YXQvtC00LjRgtGMINGH0LXRgNC10Lcg0LvQuNGE0YIsINC00LDQttC1INC10YHQu9C4IGV4Y2x1ZGVMaWZ0PXRydWUgKNC80Ysg0L3QtSDRhdC+0YLQuNC8INC90LAg0L3QtdC8INCe0KHQotCQ0J3QntCS0JjQotCs0KHQrylcbiAgICBjb25zdCBiZnNXYWxrYWJsZVBhdGhUaWxlcyA9IFtUSUxFX0NPUlJJRE9SLCBUSUxFX1JPT01fRkxPT1IsIFRJTEVfTElGVF07XG5cbiAgICB3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgW2N1cnJYLCBjdXJyWV0gPSBxdWV1ZS5zaGlmdCgpO1xuICAgICAgZm9yIChjb25zdCBbZHgsIGR5XSBvZiBkaXJlY3Rpb25zKSB7XG4gICAgICAgIGNvbnN0IG5leHRYID0gY3VyclggKyBkeDtcbiAgICAgICAgY29uc3QgbmV4dFkgPSBjdXJyWSArIGR5O1xuICAgICAgICBjb25zdCBrZXkgPSBgJHtuZXh0WH0sJHtuZXh0WX1gO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBuZXh0WCA+PSAwICYmXG4gICAgICAgICAgbmV4dFggPCB0aGlzLmNvbHMgJiZcbiAgICAgICAgICBuZXh0WSA+PSAwICYmXG4gICAgICAgICAgbmV4dFkgPCB0aGlzLnJvd3MgJiZcbiAgICAgICAgICAhdmlzaXRlZC5oYXMoa2V5KVxuICAgICAgICApIHtcbiAgICAgICAgICBjb25zdCB0aWxlVmFsdWUgPSB0aGlzLm1hcFtuZXh0WV0/LltuZXh0WF07XG4gICAgICAgICAgdmlzaXRlZC5hZGQoa2V5KTtcblxuICAgICAgICAgIGlmICh0YXJnZXRTYWZlVGlsZXMuaW5jbHVkZXModGlsZVZhbHVlKSAmJiAoIWV4Y2x1ZGVMaWZ0IHx8IHRpbGVWYWx1ZSAhPT0gVElMRV9MSUZUKSkge1xuICAgICAgICAgICAgLy8g0J3QsNGI0LvQuCDQv9C+0LTRhdC+0LTRj9GJ0LjQuSDRgtC40L8g0YLQsNC50LvQsFxuICAgICAgICAgICAgaWYgKHRoaXMuaXNUaWxlT3BlbkVub3VnaChuZXh0WCwgbmV4dFksIGJmc01pbk9wZW5TaWRlcywgYXZvaWRPbmVUaWxlV2lkZVBhc3NhZ2VzKSkge1xuICAgICAgICAgICAgICAvLyDQmCDQvtC9INC00L7RgdGC0LDRgtC+0YfQvdC+INC+0YLQutGA0YvRglxuICAgICAgICAgICAgICAvLyBpZiAoaXNEZWJ1Z0N1cnJlbnRDYWxsKSBjb25zb2xlLmxvZyhgICBbZmluZE5lYXJlc3RdIFNVQ0NFU1M6IEJGUyBmb3VuZCAoJHtuZXh0WH0sJHtuZXh0WX0pLmApO1xuICAgICAgICAgICAgICByZXR1cm4geyB4OiAobmV4dFggKyAwLjUpICogdGhpcy50aWxlU2l6ZSwgeTogKG5leHRZICsgMC41KSAqIHRoaXMudGlsZVNpemUgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8g0JXRgdC70Lgg0YLQsNC50Lsg0L/RgNC+0YXQvtC00LjQvCDQtNC70Y8gQkZTLCDQtNC+0LHQsNCy0LvRj9C10Lwg0LIg0L7Rh9C10YDQtdC00YxcbiAgICAgICAgICBpZiAoYmZzV2Fsa2FibGVQYXRoVGlsZXMuaW5jbHVkZXModGlsZVZhbHVlKSkge1xuICAgICAgICAgICAgcXVldWUucHVzaChbbmV4dFgsIG5leHRZXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gaWYgKGlzRGVidWdDdXJyZW50Q2FsbCkgY29uc29sZS5lcnJvcihgICBbZmluZE5lYXJlc3RdIEZBSUxVUkU6IE5vIHN1aXRhYmxlIHRpbGUgZm91bmQgZm9yIHRhcmdldCAoJHt0YXJnZXRUaWxlWH0sJHt0YXJnZXRUaWxlWX0pIGFmdGVyIGFsbCBzZWFyY2hlcy5gKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGdldFNwYXduUG9pbnRJblJvb21PZkxpZnQobGlmdFRpbGVYLCBsaWZ0VGlsZVksIHByZWZlcnJlZERpc3RhbmNlID0gMikge1xuICAgIGNvbnN0IGlzRGVidWdDdXJyZW50Q2FsbCA9IHRoaXMuZmxvb3JOdW1iZXIgPT09IERFQlVHX0ZMT09SO1xuICAgIC8vIGlmIChpc0RlYnVnQ3VycmVudENhbGwpIGNvbnNvbGUubG9nKGBbUHJvY01hcCBGJHt0aGlzLmZsb29yTnVtYmVyfSBnZXRTcGF3blBvaW50SW5Sb29tT2ZMaWZ0XSBDYWxsZWQgZm9yIGxpZnQgYXQgKCR7bGlmdFRpbGVYfSwgJHtsaWZ0VGlsZVl9KSwgcHJlZmVycmVkRGlzdDogJHtwcmVmZXJyZWREaXN0YW5jZX1gKTtcblxuICAgIGxldCBhc3NvY2lhdGVkUm9vbSA9IG51bGw7XG4gICAgbGV0IGVudHJ5UG9pbnRUb1Jvb20gPSBudWxsOyAvLyB7eCwgeX0gLSDQutC70LXRgtC60LAg0L/QvtC70LAg0LrQvtC80L3QsNGC0YssINC/0YDQuNC80YvQutCw0Y7RidCw0Y8g0Log0LvQuNGE0YLRgy/QutC+0YDQuNC00L7RgNGDINC70LjRhNGC0LBcbiAgICBsZXQgZGlyZWN0aW9uRnJvbVNvdXJjZVRvRW50cnlQb2ludCA9IG51bGw7IC8vIHtkeCwgZHl9IC0g0L3QsNC/0YDQsNCy0LvQtdC90LjQtSDQvtGCINC40YHRgtC+0YfQvdC40LrQsCAo0LvQuNGE0YIg0LjQu9C4INC60L7RgNC40LTQvtGAINGDINC70LjRhNGC0LApINC6IGVudHJ5UG9pbnRUb1Jvb21cblxuICAgIGNvbnN0IGNoZWNrTmVpZ2hib3JzID0gW1xuICAgICAgeyBkeDogMCwgZHk6IC0xIH0sXG4gICAgICB7IGR4OiAwLCBkeTogMSB9LFxuICAgICAgeyBkeDogLTEsIGR5OiAwIH0sXG4gICAgICB7IGR4OiAxLCBkeTogMCB9LFxuICAgIF07IC8vIE4sIFMsIFcsIEVcblxuICAgIC8vINCt0YLQsNC/IDE6INCb0LjRhNGCINC90LDQv9GA0Y/QvNGD0Y4g0L/RgNC40LzRi9C60LDQtdGCINC6INC60L7QvNC90LDRgtC1P1xuICAgIC8vINCa0LvQtdGC0LrQsCDQu9C40YTRgtCwIGxpZnRUaWxlWCwgbGlmdFRpbGVZINCc0J7QltCV0KIg0LHRi9GC0YwgVElMRV9DT1JSSURPUiDQsiB0aGlzLm1hcCwg0LXRgdC70Lgg0L/Rg9GC0Ywg0LHRi9C7INC/0YDQvtC70L7QttC10L0g0Log0L3QtdC5LlxuICAgIGZvciAoY29uc3QgbiBvZiBjaGVja05laWdoYm9ycykge1xuICAgICAgY29uc3QgYWRqWCA9IGxpZnRUaWxlWCArIG4uZHg7IC8vINCh0L7RgdC10LQg0LrQu9C10YLQutC4INC70LjRhNGC0LBcbiAgICAgIGNvbnN0IGFkalkgPSBsaWZ0VGlsZVkgKyBuLmR5O1xuICAgICAgaWYgKFxuICAgICAgICBhZGpYID49IDAgJiZcbiAgICAgICAgYWRqWCA8IHRoaXMuY29scyAmJlxuICAgICAgICBhZGpZID49IDAgJiZcbiAgICAgICAgYWRqWSA8IHRoaXMucm93cyAmJlxuICAgICAgICB0aGlzLm1hcFthZGpZXT8uW2FkalhdID09PSBUSUxFX1JPT01fRkxPT1JcbiAgICAgICkge1xuICAgICAgICBmb3IgKGNvbnN0IHJvb20gb2YgdGhpcy5yb29tcykge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGFkalggPj0gcm9vbS54ICYmXG4gICAgICAgICAgICBhZGpYIDwgcm9vbS54ICsgcm9vbS53aWR0aCAmJlxuICAgICAgICAgICAgYWRqWSA+PSByb29tLnkgJiZcbiAgICAgICAgICAgIGFkalkgPCByb29tLnkgKyByb29tLmhlaWdodFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgYXNzb2NpYXRlZFJvb20gPSByb29tO1xuICAgICAgICAgICAgZW50cnlQb2ludFRvUm9vbSA9IHsgeDogYWRqWCwgeTogYWRqWSB9OyAvLyDQrdGC0L4g0Lgg0LXRgdGC0Ywg0YLQvtGH0LrQsCDQstGF0L7QtNCwINCyINC60L7QvNC90LDRgtGDXG4gICAgICAgICAgICBkaXJlY3Rpb25Gcm9tU291cmNlVG9FbnRyeVBvaW50ID0geyBkeDogbi5keCwgZHk6IG4uZHkgfTsgLy8g0J3QsNC/0YDQsNCy0LvQtdC90LjQtSDQvtGCINC70LjRhNGC0LAg0Log0Y3RgtC+0Lkg0YLQvtGH0LrQtVxuICAgICAgICAgICAgLy8gaWYgKGlzRGVidWdDdXJyZW50Q2FsbCkgY29uc29sZS5sb2coYCAgW2dldFNwYXduUG9pbnRJblJvb21PZkxpZnRdIExpZnQgKCR7bGlmdFRpbGVYfSwke2xpZnRUaWxlWX0pIGRpcmVjdGx5IGFkamFjZW50IHRvIHJvb20gZmxvb3IgYXQgKCR7YWRqWH0sJHthZGpZfSkuIFJvb20gSUQ6ICR7cm9vbS5pZCB8fCAnTi9BJ31gKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGFzc29jaWF0ZWRSb29tKSBicmVhaztcbiAgICB9XG5cbiAgICAvLyDQrdGC0LDQvyAyOiDQldGB0LvQuCDQvdC1INC90LDQv9GA0Y/QvNGD0Y4sINGC0L4g0YfQtdGA0LXQtyDQvtC00L3RgyDQutC70LXRgtC60YMg0LrQvtGA0LjQtNC+0YDQsD9cbiAgICBpZiAoIWFzc29jaWF0ZWRSb29tKSB7XG4gICAgICAvLyBpZiAoaXNEZWJ1Z0N1cnJlbnRDYWxsKSBjb25zb2xlLmxvZyhgICBbZ2V0U3Bhd25Qb2ludEluUm9vbU9mTGlmdF0gTGlmdCBub3QgZGlyZWN0bHkgYWRqYWNlbnQuIENoZWNraW5nIG5laWdoYm9ycyBvZiBuZWlnaGJvcnMgKHZpYSAxIGNvcnJpZG9yIHRpbGUpLi4uYCk7XG4gICAgICBmb3IgKGNvbnN0IG5PdXRlciBvZiBjaGVja05laWdoYm9ycykge1xuICAgICAgICAvLyBuT3V0ZXIgLSDQvdCw0L/RgNCw0LLQu9C10L3QuNC1INC6INCy0L7Qt9C80L7QttC90L7QuSDQutC70LXRgtC60LUg0LrQvtGA0LjQtNC+0YDQsCDRgNGP0LTQvtC8INGBINC70LjRhNGC0L7QvFxuICAgICAgICBjb25zdCBjb3JyaWRvclggPSBsaWZ0VGlsZVggKyBuT3V0ZXIuZHg7XG4gICAgICAgIGNvbnN0IGNvcnJpZG9yWSA9IGxpZnRUaWxlWSArIG5PdXRlci5keTtcblxuICAgICAgICAvLyDQn9GA0L7QstC10YDRj9C10LwsINGH0YLQviDRjdGC0LAg0L/RgNC+0LzQtdC20YPRgtC+0YfQvdCw0Y8g0LrQu9C10YLQutCwIC0g0LrQvtGA0LjQtNC+0YBcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGNvcnJpZG9yWCA8IDAgfHxcbiAgICAgICAgICBjb3JyaWRvclggPj0gdGhpcy5jb2xzIHx8XG4gICAgICAgICAgY29ycmlkb3JZIDwgMCB8fFxuICAgICAgICAgIGNvcnJpZG9yWSA+PSB0aGlzLnJvd3MgfHxcbiAgICAgICAgICB0aGlzLm1hcFtjb3JyaWRvclldPy5bY29ycmlkb3JYXSAhPT0gVElMRV9DT1JSSURPUlxuICAgICAgICApIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgbklubmVyIG9mIGNoZWNrTmVpZ2hib3JzKSB7XG4gICAgICAgICAgLy8gbklubmVyIC0g0L3QsNC/0YDQsNCy0LvQtdC90LjQtSDQvtGCINC60LvQtdGC0LrQuCDQutC+0YDQuNC00L7RgNCwINC6INCy0L7Qt9C80L7QttC90L7QuSDQutC+0LzQvdCw0YLQtVxuICAgICAgICAgIC8vINCd0LUg0YHQvNC+0YLRgNC40Lwg0L7QsdGA0LDRgtC90L4g0L3QsCDQuNGB0YXQvtC00L3Rg9GOINC60LvQtdGC0LrRgyDQu9C40YTRgtCwXG4gICAgICAgICAgaWYgKG5Jbm5lci5keCA9PT0gLW5PdXRlci5keCAmJiBuSW5uZXIuZHkgPT09IC1uT3V0ZXIuZHkpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgY29uc3QgcG90ZW50aWFsUm9vbVggPSBjb3JyaWRvclggKyBuSW5uZXIuZHg7XG4gICAgICAgICAgY29uc3QgcG90ZW50aWFsUm9vbVkgPSBjb3JyaWRvclkgKyBuSW5uZXIuZHk7XG5cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBwb3RlbnRpYWxSb29tWCA+PSAwICYmXG4gICAgICAgICAgICBwb3RlbnRpYWxSb29tWCA8IHRoaXMuY29scyAmJlxuICAgICAgICAgICAgcG90ZW50aWFsUm9vbVkgPj0gMCAmJlxuICAgICAgICAgICAgcG90ZW50aWFsUm9vbVkgPCB0aGlzLnJvd3MgJiZcbiAgICAgICAgICAgIHRoaXMubWFwW3BvdGVudGlhbFJvb21ZXT8uW3BvdGVudGlhbFJvb21YXSA9PT0gVElMRV9ST09NX0ZMT09SXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJvb20gb2YgdGhpcy5yb29tcykge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgcG90ZW50aWFsUm9vbVggPj0gcm9vbS54ICYmXG4gICAgICAgICAgICAgICAgcG90ZW50aWFsUm9vbVggPCByb29tLnggKyByb29tLndpZHRoICYmXG4gICAgICAgICAgICAgICAgcG90ZW50aWFsUm9vbVkgPj0gcm9vbS55ICYmXG4gICAgICAgICAgICAgICAgcG90ZW50aWFsUm9vbVkgPCByb29tLnkgKyByb29tLmhlaWdodFxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBhc3NvY2lhdGVkUm9vbSA9IHJvb207XG4gICAgICAgICAgICAgICAgZW50cnlQb2ludFRvUm9vbSA9IHsgeDogcG90ZW50aWFsUm9vbVgsIHk6IHBvdGVudGlhbFJvb21ZIH07IC8vINCt0YLQviDRgtC+0YfQutCwINCy0YXQvtC00LAg0LIg0LrQvtC80L3QsNGC0YNcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb25Gcm9tU291cmNlVG9FbnRyeVBvaW50ID0geyBkeDogbklubmVyLmR4LCBkeTogbklubmVyLmR5IH07IC8vINCd0LDQv9GA0LDQstC70LXQvdC40LUg0L7RgiDQutC+0YDQuNC00L7RgNCwINC6INGN0YLQvtC5INGC0L7Rh9C60LVcbiAgICAgICAgICAgICAgICAvLyBpZiAoaXNEZWJ1Z0N1cnJlbnRDYWxsKSBjb25zb2xlLmxvZyhgICBbZ2V0U3Bhd25Qb2ludEluUm9vbU9mTGlmdF0gTGlmdCBuZWFyIHJvb20gdmlhIGNvcnJpZG9yICgke2NvcnJpZG9yWH0sJHtjb3JyaWRvcll9KS4gRW50cnkgdG8gcm9vbSBhdCAoJHtwb3RlbnRpYWxSb29tWH0sJHtwb3RlbnRpYWxSb29tWX0pLiBSb29tIElEOiAke3Jvb20uaWQgfHwgJ04vQSd9YCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGFzc29jaWF0ZWRSb29tKSBicmVhazsgLy8g0J3QsNGI0LvQuCDQutC+0LzQvdCw0YLRgyDRh9C10YDQtdC3IG5Jbm5lclxuICAgICAgICB9XG4gICAgICAgIGlmIChhc3NvY2lhdGVkUm9vbSkgYnJlYWs7IC8vINCd0LDRiNC70Lgg0LrQvtC80L3QsNGC0YMg0YfQtdGA0LXQtyBuT3V0ZXJcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWFzc29jaWF0ZWRSb29tIHx8ICFlbnRyeVBvaW50VG9Sb29tIHx8ICFkaXJlY3Rpb25Gcm9tU291cmNlVG9FbnRyeVBvaW50KSB7XG4gICAgICAvLyAgIGlmIChpc0RlYnVnQ3VycmVudENhbGwpIGNvbnNvbGUud2FybihgICBbZ2V0U3Bhd25Qb2ludEluUm9vbU9mTGlmdF0gQ291bGQgbm90IGZpbmQgYW4gYXNzb2NpYXRlZCByb29tIG9yIGVudHJ5IHBvaW50IGZvciBsaWZ0IGF0ICgke2xpZnRUaWxlWH0sJHtsaWZ0VGlsZVl9KS5gKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vINCi0LXQv9C10YDRjCBkaXJlY3Rpb25Gcm9tU291cmNlVG9FbnRyeVBvaW50IC0g0Y3RgtC+INC90LDQv9GA0LDQstC70LXQvdC40LUg0L7RgiBcItC00LLQtdGA0LhcIiAoZW50cnlQb2ludFRvUm9vbSkg0JLQk9Cb0KPQkdCsINC60L7QvNC90LDRgtGLLlxuICAgIGNvbnN0IGlud2FyZER4ID0gZGlyZWN0aW9uRnJvbVNvdXJjZVRvRW50cnlQb2ludC5keDtcbiAgICBjb25zdCBpbndhcmREeSA9IGRpcmVjdGlvbkZyb21Tb3VyY2VUb0VudHJ5UG9pbnQuZHk7XG5cbiAgICAvLyDQmNGJ0LXQvCDRgtC+0YfQutGDINC90LAgKHByZWZlcnJlZERpc3RhbmNlIC0gMSkg0YjQsNCz0L7QsiDQstCz0LvRg9Cx0Ywg0L7RgiBlbnRyeVBvaW50VG9Sb29tXG4gICAgLy8gcHJlZmVycmVkRGlzdGFuY2UgPSAyIC0+IGRpc3QgPSAxICgxINGI0LDQsyDQvtGCINCy0YXQvtC00LApLCBkaXN0ID0gMCAo0YHQsNC8INCy0YXQvtC0KVxuICAgIC8vIHByZWZlcnJlZERpc3RhbmNlID0gMSAtPiBkaXN0ID0gMCAo0YHQsNC8INCy0YXQvtC0KVxuICAgIGZvciAobGV0IGRpc3RPZmZzZXQgPSBwcmVmZXJyZWREaXN0YW5jZSAtIDE7IGRpc3RPZmZzZXQgPj0gMDsgZGlzdE9mZnNldC0tKSB7XG4gICAgICBjb25zdCBzcGF3bkNhbmRpZGF0ZVRpbGVYID0gZW50cnlQb2ludFRvUm9vbS54ICsgaW53YXJkRHggKiBkaXN0T2Zmc2V0O1xuICAgICAgY29uc3Qgc3Bhd25DYW5kaWRhdGVUaWxlWSA9IGVudHJ5UG9pbnRUb1Jvb20ueSArIGlud2FyZER5ICogZGlzdE9mZnNldDtcbiAgICAgIC8vIGlmIChpc0RlYnVnQ3VycmVudENhbGwpIGNvbnNvbGUubG9nKGAgIFtnZXRTcGF3blBvaW50SW5Sb29tT2ZMaWZ0XSBUcnlpbmcgY2FuZGlkYXRlICgke3NwYXduQ2FuZGlkYXRlVGlsZVh9LCR7c3Bhd25DYW5kaWRhdGVUaWxlWX0pIGF0IGRpc3RPZmZzZXQgJHtkaXN0T2Zmc2V0fSBmcm9tIGVudHJ5ICR7SlNPTi5zdHJpbmdpZnkoZW50cnlQb2ludFRvUm9vbSl9YCk7XG5cbiAgICAgIGlmIChcbiAgICAgICAgc3Bhd25DYW5kaWRhdGVUaWxlWCA+PSBhc3NvY2lhdGVkUm9vbS54ICYmXG4gICAgICAgIHNwYXduQ2FuZGlkYXRlVGlsZVggPCBhc3NvY2lhdGVkUm9vbS54ICsgYXNzb2NpYXRlZFJvb20ud2lkdGggJiZcbiAgICAgICAgc3Bhd25DYW5kaWRhdGVUaWxlWSA+PSBhc3NvY2lhdGVkUm9vbS55ICYmXG4gICAgICAgIHNwYXduQ2FuZGlkYXRlVGlsZVkgPCBhc3NvY2lhdGVkUm9vbS55ICsgYXNzb2NpYXRlZFJvb20uaGVpZ2h0ICYmXG4gICAgICAgIHRoaXMubWFwW3NwYXduQ2FuZGlkYXRlVGlsZVldPy5bc3Bhd25DYW5kaWRhdGVUaWxlWF0gPT09IFRJTEVfUk9PTV9GTE9PUlxuICAgICAgKSB7XG4gICAgICAgIC8vINCf0YDQvtCy0LXRgNC60LA6INC10YHRgtGMINC70Lgg0LXRidC1INC+0LTQvdCwINC60LvQtdGC0LrQsCDQv9C+0LvQsCDQutC+0LzQvdCw0YLRiyDQl9CQINGN0YLQvtC5INC60LDQvdC00LjQtNCw0YLRgdC60L7QuSDRgtC+0YfQutC+0LkgKNCyINGC0L7QvCDQttC1INC90LDQv9GA0LDQstC70LXQvdC40LggaW53YXJkKVxuICAgICAgICAvLyDQrdGC0L4g0LPQsNGA0LDQvdGC0LjRgNGD0LXRgiwg0YfRgtC+INC80Ysg0L3QtSDRgdC/0LDQstC90LjQvNGB0Y8g0LLQv9C70L7RgtC90YPRjiDQuiBcItC00LDQu9GM0L3QtdC5XCIg0YHRgtC10L3QtSDQutC+0LzQvdCw0YLRiywg0LXRgdC70Lgg0LrQvtC80L3QsNGC0LAg0YPQt9C60LDRjy5cbiAgICAgICAgY29uc3QgZnVydGhlckluWCA9IHNwYXduQ2FuZGlkYXRlVGlsZVggKyBpbndhcmREeDtcbiAgICAgICAgY29uc3QgZnVydGhlckluWSA9IHNwYXduQ2FuZGlkYXRlVGlsZVkgKyBpbndhcmREeTtcbiAgICAgICAgY29uc3QgaGFzU3BhY2VCZWhpbmQgPVxuICAgICAgICAgIGZ1cnRoZXJJblggPj0gYXNzb2NpYXRlZFJvb20ueCAmJlxuICAgICAgICAgIGZ1cnRoZXJJblggPCBhc3NvY2lhdGVkUm9vbS54ICsgYXNzb2NpYXRlZFJvb20ud2lkdGggJiZcbiAgICAgICAgICBmdXJ0aGVySW5ZID49IGFzc29jaWF0ZWRSb29tLnkgJiZcbiAgICAgICAgICBmdXJ0aGVySW5ZIDwgYXNzb2NpYXRlZFJvb20ueSArIGFzc29jaWF0ZWRSb29tLmhlaWdodCAmJlxuICAgICAgICAgIHRoaXMubWFwW2Z1cnRoZXJJblldPy5bZnVydGhlckluWF0gPT09IFRJTEVfUk9PTV9GTE9PUjtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgdGhpcy5pc1RpbGVPcGVuRW5vdWdoKHNwYXduQ2FuZGlkYXRlVGlsZVgsIHNwYXduQ2FuZGlkYXRlVGlsZVksIDIsIHRydWUpICYmXG4gICAgICAgICAgaGFzU3BhY2VCZWhpbmRcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gICBpZiAoaXNEZWJ1Z0N1cnJlbnRDYWxsKSBjb25zb2xlLmxvZyhgICBbZ2V0U3Bhd25Qb2ludEluUm9vbU9mTGlmdF0gU1VDQ0VTUzogRm91bmQgc3VpdGFibGUgc3Bhd24gcG9pbnQgaW4gcm9vbTogVGlsZSAoJHtzcGF3bkNhbmRpZGF0ZVRpbGVYfSwke3NwYXduQ2FuZGlkYXRlVGlsZVl9KS4gSGFzIHNwYWNlIGJlaGluZDogJHtoYXNTcGFjZUJlaGluZH1gKTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogKHNwYXduQ2FuZGlkYXRlVGlsZVggKyAwLjUpICogdGhpcy50aWxlU2l6ZSxcbiAgICAgICAgICAgIHk6IChzcGF3bkNhbmRpZGF0ZVRpbGVZICsgMC41KSAqIHRoaXMudGlsZVNpemUsXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBpZiAoaXNEZWJ1Z0N1cnJlbnRDYWxsKSBjb25zb2xlLmxvZyhgICBbZ2V0U3Bhd25Qb2ludEluUm9vbU9mTGlmdF0gQ2FuZGlkYXRlICgke3NwYXduQ2FuZGlkYXRlVGlsZVh9LCR7c3Bhd25DYW5kaWRhdGVUaWxlWX0pIG5vdCBzdWl0YWJsZS4gT3BlbkVub3VnaDogJHt0aGlzLmlzVGlsZU9wZW5Fbm91Z2goc3Bhd25DYW5kaWRhdGVUaWxlWCwgc3Bhd25DYW5kaWRhdGVUaWxlWSwgMiwgdHJ1ZSl9LCBIYXNTcGFjZUJlaGluZDogJHtoYXNTcGFjZUJlaGluZH1gKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaWYgKGlzRGVidWdDdXJyZW50Q2FsbCkgY29uc29sZS5sb2coYCAgW2dldFNwYXduUG9pbnRJblJvb21PZkxpZnRdIENhbmRpZGF0ZSAoJHtzcGF3bkNhbmRpZGF0ZVRpbGVYfSwke3NwYXduQ2FuZGlkYXRlVGlsZVl9KSBpcyBub3QgdmFsaWQgcm9vbSBmbG9vciBvciBvdXQgb2Ygcm9vbSBib3VuZHMuYCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8g0JXRgdC70Lgg0L3QtSDQvdCw0YjQu9C4INC40LTQtdCw0LvRjNC90YPRjiDRgtC+0YfQutGDINGBINC/0YDQvtGB0YLRgNCw0L3RgdGC0LLQvtC8INC30LAg0YHQv9C40L3QvtC5LCDQv9GA0L7QsdGD0LXQvCDRgdCw0LwgZW50cnlQb2ludFRvUm9vbSAo0LXRgdC70Lgg0L7QvSDQv9C+0LTRhdC+0LTQuNGCKVxuICAgIGlmICh0aGlzLmlzVGlsZU9wZW5Fbm91Z2goZW50cnlQb2ludFRvUm9vbS54LCBlbnRyeVBvaW50VG9Sb29tLnksIDIsIHRydWUpKSB7XG4gICAgICAvLyBpZiAoaXNEZWJ1Z0N1cnJlbnRDYWxsKSBjb25zb2xlLmxvZyhgICBbZ2V0U3Bhd25Qb2ludEluUm9vbU9mTGlmdF0gRmFsbGJhY2s6IFVzaW5nIGVudHJ5IHBvaW50IHRvIHJvb20gKCR7ZW50cnlQb2ludFRvUm9vbS54fSwke2VudHJ5UG9pbnRUb1Jvb20ueX0pIGFzIGl0J3Mgb3BlbiBlbm91Z2guYCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB4OiAoZW50cnlQb2ludFRvUm9vbS54ICsgMC41KSAqIHRoaXMudGlsZVNpemUsXG4gICAgICAgIHk6IChlbnRyeVBvaW50VG9Sb29tLnkgKyAwLjUpICogdGhpcy50aWxlU2l6ZSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gaWYgKGlzRGVidWdDdXJyZW50Q2FsbCkgY29uc29sZS53YXJuKGAgIFtnZXRTcGF3blBvaW50SW5Sb29tT2ZMaWZ0XSBGQUlMVVJFOiBDb3VsZCBub3QgZmluZCBhbnkgc3VpdGFibGUgc3Bhd24gcG9pbnQgaW5zaWRlIHJvb20gZm9yIGxpZnQgYXQgKCR7bGlmdFRpbGVYfSwke2xpZnRUaWxlWX0pLmApO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZmluZE5lYXJieVVuYW5zd2VyZWRCb29rKHdvcmxkWCwgd29ybGRZLCByYWRpdXMgPSB0aGlzLnRpbGVTaXplICogMC44KSB7XG4gICAgaWYgKCF0aGlzLmJvb2tzIHx8IHRoaXMuYm9va3MubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcbiAgICBsZXQgY2xvc2VzdEJvb2sgPSBudWxsO1xuICAgIGxldCBtaW5EaXN0YW5jZVNxID0gcmFkaXVzICogcmFkaXVzO1xuXG4gICAgZm9yIChjb25zdCBib29rIG9mIHRoaXMuYm9va3MpIHtcbiAgICAgIGlmICghYm9vay5pc0NvbGxlY3RlZCkge1xuICAgICAgICAvLyDQn9GA0LXQtNC/0L7Qu9Cw0LPQsNC10LwsINGH0YLQviDRgyBCb29rINC10YHRgtGMINGB0LLQvtC50YHRgtCy0L4gaXNDb2xsZWN0ZWRcbiAgICAgICAgY29uc3QgZHggPSBib29rLnggLSB3b3JsZFg7XG4gICAgICAgIGNvbnN0IGR5ID0gYm9vay55IC0gd29ybGRZO1xuICAgICAgICBjb25zdCBkaXN0YW5jZVNxID0gZHggKiBkeCArIGR5ICogZHk7XG4gICAgICAgIGlmIChkaXN0YW5jZVNxIDwgbWluRGlzdGFuY2VTcSkge1xuICAgICAgICAgIG1pbkRpc3RhbmNlU3EgPSBkaXN0YW5jZVNxO1xuICAgICAgICAgIGNsb3Nlc3RCb29rID0gYm9vaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2xvc2VzdEJvb2s7XG4gIH1cblxuICBtYXJrQm9va0FzQ29sbGVjdGVkKGJvb2tUb0NvbGxlY3QpIHtcbiAgICBpZiAoIWJvb2tUb0NvbGxlY3QgfHwgIXRoaXMuYm9va3MpIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBib29rID0gdGhpcy5ib29rcy5maW5kKChiKSA9PiBiLmlkID09PSBib29rVG9Db2xsZWN0LmlkKTsgLy8g0JjRidC10Lwg0L/QviBJRFxuICAgIGlmIChib29rICYmICFib29rLmlzQ29sbGVjdGVkKSB7XG4gICAgICBib29rLmlzQ29sbGVjdGVkID0gdHJ1ZTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKGBbUHJvY01hcCBGJHt0aGlzLmZsb29yTnVtYmVyfV0gQm9vayAke2Jvb2suaWR9IG1hcmtlZCBhcyBjb2xsZWN0ZWQuYCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZmluZE5lYXJieUxpZnQod29ybGRYLCB3b3JsZFksIHJhZGl1cyA9IHRoaXMudGlsZVNpemUgKiBMSUZUX0lOVEVSQUNUSU9OX1JBRElVU19NVUxUSVBMSUVSKSB7XG4gICAgaWYgKCF0aGlzLmxpZnRQb3NpdGlvbikgcmV0dXJuIG51bGw7XG4gICAgLy8g0KDQsNGB0YHRgtC+0Y/QvdC40LUg0L7RgiDRhtC10L3RgtGA0LAg0L/QtdGA0YHQvtC90LDQttCwINC00L4g0YbQtdC90YLRgNCwINC60LvQtdGC0LrQuCDQu9C40YTRgtCwXG4gICAgY29uc3QgZHggPSB3b3JsZFggLSB0aGlzLmxpZnRQb3NpdGlvbi54OyAvLyBsaWZ0UG9zaXRpb24ueCAtINC80LjRgNC+0LLRi9C1INC60L7QvtGA0LTQuNC90LDRgtGLXG4gICAgY29uc3QgZHkgPSB3b3JsZFkgLSB0aGlzLmxpZnRQb3NpdGlvbi55O1xuICAgIGNvbnN0IGRpc3RhbmNlU3EgPSBkeCAqIGR4ICsgZHkgKiBkeTtcbiAgICByZXR1cm4gZGlzdGFuY2VTcSA8IHJhZGl1cyAqIHJhZGl1cyA/IHRoaXMubGlmdFBvc2l0aW9uIDogbnVsbDtcbiAgfVxuXG4gIGdldExpZnRQb3NpdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5saWZ0UG9zaXRpb247IC8vINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCIHt4LCB5LCB0aWxlWCwgdGlsZVl9XG4gIH1cblxuICBkcmF3KGN0eCwgYm9va0ltYWdlID0gbnVsbCkge1xuICAgIGlmICghdGhpcy5tYXAgfHwgIXRoaXMucmVuZGVyZXIpIHJldHVybjtcblxuICAgIGNvbnN0IG1hcERhdGEgPSB7XG4gICAgICBtYXA6IHRoaXMubWFwLFxuICAgICAgcm9vbXM6IHRoaXMucm9vbXMsXG4gICAgICBib29rczogdGhpcy5ib29rcywgLy8g0J/QtdGA0LXQtNCw0LXQvCDQsNC60YLRg9Cw0LvRjNC90YvQuSDQvNCw0YHRgdC40LIg0LrQvdC40LNcbiAgICAgIGxpZnRQb3NpdGlvbjogdGhpcy5saWZ0UG9zaXRpb24sIC8vINCf0LXRgNC10LTQsNC10LwgdGlsZVgsIHRpbGVZINC4INC80LjRgNC+0LLRi9C1IHgseSDQu9C40YTRgtCwXG4gICAgICBvZmZzZXRYOiB0aGlzLm9mZnNldFgsXG4gICAgICBvZmZzZXRZOiB0aGlzLm9mZnNldFksXG4gICAgICBjb2xzOiB0aGlzLmNvbHMsXG4gICAgICByb3dzOiB0aGlzLnJvd3MsXG4gICAgICB0aWxlU2l6ZTogdGhpcy50aWxlU2l6ZSxcbiAgICB9O1xuICAgIHRoaXMucmVuZGVyZXIuZHJhdyhjdHgsIG1hcERhdGEsIGJvb2tJbWFnZSk7IC8vIGJvb2tJbWFnZSAtINGN0YLQviDRgdC/0YDQsNC50YIg0LTQu9GPINC60L3QuNCzXG4gIH1cblxuICBsb2dNYXBHcmlkKCkge1xuICAgIGlmICghdGhpcy5tYXApIHtcbiAgICAgIGNvbnNvbGUubG9nKGBbUHJvY01hcCBGJHt0aGlzLmZsb29yTnVtYmVyfV0gTWFwIGdyaWQgbm90IGF2YWlsYWJsZS5gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc29sZS5sb2coYC0tLSBNYXAgR3JpZCBGbG9vciAke3RoaXMuZmxvb3JOdW1iZXJ9ICgke3RoaXMuY29sc314JHt0aGlzLnJvd3N9KSAtLS1gKTtcbiAgICBsZXQgaGVhZGVyID0gJyAgICc7IC8vINCU0LvRjyDQvdC+0LzQtdGA0L7QsiDRgdGC0L7Qu9Cx0YbQvtCyXG4gICAgZm9yIChsZXQgYyA9IDA7IGMgPCB0aGlzLmNvbHM7IGMrKykgaGVhZGVyICs9IGMgJSAxMCA9PT0gMCA/IE1hdGguZmxvb3IoYyAvIDEwKSA6ICcgJztcbiAgICBjb25zb2xlLmxvZyhoZWFkZXIpO1xuICAgIGhlYWRlciA9ICcgICAnO1xuICAgIGZvciAobGV0IGMgPSAwOyBjIDwgdGhpcy5jb2xzOyBjKyspIGhlYWRlciArPSBjICUgMTA7XG4gICAgY29uc29sZS5sb2coaGVhZGVyKTtcblxuICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGhpcy5yb3dzOyB5KyspIHtcbiAgICAgIGNvbnN0IHJvd051bSA9IHkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnICcpO1xuICAgICAgY29uc3Qgcm93U3RyaW5nID0gdGhpcy5tYXBbeV1cbiAgICAgICAgLm1hcCgodGlsZSkgPT4ge1xuICAgICAgICAgIHN3aXRjaCAodGlsZSkge1xuICAgICAgICAgICAgY2FzZSBUSUxFX1dBTEw6XG4gICAgICAgICAgICAgIHJldHVybiAnIyc7IC8vINCh0YLQtdC90LBcbiAgICAgICAgICAgIGNhc2UgVElMRV9DT1JSSURPUjpcbiAgICAgICAgICAgICAgcmV0dXJuICcuJzsgLy8g0JrQvtGA0LjQtNC+0YBcbiAgICAgICAgICAgIGNhc2UgVElMRV9ST09NX0ZMT09SOlxuICAgICAgICAgICAgICByZXR1cm4gJyAnOyAvLyDQn9C+0Lsg0LrQvtC80L3QsNGC0YtcbiAgICAgICAgICAgIGNhc2UgVElMRV9MSUZUOlxuICAgICAgICAgICAgICByZXR1cm4gJ0wnOyAvLyDQm9C40YTRgiAo0YXQvtGC0Y8g0L7QvSDQvNC+0LbQtdGCINCx0YvRgtGMINC/0LXRgNC10LfQsNC/0LjRgdCw0L0g0LrQvtGA0LjQtNC+0YDQvtC8INCyIHRoaXMubWFwKVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgcmV0dXJuICc/JzsgLy8g0J3QtdC40LfQstC10YHRgtC90YvQuSDRgtCw0LnQu1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLmpvaW4oJycpO1xuICAgICAgY29uc29sZS5sb2coYCR7cm93TnVtfSAke3Jvd1N0cmluZ31gKTtcbiAgICB9XG4gICAgaWYgKHRoaXMubGlmdFBvc2l0aW9uKSB7XG4gICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgYExpZnQgYWN0dWFsIHRpbGUgdHlwZSBpbiBtYXBbJHt0aGlzLmxpZnRQb3NpdGlvbi50aWxlWX1dWyR7dGhpcy5saWZ0UG9zaXRpb24udGlsZVh9XTogJHtcbiAgICAgICAgICB0aGlzLm1hcFt0aGlzLmxpZnRQb3NpdGlvbi50aWxlWV0/Llt0aGlzLmxpZnRQb3NpdGlvbi50aWxlWF1cbiAgICAgICAgfWBcbiAgICAgICk7XG4gICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgYExpZnQgcmVwb3J0ZWQgYXQgdGlsZTogKCR7dGhpcy5saWZ0UG9zaXRpb24udGlsZVh9LCAke3RoaXMubGlmdFBvc2l0aW9uLnRpbGVZfSlgXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZygnTGlmdCBwb3NpdGlvbiBub3Qgc2V0LicpO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyhgLS0tIEVuZCBNYXAgR3JpZCBGbG9vciAke3RoaXMuZmxvb3JOdW1iZXJ9IC0tLWApO1xuICB9XG59XG4iLCIvLyBzcmMvY29yZS9MZXZlbC5qc1xuaW1wb3J0IHsgUHJvY2VkdXJhbE1hcCB9IGZyb20gJy4uL21hcC9Qcm9jZWR1cmFsTWFwLmpzJztcbi8vIFJlbW92ZWQgVFJBTlNJVElPTl9aT05FX1JBRElVU19NVUxUSVBMSUVSIGltcG9ydFxuXG4vKipcbiAqINCa0LvQsNGB0YEgTGV2ZWwg0YPQv9GA0LDQstC70Y/QtdGCINGC0LXQutGD0YnQuNC8INGN0YLQsNC20L7QvCDQuCDQt9Cw0LPRgNGD0LfQutC+0Lkg0LrQsNGA0YIuXG4gKiDQm9C+0LPQuNC60LAg0LfQvtC9INC/0LXRgNC10YXQvtC00LAgKHRyYW5zaXRpb24gem9uZXMpINGD0LTQsNC70LXQvdCwLCDRgi7Qui4g0LvQuNGE0YIg0YDQsNCx0L7RgtCw0LXRgiDQuNC90LDRh9C1LlxuICovXG5leHBvcnQgY2xhc3MgTGV2ZWwge1xuICAvKipcbiAgICog0KHQvtC30LTQsNC10YIg0Y3QutC30LXQvNC/0LvRj9GAIExldmVsLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW21pbkZsb29yPTFdIC0g0J3QvtC80LXRgCDRgdCw0LzQvtCz0L4g0L3QuNC20L3QtdCz0L4g0Y3RgtCw0LbQsC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFttYXhGbG9vcj0zXSAtINCd0L7QvNC10YAg0YHQsNC80L7Qs9C+INCy0LXRgNGF0L3QtdCz0L4g0Y3RgtCw0LbQsC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG1pbkZsb29yID0gMSwgbWF4Rmxvb3IgPSAzKSB7XG4gICAgaWYgKG1pbkZsb29yID49IG1heEZsb29yKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIGBMZXZlbCBjb25zdHJ1Y3RvcjogbWluRmxvb3IgKCR7bWluRmxvb3J9KSBtdXN0IGJlIGxlc3MgdGhhbiBtYXhGbG9vciAoJHttYXhGbG9vcn0pLiBVc2luZyBkZWZhdWx0cyAxIGFuZCAzLmBcbiAgICAgICk7XG4gICAgICB0aGlzLm1pbkZsb29yID0gMTtcbiAgICAgIHRoaXMubWF4Rmxvb3IgPSAzO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm1pbkZsb29yID0gbWluRmxvb3I7XG4gICAgICB0aGlzLm1heEZsb29yID0gbWF4Rmxvb3I7XG4gICAgfVxuXG4gICAgdGhpcy5jdXJyZW50Rmxvb3IgPSB0aGlzLm1pbkZsb29yO1xuICAgIHRoaXMuY3VycmVudE1hcCA9IG51bGw7IC8vIEluc3RhbmNlIG9mIFByb2NlZHVyYWxNYXBcbiAgICAvLyB0aGlzLnRyYW5zaXRpb25ab25lcyA9IFtdOyAvLyBSRU1PVkVEIC0gTm8gbG9uZ2VyIG5lZWRlZCBmb3IgbGlmdHNcbiAgICB0aGlzLnRpbGVTaXplID0gMzI7IC8vIERlZmF1bHQsIHdpbGwgYmUgdXBkYXRlZCBmcm9tIG1hcFxuICB9XG5cbiAgLyoqXG4gICAqINCQ0YHQuNC90YXRgNC+0L3QvdC+INC30LDQs9GA0YPQttCw0LXRgiAo0LPQtdC90LXRgNC40YDRg9C10YIpINC60LDRgNGC0YMg0LTQu9GPINGD0LrQsNC30LDQvdC90L7Qs9C+INGN0YLQsNC20LAuXG4gICAqIEFzc3VtZXMgUHJvY2VkdXJhbE1hcCBjb25zdHJ1Y3RvciBoYW5kbGVzIGdlbmVyYXRpb24sIGxpZnQgcGxhY2VtZW50LFxuICAgKiBhbmQgdGhyb3dzIG9uIGNyaXRpY2FsIGZhaWx1cmUgKGUuZy4sIHVucmVhY2hhYmxlIGxpZnQpLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZmxvb3JOdW1iZXIgLSDQndC+0LzQtdGAINGN0YLQsNC20LAg0LTQu9GPINC30LDQs9GA0YPQt9C60LguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjYW52YXNXaWR0aCAtINCo0LjRgNC40L3QsCDQutCw0L3QstCw0YHQsC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGNhbnZhc0hlaWdodCAtINCS0YvRgdC+0YLQsCDQutCw0L3QstCw0YHQsC5cbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59INCf0YDQvtC80LjRgSwg0LrQvtGC0L7RgNGL0Lkg0YDQsNC30YDQtdGI0LDQtdGC0YHRjyDQv9C+0YHQu9C1INC30LDQs9GA0YPQt9C60Lgg0Y3RgtCw0LbQsC5cbiAgICogQHRocm93cyB7RXJyb3J9IElmIFByb2NlZHVyYWxNYXAgZ2VuZXJhdGlvbiBvciB2YWxpZGF0aW9uIGZhaWxzLlxuICAgKi9cbiAgYXN5bmMgbG9hZEZsb29yKGZsb29yTnVtYmVyLCBjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0KSB7XG4gICAgaWYgKGZsb29yTnVtYmVyIDwgdGhpcy5taW5GbG9vciB8fCBmbG9vck51bWJlciA+IHRoaXMubWF4Rmxvb3IpIHtcbiAgICAgIGNvbnN0IGVycm9yTXNnID0gYEF0dGVtcHRlZCB0byBsb2FkIGludmFsaWQgZmxvb3I6ICR7Zmxvb3JOdW1iZXJ9LiBBbGxvd2VkIHJhbmdlOiBbJHt0aGlzLm1pbkZsb29yfS0ke3RoaXMubWF4Rmxvb3J9XWA7XG4gICAgICBjb25zb2xlLmVycm9yKGBbTGV2ZWxdICR7ZXJyb3JNc2d9YCk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNc2cpO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKGBbTGV2ZWxdIExvYWRpbmcgZmxvb3IgJHtmbG9vck51bWJlcn0uLi5gKTtcbiAgICB0aGlzLmN1cnJlbnRGbG9vciA9IGZsb29yTnVtYmVyO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIFByb2NlZHVyYWxNYXAgY29uc3RydWN0b3Igbm93IGhhbmRsZXMgZ2VuZXJhdGlvbiBBTkQgdmFsaWRhdGlvbiAobGlrZSBsaWZ0IHJlYWNoYWJpbGl0eSkuXG4gICAgICAvLyBJdCB3aWxsIHRocm93IGFuIGVycm9yIGlmIGdlbmVyYXRpb24gZmFpbHMgY3JpdGljYWxseS5cbiAgICAgIHRoaXMuY3VycmVudE1hcCA9IG5ldyBQcm9jZWR1cmFsTWFwKFxuICAgICAgICBjYW52YXNXaWR0aCxcbiAgICAgICAgY2FudmFzSGVpZ2h0LFxuICAgICAgICB0aGlzLmN1cnJlbnRGbG9vcixcbiAgICAgICAgdGhpcy5taW5GbG9vcixcbiAgICAgICAgdGhpcy5tYXhGbG9vclxuICAgICAgKTtcblxuICAgICAgLy8gQmFzaWMgdmFsaWRhdGlvbiBhZnRlciBjcmVhdGlvbiAoZW5zdXJlIG1hcCBvYmplY3QgbG9va3MgcmVhc29uYWJsZSlcbiAgICAgIGlmIChcbiAgICAgICAgIXRoaXMuY3VycmVudE1hcC50aWxlU2l6ZSB8fFxuICAgICAgICAhdGhpcy5jdXJyZW50TWFwLm1hcCB8fFxuICAgICAgICAhdGhpcy5jdXJyZW50TWFwLmJvb2tzIHx8IC8vIGJvb2tzIHNob3VsZCBleGlzdCAoZXZlbiBpZiBlbXB0eSlcbiAgICAgICAgIXRoaXMuY3VycmVudE1hcC5nZXRMaWZ0UG9zaXRpb24oKSAvLyBMaWZ0IHBvc2l0aW9uIE1VU1QgZXhpc3QgYWZ0ZXIgc3VjY2Vzc2Z1bCBnZW5lcmF0aW9uXG4gICAgICApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdbTGV2ZWxdIFByb2NlZHVyYWxNYXAgaW5zdGFuY2UgaXMgbWlzc2luZyBlc3NlbnRpYWwgcHJvcGVydGllcyBhZnRlciBjcmVhdGlvbiAodGlsZVNpemUsIG1hcCwgYm9va3MsIG9yIGxpZnRQb3NpdGlvbikuJ1xuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnRpbGVTaXplID0gdGhpcy5jdXJyZW50TWFwLnRpbGVTaXplO1xuICAgICAgY29uc3QgbGlmdFBvcyA9IHRoaXMuY3VycmVudE1hcC5nZXRMaWZ0UG9zaXRpb24oKTtcbiAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICBgICBbTGV2ZWxdIE1hcCBnZW5lcmF0ZWQgZm9yIGZsb29yICR7dGhpcy5jdXJyZW50Rmxvb3J9LiBUaWxlU2l6ZTogJHt0aGlzLnRpbGVTaXplfS4gTGlmdCBhdCB0aWxlKCR7bGlmdFBvcy50aWxlWH0sICR7bGlmdFBvcy50aWxlWX0pLmBcbiAgICAgICk7XG5cbiAgICAgIC8vIFJFTU9WRUQ6IGNyZWF0ZVRyYW5zaXRpb25ab25lcygpIGNhbGwgaXMgbm8gbG9uZ2VyIG5lZWRlZC5cblxuICAgICAgY29uc29sZS5sb2coXG4gICAgICAgIGBbTGV2ZWxdIEZsb29yICR7Zmxvb3JOdW1iZXJ9IGxvYWRlZCBzdWNjZXNzZnVsbHkuIE1hcCBzaXplOiAke3RoaXMuY3VycmVudE1hcC5jb2xzfXgke3RoaXMuY3VycmVudE1hcC5yb3dzfS4gJHt0aGlzLmN1cnJlbnRNYXAuYm9va3MubGVuZ3RofSBib29rcyBwbGFjZWQuYFxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgYFtMZXZlbF0gQ1JJVElDQUwgRkFJTFVSRSBsb2FkaW5nIGZsb29yICR7Zmxvb3JOdW1iZXJ9OiBGYWlsZWQgdG8gY3JlYXRlIG9yIHZhbGlkYXRlIFByb2NlZHVyYWxNYXA6YCxcbiAgICAgICAgZXJyb3JcbiAgICAgICk7XG4gICAgICB0aGlzLmN1cnJlbnRNYXAgPSBudWxsOyAvLyBFbnN1cmUgc3RhdGUgaXMgY2xlYW4gb24gZmFpbHVyZVxuICAgICAgLy8gUmV0aHJvdyB0aGUgZXJyb3IgZm9yIEdhbWUuanMgdG8gaGFuZGxlIChsaWtlbHkgc2hvdyBlcnJvciBtZXNzYWdlIGFuZCBzdG9wKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgTWFwIGdlbmVyYXRpb24vdmFsaWRhdGlvbiBmYWlsZWQgZm9yIGZsb29yICR7Zmxvb3JOdW1iZXJ9LiAke2Vycm9yLm1lc3NhZ2UgfHwgZXJyb3J9YFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gYSByZXNvbHZlZCBwcm9taXNlIChnZW5lcmF0aW9uIGl0c2VsZiBpcyBzeW5jaHJvbm91cyB3aXRoaW4gdGhlIGNvbnN0cnVjdG9yKVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIC8vIFJFTU9WRUQ6IGNyZWF0ZVRyYW5zaXRpb25ab25lcygpIG1ldGhvZCBpcyBvYnNvbGV0ZS5cblxuICAvLyBSRU1PVkVEOiBnZXRDdXJyZW50VHJhbnNpdGlvblpvbmUoKSBtZXRob2QgaXMgb2Jzb2xldGUuIExpZnQgaW50ZXJhY3Rpb24gY2hlY2tlZCBkaWZmZXJlbnRseS5cblxuICAvKipcbiAgICog0JLQvtC30LLRgNCw0YnQsNC10YIg0LzQsNGB0YHQuNCyINC+0LHRitC10LrRgtC+0LIg0LrQvdC40LMg0L3QsCDRgtC10LrRg9GJ0LXQuSDQutCw0YDRgtC1LlxuICAgKiBAcmV0dXJucyB7QXJyYXk8b2JqZWN0Pn0g0JzQsNGB0YHQuNCyINC+0LHRitC10LrRgtC+0LIg0LrQvdC40LMuXG4gICAqL1xuICBnZXRDdXJyZW50Qm9va3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudE1hcCA/IHRoaXMuY3VycmVudE1hcC5ib29rcyA6IFtdO1xuICB9XG59XG4iLCIvLyBzcmMvY29yZS9HYW1lUmVuZGVyZXIuanNcbi8vIChObyBjaGFuZ2VzIG5lZWRlZCBmcm9tIHByZXZpb3VzIHByb3ZpZGVkIHZlcnNpb24sIGFzc3VtaW5nIGl0IHdhcyBjb3JyZWN0KVxuaW1wb3J0IHsgQ2hhcmFjdGVyIH0gZnJvbSAnLi9DaGFyYWN0ZXIuanMnOyAvLyBPcHRpb25hbCBmb3IgdHlwZSBjaGVja3NcblxuZXhwb3J0IGNsYXNzIEdhbWVSZW5kZXJlciB7XG4gIGNvbnN0cnVjdG9yKGdhbWUpIHtcbiAgICB0aGlzLmdhbWUgPSBnYW1lO1xuICAgIHRoaXMuY2FudmFzID0gbnVsbDtcbiAgICB0aGlzLmN0eCA9IG51bGw7XG4gIH1cblxuICBpbml0aWFsaXplQ2FudmFzKCkge1xuICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWUtY2FudmFzJyk7XG4gICAgaWYgKCF0aGlzLmNhbnZhcykgdGhyb3cgbmV3IEVycm9yKFwiW1JlbmRlcmVyXSBDYW52YXMgJ2dhbWUtY2FudmFzJyBub3QgZm91bmQhXCIpO1xuICAgIHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBpZiAoIXRoaXMuY3R4KSB0aHJvdyBuZXcgRXJyb3IoJ1tSZW5kZXJlcl0gRmFpbGVkIHRvIGdldCAyRCBjb250ZXh0LicpO1xuICAgIHRoaXMuY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMucmVzaXplQ2FudmFzKCk7XG4gICAgY29uc29sZS5sb2coJ1tSZW5kZXJlcl0gQ2FudmFzIGluaXRpYWxpemVkLicpO1xuICAgIHJldHVybiB7IGNhbnZhczogdGhpcy5jYW52YXMsIGN0eDogdGhpcy5jdHggfTtcbiAgfVxuXG4gIHJlc2l6ZUNhbnZhcygpIHtcbiAgICBpZiAoIXRoaXMuY2FudmFzKSByZXR1cm47XG4gICAgdGhpcy5jYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgaWYgKHRoaXMuZ2FtZS5jaGFyYWN0ZXIgJiYgdGhpcy5nYW1lLmxldmVsPy5jdXJyZW50TWFwKSB7XG4gICAgICB0aGlzLmNlbnRlckNhbWVyYU9uQ2hhcmFjdGVyKCk7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKGBbUmVuZGVyZXJdIENhbnZhcyByZXNpemVkIHRvICR7dGhpcy5jYW52YXMud2lkdGh9eCR7dGhpcy5jYW52YXMuaGVpZ2h0fWApO1xuICB9XG5cbiAgY2VudGVyQ2FtZXJhT25DaGFyYWN0ZXIoKSB7XG4gICAgY29uc3QgeyBjaGFyYWN0ZXIsIGxldmVsLCBjYW52YXMgfSA9IHRoaXMuZ2FtZTtcbiAgICBpZiAoY2hhcmFjdGVyICYmIGxldmVsPy5jdXJyZW50TWFwICYmIGNhbnZhcykge1xuICAgICAgbGV2ZWwuY3VycmVudE1hcC5vZmZzZXRYID0gTWF0aC5mbG9vcihjYW52YXMud2lkdGggLyAyIC0gY2hhcmFjdGVyLngpO1xuICAgICAgbGV2ZWwuY3VycmVudE1hcC5vZmZzZXRZID0gTWF0aC5mbG9vcihjYW52YXMuaGVpZ2h0IC8gMiAtIGNoYXJhY3Rlci55KTtcbiAgICB9XG4gIH1cblxuICBkcmF3RnJhbWUoKSB7XG4gICAgaWYgKCF0aGlzLmN0eCB8fCAhdGhpcy5jYW52YXMpIHJldHVybjtcbiAgICB0aGlzLmN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG4gICAgY29uc3QgbWFwID0gdGhpcy5nYW1lLmxldmVsPy5jdXJyZW50TWFwO1xuICAgIGNvbnN0IGNoYXIgPSB0aGlzLmdhbWUuY2hhcmFjdGVyO1xuICAgIGlmIChtYXApIHtcbiAgICAgIG1hcC5kcmF3KHRoaXMuY3R4LCB0aGlzLmdhbWUuYm9va0ltYWdlKTtcbiAgICB9XG4gICAgaWYgKGNoYXIgJiYgbWFwKSB7XG4gICAgICBjaGFyLmRyYXcobWFwLm9mZnNldFgsIG1hcC5vZmZzZXRZKTtcbiAgICB9XG4gICAgLy8gdGhpcy5kcmF3RGVidWdJbmZvKCk7IC8vIE9wdGlvbmFsXG4gIH1cblxuICBkcmF3V2luU2NyZWVuKCkge1xuICAgIGlmICghdGhpcy5jdHggfHwgIXRoaXMuY2FudmFzKSByZXR1cm47XG4gICAgdGhpcy5jdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwgMCwgMCwgMC44KSc7XG4gICAgdGhpcy5jdHguZmlsbFJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG4gICAgdGhpcy5jdHgudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgdGhpcy5jdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgdGhpcy5jdHguZmlsbFN0eWxlID0gJ2xpbWUnO1xuICAgIC8vIENvbnNpZGVyIHVzaW5nIGEgZm9udCBhdmFpbGFibGUgb24gbW9zdCBzeXN0ZW1zIG9yIGluY2x1ZGUgb25lIHZpYSBDU1MgQGZvbnQtZmFjZVxuICAgIHRoaXMuY3R4LmZvbnQgPSAnY2xhbXAoMzJweCwgOHZ3LCA0OHB4KSBcIlByZXNzIFN0YXJ0IDJQXCIsIGN1cnNpdmUsIEFyaWFsLCBzYW5zLXNlcmlmJztcbiAgICB0aGlzLmN0eC5maWxsVGV4dCgnWldZQ0nEmFNUV08hJywgdGhpcy5jYW52YXMud2lkdGggLyAyLCB0aGlzLmNhbnZhcy5oZWlnaHQgLyAyIC0gODApOyAvLyBUcmFuc2xhdGVkXG4gICAgdGhpcy5jdHguZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICB0aGlzLmN0eC5mb250ID0gJ2NsYW1wKDI0cHgsIDV2dywgMzJweCkgQXJpYWwsIHNhbnMtc2VyaWYnO1xuICAgIHRoaXMuY3R4LmZpbGxUZXh0KFxuICAgICAgYFplYnJhbm8gd3N6eXN0a2llICR7dGhpcy5nYW1lLnRhcmdldEJvb2tzVG9XaW59IGtzacSFxbxraSFgLCAvLyBUcmFuc2xhdGVkXG4gICAgICB0aGlzLmNhbnZhcy53aWR0aCAvIDIsXG4gICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgLyAyXG4gICAgKTtcbiAgICB0aGlzLmN0eC5mb250ID0gJ2NsYW1wKDE4cHgsIDR2dywgMjRweCkgQXJpYWwsIHNhbnMtc2VyaWYnO1xuICAgIHRoaXMuY3R4LmZpbGxUZXh0KCdVbml3ZXJzeXRldCB1cmF0b3dhbnkhJywgdGhpcy5jYW52YXMud2lkdGggLyAyLCB0aGlzLmNhbnZhcy5oZWlnaHQgLyAyICsgNjApOyAvLyBUcmFuc2xhdGVkXG4gICAgdGhpcy5jdHguZm9udCA9ICdjbGFtcCgxNHB4LCAzdncsIDE4cHgpIEFyaWFsLCBzYW5zLXNlcmlmJztcbiAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSAnI2NjYyc7XG4gICAgdGhpcy5jdHguZmlsbFRleHQoXG4gICAgICAnKE9kxZt3aWXFvCBzdHJvbsSZLCBhYnkgemFncmHEhyBwb25vd25pZSknLCAvLyBUcmFuc2xhdGVkXG4gICAgICB0aGlzLmNhbnZhcy53aWR0aCAvIDIsXG4gICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgLSA1MFxuICAgICk7XG4gIH1cbiAgLy8gZHJhd0RlYnVnSW5mbygpIHsgLi4uIH0gLy8gT3B0aW9uYWwgZGVidWcgZHJhd2luZ1xufVxuIiwiLy8gc3JjL2NvcmUvR2FtZXBsYXlNYW5hZ2VyLmpzXG5pbXBvcnQge1xuICBHYW1lU3RhdGUsXG4gIExJRlRfQ09PTERPV05fTVMsXG4gIFRJTEVfV0FMTCxcbiAgVElMRV9DT1JSSURPUixcbiAgVElMRV9ST09NX0ZMT09SLFxuICBUSUxFX0xJRlQsXG4gIHF1ZXN0aW9ucyxcbn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IFVJTWFuYWdlciB9IGZyb20gJy4uL1VJL1VJTWFuYWdlci5qcyc7XG5pbXBvcnQgeyBDaGFyYWN0ZXIgfSBmcm9tICcuL0NoYXJhY3Rlci5qcyc7IC8vINCj0LHQtdC00LjRgtC10YHRjCwg0YfRgtC+IENoYXJhY3RlciDQuNC80L/QvtGA0YLQuNGA0L7QstCw0L1cblxuY29uc3QgREVCVUdfRkxPT1JfR00gPSAzOyAvLyDQlNC70Y8g0LvQvtCz0L7QsiBHYW1lcGxheU1hbmFnZXJcblxuZXhwb3J0IGNsYXNzIEdhbWVwbGF5TWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKGdhbWUpIHtcbiAgICB0aGlzLmdhbWUgPSBnYW1lO1xuICAgIHRoaXMuaGFuZGxlQW5zd2VyID0gdGhpcy5oYW5kbGVBbnN3ZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhbmRsZUZsb29yU2VsZWN0aW9uID0gdGhpcy5oYW5kbGVGbG9vclNlbGVjdGlvbi5iaW5kKHRoaXMpO1xuICB9XG5cbiAgdXBkYXRlKHRpbWVzdGFtcCkge1xuICAgIGlmICh0aGlzLmdhbWUuZ2FtZVN0YXRlID09PSBHYW1lU3RhdGUuUExBWUlORykge1xuICAgICAgdGhpcy51cGRhdGVQbGF5aW5nU3RhdGUodGltZXN0YW1wKTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGVQbGF5aW5nU3RhdGUodGltZXN0YW1wKSB7XG4gICAgY29uc3QgY2hhciA9IHRoaXMuZ2FtZS5jaGFyYWN0ZXI7XG4gICAgaWYgKCF0aGlzLmdhbWUubGV2ZWw/LmN1cnJlbnRNYXAgfHwgIWNoYXIgfHwgIXRoaXMuZ2FtZS5pbnB1dE1hbmFnZXIpIHJldHVybjtcblxuICAgIGNvbnN0IHsgbW92ZWQgfSA9IHRoaXMuaGFuZGxlTW92ZW1lbnQoKTtcblxuICAgIGlmIChjaGFyICYmIHR5cGVvZiBjaGFyLnVwZGF0ZUFuaW1hdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2hhci51cGRhdGVBbmltYXRpb24odGltZXN0YW1wKTtcbiAgICB9XG5cbiAgICBpZiAoIW1vdmVkICYmIHRoaXMuZ2FtZS5nYW1lU3RhdGUgPT09IEdhbWVTdGF0ZS5QTEFZSU5HKSB7XG4gICAgICB0aGlzLmhhbmRsZUludGVyYWN0aW9ucygpO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZU1vdmVtZW50KCkge1xuICAgIGNvbnN0IGNoYXIgPSB0aGlzLmdhbWUuY2hhcmFjdGVyO1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuZ2FtZS5sZXZlbC5jdXJyZW50TWFwO1xuICAgIGNvbnN0IGlucHV0ID0gdGhpcy5nYW1lLmlucHV0TWFuYWdlcjtcbiAgICBpZiAoIWNoYXIgfHwgIW1hcCB8fCAhaW5wdXQpIHJldHVybiB7IG1vdmVkOiBmYWxzZSB9O1xuXG4gICAgY29uc3QgZGlyZWN0aW9uID0gaW5wdXQuZ2V0SW5wdXREaXJlY3Rpb24oKTtcbiAgICBsZXQgZHggPSBkaXJlY3Rpb24ueCAqIGNoYXIuc3BlZWQ7XG4gICAgbGV0IGR5ID0gZGlyZWN0aW9uLnkgKiBjaGFyLnNwZWVkO1xuXG4gICAgY29uc3QgaW50ZW5kZWRNb3ZlID0gZHggIT09IDAgfHwgZHkgIT09IDA7XG4gICAgbGV0IGFjdHVhbE1vdmVYID0gMDtcbiAgICBsZXQgYWN0dWFsTW92ZVkgPSAwO1xuICAgIGxldCBtb3ZlZCA9IGZhbHNlO1xuXG4gICAgaWYgKGludGVuZGVkTW92ZSkge1xuICAgICAgY29uc3QgY2FuTW92ZVggPSBkeCAhPT0gMCAmJiAhdGhpcy5jaGVja0NvbGxpc2lvbihjaGFyLnggKyBkeCwgY2hhci55KTtcbiAgICAgIGNvbnN0IGNhbk1vdmVZID0gZHkgIT09IDAgJiYgIXRoaXMuY2hlY2tDb2xsaXNpb24oY2hhci54LCBjaGFyLnkgKyBkeSk7XG5cbiAgICAgIGlmIChjYW5Nb3ZlWCkgYWN0dWFsTW92ZVggPSBkeDtcbiAgICAgIGlmIChjYW5Nb3ZlWSkgYWN0dWFsTW92ZVkgPSBkeTtcblxuICAgICAgLy8g0KPQu9GD0YfRiNC10L3QvdCw0Y8g0L7QsdGA0LDQsdC+0YLQutCwINC00LjQsNCz0L7QvdCw0LvRjNC90L7QuSDQutC+0LvQu9C40LfQuNC4ICjRgdC60L7Qu9GM0LbQtdC90LjQtSlcbiAgICAgIGlmIChkeCAhPT0gMCAmJiBkeSAhPT0gMCkge1xuICAgICAgICAvLyDQldGB0LvQuCDQv9GL0YLQsNC70LjRgdGMINC00LLQuNCz0LDRgtGM0YHRjyDQv9C+INC00LjQsNCz0L7QvdCw0LvQuFxuICAgICAgICBpZiAodGhpcy5jaGVja0NvbGxpc2lvbihjaGFyLnggKyBkeCwgY2hhci55ICsgZHkpKSB7XG4gICAgICAgICAgLy8g0Jgg0LTQuNCw0LPQvtC90LDQu9GMINC30LDQsdC70L7QutC40YDQvtCy0LDQvdCwXG4gICAgICAgICAgaWYgKGNhbk1vdmVYICYmICFjYW5Nb3ZlWSkge1xuICAgICAgICAgICAgLy8g0JzQvtC20LXQvCDQv9C+IFgsINC90L4g0L3QtSDQv9C+IFkgKNC10YHQu9C4INCx0Ysg0LTQstC40LPQsNC70LjRgdGMINGC0L7Qu9GM0LrQviDQv9C+IFkpXG4gICAgICAgICAgICBhY3R1YWxNb3ZlWSA9IDA7IC8vINCU0LLQuNCz0LDQtdC80YHRjyDRgtC+0LvRjNC60L4g0L/QviBYXG4gICAgICAgICAgfSBlbHNlIGlmIChjYW5Nb3ZlWSAmJiAhY2FuTW92ZVgpIHtcbiAgICAgICAgICAgIC8vINCc0L7QttC10Lwg0L/QviBZLCDQvdC+INC90LUg0L/QviBYXG4gICAgICAgICAgICBhY3R1YWxNb3ZlWCA9IDA7IC8vINCU0LLQuNCz0LDQtdC80YHRjyDRgtC+0LvRjNC60L4g0L/QviBZXG4gICAgICAgICAgfSBlbHNlIGlmICghY2FuTW92ZVggJiYgIWNhbk1vdmVZKSB7XG4gICAgICAgICAgICAvLyDQndC1INC80L7QttC10Lwg0L3QuCDQv9C+IFgsINC90Lgg0L/QviBZINC/0L4g0L7RgtC00LXQu9GM0L3QvtGB0YLQuFxuICAgICAgICAgICAgYWN0dWFsTW92ZVggPSAwO1xuICAgICAgICAgICAgYWN0dWFsTW92ZVkgPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyDQldGB0LvQuCDQvNC+0LbQtdC8INC4INC/0L4gWCDQuCDQv9C+IFkg0L7RgtC00LXQu9GM0L3Qviwg0L3QviDQvdC1INC/0L4g0LTQuNCw0LPQvtC90LDQu9C4LCDRgtC+IGFjdHVhbE1vdmVYINC4IGFjdHVhbE1vdmVZINGD0LbQtSDRg9GB0YLQsNC90L7QstC70LXQvdGLINC/0YDQsNCy0LjQu9GM0L3QvlxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChhY3R1YWxNb3ZlWCAhPT0gMCB8fCBhY3R1YWxNb3ZlWSAhPT0gMCkge1xuICAgICAgICBjaGFyLnggKz0gYWN0dWFsTW92ZVg7XG4gICAgICAgIGNoYXIueSArPSBhY3R1YWxNb3ZlWTtcbiAgICAgICAgbW92ZWQgPSB0cnVlO1xuXG4gICAgICAgIGlmIChNYXRoLmFicyhhY3R1YWxNb3ZlWCkgPj0gTWF0aC5hYnMoYWN0dWFsTW92ZVkpKSB7XG4gICAgICAgICAgaWYgKGFjdHVhbE1vdmVYICE9PSAwKVxuICAgICAgICAgICAgY2hhci5jdXJyZW50RGlyZWN0aW9uID1cbiAgICAgICAgICAgICAgYWN0dWFsTW92ZVggPiAwID8gQ2hhcmFjdGVyLkRpcmVjdGlvbi5SSUdIVCA6IENoYXJhY3Rlci5EaXJlY3Rpb24uTEVGVDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoYWN0dWFsTW92ZVkgIT09IDApXG4gICAgICAgICAgICBjaGFyLmN1cnJlbnREaXJlY3Rpb24gPVxuICAgICAgICAgICAgICBhY3R1YWxNb3ZlWSA+IDAgPyBDaGFyYWN0ZXIuRGlyZWN0aW9uLkRPV04gOiBDaGFyYWN0ZXIuRGlyZWN0aW9uLlVQO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNoYXIuaXNNb3ZpbmcgPSBtb3ZlZDtcbiAgICByZXR1cm4geyBtb3ZlZCB9O1xuICB9XG5cbiAgY2hlY2tDb2xsaXNpb24odGFyZ2V0WCwgdGFyZ2V0WSkge1xuICAgIGNvbnN0IG1hcCA9IHRoaXMuZ2FtZS5sZXZlbD8uY3VycmVudE1hcDtcbiAgICBjb25zdCBjaGFyID0gdGhpcy5nYW1lLmNoYXJhY3RlcjtcbiAgICBpZiAoIW1hcCB8fCAhY2hhcikgcmV0dXJuIHRydWU7XG5cbiAgICBjb25zdCBjb2xsaXNpb25Cb3ggPSBjaGFyLmdldENvbGxpc2lvbkJveCh0YXJnZXRYLCB0YXJnZXRZKTtcbiAgICAvLyDQmtC70Y7Rh9C10LLRi9C1INGC0L7Rh9C60Lgg0LrQvtC70LvQsNC50LTQtdGA0LAg0LTQu9GPINC/0YDQvtCy0LXRgNC60LhcbiAgICBjb25zdCBwb2ludHNUb0NoZWNrID0gW1xuICAgICAgeyB4OiBjb2xsaXNpb25Cb3gubGVmdCwgeTogY29sbGlzaW9uQm94LnRvcCB9LCAvLyDQm9C10LLRi9C5INCy0LXRgNGF0L3QuNC5XG4gICAgICB7IHg6IGNvbGxpc2lvbkJveC5yaWdodCwgeTogY29sbGlzaW9uQm94LnRvcCB9LCAvLyDQn9GA0LDQstGL0Lkg0LLQtdGA0YXQvdC40LlcbiAgICAgIHsgeDogY29sbGlzaW9uQm94LmxlZnQsIHk6IGNvbGxpc2lvbkJveC5ib3R0b20gfSwgLy8g0JvQtdCy0YvQuSDQvdC40LbQvdC40LlcbiAgICAgIHsgeDogY29sbGlzaW9uQm94LnJpZ2h0LCB5OiBjb2xsaXNpb25Cb3guYm90dG9tIH0sIC8vINCf0YDQsNCy0YvQuSDQvdC40LbQvdC40LlcbiAgICAgIC8vINCU0L7Qv9C+0LvQvdC40YLQtdC70YzQvdGL0LUg0YLQvtGH0LrQuCDQtNC70Y8g0LHQvtC70LXQtSDRgtC+0YfQvdC+0Lkg0L/RgNC+0LLQtdGA0LrQuCwg0L7RgdC+0LHQtdC90L3QviDQtNC70Y8g0YPQt9C60LjRhSDQv9GA0L7RhdC+0LTQvtCyXG4gICAgICB7IHg6IHRhcmdldFgsIHk6IGNvbGxpc2lvbkJveC50b3AgfSwgLy8g0KbQtdC90YLRgCDQstC10YDRhdC90LjQuVxuICAgICAgeyB4OiB0YXJnZXRYLCB5OiBjb2xsaXNpb25Cb3guYm90dG9tIH0sIC8vINCm0LXQvdGC0YAg0L3QuNC20L3QuNC5XG4gICAgICB7IHg6IGNvbGxpc2lvbkJveC5sZWZ0LCB5OiB0YXJnZXRZICsgY2hhci5yZW5kZXJTaXplICogY2hhci5jb2xsaXNpb25Cb3hGZWV0T2Zmc2V0UmF0aW8gfSwgLy8g0KHQtdGA0LXQtNC40L3QsCDQu9C10LLQvtC5INGB0YLQvtGA0L7QvdGLICjQvdCwINGD0YDQvtCy0L3QtSDQvdC+0LMpXG4gICAgICB7IHg6IGNvbGxpc2lvbkJveC5yaWdodCwgeTogdGFyZ2V0WSArIGNoYXIucmVuZGVyU2l6ZSAqIGNoYXIuY29sbGlzaW9uQm94RmVldE9mZnNldFJhdGlvIH0sIC8vINCh0LXRgNC10LTQuNC90LAg0L/RgNCw0LLQvtC5INGB0YLQvtGA0L7QvdGLICjQvdCwINGD0YDQvtCy0L3QtSDQvdC+0LMpXG4gICAgXTtcblxuICAgIGZvciAoY29uc3QgcG9pbnQgb2YgcG9pbnRzVG9DaGVjaykge1xuICAgICAgaWYgKCFtYXAuaXNXYWxrYWJsZShwb2ludC54LCBwb2ludC55KSkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhgQ29sbGlzaW9uIGF0IHdvcmxkICgke3BvaW50LngudG9GaXhlZCgxKX0sICR7cG9pbnQueS50b0ZpeGVkKDEpfSkgLT4gdGlsZSBub3Qgd2Fsa2FibGUuYCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBoYW5kbGVJbnRlcmFjdGlvbnMoKSB7XG4gICAgY29uc3QgbWFwID0gdGhpcy5nYW1lLmxldmVsPy5jdXJyZW50TWFwO1xuICAgIGNvbnN0IGNoYXIgPSB0aGlzLmdhbWUuY2hhcmFjdGVyO1xuICAgIGlmICghbWFwIHx8ICFjaGFyIHx8IHRoaXMuZ2FtZS5nYW1lU3RhdGUgIT09IEdhbWVTdGF0ZS5QTEFZSU5HKSByZXR1cm47XG5cbiAgICBjb25zdCBuZWFyYnlCb29rID0gbWFwLmZpbmROZWFyYnlVbmFuc3dlcmVkQm9vayhjaGFyLngsIGNoYXIueSk7XG4gICAgaWYgKG5lYXJieUJvb2spIHtcbiAgICAgIHRoaXMuaW5pdGlhdGVRdWVzdGlvbihuZWFyYnlCb29rKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuZ2FtZS5saWZ0Q29vbGRvd25BY3RpdmUpIHtcbiAgICAgIGNvbnN0IG5lYXJieUxpZnQgPSBtYXAuZmluZE5lYXJieUxpZnQoY2hhci54LCBjaGFyLnkpO1xuICAgICAgaWYgKG5lYXJieUxpZnQpIHtcbiAgICAgICAgdGhpcy5pbml0aWF0ZUZsb29yU2VsZWN0aW9uKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaW5pdGlhdGVRdWVzdGlvbihib29rKSB7XG4gICAgaWYgKHRoaXMuZ2FtZS5nYW1lU3RhdGUgIT09IEdhbWVTdGF0ZS5QTEFZSU5HKSByZXR1cm47XG5cbiAgICB0aGlzLmdhbWUuc2V0R2FtZVN0YXRlKEdhbWVTdGF0ZS5BU0tJTkdfUVVFU1RJT04pO1xuICAgIGlmICh0aGlzLmdhbWUuY2hhcmFjdGVyKSB0aGlzLmdhbWUuY2hhcmFjdGVyLmlzTW92aW5nID0gZmFsc2U7XG4gICAgdGhpcy5nYW1lLmN1cnJlbnRCb29rVGFyZ2V0ID0gYm9vaztcblxuICAgIGlmICh0aGlzLmdhbWUuYXZhaWxhYmxlUXVlc3Rpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5nYW1lLmF2YWlsYWJsZVF1ZXN0aW9ucyA9IFsuLi5xdWVzdGlvbnNdO1xuICAgICAgaWYgKHRoaXMuZ2FtZS5hdmFpbGFibGVRdWVzdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIFVJTWFuYWdlci5mbGFzaE1lc3NhZ2UoJ0LFgsSFZDogQnJhayBkb3N0xJlwbnljaCBweXRhxYQhJywgJ2Vycm9yJyk7XG4gICAgICAgIHRoaXMuZ2FtZS5zZXRHYW1lU3RhdGUoR2FtZVN0YXRlLlBMQVlJTkcpO1xuICAgICAgICB0aGlzLmdhbWUuY3VycmVudEJvb2tUYXJnZXQgPSBudWxsO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5nYW1lLmF2YWlsYWJsZVF1ZXN0aW9ucy5sZW5ndGgpO1xuICAgIHRoaXMuZ2FtZS5jdXJyZW50UXVlc3Rpb25EYXRhID0gdGhpcy5nYW1lLmF2YWlsYWJsZVF1ZXN0aW9ucy5zcGxpY2UocUluZGV4LCAxKVswXTtcbiAgICBVSU1hbmFnZXIuc2hvd1F1ZXN0aW9uKHRoaXMuZ2FtZS5jdXJyZW50UXVlc3Rpb25EYXRhKTtcbiAgfVxuXG4gIGhhbmRsZUFuc3dlcihzZWxlY3RlZE9wdGlvbkluZGV4KSB7XG4gICAgY29uc3QgeyBnYW1lU3RhdGUsIGN1cnJlbnRRdWVzdGlvbkRhdGEsIGN1cnJlbnRCb29rVGFyZ2V0LCBsZXZlbCB9ID0gdGhpcy5nYW1lO1xuXG4gICAgaWYgKGdhbWVTdGF0ZSAhPT0gR2FtZVN0YXRlLkFTS0lOR19RVUVTVElPTiB8fCAhY3VycmVudFF1ZXN0aW9uRGF0YSB8fCAhY3VycmVudEJvb2tUYXJnZXQpIHtcbiAgICAgIFVJTWFuYWdlci5oaWRlUXVlc3Rpb24oKTtcbiAgICAgIHRoaXMuZ2FtZS5jdXJyZW50Qm9va1RhcmdldCA9IG51bGw7XG4gICAgICB0aGlzLmdhbWUuY3VycmVudFF1ZXN0aW9uRGF0YSA9IG51bGw7XG4gICAgICBpZiAodGhpcy5nYW1lLmdhbWVTdGF0ZSAhPT0gR2FtZVN0YXRlLkdBTUVfT1ZFUikgdGhpcy5nYW1lLnNldEdhbWVTdGF0ZShHYW1lU3RhdGUuUExBWUlORyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaXNDb3JyZWN0ID0gc2VsZWN0ZWRPcHRpb25JbmRleCA9PT0gY3VycmVudFF1ZXN0aW9uRGF0YS5jb3JyZWN0QW5zd2VyO1xuICAgIGlmIChpc0NvcnJlY3QpIHtcbiAgICAgIFVJTWFuYWdlci5mbGFzaE1lc3NhZ2UoJ1ByYXdpZMWCb3dvIScsICdzdWNjZXNzJywgMTUwMCk7XG4gICAgICBjb25zdCBjb2xsZWN0ZWQgPSBsZXZlbD8uY3VycmVudE1hcD8ubWFya0Jvb2tBc0NvbGxlY3RlZChjdXJyZW50Qm9va1RhcmdldCk7XG4gICAgICBpZiAoY29sbGVjdGVkKSB7XG4gICAgICAgIHRoaXMuZ2FtZS50b3RhbEJvb2tzQ29sbGVjdGVkR2xvYmFsbHkrKztcbiAgICAgICAgVUlNYW5hZ2VyLnVwZGF0ZVNjb3JlKHRoaXMuZ2FtZS50b3RhbEJvb2tzQ29sbGVjdGVkR2xvYmFsbHksIHRoaXMuZ2FtZS50YXJnZXRCb29rc1RvV2luKTtcbiAgICAgICAgaWYgKHRoaXMuZ2FtZS50b3RhbEJvb2tzQ29sbGVjdGVkR2xvYmFsbHkgPj0gdGhpcy5nYW1lLnRhcmdldEJvb2tzVG9XaW4pIHtcbiAgICAgICAgICBVSU1hbmFnZXIuaGlkZVF1ZXN0aW9uKCk7XG4gICAgICAgICAgdGhpcy5nYW1lLl9zZXRHYW1lT3Zlcih0cnVlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIFVJTWFuYWdlci5mbGFzaE1lc3NhZ2UoJ0LFgsSFZCB6YmllcmFuaWEga3NpxIXFvGtpIScsICdlcnJvcicpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBVSU1hbmFnZXIuZmxhc2hNZXNzYWdlKCdOaWVwcmF3aWTFgm93YSBvZHBvd2llZMW6IScsICdlcnJvcicpO1xuICAgICAgdGhpcy5nYW1lLmF2YWlsYWJsZVF1ZXN0aW9ucy5wdXNoKGN1cnJlbnRRdWVzdGlvbkRhdGEpO1xuICAgIH1cblxuICAgIFVJTWFuYWdlci5oaWRlUXVlc3Rpb24oKTtcbiAgICB0aGlzLmdhbWUuY3VycmVudEJvb2tUYXJnZXQgPSBudWxsO1xuICAgIHRoaXMuZ2FtZS5jdXJyZW50UXVlc3Rpb25EYXRhID0gbnVsbDtcbiAgICBpZiAodGhpcy5nYW1lLmdhbWVTdGF0ZSAhPT0gR2FtZVN0YXRlLkdBTUVfT1ZFUikgdGhpcy5nYW1lLnNldEdhbWVTdGF0ZShHYW1lU3RhdGUuUExBWUlORyk7XG4gIH1cblxuICBpbml0aWF0ZUZsb29yU2VsZWN0aW9uKCkge1xuICAgIGlmICh0aGlzLmdhbWUuZ2FtZVN0YXRlICE9PSBHYW1lU3RhdGUuUExBWUlORyB8fCB0aGlzLmdhbWUubGlmdENvb2xkb3duQWN0aXZlKSByZXR1cm47XG4gICAgdGhpcy5nYW1lLnNldEdhbWVTdGF0ZShHYW1lU3RhdGUuU0VMRUNUSU5HX0ZMT09SKTtcbiAgICBpZiAodGhpcy5nYW1lLmNoYXJhY3RlcikgdGhpcy5nYW1lLmNoYXJhY3Rlci5pc01vdmluZyA9IGZhbHNlO1xuICAgIFVJTWFuYWdlci5zaG93Rmxvb3JTZWxlY3Rpb25VSShcbiAgICAgIHRoaXMuZ2FtZS5sZXZlbC5taW5GbG9vcixcbiAgICAgIHRoaXMuZ2FtZS5sZXZlbC5tYXhGbG9vcixcbiAgICAgIHRoaXMuZ2FtZS5sZXZlbC5jdXJyZW50Rmxvb3JcbiAgICApO1xuICB9XG5cbiAgaGFuZGxlRmxvb3JTZWxlY3Rpb24oc2VsZWN0ZWRGbG9vcikge1xuICAgIGlmICh0aGlzLmdhbWUuZ2FtZVN0YXRlICE9PSBHYW1lU3RhdGUuU0VMRUNUSU5HX0ZMT09SKSB7XG4gICAgICBVSU1hbmFnZXIuaGlkZUZsb29yU2VsZWN0aW9uVUkoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgVUlNYW5hZ2VyLmhpZGVGbG9vclNlbGVjdGlvblVJKCk7XG4gICAgaWYgKFxuICAgICAgc2VsZWN0ZWRGbG9vciA9PT0gdGhpcy5nYW1lLmxldmVsLmN1cnJlbnRGbG9vciB8fFxuICAgICAgc2VsZWN0ZWRGbG9vciA8IHRoaXMuZ2FtZS5sZXZlbC5taW5GbG9vciB8fFxuICAgICAgc2VsZWN0ZWRGbG9vciA+IHRoaXMuZ2FtZS5sZXZlbC5tYXhGbG9vclxuICAgICkge1xuICAgICAgdGhpcy5nYW1lLnNldEdhbWVTdGF0ZShHYW1lU3RhdGUuUExBWUlORyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuaGFuZGxlTGlmdFRyYW5zaXRpb24oc2VsZWN0ZWRGbG9vcikuY2F0Y2goKGVycikgPT4ge1xuICAgICAgdGhpcy5nYW1lLl9oYW5kbGVGYXRhbEVycm9yKGBCxYLEhWQgcHJ6ZWrFm2NpYSBuYSBwacSZdHJvOiAke2Vyci5tZXNzYWdlfWApO1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgaGFuZGxlTGlmdFRyYW5zaXRpb24odGFyZ2V0Rmxvb3IpIHtcbiAgICBjb25zdCBnYW1lID0gdGhpcy5nYW1lO1xuICAgIGNvbnN0IGlzRGVidWcgPSBnYW1lLmxldmVsPy5jdXJyZW50Rmxvb3IgPT09IERFQlVHX0ZMT09SX0dNIHx8IHRhcmdldEZsb29yID09PSBERUJVR19GTE9PUl9HTTtcblxuICAgIGlmIChpc0RlYnVnKVxuICAgICAgY29uc29sZS5sb2coXG4gICAgICAgIGBbR2FtZXBsYXlNYW5hZ2VyIEYke3RhcmdldEZsb29yfSBoYW5kbGVMaWZ0VHJhbnNpdGlvbl0gU3RhcnRpbmcgdHJhbnNpdGlvbi4gQ29vbGRvd246ICR7Z2FtZS5saWZ0Q29vbGRvd25BY3RpdmV9YFxuICAgICAgKTtcbiAgICBpZiAoZ2FtZS5nYW1lU3RhdGUgIT09IEdhbWVTdGF0ZS5TRUxFQ1RJTkdfRkxPT1IgfHwgZ2FtZS5saWZ0Q29vbGRvd25BY3RpdmUpIHJldHVybjtcblxuICAgIGdhbWUuc2V0R2FtZVN0YXRlKEdhbWVTdGF0ZS5UUkFOU0lUSU9OSU5HKTtcbiAgICBpZiAoZ2FtZS5jaGFyYWN0ZXIpIGdhbWUuY2hhcmFjdGVyLmlzTW92aW5nID0gZmFsc2U7XG4gICAgVUlNYW5hZ2VyLmhpZGVRdWVzdGlvbigpO1xuICAgIFVJTWFuYWdlci5oaWRlRmxvb3JTZWxlY3Rpb25VSSgpO1xuICAgIGdhbWUubGlmdENvb2xkb3duQWN0aXZlID0gdHJ1ZTtcbiAgICBVSU1hbmFnZXIuZmxhc2hNZXNzYWdlKGBQcnplasWbY2llIG5hIHBpxJl0cm8gJHt0YXJnZXRGbG9vcn0uLi5gLCAnaW5mbycsIExJRlRfQ09PTERPV05fTVMgLSAyMDApO1xuXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGdhbWUubGV2ZWwubG9hZEZsb29yKHRhcmdldEZsb29yLCBnYW1lLmNhbnZhcy53aWR0aCwgZ2FtZS5jYW52YXMuaGVpZ2h0KTtcbiAgICAgIGNvbnN0IG5ld01hcCA9IGdhbWUubGV2ZWwuY3VycmVudE1hcDtcbiAgICAgIGlmICghbmV3TWFwKSB0aHJvdyBuZXcgRXJyb3IoYE1hcCBvYmplY3QgaXMgbnVsbCBmb3IgZmxvb3IgJHt0YXJnZXRGbG9vcn0uYCk7XG5cbiAgICAgIGNvbnN0IGxpZnRQb3NEYXRhID0gbmV3TWFwLmdldExpZnRQb3NpdGlvbigpO1xuICAgICAgaWYgKCFsaWZ0UG9zRGF0YSkgdGhyb3cgbmV3IEVycm9yKGBObyBsaWZ0IHBvc2l0aW9uIGRhdGEgb24gbG9hZGVkIGZsb29yICR7dGFyZ2V0Rmxvb3J9IWApO1xuICAgICAgaWYgKGlzRGVidWcpXG4gICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgIGAgIFtHTSBGJHt0YXJnZXRGbG9vcn0gTGlmdFRyYW5zaXRpb25dIExpZnQgdGlsZTogKCR7bGlmdFBvc0RhdGEudGlsZVh9LCR7XG4gICAgICAgICAgICBsaWZ0UG9zRGF0YS50aWxlWVxuICAgICAgICAgIH0pLCBXb3JsZDooJHtsaWZ0UG9zRGF0YS54LnRvRml4ZWQoMSl9LCR7bGlmdFBvc0RhdGEueS50b0ZpeGVkKDEpfSlgXG4gICAgICAgICk7XG5cbiAgICAgIGxldCBmaW5hbFNwYXduUG9zID0gbnVsbDtcblxuICAgICAgZmluYWxTcGF3blBvcyA9IG5ld01hcC5nZXRTcGF3blBvaW50SW5Sb29tT2ZMaWZ0KGxpZnRQb3NEYXRhLnRpbGVYLCBsaWZ0UG9zRGF0YS50aWxlWSwgMik7XG4gICAgICBpZiAoaXNEZWJ1ZylcbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgYCAgW0dNIEYke3RhcmdldEZsb29yfSBMaWZ0VHJhbnNpdGlvbl0gRnJvbSBnZXRTcGF3blBvaW50SW5Sb29tT2ZMaWZ0OmAsXG4gICAgICAgICAgZmluYWxTcGF3blBvcyA/IHsgeDogZmluYWxTcGF3blBvcy54LnRvRml4ZWQoMSksIHk6IGZpbmFsU3Bhd25Qb3MueS50b0ZpeGVkKDEpIH0gOiBudWxsXG4gICAgICAgICk7XG5cbiAgICAgIGlmICghZmluYWxTcGF3blBvcykge1xuICAgICAgICBpZiAoaXNEZWJ1ZylcbiAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICBgICBbR00gRiR7dGFyZ2V0Rmxvb3J9IExpZnRUcmFuc2l0aW9uXSBnZXRTcGF3blBvaW50SW5Sb29tT2ZMaWZ0IGZhaWxlZC4gVXNpbmcgZmluZE5lYXJlc3RXYWxrYWJsZVRpbGUuLi5gXG4gICAgICAgICAgKTtcbiAgICAgICAgZmluYWxTcGF3blBvcyA9IG5ld01hcC5maW5kTmVhcmVzdFdhbGthYmxlVGlsZShsaWZ0UG9zRGF0YS54LCBsaWZ0UG9zRGF0YS55LCA1LCB0cnVlLCB0cnVlKTtcbiAgICAgICAgaWYgKGlzRGVidWcpXG4gICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICBgICBbR00gRiR7dGFyZ2V0Rmxvb3J9IExpZnRUcmFuc2l0aW9uXSBGcm9tIGZpbmROZWFyZXN0V2Fsa2FibGVUaWxlOmAsXG4gICAgICAgICAgICBmaW5hbFNwYXduUG9zID8geyB4OiBmaW5hbFNwYXduUG9zLngudG9GaXhlZCgxKSwgeTogZmluYWxTcGF3blBvcy55LnRvRml4ZWQoMSkgfSA6IG51bGxcbiAgICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWZpbmFsU3Bhd25Qb3MpIHtcbiAgICAgICAgaWYgKGlzRGVidWcpXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIGAgIFtHTSBGJHt0YXJnZXRGbG9vcn0gTGlmdFRyYW5zaXRpb25dIEFsbCBzcGF3biBtZXRob2RzIGZhaWxlZC4gVXNpbmcgcmFuZG9tIHNwYXduLi4uYFxuICAgICAgICAgICk7XG4gICAgICAgIGNvbnN0IGVtZXJnZW5jeVNwYXduID0gbmV3TWFwLmZpbmRSYW5kb21Jbml0aWFsU3Bhd25Qb3NpdGlvbigpO1xuICAgICAgICBpZiAoIWVtZXJnZW5jeVNwYXduKSB0aHJvdyBuZXcgRXJyb3IoYEVNRVJHRU5DWSBTUEFXTiBGQUlMRUQgb24gZmxvb3IgJHt0YXJnZXRGbG9vcn0hYCk7XG4gICAgICAgIGZpbmFsU3Bhd25Qb3MgPSBlbWVyZ2VuY3lTcGF3bjtcbiAgICAgICAgaWYgKGlzRGVidWcpXG4gICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICBgICBbR00gRiR7dGFyZ2V0Rmxvb3J9IExpZnRUcmFuc2l0aW9uXSBGcm9tIGVtZXJnZW5jeVNwYXduOmAsXG4gICAgICAgICAgICBmaW5hbFNwYXduUG9zID8geyB4OiBmaW5hbFNwYXduUG9zLngudG9GaXhlZCgxKSwgeTogZmluYWxTcGF3blBvcy55LnRvRml4ZWQoMSkgfSA6IG51bGxcbiAgICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBnYW1lLmNoYXJhY3Rlci54ID0gZmluYWxTcGF3blBvcy54O1xuICAgICAgZ2FtZS5jaGFyYWN0ZXIueSA9IGZpbmFsU3Bhd25Qb3MueTtcbiAgICAgIGlmIChpc0RlYnVnKVxuICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICBgICBbR00gRiR7dGFyZ2V0Rmxvb3J9IExpZnRUcmFuc2l0aW9uXSBGaW5hbCBsYW5kaW5nOiAoJHtnYW1lLmNoYXJhY3Rlci54LnRvRml4ZWQoXG4gICAgICAgICAgICAxXG4gICAgICAgICAgKX0sICR7Z2FtZS5jaGFyYWN0ZXIueS50b0ZpeGVkKDEpfSlgXG4gICAgICAgICk7XG5cbiAgICAgIGdhbWUuY2hhcmFjdGVyLmN1cnJlbnREaXJlY3Rpb24gPSBDaGFyYWN0ZXIuRGlyZWN0aW9uLkRPV047XG4gICAgICBnYW1lLmNoYXJhY3Rlci5pc01vdmluZyA9IGZhbHNlO1xuICAgICAgZ2FtZS5yZW5kZXJlcj8uY2VudGVyQ2FtZXJhT25DaGFyYWN0ZXIoKTtcbiAgICAgIHRoaXMuZW5zdXJlQ2hhcmFjdGVySXNPbldhbGthYmxlVGlsZShmYWxzZSk7IC8vIDwtLS0g0JTQntCR0JDQktCb0JXQndCeOiDQn9GA0L7QstC10YDQutCwINC/0L7RgdC70LUg0YLQtdC70LXQv9C+0YDRgtCw0YbQuNC4XG4gICAgICBnYW1lLnN0YXJ0TGlmdENvb2xkb3duVGltZXIoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihgW0dNIEYke3RhcmdldEZsb29yfSBMaWZ0VHJhbnNpdGlvbl0gRXJyb3IgZHVyaW5nIHRyYW5zaXRpb246YCwgZXJyb3IpO1xuICAgICAgZ2FtZS5saWZ0Q29vbGRvd25BY3RpdmUgPSBmYWxzZTtcbiAgICAgIGlmIChnYW1lLmdhbWVTdGF0ZSAhPT0gR2FtZVN0YXRlLkdBTUVfT1ZFUikgZ2FtZS5zZXRHYW1lU3RhdGUoR2FtZVN0YXRlLlBMQVlJTkcpO1xuICAgICAgZ2FtZS5faGFuZGxlRmF0YWxFcnJvcihgVHJhbnNpdGlvbiBlcnJvciB0byBmbG9vciAke3RhcmdldEZsb29yfTogJHtlcnJvci5tZXNzYWdlIHx8IGVycm9yfWApO1xuICAgIH1cbiAgfVxuXG4gIGVuc3VyZUNoYXJhY3RlcklzT25XYWxrYWJsZVRpbGUoYWxsb3dTdGFuZGluZ09uTGlmdCA9IGZhbHNlKSB7XG4gICAgY29uc3QgY2hhciA9IHRoaXMuZ2FtZS5jaGFyYWN0ZXI7XG4gICAgY29uc3QgbWFwID0gdGhpcy5nYW1lLmxldmVsPy5jdXJyZW50TWFwO1xuICAgIGlmICghY2hhciB8fCAhbWFwKSByZXR1cm47XG5cbiAgICBjb25zdCBjdXJyZW50VGlsZVggPSBNYXRoLmZsb29yKGNoYXIueCAvIG1hcC50aWxlU2l6ZSk7XG4gICAgY29uc3QgY3VycmVudFRpbGVZID0gTWF0aC5mbG9vcihjaGFyLnkgLyBtYXAudGlsZVNpemUpO1xuICAgIGNvbnN0IGN1cnJlbnRUaWxlVmFsdWUgPVxuICAgICAgY3VycmVudFRpbGVYID49IDAgJiYgY3VycmVudFRpbGVYIDwgbWFwLmNvbHMgJiYgY3VycmVudFRpbGVZID49IDAgJiYgY3VycmVudFRpbGVZIDwgbWFwLnJvd3NcbiAgICAgICAgPyBtYXAubWFwW2N1cnJlbnRUaWxlWV0/LltjdXJyZW50VGlsZVhdXG4gICAgICAgIDogVElMRV9XQUxMO1xuXG4gICAgY29uc3QgaXNDZW50ZXJUaWxlV2Fsa2FibGVCeU1hcCA9IG1hcC5pc1dhbGthYmxlKGNoYXIueCwgY2hhci55KTtcbiAgICBjb25zdCBpc0xpZnQgPSBjdXJyZW50VGlsZVZhbHVlID09PSBUSUxFX0xJRlQ7XG4gICAgY29uc3QgaXNTYWZlVG9TdGFuZEhlcmUgPSBpc0NlbnRlclRpbGVXYWxrYWJsZUJ5TWFwICYmICghaXNMaWZ0IHx8IGFsbG93U3RhbmRpbmdPbkxpZnQpO1xuICAgIGNvbnN0IGlzQ29sbGlkaW5nV2l0aFdhbGwgPSB0aGlzLmNoZWNrQ29sbGlzaW9uKGNoYXIueCwgY2hhci55KTsgLy8g0J/RgNC+0LLQtdGA0Y/QtdC8INGC0LXQutGD0YnRg9GOINC/0L7Qt9C40YbQuNGOXG4gICAgY29uc3QgbmVlZHNOdWRnZSA9IGlzQ29sbGlkaW5nV2l0aFdhbGwgfHwgIWlzU2FmZVRvU3RhbmRIZXJlO1xuXG4gICAgaWYgKG5lZWRzTnVkZ2UpIHtcbiAgICAgIGNvbnN0IGlzRGVidWcgPSB0aGlzLmdhbWUubGV2ZWw/LmN1cnJlbnRGbG9vciA9PT0gREVCVUdfRkxPT1JfR007XG4gICAgICBpZiAoaXNEZWJ1ZylcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIGBbR2FtZXBsYXlNYW5hZ2VyIEYke3RoaXMuZ2FtZS5sZXZlbC5jdXJyZW50Rmxvb3J9IEFudGlTdHVja10gQ2hhciBhdCAoJHtjaGFyLngudG9GaXhlZChcbiAgICAgICAgICAgIDFcbiAgICAgICAgICApfSwke2NoYXIueS50b0ZpeGVkKFxuICAgICAgICAgICAgMVxuICAgICAgICAgICl9KSAtPiB0aWxlICgke2N1cnJlbnRUaWxlWH0sJHtjdXJyZW50VGlsZVl9KSBuZWVkcyBudWRnZS4gQ29sbGlkaW5nOiR7aXNDb2xsaWRpbmdXaXRoV2FsbH0sIFNhZmVTdGFuZDoke2lzU2FmZVRvU3RhbmRIZXJlfWBcbiAgICAgICAgKTtcblxuICAgICAgY29uc3Qgc2FmZVNwb3QgPSBtYXAuZmluZE5lYXJlc3RXYWxrYWJsZVRpbGUoY2hhci54LCBjaGFyLnksIDgsIHRydWUsIHRydWUpOyAvLyBleGNsdWRlTGlmdD10cnVlLCBhdm9pZE5hcnJvdz10cnVlXG5cbiAgICAgIGlmIChzYWZlU3BvdCkge1xuICAgICAgICBpZiAoaXNEZWJ1ZylcbiAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgIGAgIFtBbnRpU3R1Y2tdIE51ZGdpbmcgdG8gc2FmZSBzcG90OiAoJHtzYWZlU3BvdC54LnRvRml4ZWQoMSl9LCR7c2FmZVNwb3QueS50b0ZpeGVkKFxuICAgICAgICAgICAgICAxXG4gICAgICAgICAgICApfSlgXG4gICAgICAgICAgKTtcbiAgICAgICAgY2hhci54ID0gc2FmZVNwb3QueDtcbiAgICAgICAgY2hhci55ID0gc2FmZVNwb3QueTtcbiAgICAgICAgdGhpcy5nYW1lLnJlbmRlcmVyPy5jZW50ZXJDYW1lcmFPbkNoYXJhY3RlcigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGlzRGVidWcpXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIGAgIFtBbnRpU3R1Y2tdIENSSVRJQ0FMOiBDb3VsZCBub3QgZmluZCBhbnkgc2FmZSBzcG90IHRvIG51ZGdlLiBUcnlpbmcgcmFuZG9tLmBcbiAgICAgICAgICApO1xuICAgICAgICBjb25zdCBlbWVyZ2VuY3lTcG90ID0gbWFwLmZpbmRSYW5kb21Jbml0aWFsU3Bhd25Qb3NpdGlvbigpO1xuICAgICAgICBpZiAoZW1lcmdlbmN5U3BvdCkge1xuICAgICAgICAgIGlmIChpc0RlYnVnKVxuICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICBgICBbQW50aVN0dWNrXSBFbWVyZ2VuY3kgbnVkZ2UgdG8gcmFuZG9tOiAoJHtlbWVyZ2VuY3lTcG90LngudG9GaXhlZChcbiAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICl9LCR7ZW1lcmdlbmN5U3BvdC55LnRvRml4ZWQoMSl9KWBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgY2hhci54ID0gZW1lcmdlbmN5U3BvdC54O1xuICAgICAgICAgIGNoYXIueSA9IGVtZXJnZW5jeVNwb3QueTtcbiAgICAgICAgICB0aGlzLmdhbWUucmVuZGVyZXI/LmNlbnRlckNhbWVyYU9uQ2hhcmFjdGVyKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGlzRGVidWcpXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCcgIFtBbnRpU3R1Y2tdIEVWRU4gUkFORE9NIFNQQVdOIEZBSUxFRCEgR2FtZSBtaWdodCBiZSBicm9rZW4uJyk7XG4gICAgICAgICAgdGhpcy5nYW1lLl9oYW5kbGVGYXRhbEVycm9yKCdBbnRpLVN0dWNrIHN5c3RlbSBmYWlsZWQgY3JpdGljYWxseS4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiLy8gc3JjL2F1ZGlvL0F1ZGlvTWFuYWdlci5qc1xuXG5pbXBvcnQgdHJhY2sxU3JjIGZyb20gJy4uLy4uL2Fzc2V0cy9hdWRpby9iYWNrMS5tcDMnOyAvLyDQn9GA0LjQvNC10YAg0L/Rg9GC0LgsINC90LDRgdGC0YDQvtC50YLQtSDQv9C+0LQg0LLQsNGI0YMg0YHRgtGA0YPQutGC0YPRgNGDXG5pbXBvcnQgdHJhY2syU3JjIGZyb20gJy4uLy4uL2Fzc2V0cy9hdWRpby9iYWNrMi5tcDMnO1xuaW1wb3J0IHRyYWNrM1NyYyBmcm9tICcuLi8uLi9hc3NldHMvYXVkaW8vYmFjazMubXAzJztcblxuY29uc3QgREVGQVVMVF9NVVNJQ19WT0xVTUUgPSAwLjU7XG5cbi8vINCY0YHQv9C+0LvRjNC30YPQtdC8INC40LzQv9C+0YDRgtC40YDQvtCy0LDQvdC90YvQtSDQuNGB0YXQvtC00L3QuNC60LhcbmNvbnN0IE1VU0lDX1NPVVJDRVMgPSB7XG4gIC8vINCf0LXRgNC10LjQvNC10L3QvtCy0LDQvdC+INC00LvRjyDRj9GB0L3QvtGB0YLQuFxuICB0cmFjazE6IHRyYWNrMVNyYyxcbiAgdHJhY2syOiB0cmFjazJTcmMsXG4gIHRyYWNrMzogdHJhY2szU3JjLFxufTtcblxuLy8g0J/QvtGA0Y/QtNC+0LosINCyINC60L7RgtC+0YDQvtC8INGC0YDQtdC60Lgg0LHRg9C00YPRgiDQvNC10L3Rj9GC0YzRgdGPICjQvNC+0LbQvdC+INC40LfQvNC10L3QuNGC0Ywg0L3QsCDQtNGA0YPQs9GD0Y4g0LvQvtCz0LjQutGDKVxuY29uc3QgVFJBQ0tfQ1lDTEVfT1JERVIgPSBbJ3RyYWNrMScsICd0cmFjazInLCAndHJhY2szJ107XG5cbmV4cG9ydCBjbGFzcyBBdWRpb01hbmFnZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLm11c2ljVm9sdW1lID0gREVGQVVMVF9NVVNJQ19WT0xVTUU7XG4gICAgdGhpcy5jdXJyZW50TXVzaWNFbGVtZW50ID0gbnVsbDtcbiAgICB0aGlzLmN1cnJlbnRUcmFja0tleSA9IG51bGw7XG4gICAgdGhpcy5pc011c2ljUGxheWluZyA9IGZhbHNlO1xuXG4gICAgY29uc3Qgc2F2ZWRWb2x1bWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbXVzaWNWb2x1bWUnKTtcbiAgICBpZiAoc2F2ZWRWb2x1bWUgIT09IG51bGwpIHtcbiAgICAgIHRoaXMubXVzaWNWb2x1bWUgPSBwYXJzZUZsb2F0KHNhdmVkVm9sdW1lKTtcbiAgICB9XG5cbiAgICB0aGlzLmF1ZGlvRWxlbWVudHMgPSB7fTtcbiAgICB0aGlzLl9wcmVsb2FkVHJhY2tzKCk7XG4gIH1cblxuICBfcHJlbG9hZFRyYWNrcygpIHtcbiAgICBjb25zb2xlLmxvZygnW0F1ZGlvTWFuYWdlcl0gUHJlbG9hZGluZyB0cmFja3MgZnJvbSBpbXBvcnRlZCBzb3VyY2VzLi4uJyk7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gTVVTSUNfU09VUkNFUykge1xuICAgICAgaWYgKE1VU0lDX1NPVVJDRVMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICBjb25zdCBhdWRpb1BhdGggPSBNVVNJQ19TT1VSQ0VTW2tleV07IC8vINCY0YHQv9C+0LvRjNC30YPQtdC8INC40LzQv9C+0YDRgtC40YDQvtCy0LDQvdC90YvQuSDQv9GD0YLRjFxuICAgICAgICBjb25zdCBhdWRpbyA9IG5ldyBBdWRpbyhhdWRpb1BhdGgpO1xuICAgICAgICBhdWRpby5wcmVsb2FkID0gJ2F1dG8nO1xuICAgICAgICB0aGlzLmF1ZGlvRWxlbWVudHNba2V5XSA9IGF1ZGlvO1xuICAgICAgICBjb25zb2xlLmxvZyhgICBQcmVsb2FkZWQgJHtrZXl9IGZyb20gJHthdWRpb1BhdGh9YCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2V0TXVzaWNWb2x1bWUodm9sdW1lKSB7XG4gICAgdGhpcy5tdXNpY1ZvbHVtZSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHZvbHVtZSkpOyAvLyDQntCz0YDQsNC90LjRh9C40LLQsNC10Lwg0L7RgiAwINC00L4gMVxuICAgIGlmICh0aGlzLmN1cnJlbnRNdXNpY0VsZW1lbnQpIHtcbiAgICAgIHRoaXMuY3VycmVudE11c2ljRWxlbWVudC52b2x1bWUgPSB0aGlzLm11c2ljVm9sdW1lO1xuICAgIH1cbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbXVzaWNWb2x1bWUnLCB0aGlzLm11c2ljVm9sdW1lLnRvU3RyaW5nKCkpOyAvLyDQodC+0YXRgNCw0L3Rj9C10Lwg0LPRgNC+0LzQutC+0YHRgtGMXG4gICAgY29uc29sZS5sb2coYFtBdWRpb01hbmFnZXJdIE11c2ljIHZvbHVtZSBzZXQgdG86ICR7dGhpcy5tdXNpY1ZvbHVtZX1gKTtcbiAgfVxuXG4gIGdldE11c2ljVm9sdW1lKCkge1xuICAgIHJldHVybiB0aGlzLm11c2ljVm9sdW1lO1xuICB9XG5cbiAgcGxheU11c2ljKHRyYWNrS2V5LCBsb29wID0gdHJ1ZSkge1xuICAgIGlmICghdGhpcy5hdWRpb0VsZW1lbnRzW3RyYWNrS2V5XSkge1xuICAgICAgY29uc29sZS53YXJuKGBbQXVkaW9NYW5hZ2VyXSBUcmFjayBcIiR7dHJhY2tLZXl9XCIgbm90IGZvdW5kIG9yIG5vdCBwcmVsb2FkZWQuYCk7XG4gICAgICBpZiAoTVVTSUNfU09VUkNFU1t0cmFja0tleV0pIHtcbiAgICAgICAgLy8g0J/RgNC+0LLQtdGA0Y/QtdC8INC90LDQu9C40YfQuNC1INCyIE1VU0lDX1NPVVJDRVNcbiAgICAgICAgdGhpcy5hdWRpb0VsZW1lbnRzW3RyYWNrS2V5XSA9IG5ldyBBdWRpbyhNVVNJQ19TT1VSQ0VTW3RyYWNrS2V5XSk7IC8vINCY0YHQv9C+0LvRjNC30YPQtdC8INC40LzQv9C+0YDRgtC40YDQvtCy0LDQvdC90YvQuSDQv9GD0YLRjFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBgW0F1ZGlvTWFuYWdlcl0gU291cmNlIGZvciB0cmFjayBcIiR7dHJhY2tLZXl9XCIgbm90IGRlZmluZWQgaW4gTVVTSUNfU09VUkNFUy5gXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc011c2ljUGxheWluZyAmJiB0aGlzLmN1cnJlbnRUcmFja0tleSA9PT0gdHJhY2tLZXkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zdG9wTXVzaWMoKTtcblxuICAgIHRoaXMuY3VycmVudE11c2ljRWxlbWVudCA9IHRoaXMuYXVkaW9FbGVtZW50c1t0cmFja0tleV07XG4gICAgdGhpcy5jdXJyZW50TXVzaWNFbGVtZW50LnZvbHVtZSA9IHRoaXMubXVzaWNWb2x1bWU7XG4gICAgdGhpcy5jdXJyZW50TXVzaWNFbGVtZW50Lmxvb3AgPSBsb29wO1xuICAgIHRoaXMuY3VycmVudFRyYWNrS2V5ID0gdHJhY2tLZXk7XG5cbiAgICB0aGlzLmN1cnJlbnRNdXNpY0VsZW1lbnRcbiAgICAgIC5wbGF5KClcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgdGhpcy5pc011c2ljUGxheWluZyA9IHRydWU7XG4gICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgIGBbQXVkaW9NYW5hZ2VyXSBQbGF5aW5nIG11c2ljOiAke3RyYWNrS2V5fSAoVm9sdW1lOiAke3RoaXMuY3VycmVudE11c2ljRWxlbWVudC52b2x1bWV9KWBcbiAgICAgICAgKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFtBdWRpb01hbmFnZXJdIEVycm9yIHBsYXlpbmcgXCIke3RyYWNrS2V5fVwiOmAsIGVycm9yKTtcbiAgICAgICAgLy8g0JTQvtCx0LDQstGM0YLQtSDQsdC+0LvRjNGI0LUg0LTQtdGC0LDQu9C10Lkg0LTQu9GPINC+0YLQu9Cw0LTQutC4INC/0L7Qu9C40YLQuNC60Lgg0LDQstGC0L7QstC+0YHQv9GA0L7QuNC30LLQtdC00LXQvdC40Y9cbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBgICBQbGF5YmFjayBmYWlsdXJlIGRldGFpbHM6IHVzZXJJbnRlcmFjdGVkIChjaGVjayBNZW51LmpzKSwgZG9jdW1lbnQuaGFzRm9jdXMoKTogJHtkb2N1bWVudC5oYXNGb2N1cygpfWBcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5pc011c2ljUGxheWluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmN1cnJlbnRNdXNpY0VsZW1lbnQgPSBudWxsO1xuICAgICAgICB0aGlzLmN1cnJlbnRUcmFja0tleSA9IG51bGw7XG4gICAgICB9KTtcbiAgfVxuXG4gIHN0b3BNdXNpYygpIHtcbiAgICBpZiAodGhpcy5jdXJyZW50TXVzaWNFbGVtZW50KSB7XG4gICAgICB0aGlzLmN1cnJlbnRNdXNpY0VsZW1lbnQucGF1c2UoKTtcbiAgICAgIHRoaXMuY3VycmVudE11c2ljRWxlbWVudC5jdXJyZW50VGltZSA9IDA7IC8vINCh0LHRgNC+0YEg0L3QsCDQvdCw0YfQsNC70L5cbiAgICAgIHRoaXMuaXNNdXNpY1BsYXlpbmcgPSBmYWxzZTtcbiAgICAgIGNvbnNvbGUubG9nKGBbQXVkaW9NYW5hZ2VyXSBTdG9wcGVkIG11c2ljOiAke3RoaXMuY3VycmVudFRyYWNrS2V5fWApO1xuICAgICAgLy8g0J3QtSDQvtGH0LjRidCw0LXQvCBjdXJyZW50TXVzaWNFbGVtZW50INC4IGN1cnJlbnRUcmFja0tleSDQt9C00LXRgdGMINC/0L7Qu9C90L7RgdGC0YzRjixcbiAgICAgIC8vINGH0YLQvtCx0Ysg0LzQvtC20L3QviDQsdGL0LvQviDQstC+0LfQvtCx0L3QvtCy0LjRgtGMLCDQtdGB0LvQuCDQvdGD0LbQvdC+LCDQvdC+INC00LvRjyDRgdC80LXQvdGLINGC0YDQtdC60LAg0Y3RgtC+INCe0JouXG4gICAgfVxuICB9XG5cbiAgLy8g0JLRi9C30YvQstCw0LXRgtGB0Y8g0L/RgNC4INGB0LzQtdC90LUg0Y3RgtCw0LbQsFxuICBjaGFuZ2VUcmFja0ZvckZsb29yKGZsb29yTnVtYmVyKSB7XG4gICAgLy8g0J/RgNC+0YHRgtC+INGG0LjQutC70LjRh9C10YHQutC4INC80LXQvdGP0LXQvCDRgtGA0LXQutC4LiDQrdGC0LDQttC4INC+0LHRi9GH0L3QviAxLdC40L3QtNC10LrRgdC40YDQvtCy0LDQvdC90YvQtS5cbiAgICAvLyBmbG9vck51bWJlciDQvNC+0LbQtdGCINCx0YvRgtGMINC70Y7QsdGL0LwsINC/0L7RjdGC0L7QvNGDINCx0LXRgNC10Lwg0L/QviDQvNC+0LTRg9C70Y4uXG4gICAgLy8g0JjRgdC/0L7Qu9GM0LfRg9C10LwgKGZsb29yTnVtYmVyIC0gMSkg0LXRgdC70Lgg0LLQsNGI0Lgg0Y3RgtCw0LbQuCDQvdCw0YfQuNC90LDRjtGC0YHRjyDRgSAxLCDRh9GC0L7QsdGLINC40L3QtNC10LrRgSDQsdGL0Lsg0YEgMC5cbiAgICAvLyDQldGB0LvQuCDRjdGC0LDQttC4INC80L7Qs9GD0YIg0LHRi9GC0YwgMCDQuNC70Lgg0L7RgtGA0LjRhtCw0YLQtdC70YzQvdGL0LzQuCwg0L3Rg9C20L3QsCDQtNGA0YPQs9Cw0Y8g0LvQvtCz0LjQutCwLlxuICAgIC8vINCf0YDQtdC00L/QvtC70L7QttC40LwsINGN0YLQsNC20LggPiAwLlxuICAgIGNvbnN0IGFkanVzdGVkRmxvb3JJbmRleCA9IE1hdGgubWF4KDAsIGZsb29yTnVtYmVyIC0gMSk7XG4gICAgY29uc3QgdHJhY2tJbmRleCA9IGFkanVzdGVkRmxvb3JJbmRleCAlIFRSQUNLX0NZQ0xFX09SREVSLmxlbmd0aDtcbiAgICBjb25zdCBuZXdUcmFja0tleSA9IFRSQUNLX0NZQ0xFX09SREVSW3RyYWNrSW5kZXhdO1xuXG4gICAgaWYgKG5ld1RyYWNrS2V5KSB7XG4gICAgICBjb25zb2xlLmxvZyhgW0F1ZGlvTWFuYWdlcl0gRmxvb3IgJHtmbG9vck51bWJlcn0gLT4gTXVzaWMgdHJhY2s6ICR7bmV3VHJhY2tLZXl9YCk7XG4gICAgICB0aGlzLnBsYXlNdXNpYyhuZXdUcmFja0tleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybihgW0F1ZGlvTWFuYWdlcl0gTm8gdHJhY2sgZm91bmQgZm9yIGZsb29yIGluZGV4ICR7dHJhY2tJbmRleH0uYCk7XG4gICAgfVxuICB9XG5cbiAgLy8g0JzQtdGC0L7QtCDQtNC70Y8g0L/QtdGA0LLQvtC90LDRh9Cw0LvRjNC90L7Qs9C+INC30LDQv9GD0YHQutCwINC80YPQt9GL0LrQuCwg0L3QsNC/0YDQuNC80LXRgCwg0L/RgNC4INGB0YLQsNGA0YLQtSDQuNCz0YDRi1xuICBzdGFydEluaXRpYWxNdXNpYyhpbml0aWFsRmxvb3IgPSAxKSB7XG4gICAgLy8g0KPQsdC10LTQuNC80YHRjywg0YfRgtC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjCDQstC30LDQuNC80L7QtNC10LnRgdGC0LLQvtCy0LDQuyDRgdC+INGB0YLRgNCw0L3QuNGG0LXQuSxcbiAgICAvLyDQv9GA0LXQttC00LUg0YfQtdC8INC/0YvRgtCw0YLRjNGB0Y8g0LLQvtGB0L/RgNC+0LjQt9Cy0LXRgdGC0Lgg0LfQstGD0LogKNCx0YDQsNGD0LfQtdGA0Ysg0LHQu9C+0LrQuNGA0YPRjtGCINCw0LLRgtC+0LLQvtGB0L/RgNC+0LjQt9Cy0LXQtNC10L3QuNC1KS5cbiAgICAvLyDQrdGC0L7RgiDQvNC10YLQvtC0INC00L7Qu9C20LXQvSDQstGL0LfRi9Cy0LDRgtGM0YHRjyDQv9C+0YHQu9C1INC60LvQuNC60LAgXCJQbGF5XCIg0LIg0LPQu9Cw0LLQvdC+0Lwg0LzQtdC90Y4uXG4gICAgY29uc29sZS5sb2coJ1tBdWRpb01hbmFnZXJdIEF0dGVtcHRpbmcgdG8gc3RhcnQgaW5pdGlhbCBtdXNpYy4uLicpO1xuICAgIHRoaXMuY2hhbmdlVHJhY2tGb3JGbG9vcihpbml0aWFsRmxvb3IpO1xuICB9XG59XG4iLCIvLyBzcmMvY29yZS9HYW1lLmpzXG5pbXBvcnQgeyBJbnB1dE1hbmFnZXIgfSBmcm9tICcuL0lucHV0TWFuYWdlci5qcyc7XG5pbXBvcnQgeyBVSU1hbmFnZXIgfSBmcm9tICcuLi9VSS9VSU1hbmFnZXIuanMnO1xuaW1wb3J0IHsgQ2hhcmFjdGVyIH0gZnJvbSAnLi9DaGFyYWN0ZXIuanMnO1xuaW1wb3J0IHsgTGV2ZWwgfSBmcm9tICcuL0xldmVsLmpzJztcbmltcG9ydCB7XG4gIEdhbWVTdGF0ZSxcbiAgcXVlc3Rpb25zLFxuICBUQVJHRVRfQk9PS1NfVE9fV0lOLFxuICBMSUZUX0NPT0xET1dOX01TLFxuICAvLyBUSUxFX1dBTEwsIC8vIE5vdCB1c2VkIGRpcmVjdGx5IGhlcmUsIGNhbiBiZSByZW1vdmVkIGlmIHRoZXJlIGFyZSBubyBvdGhlciB1c2VzXG59IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBHYW1lUmVuZGVyZXIgfSBmcm9tICcuL0dhbWVSZW5kZXJlci5qcyc7XG5pbXBvcnQgeyBHYW1lcGxheU1hbmFnZXIgfSBmcm9tICcuL0dhbWVwbGF5TWFuYWdlci5qcyc7XG5pbXBvcnQgeyBBdWRpb01hbmFnZXIgfSBmcm9tICcuLi9hdWRpby9BdWRpb01hbmFnZXIuanMnO1xuXG4vLyBJbXBvcnR5IHphc29iw7N3XG5pbXBvcnQgcmVkU3ByaXRlIGZyb20gJy4uLy4uL2Fzc2V0cy9pbWFnZXMvY2hhcmFjdGVyX3JlZC5wbmcnO1xuaW1wb3J0IGJsdWVTcHJpdGUgZnJvbSAnLi4vLi4vYXNzZXRzL2ltYWdlcy9jaGFyYWN0ZXJfYmx1ZS5wbmcnO1xuaW1wb3J0IHllbGxvd1Nwcml0ZSBmcm9tICcuLi8uLi9hc3NldHMvaW1hZ2VzL2NoYXJhY3Rlcl95ZWxsb3cucG5nJztcbmltcG9ydCBncmVlblNwcml0ZSBmcm9tICcuLi8uLi9hc3NldHMvaW1hZ2VzL2NoYXJhY3Rlcl9ncmVlbi5wbmcnO1xuaW1wb3J0IGJvb2tTcHJpdGUgZnJvbSAnLi4vLi4vYXNzZXRzL2ltYWdlcy9ib29rLnBuZyc7XG5cbmV4cG9ydCBjbGFzcyBHYW1lIHtcbiAgLy8gU3RhdGljIHByb3BlcnRpZXMgZm9yIEdhbWUgT3ZlciBzY3JlZW4gaW5mb3JtYXRpb25cblxuICBzdGF0aWMgQ1JFQVRPUl9OQU1FUyA9IFsnUmFmYcWCJywgJ0RpbWEnLCAnVmVuaWEnLCAnS2FjcGVyJ107XG4gIHN0YXRpYyBDTEFTU19BVFRFTkRJTkdfSU5GTyA9ICdLbGFzYSAyUDJUIC8gUHJvamVrdG93YW5pZSBzdHJvbiBpbnRlcm5ldG93eWNoJztcblxuICBjb25zdHJ1Y3RvcihjaGFyYWN0ZXJDb2xvcikge1xuICAgIGNvbnNvbGUubG9nKGBbR2FtZV0gSW5pdGlhbGl6aW5nIHdpdGggY2hhcmFjdGVyOiAke2NoYXJhY3RlckNvbG9yfWApO1xuICAgIHRoaXMuY2hhcmFjdGVyQ29sb3IgPSBjaGFyYWN0ZXJDb2xvcjtcbiAgICB0aGlzLl9nYW1lU3RhdGUgPSBHYW1lU3RhdGUuTE9BRElORztcbiAgICB0aGlzLmlzUnVubmluZyA9IGZhbHNlO1xuXG4gICAgdGhpcy50b3RhbEJvb2tzQ29sbGVjdGVkR2xvYmFsbHkgPSAwO1xuICAgIHRoaXMudGFyZ2V0Qm9va3NUb1dpbiA9IFRBUkdFVF9CT09LU19UT19XSU47XG4gICAgdGhpcy5hdmFpbGFibGVRdWVzdGlvbnMgPSBbXTtcbiAgICB0aGlzLmN1cnJlbnRCb29rVGFyZ2V0ID0gbnVsbDtcbiAgICB0aGlzLmN1cnJlbnRRdWVzdGlvbkRhdGEgPSBudWxsO1xuICAgIHRoaXMubGlmdENvb2xkb3duQWN0aXZlID0gZmFsc2U7XG4gICAgdGhpcy5saWZ0Q29vbGRvd25UaW1lciA9IG51bGw7XG5cbiAgICB0aGlzLmNhbnZhcyA9IG51bGw7XG4gICAgdGhpcy5jdHggPSBudWxsO1xuICAgIHRoaXMuY2hhcmFjdGVyID0gbnVsbDtcbiAgICB0aGlzLmxldmVsID0gbnVsbDtcbiAgICB0aGlzLmlucHV0TWFuYWdlciA9IG51bGw7XG4gICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgdGhpcy5nYW1lcGxheU1hbmFnZXIgPSBudWxsO1xuICAgIHRoaXMuYXVkaW9NYW5hZ2VyID0gbnVsbDtcblxuICAgIHRoaXMuc3ByaXRlcyA9IHsgcmVkOiByZWRTcHJpdGUsIGJsdWU6IGJsdWVTcHJpdGUsIHllbGxvdzogeWVsbG93U3ByaXRlLCBncmVlbjogZ3JlZW5TcHJpdGUgfTtcbiAgICB0aGlzLmJvb2tJbWFnZSA9IG51bGw7XG5cbiAgICB0aGlzLmdhbWVMb29wID0gdGhpcy5nYW1lTG9vcC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2hhbmRsZUZhdGFsRXJyb3IgPSB0aGlzLl9oYW5kbGVGYXRhbEVycm9yLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fYm91bmRLZXlEb3duSGFuZGxlciA9IG51bGw7XG4gICAgdGhpcy5fYm91bmRLZXlVcEhhbmRsZXIgPSBudWxsO1xuXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuX2luaXRpYWxpemVDb3JlQ29tcG9uZW50cygpO1xuXG4gICAgICB0aGlzLmF1ZGlvTWFuYWdlciA9IG5ldyBBdWRpb01hbmFnZXIoKTtcbiAgICAgIGNvbnNvbGUubG9nKCdbR2FtZV0gQXVkaW9NYW5hZ2VyIGNyZWF0ZWQuJyk7XG4gICAgICB0aGlzLmdhbWVwbGF5TWFuYWdlciA9IG5ldyBHYW1lcGxheU1hbmFnZXIodGhpcyk7XG4gICAgICBjb25zb2xlLmxvZygnW0dhbWVdIEdhbWVwbGF5TWFuYWdlciBjcmVhdGVkLicpO1xuXG4gICAgICB0aGlzLnJlbmRlcmVyID0gbmV3IEdhbWVSZW5kZXJlcih0aGlzKTtcbiAgICAgIGNvbnN0IHsgY2FudmFzLCBjdHggfSA9IHRoaXMucmVuZGVyZXIuaW5pdGlhbGl6ZUNhbnZhcygpO1xuICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XG4gICAgICB0aGlzLmN0eCA9IGN0eDtcbiAgICAgIGNvbnNvbGUubG9nKCdbR2FtZV0gUmVuZGVyZXIgYW5kIENhbnZhcyBpbml0aWFsaXplZC4nKTtcblxuICAgICAgdGhpcy5faW5pdGlhbGl6ZVVJTWFuYWdlcigpO1xuICAgICAgY29uc29sZS5sb2coJ1tHYW1lXSBVSU1hbmFnZXIgc2V0dXAgaW5pdGlhdGVkLicpO1xuXG4gICAgICB0aGlzLl9hZGRFdmVudExpc3RlbmVycygpO1xuXG4gICAgICB0aGlzLl9sb2FkQXNzZXRzQW5kVGhlblN0YXJ0TG9naWMoKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1tHYW1lXSBBc3luYyBsb2FkaW5nIGFuZCBnYW1lIGxvZ2ljIHN0YXJ0IHNlcXVlbmNlIGNvbXBsZXRlZC4nKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAnW0dhbWVdIFVuaGFuZGxlZCBlcnJvciBmcm9tIF9sb2FkQXNzZXRzQW5kVGhlblN0YXJ0TG9naWMgaW4gY29uc3RydWN0b3I6JyxcbiAgICAgICAgICAgIGVycm9yXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb25zdCBsb2FkaW5nT3ZlcmxheSA9IFVJTWFuYWdlci5nZXRMb2FkaW5nT3ZlcmxheSgpOyAvLyBVxbx5d2FteSBVSU1hbmFnZXJhXG4gICAgICAgICAgaWYgKGxvYWRpbmdPdmVybGF5KSBsb2FkaW5nT3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICBVSU1hbmFnZXIuaW5pdGlhbGl6ZVRpbWVyKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tHYW1lXSBTeW5jaHJvbm91cyBjb3JlIGluaXRpYWxpemF0aW9uIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICBhbGVydChgQ3JpdGljYWwgaW5pdGlhbGl6YXRpb24gZXJyb3I6ICR7ZXJyb3IubWVzc2FnZX0uIEdhbWUgY2Fubm90IHN0YXJ0LmApO1xuICAgICAgdGhpcy5faGFuZGxlRmF0YWxFcnJvcihgSW5pdGlhbGl6YXRpb24gZXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gLCBmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IGdhbWVTdGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2FtZVN0YXRlO1xuICB9XG4gIHNldEdhbWVTdGF0ZShuZXdTdGF0ZSkge1xuICAgIGlmICh0aGlzLl9nYW1lU3RhdGUgIT09IG5ld1N0YXRlKSB7XG4gICAgICBjb25zb2xlLmxvZyhgW0dhbWUgU3RhdGVdICR7dGhpcy5fZ2FtZVN0YXRlfSAtPiAke25ld1N0YXRlfWApO1xuICAgICAgdGhpcy5fZ2FtZVN0YXRlID0gbmV3U3RhdGU7XG4gICAgfVxuICB9XG5cbiAgX2luaXRpYWxpemVDb3JlQ29tcG9uZW50cygpIHtcbiAgICB0aGlzLmlucHV0TWFuYWdlciA9IG5ldyBJbnB1dE1hbmFnZXIoKTtcbiAgICB0aGlzLmxldmVsID0gbmV3IExldmVsKDEsIDMpOyAvLyBQcnp5a8WCYWQ6IHBpxJl0cmEgb2QgMSBkbyAzXG4gIH1cblxuICBfaW5pdGlhbGl6ZVVJTWFuYWdlcigpIHtcbiAgICBpZiAoIXRoaXMuZ2FtZXBsYXlNYW5hZ2VyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tHYW1lXSBHYW1lcGxheU1hbmFnZXIgaXMgTk9UIGRlZmluZWQgd2hlbiBfaW5pdGlhbGl6ZVVJTWFuYWdlciBpcyBjYWxsZWQhJyk7XG4gICAgfVxuICAgIGlmICghdGhpcy5pbnB1dE1hbmFnZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignW0dhbWVdIElucHV0TWFuYWdlciBpcyBOT1QgZGVmaW5lZCB3aGVuIF9pbml0aWFsaXplVUlNYW5hZ2VyIGlzIGNhbGxlZCEnKTtcbiAgICB9XG4gICAgVUlNYW5hZ2VyLnNldEdhbWVwbGF5TWFuYWdlcih0aGlzLmdhbWVwbGF5TWFuYWdlcik7XG4gICAgVUlNYW5hZ2VyLmluaXRpYWxpemVVSSh0aGlzLmlucHV0TWFuYWdlcik7XG4gIH1cblxuICBfYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHRoaXMucmVuZGVyZXI/LnJlc2l6ZUNhbnZhcygpKTtcbiAgfVxuXG4gIGFzeW5jIF9sb2FkQXNzZXRzQW5kVGhlblN0YXJ0TG9naWMoKSB7XG4gICAgY29uc3QgbG9hZGluZ092ZXJsYXkgPSBVSU1hbmFnZXIuZ2V0TG9hZGluZ092ZXJsYXkoKTtcbiAgICB0cnkge1xuICAgICAgdGhpcy5zZXRHYW1lU3RhdGUoR2FtZVN0YXRlLkxPQURJTkcpO1xuXG4gICAgICBhd2FpdCB0aGlzLl9sb2FkQXNzZXRzKCk7XG4gICAgICBhd2FpdCB0aGlzLl9zdGFydEdhbWVMb2dpYygpO1xuXG4gICAgICBpZiAobG9hZGluZ092ZXJsYXkpIGxvYWRpbmdPdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignW0dhbWVdIEFzc2V0IGxvYWRpbmcgb3IgZ2FtZSBsb2dpYyBzdGFydCBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgaWYgKGxvYWRpbmdPdmVybGF5KSBsb2FkaW5nT3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgICB0aGlzLl9oYW5kbGVGYXRhbEVycm9yKGBBc3NldC9TdGFydCBMb2dpYyBFcnJvcjogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgX2xvYWRBc3NldHMoKSB7XG4gICAgY29uc29sZS5sb2coJ1tHYW1lXSBMb2FkaW5nIGFzc2V0cy4uLicpO1xuICAgIGNvbnN0IHByb21pc2VzID0gW107XG4gICAgY29uc3Qgc3ByaXRlUGF0aCA9IHRoaXMuc3ByaXRlc1t0aGlzLmNoYXJhY3RlckNvbG9yXSB8fCB0aGlzLnNwcml0ZXMucmVkO1xuXG4gICAgaWYgKCF0aGlzLmN0eCkgdGhyb3cgbmV3IEVycm9yKCdDYW52YXMgY29udGV4dCBub3QgYXZhaWxhYmxlIGZvciBDaGFyYWN0ZXIgY3JlYXRpb24uJyk7XG4gICAgdGhpcy5jaGFyYWN0ZXIgPSBuZXcgQ2hhcmFjdGVyKHRoaXMuY3R4LCBzcHJpdGVQYXRoLCB7XG4gICAgICBzcGVlZDogMyxcbiAgICAgIGZyYW1lU2l6ZTogMzIsXG4gICAgICBzY2FsZTogMixcbiAgICAgIGFuaW1hdGlvblNwZWVkOiAxNTAsXG4gICAgICBmcmFtZUNvdW50OiA0LFxuICAgIH0pO1xuICAgIHByb21pc2VzLnB1c2goXG4gICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIHRoaXMuY2hhcmFjdGVyLnNwcml0ZS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coYCAgW0Fzc2V0c10gQ2hhcmFjdGVyIHNwcml0ZSBsb2FkZWQ6ICR7c3ByaXRlUGF0aH1gKTtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY2hhcmFjdGVyLnNwcml0ZS5vbmVycm9yID0gKGVycikgPT5cbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKGBGYWlsZWQgdG8gbG9hZCBjaGFyYWN0ZXIgc3ByaXRlOiAke3Nwcml0ZVBhdGh9LiBEZXRhaWxzOiAke2Vycn1gKSk7XG4gICAgICB9KVxuICAgICk7XG5cbiAgICBpZiAoYm9va1Nwcml0ZSkge1xuICAgICAgdGhpcy5ib29rSW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICAgIHRoaXMuYm9va0ltYWdlLnNyYyA9IGJvb2tTcHJpdGU7XG4gICAgICBwcm9taXNlcy5wdXNoKFxuICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgIHRoaXMuYm9va0ltYWdlLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGAgIFtBc3NldHNdIEJvb2sgaW1hZ2UgbG9hZGVkOiAke2Jvb2tTcHJpdGV9YCk7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICB0aGlzLmJvb2tJbWFnZS5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICBgIFtBc3NldHNdIEZhaWxlZCB0byBsb2FkIGJvb2sgaW1hZ2U6ICR7Ym9va1Nwcml0ZX0uIFVzaW5nIGZhbGxiYWNrIHJlbmRlcmluZy5gXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy5ib29rSW1hZ2UgPSBudWxsO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1tBc3NldHNdIE5vIGJvb2sgc3ByaXRlIHBhdGggcHJvdmlkZWQuIEJvb2sgd2lsbCB1c2UgZmFsbGJhY2sgcmVuZGVyaW5nLicpO1xuICAgICAgdGhpcy5ib29rSW1hZ2UgPSBudWxsO1xuICAgIH1cblxuICAgIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICBjb25zb2xlLmxvZygnW0dhbWVdIEFsbCBhc3NldHMgbG9hZGVkIHN1Y2Nlc3NmdWxseS4nKTtcbiAgfVxuXG4gIGFzeW5jIF9zdGFydEdhbWVMb2dpYygpIHtcbiAgICBjb25zb2xlLmxvZygnW0dhbWVdIFN0YXJ0aW5nIGNvcmUgZ2FtZSBsb2dpYy4uLicpO1xuICAgIFVJTWFuYWdlci5zdGFydFRpbWVyKCk7XG4gICAgaWYgKFxuICAgICAgIXRoaXMubGV2ZWwgfHxcbiAgICAgICF0aGlzLmNoYXJhY3RlciB8fFxuICAgICAgIXRoaXMuY2FudmFzIHx8XG4gICAgICAhdGhpcy5yZW5kZXJlciB8fFxuICAgICAgIXRoaXMuZ2FtZXBsYXlNYW5hZ2VyIHx8XG4gICAgICAhdGhpcy5hdWRpb01hbmFnZXJcbiAgICApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHN0YXJ0IGdhbWUgLSBlc3NlbnRpYWwgY29tcG9uZW50cyBhcmUgbWlzc2luZy4nKTtcbiAgICB9XG5cbiAgICB0aGlzLnNldEdhbWVTdGF0ZShHYW1lU3RhdGUuTE9BRElOR19MRVZFTCk7XG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy5sZXZlbC5sb2FkRmxvb3IodGhpcy5sZXZlbC5taW5GbG9vciwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG4gICAgICBjb25zdCBjdXJyZW50TWFwID0gdGhpcy5sZXZlbC5jdXJyZW50TWFwO1xuICAgICAgaWYgKCFjdXJyZW50TWFwKSB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGluaXRpYWwgbWFwLiBNYXAgb2JqZWN0IGlzIG51bGwuJyk7XG5cbiAgICAgIGNvbnN0IHN0YXJ0UG9zID0gY3VycmVudE1hcC5maW5kUmFuZG9tSW5pdGlhbFNwYXduUG9zaXRpb24oKTtcbiAgICAgIGlmICghc3RhcnRQb3MpIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZpbmQgYSB2YWxpZCBzdGFydGluZyBwb3NpdGlvbiBvbiB0aGUgbWFwIScpO1xuICAgICAgdGhpcy5jaGFyYWN0ZXIueCA9IHN0YXJ0UG9zLng7XG4gICAgICB0aGlzLmNoYXJhY3Rlci55ID0gc3RhcnRQb3MueTtcbiAgICAgIHRoaXMuY2hhcmFjdGVyLmN1cnJlbnREaXJlY3Rpb24gPSBDaGFyYWN0ZXIuRGlyZWN0aW9uLkRPV047XG4gICAgICB0aGlzLmNoYXJhY3Rlci5pc01vdmluZyA9IGZhbHNlO1xuXG4gICAgICB0aGlzLmdhbWVwbGF5TWFuYWdlci5lbnN1cmVDaGFyYWN0ZXJJc09uV2Fsa2FibGVUaWxlKGZhbHNlKTtcblxuICAgICAgdGhpcy50b3RhbEJvb2tzQ29sbGVjdGVkR2xvYmFsbHkgPSAwO1xuICAgICAgdGhpcy5hdmFpbGFibGVRdWVzdGlvbnMgPSBbLi4ucXVlc3Rpb25zXTtcbiAgICAgIHRoaXMubGlmdENvb2xkb3duQWN0aXZlID0gZmFsc2U7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5saWZ0Q29vbGRvd25UaW1lcik7XG4gICAgICB0aGlzLmxpZnRDb29sZG93blRpbWVyID0gbnVsbDtcbiAgICAgIHRoaXMuY3VycmVudEJvb2tUYXJnZXQgPSBudWxsO1xuICAgICAgdGhpcy5jdXJyZW50UXVlc3Rpb25EYXRhID0gbnVsbDtcblxuICAgICAgdGhpcy5yZW5kZXJlci5jZW50ZXJDYW1lcmFPbkNoYXJhY3RlcigpO1xuXG4gICAgICBVSU1hbmFnZXIudXBkYXRlU2NvcmUodGhpcy50b3RhbEJvb2tzQ29sbGVjdGVkR2xvYmFsbHksIHRoaXMudGFyZ2V0Qm9va3NUb1dpbik7XG4gICAgICBVSU1hbmFnZXIuc2hvd0dhbWVVSSgpO1xuXG4gICAgICB0aGlzLl9ib3VuZEtleURvd25IYW5kbGVyID0gdGhpcy5oYW5kbGVLZXlEb3duLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9ib3VuZEtleVVwSGFuZGxlciA9IHRoaXMuaGFuZGxlS2V5VXAuYmluZCh0aGlzKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fYm91bmRLZXlEb3duSGFuZGxlcik7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9ib3VuZEtleVVwSGFuZGxlcik7XG5cbiAgICAgIHRoaXMuYXVkaW9NYW5hZ2VyLnN0YXJ0SW5pdGlhbE11c2ljKHRoaXMubGV2ZWwuY3VycmVudEZsb29yKTtcbiAgICAgIGNvbnNvbGUubG9nKGBbR2FtZV0gSW5pdGlhbCBtdXNpYyBzdGFydGVkIGZvciBmbG9vciAke3RoaXMubGV2ZWwuY3VycmVudEZsb29yfWApO1xuXG4gICAgICBVSU1hbmFnZXIuc3RhcnRUaW1lcigpO1xuXG4gICAgICB0aGlzLnNldEdhbWVTdGF0ZShHYW1lU3RhdGUuUExBWUlORyk7XG4gICAgICBpZiAoIXRoaXMuaXNSdW5uaW5nKSB7XG4gICAgICAgIHRoaXMuaXNSdW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuZ2FtZUxvb3ApO1xuICAgICAgICBjb25zb2xlLmxvZygnW0dhbWVdIEdhbWUgbG9naWMgc3RhcnRlZC4gTG9vcCBpcyBydW5uaW5nLicpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbR2FtZV0gRXJyb3IgZHVyaW5nIF9zdGFydEdhbWVMb2dpYzonLCBlcnJvcik7XG4gICAgICB0aGlzLl9oYW5kbGVGYXRhbEVycm9yKGBMZXZlbCBzdGFydCBwcm9jZXNzIGVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBfc2V0R2FtZU92ZXIod2luID0gdHJ1ZSkge1xuICAgIGlmICh0aGlzLmdhbWVTdGF0ZSA9PT0gR2FtZVN0YXRlLkdBTUVfT1ZFUikgcmV0dXJuO1xuXG4gICAgdGhpcy5zZXRHYW1lU3RhdGUoR2FtZVN0YXRlLkdBTUVfT1ZFUik7XG4gICAgdGhpcy5pc1J1bm5pbmcgPSBmYWxzZTtcbiAgICBpZiAodGhpcy5jaGFyYWN0ZXIpIHRoaXMuY2hhcmFjdGVyLmlzTW92aW5nID0gZmFsc2U7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMubGlmdENvb2xkb3duVGltZXIpO1xuXG4gICAgaWYgKHRoaXMuYXVkaW9NYW5hZ2VyKSB7XG4gICAgICB0aGlzLmF1ZGlvTWFuYWdlci5zdG9wTXVzaWMoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fYm91bmRLZXlEb3duSGFuZGxlcikgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9ib3VuZEtleURvd25IYW5kbGVyKTtcbiAgICBpZiAodGhpcy5fYm91bmRLZXlVcEhhbmRsZXIpIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX2JvdW5kS2V5VXBIYW5kbGVyKTtcbiAgICB0aGlzLl9ib3VuZEtleURvd25IYW5kbGVyID0gbnVsbDtcbiAgICB0aGlzLl9ib3VuZEtleVVwSGFuZGxlciA9IG51bGw7XG5cbiAgICBVSU1hbmFnZXIuc3RvcFRpbWVyKHdpbik7XG5cbiAgICAvLyBXeXdvxYJ5d2FuZSB3ZXduxIV0cnogc2hvd0dhbWVPdmVyU2NyZWVuXG4gICAgLy8gV3l3b8WCeXdhbmUgd2V3bsSFdHJ6IHNob3dHYW1lT3ZlclNjcmVlblxuICAgIC8vIFd5d2/Fgnl3YW5lIHdld27EhXRyeiBzaG93R2FtZU92ZXJTY3JlZW5cblxuICAgIFVJTWFuYWdlci5zaG93R2FtZU92ZXJTY3JlZW4od2luLCBHYW1lLkNSRUFUT1JfTkFNRVMsIEdhbWUuQ0xBU1NfQVRURU5ESU5HX0lORk8pO1xuXG4gICAgVUlNYW5hZ2VyLnN0b3BUaW1lcih3aW4pO1xuXG4gICAgY29uc29sZS5sb2coYFtHYW1lXSBHYW1lIE92ZXIuIFdpbjogJHt3aW59YCk7XG4gIH1cblxuICBzdG9wR2FtZSgpIHtcbiAgICBjb25zb2xlLmxvZygnW0dhbWVdIEV4cGxpY2l0IHN0b3BHYW1lIHJlcXVlc3RlZC4nKTtcbiAgICB0aGlzLl9zZXRHYW1lT3ZlcihmYWxzZSk7XG4gICAgY29uc29sZS5sb2coJ1tHYW1lXSBHYW1lIHN0b3BwZWQuJyk7XG4gIH1cblxuICBfaGFuZGxlRmF0YWxFcnJvcihtZXNzYWdlLCBzaG93QWxlcnQgPSB0cnVlKSB7XG4gICAgY29uc29sZS5lcnJvcignW0dhbWVdIEZBVEFMIEVSUk9SOicsIG1lc3NhZ2UpO1xuICAgIGlmIChzaG93QWxlcnQgJiYgdGhpcy5nYW1lU3RhdGUgIT09IEdhbWVTdGF0ZS5HQU1FX09WRVIpIHtcbiAgICAgIGlmIChVSU1hbmFnZXIuZmxhc2hNZXNzYWdlQ29udGFpbmVyICYmIFVJTWFuYWdlci5mbGFzaE1lc3NhZ2UpIHtcbiAgICAgICAgVUlNYW5hZ2VyLmZsYXNoTWVzc2FnZShgRkFUQUwgRVJST1I6ICR7bWVzc2FnZX1gLCAnZXJyb3InLCAxNTAwMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbGVydChgRkFUQUwgRVJST1I6ICR7bWVzc2FnZX1gKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gVXBld25pam15IHNpxJksIMW8ZSBncmEgcHJ6ZWNob2R6aSB3IHN0YW4gR0FNRV9PVkVSIGkgcG9rYXp1amUgb2Rwb3dpZWRuaSBla3Jhbi5cbiAgICBpZiAodGhpcy5nYW1lU3RhdGUgIT09IEdhbWVTdGF0ZS5HQU1FX09WRVIpIHtcbiAgICAgIHRoaXMuX3NldEdhbWVPdmVyKGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVLZXlEb3duKGUpIHtcbiAgICBpZiAodGhpcy5nYW1lU3RhdGUgIT09IEdhbWVTdGF0ZS5QTEFZSU5HIHx8ICF0aGlzLmlucHV0TWFuYWdlcikgcmV0dXJuO1xuICAgIGxldCBrZXlIYW5kbGVkID0gZmFsc2U7XG4gICAgY29uc3Qga2V5ID0gZS5rZXkudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAoWydhcnJvd3VwJywgJ3cnXS5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICB0aGlzLmlucHV0TWFuYWdlci5zZXRLZXkoJ3VwJywgdHJ1ZSk7XG4gICAgICBrZXlIYW5kbGVkID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKFsnYXJyb3dkb3duJywgJ3MnXS5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICB0aGlzLmlucHV0TWFuYWdlci5zZXRLZXkoJ2Rvd24nLCB0cnVlKTtcbiAgICAgIGtleUhhbmRsZWQgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoWydhcnJvd2xlZnQnLCAnYSddLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgIHRoaXMuaW5wdXRNYW5hZ2VyLnNldEtleSgnbGVmdCcsIHRydWUpO1xuICAgICAga2V5SGFuZGxlZCA9IHRydWU7XG4gICAgfSBlbHNlIGlmIChbJ2Fycm93cmlnaHQnLCAnZCddLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgIHRoaXMuaW5wdXRNYW5hZ2VyLnNldEtleSgncmlnaHQnLCB0cnVlKTtcbiAgICAgIGtleUhhbmRsZWQgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoa2V5SGFuZGxlZCkgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG5cbiAgaGFuZGxlS2V5VXAoZSkge1xuICAgIGlmICghdGhpcy5pbnB1dE1hbmFnZXIpIHJldHVybjtcbiAgICBjb25zdCBrZXkgPSBlLmtleS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChbJ2Fycm93dXAnLCAndyddLmluY2x1ZGVzKGtleSkpIHRoaXMuaW5wdXRNYW5hZ2VyLnNldEtleSgndXAnLCBmYWxzZSk7XG4gICAgZWxzZSBpZiAoWydhcnJvd2Rvd24nLCAncyddLmluY2x1ZGVzKGtleSkpIHRoaXMuaW5wdXRNYW5hZ2VyLnNldEtleSgnZG93bicsIGZhbHNlKTtcbiAgICBlbHNlIGlmIChbJ2Fycm93bGVmdCcsICdhJ10uaW5jbHVkZXMoa2V5KSkgdGhpcy5pbnB1dE1hbmFnZXIuc2V0S2V5KCdsZWZ0JywgZmFsc2UpO1xuICAgIGVsc2UgaWYgKFsnYXJyb3dyaWdodCcsICdkJ10uaW5jbHVkZXMoa2V5KSkgdGhpcy5pbnB1dE1hbmFnZXIuc2V0S2V5KCdyaWdodCcsIGZhbHNlKTtcbiAgfVxuXG4gIGdhbWVMb29wKHRpbWVzdGFtcCkge1xuICAgIGlmICghdGhpcy5pc1J1bm5pbmcgfHwgdGhpcy5nYW1lU3RhdGUgPT09IEdhbWVTdGF0ZS5HQU1FX09WRVIpIHJldHVybjtcbiAgICB0aGlzLmdhbWVwbGF5TWFuYWdlcj8udXBkYXRlKHRpbWVzdGFtcCk7XG4gICAgdGhpcy5yZW5kZXJlcj8uY2VudGVyQ2FtZXJhT25DaGFyYWN0ZXIoKTtcbiAgICB0aGlzLnJlbmRlcmVyPy5kcmF3RnJhbWUoKTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5nYW1lTG9vcCk7XG4gIH1cblxuICBzdGFydExpZnRDb29sZG93blRpbWVyKCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmxpZnRDb29sZG93blRpbWVyKTtcbiAgICBjb25zb2xlLmxvZyhgW0dhbWVdIFN0YXJ0aW5nIGxpZnQgY29vbGRvd24gdGltZXI6ICR7TElGVF9DT09MRE9XTl9NU31tcy5gKTtcbiAgICB0aGlzLmxpZnRDb29sZG93blRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmxpZnRDb29sZG93bkFjdGl2ZSA9IGZhbHNlO1xuICAgICAgdGhpcy5saWZ0Q29vbGRvd25UaW1lciA9IG51bGw7XG4gICAgICBpZiAodGhpcy5nYW1lU3RhdGUgPT09IEdhbWVTdGF0ZS5UUkFOU0lUSU9OSU5HKSB7XG4gICAgICAgIHRoaXMuc2V0R2FtZVN0YXRlKEdhbWVTdGF0ZS5QTEFZSU5HKTtcbiAgICAgICAgVUlNYW5hZ2VyLmZsYXNoTWVzc2FnZShgQXJyaXZlZCBhdCBmbG9vciAke3RoaXMubGV2ZWw/LmN1cnJlbnRGbG9vcn1gLCAnc3VjY2VzcycsIDE1MDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIGBbR2FtZVRpbWVyXSBMaWZ0IGNvb2xkb3duIGVuZGVkLCBidXQgZ2FtZSBzdGF0ZSBpcyAke3RoaXMuZ2FtZVN0YXRlfS4gTm8gc3RhdGUgY2hhbmdlIGFwcGxpZWQuYFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0sIExJRlRfQ09PTERPV05fTVMpO1xuICB9XG59XG4iLCIvLyBzcmMvVUkvTWVudS5qc1xuaW1wb3J0IHsgR2FtZSB9IGZyb20gJy4uL0NvcmUvR2FtZS5qcyc7XG5pbXBvcnQgeyBVSU1hbmFnZXIgfSBmcm9tICcuL1VJTWFuYWdlci5qcyc7XG5cbmxldCBjdXJyZW50R2FtZUluc3RhbmNlID0gbnVsbDtcblxuY2xhc3MgTWVudSB7XG4gIGNvbnN0cnVjdG9yKGNoYXJhY3RlckltYWdlU291cmNlcykge1xuICAgIHRoaXMuY2hhcmFjdGVySW1hZ2VTb3VyY2VzID0gY2hhcmFjdGVySW1hZ2VTb3VyY2VzO1xuICAgIHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXIgPSBudWxsO1xuICAgIHRoaXMudXNlckludGVyYWN0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLm92ZXJsYXkgPSBudWxsO1xuICAgIHRoaXMuYXVkaW9NYW5hZ2VySW5zdGFuY2UgPSBudWxsOyAvLyBUbyBzdG9yZSBBdWRpb01hbmFnZXJcblxuICAgIGNvbnNvbGUubG9nKCdbTWVudV0gQ29uc3RydWN0b3IgY2FsbGVkLiBJbml0aWFsaXppbmcgZWxlbWVudHMuLi4nKTtcbiAgICB0aGlzLmluaXRpYWxpemVFbGVtZW50cygpO1xuXG4gICAgaWYgKHRoaXMuY2hhcmFjdGVyUGFuZWwpIHtcbiAgICAgIHRoaXMuc2V0dXBDaGFyYWN0ZXJJbWFnZXMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgJ1tNZW51IENvbnN0cnVjdG9yXSBDUklUSUNBTDogdGhpcy5jaGFyYWN0ZXJQYW5lbCBpcyBudWxsIEFGVEVSIGluaXRpYWxpemVFbGVtZW50cy4gQ2Fubm90IHNldHVwIGltYWdlcy4nXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCdbTWVudV0gQWRkaW5nIGV2ZW50IGxpc3RlbmVycy4uLicpO1xuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICBjb25zb2xlLmxvZygnW01lbnVdIEluc3RhbmNlIGNyZWF0ZWQuJyk7XG4gIH1cblxuICAvLyBNZXRob2QgdG8gYmUgY2FsbGVkIGZyb20gR2FtZS5qcyB0byBwYXNzIEF1ZGlvTWFuYWdlclxuICBzZXRBdWRpb01hbmFnZXIoYXVkaW9NYW5hZ2VyKSB7XG4gICAgdGhpcy5hdWRpb01hbmFnZXJJbnN0YW5jZSA9IGF1ZGlvTWFuYWdlcjtcbiAgICBjb25zb2xlLmxvZygnW01lbnVdIEF1ZGlvTWFuYWdlciBpbnN0YW5jZSByZWNlaXZlZC4nKTtcbiAgICAvLyBJbml0aWFsaXplIHZvbHVtZSBzbGlkZXIgdmFsdWUgaWYgQXVkaW9NYW5hZ2VyIGlzIG5vdyBhdmFpbGFibGVcbiAgICBpZiAodGhpcy5tdXNpY1ZvbHVtZSAmJiB0aGlzLmF1ZGlvTWFuYWdlckluc3RhbmNlKSB7XG4gICAgICAvLyBWb2x1bWUgZnJvbSBBdWRpb01hbmFnZXIgaXMgMC0xLCBzbGlkZXIgaXMgMC0xMDBcbiAgICAgIHRoaXMubXVzaWNWb2x1bWUudmFsdWUgPSB0aGlzLmF1ZGlvTWFuYWdlckluc3RhbmNlLmdldE11c2ljVm9sdW1lKCkgKiAxMDA7XG4gICAgfVxuICB9XG5cbiAgaW5pdGlhbGl6ZUVsZW1lbnRzKCkge1xuICAgIHRoaXMubWVudUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZW51LWNvbnRhaW5lcicpO1xuICAgIGlmICghdGhpcy5tZW51Q29udGFpbmVyKSBjb25zb2xlLmVycm9yKCdbTWVudSBJbml0XSBDUklUSUNBTDogLm1lbnUtY29udGFpbmVyIG5vdCBmb3VuZCEnKTtcblxuICAgIHRoaXMuc2V0dGluZ3NCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2V0dGluZ3MtYnV0dG9uJyk7XG4gICAgdGhpcy5wbGF5QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBsYXktYnV0dG9uJyk7XG4gICAgdGhpcy5jaGFyYWN0ZXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhcmFjdGVyLWJ1dHRvbicpO1xuXG4gICAgaWYgKCF0aGlzLnBsYXlCdXR0b24pIGNvbnNvbGUud2FybignW01lbnUgSW5pdF0gLnBsYXktYnV0dG9uIG5vdCBmb3VuZC4nKTtcbiAgICBlbHNlIHRoaXMucGxheUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG5cbiAgICBpZiAoIXRoaXMuY2hhcmFjdGVyQnV0dG9uKSBjb25zb2xlLndhcm4oJ1tNZW51IEluaXRdIC5jaGFyYWN0ZXItYnV0dG9uIG5vdCBmb3VuZC4nKTtcblxuICAgIHRoaXMuc2V0dGluZ3NQYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZXR0aW5ncy1wYW5lbCcpO1xuICAgIGlmICh0aGlzLnNldHRpbmdzUGFuZWwpIHtcbiAgICAgIGlmICh0aGlzLnNldHRpbmdzUGFuZWwucGFyZW50Tm9kZSAhPT0gZG9jdW1lbnQuYm9keSkge1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuc2V0dGluZ3NQYW5lbCk7XG4gICAgICB9XG4gICAgICB0aGlzLm11c2ljVm9sdW1lID0gdGhpcy5zZXR0aW5nc1BhbmVsLnF1ZXJ5U2VsZWN0b3IoJyNtdXNpYy12b2x1bWUnKTsgLy8gVGhpcyBpcyB0aGUgc2xpZGVyXG4gICAgICB0aGlzLnNmeFZvbHVtZSA9IHRoaXMuc2V0dGluZ3NQYW5lbC5xdWVyeVNlbGVjdG9yKCcjc2Z4LXZvbHVtZScpO1xuICAgICAgdGhpcy5jbG9zZVNldHRpbmdzQnV0dG9uID0gdGhpcy5zZXR0aW5nc1BhbmVsLnF1ZXJ5U2VsZWN0b3IoJy5wYW5lbC1jbG9zZS1idXR0b24nKTtcblxuICAgICAgLy8gSW5pdGlhbGl6ZSBzbGlkZXIgdmFsdWUgaWYgYXVkaW9NYW5hZ2VySW5zdGFuY2UgaXMgYWxyZWFkeSBzb21laG93IHNldFxuICAgICAgLy8gKHRob3VnaCB0eXBpY2FsbHkgaXQgd29uJ3QgYmUgYXQgdGhpcyBleGFjdCBwb2ludClcbiAgICAgIGlmICh0aGlzLm11c2ljVm9sdW1lICYmIHRoaXMuYXVkaW9NYW5hZ2VySW5zdGFuY2UpIHtcbiAgICAgICAgdGhpcy5tdXNpY1ZvbHVtZS52YWx1ZSA9IHRoaXMuYXVkaW9NYW5hZ2VySW5zdGFuY2UuZ2V0TXVzaWNWb2x1bWUoKSAqIDEwMDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS53YXJuKCdbTWVudSBJbml0XSAuc2V0dGluZ3MtcGFuZWwgbm90IGZvdW5kLicpO1xuICAgIH1cblxuICAgIHRoaXMuY2hhcmFjdGVyUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhcmFjdGVyLXBhbmVsJyk7XG4gICAgaWYgKHRoaXMuY2hhcmFjdGVyUGFuZWwpIHtcbiAgICAgIGlmICh0aGlzLmNoYXJhY3RlclBhbmVsLnBhcmVudE5vZGUgIT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmNoYXJhY3RlclBhbmVsKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2hhcmFjdGVyR3JpZCA9IHRoaXMuY2hhcmFjdGVyUGFuZWwucXVlcnlTZWxlY3RvcignLmNoYXJhY3Rlci1ncmlkJyk7XG4gICAgICB0aGlzLmNsb3NlQ2hhcmFjdGVyUGFuZWxCdXR0b24gPSB0aGlzLmNoYXJhY3RlclBhbmVsLnF1ZXJ5U2VsZWN0b3IoJy5wYW5lbC1jbG9zZS1idXR0b24nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcignW01lbnUgSW5pdF0gQ1JJVElDQUw6IC5jaGFyYWN0ZXItcGFuZWwgbm90IGZvdW5kIGR1cmluZyBpbml0aWFsaXphdGlvbiEnKTtcbiAgICB9XG5cbiAgICB0aGlzLnNlbGVjdGVkQ2hhcmFjdGVyRGlzcGxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXJEaXNwbGF5LmNsYXNzTmFtZSA9ICdzZWxlY3RlZC1jaGFyYWN0ZXItZGlzcGxheSc7XG5cbiAgICBjb25zdCBtYWluTWVudUJ1dHRvbnNDb250YWluZXIgPSB0aGlzLm1lbnVDb250YWluZXJcbiAgICAgID8gdGhpcy5tZW51Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5tYWluLW1lbnUtYnV0dG9ucycpXG4gICAgICA6IG51bGw7XG5cbiAgICBpZiAodGhpcy5wbGF5QnV0dG9uICYmIHRoaXMucGxheUJ1dHRvbi5wYXJlbnROb2RlKSB7XG4gICAgICB0aGlzLnBsYXlCdXR0b24ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5zZWxlY3RlZENoYXJhY3RlckRpc3BsYXksIHRoaXMucGxheUJ1dHRvbik7XG4gICAgfSBlbHNlIGlmIChtYWluTWVudUJ1dHRvbnNDb250YWluZXIpIHtcbiAgICAgIG1haW5NZW51QnV0dG9uc0NvbnRhaW5lci5pbnNlcnRCZWZvcmUoXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXJEaXNwbGF5LFxuICAgICAgICBtYWluTWVudUJ1dHRvbnNDb250YWluZXIuY2hpbGRyZW5bMV0gfHwgbnVsbFxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMubWVudUNvbnRhaW5lcikge1xuICAgICAgdGhpcy5tZW51Q29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXJEaXNwbGF5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgJ1tNZW51IEluaXRdIENhbm5vdCBhcHBlbmQgc2VsZWN0ZWRDaGFyYWN0ZXJEaXNwbGF5OiBubyBzdWl0YWJsZSBwYXJlbnQgZm91bmQuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy51cGRhdGVTZWxlY3RlZENoYXJhY3RlckRpc3BsYXkoKTtcbiAgfVxuXG4gIHNldHVwQ2hhcmFjdGVySW1hZ2VzKCkge1xuICAgIGlmICghdGhpcy5jaGFyYWN0ZXJQYW5lbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuY2hhcmFjdGVySW1hZ2VTb3VyY2VzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY2hhcmFjdGVyQ2FyZHMgPSB0aGlzLmNoYXJhY3RlclBhbmVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGFyYWN0ZXItY2FyZCcpO1xuICAgIGlmIChjaGFyYWN0ZXJDYXJkcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjaGFyYWN0ZXJDYXJkcy5mb3JFYWNoKChjYXJkKSA9PiB7XG4gICAgICBjb25zdCBjaGFyYWN0ZXJLZXkgPSBjYXJkLmRhdGFzZXQuY2hhcmFjdGVyO1xuICAgICAgY29uc3QgaW1nRWxlbWVudCA9IGNhcmQucXVlcnlTZWxlY3RvcignLmNoYXJhY3Rlci1wcmV2aWV3IGltZycpO1xuXG4gICAgICBpZiAoaW1nRWxlbWVudCAmJiB0aGlzLmNoYXJhY3RlckltYWdlU291cmNlc1tjaGFyYWN0ZXJLZXldKSB7XG4gICAgICAgIGltZ0VsZW1lbnQuc3JjID0gdGhpcy5jaGFyYWN0ZXJJbWFnZVNvdXJjZXNbY2hhcmFjdGVyS2V5XTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZUZpcnN0SW50ZXJhY3Rpb24oKSB7XG4gICAgaWYgKCF0aGlzLnVzZXJJbnRlcmFjdGVkKSB7XG4gICAgICB0aGlzLnVzZXJJbnRlcmFjdGVkID0gdHJ1ZTtcbiAgICAgIGNvbnNvbGUubG9nKCdbTWVudV0gRmlyc3QgdXNlciBpbnRlcmFjdGlvbiBkZXRlY3RlZC4nKTtcbiAgICAgIC8vIE5vIG5lZWQgdG8gZXhwbGljaXRseSBpbml0IEF1ZGlvTWFuYWdlciBoZXJlLCBHYW1lLmpzIHdpbGwgaGFuZGxlIGl0XG4gICAgICAvLyB3aGVuIHN0YXJ0R2FtZSBpcyBjYWxsZWQuXG4gICAgfVxuICB9XG5cbiAgYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3QgYWRkSW50ZXJhY3RpdmVMaXN0ZW5lciA9IChlbGVtZW50LCBldmVudFR5cGUsIGhhbmRsZXJGbikgPT4ge1xuICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgdGhpcy5oYW5kbGVGaXJzdEludGVyYWN0aW9uKCk7XG4gICAgICAgICAgaGFuZGxlckZuLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgYWRkSW50ZXJhY3RpdmVMaXN0ZW5lcih0aGlzLnNldHRpbmdzQnV0dG9uLCAnY2xpY2snLCB0aGlzLnRvZ2dsZVNldHRpbmdzKTtcbiAgICBhZGRJbnRlcmFjdGl2ZUxpc3RlbmVyKHRoaXMucGxheUJ1dHRvbiwgJ2NsaWNrJywgdGhpcy5zdGFydEdhbWUpO1xuICAgIGFkZEludGVyYWN0aXZlTGlzdGVuZXIodGhpcy5jaGFyYWN0ZXJCdXR0b24sICdjbGljaycsIHRoaXMub3BlbkNoYXJhY3Rlck1vZGFsKTtcblxuICAgIGlmICh0aGlzLmNsb3NlU2V0dGluZ3NCdXR0b24pIHtcbiAgICAgIHRoaXMuY2xvc2VTZXR0aW5nc0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuY2xvc2VTZXR0aW5ncygpKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY2xvc2VDaGFyYWN0ZXJQYW5lbEJ1dHRvbikge1xuICAgICAgdGhpcy5jbG9zZUNoYXJhY3RlclBhbmVsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5jbG9zZUNoYXJhY3Rlck1vZGFsKCkpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm11c2ljVm9sdW1lKSB7XG4gICAgICB0aGlzLm11c2ljVm9sdW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGUpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuYXVkaW9NYW5hZ2VySW5zdGFuY2UpIHtcbiAgICAgICAgICAvLyBTbGlkZXIgdmFsdWUgaXMgMC0xMDAsIEF1ZGlvTWFuYWdlciBleHBlY3RzIDAtMVxuICAgICAgICAgIGNvbnN0IG5ld1ZvbHVtZSA9IHBhcnNlRmxvYXQoZS50YXJnZXQudmFsdWUpIC8gMTAwO1xuICAgICAgICAgIHRoaXMuYXVkaW9NYW5hZ2VySW5zdGFuY2Uuc2V0TXVzaWNWb2x1bWUobmV3Vm9sdW1lKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgW01lbnVdIE11c2ljIHZvbHVtZSBjaGFuZ2VkIHZpYSBzbGlkZXIgdG86ICR7bmV3Vm9sdW1lfWApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUud2FybignW01lbnVdIE11c2ljIHZvbHVtZSBzbGlkZXIgY2hhbmdlZCwgYnV0IEF1ZGlvTWFuYWdlciBub3QgYXZhaWxhYmxlLicpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHRoaXMuc2Z4Vm9sdW1lKSB7XG4gICAgICAvLyBTRlggdm9sdW1lIGxpc3RlbmVyIChpZiB5b3UgaW1wbGVtZW50IFNGWCBsYXRlcilcbiAgICAgIC8vIHRoaXMuc2Z4Vm9sdW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGUpID0+IHtcbiAgICAgIC8vICAgaWYgKHRoaXMuYXVkaW9NYW5hZ2VySW5zdGFuY2UgJiYgdHlwZW9mIHRoaXMuYXVkaW9NYW5hZ2VySW5zdGFuY2Uuc2V0U2Z4Vm9sdW1lID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyAgICAgdGhpcy5hdWRpb01hbmFnZXJJbnN0YW5jZS5zZXRTZnhWb2x1bWUocGFyc2VGbG9hdChlLnRhcmdldC52YWx1ZSkgLyAxMDApO1xuICAgICAgLy8gICB9XG4gICAgICAvLyB9KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jaGFyYWN0ZXJHcmlkKSB7XG4gICAgICB0aGlzLmNoYXJhY3RlckdyaWQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgY2xpY2tlZENhcmQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnLmNoYXJhY3Rlci1jYXJkJyk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBjbGlja2VkQ2FyZCAmJlxuICAgICAgICAgIHRoaXMuY2hhcmFjdGVyUGFuZWwgJiZcbiAgICAgICAgICB0aGlzLmNoYXJhY3RlclBhbmVsLmNsYXNzTGlzdC5jb250YWlucygndmlzaWJsZScpXG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMuaGFuZGxlRmlyc3RJbnRlcmFjdGlvbigpO1xuICAgICAgICAgIHRoaXMuc2VsZWN0Q2hhcmFjdGVyKGNsaWNrZWRDYXJkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgb3BlbkNoYXJhY3Rlck1vZGFsKCkge1xuICAgIGlmICghdGhpcy5jaGFyYWN0ZXJQYW5lbCB8fCAhdGhpcy5jaGFyYWN0ZXJHcmlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY2hhcmFjdGVyUGFuZWwuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuXG4gICAgaWYgKHRoaXMuc2V0dGluZ3NQYW5lbD8uY2xhc3NMaXN0LmNvbnRhaW5zKCd2aXNpYmxlJykpIHtcbiAgICAgIHRoaXMuY2xvc2VTZXR0aW5ncygpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5vdmVybGF5KSB7XG4gICAgICB0aGlzLm92ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHRoaXMub3ZlcmxheS5jbGFzc05hbWUgPSAnY2hhcmFjdGVyLW1vZGFsLW92ZXJsYXknO1xuICAgICAgdGhpcy5vdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgaWYgKGUudGFyZ2V0ID09PSB0aGlzLm92ZXJsYXkpIHtcbiAgICAgICAgICB0aGlzLmNsb3NlQ2hhcmFjdGVyTW9kYWwoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMub3ZlcmxheSk7XG4gICAgfVxuICAgIHRoaXMub3ZlcmxheS5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XG4gIH1cblxuICBjbG9zZUNoYXJhY3Rlck1vZGFsKCkge1xuICAgIGlmICh0aGlzLmNoYXJhY3RlclBhbmVsKSB7XG4gICAgICB0aGlzLmNoYXJhY3RlclBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcbiAgICB9XG4gICAgaWYgKHRoaXMub3ZlcmxheSkge1xuICAgICAgdGhpcy5vdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcbiAgICB9XG4gIH1cblxuICBzZWxlY3RDaGFyYWN0ZXIoY2FyZEVsZW1lbnQpIHtcbiAgICBpZiAoIXRoaXMuY2hhcmFjdGVyR3JpZCB8fCAhY2FyZEVsZW1lbnQ/LmRhdGFzZXQ/LmNoYXJhY3Rlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzZWxlY3RlZENoYXJLZXkgPSBjYXJkRWxlbWVudC5kYXRhc2V0LmNoYXJhY3RlcjtcblxuICAgIHRoaXMuY2hhcmFjdGVyR3JpZFxuICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGFyYWN0ZXItY2FyZCcpXG4gICAgICAuZm9yRWFjaCgoYykgPT4gYy5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpKTtcbiAgICBjYXJkRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgIHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXIgPSBzZWxlY3RlZENoYXJLZXk7XG5cbiAgICBpZiAodGhpcy5wbGF5QnV0dG9uKSB7XG4gICAgICB0aGlzLnBsYXlCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZVNlbGVjdGVkQ2hhcmFjdGVyRGlzcGxheSgpO1xuICAgIHRoaXMuY2xvc2VDaGFyYWN0ZXJNb2RhbCgpO1xuICB9XG5cbiAgdXBkYXRlU2VsZWN0ZWRDaGFyYWN0ZXJEaXNwbGF5KCkge1xuICAgIGlmICghdGhpcy5zZWxlY3RlZENoYXJhY3RlckRpc3BsYXkpIHJldHVybjtcblxuICAgIGlmIChcbiAgICAgIHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXIgJiZcbiAgICAgIHRoaXMuY2hhcmFjdGVySW1hZ2VTb3VyY2VzICYmXG4gICAgICB0aGlzLmNoYXJhY3RlckltYWdlU291cmNlc1t0aGlzLnNlbGVjdGVkQ2hhcmFjdGVyXVxuICAgICkge1xuICAgICAgY29uc3QgY2hhcmFjdGVyS2V5ID0gdGhpcy5zZWxlY3RlZENoYXJhY3RlcjtcbiAgICAgIGNvbnN0IGltZ1NyYyA9IHRoaXMuY2hhcmFjdGVySW1hZ2VTb3VyY2VzW2NoYXJhY3RlcktleV07XG4gICAgICBsZXQgZGlzcGxheWVkTmFtZSA9IGNoYXJhY3RlcktleS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGNoYXJhY3RlcktleS5zbGljZSgxKSArICcgU3R1ZGVudCc7XG5cbiAgICAgIGlmICh0aGlzLmNoYXJhY3RlckdyaWQpIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRDYXJkRWxlbWVudEgzID0gdGhpcy5jaGFyYWN0ZXJHcmlkLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgYC5jaGFyYWN0ZXItY2FyZFtkYXRhLWNoYXJhY3Rlcj1cIiR7Y2hhcmFjdGVyS2V5fVwiXSBoM2BcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHNlbGVjdGVkQ2FyZEVsZW1lbnRIMykge1xuICAgICAgICAgIGRpc3BsYXllZE5hbWUgPSBzZWxlY3RlZENhcmRFbGVtZW50SDMudGV4dENvbnRlbnQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXJEaXNwbGF5LmlubmVySFRNTCA9IGA8aW1nIHNyYz1cIiR7aW1nU3JjfVwiIGFsdD1cIiR7ZGlzcGxheWVkTmFtZX1cIiBzdHlsZT1cIndpZHRoOjMycHg7aGVpZ2h0OjMycHg7dmVydGljYWwtYWxpZ246bWlkZGxlO21hcmdpbi1yaWdodDo4cHg7IGJvcmRlci1yYWRpdXM6NTAlOyBvYmplY3QtZml0OmNvdmVyOyBiYWNrZ3JvdW5kLWNvbG9yOiAjNDQ0O1wiPiA8c3BhbiBzdHlsZT1cImZvbnQtd2VpZ2h0OmJvbGQ7XCI+JHtkaXNwbGF5ZWROYW1lfTwvc3Bhbj5gO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNlbGVjdGVkQ2hhcmFjdGVyRGlzcGxheS5pbm5lckhUTUwgPVxuICAgICAgICAnPHNwYW4gc3R5bGU9XCJjb2xvcjojYWFhO1wiPk5vIGNoYXJhY3RlciBzZWxlY3RlZDwvc3Bhbj4nO1xuICAgIH1cbiAgfVxuXG4gIHRvZ2dsZVNldHRpbmdzKCkge1xuICAgIGlmICghdGhpcy5zZXR0aW5nc1BhbmVsKSByZXR1cm47XG4gICAgY29uc3QgaXNWaXNpYmxlID0gdGhpcy5zZXR0aW5nc1BhbmVsLmNsYXNzTGlzdC5jb250YWlucygndmlzaWJsZScpO1xuICAgIGlmIChpc1Zpc2libGUpIHtcbiAgICAgIHRoaXMuY2xvc2VTZXR0aW5ncygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9wZW5TZXR0aW5ncygpO1xuICAgIH1cbiAgfVxuXG4gIG9wZW5TZXR0aW5ncygpIHtcbiAgICBpZiAodGhpcy5zZXR0aW5nc1BhbmVsKSB7XG4gICAgICB0aGlzLnNldHRpbmdzUGFuZWwuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuICAgICAgaWYgKHRoaXMuY2hhcmFjdGVyUGFuZWw/LmNsYXNzTGlzdC5jb250YWlucygndmlzaWJsZScpKSB7XG4gICAgICAgIHRoaXMuY2xvc2VDaGFyYWN0ZXJNb2RhbCgpO1xuICAgICAgfVxuICAgICAgLy8gRW5zdXJlIHNsaWRlciByZWZsZWN0cyBjdXJyZW50IHZvbHVtZSB3aGVuIHBhbmVsIG9wZW5zXG4gICAgICBpZiAodGhpcy5tdXNpY1ZvbHVtZSAmJiB0aGlzLmF1ZGlvTWFuYWdlckluc3RhbmNlKSB7XG4gICAgICAgIHRoaXMubXVzaWNWb2x1bWUudmFsdWUgPSB0aGlzLmF1ZGlvTWFuYWdlckluc3RhbmNlLmdldE11c2ljVm9sdW1lKCkgKiAxMDA7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY2xvc2VTZXR0aW5ncygpIHtcbiAgICBpZiAodGhpcy5zZXR0aW5nc1BhbmVsICYmIHRoaXMuc2V0dGluZ3NQYW5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ3Zpc2libGUnKSkge1xuICAgICAgdGhpcy5zZXR0aW5nc1BhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBzdGFydEdhbWUoKSB7XG4gICAgaWYgKCF0aGlzLnNlbGVjdGVkQ2hhcmFjdGVyKSB7XG4gICAgICBVSU1hbmFnZXIuZmxhc2hNZXNzYWdlKCdQbGVhc2Ugc2VsZWN0IGEgY2hhcmFjdGVyIGZpcnN0IScsICd3YXJuaW5nJywgMjUwMCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbG9hZGluZ092ZXJsYXkgPSBVSU1hbmFnZXIuZ2V0TG9hZGluZ092ZXJsYXkoKTtcbiAgICBpZiAobG9hZGluZ092ZXJsYXkpIGxvYWRpbmdPdmVybGF5LmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcblxuICAgIGlmICh0aGlzLm1lbnVDb250YWluZXIpIHtcbiAgICAgIHRoaXMubWVudUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAobG9hZGluZ092ZXJsYXkpIGxvYWRpbmdPdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBnYW1lQ2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWUtY2FudmFzJyk7XG4gICAgaWYgKGdhbWVDYW52YXMpIHtcbiAgICAgIGdhbWVDYW52YXMuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tNZW51XSBDUklUSUNBTDogI2dhbWUtY2FudmFzIG5vdCBmb3VuZCEnKTtcbiAgICAgIGlmICh0aGlzLm1lbnVDb250YWluZXIpIHRoaXMubWVudUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgICAgaWYgKGxvYWRpbmdPdmVybGF5KSBsb2FkaW5nT3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGlmIChjdXJyZW50R2FtZUluc3RhbmNlICYmIHR5cGVvZiBjdXJyZW50R2FtZUluc3RhbmNlLnN0b3BHYW1lID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGN1cnJlbnRHYW1lSW5zdGFuY2Uuc3RvcEdhbWUoKTtcbiAgICAgIH1cbiAgICAgIC8vIEdhbWUgY29uc3RydWN0b3Igd2lsbCBjcmVhdGUgQXVkaW9NYW5hZ2VyXG4gICAgICBjdXJyZW50R2FtZUluc3RhbmNlID0gbmV3IEdhbWUodGhpcy5zZWxlY3RlZENoYXJhY3Rlcik7XG5cbiAgICAgIC8vIFBhc3MgdGhlIEF1ZGlvTWFuYWdlciBmcm9tIHRoZSBuZXcgZ2FtZSBpbnN0YW5jZSB0byB0aGlzIE1lbnUgaW5zdGFuY2VcbiAgICAgIGlmIChjdXJyZW50R2FtZUluc3RhbmNlICYmIGN1cnJlbnRHYW1lSW5zdGFuY2UuYXVkaW9NYW5hZ2VyKSB7XG4gICAgICAgIHRoaXMuc2V0QXVkaW9NYW5hZ2VyKGN1cnJlbnRHYW1lSW5zdGFuY2UuYXVkaW9NYW5hZ2VyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAnW01lbnUgc3RhcnRHYW1lXSBGYWlsZWQgdG8gZ2V0IEF1ZGlvTWFuYWdlciBmcm9tIG5ldyBHYW1lIGluc3RhbmNlIHRvIHNldCBpdCBpbiBNZW51LidcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignW01lbnVdIENyaXRpY2FsIGVycm9yIGR1cmluZyBnYW1lIGluaXRpYWxpemF0aW9uOicsIGVycm9yKTtcbiAgICAgIFVJTWFuYWdlci5mbGFzaE1lc3NhZ2UoYEdhbWUgU3RhcnQgRmFpbGVkOiAke2Vycm9yLm1lc3NhZ2V9YCwgJ2Vycm9yJywgMTAwMDApO1xuICAgICAgaWYgKHRoaXMubWVudUNvbnRhaW5lcikgdGhpcy5tZW51Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgICBpZiAoZ2FtZUNhbnZhcykgZ2FtZUNhbnZhcy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgaWYgKGxvYWRpbmdPdmVybGF5KSBsb2FkaW5nT3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgICBjdXJyZW50R2FtZUluc3RhbmNlID0gbnVsbDtcbiAgICB9XG4gIH1cbn1cbmV4cG9ydCB7IE1lbnUsIGN1cnJlbnRHYW1lSW5zdGFuY2UgfTsgLy8gRXhwb3J0IGN1cnJlbnRHYW1lSW5zdGFuY2UgaWYgbmVlZGVkIGV4dGVybmFsbHlcbiIsIi8vINCf0KDQldCU0J/QntCb0JDQk9CQ0JXQnNCe0JUg0KDQkNCh0J/QntCb0J7QltCV0J3QmNCVOiBqcy9tYWluLmpzICjQtdGB0LvQuCBlbnRyeSDQsiB3ZWJwYWNrLmNvbmZpZy5qcyAnLi9qcy9tYWluLmpzJylcbi8vINCY0JvQmCBzcmMvbWFpbi5qcyAo0LXRgdC70LggZW50cnkgJy4vc3JjL21haW4uanMnKVxuXG4vLyDQldGB0LvQuCDRjdGC0L7RgiDRhNCw0LnQuyDQvdCw0YXQvtC00LjRgtGB0Y8g0LIgL2pzLCDQsCDQv9Cw0L/QutCwIC9zcmMg0L3QsCDRgtC+0Lwg0LbQtSDRg9GA0L7QstC90LU6XG5pbXBvcnQgeyBNZW51IH0gZnJvbSAnLi9VSS9NZW51LmpzJztcbmltcG9ydCAnLi4vY3NzL3N0eWxlcy5jc3MnO1xuaW1wb3J0IHJlZFN0dWRlbnRJbWcgZnJvbSAnLi4vYXNzZXRzL2ltYWdlcy9yZWQucG5nJztcbmltcG9ydCBibHVlU3R1ZGVudEltZyBmcm9tICcuLi9hc3NldHMvaW1hZ2VzL2JsdWUucG5nJztcbmltcG9ydCB5ZWxsb3dTdHVkZW50SW1nIGZyb20gJy4uL2Fzc2V0cy9pbWFnZXMveWVsbG93LnBuZyc7XG5pbXBvcnQgZ3JlZW5TdHVkZW50SW1nIGZyb20gJy4uL2Fzc2V0cy9pbWFnZXMvZ3JlZW4ucG5nJztcblxuLy8g0JXRgdC70Lgg0Y3RgtC+0YIg0YTQsNC50Lsg0L3QsNGF0L7QtNC40YLRgdGPINCyIC9zcmMgKNC4IHdlYnBhY2sgZW50cnkg0LHRi9C7INC40LfQvNC10L3QtdC9KTpcbi8qXG5pbXBvcnQgeyBNZW51IH0gZnJvbSAnLi9VSS9NZW51LmpzJztcbmltcG9ydCAnLi4vY3NzL3N0eWxlcy5jc3MnOyAvLyDQktC+0LfQvNC+0LbQvdC+LCDQv9GD0YLRjCDQuiBDU1Mg0YLQvtC20LUg0L3Rg9C20L3QviDQsdGD0LTQtdGCINC40LfQvNC10L3QuNGC0YwsINC90LDQv9GA0LjQvNC10YAsICcuL2Nzcy9zdHlsZXMuY3NzJyDQtdGB0LvQuCBDU1Mg0LIgc3JjL2Nzc1xuaW1wb3J0IHJlZFN0dWRlbnRJbWcgZnJvbSAnLi9hc3NldHMvaW1hZ2VzL2NoYXJhY3Rlcl9yZWQucG5nJztcbmltcG9ydCBibHVlU3R1ZGVudEltZyBmcm9tICcuL2Fzc2V0cy9pbWFnZXMvY2hhcmFjdGVyX2JsdWUucG5nJztcbmltcG9ydCB5ZWxsb3dTdHVkZW50SW1nIGZyb20gJy4vYXNzZXRzL2ltYWdlcy9jaGFyYWN0ZXJfeWVsbG93LnBuZyc7XG5pbXBvcnQgZ3JlZW5TdHVkZW50SW1nIGZyb20gJy4vYXNzZXRzL2ltYWdlcy9jaGFyYWN0ZXJfZ3JlZW4ucG5nJztcbiovXG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdbbWFpbi5qc10gRE9NQ29udGVudExvYWRlZC4gSW5pdGlhbGl6aW5nIE1lbnUuLi4nKTtcblxuICBjb25zdCBjaGFyYWN0ZXJJbWFnZVNvdXJjZXMgPSB7XG4gICAgcmVkOiByZWRTdHVkZW50SW1nLFxuICAgIGJsdWU6IGJsdWVTdHVkZW50SW1nLFxuICAgIHllbGxvdzogeWVsbG93U3R1ZGVudEltZyxcbiAgICBncmVlbjogZ3JlZW5TdHVkZW50SW1nLFxuICB9O1xuXG4gIG5ldyBNZW51KGNoYXJhY3RlckltYWdlU291cmNlcyk7XG59KTtcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZyIsImdsb2JhbFRoaXMiLCJ0aGlzIiwiRnVuY3Rpb24iLCJlIiwid2luZG93Iiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiZG9jdW1lbnQiLCJjdXJyZW50U2NyaXB0IiwidGFnTmFtZSIsInRvVXBwZXJDYXNlIiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwibGVuZ3RoIiwiaSIsInRlc3QiLCJFcnJvciIsInJlcGxhY2UiLCJwIiwiSW5wdXRNYW5hZ2VyIiwiY29uc3RydWN0b3IiLCJrZXlzIiwidXAiLCJkb3duIiwibGVmdCIsInJpZ2h0Iiwic2V0S2V5Iiwia2V5IiwiaXNQcmVzc2VkIiwiaGFzT3duUHJvcGVydHkiLCJnZXRJbnB1dERpcmVjdGlvbiIsIngiLCJ5IiwiR2FtZVN0YXRlIiwiTE9BRElORyIsIk1FTlUiLCJQTEFZSU5HIiwiQVNLSU5HX1FVRVNUSU9OIiwiU0VMRUNUSU5HX0ZMT09SIiwiVFJBTlNJVElPTklORyIsIkdBTUVfT1ZFUiIsInF1ZXN0aW9ucyIsInF1ZXN0aW9uIiwib3B0aW9ucyIsImNvcnJlY3RBbnN3ZXIiLCJVSU1hbmFnZXIiLCJzdGF0aWMiLCJzZXRHYW1lcGxheU1hbmFnZXIiLCJtYW5hZ2VyIiwiZ2FtZXBsYXlNYW5hZ2VySW5zdGFuY2UiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJpbml0aWFsaXplVUkiLCJpbnB1dE1hbmFnZXIiLCJjcmVhdGVDb250cm9scyIsImNyZWF0ZVF1ZXN0aW9uVUkiLCJjcmVhdGVGbG9vclNlbGVjdGlvblVJIiwiZW5zdXJlRmxhc2hNZXNzYWdlQ29udGFpbmVyIiwiY3JlYXRlR2FtZU92ZXJTY3JlZW4iLCJpbml0aWFsaXplVGltZXIiLCJ1cGRhdGVMZWFkZXJib2FyZCIsIndhcm4iLCJjb250cm9sc0NvbnRhaW5lciIsImdldEVsZW1lbnRCeUlkIiwiY3JlYXRlRWxlbWVudCIsImlkIiwiY2xhc3NMaXN0IiwiYWRkIiwiYm9keSIsImFwcGVuZENoaWxkIiwiaW5uZXJIVE1MIiwiZGlyZWN0aW9uIiwiaWNvbiIsImdyaWRBcmVhIiwiZm9yRWFjaCIsImJ0biIsImNsYXNzTmFtZSIsInRleHRDb250ZW50Iiwic3R5bGUiLCJkYXRhc2V0Iiwic3RhcnRQcmVzcyIsInByZXZlbnREZWZhdWx0IiwiZW5kUHJlc3MiLCJyZW1vdmUiLCJhZGRFdmVudExpc3RlbmVyIiwicGFzc2l2ZSIsInNjb3JlRGlzcGxheUNvbnRhaW5lciIsInNjb3JlRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ0YXJnZXRFbGVtZW50Iiwic2NvcmVEaXYiLCJxdWVzdGlvbk92ZXJsYXkiLCJxdWVzdGlvblRleHRFbGVtZW50IiwiYW5zd2VyQnV0dG9uc0NvbnRhaW5lciIsImZsb29yU2VsZWN0aW9uUGFuZWwiLCJmbG9vckJ1dHRvbnNDb250YWluZXIiLCJmbGFzaE1lc3NhZ2VDb250YWluZXIiLCJmbGFzaE1lc3NhZ2UiLCJtZXNzYWdlIiwidHlwZSIsImR1cmF0aW9uIiwiY29udGFpbmVyIiwibWVzc2FnZUVsZW1lbnQiLCJtZXNzYWdlSWQiLCJEYXRlIiwibm93IiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2xlYXJUaW1lb3V0IiwiZmxhc2hNZXNzYWdlVGltZW91dHMiLCJzZXRUaW1lb3V0IiwiaGFuZGxlVHJhbnNpdGlvbkVuZCIsImV2ZW50IiwicHJvcGVydHlOYW1lIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwib25jZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJnZXRMb2FkaW5nT3ZlcmxheSIsImxvYWRpbmdPdmVybGF5RWxlbWVudCIsImxvYWRpbmdUZXh0IiwiZ2FtZU92ZXJTY3JlZW5FbGVtZW50IiwiZ2FtZU92ZXJUaXRsZUVsZW1lbnQiLCJjcmVhdG9yTmFtZXNMaXN0RWxlbWVudCIsImNsYXNzSW5mb0VsZW1lbnQiLCJyZXR1cm5Ub01lbnVCdXR0b25FbGVtZW50IiwicmVsb2FkIiwic2hvd0dhbWVPdmVyU2NyZWVuIiwiaXNXaW4iLCJjcmVhdG9ycyIsImNsYXNzSW5mb1RleHQiLCJuYW1lIiwibGkiLCJoaWRlR2FtZVVJIiwiaGlkZVF1ZXN0aW9uIiwiaGlkZUZsb29yU2VsZWN0aW9uVUkiLCJoaWRlR2FtZU92ZXJTY3JlZW4iLCJzaG93UXVlc3Rpb24iLCJxdWVzdGlvbkRhdGEiLCJoYW5kbGVBbnN3ZXIiLCJvcHRpb25UZXh0IiwiaW5kZXgiLCJidXR0b24iLCJzZWxlY3RlZEluZGV4IiwicGFyc2VJbnQiLCJ0YXJnZXQiLCJzaG93Rmxvb3JTZWxlY3Rpb25VSSIsIm1pbkZsb29yIiwibWF4Rmxvb3IiLCJjdXJyZW50Rmxvb3IiLCJoYW5kbGVGbG9vclNlbGVjdGlvbiIsImZsb29yIiwiZGlzYWJsZWQiLCJ1cGRhdGVTY29yZSIsInNjb3JlIiwic2hvd0dhbWVVSSIsImNhbnZhcyIsIm1lbnVDb250YWluZXIiLCJzY29yZURpc3BsYXkiLCJkaXNwbGF5IiwiY29udGFpbnMiLCJ0aW1lckVsZW1lbnQiLCJzYXZlZERhdGEiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwibGVhZGVyYm9hcmREYXRhIiwiSlNPTiIsInBhcnNlIiwic3RhcnRUaW1lciIsImdhbWVTdGFydFRpbWUiLCJ1cGRhdGVUaW1lciIsImVsYXBzZWQiLCJtaW51dGVzIiwic2Vjb25kcyIsInBhZFN0YXJ0Iiwic3RvcFRpbWVyIiwid2FzV2luIiwidG90YWxUaW1lIiwicnVuTnVtYmVyIiwicHVzaCIsInRpbWUiLCJkYXRlIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwic29ydCIsImEiLCJiIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImxlYWRlcmJvYXJkQm9keSIsInNsaWNlIiwicnVuIiwicm93IiwiQ2hhcmFjdGVyIiwiRE9XTiIsIlJJR0hUIiwiVVAiLCJMRUZUIiwiY3R4Iiwic3ByaXRlVXJsIiwic3ByaXRlIiwiSW1hZ2UiLCJmcmFtZVNpemUiLCJmcmFtZUNvdW50Iiwic2NhbGUiLCJyZW5kZXJTaXplIiwic3BlZWQiLCJhbmltYXRpb25TcGVlZCIsImNvbGxpc2lvbkJveFdpZHRoUmF0aW8iLCJjb2xsaXNpb25Cb3hIZWlnaHRSYXRpbyIsImNvbGxpc2lvbkJveEZlZXRPZmZzZXRSYXRpbyIsImN1cnJlbnREaXJlY3Rpb24iLCJEaXJlY3Rpb24iLCJjdXJyZW50RnJhbWUiLCJpc01vdmluZyIsImxhc3RGcmFtZVRpbWUiLCJvbmxvYWQiLCJvbmVycm9yIiwidXBkYXRlQW5pbWF0aW9uIiwidGltZXN0YW1wIiwiZ2V0Q29sbGlzaW9uQm94IiwicG9zWCIsInBvc1kiLCJ3aWR0aCIsImhlaWdodCIsImhhbGZXaWR0aCIsImZlZXRPZmZzZXRZIiwidG9wIiwiYm90dG9tIiwiZHJhdyIsIm9mZnNldFgiLCJvZmZzZXRZIiwiY29tcGxldGUiLCJuYXR1cmFsSGVpZ2h0IiwiZnJhbWVYIiwiZnJhbWVZIiwic2NyZWVuWCIsInNjcmVlblkiLCJkcmF3SW1hZ2UiLCJCb29rIiwidGlsZVNpemUiLCJzaXplIiwiY29sbGVjdGVkIiwiaXNDb2xsZWN0ZWQiLCJib29rSW1hZ2UiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsInN0cm9rZVN0eWxlIiwic3Ryb2tlUmVjdCIsImZvbnQiLCJ0ZXh0QWxpZ24iLCJ0ZXh0QmFzZWxpbmUiLCJmaWxsVGV4dCIsInJhbmRvbUludCIsIm1pbiIsIm1heCIsImNlaWwiLCJzaW1wbGVIYXNoIiwic2VlZCIsImgiLCJpbXVsIiwiYWRqdXN0Q29sb3JCcmlnaHRuZXNzIiwiaGV4Q29sb3IiLCJmYWN0b3IiLCJyIiwicm91bmQiLCJNYXBSZW5kZXJlciIsInRpbGVDb2xvcnMiLCJiYXNlV2FsbENvbG9yIiwiYmFzZUNvcnJpZG9yQ29sb3IiLCJiYXNlUm9vbUZsb29yQ29sb3IiLCJsaWZ0Q29sb3IiLCJlcnJvckNvbG9yIiwicmVzZXRDb2xvckNhY2hlIiwiZ2V0VGlsZUNvbG9yIiwiYyIsInRpbGVWYWx1ZSIsInJvb21zIiwiY29sb3IiLCJtYXBEYXRhIiwibWFwIiwiYm9va3MiLCJsaWZ0UG9zaXRpb24iLCJjb2xzIiwicm93cyIsImN1cnJlbnRPZmZzZXRYIiwiY3VycmVudE9mZnNldFkiLCJzdGFydENvbCIsImVuZENvbCIsInN0YXJ0Um93IiwiZW5kUm93Iiwic2F2ZSIsImRyYXdCYXNlVGlsZXMiLCJkcmF3Um9vbURldGFpbHMiLCJkcmF3TGlmdERldGFpbHMiLCJkcmF3Qm9va3MiLCJyZXN0b3JlIiwic2hhZG93Q29sb3IiLCJ3YWxsRWRnZUNvbG9yRGFyayIsIndhbGxFZGdlQ29sb3JMaWdodCIsIndhbGxUb3BFZGdlQ29sb3IiLCJ1bmRlZmluZWQiLCJlZGdlU2l6ZSIsInJvb20iLCJjb2wiLCJyb29tU2NyZWVuWCIsInJvb21TY3JlZW5ZIiwicm9vbVNjcmVlblciLCJyb29tU2NyZWVuSCIsImZsb29yQ29sb3IiLCJmbG9vck51bSIsImZsb29yTnVtYmVyIiwicm9vbVNlZWQiLCJicmlnaHRuZXNzRmFjdG9yIiwibGluZVdpZHRoIiwiZHJhd1Jvb21EZWNvcmF0aW9ucyIsInRpbGVYIiwidGlsZVkiLCJidXR0b25SYWRpdXMiLCJidXR0b25YIiwiYnV0dG9uWSIsImJlZ2luUGF0aCIsImFyYyIsIlBJIiwiZmlsbCIsInciLCJ0cyIsIm1hcmdpbiIsIm9iak1hcmdpbiIsImRyYXdSZWN0IiwicngiLCJyeSIsInJ3IiwicmgiLCJvdXRsaW5lIiwic2NyZWVuVyIsInNjcmVlbkgiLCJkcmF3Q2lyY2xlIiwiY3giLCJjeSIsInJhZGl1cyIsInN0cm9rZSIsImRlc2tXIiwiZGVza0giLCJjaGFpckgiLCJzcGFjZVgiLCJzcGFjZVkiLCJyb3dZIiwiY29sWCIsInRhYmxlVyIsInRhYmxlSCIsImNhYmluZXRXIiwic2hlbGZXIiwic2hlbGZTcGFjaW5nIiwic3giLCJzaGVsZlkiLCJtb3ZlVG8iLCJsaW5lVG8iLCJ0YWJsZUxpYlgiLCJsYWJUYWJsZUgiLCJtZXRhbFNoZWxmVyIsIm1ldGFsU2hlbGZIIiwiYm94U2l6ZSIsImRlZmF1bHRCb29rU2l6ZSIsImJvb2siLCJib29rU2l6ZSIsImNvbnNpc3RlbnRMaWZ0Q29vcmRzIiwiREVGQVVMVF9HRU5fUEFSQU1TIiwibWluUm9vbVNpemUiLCJtYXhSb29tU2l6ZSIsImNvcnJpZG9yVGhpY2tuZXNzIiwibnVtUm9vbXMiLCJtYXhSb29tQXR0ZW1wdHMiLCJyb29tVHlwZVdlaWdodHMiLCJjbGFzc3Jvb20iLCJvZmZpY2UiLCJsaWJyYXJ5IiwiZ3ltIiwidXRpbGl0eSIsIl9jYXJ2ZUNvcnJpZG9yQmV0d2VlbiIsInJvb21BIiwicm9vbUIiLCJjZW50ZXJUaWxlWCIsImF4IiwiY2VudGVyVGlsZVkiLCJheSIsImJ4IiwiYnkiLCJfY2FydmVIb3Jpem9udGFsQ29ycmlkb3IiLCJfY2FydmVWZXJ0aWNhbENvcnJpZG9yIiwiYzEiLCJjMiIsInIxIiwicjIiLCJfZ2V0VGlsZU9wZW5uZXNzRGV0YWlscyIsImlzVGlsZVdhbGthYmxlIiwiY3VycmVudE1hcCIsIm1hcENvbHMiLCJtYXBSb3dzIiwidGlsZVZhbCIsIm9wZW5TaWRlcyIsIm5laWdoYm9yRGVsdGFzIiwiZHgiLCJkeSIsIndhbGthYmxlTmVpZ2hib3JGbGFncyIsImlzQ2hva2Vwb2ludCIsIk4iLCJTIiwiVyIsIkUiLCJfZm9yY2VDb25uZWN0aW9uVG9Qb2ludCIsInRhcmdldFgiLCJ0YXJnZXRZIiwiZGlyZWN0aW9ucyIsImlzQWRqYWNlbnRUb1dhbGthYmxlIiwiYWRqYWNlbnRXYWxrYWJsZUNvb3JkIiwibngiLCJueSIsIm5laWdoYm9yVGlsZSIsInF1ZXVlIiwidmlzaXRlZCIsIlNldCIsImJmc1BhdGhhYmxlIiwidGFyZ2V0V2Fsa2FibGUiLCJjbG9zZXN0V2Fsa2FibGUiLCJtaW5Gb3VuZERpc3QiLCJJbmZpbml0eSIsImN1cnJYIiwiY3VyclkiLCJkaXN0Iiwic2hpZnQiLCJuZXh0WCIsIm5leHRZIiwiaGFzIiwiaW5jbHVkZXMiLCJfaXNMaWZ0UmVhY2hhYmxlIiwicmVhY2hhYmxlIiwibWFwR3JpZCIsInN0YXJ0WCIsInN0YXJ0WSIsIndhbGthYmxlVGlsZVZhbHVlcyIsInBlcmZvcm1CRlMiLCJQcm9jZWR1cmFsTWFwIiwiY2FudmFzV2lkdGgiLCJjYW52YXNIZWlnaHQiLCJyZW5kZXJlciIsImdlbmVyYXRpb25QYXJhbXMiLCJib29rc1Blck1hcCIsImxhYiIsInN0b3JhZ2UiLCJnZW5lcmF0aW9uQ29uZmlnIiwiY29uZmlnIiwidXNlclBhcmFtcyIsImdlblBhcmFtcyIsIkdZTV9DSEFOQ0VfT05fRklSU1RfRkxPT1IiLCJBcnJheSIsImZyb20iLCJyb29tQXR0ZW1wdHMiLCJ3ZWlnaHRlZFR5cGVzIiwidG90YWxXZWlnaHQiLCJ3ZWlnaHQiLCJyb29tV2lkdGgiLCJyb29tSGVpZ2h0Iiwicm9vbUNvbCIsInJvb21Sb3ciLCJuZXdSb29tIiwiY29ubmVjdGVkIiwib3ZlcmxhcHMiLCJidWZmZXIiLCJleGlzdGluZ1Jvb20iLCJfcGxhY2VSb29tcyIsImNvbm5lY3RlZFNldCIsInVuY29ubmVjdGVkUm9vbXMiLCJiZXN0RGlzdGFuY2VTcSIsImJlc3RVbmNvbm5lY3RlZFJvb20iLCJiZXN0Q29ubmVjdGVkUm9vbUlkIiwiYmVzdFVuY29ubmVjdGVkSW5kZXgiLCJyb29tVSIsInJvb21DIiwiZGlzdFNxIiwiYmVzdENvbm5lY3RlZFJvb20iLCJmaW5kIiwic3BsaWNlIiwiX2Nvbm5lY3RSb29tc0JldHRlciIsInBsYWNlZExpZnREYXRhIiwiY3VycmVudENvbnNpc3RlbnRDb29yZHMiLCJyb29tc0xpc3QiLCJjb29yZHNUb1VzZSIsIm5ld2x5Rm91bmRDb29yZHMiLCJjZW50ZXJYIiwiY2VudGVyWSIsImJlc3RTcG90Q2FuZGlkYXRlIiwic3RhcnRJbnRlcm5hbENvbCIsImVuZEludGVybmFsQ29sIiwic3RhcnRJbnRlcm5hbFJvdyIsImVuZEludGVybmFsUm93IiwiY3VycmVudFNjb3JlIiwiZGV0YWlsc1NlbGYiLCJ3b3JzdEFjY2Vzc1BlbmFsdHlGcm9tTmVpZ2hib3JzIiwibnVtQWN0dWFsQWNjZXNzUG9pbnRzIiwiZGVsdGEiLCJuY0FjY2VzcyIsIm5yQWNjZXNzIiwiYWNjZXNzVGlsZVR5cGUiLCJkZXRhaWxzQWNjZXNzVGlsZSIsImRlYnVnX3Jvb20iLCJ0b0ZpeGVkIiwiX2ZpbmRMaWZ0UGxhY2VtZW50TG9jYXRpb24iLCJzYWZlRmFsbGJhY2tYIiwic2FmZUZhbGxiYWNrWSIsImxpZnRXb3JsZFBvcyIsInBvc2l0aW9uIiwiY29vcmRzIiwiX3BsYWNlTGlmdCIsIl9lbnN1cmVNYXBCb3JkZXJzIiwiZXJyb3JNc2ciLCJnZW5lcmF0ZUxldmVsRGF0YSIsInBsYWNlQm9va3NSZWxpYWJseSIsInBvdGVudGlhbExvY2F0aW9ucyIsInBsYWNlZENvb3JkcyIsImlzTGlmdFRpbGUiLCJib29rc1BsYWNlZCIsInJhbmRvbUluZGV4IiwiY29vcmRLZXkiLCJib29rV29ybGRYIiwiYm9va1dvcmxkWSIsImJvb2tJZCIsImlzV2Fsa2FibGUiLCJ3b3JsZFgiLCJ3b3JsZFkiLCJmaW5kUmFuZG9tSW5pdGlhbFNwYXduUG9zaXRpb24iLCJzdWl0YWJsZVRpbGVzIiwiaXNMaWZ0IiwiaXNUaWxlT3BlbkVub3VnaCIsIm1pbk9wZW5TaWRlcyIsImF2b2lkT25lVGlsZVdpZGVQYXNzYWdlcyIsIm9wZW5TaWRlc0NvdW50IiwiaXNPcGVuU2lkZSIsImRpckxhYmVsIiwibmVpZ2hib3JYIiwibmVpZ2hib3JZIiwibmVpZ2hib3JUaWxlVmFsdWUiLCJmaW5kTmVhcmVzdFdhbGthYmxlVGlsZSIsInRhcmdldFdvcmxkWCIsInRhcmdldFdvcmxkWSIsIm1heFJhZGl1cyIsImV4Y2x1ZGVMaWZ0IiwidGFyZ2V0VGlsZVgiLCJ0YXJnZXRUaWxlWSIsInRhcmdldFNhZmVUaWxlcyIsInN0YXJ0VGlsZVZhbHVlIiwibWluU2lkZXNGb3JJbml0aWFsIiwiY3VycmVudFJhZGl1c01pbk9wZW5TaWRlcyIsImFicyIsImNoZWNrWCIsImNoZWNrWSIsImJmc1dhbGthYmxlUGF0aFRpbGVzIiwiZ2V0U3Bhd25Qb2ludEluUm9vbU9mTGlmdCIsImxpZnRUaWxlWCIsImxpZnRUaWxlWSIsInByZWZlcnJlZERpc3RhbmNlIiwiYXNzb2NpYXRlZFJvb20iLCJlbnRyeVBvaW50VG9Sb29tIiwiZGlyZWN0aW9uRnJvbVNvdXJjZVRvRW50cnlQb2ludCIsImNoZWNrTmVpZ2hib3JzIiwibiIsImFkalgiLCJhZGpZIiwibk91dGVyIiwiY29ycmlkb3JYIiwiY29ycmlkb3JZIiwibklubmVyIiwicG90ZW50aWFsUm9vbVgiLCJwb3RlbnRpYWxSb29tWSIsImlud2FyZER4IiwiaW53YXJkRHkiLCJkaXN0T2Zmc2V0Iiwic3Bhd25DYW5kaWRhdGVUaWxlWCIsInNwYXduQ2FuZGlkYXRlVGlsZVkiLCJmdXJ0aGVySW5YIiwiZnVydGhlckluWSIsImhhc1NwYWNlQmVoaW5kIiwiZmluZE5lYXJieVVuYW5zd2VyZWRCb29rIiwiY2xvc2VzdEJvb2siLCJtaW5EaXN0YW5jZVNxIiwiZGlzdGFuY2VTcSIsIm1hcmtCb29rQXNDb2xsZWN0ZWQiLCJib29rVG9Db2xsZWN0IiwiZmluZE5lYXJieUxpZnQiLCJnZXRMaWZ0UG9zaXRpb24iLCJsb2dNYXBHcmlkIiwiaGVhZGVyIiwicm93TnVtIiwicm93U3RyaW5nIiwidGlsZSIsImpvaW4iLCJMZXZlbCIsImxvYWRGbG9vciIsImxpZnRQb3MiLCJQcm9taXNlIiwicmVzb2x2ZSIsImdldEN1cnJlbnRCb29rcyIsIkdhbWVSZW5kZXJlciIsImdhbWUiLCJpbml0aWFsaXplQ2FudmFzIiwiZ2V0Q29udGV4dCIsImltYWdlU21vb3RoaW5nRW5hYmxlZCIsInJlc2l6ZUNhbnZhcyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImNoYXJhY3RlciIsImxldmVsIiwiY2VudGVyQ2FtZXJhT25DaGFyYWN0ZXIiLCJkcmF3RnJhbWUiLCJjbGVhclJlY3QiLCJjaGFyIiwiZHJhd1dpblNjcmVlbiIsInRhcmdldEJvb2tzVG9XaW4iLCJHYW1lcGxheU1hbmFnZXIiLCJiaW5kIiwidXBkYXRlIiwiZ2FtZVN0YXRlIiwidXBkYXRlUGxheWluZ1N0YXRlIiwibW92ZWQiLCJoYW5kbGVNb3ZlbWVudCIsImhhbmRsZUludGVyYWN0aW9ucyIsImlucHV0IiwiYWN0dWFsTW92ZVgiLCJhY3R1YWxNb3ZlWSIsImNhbk1vdmVYIiwiY2hlY2tDb2xsaXNpb24iLCJjYW5Nb3ZlWSIsImNvbGxpc2lvbkJveCIsInBvaW50c1RvQ2hlY2siLCJwb2ludCIsIm5lYXJieUJvb2siLCJpbml0aWF0ZVF1ZXN0aW9uIiwibGlmdENvb2xkb3duQWN0aXZlIiwiaW5pdGlhdGVGbG9vclNlbGVjdGlvbiIsInNldEdhbWVTdGF0ZSIsImN1cnJlbnRCb29rVGFyZ2V0IiwiYXZhaWxhYmxlUXVlc3Rpb25zIiwicUluZGV4IiwiY3VycmVudFF1ZXN0aW9uRGF0YSIsInNlbGVjdGVkT3B0aW9uSW5kZXgiLCJ0b3RhbEJvb2tzQ29sbGVjdGVkR2xvYmFsbHkiLCJfc2V0R2FtZU92ZXIiLCJzZWxlY3RlZEZsb29yIiwiaGFuZGxlTGlmdFRyYW5zaXRpb24iLCJjYXRjaCIsImVyciIsIl9oYW5kbGVGYXRhbEVycm9yIiwidGFyZ2V0Rmxvb3IiLCJpc0RlYnVnIiwiTElGVF9DT09MRE9XTl9NUyIsIm5ld01hcCIsImxpZnRQb3NEYXRhIiwiZmluYWxTcGF3blBvcyIsImVtZXJnZW5jeVNwYXduIiwiZW5zdXJlQ2hhcmFjdGVySXNPbldhbGthYmxlVGlsZSIsInN0YXJ0TGlmdENvb2xkb3duVGltZXIiLCJhbGxvd1N0YW5kaW5nT25MaWZ0IiwiY3VycmVudFRpbGVYIiwiY3VycmVudFRpbGVZIiwiY3VycmVudFRpbGVWYWx1ZSIsImlzU2FmZVRvU3RhbmRIZXJlIiwiaXNDb2xsaWRpbmdXaXRoV2FsbCIsInNhZmVTcG90IiwiZW1lcmdlbmN5U3BvdCIsIk1VU0lDX1NPVVJDRVMiLCJ0cmFjazEiLCJ0cmFjazIiLCJ0cmFjazMiLCJUUkFDS19DWUNMRV9PUkRFUiIsIkF1ZGlvTWFuYWdlciIsIm11c2ljVm9sdW1lIiwiY3VycmVudE11c2ljRWxlbWVudCIsImN1cnJlbnRUcmFja0tleSIsImlzTXVzaWNQbGF5aW5nIiwic2F2ZWRWb2x1bWUiLCJwYXJzZUZsb2F0IiwiYXVkaW9FbGVtZW50cyIsIl9wcmVsb2FkVHJhY2tzIiwiYXVkaW9QYXRoIiwiYXVkaW8iLCJBdWRpbyIsInByZWxvYWQiLCJzZXRNdXNpY1ZvbHVtZSIsInZvbHVtZSIsImdldE11c2ljVm9sdW1lIiwicGxheU11c2ljIiwidHJhY2tLZXkiLCJsb29wIiwic3RvcE11c2ljIiwicGxheSIsInRoZW4iLCJoYXNGb2N1cyIsInBhdXNlIiwiY3VycmVudFRpbWUiLCJjaGFuZ2VUcmFja0ZvckZsb29yIiwidHJhY2tJbmRleCIsIm5ld1RyYWNrS2V5Iiwic3RhcnRJbml0aWFsTXVzaWMiLCJpbml0aWFsRmxvb3IiLCJHYW1lIiwiY2hhcmFjdGVyQ29sb3IiLCJfZ2FtZVN0YXRlIiwiaXNSdW5uaW5nIiwibGlmdENvb2xkb3duVGltZXIiLCJnYW1lcGxheU1hbmFnZXIiLCJhdWRpb01hbmFnZXIiLCJzcHJpdGVzIiwicmVkIiwiYmx1ZSIsInllbGxvdyIsImdyZWVuIiwiZ2FtZUxvb3AiLCJfYm91bmRLZXlEb3duSGFuZGxlciIsIl9ib3VuZEtleVVwSGFuZGxlciIsIl9pbml0aWFsaXplQ29yZUNvbXBvbmVudHMiLCJfaW5pdGlhbGl6ZVVJTWFuYWdlciIsIl9hZGRFdmVudExpc3RlbmVycyIsIl9sb2FkQXNzZXRzQW5kVGhlblN0YXJ0TG9naWMiLCJsb2FkaW5nT3ZlcmxheSIsImFsZXJ0IiwibmV3U3RhdGUiLCJfbG9hZEFzc2V0cyIsIl9zdGFydEdhbWVMb2dpYyIsInByb21pc2VzIiwic3ByaXRlUGF0aCIsInJlamVjdCIsImFsbCIsIkxPQURJTkdfTEVWRUwiLCJzdGFydFBvcyIsImhhbmRsZUtleURvd24iLCJoYW5kbGVLZXlVcCIsIndpbiIsIkNSRUFUT1JfTkFNRVMiLCJDTEFTU19BVFRFTkRJTkdfSU5GTyIsInN0b3BHYW1lIiwic2hvd0FsZXJ0Iiwia2V5SGFuZGxlZCIsInRvTG93ZXJDYXNlIiwiY3VycmVudEdhbWVJbnN0YW5jZSIsIk1lbnUiLCJjaGFyYWN0ZXJJbWFnZVNvdXJjZXMiLCJzZWxlY3RlZENoYXJhY3RlciIsInVzZXJJbnRlcmFjdGVkIiwib3ZlcmxheSIsImF1ZGlvTWFuYWdlckluc3RhbmNlIiwiaW5pdGlhbGl6ZUVsZW1lbnRzIiwiY2hhcmFjdGVyUGFuZWwiLCJzZXR1cENoYXJhY3RlckltYWdlcyIsImFkZEV2ZW50TGlzdGVuZXJzIiwic2V0QXVkaW9NYW5hZ2VyIiwidmFsdWUiLCJzZXR0aW5nc0J1dHRvbiIsInBsYXlCdXR0b24iLCJjaGFyYWN0ZXJCdXR0b24iLCJzZXR0aW5nc1BhbmVsIiwic2Z4Vm9sdW1lIiwiY2xvc2VTZXR0aW5nc0J1dHRvbiIsImNoYXJhY3RlckdyaWQiLCJjbG9zZUNoYXJhY3RlclBhbmVsQnV0dG9uIiwic2VsZWN0ZWRDaGFyYWN0ZXJEaXNwbGF5IiwibWFpbk1lbnVCdXR0b25zQ29udGFpbmVyIiwiaW5zZXJ0QmVmb3JlIiwiY2hpbGRyZW4iLCJ1cGRhdGVTZWxlY3RlZENoYXJhY3RlckRpc3BsYXkiLCJjaGFyYWN0ZXJDYXJkcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjYXJkIiwiY2hhcmFjdGVyS2V5IiwiaW1nRWxlbWVudCIsImhhbmRsZUZpcnN0SW50ZXJhY3Rpb24iLCJhZGRJbnRlcmFjdGl2ZUxpc3RlbmVyIiwiZWxlbWVudCIsImV2ZW50VHlwZSIsImhhbmRsZXJGbiIsImNhbGwiLCJ0b2dnbGVTZXR0aW5ncyIsInN0YXJ0R2FtZSIsIm9wZW5DaGFyYWN0ZXJNb2RhbCIsImNsb3NlU2V0dGluZ3MiLCJjbG9zZUNoYXJhY3Rlck1vZGFsIiwibmV3Vm9sdW1lIiwiY2xpY2tlZENhcmQiLCJjbG9zZXN0Iiwic2VsZWN0Q2hhcmFjdGVyIiwiY2FyZEVsZW1lbnQiLCJzZWxlY3RlZENoYXJLZXkiLCJpbWdTcmMiLCJkaXNwbGF5ZWROYW1lIiwiY2hhckF0Iiwic2VsZWN0ZWRDYXJkRWxlbWVudEgzIiwib3BlblNldHRpbmdzIiwiZ2FtZUNhbnZhcyJdLCJzb3VyY2VSb290IjoiIn0=